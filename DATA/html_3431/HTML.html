<!DOCTYPE html><html><head><meta charset="utf-8" /><title>Unity 公式チュートリアル「Space Shooter tutorial」をベースに自作ゲームを作る【前編】 - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/yamachan360/items/460ef13dd08118f9bf21" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="kpVolHHBxVbAgWQJw7kSBYIpwN1FjC1IB4Wh71O1KVBafcuJrdBI0M22fs544bOF1VtchPy6j2HJcwpKJbv01w==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta content="@yamachan360" name="twitter:creator" /><meta property="og:type" content="article"><meta property="og:title" content="Unity 公式チュートリアル「Space Shooter tutorial」をベースに自作ゲームを作る【前編】 - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1WVzVwZEhrZzVZV3M1YnlQNDRPQjQ0T2w0NE84NDRPSTQ0T3E0NEtpNDRPcjQ0Q01VM0JoWTJVZ1UyaHZiM1JsY2lCMGRYUnZjbWxoYk9PQWplT0NrdU9EbWVPRHZPT0N1ZU9CcS1pSHF1UzluT09Dc3VPRHZPT0RvT09Da3VTOW5PT0NpLU9Ba09XSmplZTNxT09Ba1EmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT01NCZ0eHQtY2xpcD1lbGxpcHNpcyZ0eHQtYWxpZ249Y2VudGVyJTJDbWlkZGxlJnM9ZDE1MDIxZGVmMGU4NWI3ZjA0YmNlZjAwNjVhZTM5OWE&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RSGxoYldGamFHRnVNell3JnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NDUmdHh0LWFsaWduPXJpZ2h0JTJDYm90dG9tJnM9NjUzMDVjNDZhM2Q2NWU0NmM5NDhlMjA1YzcyNTJkZTU&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=49e4ae7d50b3f3da9753aa3fbd850b08"><meta property="og:description" content="Unity 公式チュートリアル「Space Shooter tutorial」をコードから理解してみる という投稿をしましたが、今回はこれをベースに拡張し、簡易的なゲームエンジン的なものとして汎用化し、それを用いて独自のシューティング..."><meta content="https://qiita.com/yamachan360/items/460ef13dd08118f9bf21" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,Unity,初心者,ゲーム制作" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 1nzh4zz 38fzdi helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-1nzh4zz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 32px;background-color:#FBE69E;color:rgba(0,0,0,0.87);line-height:1.5;font-weight:600;}@media (max-width:770px){.css-1nzh4zz{padding:16px;}}.css-38fzdi{color:#CA832A;margin-right:4px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-6071e0b1-5198-4373-ad8e-0548791f3323"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2Fyamachan360%2Fitems%2F460ef13dd08118f9bf21">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2Fyamachan360%2Fitems%2F460ef13dd08118f9bf21">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-6071e0b1-5198-4373-ad8e-0548791f3323">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2019-05-05T11:32:43.000+09:00","dateModified":"2019-05-11T23:25:57.000+09:00","headline":"Unity 公式チュートリアル「Space Shooter tutorial」をベースに自作ゲームを作る【前編】","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1WVzVwZEhrZzVZV3M1YnlQNDRPQjQ0T2w0NE84NDRPSTQ0T3E0NEtpNDRPcjQ0Q01VM0JoWTJVZ1UyaHZiM1JsY2lCMGRYUnZjbWxoYk9PQWplT0NrdU9EbWVPRHZPT0N1ZU9CcS1pSHF1UzluT09Dc3VPRHZPT0RvT09Da3VTOW5PT0NpLU9Ba09XSmplZTNxT09Ba1EmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT01NCZ0eHQtY2xpcD1lbGxpcHNpcyZ0eHQtYWxpZ249Y2VudGVyJTJDbWlkZGxlJnM9ZDE1MDIxZGVmMGU4NWI3ZjA0YmNlZjAwNjVhZTM5OWE\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RSGxoYldGamFHRnVNell3JnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NDUmdHh0LWFsaWduPXJpZ2h0JTJDYm90dG9tJnM9NjUzMDVjNDZhM2Q2NWU0NmM5NDhlMjA1YzcyNTJkZTU\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=49e4ae7d50b3f3da9753aa3fbd850b08","mainEntityOfPage":"https://qiita.com/yamachan360/items/460ef13dd08118f9bf21","author":{"@type":"Person","address":"Tokyo, Japan","email":null,"identifier":"yamachan360","name":"yamachan360","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F193519%2Fprofile-images%2F1547708105?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=2755ac3d43b35c70e8ef1ac2554050b9","url":"https://qiita.com/yamachan360","description":"Web系開発者。映画,特撮,功夫,酒, ロボ,アニメ,模型,ゲーム, 懐パソ(PC6001, MSX, X68000), JavaScript/NodeJS, Unity, RPGツクール, プチコン, AWS, 開発環境なんでも好き。修行中。\r\n\r\n投稿は全て個人の見解です。\r\nPosts are my own.","memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://increments.connpass.com/event/211948/">【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup</a><a target="_blank" id="header_text_message_2" href="https://increments.connpass.com/event/211948/">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"yamachan360","type":"items","id":"460ef13dd08118f9bf21"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"yamachan360","type":"items","id":"460ef13dd08118f9bf21"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":2,"pos_id":"header_text_message_1","message":"【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"yamachan360","type":"items","id":"460ef13dd08118f9bf21"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":2,"pos_id":"header_text_message_2","message":"【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/yamachan360/items/460ef13dd08118f9bf21","location":"/yamachan360/items/460ef13dd08118f9bf21","scheme":"https","host":"qiita.com","port":null,"pathname":"/yamachan360/items/460ef13dd08118f9bf21","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"hxuUdQEoieGH0pETgkDtl2wSLuLCETaFTcSZ8o76j35P8zdo3TkEZ4rli9Q5GEwXO2Cyu3snlKyDMjJX+PRS+Q==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-503a7720-e396-4362-bffa-900169ee8ad8"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/yamachan360/items/460ef13dd08118f9bf21/likers" class="css-1iupg5d">2</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">1</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/460ef13dd08118f9bf21/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/yamachan360/items/460ef13dd08118f9bf21/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/yamachan360/items/460ef13dd08118f9bf21/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/yamachan360/items/460ef13dd08118f9bf21/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/yamachan360/items/460ef13dd08118f9bf21.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-1nzh4zz"><span class="fa fa-fw fa-warning css-38fzdi"></span><p>More than 1 year has passed since last update.</p></div><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/yamachan360"><img class="css-100alwu eyfquo10" src="https://qiita-image-store.s3.amazonaws.com/0/193519/profile-images/1547708105" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/yamachan360" class="css-10ougpm">@<!-- -->yamachan360</a><div class="css-1ay9vb9"><span><meta content="2019-05-05T02:32:43Z"/><time dateTime="2019-05-11T14:25:57Z" class="css-m19uds">updated at 2019-05-11</time></span></div></div></div></div></div><h1 class="css-cgzq40">Unity 公式チュートリアル「Space Shooter tutorial」をベースに自作ゲームを作る【前編】</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/unity" class="css-4czcte">Unity</a><a href="/tags/%e5%88%9d%e5%bf%83%e8%80%85" class="css-4czcte">初心者</a><a href="/tags/%e3%82%b2%e3%83%bc%e3%83%a0%e5%88%b6%e4%bd%9c" class="css-4czcte">ゲーム制作</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div><p><a href="https://qiita.com/yamachan360/items/3690d4a4de5e6f02b0b9" id="reference-6e1738ffab2cfd9b26e1">Unity 公式チュートリアル「Space Shooter tutorial」をコードから理解してみる</a> という投稿をしましたが、今回はこれをベースに拡張し、簡易的なゲームエンジン的なものとして汎用化し、それを用いて独自のシューティングゲームを作成してみます。</p>

<p>簡単なサンプルをもとに、自分の欲しい機能を考え、なるべく汎用化してコードを拡張して、実装していく感じ。完成したゲームは完全にオリジナルとは言えませんが、各コードは今後、自身のオリジナルゲームを作成していくうえでのコアパーツとして活躍してくれる、んじゃないかと期待しています。</p>

<h1>
<span id="今回のゲーム" class="fragment"></span><a href="#%E4%BB%8A%E5%9B%9E%E3%81%AE%E3%82%B2%E3%83%BC%E3%83%A0"><i class="fa fa-link"></i></a>今回のゲーム</h1>

<p>元となる Unity 公式チュートリアル <a href="https://unity3d.com/jp/learn/tutorials/s/space-shooter-tutorial" rel="nofollow noopener" target="_blank">Space Shooter tutorial</a> は以下でした。<br>
<a href="https://camo.qiitausercontent.com/4820d79a58167cf8c3d3d3f1be4a9012e5f24889/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f36336334323264312d383330662d616565332d626232382d3465663962626464646139612e676966" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F63c422d1-830f-aee3-bb28-4ef9bbddda9a.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=751e4278cbc7840bdf3a6947295449c1" alt="qiita.gif" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/63c422d1-830f-aee3-bb28-4ef9bbddda9a.gif" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F63c422d1-830f-aee3-bb28-4ef9bbddda9a.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=fa5d7bd8f861c7281a96046c7db80c7e 1x" loading="lazy"></a><br>
これを元に、今回作成したゲームは以下になります。<br>
<a href="https://camo.qiitausercontent.com/b441cc8900b3c3e88602569e24239dc2c29f450d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f36323263653530312d666461312d346265392d313738622d3139373532343765636339662e676966" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F622ce501-fda1-4be9-178b-1975247ecc9f.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d3a54be50a0948f59e1da207b052cb68" alt="qiita.gif" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/622ce501-fda1-4be9-178b-1975247ecc9f.gif" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F622ce501-fda1-4be9-178b-1975247ecc9f.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=bc7322dbc85edd5768430b1ee1554ca6 1x" loading="lazy"></a><br>
<a href="http://rinco.jp/unity/sst1/" rel="nofollow noopener" target="_blank">コチラ</a> で実際にプレイ可能です。</p>

<h1>
<span id="システム改善" class="fragment"></span><a href="#%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E6%94%B9%E5%96%84"><i class="fa fa-link"></i></a>システム改善</h1>

<p>さて、サンプルゲームに対して好きに拡張していきましょう。</p>

<h2>
<span id="敵の耐久力を設定したい" class="fragment"></span><a href="#%E6%95%B5%E3%81%AE%E8%80%90%E4%B9%85%E5%8A%9B%E3%82%92%E8%A8%AD%E5%AE%9A%E3%81%97%E3%81%9F%E3%81%84"><i class="fa fa-link"></i></a>敵の耐久力を設定したい</h2>

<p>今のサンプルだと、敵も岩石も自機の弾一発で破壊できてしまいます。オブジェクトごとに耐久力を設定して、硬い敵は何発も撃たないと撃破できないように拡張してみましょう。</p>

<p>敵の破壊などを司っている <code>Done_DestroyByContact.cs</code> は今回の拡張における最重要スクリプトでもあるので、以下に拡張したソースをそのまま掲載しますね。</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">Done_DestroyByContact.cs</span></div>
<div class="highlight"><pre><code><span class="k">public</span> <span class="k">class</span> <span class="nc">Done_DestroyByContact</span> <span class="p">:</span> <span class="n">MonoBehaviour</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">GameObject</span> <span class="n">explosion</span><span class="p">;</span>
    <span class="k">public</span> <span class="n">GameObject</span> <span class="n">playerExplosion</span><span class="p">;</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">scoreValue</span><span class="p">;</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">objectHp</span><span class="p">;</span>               <span class="c1">// 追加</span>
    <span class="k">private</span> <span class="n">Done_GameController</span> <span class="n">gameController</span><span class="p">;</span>
    <span class="k">private</span> <span class="kt">int</span> <span class="n">hp</span><span class="p">;</span>                    <span class="c1">// 追加 (1)</span>
    <span class="k">private</span> <span class="n">Collider</span> <span class="n">lastTriggerEnter</span><span class="p">;</span> <span class="c1">// 追加 (4)</span>

    <span class="k">void</span> <span class="nf">Start</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="n">GameObject</span> <span class="n">gameControllerObject</span> <span class="p">=</span> <span class="n">GameObject</span><span class="p">.</span><span class="nf">FindGameObjectWithTag</span> <span class="p">(</span><span class="s">"GameController"</span><span class="p">);</span>
        <span class="n">hp</span> <span class="p">=</span> <span class="n">objectHp</span><span class="p">;</span>                 <span class="c1">// 追加 (1)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">gameControllerObject</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">gameController</span> <span class="p">=</span> <span class="n">gameControllerObject</span><span class="p">.</span><span class="n">GetComponent</span> <span class="p">&lt;</span><span class="n">Done_GameController</span><span class="p">&gt;();</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">gameController</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span> <span class="p">(</span><span class="s">"Cannot find 'GameController' script"</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">void</span> <span class="nf">OnTriggerEnter</span> <span class="p">(</span><span class="n">Collider</span> <span class="n">other</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">other</span><span class="p">.</span><span class="n">tag</span> <span class="p">==</span> <span class="s">"Enemy"</span> <span class="p">||</span> <span class="n">other</span><span class="p">.</span><span class="n">tag</span> <span class="p">==</span> <span class="s">"Boundary"</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">other</span><span class="p">.</span><span class="n">tag</span> <span class="p">==</span> <span class="s">"Player"</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nf">Instantiate</span><span class="p">(</span><span class="n">playerExplosion</span><span class="p">,</span> <span class="n">other</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="n">position</span><span class="p">,</span> <span class="n">other</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="n">rotation</span><span class="p">);</span>
            <span class="n">gameController</span><span class="p">.</span><span class="nf">GameOver</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">lastTriggerEnter</span> <span class="p">!=</span> <span class="n">other</span><span class="p">)</span>     <span class="c1">// 追加 (4)</span>
        <span class="p">{</span>                                  <span class="c1">// 追加 (4)</span>
            <span class="n">hp</span><span class="p">--;</span>                          <span class="c1">// 追加 (2)</span>
            <span class="n">lastTriggerEnter</span> <span class="p">=</span> <span class="n">other</span><span class="p">;</span>      <span class="c1">// 追加 (4)</span>
        <span class="p">}</span>                                  <span class="c1">// 追加 (4)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">hp</span> <span class="p">&lt;=</span> <span class="m">0</span><span class="p">)</span>                       <span class="c1">// 追加 (3)</span>
        <span class="p">{</span>                                  <span class="c1">// 追加 (3)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">explosion</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="nf">Instantiate</span><span class="p">(</span><span class="n">explosion</span><span class="p">,</span> <span class="n">transform</span><span class="p">.</span><span class="n">position</span><span class="p">,</span> <span class="n">transform</span><span class="p">.</span><span class="n">rotation</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="n">gameController</span><span class="p">.</span><span class="nf">AddScore</span><span class="p">(</span><span class="n">scoreValue</span><span class="p">);</span>
            <span class="nf">Destroy</span><span class="p">(</span><span class="n">gameObject</span><span class="p">);</span>
        <span class="p">}</span>                                  <span class="c1">// 追加 (3)</span>
        <span class="nf">Destroy</span><span class="p">(</span><span class="n">other</span><span class="p">.</span><span class="n">gameObject</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>まず <code>public int objectHp</code> の部分で、対象の耐久力を設定する入力欄を用意します。このスクリプトをアタッチした岩石の PreFab を見ると、以下のように耐久力の設定欄が追加されていることがわかります。<br>
<a href="https://camo.qiitausercontent.com/70fadab935cbde6c65ddddc089bf9a0e6fa57a6c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f31643334303739642d653731302d343734342d636635632d6263366662313630643435372e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F1d34079d-e710-4744-cf5c-bc6fb160d457.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=a63cbedc92b0be9dbba0c7781516e34b" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/1d34079d-e710-4744-cf5c-bc6fb160d457.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F1d34079d-e710-4744-cf5c-bc6fb160d457.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=8a8cdf23b38e95868d980774b418c940 1x" loading="lazy"></a><br>
初期値は0ですので、<code>Done_Asteroid 01</code> と <code>Done_Asteroid 02</code> には 2 の値を設定します。これは自機の弾が2発で破壊できる、ということを意味しています。</p>

<p><code>Done_Asteroid 03</code> には 4 の耐久力を設定し、ついでに表示サイズを1.5倍に拡大し、スコア値を倍の 20 に変更してみましょう。この岩石は他よりちょっと大きく、4発撃たないと破壊できないが、スコアが高い、という変化が生まれました。<br>
<a href="https://camo.qiitausercontent.com/7ad80f3974f794ee02668b316ba3b6ef074ee65b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f61623736303263302d643930622d336632642d326235642d3937336564313366663830342e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fab7602c0-d90b-3f2d-2b5d-973ed13ff804.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=3430f91a930b3e449df0ff17bdafee1d" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/ab7602c0-d90b-3f2d-2b5d-973ed13ff804.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fab7602c0-d90b-3f2d-2b5d-973ed13ff804.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=ac10a6ec0dc94df762acf1f551d12379 1x" loading="lazy"></a></p>

<p>設定された耐久値(Object Hp)は、<code>Start()</code> 関数でインスタンス変数 <code>hp</code> にコピーされ、これがこの対象の残り耐久力を管理する変数です。(1)の部分ですね。</p>

<p>これまでは「弾に当たったら破壊」だったのが、「弾に当たったら <code>hp</code> から1を引いて、0 以下になったら破壊」するように処理を書き換えます。(2) の部分で hp の値を減らしていて、(3) の部分の if 文が 0 以下になったかどうかを判断するための条件式です。</p>

<h3>
<span id="追加のコード説明" class="fragment"></span><a href="#%E8%BF%BD%E5%8A%A0%E3%81%AE%E3%82%B3%E3%83%BC%E3%83%89%E8%AA%AC%E6%98%8E"><i class="fa fa-link"></i></a>追加のコード説明</h3>

<p>この状態で実際にゲームをプレイしたところ、なぜか「耐久力が2ある岩石が、弾1発で破壊されることがある」という問題に遭遇しました。</p>

<p>調べてみると「弾が岩石に当たった瞬間に、<code>OnTriggerEnter</code> 関数が複数回呼ばれてしまう」というのがこの問題の原因でした。理由はよくわかりません。</p>

<p>そこで同じ弾が2度ヒットしないよう、<code>lastTriggerEnter</code> 変数を導入してみました。これは最後に衝突した対象を、保持しておくための内部変数です。(4)の部分ですね。</p>

<p>同じ衝突相手から<code>OnTriggerEnter</code> 関数が2度呼ばれた場合、1度目は普通に対応しますが、その相手を <code>lastTriggerEnter</code> 変数で覚えておきます。2度目の呼び出しでは、同じ相手と分かりますので、処理をスキップすれば良いのです。</p>

<h2>
<span id="敵の種類を増やしたい" class="fragment"></span><a href="#%E6%95%B5%E3%81%AE%E7%A8%AE%E9%A1%9E%E3%82%92%E5%A2%97%E3%82%84%E3%81%97%E3%81%9F%E3%81%84"><i class="fa fa-link"></i></a>敵の種類を増やしたい</h2>

<p>今度は敵の種類を増やしてみます。まずは動きが単純な、高速で真っすぐに進むミサイルを追加してみましょう。</p>

<p>Asset Store を探して、<a href="https://assetstore.unity.com/packages/3d/vehicles/space/space-missiles-99731" rel="nofollow noopener" target="_blank">Space Missiles</a> という無料アセットを発見しました。このアセットを早速、ダウンロードしてプロジェクトに追加します。<br>
<a href="https://camo.qiitausercontent.com/e98c12c38e41568dbada7a24ad5c76ff63263b8c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f65303932363465642d363936352d393432302d366335632d3965316230396161343330382e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fe09264ed-6965-9420-6c5c-9e1b09aa4308.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=639d80071931557adb26eb84a299d48e" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/e09264ed-6965-9420-6c5c-9e1b09aa4308.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fe09264ed-6965-9420-6c5c-9e1b09aa4308.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=063b700fbc51a2021ed4b095446d8132 1x" loading="lazy"></a><br>
追加すると Missiles というフォルダが追加されますので、PreFabs にある Missile Cruise を使ってみましょう。<br>
<a href="https://camo.qiitausercontent.com/e869f86fcb47a11a9b32a6b933d6ffb61c1eecd9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f61663065623130342d393162302d323361662d313839392d3264643831303934663436312e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Faf0eb104-91b0-23af-1899-2dd81094f461.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=f75964f4489b3abc16ba896f19f4bcd7" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/af0eb104-91b0-23af-1899-2dd81094f461.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Faf0eb104-91b0-23af-1899-2dd81094f461.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=c566c1969fd17adacf7bec98dfaf42bc 1x" loading="lazy"></a><br>
まずは Game Controller のインスペクターにある、Hazards のリストを1つ増やし、最後の要素としてこの PreFab を追加します。<br>
<a href="https://camo.qiitausercontent.com/0f98651d15e601ef72f6c96b3919b5630f264565/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f32323762346466332d323165352d643336332d316262622d3835363439663731363664632e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F227b4df3-21e5-d363-1bbb-85649f7166dc.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=5c4cb99940bed562578345612de520c5" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/227b4df3-21e5-d363-1bbb-85649f7166dc.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F227b4df3-21e5-d363-1bbb-85649f7166dc.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=68935c9eace65c3a83291a0b5db41c02 1x" loading="lazy"></a><br>
そして PreFab である Missile Cruise に必要なコンポーネントを追加していきます。まず追加するのは、動作と衝突検出のためのリジットボディとボックスコライダー。リジットボディは「重力の使用」を外しておきます。あと少し大きい気がするので、0.8倍に縮小しておきましょう。あと、タグも Enemy にセットしておきます。<br>
<a href="https://camo.qiitausercontent.com/a16a5daa0ce36407839aff10f6ebbccf0f8330a0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f66393662633334612d343366312d386234322d353538322d3631653837313032363936302e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Ff96bc34a-43f1-8b42-5582-61e871026960.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=0c38d9499f0fd7d4e29ef2c5c03091be" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/f96bc34a-43f1-8b42-5582-61e871026960.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Ff96bc34a-43f1-8b42-5582-61e871026960.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=15dd1113b7cc5d4e2da9e557db38d606 1x" loading="lazy"></a><br>
さて、他の敵と同じように、スクリプトも追加しておきましょう。このへんはお好みですが、速度は岩石の倍、耐久度は最低の1としておきました。<br>
<a href="https://camo.qiitausercontent.com/e3efdb783c9c299b247b778337e67cb5c8ef5292/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f35366232373932642d363363382d656434652d313164332d3334656133363134613461372e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F56b2792d-63c8-ed4e-11d3-34ea3614a4a7.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=e318c3f38fb71c35983cf76afd9da403" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/56b2792d-63c8-ed4e-11d3-34ea3614a4a7.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F56b2792d-63c8-ed4e-11d3-34ea3614a4a7.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=3ce9989eba29b1af6c6ad52f42afda1a 1x" loading="lazy"></a><br>
さて、テストプレイをしてみましょう。問題なく動作はしている！のですが… ミサイルが逆向きのまま落ちてきますね… かなり間抜けな感じです。<br>
<a href="https://camo.qiitausercontent.com/ec5f38b994e43d0b90bfa2408da6c22ef47d9016/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f38663266643035312d333231302d316637652d656161652d3137613738633536396433332e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F8f2fd051-3210-1f7e-eaae-17a78c569d33.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=f5f51a564f75adc72fc0f2684c7de3be" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/8f2fd051-3210-1f7e-eaae-17a78c569d33.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F8f2fd051-3210-1f7e-eaae-17a78c569d33.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=797e5d14081f694bad5d534f76748832 1x" loading="lazy"></a></p>

<h3>
<span id="向きを直すにはどうしたら良いか" class="fragment"></span><a href="#%E5%90%91%E3%81%8D%E3%82%92%E7%9B%B4%E3%81%99%E3%81%AB%E3%81%AF%E3%81%A9%E3%81%86%E3%81%97%E3%81%9F%E3%82%89%E8%89%AF%E3%81%84%E3%81%8B"><i class="fa fa-link"></i></a>向きを直すにはどうしたら良いか</h3>

<p>一番簡単なのは、このミサイルの PreFab 自体を修正して、向きを変えてあげることですね。でも今回は、コードでなんとか対応してみましょう。</p>

<p>今回の向きの原因と考えられるのは、Done_GameController.cs にある SpawnWaves 関数で、敵オブジェクトを生成している部分です。向きを固定しちゃってますね。</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">Done_GameController.cs</span></div>
<div class="highlight"><pre><code>    <span class="n">GameObject</span> <span class="n">hazard</span> <span class="p">=</span> <span class="n">hazards</span><span class="p">[</span><span class="n">Random</span><span class="p">.</span><span class="nf">Range</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="n">hazards</span><span class="p">.</span><span class="n">Length</span><span class="p">)];</span>
    <span class="n">Vector3</span> <span class="n">spawnPosition</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Vector3</span><span class="p">(</span><span class="n">Random</span><span class="p">.</span><span class="nf">Range</span><span class="p">(-</span><span class="n">spawnValues</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">spawnValues</span><span class="p">.</span><span class="n">x</span><span class="p">),</span> <span class="n">spawnValues</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">spawnValues</span><span class="p">.</span><span class="n">z</span><span class="p">);</span>
    <span class="n">Quaternion</span> <span class="n">spawnRotation</span> <span class="p">=</span> <span class="n">Quaternion</span><span class="p">.</span><span class="n">identity</span><span class="p">;</span> <span class="c1">// ココ</span>
    <span class="nf">Instantiate</span><span class="p">(</span><span class="n">hazard</span><span class="p">,</span> <span class="n">spawnPosition</span><span class="p">,</span> <span class="n">spawnRotation</span><span class="p">);</span>
</code></pre></div>
</div>

<p>が、今回は敵の動作を初期化する <code>Done_Mover.cs</code> のほうを修正して対応してみましょう。以下の2行を追加するだけです。</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">Done_Mover.cs</span></div>
<div class="highlight"><pre><code><span class="k">public</span> <span class="k">class</span> <span class="nc">Done_Mover</span> <span class="p">:</span> <span class="n">MonoBehaviour</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">float</span> <span class="n">speed</span><span class="p">;</span>
    <span class="k">public</span> <span class="n">Vector3</span> <span class="n">turn</span><span class="p">;</span> <span class="c1">// 追加</span>

    <span class="k">void</span> <span class="nf">Start</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Rigidbody</span><span class="p">&gt;().</span><span class="n">velocity</span> <span class="p">=</span> <span class="n">transform</span><span class="p">.</span><span class="n">forward</span> <span class="p">*</span> <span class="n">speed</span><span class="p">;</span>
        <span class="n">transform</span><span class="p">.</span><span class="nf">Rotate</span><span class="p">(</span><span class="n">turn</span><span class="p">);</span> <span class="c1">// 追加</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>敵の初期化の際に、向きが指定されていれば、その方向に向きを変えるだけ、で対応しています。リジットボディに移動方向を指定している <strong>後に</strong> ロジックを追加したのがポイント。前にすると移動方向もその方向の影響を受けてしまい面倒です。</p>

<p>ミサイルの PreFab のインスペクターで Y軸 を 180 度回転するように指定して、ミサイルの向きを変えれば ok です。<br>
<a href="https://camo.qiitausercontent.com/93b5180a0251498e96fca09a9d6d7d368f8075c0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f37373238386435322d353837372d373238332d616564362d6436653133366665313234622e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F77288d52-5877-7283-aed6-d6e136fe124b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=202b27a1c3fe0f5aee9d907bc09fa90b" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/77288d52-5877-7283-aed6-d6e136fe124b.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F77288d52-5877-7283-aed6-d6e136fe124b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=79411f5f69010f0e71f44162f5ad5a8e 1x" loading="lazy"></a><br>
さてこれで、岩石の種類も増えて、敵ミサイルも追加されましたね。真っすぐ進んでくる敵は硬いのあり、速いのありで、もうお腹いっぱい。必要十分な感じでしょうか。</p>

<h3>
<span id="ミサイルにバックファイアを追加してみる" class="fragment"></span><a href="#%E3%83%9F%E3%82%B5%E3%82%A4%E3%83%AB%E3%81%AB%E3%83%90%E3%83%83%E3%82%AF%E3%83%95%E3%82%A1%E3%82%A4%E3%82%A2%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B"><i class="fa fa-link"></i></a>ミサイルにバックファイアを追加してみる</h3>

<p>PreFab は基本、単なるモデルですから自由に改変可能です。なので既存の敵から Enemy Engines をコピペして、ミサイルの後ろに配置してみました。ちょっと短いですが、同じエンジンを積んでいる感が出るかな？などと。<br>
<a href="https://camo.qiitausercontent.com/fd70037102a591ea784b418a4e6d99c3da08145c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f31336238383730312d386564382d643037642d386461662d6164366666663934613132392e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F13b88701-8ed8-d07d-8daf-ad6fff94a129.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=b9766884d64e00773a5a1b4ad7c226dc" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/13b88701-8ed8-d07d-8daf-ad6fff94a129.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F13b88701-8ed8-d07d-8daf-ad6fff94a129.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=f46a70adc81f16b80568ef018ba2aa24 1x" loading="lazy"></a><br>
うん、良い感じになりました。<br>
<a href="https://camo.qiitausercontent.com/f9837efe5ae262a1ce3686a1a03e97aca3a3146f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f62336439393239652d383030632d643236312d646366372d6430336632303538323937372e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fb3d9929e-800c-d261-dcf7-d03f20582977.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=4b8700e89e0f50abc3261e6566abc525" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/b3d9929e-800c-d261-dcf7-d03f20582977.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fb3d9929e-800c-d261-dcf7-d03f20582977.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=e5f0a5080836fa59c1ccf6f40a522479 1x" loading="lazy"></a><br>
寄せ集めの素材でも、何か共通点をもたせると意外としっくりきたりします。色とか、共通パーツなどなど。お手軽でわりと効果的な修正だったりしますので、いろいろ試してみてください。</p>

<h2>
<span id="更に別の敵キャラを追加してみる" class="fragment"></span><a href="#%E6%9B%B4%E3%81%AB%E5%88%A5%E3%81%AE%E6%95%B5%E3%82%AD%E3%83%A3%E3%83%A9%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B"><i class="fa fa-link"></i></a>更に別の敵キャラを追加してみる</h2>

<p>Asset Store をまた検索して、無料アセット <a href="https://assetstore.unity.com/packages/3d/low-poly-combat-drone-82234" rel="nofollow noopener" target="_blank">Low poly combat drone</a> がありましたので、これも強めの敵キャラとして追加してみましょう。<br>
<a href="https://camo.qiitausercontent.com/1c6a885fdc2feaf39025b8321a5f214c9ffbfcc7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f31326364326337652d376366642d376239392d663735612d6532306239666464656634662e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F12cd2c7e-7cfd-7b99-f75a-e20b9fddef4f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=550b75adaa47373e16c6924bf91c47ab" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/12cd2c7e-7cfd-7b99-f75a-e20b9fddef4f.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F12cd2c7e-7cfd-7b99-f75a-e20b9fddef4f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=94d9341a1a4df17dff4e69c3b255e196 1x" loading="lazy"></a><br>
こちらのアセットはモデルファイルのみのようなので、いったんヒエラルキーに追加し、サイズなど調整した後、PreFab として保存しておきます。<br>
<a href="https://camo.qiitausercontent.com/872f4d96dc906c86429ad1fbe3f5bfbc1124de83/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f66396464316162322d373731362d353762362d616665392d3665656238373239356366662e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Ff9dd1ab2-7716-57b6-afe9-6eeb87295cff.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=296751afef7a69f31c5c863d44c0ca0d" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/f9dd1ab2-7716-57b6-afe9-6eeb87295cff.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Ff9dd1ab2-7716-57b6-afe9-6eeb87295cff.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=45087fd8228e7a3ad8abe8380f17a18f 1x" loading="lazy"></a><br>
例によってエンジンを今度は二つ、コピペしておきましょう。<br>
<a href="https://camo.qiitausercontent.com/77dbd8ba7f844b8e880c4de0ab3b1cdb2c073998/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f36313565623765642d333066322d666538662d653565652d6135313932653633653064632e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F615eb7ed-30f2-fe8f-e5ee-a5192e63e0dc.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=0904383a1c4ad5d9982159e924dc0ea9" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/615eb7ed-30f2-fe8f-e5ee-a5192e63e0dc.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F615eb7ed-30f2-fe8f-e5ee-a5192e63e0dc.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=c137b8fb02c395d0c2a8562c33f96a91 1x" loading="lazy"></a><br>
そして Game Controller の <code>Hazards</code> のサイズを1増やして、この Drone の PreFab を追加してあげます。もう慣れたもの、って感じですよね。<br>
<a href="https://camo.qiitausercontent.com/6efef1c03e90bba33e791bee0f100841b1e862c2/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f37343334656331362d626162302d373962652d316234312d3166396237636663343166612e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F7434ec16-bab0-79be-1b41-1f9b7cfc41fa.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d2d06828942ddc459f094b3999065129" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/7434ec16-bab0-79be-1b41-1f9b7cfc41fa.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F7434ec16-bab0-79be-1b41-1f9b7cfc41fa.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=37b81d8e0067205472450e21713e86ea 1x" loading="lazy"></a><br>
そしてメッシュコライダー(複雑な形状なので)のコンポーネントを追加し、トリガーに設定しておきます。またリッジボディのコンポーネントを追加し、重力の使用をOFFしておきます。<br>
<a href="https://camo.qiitausercontent.com/bc2838dab5126881b7c81faff55ba163d1d31aba/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f66396330613837342d633635352d666461622d653537352d3931666334333439636235302e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Ff9c0a874-c655-fdab-e575-91fc4349cb50.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=2acc84d178efdd2498bd540b5b1e7d83" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/f9c0a874-c655-fdab-e575-91fc4349cb50.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Ff9c0a874-c655-fdab-e575-91fc4349cb50.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=b39d846beef57b553a894620047c263e 1x" loading="lazy"></a><br>
またミサイルと同様に基本的な2つのスクリプトも追加しておきましょう。速度はかなり遅く、そして耐久力も10と高くしてみました。スコアは高めの50。中ボス的なイメージです。<br>
<a href="https://camo.qiitausercontent.com/402547871e700927375b9193b828502545d2d9ab/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f66666233396266322d663964332d316634352d383335372d3635326261613961393762662e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fffb39bf2-f9d3-1f45-8357-652baa9a97bf.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=943014399acb6c353aa28f835c476f5f" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/ffb39bf2-f9d3-1f45-8357-652baa9a97bf.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fffb39bf2-f9d3-1f45-8357-652baa9a97bf.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=c05ffc37213c4b186bf44df7dd2048e9 1x" loading="lazy"></a><br>
これだけでも、硬い大きな敵がゆっくりと向かってくることになり、かなり迫力があります。後は動作や攻撃のロジック設定だけ、ですね。</p>

<h3>
<span id="敵に弾を撃たせる" class="fragment"></span><a href="#%E6%95%B5%E3%81%AB%E5%BC%BE%E3%82%92%E6%92%83%E3%81%9F%E3%81%9B%E3%82%8B"><i class="fa fa-link"></i></a>敵に弾を撃たせる</h3>

<p>ここで、元からある <code>Done_Enemy_Ship</code> PreFab に設定された、他のスクリプトを再確認しておきましょう。<br>
<a href="https://camo.qiitausercontent.com/92c93ac628c7dfb2ffa62c50d6d91b26c83788d2/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f37353938356230342d346230312d616632392d346561382d3534336366663436663531662e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F75985b04-4b01-af29-4ea8-543cff46f51f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=63fa7e7f225eb93e2103decf07b65fb0" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/75985b04-4b01-af29-4ea8-543cff46f51f.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F75985b04-4b01-af29-4ea8-543cff46f51f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=60afd6b4d0a916caa870b97ffaf5b7c2 1x" loading="lazy"></a><br>
弾を発射する <code>Done_WeaponController</code> スクリプトと、横移動する <code>Done_EvasiveManeuver</code> スクリプトが利用されています。後者は設定できる項目が多くて、汎用性が高そうですね。</p>

<p>さて、まずは弾を発射させてみましょう。今回の敵は大きいので、同時に2発の弾を発射するように拡張したいところです。</p>

<p>というわけで、<code>Done_WeaponController</code> を拡張してみました。元々の弾を1発撃つ部分はそのままに、サブショットを配列で登録できるようにしてあります。今回はメインと同じ弾をサブショットとして1つ登録することにより、2発の弾を同時に発射させてみます。</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">Done_WeaponController.cs</span></div>
<div class="highlight"><pre><code><span class="k">public</span> <span class="k">class</span> <span class="nc">Done_WeaponController</span> <span class="p">:</span> <span class="n">MonoBehaviour</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">GameObject</span> <span class="n">shot</span><span class="p">;</span>
    <span class="k">public</span> <span class="n">Transform</span> <span class="n">shotSpawn</span><span class="p">;</span>
    <span class="k">public</span> <span class="n">GameObject</span> <span class="n">subShot</span><span class="p">;</span>       <span class="c1">// 追加</span>
    <span class="k">public</span> <span class="n">Transform</span><span class="p">[]</span> <span class="n">subShotSpawn</span><span class="p">;</span> <span class="c1">// 追加</span>
    <span class="k">public</span> <span class="kt">float</span> <span class="n">fireRate</span><span class="p">;</span>
    <span class="k">public</span> <span class="kt">float</span> <span class="n">delay</span><span class="p">;</span>

    <span class="k">void</span> <span class="nf">Start</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="nf">InvokeRepeating</span> <span class="p">(</span><span class="s">"Fire"</span><span class="p">,</span> <span class="n">delay</span><span class="p">,</span> <span class="n">fireRate</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">void</span> <span class="nf">Fire</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="nf">Instantiate</span><span class="p">(</span><span class="n">shot</span><span class="p">,</span> <span class="n">shotSpawn</span><span class="p">.</span><span class="n">position</span><span class="p">,</span> <span class="n">shotSpawn</span><span class="p">.</span><span class="n">rotation</span><span class="p">);</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">subShotSpawn</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span> <span class="c1">// 追加</span>
        <span class="p">{</span>                                             <span class="c1">// 追加</span>
            <span class="nf">Instantiate</span><span class="p">(</span><span class="n">subShot</span><span class="p">,</span> <span class="n">subShotSpawn</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">position</span><span class="p">,</span> <span class="n">subShotSpawn</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">rotation</span><span class="p">);</span> <span class="c1">// 追加</span>
        <span class="p">}</span>                                             <span class="c1">// 追加</span>
        <span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">AudioSource</span><span class="p">&gt;().</span><span class="nf">Play</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>以下が実際のインスペクター上の設定になります。<code>Shot</code> と同様に <code>Sub shot</code> の設定欄が追加され、設定されているのがわかります。また発射間隔は既存の敵より間をあけています。<br>
<a href="https://camo.qiitausercontent.com/8f8778caec69ea0134c6c283746d154633082a37/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f30626166633831322d303932372d353535352d633463312d6434623130633862393562302e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F0bafc812-0927-5555-c4c1-d4b10c8b95b0.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=e767fb582a8cf8a84110d649a3a1b487" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/0bafc812-0927-5555-c4c1-d4b10c8b95b0.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F0bafc812-0927-5555-c4c1-d4b10c8b95b0.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=21579c949ecc0f632e349193f6b7a9e8 1x" loading="lazy"></a><br>
そして弾の発射位置と方向を示すオブジェクトは <code>Shot Spawn</code> と <code>Sub Shot Spawns</code> に指定されていますが、Pre Fab 上では以下のような位置に配置してあります。<br>
<a href="https://camo.qiitausercontent.com/b7bfb47e01b80e219cb61f9d0f1ed6dcf34d6532/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f33616332396633652d333763632d373263372d616539382d3239336464386335353736382e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F3ac29f3e-37cc-72c7-ae98-293dd8c55768.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=9fb26c7386d470525f6dc801faeda769" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/3ac29f3e-37cc-72c7-ae98-293dd8c55768.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F3ac29f3e-37cc-72c7-ae98-293dd8c55768.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=c030f3143d69b7c10230d83eee9a479d 1x" loading="lazy"></a><br>
この弾の発射位置を示すオブジェクトですが、Y軸方向に 10度 ずつ回転させ、わずかに外向きに開かせているのがポイントです。これにより、発射される2つの弾が少し広がって発射される感じになります。こんな感じ。<br>
<a href="https://camo.qiitausercontent.com/fd81026269eb1c96c507ee258b35a6486684a725/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f30363435363435302d306339632d356361392d666337612d3337376431393634633264332e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F06456450-0c9c-5ca9-fc7a-377d1964c2d3.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=fab12ca4dbd94acd31c97d9df3e10978" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/06456450-0c9c-5ca9-fc7a-377d1964c2d3.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F06456450-0c9c-5ca9-fc7a-377d1964c2d3.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=8ad0772023d5bb958ea996d1a3360048 1x" loading="lazy"></a><br>
硬い敵ですので、連射で倒せるよう正面が安全地帯にしてある、という感じでしょうか。</p>

<p>元のサンプルの設計が優れていて、こういった弾を発射する位置は、専用のオブジェクトを用意してコードから参照したほうが、わかりやすいですし、修正も容易です。今回の改造も、そういった長所を生かしつつ進めています。</p>

<h3>
<span id="敵の動作ロジックを設定してみる" class="fragment"></span><a href="#%E6%95%B5%E3%81%AE%E5%8B%95%E4%BD%9C%E3%83%AD%E3%82%B8%E3%83%83%E3%82%AF%E3%82%92%E8%A8%AD%E5%AE%9A%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B"><i class="fa fa-link"></i></a>敵の動作ロジックを設定してみる</h3>

<p>さて、引き続き敵の動きを設定していきましょう。幸いなことに <code>Done_EvasiveManeuver</code> スクリプトがわりと汎用的なので、こちらは設定値の変更で対応したいとおもいます。</p>

<p>実際に動かしつつ、以下のような値を設定してみました。ちょっとモッサリとした動きになっています。<br>
<a href="https://camo.qiitausercontent.com/fe23acd926388081bcc552ecd700e3cf1e2cc951/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f64313436613035662d643661642d356437622d303534622d3864356133363535373936372e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fd146a05f-d6ad-5d7b-054b-8d5a36557967.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=5885354fd05f5490983a459df08e3678" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/d146a05f-d6ad-5d7b-054b-8d5a36557967.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fd146a05f-d6ad-5d7b-054b-8d5a36557967.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=03c3b7fa81af8af8f5eda785a8b79979 1x" loading="lazy"></a></p>

<p>と、ここで問題が発生しました。横移動したこの敵キャラが、上下逆に戻ってしまうのです。<a href="#%E5%90%91%E3%81%8D%E3%82%92%E7%9B%B4%E3%81%99%E3%81%AB%E3%81%AF%E3%81%A9%E3%81%86%E3%81%97%E3%81%9F%E3%82%89%E8%89%AF%E3%81%84%E3%81%8B">向きを直すにはどうしたら良いか</a> でお手軽に修正したモデルの向きの問題が、横移動のロジック(の傾け)でリセットされてしまうのが原因のようです。</p>

<p>というわけで、<code>Done_EvasiveManeuver</code> を以下のように修正し、オブジェクトの向きを維持しつつ移動(傾け)を実行するようにしてみました。</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">Done_EvasiveManeuver.cs</span></div>
<div class="highlight"><pre><code>    <span class="k">private</span> <span class="n">Vector3</span> <span class="n">turn</span><span class="p">;</span> <span class="c1">// 追加</span>

    <span class="k">void</span> <span class="nf">Start</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="n">currentSpeed</span> <span class="p">=</span> <span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Rigidbody</span><span class="p">&gt;().</span><span class="n">velocity</span><span class="p">.</span><span class="n">z</span><span class="p">;</span>
        <span class="n">turn</span> <span class="p">=</span> <span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Done_Mover</span><span class="p">&gt;().</span><span class="n">turn</span><span class="p">;</span> <span class="c1">// 追加</span>
        <span class="nf">StartCoroutine</span><span class="p">(</span><span class="nf">Evade</span><span class="p">());</span>
    <span class="p">}</span>

    <span class="k">void</span> <span class="nf">FixedUpdate</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="kt">float</span> <span class="n">newManeuver</span> <span class="p">=</span> <span class="n">Mathf</span><span class="p">.</span><span class="nf">MoveTowards</span> <span class="p">(</span><span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Rigidbody</span><span class="p">&gt;().</span><span class="n">velocity</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">targetManeuver</span><span class="p">,</span> <span class="n">smoothing</span> <span class="p">*</span> <span class="n">Time</span><span class="p">.</span><span class="n">deltaTime</span><span class="p">);</span>
        <span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Rigidbody</span><span class="p">&gt;().</span><span class="n">velocity</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Vector3</span> <span class="p">(</span><span class="n">newManeuver</span><span class="p">,</span> <span class="m">0.0f</span><span class="p">,</span> <span class="n">currentSpeed</span><span class="p">);</span>
        <span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Rigidbody</span><span class="p">&gt;().</span><span class="n">position</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Vector3</span>
        <span class="p">(</span>
            <span class="n">Mathf</span><span class="p">.</span><span class="nf">Clamp</span><span class="p">(</span><span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Rigidbody</span><span class="p">&gt;().</span><span class="n">position</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">boundary</span><span class="p">.</span><span class="n">xMin</span><span class="p">,</span> <span class="n">boundary</span><span class="p">.</span><span class="n">xMax</span><span class="p">),</span> 
            <span class="m">0.0f</span><span class="p">,</span> 
            <span class="n">Mathf</span><span class="p">.</span><span class="nf">Clamp</span><span class="p">(</span><span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Rigidbody</span><span class="p">&gt;().</span><span class="n">position</span><span class="p">.</span><span class="n">z</span><span class="p">,</span> <span class="n">boundary</span><span class="p">.</span><span class="n">zMin</span><span class="p">,</span> <span class="n">boundary</span><span class="p">.</span><span class="n">zMax</span><span class="p">)</span>
        <span class="p">);</span>
        <span class="kt">float</span> <span class="n">f</span> <span class="p">=</span> <span class="p">(</span><span class="m">90f</span> <span class="p">&lt;</span> <span class="n">turn</span><span class="p">.</span><span class="n">x</span> <span class="p">&amp;&amp;</span> <span class="n">turn</span><span class="p">.</span><span class="n">x</span> <span class="p">&lt;</span> <span class="m">270f</span> <span class="p">?</span> <span class="m">1f</span> <span class="p">:</span> <span class="p">-</span><span class="m">1f</span><span class="p">)</span> <span class="p">*</span> <span class="p">(</span><span class="m">90f</span> <span class="p">&lt;</span> <span class="n">turn</span><span class="p">.</span><span class="n">y</span> <span class="p">&amp;&amp;</span> <span class="n">turn</span><span class="p">.</span><span class="n">y</span> <span class="p">&lt;</span> <span class="m">270f</span> <span class="p">?</span> <span class="m">1f</span> <span class="p">:</span> <span class="p">-</span><span class="m">1f</span><span class="p">)</span> <span class="p">*</span> <span class="p">(</span><span class="m">90f</span> <span class="p">&lt;</span> <span class="n">turn</span><span class="p">.</span><span class="n">z</span> <span class="p">&amp;&amp;</span> <span class="n">turn</span><span class="p">.</span><span class="n">z</span> <span class="p">&lt;</span> <span class="m">270f</span> <span class="p">?</span> <span class="m">1f</span> <span class="p">:</span> <span class="p">-</span><span class="m">1f</span><span class="p">);</span> <span class="c1">// 追加</span>
        <span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Rigidbody</span><span class="p">&gt;().</span><span class="n">rotation</span> <span class="p">=</span> <span class="n">Quaternion</span><span class="p">.</span><span class="nf">Euler</span> <span class="p">(</span><span class="n">turn</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">turn</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">turn</span><span class="p">.</span><span class="n">z</span> <span class="p">+</span> <span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Rigidbody</span><span class="p">&gt;().</span><span class="n">velocity</span><span class="p">.</span><span class="n">x</span> <span class="p">*</span> <span class="n">tilt</span> <span class="p">*</span> <span class="n">f</span><span class="p">);</span> <span class="c1">// 修正</span>
    <span class="p">}</span>
</code></pre></div>
</div>

<p>さて、これで硬くて遅い、弾を多く撃つキャラが追加できました。ゲームの雰囲気も、ゲーム性も、だいぶ変化があったと思います。</p>

<h2>
<span id="赤いライバル機も欲しい" class="fragment"></span><a href="#%E8%B5%A4%E3%81%84%E3%83%A9%E3%82%A4%E3%83%90%E3%83%AB%E6%A9%9F%E3%82%82%E6%AC%B2%E3%81%97%E3%81%84"><i class="fa fa-link"></i></a>赤いライバル機も欲しい</h2>

<p>今回の Assets のなかを眺めていたら、標準の敵キャラの赤いバージョンのテクスチャが用意されていることを発見！さっそく利用してみましょう。<br>
<a href="https://camo.qiitausercontent.com/169c09bebe6ef221b9e976a0f7e16e2115c2b9dd/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f62636664353463392d383936372d346435632d323665662d6330613334306237363332352e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fbcfd54c9-8967-4d5c-26ef-c0a340b76325.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=a41d00c843bb1fcfda8fe62ff1080170" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/bcfd54c9-8967-4d5c-26ef-c0a340b76325.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fbcfd54c9-8967-4d5c-26ef-c0a340b76325.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=91488aab29a2e755c01ebe6518206b67 1x" loading="lazy"></a><br>
Materials にある <code>vehicle_enemyShip_metal_mat</code> を複製し(編集メニューから「複製」を選ぶか、Ctrl+D キー)、<code>vehicle_enemyShip_metal_mat 1</code> というマテリアルが作成されるので、<code>vehicle_enemyShip_metal_mat Red</code> とリネームします。<br>
<a href="https://camo.qiitausercontent.com/50c379a7011af7b8881b5e369147206056b08b68/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f34373834653264332d366163642d383761302d663832352d3737386265656136643731632e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F4784e2d3-6acd-87a0-f825-778beea6d71c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=aa39072216b10b94e2f768b86b515546" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/4784e2d3-6acd-87a0-f825-778beea6d71c.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F4784e2d3-6acd-87a0-f825-778beea6d71c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=8ea21c43038108474ef032adeacac45c 1x" loading="lazy"></a><br>
そしてインスペクター上で Main Maps にあるアルベド(の左にある小さな丸)をクリックして、先ほど発見した赤い敵機のテクスチャを選択します。<br>
<a href="https://camo.qiitausercontent.com/f20db19dbf18942881d908893f250d8e699a8617/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f63623363306236392d303737302d653063652d623031332d6239643165393166356166612e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fcb3c0b69-0770-e0ce-b013-b9d1e91f5afa.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=1928bb8342bc7f2252a57ce2df1ab187" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/cb3c0b69-0770-e0ce-b013-b9d1e91f5afa.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fcb3c0b69-0770-e0ce-b013-b9d1e91f5afa.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=e98072e592099d23670fbdbac877dba7 1x" loading="lazy"></a><br>
次に、_Complete-Game/PreFabs にある <code>Drone_EnemyShip</code> を複製して、<code>Drone_EnemyShip Red</code> PreFab を作成します。<br>
<a href="https://camo.qiitausercontent.com/cbb9efeea69ea36e8b9719b2f7fbbdda317b985d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f62626566306562392d643532662d393063622d373739382d3032303335633866346130632e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fbbef0eb9-d52f-90cb-7798-02035c8f4a0c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=7cd1c378192dde2ec08a9893f5cbb216" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/bbef0eb9-d52f-90cb-7798-02035c8f4a0c.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fbbef0eb9-d52f-90cb-7798-02035c8f4a0c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=cf2a68adde79bcd2b01db5e9c9064a76 1x" loading="lazy"></a><br>
そしてこの <code>Drone_EnemyShip Red</code> PreFab を開き、<code>vehicle_enemyShip</code> オブジェクトを選択し、右側のインスペクターに、さきほどの <code>vehicle_enemyShip_metal_mat Red</code> マテリアルをドラッグ＆ドロップして設定します。中央の Scene に表示された敵キャラが、紫色から赤色に変われば成功です。<br>
<a href="https://camo.qiitausercontent.com/50db35c5a16e1ed1b4caafd9a35ea8c5d9d48971/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f36646334633964632d323231322d303465392d363036352d3562356166623966653465312e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F6dc4c9dc-2212-04e9-6065-5b5afb9fe4e1.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=a1f914b6f17a8e5c9c6eaf6fae172730" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/6dc4c9dc-2212-04e9-6065-5b5afb9fe4e1.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F6dc4c9dc-2212-04e9-6065-5b5afb9fe4e1.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=27b4dce87d51ffd7b1aef96f7d5b6430 1x" loading="lazy"></a></p>

<h3>
<span id="赤いライバル機を登録しよう" class="fragment"></span><a href="#%E8%B5%A4%E3%81%84%E3%83%A9%E3%82%A4%E3%83%90%E3%83%AB%E6%A9%9F%E3%82%92%E7%99%BB%E9%8C%B2%E3%81%97%E3%82%88%E3%81%86"><i class="fa fa-link"></i></a>赤いライバル機を登録しよう</h3>

<p>さて、これだけだと単に「赤い敵機のモデル(PreFab)を作成した」だけですから、この赤い敵機をゲームに登場させましょう。<br>
<a href="https://camo.qiitausercontent.com/afbfc51d34677bfb4db241c9981bfb2086d0d5db/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f32626462393932342d316266332d613733392d383766622d3035613362393064653336372e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F2bdb9924-1bf3-a739-87fb-05a3b90de367.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=dbaab899f56d1714d0303e70bc49467a" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/2bdb9924-1bf3-a739-87fb-05a3b90de367.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F2bdb9924-1bf3-a739-87fb-05a3b90de367.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=5c9f2db1e94001a8c29491368ffbc849 1x" loading="lazy"></a><br>
はい、これだけで登録は完了です。何故なら、必要なスクリプトやその設定は既に元の敵機に設定済みで、今回の赤い敵機はそれを複製したものなので、それら設定も引き継いでいるのです。</p>

<p>試しにゲームをプレイしてみると、赤い敵機がちゃんと登場して、もともとの紫の敵機と同様に飛行し、弾を撃つ様子を見ることができます。ただ、これでは色違いの敵機が追加されただけで、ライバル機っぽくは無いですよね。ガノタ(ガンダム好き)としてはこれでは終われない！</p>

<p>というわけで、まず射撃を2連射にしたいとおもいます。<code>Drone_EnemyShip Red</code> PreFab を開き、<code>Shot Spawn</code> オブジェクトを複製して、z軸を -1 ぐらいズラして配置します。<br>
<a href="https://camo.qiitausercontent.com/0c5b2954188ef5c797a209dfe56b6a74366fc145/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f36623863383236382d323439612d613430382d373135342d6238316236353961323537642e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F6b8c8268-249a-a408-7154-b81b659a257d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=ca390d2b2cf9718bb3c7374bec06f410" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/6b8c8268-249a-a408-7154-b81b659a257d.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F6b8c8268-249a-a408-7154-b81b659a257d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=79724cbe79f1787cf372a2b1fdd55779 1x" loading="lazy"></a><br>
そしてインスペクターで <code>Drone_Weapon_Controller</code> スクリプトの設定で、Sub Shot には通常の Enemy の弾を、Sub Shot Spawns には、今回追加した発射位置を指定すればokです。<br>
<a href="https://camo.qiitausercontent.com/2d2f321b3d5680c8198262fb29693ea27a869026/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f66346436303731612d346433612d336664352d646337342d3239356238393261336438372e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Ff4d6071a-4d3a-3fd5-dc74-295b892a3d87.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=43b6473c321d420802ef21af4bc74188" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/f4d6071a-4d3a-3fd5-dc74-295b892a3d87.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Ff4d6071a-4d3a-3fd5-dc74-295b892a3d87.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=8e9054c46fcfdfc43e18d6eb319f7603 1x" loading="lazy"></a><br>
実際にプレイして試してみると、赤い敵機が2連で弾を撃ってくるのが確認できます。<br>
<a href="https://camo.qiitausercontent.com/b84a83dd1c4a8bf37f6f03da94bb02fd6499b12b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f39333931373533392d623261322d393436372d333435352d6262306139393630656638642e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F93917539-b2a2-9467-3455-bb0a9960ef8d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=886fd175e61111da70d92c382eb65390" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/93917539-b2a2-9467-3455-bb0a9960ef8d.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F93917539-b2a2-9467-3455-bb0a9960ef8d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=931089a8adf72f7a36fe685775ec734a 1x" loading="lazy"></a><br>
もう少し個性を出してみましょう。耐久力を3に変更して倒しにくくし、またマニューバの Time を伸ばし、Wait を短くすることで、より活発に動くようにしてみます。<br>
<a href="https://camo.qiitausercontent.com/3c6c088fe3951cbfd17f115af84a3f5949d6114d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f64396264343836342d623262342d643734312d373139352d3334626262383065303335632e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fd9bd4864-b2b4-d741-7195-34bbb80e035c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=9f7c2d41b78c7d7f02b5213a0edae9e5" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/d9bd4864-b2b4-d741-7195-34bbb80e035c.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fd9bd4864-b2b4-d741-7195-34bbb80e035c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=22ba674672ef3a166cb41036b63f66aa 1x" loading="lazy"></a><br>
うん、これで赤い敵機は通常の敵機より、3倍ぐらい強くなった！気がしますね。</p>

<h1>
<span id="現時点でのゲームはこんな感じ" class="fragment"></span><a href="#%E7%8F%BE%E6%99%82%E7%82%B9%E3%81%A7%E3%81%AE%E3%82%B2%E3%83%BC%E3%83%A0%E3%81%AF%E3%81%93%E3%82%93%E3%81%AA%E6%84%9F%E3%81%98"><i class="fa fa-link"></i></a>現時点でのゲームはこんな感じ</h1>

<p>サンプルゲームと基本的には変わらないのですが、現時点では以下のような感じで、かなりシューティングゲームっぽくなってきました。</p>

<ul>
<li>岩石に大きさと耐久度の差がついた</li>
<li>真っすぐ高速に進んでくるミサイルが追加された</li>
<li>硬くてゆっくり進み、弾を斜めに発射する中ボス的な敵キャラが追加された</li>
<li>標準的な敵の強化版である赤い敵キャラが追加された</li>
</ul>

<p><a href="https://camo.qiitausercontent.com/b441cc8900b3c3e88602569e24239dc2c29f450d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f36323263653530312d666461312d346265392d313738622d3139373532343765636339662e676966" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F622ce501-fda1-4be9-178b-1975247ecc9f.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d3a54be50a0948f59e1da207b052cb68" alt="qiita.gif" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/622ce501-fda1-4be9-178b-1975247ecc9f.gif" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F622ce501-fda1-4be9-178b-1975247ecc9f.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=bc7322dbc85edd5768430b1ee1554ca6 1x" loading="lazy"></a></p>

<h1>
<span id="というわけで" class="fragment"></span><a href="#%E3%81%A8%E3%81%84%E3%81%86%E3%82%8F%E3%81%91%E3%81%A7"><i class="fa fa-link"></i></a>というわけで</h1>

<p>以上、敵機の種類をいろいろ増やしてみました。動き、耐久力、弾の出し方などなど、敵キャラの個性の出し方っていろいろ考えられます。またこれ、シューティングゲームを作っていくなかでも、楽しい作業だったりします。</p>

<p>が、長くなってきたので、いったん【前編】として終わりたいとおもいます。引き続き<a href="https://qiita.com/yamachan360/items/5faea3da619e9b5950c4" id="reference-af34c0a9890537ea2433">【後編】</a>では、タイトル画面を作成したり、ステージごとに難易度が上昇するなど、ゲームとして最低限の仕上げをします。</p>

<p>それではまた！</p>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2Fyamachan360%2Fitems%2F460ef13dd08118f9bf21&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2Fyamachan360%2Fitems%2F460ef13dd08118f9bf21&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/yamachan360/items/460ef13dd08118f9bf21/likers" class="css-1iupg5d">2</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">1</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/460ef13dd08118f9bf21/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/yamachan360/items/460ef13dd08118f9bf21/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/yamachan360/items/460ef13dd08118f9bf21/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/yamachan360/items/460ef13dd08118f9bf21/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/yamachan360/items/460ef13dd08118f9bf21.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-503a7720-e396-4362-bffa-900169ee8ad8">{"authorAnalyticsTrackingId":null,"organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-f31b80fe-89b2-4cc1-b371-efd73523c859"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-f31b80fe-89b2-4cc1-b371-efd73523c859">{}</script>
      
<div id="LoginModal-react-component-58c052e7-d633-4d06-9545-f5503a1c5bb3"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-58c052e7-d633-4d06-9545-f5503a1c5bb3">{}</script>
      
<div id="StockModal-react-component-3a766f45-93d0-4869-9494-1c4e02252b09"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-3a766f45-93d0-4869-9494-1c4e02252b09">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;B1ar/4bDG0pj8o2lw1ZD82tKubcsPeRvitqhFTvc7A/PvgjiWtKWzG7Fl2J4DuJzPDgl7pULRkZELAqwTdIxiA==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\u003cp\u003e\u003ca href=\"https://qiita.com/yamachan360/items/3690d4a4de5e6f02b0b9\" id=\"reference-6e1738ffab2cfd9b26e1\"\u003eUnity 公式チュートリアル「Space Shooter tutorial」をコードから理解してみる\u003c/a\u003e という投稿をしましたが、今回はこれをベースに拡張し、簡易的なゲームエンジン的なものとして汎用化し、それを用いて独自のシューティングゲームを作成してみます。\u003c/p\u003e\n\n\u003cp\u003e簡単なサンプルをもとに、自分の欲しい機能を考え、なるべく汎用化してコードを拡張して、実装していく感じ。完成したゲームは完全にオリジナルとは言えませんが、各コードは今後、自身のオリジナルゲームを作成していくうえでのコアパーツとして活躍してくれる、んじゃないかと期待しています。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"今回のゲーム\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BB%8A%E5%9B%9E%E3%81%AE%E3%82%B2%E3%83%BC%E3%83%A0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e今回のゲーム\u003c/h1\u003e\n\n\u003cp\u003e元となる Unity 公式チュートリアル \u003ca href=\"https://unity3d.com/jp/learn/tutorials/s/space-shooter-tutorial\" rel=\"nofollow noopener\" target=\"_blank\"\u003eSpace Shooter tutorial\u003c/a\u003e は以下でした。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/4820d79a58167cf8c3d3d3f1be4a9012e5f24889/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f36336334323264312d383330662d616565332d626232382d3465663962626464646139612e676966\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F63c422d1-830f-aee3-bb28-4ef9bbddda9a.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=751e4278cbc7840bdf3a6947295449c1\" alt=\"qiita.gif\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/63c422d1-830f-aee3-bb28-4ef9bbddda9a.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F63c422d1-830f-aee3-bb28-4ef9bbddda9a.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=fa5d7bd8f861c7281a96046c7db80c7e 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nこれを元に、今回作成したゲームは以下になります。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/b441cc8900b3c3e88602569e24239dc2c29f450d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f36323263653530312d666461312d346265392d313738622d3139373532343765636339662e676966\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F622ce501-fda1-4be9-178b-1975247ecc9f.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d3a54be50a0948f59e1da207b052cb68\" alt=\"qiita.gif\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/622ce501-fda1-4be9-178b-1975247ecc9f.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F622ce501-fda1-4be9-178b-1975247ecc9f.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=bc7322dbc85edd5768430b1ee1554ca6 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"http://rinco.jp/unity/sst1/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eコチラ\u003c/a\u003e で実際にプレイ可能です。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"システム改善\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E6%94%B9%E5%96%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eシステム改善\u003c/h1\u003e\n\n\u003cp\u003eさて、サンプルゲームに対して好きに拡張していきましょう。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"敵の耐久力を設定したい\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%95%B5%E3%81%AE%E8%80%90%E4%B9%85%E5%8A%9B%E3%82%92%E8%A8%AD%E5%AE%9A%E3%81%97%E3%81%9F%E3%81%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e敵の耐久力を設定したい\u003c/h2\u003e\n\n\u003cp\u003e今のサンプルだと、敵も岩石も自機の弾一発で破壊できてしまいます。オブジェクトごとに耐久力を設定して、硬い敵は何発も撃たないと撃破できないように拡張してみましょう。\u003c/p\u003e\n\n\u003cp\u003e敵の破壊などを司っている \u003ccode\u003eDone_DestroyByContact.cs\u003c/code\u003e は今回の拡張における最重要スクリプトでもあるので、以下に拡張したソースをそのまま掲載しますね。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eDone_DestroyByContact.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eDone_DestroyByContact\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eMonoBehaviour\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eGameObject\u003c/span\u003e \u003cspan class=\"n\"\u003eexplosion\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eGameObject\u003c/span\u003e \u003cspan class=\"n\"\u003eplayerExplosion\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003escoreValue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eobjectHp\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e               \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eDone_GameController\u003c/span\u003e \u003cspan class=\"n\"\u003egameController\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ehp\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                    \u003cspan class=\"c1\"\u003e// 追加 (1)\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eCollider\u003c/span\u003e \u003cspan class=\"n\"\u003elastTriggerEnter\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 追加 (4)\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eStart\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eGameObject\u003c/span\u003e \u003cspan class=\"n\"\u003egameControllerObject\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eGameObject\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFindGameObjectWithTag\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"GameController\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ehp\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eobjectHp\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                 \u003cspan class=\"c1\"\u003e// 追加 (1)\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003egameControllerObject\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003egameController\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003egameControllerObject\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eGetComponent\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eDone_GameController\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;();\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003egameController\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eDebug\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Cannot find 'GameController' script\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnTriggerEnter\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eCollider\u003c/span\u003e \u003cspan class=\"n\"\u003eother\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eother\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etag\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Enemy\"\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"n\"\u003eother\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etag\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Boundary\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eother\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etag\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Player\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eInstantiate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eplayerExplosion\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eother\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etransform\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eposition\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eother\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etransform\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erotation\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003egameController\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGameOver\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elastTriggerEnter\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"n\"\u003eother\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e     \u003cspan class=\"c1\"\u003e// 追加 (4)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e                                  \u003cspan class=\"c1\"\u003e// 追加 (4)\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ehp\u003c/span\u003e\u003cspan class=\"p\"\u003e--;\u003c/span\u003e                          \u003cspan class=\"c1\"\u003e// 追加 (2)\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elastTriggerEnter\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eother\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e      \u003cspan class=\"c1\"\u003e// 追加 (4)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e                                  \u003cspan class=\"c1\"\u003e// 追加 (4)\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ehp\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e                       \u003cspan class=\"c1\"\u003e// 追加 (3)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e                                  \u003cspan class=\"c1\"\u003e// 追加 (3)\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eexplosion\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"nf\"\u003eInstantiate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eexplosion\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003etransform\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eposition\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003etransform\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erotation\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"n\"\u003egameController\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAddScore\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003escoreValue\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eDestroy\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003egameObject\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e                                  \u003cspan class=\"c1\"\u003e// 追加 (3)\u003c/span\u003e\n        \u003cspan class=\"nf\"\u003eDestroy\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eother\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003egameObject\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eまず \u003ccode\u003epublic int objectHp\u003c/code\u003e の部分で、対象の耐久力を設定する入力欄を用意します。このスクリプトをアタッチした岩石の PreFab を見ると、以下のように耐久力の設定欄が追加されていることがわかります。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/70fadab935cbde6c65ddddc089bf9a0e6fa57a6c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f31643334303739642d653731302d343734342d636635632d6263366662313630643435372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F1d34079d-e710-4744-cf5c-bc6fb160d457.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a63cbedc92b0be9dbba0c7781516e34b\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/1d34079d-e710-4744-cf5c-bc6fb160d457.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F1d34079d-e710-4744-cf5c-bc6fb160d457.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=8a8cdf23b38e95868d980774b418c940 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n初期値は0ですので、\u003ccode\u003eDone_Asteroid 01\u003c/code\u003e と \u003ccode\u003eDone_Asteroid 02\u003c/code\u003e には 2 の値を設定します。これは自機の弾が2発で破壊できる、ということを意味しています。\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003eDone_Asteroid 03\u003c/code\u003e には 4 の耐久力を設定し、ついでに表示サイズを1.5倍に拡大し、スコア値を倍の 20 に変更してみましょう。この岩石は他よりちょっと大きく、4発撃たないと破壊できないが、スコアが高い、という変化が生まれました。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/7ad80f3974f794ee02668b316ba3b6ef074ee65b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f61623736303263302d643930622d336632642d326235642d3937336564313366663830342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fab7602c0-d90b-3f2d-2b5d-973ed13ff804.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=3430f91a930b3e449df0ff17bdafee1d\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/ab7602c0-d90b-3f2d-2b5d-973ed13ff804.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fab7602c0-d90b-3f2d-2b5d-973ed13ff804.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ac10a6ec0dc94df762acf1f551d12379 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e設定された耐久値(Object Hp)は、\u003ccode\u003eStart()\u003c/code\u003e 関数でインスタンス変数 \u003ccode\u003ehp\u003c/code\u003e にコピーされ、これがこの対象の残り耐久力を管理する変数です。(1)の部分ですね。\u003c/p\u003e\n\n\u003cp\u003eこれまでは「弾に当たったら破壊」だったのが、「弾に当たったら \u003ccode\u003ehp\u003c/code\u003e から1を引いて、0 以下になったら破壊」するように処理を書き換えます。(2) の部分で hp の値を減らしていて、(3) の部分の if 文が 0 以下になったかどうかを判断するための条件式です。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"追加のコード説明\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%BF%BD%E5%8A%A0%E3%81%AE%E3%82%B3%E3%83%BC%E3%83%89%E8%AA%AC%E6%98%8E\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e追加のコード説明\u003c/h3\u003e\n\n\u003cp\u003eこの状態で実際にゲームをプレイしたところ、なぜか「耐久力が2ある岩石が、弾1発で破壊されることがある」という問題に遭遇しました。\u003c/p\u003e\n\n\u003cp\u003e調べてみると「弾が岩石に当たった瞬間に、\u003ccode\u003eOnTriggerEnter\u003c/code\u003e 関数が複数回呼ばれてしまう」というのがこの問題の原因でした。理由はよくわかりません。\u003c/p\u003e\n\n\u003cp\u003eそこで同じ弾が2度ヒットしないよう、\u003ccode\u003elastTriggerEnter\u003c/code\u003e 変数を導入してみました。これは最後に衝突した対象を、保持しておくための内部変数です。(4)の部分ですね。\u003c/p\u003e\n\n\u003cp\u003e同じ衝突相手から\u003ccode\u003eOnTriggerEnter\u003c/code\u003e 関数が2度呼ばれた場合、1度目は普通に対応しますが、その相手を \u003ccode\u003elastTriggerEnter\u003c/code\u003e 変数で覚えておきます。2度目の呼び出しでは、同じ相手と分かりますので、処理をスキップすれば良いのです。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"敵の種類を増やしたい\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%95%B5%E3%81%AE%E7%A8%AE%E9%A1%9E%E3%82%92%E5%A2%97%E3%82%84%E3%81%97%E3%81%9F%E3%81%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e敵の種類を増やしたい\u003c/h2\u003e\n\n\u003cp\u003e今度は敵の種類を増やしてみます。まずは動きが単純な、高速で真っすぐに進むミサイルを追加してみましょう。\u003c/p\u003e\n\n\u003cp\u003eAsset Store を探して、\u003ca href=\"https://assetstore.unity.com/packages/3d/vehicles/space/space-missiles-99731\" rel=\"nofollow noopener\" target=\"_blank\"\u003eSpace Missiles\u003c/a\u003e という無料アセットを発見しました。このアセットを早速、ダウンロードしてプロジェクトに追加します。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/e98c12c38e41568dbada7a24ad5c76ff63263b8c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f65303932363465642d363936352d393432302d366335632d3965316230396161343330382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fe09264ed-6965-9420-6c5c-9e1b09aa4308.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=639d80071931557adb26eb84a299d48e\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/e09264ed-6965-9420-6c5c-9e1b09aa4308.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fe09264ed-6965-9420-6c5c-9e1b09aa4308.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=063b700fbc51a2021ed4b095446d8132 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n追加すると Missiles というフォルダが追加されますので、PreFabs にある Missile Cruise を使ってみましょう。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/e869f86fcb47a11a9b32a6b933d6ffb61c1eecd9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f61663065623130342d393162302d323361662d313839392d3264643831303934663436312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Faf0eb104-91b0-23af-1899-2dd81094f461.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=f75964f4489b3abc16ba896f19f4bcd7\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/af0eb104-91b0-23af-1899-2dd81094f461.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Faf0eb104-91b0-23af-1899-2dd81094f461.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c566c1969fd17adacf7bec98dfaf42bc 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nまずは Game Controller のインスペクターにある、Hazards のリストを1つ増やし、最後の要素としてこの PreFab を追加します。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/0f98651d15e601ef72f6c96b3919b5630f264565/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f32323762346466332d323165352d643336332d316262622d3835363439663731363664632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F227b4df3-21e5-d363-1bbb-85649f7166dc.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5c4cb99940bed562578345612de520c5\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/227b4df3-21e5-d363-1bbb-85649f7166dc.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F227b4df3-21e5-d363-1bbb-85649f7166dc.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=68935c9eace65c3a83291a0b5db41c02 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nそして PreFab である Missile Cruise に必要なコンポーネントを追加していきます。まず追加するのは、動作と衝突検出のためのリジットボディとボックスコライダー。リジットボディは「重力の使用」を外しておきます。あと少し大きい気がするので、0.8倍に縮小しておきましょう。あと、タグも Enemy にセットしておきます。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/a16a5daa0ce36407839aff10f6ebbccf0f8330a0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f66393662633334612d343366312d386234322d353538322d3631653837313032363936302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Ff96bc34a-43f1-8b42-5582-61e871026960.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=0c38d9499f0fd7d4e29ef2c5c03091be\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/f96bc34a-43f1-8b42-5582-61e871026960.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Ff96bc34a-43f1-8b42-5582-61e871026960.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=15dd1113b7cc5d4e2da9e557db38d606 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nさて、他の敵と同じように、スクリプトも追加しておきましょう。このへんはお好みですが、速度は岩石の倍、耐久度は最低の1としておきました。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/e3efdb783c9c299b247b778337e67cb5c8ef5292/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f35366232373932642d363363382d656434652d313164332d3334656133363134613461372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F56b2792d-63c8-ed4e-11d3-34ea3614a4a7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e318c3f38fb71c35983cf76afd9da403\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/56b2792d-63c8-ed4e-11d3-34ea3614a4a7.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F56b2792d-63c8-ed4e-11d3-34ea3614a4a7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=3ce9989eba29b1af6c6ad52f42afda1a 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nさて、テストプレイをしてみましょう。問題なく動作はしている！のですが… ミサイルが逆向きのまま落ちてきますね… かなり間抜けな感じです。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/ec5f38b994e43d0b90bfa2408da6c22ef47d9016/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f38663266643035312d333231302d316637652d656161652d3137613738633536396433332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F8f2fd051-3210-1f7e-eaae-17a78c569d33.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=f5f51a564f75adc72fc0f2684c7de3be\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/8f2fd051-3210-1f7e-eaae-17a78c569d33.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F8f2fd051-3210-1f7e-eaae-17a78c569d33.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=797e5d14081f694bad5d534f76748832 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"向きを直すにはどうしたら良いか\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%90%91%E3%81%8D%E3%82%92%E7%9B%B4%E3%81%99%E3%81%AB%E3%81%AF%E3%81%A9%E3%81%86%E3%81%97%E3%81%9F%E3%82%89%E8%89%AF%E3%81%84%E3%81%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e向きを直すにはどうしたら良いか\u003c/h3\u003e\n\n\u003cp\u003e一番簡単なのは、このミサイルの PreFab 自体を修正して、向きを変えてあげることですね。でも今回は、コードでなんとか対応してみましょう。\u003c/p\u003e\n\n\u003cp\u003e今回の向きの原因と考えられるのは、Done_GameController.cs にある SpawnWaves 関数で、敵オブジェクトを生成している部分です。向きを固定しちゃってますね。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eDone_GameController.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e    \u003cspan class=\"n\"\u003eGameObject\u003c/span\u003e \u003cspan class=\"n\"\u003ehazard\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ehazards\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eRandom\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eRange\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ehazards\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e\u003cspan class=\"p\"\u003e)];\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eVector3\u003c/span\u003e \u003cspan class=\"n\"\u003espawnPosition\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVector3\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eRandom\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eRange\u003c/span\u003e\u003cspan class=\"p\"\u003e(-\u003c/span\u003e\u003cspan class=\"n\"\u003espawnValues\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003espawnValues\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"n\"\u003espawnValues\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003espawnValues\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ez\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eQuaternion\u003c/span\u003e \u003cspan class=\"n\"\u003espawnRotation\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eQuaternion\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eidentity\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// ココ\u003c/span\u003e\n    \u003cspan class=\"nf\"\u003eInstantiate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ehazard\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003espawnPosition\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003espawnRotation\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eが、今回は敵の動作を初期化する \u003ccode\u003eDone_Mover.cs\u003c/code\u003e のほうを修正して対応してみましょう。以下の2行を追加するだけです。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eDone_Mover.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eDone_Mover\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eMonoBehaviour\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003espeed\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eVector3\u003c/span\u003e \u003cspan class=\"n\"\u003eturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eStart\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eGetComponent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eRigidbody\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;().\u003c/span\u003e\u003cspan class=\"n\"\u003evelocity\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etransform\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eforward\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003espeed\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"n\"\u003etransform\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eRotate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eturn\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e敵の初期化の際に、向きが指定されていれば、その方向に向きを変えるだけ、で対応しています。リジットボディに移動方向を指定している \u003cstrong\u003e後に\u003c/strong\u003e ロジックを追加したのがポイント。前にすると移動方向もその方向の影響を受けてしまい面倒です。\u003c/p\u003e\n\n\u003cp\u003eミサイルの PreFab のインスペクターで Y軸 を 180 度回転するように指定して、ミサイルの向きを変えれば ok です。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/93b5180a0251498e96fca09a9d6d7d368f8075c0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f37373238386435322d353837372d373238332d616564362d6436653133366665313234622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F77288d52-5877-7283-aed6-d6e136fe124b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=202b27a1c3fe0f5aee9d907bc09fa90b\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/77288d52-5877-7283-aed6-d6e136fe124b.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F77288d52-5877-7283-aed6-d6e136fe124b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=79411f5f69010f0e71f44162f5ad5a8e 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nさてこれで、岩石の種類も増えて、敵ミサイルも追加されましたね。真っすぐ進んでくる敵は硬いのあり、速いのありで、もうお腹いっぱい。必要十分な感じでしょうか。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"ミサイルにバックファイアを追加してみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%9F%E3%82%B5%E3%82%A4%E3%83%AB%E3%81%AB%E3%83%90%E3%83%83%E3%82%AF%E3%83%95%E3%82%A1%E3%82%A4%E3%82%A2%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eミサイルにバックファイアを追加してみる\u003c/h3\u003e\n\n\u003cp\u003ePreFab は基本、単なるモデルですから自由に改変可能です。なので既存の敵から Enemy Engines をコピペして、ミサイルの後ろに配置してみました。ちょっと短いですが、同じエンジンを積んでいる感が出るかな？などと。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/fd70037102a591ea784b418a4e6d99c3da08145c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f31336238383730312d386564382d643037642d386461662d6164366666663934613132392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F13b88701-8ed8-d07d-8daf-ad6fff94a129.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b9766884d64e00773a5a1b4ad7c226dc\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/13b88701-8ed8-d07d-8daf-ad6fff94a129.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F13b88701-8ed8-d07d-8daf-ad6fff94a129.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=f46a70adc81f16b80568ef018ba2aa24 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nうん、良い感じになりました。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/f9837efe5ae262a1ce3686a1a03e97aca3a3146f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f62336439393239652d383030632d643236312d646366372d6430336632303538323937372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fb3d9929e-800c-d261-dcf7-d03f20582977.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4b8700e89e0f50abc3261e6566abc525\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/b3d9929e-800c-d261-dcf7-d03f20582977.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fb3d9929e-800c-d261-dcf7-d03f20582977.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e5f0a5080836fa59c1ccf6f40a522479 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n寄せ集めの素材でも、何か共通点をもたせると意外としっくりきたりします。色とか、共通パーツなどなど。お手軽でわりと効果的な修正だったりしますので、いろいろ試してみてください。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"更に別の敵キャラを追加してみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9B%B4%E3%81%AB%E5%88%A5%E3%81%AE%E6%95%B5%E3%82%AD%E3%83%A3%E3%83%A9%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e更に別の敵キャラを追加してみる\u003c/h2\u003e\n\n\u003cp\u003eAsset Store をまた検索して、無料アセット \u003ca href=\"https://assetstore.unity.com/packages/3d/low-poly-combat-drone-82234\" rel=\"nofollow noopener\" target=\"_blank\"\u003eLow poly combat drone\u003c/a\u003e がありましたので、これも強めの敵キャラとして追加してみましょう。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/1c6a885fdc2feaf39025b8321a5f214c9ffbfcc7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f31326364326337652d376366642d376239392d663735612d6532306239666464656634662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F12cd2c7e-7cfd-7b99-f75a-e20b9fddef4f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=550b75adaa47373e16c6924bf91c47ab\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/12cd2c7e-7cfd-7b99-f75a-e20b9fddef4f.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F12cd2c7e-7cfd-7b99-f75a-e20b9fddef4f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=94d9341a1a4df17dff4e69c3b255e196 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nこちらのアセットはモデルファイルのみのようなので、いったんヒエラルキーに追加し、サイズなど調整した後、PreFab として保存しておきます。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/872f4d96dc906c86429ad1fbe3f5bfbc1124de83/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f66396464316162322d373731362d353762362d616665392d3665656238373239356366662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Ff9dd1ab2-7716-57b6-afe9-6eeb87295cff.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=296751afef7a69f31c5c863d44c0ca0d\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/f9dd1ab2-7716-57b6-afe9-6eeb87295cff.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Ff9dd1ab2-7716-57b6-afe9-6eeb87295cff.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=45087fd8228e7a3ad8abe8380f17a18f 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n例によってエンジンを今度は二つ、コピペしておきましょう。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/77dbd8ba7f844b8e880c4de0ab3b1cdb2c073998/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f36313565623765642d333066322d666538662d653565652d6135313932653633653064632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F615eb7ed-30f2-fe8f-e5ee-a5192e63e0dc.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=0904383a1c4ad5d9982159e924dc0ea9\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/615eb7ed-30f2-fe8f-e5ee-a5192e63e0dc.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F615eb7ed-30f2-fe8f-e5ee-a5192e63e0dc.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c137b8fb02c395d0c2a8562c33f96a91 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nそして Game Controller の \u003ccode\u003eHazards\u003c/code\u003e のサイズを1増やして、この Drone の PreFab を追加してあげます。もう慣れたもの、って感じですよね。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/6efef1c03e90bba33e791bee0f100841b1e862c2/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f37343334656331362d626162302d373962652d316234312d3166396237636663343166612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F7434ec16-bab0-79be-1b41-1f9b7cfc41fa.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d2d06828942ddc459f094b3999065129\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/7434ec16-bab0-79be-1b41-1f9b7cfc41fa.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F7434ec16-bab0-79be-1b41-1f9b7cfc41fa.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=37b81d8e0067205472450e21713e86ea 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nそしてメッシュコライダー(複雑な形状なので)のコンポーネントを追加し、トリガーに設定しておきます。またリッジボディのコンポーネントを追加し、重力の使用をOFFしておきます。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/bc2838dab5126881b7c81faff55ba163d1d31aba/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f66396330613837342d633635352d666461622d653537352d3931666334333439636235302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Ff9c0a874-c655-fdab-e575-91fc4349cb50.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2acc84d178efdd2498bd540b5b1e7d83\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/f9c0a874-c655-fdab-e575-91fc4349cb50.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Ff9c0a874-c655-fdab-e575-91fc4349cb50.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=b39d846beef57b553a894620047c263e 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nまたミサイルと同様に基本的な2つのスクリプトも追加しておきましょう。速度はかなり遅く、そして耐久力も10と高くしてみました。スコアは高めの50。中ボス的なイメージです。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/402547871e700927375b9193b828502545d2d9ab/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f66666233396266322d663964332d316634352d383335372d3635326261613961393762662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fffb39bf2-f9d3-1f45-8357-652baa9a97bf.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=943014399acb6c353aa28f835c476f5f\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/ffb39bf2-f9d3-1f45-8357-652baa9a97bf.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fffb39bf2-f9d3-1f45-8357-652baa9a97bf.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c05ffc37213c4b186bf44df7dd2048e9 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nこれだけでも、硬い大きな敵がゆっくりと向かってくることになり、かなり迫力があります。後は動作や攻撃のロジック設定だけ、ですね。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"敵に弾を撃たせる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%95%B5%E3%81%AB%E5%BC%BE%E3%82%92%E6%92%83%E3%81%9F%E3%81%9B%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e敵に弾を撃たせる\u003c/h3\u003e\n\n\u003cp\u003eここで、元からある \u003ccode\u003eDone_Enemy_Ship\u003c/code\u003e PreFab に設定された、他のスクリプトを再確認しておきましょう。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/92c93ac628c7dfb2ffa62c50d6d91b26c83788d2/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f37353938356230342d346230312d616632392d346561382d3534336366663436663531662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F75985b04-4b01-af29-4ea8-543cff46f51f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=63fa7e7f225eb93e2103decf07b65fb0\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/75985b04-4b01-af29-4ea8-543cff46f51f.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F75985b04-4b01-af29-4ea8-543cff46f51f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=60afd6b4d0a916caa870b97ffaf5b7c2 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n弾を発射する \u003ccode\u003eDone_WeaponController\u003c/code\u003e スクリプトと、横移動する \u003ccode\u003eDone_EvasiveManeuver\u003c/code\u003e スクリプトが利用されています。後者は設定できる項目が多くて、汎用性が高そうですね。\u003c/p\u003e\n\n\u003cp\u003eさて、まずは弾を発射させてみましょう。今回の敵は大きいので、同時に2発の弾を発射するように拡張したいところです。\u003c/p\u003e\n\n\u003cp\u003eというわけで、\u003ccode\u003eDone_WeaponController\u003c/code\u003e を拡張してみました。元々の弾を1発撃つ部分はそのままに、サブショットを配列で登録できるようにしてあります。今回はメインと同じ弾をサブショットとして1つ登録することにより、2発の弾を同時に発射させてみます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eDone_WeaponController.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eDone_WeaponController\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eMonoBehaviour\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eGameObject\u003c/span\u003e \u003cspan class=\"n\"\u003eshot\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eTransform\u003c/span\u003e \u003cspan class=\"n\"\u003eshotSpawn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eGameObject\u003c/span\u003e \u003cspan class=\"n\"\u003esubShot\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e       \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eTransform\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003esubShotSpawn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003efireRate\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003edelay\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eStart\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"nf\"\u003eInvokeRepeating\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Fire\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003edelay\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003efireRate\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eFire\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"nf\"\u003eInstantiate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eshot\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eshotSpawn\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eposition\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eshotSpawn\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erotation\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003esubShotSpawn\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e++)\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e                                             \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eInstantiate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esubShot\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003esubShotSpawn\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eposition\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003esubShotSpawn\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003erotation\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e                                             \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eGetComponent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eAudioSource\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;().\u003c/span\u003e\u003cspan class=\"nf\"\u003ePlay\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e以下が実際のインスペクター上の設定になります。\u003ccode\u003eShot\u003c/code\u003e と同様に \u003ccode\u003eSub shot\u003c/code\u003e の設定欄が追加され、設定されているのがわかります。また発射間隔は既存の敵より間をあけています。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/8f8778caec69ea0134c6c283746d154633082a37/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f30626166633831322d303932372d353535352d633463312d6434623130633862393562302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F0bafc812-0927-5555-c4c1-d4b10c8b95b0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e767fb582a8cf8a84110d649a3a1b487\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/0bafc812-0927-5555-c4c1-d4b10c8b95b0.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F0bafc812-0927-5555-c4c1-d4b10c8b95b0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=21579c949ecc0f632e349193f6b7a9e8 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nそして弾の発射位置と方向を示すオブジェクトは \u003ccode\u003eShot Spawn\u003c/code\u003e と \u003ccode\u003eSub Shot Spawns\u003c/code\u003e に指定されていますが、Pre Fab 上では以下のような位置に配置してあります。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/b7bfb47e01b80e219cb61f9d0f1ed6dcf34d6532/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f33616332396633652d333763632d373263372d616539382d3239336464386335353736382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F3ac29f3e-37cc-72c7-ae98-293dd8c55768.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=9fb26c7386d470525f6dc801faeda769\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/3ac29f3e-37cc-72c7-ae98-293dd8c55768.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F3ac29f3e-37cc-72c7-ae98-293dd8c55768.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c030f3143d69b7c10230d83eee9a479d 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nこの弾の発射位置を示すオブジェクトですが、Y軸方向に 10度 ずつ回転させ、わずかに外向きに開かせているのがポイントです。これにより、発射される2つの弾が少し広がって発射される感じになります。こんな感じ。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/fd81026269eb1c96c507ee258b35a6486684a725/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f30363435363435302d306339632d356361392d666337612d3337376431393634633264332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F06456450-0c9c-5ca9-fc7a-377d1964c2d3.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=fab12ca4dbd94acd31c97d9df3e10978\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/06456450-0c9c-5ca9-fc7a-377d1964c2d3.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F06456450-0c9c-5ca9-fc7a-377d1964c2d3.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=8ad0772023d5bb958ea996d1a3360048 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n硬い敵ですので、連射で倒せるよう正面が安全地帯にしてある、という感じでしょうか。\u003c/p\u003e\n\n\u003cp\u003e元のサンプルの設計が優れていて、こういった弾を発射する位置は、専用のオブジェクトを用意してコードから参照したほうが、わかりやすいですし、修正も容易です。今回の改造も、そういった長所を生かしつつ進めています。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"敵の動作ロジックを設定してみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%95%B5%E3%81%AE%E5%8B%95%E4%BD%9C%E3%83%AD%E3%82%B8%E3%83%83%E3%82%AF%E3%82%92%E8%A8%AD%E5%AE%9A%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e敵の動作ロジックを設定してみる\u003c/h3\u003e\n\n\u003cp\u003eさて、引き続き敵の動きを設定していきましょう。幸いなことに \u003ccode\u003eDone_EvasiveManeuver\u003c/code\u003e スクリプトがわりと汎用的なので、こちらは設定値の変更で対応したいとおもいます。\u003c/p\u003e\n\n\u003cp\u003e実際に動かしつつ、以下のような値を設定してみました。ちょっとモッサリとした動きになっています。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/fe23acd926388081bcc552ecd700e3cf1e2cc951/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f64313436613035662d643661642d356437622d303534622d3864356133363535373936372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fd146a05f-d6ad-5d7b-054b-8d5a36557967.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5885354fd05f5490983a459df08e3678\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/d146a05f-d6ad-5d7b-054b-8d5a36557967.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fd146a05f-d6ad-5d7b-054b-8d5a36557967.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=03c3b7fa81af8af8f5eda785a8b79979 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eと、ここで問題が発生しました。横移動したこの敵キャラが、上下逆に戻ってしまうのです。\u003ca href=\"#%E5%90%91%E3%81%8D%E3%82%92%E7%9B%B4%E3%81%99%E3%81%AB%E3%81%AF%E3%81%A9%E3%81%86%E3%81%97%E3%81%9F%E3%82%89%E8%89%AF%E3%81%84%E3%81%8B\"\u003e向きを直すにはどうしたら良いか\u003c/a\u003e でお手軽に修正したモデルの向きの問題が、横移動のロジック(の傾け)でリセットされてしまうのが原因のようです。\u003c/p\u003e\n\n\u003cp\u003eというわけで、\u003ccode\u003eDone_EvasiveManeuver\u003c/code\u003e を以下のように修正し、オブジェクトの向きを維持しつつ移動(傾け)を実行するようにしてみました。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eDone_EvasiveManeuver.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eVector3\u003c/span\u003e \u003cspan class=\"n\"\u003eturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eStart\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ecurrentSpeed\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eGetComponent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eRigidbody\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;().\u003c/span\u003e\u003cspan class=\"n\"\u003evelocity\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ez\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eturn\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eGetComponent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eDone_Mover\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;().\u003c/span\u003e\u003cspan class=\"n\"\u003eturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n        \u003cspan class=\"nf\"\u003eStartCoroutine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eEvade\u003c/span\u003e\u003cspan class=\"p\"\u003e());\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eFixedUpdate\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003enewManeuver\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMathf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eMoveTowards\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eGetComponent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eRigidbody\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;().\u003c/span\u003e\u003cspan class=\"n\"\u003evelocity\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003etargetManeuver\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003esmoothing\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eTime\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003edeltaTime\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eGetComponent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eRigidbody\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;().\u003c/span\u003e\u003cspan class=\"n\"\u003evelocity\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVector3\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003enewManeuver\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0f\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecurrentSpeed\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eGetComponent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eRigidbody\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;().\u003c/span\u003e\u003cspan class=\"n\"\u003eposition\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVector3\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eMathf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eClamp\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eGetComponent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eRigidbody\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;().\u003c/span\u003e\u003cspan class=\"n\"\u003eposition\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eboundary\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003exMin\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eboundary\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003exMax\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \n            \u003cspan class=\"m\"\u003e0.0f\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \n            \u003cspan class=\"n\"\u003eMathf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eClamp\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eGetComponent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eRigidbody\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;().\u003c/span\u003e\u003cspan class=\"n\"\u003eposition\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ez\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eboundary\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ezMin\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eboundary\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ezMax\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003ef\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e90f\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003eturn\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003eturn\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"m\"\u003e270f\u003c/span\u003e \u003cspan class=\"p\"\u003e?\u003c/span\u003e \u003cspan class=\"m\"\u003e1f\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e1f\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e90f\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003eturn\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003eturn\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"m\"\u003e270f\u003c/span\u003e \u003cspan class=\"p\"\u003e?\u003c/span\u003e \u003cspan class=\"m\"\u003e1f\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e1f\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e90f\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003eturn\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ez\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003eturn\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ez\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"m\"\u003e270f\u003c/span\u003e \u003cspan class=\"p\"\u003e?\u003c/span\u003e \u003cspan class=\"m\"\u003e1f\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e1f\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eGetComponent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eRigidbody\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;().\u003c/span\u003e\u003cspan class=\"n\"\u003erotation\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eQuaternion\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eEuler\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eturn\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eturn\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eturn\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ez\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eGetComponent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eRigidbody\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;().\u003c/span\u003e\u003cspan class=\"n\"\u003evelocity\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003etilt\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 修正\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eさて、これで硬くて遅い、弾を多く撃つキャラが追加できました。ゲームの雰囲気も、ゲーム性も、だいぶ変化があったと思います。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"赤いライバル機も欲しい\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%B5%A4%E3%81%84%E3%83%A9%E3%82%A4%E3%83%90%E3%83%AB%E6%A9%9F%E3%82%82%E6%AC%B2%E3%81%97%E3%81%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e赤いライバル機も欲しい\u003c/h2\u003e\n\n\u003cp\u003e今回の Assets のなかを眺めていたら、標準の敵キャラの赤いバージョンのテクスチャが用意されていることを発見！さっそく利用してみましょう。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/169c09bebe6ef221b9e976a0f7e16e2115c2b9dd/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f62636664353463392d383936372d346435632d323665662d6330613334306237363332352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fbcfd54c9-8967-4d5c-26ef-c0a340b76325.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a41d00c843bb1fcfda8fe62ff1080170\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/bcfd54c9-8967-4d5c-26ef-c0a340b76325.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fbcfd54c9-8967-4d5c-26ef-c0a340b76325.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=91488aab29a2e755c01ebe6518206b67 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nMaterials にある \u003ccode\u003evehicle_enemyShip_metal_mat\u003c/code\u003e を複製し(編集メニューから「複製」を選ぶか、Ctrl+D キー)、\u003ccode\u003evehicle_enemyShip_metal_mat 1\u003c/code\u003e というマテリアルが作成されるので、\u003ccode\u003evehicle_enemyShip_metal_mat Red\u003c/code\u003e とリネームします。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/50c379a7011af7b8881b5e369147206056b08b68/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f34373834653264332d366163642d383761302d663832352d3737386265656136643731632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F4784e2d3-6acd-87a0-f825-778beea6d71c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=aa39072216b10b94e2f768b86b515546\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/4784e2d3-6acd-87a0-f825-778beea6d71c.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F4784e2d3-6acd-87a0-f825-778beea6d71c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=8ea21c43038108474ef032adeacac45c 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nそしてインスペクター上で Main Maps にあるアルベド(の左にある小さな丸)をクリックして、先ほど発見した赤い敵機のテクスチャを選択します。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/f20db19dbf18942881d908893f250d8e699a8617/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f63623363306236392d303737302d653063652d623031332d6239643165393166356166612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fcb3c0b69-0770-e0ce-b013-b9d1e91f5afa.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=1928bb8342bc7f2252a57ce2df1ab187\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/cb3c0b69-0770-e0ce-b013-b9d1e91f5afa.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fcb3c0b69-0770-e0ce-b013-b9d1e91f5afa.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e98072e592099d23670fbdbac877dba7 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n次に、_Complete-Game/PreFabs にある \u003ccode\u003eDrone_EnemyShip\u003c/code\u003e を複製して、\u003ccode\u003eDrone_EnemyShip Red\u003c/code\u003e PreFab を作成します。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/cbb9efeea69ea36e8b9719b2f7fbbdda317b985d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f62626566306562392d643532662d393063622d373739382d3032303335633866346130632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fbbef0eb9-d52f-90cb-7798-02035c8f4a0c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7cd1c378192dde2ec08a9893f5cbb216\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/bbef0eb9-d52f-90cb-7798-02035c8f4a0c.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fbbef0eb9-d52f-90cb-7798-02035c8f4a0c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=cf2a68adde79bcd2b01db5e9c9064a76 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nそしてこの \u003ccode\u003eDrone_EnemyShip Red\u003c/code\u003e PreFab を開き、\u003ccode\u003evehicle_enemyShip\u003c/code\u003e オブジェクトを選択し、右側のインスペクターに、さきほどの \u003ccode\u003evehicle_enemyShip_metal_mat Red\u003c/code\u003e マテリアルをドラッグ＆ドロップして設定します。中央の Scene に表示された敵キャラが、紫色から赤色に変われば成功です。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/50db35c5a16e1ed1b4caafd9a35ea8c5d9d48971/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f36646334633964632d323231322d303465392d363036352d3562356166623966653465312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F6dc4c9dc-2212-04e9-6065-5b5afb9fe4e1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a1f914b6f17a8e5c9c6eaf6fae172730\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/6dc4c9dc-2212-04e9-6065-5b5afb9fe4e1.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F6dc4c9dc-2212-04e9-6065-5b5afb9fe4e1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=27b4dce87d51ffd7b1aef96f7d5b6430 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"赤いライバル機を登録しよう\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%B5%A4%E3%81%84%E3%83%A9%E3%82%A4%E3%83%90%E3%83%AB%E6%A9%9F%E3%82%92%E7%99%BB%E9%8C%B2%E3%81%97%E3%82%88%E3%81%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e赤いライバル機を登録しよう\u003c/h3\u003e\n\n\u003cp\u003eさて、これだけだと単に「赤い敵機のモデル(PreFab)を作成した」だけですから、この赤い敵機をゲームに登場させましょう。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/afbfc51d34677bfb4db241c9981bfb2086d0d5db/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f32626462393932342d316266332d613733392d383766622d3035613362393064653336372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F2bdb9924-1bf3-a739-87fb-05a3b90de367.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=dbaab899f56d1714d0303e70bc49467a\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/2bdb9924-1bf3-a739-87fb-05a3b90de367.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F2bdb9924-1bf3-a739-87fb-05a3b90de367.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=5c9f2db1e94001a8c29491368ffbc849 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nはい、これだけで登録は完了です。何故なら、必要なスクリプトやその設定は既に元の敵機に設定済みで、今回の赤い敵機はそれを複製したものなので、それら設定も引き継いでいるのです。\u003c/p\u003e\n\n\u003cp\u003e試しにゲームをプレイしてみると、赤い敵機がちゃんと登場して、もともとの紫の敵機と同様に飛行し、弾を撃つ様子を見ることができます。ただ、これでは色違いの敵機が追加されただけで、ライバル機っぽくは無いですよね。ガノタ(ガンダム好き)としてはこれでは終われない！\u003c/p\u003e\n\n\u003cp\u003eというわけで、まず射撃を2連射にしたいとおもいます。\u003ccode\u003eDrone_EnemyShip Red\u003c/code\u003e PreFab を開き、\u003ccode\u003eShot Spawn\u003c/code\u003e オブジェクトを複製して、z軸を -1 ぐらいズラして配置します。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/0c5b2954188ef5c797a209dfe56b6a74366fc145/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f36623863383236382d323439612d613430382d373135342d6238316236353961323537642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F6b8c8268-249a-a408-7154-b81b659a257d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ca390d2b2cf9718bb3c7374bec06f410\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/6b8c8268-249a-a408-7154-b81b659a257d.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F6b8c8268-249a-a408-7154-b81b659a257d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=79724cbe79f1787cf372a2b1fdd55779 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nそしてインスペクターで \u003ccode\u003eDrone_Weapon_Controller\u003c/code\u003e スクリプトの設定で、Sub Shot には通常の Enemy の弾を、Sub Shot Spawns には、今回追加した発射位置を指定すればokです。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/2d2f321b3d5680c8198262fb29693ea27a869026/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f66346436303731612d346433612d336664352d646337342d3239356238393261336438372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Ff4d6071a-4d3a-3fd5-dc74-295b892a3d87.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=43b6473c321d420802ef21af4bc74188\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/f4d6071a-4d3a-3fd5-dc74-295b892a3d87.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Ff4d6071a-4d3a-3fd5-dc74-295b892a3d87.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=8e9054c46fcfdfc43e18d6eb319f7603 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n実際にプレイして試してみると、赤い敵機が2連で弾を撃ってくるのが確認できます。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/b84a83dd1c4a8bf37f6f03da94bb02fd6499b12b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f39333931373533392d623261322d393436372d333435352d6262306139393630656638642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F93917539-b2a2-9467-3455-bb0a9960ef8d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=886fd175e61111da70d92c382eb65390\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/93917539-b2a2-9467-3455-bb0a9960ef8d.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F93917539-b2a2-9467-3455-bb0a9960ef8d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=931089a8adf72f7a36fe685775ec734a 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nもう少し個性を出してみましょう。耐久力を3に変更して倒しにくくし、またマニューバの Time を伸ばし、Wait を短くすることで、より活発に動くようにしてみます。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/3c6c088fe3951cbfd17f115af84a3f5949d6114d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f64396264343836342d623262342d643734312d373139352d3334626262383065303335632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fd9bd4864-b2b4-d741-7195-34bbb80e035c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=9f7c2d41b78c7d7f02b5213a0edae9e5\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/d9bd4864-b2b4-d741-7195-34bbb80e035c.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2Fd9bd4864-b2b4-d741-7195-34bbb80e035c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=22ba674672ef3a166cb41036b63f66aa 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nうん、これで赤い敵機は通常の敵機より、3倍ぐらい強くなった！気がしますね。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"現時点でのゲームはこんな感じ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%8F%BE%E6%99%82%E7%82%B9%E3%81%A7%E3%81%AE%E3%82%B2%E3%83%BC%E3%83%A0%E3%81%AF%E3%81%93%E3%82%93%E3%81%AA%E6%84%9F%E3%81%98\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e現時点でのゲームはこんな感じ\u003c/h1\u003e\n\n\u003cp\u003eサンプルゲームと基本的には変わらないのですが、現時点では以下のような感じで、かなりシューティングゲームっぽくなってきました。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e岩石に大きさと耐久度の差がついた\u003c/li\u003e\n\u003cli\u003e真っすぐ高速に進んでくるミサイルが追加された\u003c/li\u003e\n\u003cli\u003e硬くてゆっくり進み、弾を斜めに発射する中ボス的な敵キャラが追加された\u003c/li\u003e\n\u003cli\u003e標準的な敵の強化版である赤い敵キャラが追加された\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/b441cc8900b3c3e88602569e24239dc2c29f450d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3139333531392f36323263653530312d666461312d346265392d313738622d3139373532343765636339662e676966\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F622ce501-fda1-4be9-178b-1975247ecc9f.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d3a54be50a0948f59e1da207b052cb68\" alt=\"qiita.gif\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/193519/622ce501-fda1-4be9-178b-1975247ecc9f.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F193519%2F622ce501-fda1-4be9-178b-1975247ecc9f.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=bc7322dbc85edd5768430b1ee1554ca6 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"というわけで\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%A8%E3%81%84%E3%81%86%E3%82%8F%E3%81%91%E3%81%A7\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eというわけで\u003c/h1\u003e\n\n\u003cp\u003e以上、敵機の種類をいろいろ増やしてみました。動き、耐久力、弾の出し方などなど、敵キャラの個性の出し方っていろいろ考えられます。またこれ、シューティングゲームを作っていくなかでも、楽しい作業だったりします。\u003c/p\u003e\n\n\u003cp\u003eが、長くなってきたので、いったん【前編】として終わりたいとおもいます。引き続き\u003ca href=\"https://qiita.com/yamachan360/items/5faea3da619e9b5950c4\" id=\"reference-af34c0a9890537ea2433\"\u003e【後編】\u003c/a\u003eでは、タイトル画面を作成したり、ステージごとに難易度が上昇するなど、ゲームとして最低限の仕上げをします。\u003c/p\u003e\n\n\u003cp\u003eそれではまた！\u003c/p\u003e\n","createdAt":"2019-05-05T02:32:43Z","elapsedYearsFromLastModifiedAt":2,"encryptedId":"aHDFoJaE6xhllu76vsUmq8nC529vJp2C--g8U+/nB4ushuw3+q--p3S9HdrzcUCC9llIPO62mg==","isBanned":false,"isDeprecated":true,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2019-05-11T14:25:57Z","likesCount":2,"linkUrl":"https://qiita.com/yamachan360/items/460ef13dd08118f9bf21","organization":null,"originalId":886258,"stockedCount":1,"title":"Unity 公式チュートリアル「Space Shooter tutorial」をベースに自作ゲームを作る【前編】","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E4%BB%8A%E5%9B%9E%E3%81%AE%E3%82%B2%E3%83%BC%E3%83%A0\"\u003e今回のゲーム\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E6%94%B9%E5%96%84\"\u003eシステム改善\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%95%B5%E3%81%AE%E8%80%90%E4%B9%85%E5%8A%9B%E3%82%92%E8%A8%AD%E5%AE%9A%E3%81%97%E3%81%9F%E3%81%84\"\u003e敵の耐久力を設定したい\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%BF%BD%E5%8A%A0%E3%81%AE%E3%82%B3%E3%83%BC%E3%83%89%E8%AA%AC%E6%98%8E\"\u003e追加のコード説明\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%95%B5%E3%81%AE%E7%A8%AE%E9%A1%9E%E3%82%92%E5%A2%97%E3%82%84%E3%81%97%E3%81%9F%E3%81%84\"\u003e敵の種類を増やしたい\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%90%91%E3%81%8D%E3%82%92%E7%9B%B4%E3%81%99%E3%81%AB%E3%81%AF%E3%81%A9%E3%81%86%E3%81%97%E3%81%9F%E3%82%89%E8%89%AF%E3%81%84%E3%81%8B\"\u003e向きを直すにはどうしたら良いか\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%9F%E3%82%B5%E3%82%A4%E3%83%AB%E3%81%AB%E3%83%90%E3%83%83%E3%82%AF%E3%83%95%E3%82%A1%E3%82%A4%E3%82%A2%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"\u003eミサイルにバックファイアを追加してみる\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%9B%B4%E3%81%AB%E5%88%A5%E3%81%AE%E6%95%B5%E3%82%AD%E3%83%A3%E3%83%A9%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e更に別の敵キャラを追加してみる\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%95%B5%E3%81%AB%E5%BC%BE%E3%82%92%E6%92%83%E3%81%9F%E3%81%9B%E3%82%8B\"\u003e敵に弾を撃たせる\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%95%B5%E3%81%AE%E5%8B%95%E4%BD%9C%E3%83%AD%E3%82%B8%E3%83%83%E3%82%AF%E3%82%92%E8%A8%AD%E5%AE%9A%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e敵の動作ロジックを設定してみる\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%B5%A4%E3%81%84%E3%83%A9%E3%82%A4%E3%83%90%E3%83%AB%E6%A9%9F%E3%82%82%E6%AC%B2%E3%81%97%E3%81%84\"\u003e赤いライバル機も欲しい\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%B5%A4%E3%81%84%E3%83%A9%E3%82%A4%E3%83%90%E3%83%AB%E6%A9%9F%E3%82%92%E7%99%BB%E9%8C%B2%E3%81%97%E3%82%88%E3%81%86\"\u003e赤いライバル機を登録しよう\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%8F%BE%E6%99%82%E7%82%B9%E3%81%A7%E3%81%AE%E3%82%B2%E3%83%BC%E3%83%A0%E3%81%AF%E3%81%93%E3%82%93%E3%81%AA%E6%84%9F%E3%81%98\"\u003e現時点でのゲームはこんな感じ\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%A8%E3%81%84%E3%81%86%E3%82%8F%E3%81%91%E3%81%A7\"\u003eというわけで\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","totalPv":2167,"uuid":"460ef13dd08118f9bf21","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"tC23kwN4pZ7ohV0n9oKfgKaYCtmD--mTPmemWBntqyAuWG--/1u4BwHr7usLmIk7VjZvdw==","originalId":193519,"description":"Web系開発者。映画,特撮,功夫,酒, ロボ,アニメ,模型,ゲーム, 懐パソ(PC6001, MSX, X68000), JavaScript/NodeJS, Unity, RPGツクール, プチコン, AWS, 開発環境なんでも好き。修行中。\r\n\r\n投稿は全て個人の見解です。\r\nPosts are my own.","facebookUrl":"https://facebook.com/yamachan360","githubUrl":"https://github.com/yamachan","isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":"https://www.linkedin.com/in/yamasita/","name":"Toshio Yamashita","profileImageUrl":"https://qiita-image-store.s3.amazonaws.com/0/193519/profile-images/1547708105","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F193519%2Fprofile-images%2F1547708105?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=10f81e69966af393d9cb329dbc3cc87c","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F193519%2Fprofile-images%2F1547708105?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=2755ac3d43b35c70e8ef1ac2554050b9","urlName":"yamachan360","websiteUrl":"","twitterUrl":"https://twitter.com/yamachan360","twitterUrlName":"yamachan360","revealedOrganizations":{"edges":[]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"Unity","urlName":"unity"},{"name":"初心者","urlName":"%e5%88%9d%e5%bf%83%e8%80%85"},{"name":"ゲーム制作","urlName":"%e3%82%b2%e3%83%bc%e3%83%a0%e5%88%b6%e4%bd%9c"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
