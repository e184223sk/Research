More than 1 year has passed since last update.AWS SDK for .NETにはC#からDynamoDBにアクセスするAPIが含まれているわけですが、それには低レベルAPIと高レベルAPIの2つがあります。
低レベルAPIというのが、これまで説明してきたやつです。
格納するデータのタイプまで指定する必要がありました。これに対して高レベルAPIというのは名前のとおり、詳細をさらに隠して使いやすくなっています。高レベルAPIを使うと、データの追加を以下のように書くことができます。
データの構築にはAttributeValueではなく`Document（Amazon.DynamoDBv2.DocumentModel名前空間）クラスを使用します。AttributeValueでは指定しなくてはならなかったデータのタイプなどはDocumentクラスがうまく隠してくれていて、データ型を気にする必要なくインスタンスにキーとデータをセットで放り込んでいくだけでOKという形になっています。
すばらしい。これを実行すると、DynamoDBのテーブルには以下のようなデータが追加されます。
testuser2というのが今回追加したデータです。
データの型が正しく指定されて格納されています。
このDocumentクラスですが、どんな型でも突っ込めるのかなということで、List&lt;string&gt;をいれてみました。
以下のように。
これでテーブルにデータを突っ込むと、どういう形で格納されるのか見てみましょう。DynamoDB側はこのようになります。
「SS」というのは「文字列のセット（String Set）」という意味ですね。
何も考えずにどんどん突っ込んでいけるのはとても便利ですね。


