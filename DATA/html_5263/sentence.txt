今更ながらC#9.0から追加されたレコード型とwith式を使ってみたのでメモ
https://docs.microsoft.com/ja-jp/dotnet/csharp/whats-new/tutorials/records例えば、平面上の座標を示すPoint2Dクラスのインスタンスが複数存在する時に、
あるインスタンスが他のインスタンスと内容（X座標とY座標の値）が等しいかを判定したいとします。参照先ではなく、内容が等しいかを判定するためには
C#8.0まではPoint2DクラスでEqualsメソッドとGetHashCodeメソッドをオーバーライドする必要がありました。C#9.0からはレコード型を利用することによって、より簡単に実装することができます。
レコードを定義するには、classの代わりにrecordキーワードを使用して型を宣言します。レコードは、クラスと同じように扱うことができます。もちろんメンバを定義することもできます。そして、主に以下の作業を内部的に実施してくれます。結果として、あるインスタンスが他のインスタンスと内容が等しいかを判定したい時にレコード型を利用すると、今までと比べて簡単に実装することが可能です。レコード型と同じくC#9.0から追加されたwith式を使うと、簡単にレコードの複製をすることができます。コピー先 = コピー元 with { プロパティ名 = 値, ... }以上です。


