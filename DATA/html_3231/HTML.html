<!DOCTYPE html><html><head><meta charset="utf-8" /><title>UnityでRPGを作るpart1 歩行アニメーションと操作 - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/_tybt/items/bc9c3be75c04ab547c35" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="yL/0c9BbctA56qg2b6pqo0SnCNOP/VbEn/1GtJyxa6dC12eV+gD2PWn53MYp34smD3IxUiO7pp0YMa3LfF8iLw==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta content="@tyabata32" name="twitter:creator" /><meta property="og:type" content="article"><meta property="og:title" content="UnityでRPGを作るpart1 歩行アニメーションと操作 - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1WVzVwZEhuamdhZFNVRWZqZ3BMa3Zaempnb3R3WVhKME1TRG1yYW5vb1l6amdxTGpnNHZqZzZIamc3empncmZqZzZmamc3UGpnYWptazQza3ZadyZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTU0JnR4dC1jbGlwPWVsbGlwc2lzJnR4dC1hbGlnbj1jZW50ZXIlMkNtaWRkbGUmcz1jNWM3NzAzNDdjODQyNWE3ZGMzMjk4NzczYWZjZWE1Nw&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRjkwZVdKMCZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPWU3ZjdkMmQyNDc0YTY0Mzg3ZjBhZjRhZjQxYWRhOGFj&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=db4348321c77d5a0061815bb14dacb4c"><meta property="og:description" content="

はじめに

お仕事はWeb系のエンジニアでReactやらSpringやらなんかあれば触るんですが
趣味のゲームを作りたい欲からUnityを触り始めてみました。

直近の目標は昔ながらのDQっぽいシステムのRPGを作るお勉強なので学..."><meta content="https://qiita.com/_tybt/items/bc9c3be75c04ab547c35" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,Unity,初心者向け,RPG" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 1nzh4zz 38fzdi helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-1nzh4zz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 32px;background-color:#FBE69E;color:rgba(0,0,0,0.87);line-height:1.5;font-weight:600;}@media (max-width:770px){.css-1nzh4zz{padding:16px;}}.css-38fzdi{color:#CA832A;margin-right:4px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-01b47679-1bc3-4718-a1fc-7bafb1724a92"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2F_tybt%2Fitems%2Fbc9c3be75c04ab547c35">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2F_tybt%2Fitems%2Fbc9c3be75c04ab547c35">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-01b47679-1bc3-4718-a1fc-7bafb1724a92">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2019-06-12T01:09:17.000+09:00","dateModified":"2019-06-12T01:09:44.000+09:00","headline":"UnityでRPGを作るpart1 歩行アニメーションと操作","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1WVzVwZEhuamdhZFNVRWZqZ3BMa3Zaempnb3R3WVhKME1TRG1yYW5vb1l6amdxTGpnNHZqZzZIamc3empncmZqZzZmamc3UGpnYWptazQza3ZadyZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTU0JnR4dC1jbGlwPWVsbGlwc2lzJnR4dC1hbGlnbj1jZW50ZXIlMkNtaWRkbGUmcz1jNWM3NzAzNDdjODQyNWE3ZGMzMjk4NzczYWZjZWE1Nw\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRjkwZVdKMCZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPWU3ZjdkMmQyNDc0YTY0Mzg3ZjBhZjRhZjQxYWRhOGFj\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=db4348321c77d5a0061815bb14dacb4c","mainEntityOfPage":"https://qiita.com/_tybt/items/bc9c3be75c04ab547c35","author":{"@type":"Person","address":"Tokyo, Japan","email":null,"identifier":"_tybt","name":"_tybt","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Fprofile-images%2F1613519314?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=545a8b2b8781165ee3e67deb9161560c","url":"https://qiita.com/_tybt","description":"しがないエンジニア。楽しくモノづくりがしたい。\r\n静的型付けをしてくれる言語が好きで、愛のない変数名は駆逐する。\r\nゆるい話ははてブに書いてます。もっとゆるいのはtwitterに書いてます。\r\n\r\n落ち着いたらゲーム制作再開したい\r\n","memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://increments.connpass.com/event/211948/">【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup</a><a target="_blank" id="header_text_message_2" href="https://increments.connpass.com/event/211948/">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"_tybt","type":"items","id":"bc9c3be75c04ab547c35"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"_tybt","type":"items","id":"bc9c3be75c04ab547c35"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":2,"pos_id":"header_text_message_1","message":"【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"_tybt","type":"items","id":"bc9c3be75c04ab547c35"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":2,"pos_id":"header_text_message_2","message":"【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/_tybt/items/bc9c3be75c04ab547c35","location":"/_tybt/items/bc9c3be75c04ab547c35","scheme":"https","host":"qiita.com","port":null,"pathname":"/_tybt/items/bc9c3be75c04ab547c35","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"JfDJzXNIre/LuWMVIbWz7PLlEjgXW17IUyS6/rWhgAavmForWRMpApuqF+VnwFJpuTArubsdrpHU6FGBVU/Jjg==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-8cb62e7a-9a34-4d7f-956f-781724a7204b"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/_tybt/items/bc9c3be75c04ab547c35/likers" class="css-1iupg5d">40</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">53</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/bc9c3be75c04ab547c35/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/_tybt/items/bc9c3be75c04ab547c35/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/_tybt/items/bc9c3be75c04ab547c35/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/_tybt/items/bc9c3be75c04ab547c35/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/_tybt/items/bc9c3be75c04ab547c35.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-1nzh4zz"><span class="fa fa-fw fa-warning css-38fzdi"></span><p>More than 1 year has passed since last update.</p></div><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/_tybt"><img class="css-100alwu eyfquo10" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/profile-images/1613519314" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/_tybt" class="css-10ougpm">@<!-- -->_tybt</a><div class="css-1ay9vb9"><span><meta content="2019-06-11T16:09:17Z"/><time dateTime="2019-06-11T16:09:44Z" class="css-m19uds">updated at 2019-06-11</time></span></div></div></div></div></div><h1 class="css-cgzq40">UnityでRPGを作るpart1 歩行アニメーションと操作</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/unity" class="css-4czcte">Unity</a><a href="/tags/%e5%88%9d%e5%bf%83%e8%80%85%e5%90%91%e3%81%91" class="css-4czcte">初心者向け</a><a href="/tags/rpg" class="css-4czcte">RPG</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div>
<h1>
<span id="はじめに" class="fragment"></span><a href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB"><i class="fa fa-link"></i></a>はじめに</h1>

<p>お仕事はWeb系のエンジニアでReactやらSpringやらなんかあれば触るんですが<br>
趣味のゲームを作りたい欲からUnityを触り始めてみました。</p>

<p>直近の目標は昔ながらのDQっぽいシステムのRPGを作るお勉強なので学んだことをまとめる<br>
そう、備忘録です <img alt=":muscle:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/1f4aa.png" title=":muscle:" width="20" loading="lazy"></p>

<ul>
<li>とりあえずUnityをPCに入れた人</li>
<li>プログラムを少し触ったことある人</li>
</ul>

<p>を前提に書きます。<br>
また、環境はMacなのでWinの人はいい感じに読み解いていただけるとありがたいです<img alt=":pray:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/1f64f.png" title=":pray:" width="20" loading="lazy"> <br>
C#使いますが、Unity以外のC#の書き方云々とかは基本的に説明書きません</p>

<h3>
<span id="今回つくるもの" class="fragment"></span><a href="#%E4%BB%8A%E5%9B%9E%E3%81%A4%E3%81%8F%E3%82%8B%E3%82%82%E3%81%AE"><i class="fa fa-link"></i></a>今回つくるもの</h3>

<p>歩行アニメーションとキーボードでキャラクターの操作</p>

<h3>
<span id="準備するもの" class="fragment"></span><a href="#%E6%BA%96%E5%82%99%E3%81%99%E3%82%8B%E3%82%82%E3%81%AE"><i class="fa fa-link"></i></a>準備するもの</h3>

<ul>
<li>Unity

<ul>
<li>これがないと始まらない</li>
</ul>
</li>
<li>Visual Studio

<ul>
<li>スクリプトの編集のおとも。入力候補が表示されるのでUnityのAPIを雰囲気理解でも助かる</li>
</ul>
</li>
<li>キャラクター歩行素材(透過png)を用意

<ul>
<li>ここでは自分で用意しちゃいましたが、勉強だけの使用なら素材はおまかせ</li>
<li>前後左右にそれぞれ3パターン の計12パターンをおさめた１枚の画像</li>
<li>RPGツクールの歩行グラフィックと調べてみるとたくさんでてきます</li>
</ul>
</li>
</ul>

<p>RPGツクールの歩行素材を参考にオリジナルキャラのドットを作りました<br>
よくみるパラパラアニメをするための絵を一つの画像ファイル(透過png)にまとめたものです<br>
ドット絵作成は <a href="https://firealpaca.com/ja/" rel="nofollow noopener" target="_blank">FireAlpaca</a> つかいました。フリーなのにできる子です。<br>
<a href="https://camo.qiitausercontent.com/14648154f6dfc8ea07b64f0b7254a1a21c802508/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f66333865343730372d616233612d643634642d663837382d3533383737326339653737382e706e67" target="_blank" rel="nofollow noopener"><img width="239" alt="スクリーンショット 2019-06-02 18.43.53.png" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Ff38e4707-ab3a-d64d-f878-538772c9e778.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=8e2bd492a88805e4df261fda57169988" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/f38e4707-ab3a-d64d-f878-538772c9e778.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Ff38e4707-ab3a-d64d-f878-538772c9e778.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=21b0b1f9f246fd8657570a3a2bb9274d 1x" loading="lazy"></a></p>

<h1>
<span id="作業詳細" class="fragment"></span><a href="#%E4%BD%9C%E6%A5%AD%E8%A9%B3%E7%B4%B0"><i class="fa fa-link"></i></a>作業詳細</h1>

<p>Unityを立ち上げ、プロジェクトを作成してLet`s Try!</p>

<h2>
<span id="画像を読み込みと分割" class="fragment"></span><a href="#%E7%94%BB%E5%83%8F%E3%82%92%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%81%BF%E3%81%A8%E5%88%86%E5%89%B2"><i class="fa fa-link"></i></a>画像を読み込みと分割</h2>

<p>用意した画像を<code>Project</code>の<code>Assets</code>にドラッグ&amp;ドロップするとプロジェクトに画像が登録される。<br>
ここから、前後左右が描かれている歩行アニメーションの画像を分割してUnity内で別々に扱えるようにしていく。<br>
アニメーションを作るための事前準備。</p>

<h3>
<span id="画像の設定をする" class="fragment"></span><a href="#%E7%94%BB%E5%83%8F%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%82%92%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>画像の設定をする</h3>

<p>登録した画像を選択すると右の<code>inspector</code>タブに画像の詳細設定が表示される<br>
<a href="https://camo.qiitausercontent.com/b959d3f5e098cc1c731bbb27a603b07ac651b387/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f66393137663565322d343235332d363135632d373835652d3935373739323732373430322e706e67" target="_blank" rel="nofollow noopener"><img width="650" alt="imageload1.png" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Ff917f5e2-4253-615c-785e-957792727402.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=7df9b3471f6a3978d2a64a7420fac4fc" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/f917f5e2-4253-615c-785e-957792727402.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Ff917f5e2-4253-615c-785e-957792727402.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=58b64da05237bdccabe8208b1656bace 1x" loading="lazy"></a></p>

<p>ここでは初期値から以下の設定を変更している</p>

<table>
<thead>
<tr>
<th style="text-align: center">項目</th>
<th style="text-align: center">設定する値</th>
<th style="text-align: center">項目の説明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center">Texture Type</td>
<td style="text-align: center">Sprite(2D and UI)</td>
<td style="text-align: center">このテクスチャをどう利用するかの設定。今回は2Dゲーム用のSpriteとして使う</td>
</tr>
<tr>
<td style="text-align: center">Sprite Mode</td>
<td style="text-align: center">Multiple</td>
<td style="text-align: center">一つの画像を複数のSpriteとして設定する</td>
</tr>
<tr>
<td style="text-align: center">Mesh Type</td>
<td style="text-align: center">Full Rect</td>
<td style="text-align: center">Tight指定をするとアルファの余計な部分をクロップされるのでとりあえずFull Rect</td>
</tr>
<tr>
<td style="text-align: center">Pixels Per Unit</td>
<td style="text-align: center">1</td>
<td style="text-align: center">ドット絵をベースにしているので1指定。扱う絵によっていい感じに指定する値。ユニットについては下記参考</td>
</tr>
<tr>
<td style="text-align: center">Filter Mode</td>
<td style="text-align: center">Pointer (no filter)</td>
<td style="text-align: center">ドット絵をはっきり見せるため。Filterを指定するとaliasがかかる</td>
</tr>
<tr>
<td style="text-align: center">Compression</td>
<td style="text-align: center">None</td>
<td style="text-align: center">圧縮形式の指定。サイズはそんなに大きくないのでとりあえず圧縮しない。 <a href="https://docs.unity3d.com/ja/current/Manual/class-TextureImporter.html" rel="nofollow noopener" target="_blank">テクスチャについて</a>
</td>
</tr>
</tbody>
</table>

<p>下3つはドットをキレイに見せるための指定なのでなくてもいいけどあると良い。</p>

<blockquote>
<p><a href="https://docs.unity3d.com/ja/current/ScriptReference/Sprite.html" rel="nofollow noopener" target="_blank">Sprite</a><br>
キャラクター、アイテム、発射物や他の 2D ゲーム要素として使用される 2D グラフィックスオブジェクト</p>

<p><a href="https://unity3d.com/jp/learn/tutorials/projects/creating-believable-visuals/where-start" rel="nofollow noopener" target="_blank">スケールとユニット</a><br>
尺度（スケール）と測定単位（ユニット）は、現実のようなシーンを作る上で非常に重要な役割を果たします。 リアリスティックなビジュアルを目指す作品の場合、一般的には 1 Unity ユニット = 1m（100cm）と想定することが推奨されます。多くの物理システムの単位のサイズがこの想定になっているからです</p>
</blockquote>

<h3>
<span id="画像を分割する" class="fragment"></span><a href="#%E7%94%BB%E5%83%8F%E3%82%92%E5%88%86%E5%89%B2%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>画像を分割する</h3>

<p>上記の設定を行ったら、同画面にある<code>Sprite Editor</code>を開く<br>
<a href="https://camo.qiitausercontent.com/2c1e081d1404225540d3d181a45d11706b71e60b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f34303037393363612d313266302d366134302d346464372d3034343662306133366361652e706e67" target="_blank" rel="nofollow noopener"><img width="689" alt="spriteeditor.png" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F400793ca-12f0-6a40-4dd7-0446b0a36cae.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=3df9f159e0c72de37622920e62d2b649" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/400793ca-12f0-6a40-4dd7-0446b0a36cae.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F400793ca-12f0-6a40-4dd7-0446b0a36cae.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=c392d2128293d4fac930fa1b58670699 1x" loading="lazy"></a></p>

<p>左上の<code>Slice</code>を選択して、一番上に表示されている<code>Type: Automatic</code>を<br>
<code>Type: Grid by Cell Count</code>に変更して、ColumnとRowに分割する値を設定する。</p>

<p>RPGツクールの歩行画像は以下のような形で`Column: 3 Row: 4で配置されているので<br>
今回RPGツクールを参考につくった画像もそのとおりに値を指定する。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>前1, 前2, 前3
左1, 左2, 左3
右1, 右2, 右3
後1, 後2, 後3
</code></pre></div></div>

<p>で、指定後にSpriteボタンを押して上部のApplyを押すと完了。<br>
Assets内の画像の右についてる矢印を押すと、下のように分割した状態で展開される</p>

<p><a href="https://camo.qiitausercontent.com/3e11ca429c7add02b91dbf4b5cea78a546de49da/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f34613037616462622d383062342d616666622d336334632d3539343435666234303332372e706e67" target="_blank" rel="nofollow noopener"><img width="379" alt="imagesprite.png" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F4a07adbb-80b4-affb-3c4c-59445fb40327.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=f033124a63e83af8e02e795fe74b11b6" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/4a07adbb-80b4-affb-3c4c-59445fb40327.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F4a07adbb-80b4-affb-3c4c-59445fb40327.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=b42d365ad8173a9014edaa96dc9c7749 1x" loading="lazy"></a></p>

<h2>
<span id="animation-clip-ファイルの作成" class="fragment"></span><a href="#animation-clip-%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E4%BD%9C%E6%88%90"><i class="fa fa-link"></i></a>Animation Clip ファイルの作成</h2>

<p>画像を分割したので次はAnimationの作成をしていきます。<br>
ぱらぱらアニメ作成のターンです。ここが動くとだいぶテンションあがってきます。</p>

<p>Assets内にある読み込んだ画像ファイルを左上のHierarchyタブにドラッグ&amp;ドロップをすると<br>
画像の名前でオブジェクトが追加され、画面上に画像のキャラクタ(Spriteで分割した左上の部分)が表示されると思います。</p>

<p>その後、追加されたオブジェクトを選択した状態で<br>
<code>Window</code> -&gt; <code>Animation</code> -&gt; <code>Animation</code><br>
を選択します</p>

<p><a href="https://camo.qiitausercontent.com/6ebb044f9f4dccf4166b90b89638db6c6d114690/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f34656134393731322d616536322d363761352d353631382d6663363438616537313432612e706e67" target="_blank" rel="nofollow noopener"><img width="650" alt="objectanimat.png" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F4ea49712-ae62-67a5-5618-fc648ae7142a.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=557cd0bf0dc6e2e9e46cc116e5a638a3" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/4ea49712-ae62-67a5-5618-fc648ae7142a.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F4ea49712-ae62-67a5-5618-fc648ae7142a.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=0357dad109ceab20719a46ca16e18a60 1x" loading="lazy"></a></p>

<p>そうすると別ウインドウに<code>To begin Animating ...</code>といった文言と<br>
<code>Create</code>ボタンが表示されるので、ボタンを押すとAnimationファイルの新規作成を行います。</p>

<p>左上にファイル名が表示され、その下に <code>Add Property</code>といったボタンがあるので押し<br>
<code>Sprite Renderer</code> -&gt; <code>Sprite</code>を選択します。<br>
プロパティが追加されたら、ファイル名横に表示されている <code>Samples</code>を4にします。</p>

<p>RPGツクールのそれぞれの方向の画像(Column)は3つしかありませんが、以下の通りにアニメーションを繰り返します</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>右足前 -&gt; 静止 -&gt; 左足前 -&gt; 静止 -&gt; (繰り返し)
</code></pre></div></div>

<p>そのため、分割した画像を以下の順に読み込ませます。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>前1, 前2, 前3, 前2
</code></pre></div></div>

<p>こうすることで自然なアニメーションになります<br>
…自然というよりは昔ながらのRPGっぽい歩行になります。</p>

<p>そして以下のように作れたら１方向のアニメーション作成は完了です。<br>
<a href="https://camo.qiitausercontent.com/470bb4d4521b14d50891da1b9fbc0788964e51b9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f64646530623763612d343133662d313830322d613731302d3365356435346430356231362e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Fdde0b7ca-413f-1802-a710-3e5d54d05b16.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=adf0fcc181c69c2732ce41e75ea659fd" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/dde0b7ca-413f-1802-a710-3e5d54d05b16.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Fdde0b7ca-413f-1802-a710-3e5d54d05b16.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=988252a1de4cb3415f0be0bb4dfbe734 1x" loading="lazy"></a></p>

<p>上の再生ボタンを押すとアニメーションが確認できます<br>
テンション上がってきますね（gifの速度は若干遅めです）<br>
<a href="https://camo.qiitausercontent.com/49d9fcb174d9bc9a74832808e7d6e20830e16d08/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f37656235663265332d306230642d646333362d623036612d6436623939633661656432632e676966" target="_blank" rel="nofollow noopener"><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/7eb5f2e3-0b0d-dc36-b06a-d6b99c6aed2c.gif" alt="qiita.gif" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/7eb5f2e3-0b0d-dc36-b06a-d6b99c6aed2c.gif" loading="lazy"></a></p>

<p>左上のファイル名をクリックすると<br>
下のようにプルダウンメニューが表示されるので、<code>Create New Clip</code>を選択して<br>
別方向のアニメーションファイルを作成し、前後左右のアニメーションを上の手順を繰り返して作成していきます。<br>
<a href="https://camo.qiitausercontent.com/593b33799d492d05b5bd64e867707b324d6a69f1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f38643131376532622d303635612d303532372d373762642d3862373761306639313931662e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F8d117e2b-065a-0527-77bd-8b77a0f9191f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=129b120a17b173a449ef2a7c0a49eb10" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/8d117e2b-065a-0527-77bd-8b77a0f9191f.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F8d117e2b-065a-0527-77bd-8b77a0f9191f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=1cb57734f9ccb24eb4ba8f7acb35806e 1x" loading="lazy"></a></p>

<p>後々わかりやすいように 右向きアニメーションは <code>char_right</code> 前(↑)向きは <code>char_up</code>といった感じで向きと名前を揃えておくとコレ以降が楽になります。</p>

<h2>
<span id="animator-controllerの作成" class="fragment"></span><a href="#animator-controller%E3%81%AE%E4%BD%9C%E6%88%90"><i class="fa fa-link"></i></a>Animator Controllerの作成</h2>

<p>次に「上移動のときは上に移動しているアニメーションを再生する」といったコントロールを行うための<br>
<strong>Animator Controller</strong>を作成していきます。</p>

<h3>
<span id="blender-treeの作成" class="fragment"></span><a href="#blender-tree%E3%81%AE%E4%BD%9C%E6%88%90"><i class="fa fa-link"></i></a>Blender Treeの作成</h3>

<p>「X軸に進むなら右のアニメーションを再生」といった動く方向に対して<br>
適切なアニメーションを表示するといった制御をよしなにやってくれる<br>
<strong>Bleder Tree</strong>というものを利用します。</p>

<p>アニメーション作成時にアニメーションファイルと一緒に作成されたであろう下のアイコンのファイルをダブルクリックします。<br>
<a href="https://camo.qiitausercontent.com/123161f0e704ddd49ba2f5af98b046737c16da9d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f63333163663663322d353730632d626237302d353138322d3164326265393233353735302e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Fc31cf6c2-570c-bb70-5182-1d2be9235750.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=b8bb276352824d2792162e7e79d60260" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/c31cf6c2-570c-bb70-5182-1d2be9235750.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Fc31cf6c2-570c-bb70-5182-1d2be9235750.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=25674c509c7f5d85827bc476b9914e37 1x" loading="lazy"></a></p>

<p>画面真ん中に下のような <code>Entry</code>から先程作ったAnimationファイル名に矢印が生えたもの等が散らかってる状態になっている（散らかってないときもある）<br>
<a href="https://camo.qiitausercontent.com/47b7cad893512942f36e7ca0a76e6097cdb374a2/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f61616231366133302d323330372d343530352d393830312d3663643232363862633061312e706e67" target="_blank" rel="nofollow noopener"><img width="650" alt="state.png" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Faab16a30-2307-4505-9801-6cd2268bc0a1.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=37cc003573dc91236652aed55dde0f3c" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/aab16a30-2307-4505-9801-6cd2268bc0a1.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Faab16a30-2307-4505-9801-6cd2268bc0a1.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=649f72c43ecad6e215be1a22fc74af6e 1x" loading="lazy"></a><br>
とりあえず無視して <code>右クリック</code> -&gt; <code>Create State</code> -&gt; <code>From New Blend Tree</code>を選択して、<br>
作成されたブロックをもう一度右クリックして <code>Set as Layer Default State</code>を選択します。<br>
すると、<code>Entry</code>から生えている線が作ったブロックに向きます。</p>

<p>残ったそれ以外の色がついていない四角はとりあえず消しましょう。<br>
今回は利用しません。</p>

<h3>
<span id="parametersにパラメータの追加" class="fragment"></span><a href="#parameters%E3%81%AB%E3%83%91%E3%83%A9%E3%83%A1%E3%83%BC%E3%82%BF%E3%81%AE%E8%BF%BD%E5%8A%A0"><i class="fa fa-link"></i></a>Parametersにパラメータの追加</h3>

<p>上記の次にこのAnimator Controllerで扱うパラメータを追加します。<br>
移動ベクトルに応じて変化させたいので <code>x</code>と<code>y</code>という名前で追加。<br>
型は<code>Float</code>を選びます。</p>

<h3>
<span id="blender-treeの設定" class="fragment"></span><a href="#blender-tree%E3%81%AE%E8%A8%AD%E5%AE%9A"><i class="fa fa-link"></i></a>Blender Treeの設定</h3>

<p>上でつくったBleder TreeのStateをダブルクリックすると下記のように何も設定されていない<br>
状態のBleder Treeが表示されます。</p>

<p><a href="https://camo.qiitausercontent.com/7517f2e691b3c9aab77614cdfbc91e36a24f53a9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f63336339626361612d613433632d343130342d663933332d3362663632653637393838382e706e67" target="_blank" rel="nofollow noopener"><img width="350" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Fc3c9bcaa-a43c-4104-f933-3bf62e679888.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=da0ac30ff1e1c9d8de0ba75f0ba34431" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/c3c9bcaa-a43c-4104-f933-3bf62e679888.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Fc3c9bcaa-a43c-4104-f933-3bf62e679888.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=55942983aabf51aaeed3b587f6d9e059 1x" loading="lazy"></a><br>
真ん中に表示されているブロックをクリックすると右の<code>inspector</code>に<br>
下のような表示がされるのでそれぞれ設定を変更します。<br>
<a href="https://camo.qiitausercontent.com/23fe180f3242d4506cf54a628685fc52f4b1809d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f64663866303430372d303538322d653464632d626536332d6337316632346238373131622e706e67" target="_blank" rel="nofollow noopener"><img width="350" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Fdf8f0407-0582-e4dc-be63-c71f24b8711b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=6562c1e396388f7d246dfd7858c891e1" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/df8f0407-0582-e4dc-be63-c71f24b8711b.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Fdf8f0407-0582-e4dc-be63-c71f24b8711b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=fc23777d8c5b56c12d30a3b2b1d6bebb 1x" loading="lazy"></a></p>

<table>
<thead>
<tr>
<th>項目</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Blend Type</td>
<td>2次元の歩行アニメーションなので2D Simple Directionalを指定</td>
</tr>
<tr>
<td>Parameters</td>
<td>前項で作成したxとyを設定</td>
</tr>
</tbody>
</table>

<p>入力したら<code>Motion</code>の下にある +マークをクリック -&gt; <code>Add Motion Field</code>を押します。<br>
すると、アニメーションファイル一覧を表示したウインドウが表示されるので<br>
先程作成したファイルを選択します。これを全方向分追加します。</p>

<p>追加したファイルの名前の横に <code>Pos X</code> <code>Pos Y</code>という項目があると思うのでそれぞれ下のように入力してください。<br>
進む方向とアニメーションの向きを揃えた設定をするだけです。</p>

<table>
<thead>
<tr>
<th>アニメーションの向き</th>
<th>Pos X</th>
<th>Pos Y</th>
</tr>
</thead>
<tbody>
<tr>
<td>上</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>右</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>下</td>
<td>0</td>
<td>-1</td>
</tr>
<tr>
<td>左</td>
<td>-1</td>
<td>0</td>
</tr>
</tbody>
</table>

<p>これらが終わると下のような状態になると思います<br>
<a href="https://camo.qiitausercontent.com/fcb63635d54a307852656dee9ae46b3d759eb5d3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f62663534666239632d653834662d373264612d656661352d3265386361373263356633392e706e67" target="_blank" rel="nofollow noopener"><img width="650" alt="blendtree.png" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Fbf54fb9c-e84f-72da-efa5-2e8ca72c5f39.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=69c0dff29248123ab7dec6f9d3676aaa" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/bf54fb9c-e84f-72da-efa5-2e8ca72c5f39.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Fbf54fb9c-e84f-72da-efa5-2e8ca72c5f39.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=d101eacac2e9832f359015b664a08513 1x" loading="lazy"></a></p>

<p>とりあえずこれでAnimator Controllerの設定は完了です。<br>
もうわかってきたかもしれませんが、x軸とy軸の移動に対してそれぞれのアニメーションを切り替える作業をこれがよしなにやってくれるようになります。</p>

<p>ただ、これだけでは実行しても向きも変わらないし位置も変わらないので<br>
最後にやっとスクリプトを書きます。</p>

<p>…むしろここまでスクリプト何もいらないんだからさすがUnity先生<br>
だいぶ昔にDxLibでなんかやろうとしたことが懐かしい(^o^</p>

<h2>
<span id="スクリプトの作成とオブジェクトの操作" class="fragment"></span><a href="#%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90%E3%81%A8%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E6%93%8D%E4%BD%9C"><i class="fa fa-link"></i></a>スクリプトの作成とオブジェクトの操作</h2>

<p>最後にキャラクターを動かすためのスクリプトを書きましょう。</p>

<h3>
<span id="rigidbody-2dをセットする" class="fragment"></span><a href="#rigidbody-2d%E3%82%92%E3%82%BB%E3%83%83%E3%83%88%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>Rigidbody 2Dをセットする</h3>

<p>アニメーション作成時にできた左側のオブジェクトをクリックして、オブジェクトのinspectorを表示すると<br>
一番下に<code>Add Component</code>というボタンがあるので、それを押すと下のような項目一覧がでるので<br>
<code>Rigidbody 2D</code>を選択します(入力窓に入れると見つけやすいです)</p>

<p><a href="https://camo.qiitausercontent.com/2f872fb6852868484483e990b43e5ac215c0e2c6/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f32353562326535362d373066372d373165642d363761622d6565656532623438666130622e706e67" target="_blank" rel="nofollow noopener"><img width="200" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F255b2e56-70f7-71ed-67ab-eeee2b48fa0b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=425e89168697ae4bce573b47a13cb5d4" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/255b2e56-70f7-71ed-67ab-eeee2b48fa0b.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F255b2e56-70f7-71ed-67ab-eeee2b48fa0b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=1513cbc11d5195fc22cfe5c597bb890b 1x" loading="lazy"></a></p>

<p>追加するとこちらのように<code>Rigidbody 2D</code>という枠が表示されるので<br>
Body Typeを <code>Kinematic</code>にすることで、物理演算が無視されて2Dのうごきっぽくなります。</p>

<p><a href="https://camo.qiitausercontent.com/de64e5bd9783ee2aa7ede13812c7a6d14c9ef682/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f39386530646261612d386236382d373963632d343662652d3363366565636238343664322e706e67" target="_blank" rel="nofollow noopener"><img width="650" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F98e0dbaa-8b68-79cc-46be-3c6eecb846d2.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=6e36077b41892ae45fbf6b3aa4bd87ac" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/98e0dbaa-8b68-79cc-46be-3c6eecb846d2.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F98e0dbaa-8b68-79cc-46be-3c6eecb846d2.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=2b528e8ea6386cf91f518c7466694961 1x" loading="lazy"></a></p>

<p>Dynamic指定のままで動かすと、おそらくキャラクタがだんだん画面下へ落ちていくような動きになります。<br>
Rigidbody 2Dはオブジェクトの動きを物理エンジンで制御するためのコンポーネントです。<br>
とりあえず<strong>オブジェクトを操作するのにセットする必要がある</strong>ぐらいの認識でいいと思います。</p>

<p><a href="https://docs.unity3d.com/ja/current/Manual/class-Rigidbody2D.html" rel="nofollow noopener" target="_blank">Rigidbody 2D - Unity マニュアル</a></p>

<h3>
<span id="スクリプトファイルを作成" class="fragment"></span><a href="#%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E4%BD%9C%E6%88%90"><i class="fa fa-link"></i></a>スクリプトファイルを作成</h3>

<p>右クリックから <code>Create</code> -&gt; <code>C# Script</code>を選択してファイルを作成。<br>
<code>Assets</code>にC#と書かれたアイコンが作成されると思うので、ダブルクリックをするとVisual Studioが開かれると思います（ちょっと時間かかります）</p>

<p><a href="https://docs.microsoft.com/ja-jp/visualstudio/cross-platform/getting-started-with-visual-studio-tools-for-unity?view=vs-2019" rel="nofollow noopener" target="_blank">Visual Studio Tools for Unity の使用を開始する - Visual Studio | Microsoft Docs</a></p>

<blockquote>
<p>Unity 2018.1 以降、Visual Studio は Unity の既定の C# スクリプト エディターであり、Unity Download Assistant および Unity Hub インストール ツールに含まれます。</p>
</blockquote>

<p>とのことなので導入の手順は飛ばしますが、必要あればリンクを参考にしてみてください。</p>

<h3>
<span id="キー操作でオブジェクトを動かすスクリプト" class="fragment"></span><a href="#%E3%82%AD%E3%83%BC%E6%93%8D%E4%BD%9C%E3%81%A7%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E5%8B%95%E3%81%8B%E3%81%99%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88"><i class="fa fa-link"></i></a>キー操作でオブジェクトを動かすスクリプト</h3>

<p>スクリプトファイルを作成でつくったファイルにコードを足していきます。<br>
とりあえずファイルは<code>MoveController</code>とつけます</p>

<p>一応名前は何でも良いですが、プログラムのファイルやクラスや変数名は<br>
それぞれが何をしているか誰でもわかるようないい名前をつけていきましょう！</p>

<p>visual studioでスクリプトファイルを修正し<br>
動かしたいオブジェクトに対してドラッグ&amp;ドロップで関連付けさせましょう</p>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre class="with-code"><code><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>

<span class="cm">/**
 * キャラの座標を変更するController
 */</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">MoveController</span> <span class="p">:</span> <span class="n">MonoBehaviour</span> <span class="p">{</span>
    <span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span>
    <span class="kt">float</span> <span class="n">SPEED</span> <span class="p">=</span> <span class="m">1.0f</span><span class="p">;</span>
    <span class="k">private</span> <span class="n">Rigidbody2D</span> <span class="n">rigidBody</span><span class="p">;</span>
    <span class="k">private</span> <span class="n">Vector2</span> <span class="n">inputAxis</span><span class="p">;</span>

    <span class="k">void</span> <span class="nf">Start</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// オブジェクトに設定しているRigidbody2Dの参照を取得する</span>
        <span class="k">this</span><span class="p">.</span><span class="n">rigidBody</span> <span class="p">=</span> <span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Rigidbody2D</span><span class="p">&gt;();</span>
    <span class="p">}</span>

    <span class="k">void</span> <span class="nf">Update</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// x,ｙの入力値を得る</span>
        <span class="c1">// それぞれ+や-の値と入力の関連付けはInput Managerで設定されている</span>
        <span class="n">inputAxis</span><span class="p">.</span><span class="n">x</span> <span class="p">=</span> <span class="n">Input</span><span class="p">.</span><span class="nf">GetAxis</span><span class="p">(</span><span class="s">"Horizontal"</span><span class="p">);</span>
        <span class="n">inputAxis</span><span class="p">.</span><span class="n">y</span> <span class="p">=</span> <span class="n">Input</span><span class="p">.</span><span class="nf">GetAxis</span><span class="p">(</span><span class="s">"Vertical"</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">void</span> <span class="nf">FixedUpdate</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// 速度を代入する</span>
        <span class="n">rigidBody</span><span class="p">.</span><span class="n">velocity</span> <span class="p">=</span> <span class="n">inputAxis</span><span class="p">.</span><span class="n">normalized</span> <span class="p">*</span> <span class="n">SPEED</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ここでは、入力されたキーを取得して<code>x</code>,<code>y</code>軸の移動量を計算してセットするのではなく<br>
矢印キーで入力された<code>Horizontal</code>, <code>Vertical</code>の値を取得して<br>
係数(SPEED)を掛けた値をそのまま速度として<code>velocity</code>にセットしています</p>

<p><code>Horizontal</code>や<code>Vertical</code>に対して、プラス方向のキー、マイナス方向のキーがどれかといった設定は<br>
<code>Edit</code> -&gt; <code>Project Settings</code> -&gt; <code>Input</code>から見れます</p>

<p><a href="https://camo.qiitausercontent.com/d18dd4a891a9ad1729567d547900fec9804e7e0d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f64383737643464642d336562662d313364372d386661302d3138396631373734666565302e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Fd877d4dd-3ebf-13d7-8fa0-189f1774fee0.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=89edb8776bc31151d3911189d9c3005d" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/d877d4dd-3ebf-13d7-8fa0-189f1774fee0.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Fd877d4dd-3ebf-13d7-8fa0-189f1774fee0.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=0488ed4c57e231086c1c26dd2b84d3c5 1x" loading="lazy"></a></p>

<p>また、上記ではオブジェクトの速度である<code>velocity</code>に対して値をいれることで<br>
オブジェクトを操作していますが <code>Rigidbody#AddPosition</code>といったメソッドなど、<br>
オブジェクトの位置を変える方法はいくつもあるのでそれぞれの特性を活かして実装していけるとよいかと思います。<br>
今回はとりあえずvelocityに値を設定</p>

<p><a href="https://camo.qiitausercontent.com/72a6faabc5af082cd2063675759a8d4d7bd6c21c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f31303033333039312d363162632d373764662d343762382d3261373838373439643939632e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F10033091-61bc-77df-47b8-2a788749d99c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=549288ca5f7308f92769947d04247e8f" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/10033091-61bc-77df-47b8-2a788749d99c.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F10033091-61bc-77df-47b8-2a788749d99c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=68f550e54c5c1698bc1e3b4963ea9f2f 1x" loading="lazy"></a></p>

<p>上記のスクリプトとキャラクターのオブジェクトに関連がつけられたら<br>
ウインドウ上部の再生ボタンを押すと実際に入力に対して動くか確認できます。</p>

<p><a href="https://camo.qiitausercontent.com/16a5817e3b62c4d1490dc21364a5e0b273362282/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f39616264376162662d393231612d373038652d623838662d3534663265343266633662662e676966" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F9abd7abf-921a-708e-b88f-54f2e42fc6bf.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=00166c0b5314bc15aa3d30b8938b8554" alt="out.gif" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/9abd7abf-921a-708e-b88f-54f2e42fc6bf.gif" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F9abd7abf-921a-708e-b88f-54f2e42fc6bf.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=a2a18fded0b4aaea1686cd9d7b0f1714 1x" loading="lazy"></a></p>

<p>キー操作にあわせてオブジェクトが動くようになりました。<br>
最後に前項でつくったAnimator Controllerを組み合わせて、動く方向にあわせて向きが変わるようにしていきます。</p>

<h3>
<span id="キー操作にあわせアニメーションに状態をわたすスクリプト" class="fragment"></span><a href="#%E3%82%AD%E3%83%BC%E6%93%8D%E4%BD%9C%E3%81%AB%E3%81%82%E3%82%8F%E3%81%9B%E3%82%A2%E3%83%8B%E3%83%A1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AB%E7%8A%B6%E6%85%8B%E3%82%92%E3%82%8F%E3%81%9F%E3%81%99%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88"><i class="fa fa-link"></i></a>キー操作にあわせアニメーションに状態をわたすスクリプト</h3>

<p><details><summary>サンプルコードをみる</summary><div>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre class="with-code"><code><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>

<span class="cm">/**
 * キャラの向き状態を変更するController
 */</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">AnimationStateController</span> <span class="p">:</span> <span class="n">MonoBehaviour</span> <span class="p">{</span>
    <span class="n">Animator</span> <span class="n">animator</span><span class="p">;</span>

    <span class="k">void</span> <span class="nf">Start</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// 初期化</span>
        <span class="c1">// コントローラをセットしたオブジェクトに紐付いている</span>
        <span class="c1">// Animatorを取得する</span>
        <span class="k">this</span><span class="p">.</span><span class="n">animator</span> <span class="p">=</span> <span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Animator</span><span class="p">&gt;();</span>
    <span class="p">}</span>

    <span class="cm">/**
     * Update は MonoBehaviour が有効の場合に、毎フレーム呼び出されます
     * https://docs.unity3d.com/ja/current/ScriptReference/MonoBehaviour.Update.html
     */</span>
    <span class="k">void</span> <span class="nf">Update</span><span class="p">()</span> <span class="p">{</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">Input</span><span class="p">.</span><span class="n">anyKeyDown</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">Vector2</span><span class="p">?</span> <span class="n">action</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="nf">actionKeyDown</span><span class="p">();</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">action</span><span class="p">.</span><span class="n">HasValue</span><span class="p">)</span> <span class="p">{</span>
                <span class="c1">// キー入力があればAnimatorにstateをセットする</span>
                <span class="nf">setStateToAnimator</span><span class="p">(</span><span class="n">vector</span><span class="p">:</span> <span class="n">action</span><span class="p">.</span><span class="n">Value</span><span class="p">);</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="c1">// 入力からVector2インスタンスを作成</span>
        <span class="n">Vector2</span> <span class="n">vector</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Vector2</span><span class="p">(</span>
            <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">Input</span><span class="p">.</span><span class="nf">GetAxis</span><span class="p">(</span><span class="s">"Horizontal"</span><span class="p">),</span>
            <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">Input</span><span class="p">.</span><span class="nf">GetAxis</span><span class="p">(</span><span class="s">"Vertical"</span><span class="p">));</span>

        <span class="c1">// キー入力が続いている場合は、入力から作成したVector2を渡す</span>
        <span class="c1">// キー入力がなければ null</span>
        <span class="nf">setStateToAnimator</span><span class="p">(</span><span class="n">vector</span><span class="p">:</span> <span class="n">vector</span> <span class="p">!=</span> <span class="n">Vector2</span><span class="p">.</span><span class="n">zero</span><span class="p">?</span> <span class="n">vector</span> <span class="p">:</span> <span class="p">(</span><span class="n">Vector2</span><span class="p">?)</span><span class="k">null</span><span class="p">);</span>

    <span class="p">}</span>

    <span class="cm">/**
     * Animatorに状態をセットする
     *    
     */</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">setStateToAnimator</span><span class="p">(</span><span class="n">Vector2</span><span class="p">?</span> <span class="n">vector</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(!</span><span class="n">vector</span><span class="p">.</span><span class="n">HasValue</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="n">animator</span><span class="p">.</span><span class="n">speed</span> <span class="p">=</span> <span class="m">0.0f</span><span class="p">;</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="n">vector</span><span class="p">.</span><span class="n">Value</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="n">animator</span><span class="p">.</span><span class="n">speed</span> <span class="p">=</span> <span class="m">1.0f</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="n">animator</span><span class="p">.</span><span class="nf">SetFloat</span><span class="p">(</span><span class="s">"x"</span><span class="p">,</span> <span class="n">vector</span><span class="p">.</span><span class="n">Value</span><span class="p">.</span><span class="n">x</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="n">animator</span><span class="p">.</span><span class="nf">SetFloat</span><span class="p">(</span><span class="s">"y"</span><span class="p">,</span> <span class="n">vector</span><span class="p">.</span><span class="n">Value</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>

    <span class="p">}</span>

    <span class="cm">/**
     * 特定のキーの入力があればキーにあわせたVector2インスタンスを返す
     * なければnullを返す   
     */</span>
    <span class="k">private</span> <span class="n">Vector2</span><span class="p">?</span> <span class="nf">actionKeyDown</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">Input</span><span class="p">.</span><span class="nf">GetKeyDown</span><span class="p">(</span><span class="n">KeyCode</span><span class="p">.</span><span class="n">UpArrow</span><span class="p">))</span> <span class="k">return</span> <span class="n">Vector2</span><span class="p">.</span><span class="n">up</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">Input</span><span class="p">.</span><span class="nf">GetKeyDown</span><span class="p">(</span><span class="n">KeyCode</span><span class="p">.</span><span class="n">LeftArrow</span><span class="p">))</span> <span class="k">return</span> <span class="n">Vector2</span><span class="p">.</span><span class="n">left</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">Input</span><span class="p">.</span><span class="nf">GetKeyDown</span><span class="p">(</span><span class="n">KeyCode</span><span class="p">.</span><span class="n">DownArrow</span><span class="p">))</span> <span class="k">return</span> <span class="n">Vector2</span><span class="p">.</span><span class="n">down</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">Input</span><span class="p">.</span><span class="nf">GetKeyDown</span><span class="p">(</span><span class="n">KeyCode</span><span class="p">.</span><span class="n">RightArrow</span><span class="p">))</span> <span class="k">return</span> <span class="n">Vector2</span><span class="p">.</span><span class="n">right</span><span class="p">;</span>
        <span class="k">return</span> <span class="k">null</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<p></p>
</div></details></p>

<p>長いので、必要あれば展開してください！<br>
とりあえず最低限それっぽく動くコードです。コメントを一応書いていますが、コピって動かして後で理解でも良いと思います。<br>
Unityがメソッド名も<code>UpperCamelCase</code>を推奨してるのに <code>lowerCamelCase</code>で書いてしまう…癖です <img alt=":innocent:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/1f607.png" title=":innocent:" width="20" loading="lazy"> </p>

<p>Updateメソッドの流れはざっくり下の通り</p>

<ol>
<li>キーが押された瞬間 <code>Input.anyKeyDown = true</code>のときにifの条件に入る</li>
<li>
<code>actionKeyDown</code>メソッドで上下左右のキーが押されていたらVector2を返して、<code>setStateToAnimator</code>で状態を反映する</li>
<li>キーが押された後 / 押されていないときの値はオブジェクトの位置を動かすときと同様に<code>GetAxis</code>で値を取得してvectorを作成する</li>
<li>
<code>Vertical</code> <code>Horizontal</code>で何かしら入力されていれば値を渡す。押されていない <code>Vector.zero</code>であれば nullを渡す</li>
<li>
<code>setStateToAnimator</code>で値がなければ <code>animator</code>のSpeedを0にしてアニメーションをstop。それ以外は渡された値を<code>animator#SetFloat</code>でBleder Treeで定義したxとyのパラメータにそれぞれVector2のxとyを渡す。</li>
</ol>

<p>1で、keyDownの瞬間に方向を変えるようにしているのは<br>
処理を外して確認するとわかるのですが、上の実装では動き始めてから一定の移動量を超えるまで<br>
向きが変わらないため、押した瞬間に向きが変わるように制御しています。</p>

<p><code>Input.anyKeyDown</code>がtrueになるのは<br>
「何もキーが押されてない状態から押された状態になったとき」だけなので<br>
下の完成品を見るとわかるかもですが、移動中に方向を変えたときに<code>Input.anyKeyDown</code>がtrueにならないので、</p>

<p>昔ながらのRPGぽくキーを押した瞬間移動方向と向きが変わっていないのがわかります。<br>
コレ以上はこだわりポイントなのでここでは割愛します。</p>

<h1>
<span id="完成品" class="fragment"></span><a href="#%E5%AE%8C%E6%88%90%E5%93%81"><i class="fa fa-link"></i></a>完成品</h1>

<p><a href="https://camo.qiitausercontent.com/08534a34a6175f3cf8197f0e3ade7c08c4acb055/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f33356438613935362d363430362d303631642d636437322d3730396433636236323361382e676966" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F35d8a956-6406-061d-cd72-709d3cb623a8.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=e38e8289040b4faa7efef477d6da76fe" alt="out.gif" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/35d8a956-6406-061d-cd72-709d3cb623a8.gif" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F35d8a956-6406-061d-cd72-709d3cb623a8.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=d22e6b42bf6cf0476835642bf3abc40d 1x" loading="lazy"></a></p>

<ul>
<li>RPGツクールのような歩行グラフィックがまとまった画像をSplitしてアニメーションさせる</li>
<li>十字キー入力でオブジェクトを移動させる</li>
<li>Blender Treeでアニメーションの方向を制御する</li>
</ul>

<p>といったことを行いました。<br>
本業もそうですが、やっぱり完成物がこうやって動く瞬間が一番楽しいです。</p>

<p>アニメーション読み込みからBlender Treeの設定までは ノンプログラミングでできそうな感じ？なので<br>
可能な限りシステムとデザイン部分を分離していい感じの作業の進め方も模索していきたい。そんなpart1でした。</p>

<h1>
<span id="次回以降" class="fragment"></span><a href="#%E6%AC%A1%E5%9B%9E%E4%BB%A5%E9%99%8D"><i class="fa fa-link"></i></a>次回以降</h1>

<p>不定期更新の備忘録なのでまた知見がたまったら書きます</p>

<ul>
<li>アイテム管理するシステム</li>
<li>戦闘システム</li>
<li>マップとシーン切り替え</li>
</ul>

<h1>
<span id="参考" class="fragment"></span><a href="#%E5%8F%82%E8%80%83"><i class="fa fa-link"></i></a>参考</h1>

<ul>
<li><a href="https://yumineko.com/game-create/unity/tkool-move" rel="nofollow noopener" target="_blank">【Unity】ツクール規格の2Dキャラクターの移動を実装する - Yumineko</a></li>
</ul>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2F_tybt%2Fitems%2Fbc9c3be75c04ab547c35&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2F_tybt%2Fitems%2Fbc9c3be75c04ab547c35&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/_tybt/items/bc9c3be75c04ab547c35/likers" class="css-1iupg5d">40</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">53</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/bc9c3be75c04ab547c35/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/_tybt/items/bc9c3be75c04ab547c35/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/_tybt/items/bc9c3be75c04ab547c35/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/_tybt/items/bc9c3be75c04ab547c35/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/_tybt/items/bc9c3be75c04ab547c35.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-8cb62e7a-9a34-4d7f-956f-781724a7204b">{"authorAnalyticsTrackingId":null,"organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-1d877c42-d921-458f-ba95-159b2625b859"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-1d877c42-d921-458f-ba95-159b2625b859">{}</script>
      
<div id="LoginModal-react-component-69f635ea-79f1-4092-8f9c-9b8b4490eb53"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-69f635ea-79f1-4092-8f9c-9b8b4490eb53">{}</script>
      
<div id="StockModal-react-component-923114ab-a4b3-435f-96bc-d925740a75dd"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-923114ab-a4b3-435f-96bc-d925740a75dd">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;c0TBD2ePYol5MY+8x7pbXTfJSJk8UAreOxBujGDFg4n5LFLpTdTmZCki+0yBz7rYfBxxGJAW+oe83IXzgCvKAQ==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\n\u003ch1\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\n\u003cp\u003eお仕事はWeb系のエンジニアでReactやらSpringやらなんかあれば触るんですが\u003cbr\u003e\n趣味のゲームを作りたい欲からUnityを触り始めてみました。\u003c/p\u003e\n\n\u003cp\u003e直近の目標は昔ながらのDQっぽいシステムのRPGを作るお勉強なので学んだことをまとめる\u003cbr\u003e\nそう、備忘録です \u003cimg alt=\":muscle:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f4aa.png\" title=\":muscle:\" width=\"20\" loading=\"lazy\"\u003e\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eとりあえずUnityをPCに入れた人\u003c/li\u003e\n\u003cli\u003eプログラムを少し触ったことある人\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eを前提に書きます。\u003cbr\u003e\nまた、環境はMacなのでWinの人はいい感じに読み解いていただけるとありがたいです\u003cimg alt=\":pray:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f64f.png\" title=\":pray:\" width=\"20\" loading=\"lazy\"\u003e \u003cbr\u003e\nC#使いますが、Unity以外のC#の書き方云々とかは基本的に説明書きません\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"今回つくるもの\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BB%8A%E5%9B%9E%E3%81%A4%E3%81%8F%E3%82%8B%E3%82%82%E3%81%AE\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e今回つくるもの\u003c/h3\u003e\n\n\u003cp\u003e歩行アニメーションとキーボードでキャラクターの操作\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"準備するもの\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%BA%96%E5%82%99%E3%81%99%E3%82%8B%E3%82%82%E3%81%AE\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e準備するもの\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003eUnity\n\n\u003cul\u003e\n\u003cli\u003eこれがないと始まらない\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eVisual Studio\n\n\u003cul\u003e\n\u003cli\u003eスクリプトの編集のおとも。入力候補が表示されるのでUnityのAPIを雰囲気理解でも助かる\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eキャラクター歩行素材(透過png)を用意\n\n\u003cul\u003e\n\u003cli\u003eここでは自分で用意しちゃいましたが、勉強だけの使用なら素材はおまかせ\u003c/li\u003e\n\u003cli\u003e前後左右にそれぞれ3パターン の計12パターンをおさめた１枚の画像\u003c/li\u003e\n\u003cli\u003eRPGツクールの歩行グラフィックと調べてみるとたくさんでてきます\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eRPGツクールの歩行素材を参考にオリジナルキャラのドットを作りました\u003cbr\u003e\nよくみるパラパラアニメをするための絵を一つの画像ファイル(透過png)にまとめたものです\u003cbr\u003e\nドット絵作成は \u003ca href=\"https://firealpaca.com/ja/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eFireAlpaca\u003c/a\u003e つかいました。フリーなのにできる子です。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/14648154f6dfc8ea07b64f0b7254a1a21c802508/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f66333865343730372d616233612d643634642d663837382d3533383737326339653737382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"239\" alt=\"スクリーンショット 2019-06-02 18.43.53.png\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Ff38e4707-ab3a-d64d-f878-538772c9e778.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=8e2bd492a88805e4df261fda57169988\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/f38e4707-ab3a-d64d-f878-538772c9e778.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Ff38e4707-ab3a-d64d-f878-538772c9e778.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=21b0b1f9f246fd8657570a3a2bb9274d 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"作業詳細\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BD%9C%E6%A5%AD%E8%A9%B3%E7%B4%B0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e作業詳細\u003c/h1\u003e\n\n\u003cp\u003eUnityを立ち上げ、プロジェクトを作成してLet`s Try!\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"画像を読み込みと分割\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%94%BB%E5%83%8F%E3%82%92%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%81%BF%E3%81%A8%E5%88%86%E5%89%B2\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e画像を読み込みと分割\u003c/h2\u003e\n\n\u003cp\u003e用意した画像を\u003ccode\u003eProject\u003c/code\u003eの\u003ccode\u003eAssets\u003c/code\u003eにドラッグ\u0026amp;ドロップするとプロジェクトに画像が登録される。\u003cbr\u003e\nここから、前後左右が描かれている歩行アニメーションの画像を分割してUnity内で別々に扱えるようにしていく。\u003cbr\u003e\nアニメーションを作るための事前準備。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"画像の設定をする\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%94%BB%E5%83%8F%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%82%92%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e画像の設定をする\u003c/h3\u003e\n\n\u003cp\u003e登録した画像を選択すると右の\u003ccode\u003einspector\u003c/code\u003eタブに画像の詳細設定が表示される\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/b959d3f5e098cc1c731bbb27a603b07ac651b387/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f66393137663565322d343235332d363135632d373835652d3935373739323732373430322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"650\" alt=\"imageload1.png\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Ff917f5e2-4253-615c-785e-957792727402.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7df9b3471f6a3978d2a64a7420fac4fc\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/f917f5e2-4253-615c-785e-957792727402.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Ff917f5e2-4253-615c-785e-957792727402.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=58b64da05237bdccabe8208b1656bace 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eここでは初期値から以下の設定を変更している\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align: center\"\u003e項目\u003c/th\u003e\n\u003cth style=\"text-align: center\"\u003e設定する値\u003c/th\u003e\n\u003cth style=\"text-align: center\"\u003e項目の説明\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eTexture Type\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eSprite(2D and UI)\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eこのテクスチャをどう利用するかの設定。今回は2Dゲーム用のSpriteとして使う\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eSprite Mode\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eMultiple\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e一つの画像を複数のSpriteとして設定する\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eMesh Type\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eFull Rect\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eTight指定をするとアルファの余計な部分をクロップされるのでとりあえずFull Rect\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003ePixels Per Unit\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e1\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eドット絵をベースにしているので1指定。扱う絵によっていい感じに指定する値。ユニットについては下記参考\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eFilter Mode\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003ePointer (no filter)\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eドット絵をはっきり見せるため。Filterを指定するとaliasがかかる\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eCompression\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eNone\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e圧縮形式の指定。サイズはそんなに大きくないのでとりあえず圧縮しない。 \u003ca href=\"https://docs.unity3d.com/ja/current/Manual/class-TextureImporter.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003eテクスチャについて\u003c/a\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003e下3つはドットをキレイに見せるための指定なのでなくてもいいけどあると良い。\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://docs.unity3d.com/ja/current/ScriptReference/Sprite.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003eSprite\u003c/a\u003e\u003cbr\u003e\nキャラクター、アイテム、発射物や他の 2D ゲーム要素として使用される 2D グラフィックスオブジェクト\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://unity3d.com/jp/learn/tutorials/projects/creating-believable-visuals/where-start\" rel=\"nofollow noopener\" target=\"_blank\"\u003eスケールとユニット\u003c/a\u003e\u003cbr\u003e\n尺度（スケール）と測定単位（ユニット）は、現実のようなシーンを作る上で非常に重要な役割を果たします。 リアリスティックなビジュアルを目指す作品の場合、一般的には 1 Unity ユニット = 1m（100cm）と想定することが推奨されます。多くの物理システムの単位のサイズがこの想定になっているからです\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"画像を分割する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%94%BB%E5%83%8F%E3%82%92%E5%88%86%E5%89%B2%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e画像を分割する\u003c/h3\u003e\n\n\u003cp\u003e上記の設定を行ったら、同画面にある\u003ccode\u003eSprite Editor\u003c/code\u003eを開く\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/2c1e081d1404225540d3d181a45d11706b71e60b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f34303037393363612d313266302d366134302d346464372d3034343662306133366361652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"689\" alt=\"spriteeditor.png\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F400793ca-12f0-6a40-4dd7-0446b0a36cae.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=3df9f159e0c72de37622920e62d2b649\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/400793ca-12f0-6a40-4dd7-0446b0a36cae.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F400793ca-12f0-6a40-4dd7-0446b0a36cae.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c392d2128293d4fac930fa1b58670699 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e左上の\u003ccode\u003eSlice\u003c/code\u003eを選択して、一番上に表示されている\u003ccode\u003eType: Automatic\u003c/code\u003eを\u003cbr\u003e\n\u003ccode\u003eType: Grid by Cell Count\u003c/code\u003eに変更して、ColumnとRowに分割する値を設定する。\u003c/p\u003e\n\n\u003cp\u003eRPGツクールの歩行画像は以下のような形で`Column: 3 Row: 4で配置されているので\u003cbr\u003e\n今回RPGツクールを参考につくった画像もそのとおりに値を指定する。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e前1, 前2, 前3\n左1, 左2, 左3\n右1, 右2, 右3\n後1, 後2, 後3\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eで、指定後にSpriteボタンを押して上部のApplyを押すと完了。\u003cbr\u003e\nAssets内の画像の右についてる矢印を押すと、下のように分割した状態で展開される\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/3e11ca429c7add02b91dbf4b5cea78a546de49da/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f34613037616462622d383062342d616666622d336334632d3539343435666234303332372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"379\" alt=\"imagesprite.png\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F4a07adbb-80b4-affb-3c4c-59445fb40327.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=f033124a63e83af8e02e795fe74b11b6\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/4a07adbb-80b4-affb-3c4c-59445fb40327.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F4a07adbb-80b4-affb-3c4c-59445fb40327.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=b42d365ad8173a9014edaa96dc9c7749 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"animation-clip-ファイルの作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#animation-clip-%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAnimation Clip ファイルの作成\u003c/h2\u003e\n\n\u003cp\u003e画像を分割したので次はAnimationの作成をしていきます。\u003cbr\u003e\nぱらぱらアニメ作成のターンです。ここが動くとだいぶテンションあがってきます。\u003c/p\u003e\n\n\u003cp\u003eAssets内にある読み込んだ画像ファイルを左上のHierarchyタブにドラッグ\u0026amp;ドロップをすると\u003cbr\u003e\n画像の名前でオブジェクトが追加され、画面上に画像のキャラクタ(Spriteで分割した左上の部分)が表示されると思います。\u003c/p\u003e\n\n\u003cp\u003eその後、追加されたオブジェクトを選択した状態で\u003cbr\u003e\n\u003ccode\u003eWindow\u003c/code\u003e -\u0026gt; \u003ccode\u003eAnimation\u003c/code\u003e -\u0026gt; \u003ccode\u003eAnimation\u003c/code\u003e\u003cbr\u003e\nを選択します\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/6ebb044f9f4dccf4166b90b89638db6c6d114690/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f34656134393731322d616536322d363761352d353631382d6663363438616537313432612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"650\" alt=\"objectanimat.png\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F4ea49712-ae62-67a5-5618-fc648ae7142a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=557cd0bf0dc6e2e9e46cc116e5a638a3\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/4ea49712-ae62-67a5-5618-fc648ae7142a.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F4ea49712-ae62-67a5-5618-fc648ae7142a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=0357dad109ceab20719a46ca16e18a60 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eそうすると別ウインドウに\u003ccode\u003eTo begin Animating ...\u003c/code\u003eといった文言と\u003cbr\u003e\n\u003ccode\u003eCreate\u003c/code\u003eボタンが表示されるので、ボタンを押すとAnimationファイルの新規作成を行います。\u003c/p\u003e\n\n\u003cp\u003e左上にファイル名が表示され、その下に \u003ccode\u003eAdd Property\u003c/code\u003eといったボタンがあるので押し\u003cbr\u003e\n\u003ccode\u003eSprite Renderer\u003c/code\u003e -\u0026gt; \u003ccode\u003eSprite\u003c/code\u003eを選択します。\u003cbr\u003e\nプロパティが追加されたら、ファイル名横に表示されている \u003ccode\u003eSamples\u003c/code\u003eを4にします。\u003c/p\u003e\n\n\u003cp\u003eRPGツクールのそれぞれの方向の画像(Column)は3つしかありませんが、以下の通りにアニメーションを繰り返します\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e右足前 -\u0026gt; 静止 -\u0026gt; 左足前 -\u0026gt; 静止 -\u0026gt; (繰り返し)\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eそのため、分割した画像を以下の順に読み込ませます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e前1, 前2, 前3, 前2\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこうすることで自然なアニメーションになります\u003cbr\u003e\n…自然というよりは昔ながらのRPGっぽい歩行になります。\u003c/p\u003e\n\n\u003cp\u003eそして以下のように作れたら１方向のアニメーション作成は完了です。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/470bb4d4521b14d50891da1b9fbc0788964e51b9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f64646530623763612d343133662d313830322d613731302d3365356435346430356231362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Fdde0b7ca-413f-1802-a710-3e5d54d05b16.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=adf0fcc181c69c2732ce41e75ea659fd\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/dde0b7ca-413f-1802-a710-3e5d54d05b16.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Fdde0b7ca-413f-1802-a710-3e5d54d05b16.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=988252a1de4cb3415f0be0bb4dfbe734 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e上の再生ボタンを押すとアニメーションが確認できます\u003cbr\u003e\nテンション上がってきますね（gifの速度は若干遅めです）\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/49d9fcb174d9bc9a74832808e7d6e20830e16d08/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f37656235663265332d306230642d646333362d623036612d6436623939633661656432632e676966\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/7eb5f2e3-0b0d-dc36-b06a-d6b99c6aed2c.gif\" alt=\"qiita.gif\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/7eb5f2e3-0b0d-dc36-b06a-d6b99c6aed2c.gif\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e左上のファイル名をクリックすると\u003cbr\u003e\n下のようにプルダウンメニューが表示されるので、\u003ccode\u003eCreate New Clip\u003c/code\u003eを選択して\u003cbr\u003e\n別方向のアニメーションファイルを作成し、前後左右のアニメーションを上の手順を繰り返して作成していきます。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/593b33799d492d05b5bd64e867707b324d6a69f1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f38643131376532622d303635612d303532372d373762642d3862373761306639313931662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F8d117e2b-065a-0527-77bd-8b77a0f9191f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=129b120a17b173a449ef2a7c0a49eb10\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/8d117e2b-065a-0527-77bd-8b77a0f9191f.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F8d117e2b-065a-0527-77bd-8b77a0f9191f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=1cb57734f9ccb24eb4ba8f7acb35806e 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e後々わかりやすいように 右向きアニメーションは \u003ccode\u003echar_right\u003c/code\u003e 前(↑)向きは \u003ccode\u003echar_up\u003c/code\u003eといった感じで向きと名前を揃えておくとコレ以降が楽になります。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"animator-controllerの作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#animator-controller%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAnimator Controllerの作成\u003c/h2\u003e\n\n\u003cp\u003e次に「上移動のときは上に移動しているアニメーションを再生する」といったコントロールを行うための\u003cbr\u003e\n\u003cstrong\u003eAnimator Controller\u003c/strong\u003eを作成していきます。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"blender-treeの作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#blender-tree%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eBlender Treeの作成\u003c/h3\u003e\n\n\u003cp\u003e「X軸に進むなら右のアニメーションを再生」といった動く方向に対して\u003cbr\u003e\n適切なアニメーションを表示するといった制御をよしなにやってくれる\u003cbr\u003e\n\u003cstrong\u003eBleder Tree\u003c/strong\u003eというものを利用します。\u003c/p\u003e\n\n\u003cp\u003eアニメーション作成時にアニメーションファイルと一緒に作成されたであろう下のアイコンのファイルをダブルクリックします。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/123161f0e704ddd49ba2f5af98b046737c16da9d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f63333163663663322d353730632d626237302d353138322d3164326265393233353735302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Fc31cf6c2-570c-bb70-5182-1d2be9235750.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b8bb276352824d2792162e7e79d60260\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/c31cf6c2-570c-bb70-5182-1d2be9235750.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Fc31cf6c2-570c-bb70-5182-1d2be9235750.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=25674c509c7f5d85827bc476b9914e37 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e画面真ん中に下のような \u003ccode\u003eEntry\u003c/code\u003eから先程作ったAnimationファイル名に矢印が生えたもの等が散らかってる状態になっている（散らかってないときもある）\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/47b7cad893512942f36e7ca0a76e6097cdb374a2/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f61616231366133302d323330372d343530352d393830312d3663643232363862633061312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"650\" alt=\"state.png\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Faab16a30-2307-4505-9801-6cd2268bc0a1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=37cc003573dc91236652aed55dde0f3c\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/aab16a30-2307-4505-9801-6cd2268bc0a1.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Faab16a30-2307-4505-9801-6cd2268bc0a1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=649f72c43ecad6e215be1a22fc74af6e 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nとりあえず無視して \u003ccode\u003e右クリック\u003c/code\u003e -\u0026gt; \u003ccode\u003eCreate State\u003c/code\u003e -\u0026gt; \u003ccode\u003eFrom New Blend Tree\u003c/code\u003eを選択して、\u003cbr\u003e\n作成されたブロックをもう一度右クリックして \u003ccode\u003eSet as Layer Default State\u003c/code\u003eを選択します。\u003cbr\u003e\nすると、\u003ccode\u003eEntry\u003c/code\u003eから生えている線が作ったブロックに向きます。\u003c/p\u003e\n\n\u003cp\u003e残ったそれ以外の色がついていない四角はとりあえず消しましょう。\u003cbr\u003e\n今回は利用しません。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"parametersにパラメータの追加\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#parameters%E3%81%AB%E3%83%91%E3%83%A9%E3%83%A1%E3%83%BC%E3%82%BF%E3%81%AE%E8%BF%BD%E5%8A%A0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eParametersにパラメータの追加\u003c/h3\u003e\n\n\u003cp\u003e上記の次にこのAnimator Controllerで扱うパラメータを追加します。\u003cbr\u003e\n移動ベクトルに応じて変化させたいので \u003ccode\u003ex\u003c/code\u003eと\u003ccode\u003ey\u003c/code\u003eという名前で追加。\u003cbr\u003e\n型は\u003ccode\u003eFloat\u003c/code\u003eを選びます。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"blender-treeの設定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#blender-tree%E3%81%AE%E8%A8%AD%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eBlender Treeの設定\u003c/h3\u003e\n\n\u003cp\u003e上でつくったBleder TreeのStateをダブルクリックすると下記のように何も設定されていない\u003cbr\u003e\n状態のBleder Treeが表示されます。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/7517f2e691b3c9aab77614cdfbc91e36a24f53a9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f63336339626361612d613433632d343130342d663933332d3362663632653637393838382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"350\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Fc3c9bcaa-a43c-4104-f933-3bf62e679888.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=da0ac30ff1e1c9d8de0ba75f0ba34431\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/c3c9bcaa-a43c-4104-f933-3bf62e679888.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Fc3c9bcaa-a43c-4104-f933-3bf62e679888.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=55942983aabf51aaeed3b587f6d9e059 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n真ん中に表示されているブロックをクリックすると右の\u003ccode\u003einspector\u003c/code\u003eに\u003cbr\u003e\n下のような表示がされるのでそれぞれ設定を変更します。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/23fe180f3242d4506cf54a628685fc52f4b1809d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f64663866303430372d303538322d653464632d626536332d6337316632346238373131622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"350\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Fdf8f0407-0582-e4dc-be63-c71f24b8711b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=6562c1e396388f7d246dfd7858c891e1\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/df8f0407-0582-e4dc-be63-c71f24b8711b.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Fdf8f0407-0582-e4dc-be63-c71f24b8711b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=fc23777d8c5b56c12d30a3b2b1d6bebb 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e項目\u003c/th\u003e\n\u003cth\u003e説明\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003eBlend Type\u003c/td\u003e\n\u003ctd\u003e2次元の歩行アニメーションなので2D Simple Directionalを指定\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eParameters\u003c/td\u003e\n\u003ctd\u003e前項で作成したxとyを設定\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003e入力したら\u003ccode\u003eMotion\u003c/code\u003eの下にある +マークをクリック -\u0026gt; \u003ccode\u003eAdd Motion Field\u003c/code\u003eを押します。\u003cbr\u003e\nすると、アニメーションファイル一覧を表示したウインドウが表示されるので\u003cbr\u003e\n先程作成したファイルを選択します。これを全方向分追加します。\u003c/p\u003e\n\n\u003cp\u003e追加したファイルの名前の横に \u003ccode\u003ePos X\u003c/code\u003e \u003ccode\u003ePos Y\u003c/code\u003eという項目があると思うのでそれぞれ下のように入力してください。\u003cbr\u003e\n進む方向とアニメーションの向きを揃えた設定をするだけです。\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eアニメーションの向き\u003c/th\u003e\n\u003cth\u003ePos X\u003c/th\u003e\n\u003cth\u003ePos Y\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e上\u003c/td\u003e\n\u003ctd\u003e0\u003c/td\u003e\n\u003ctd\u003e1\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e右\u003c/td\u003e\n\u003ctd\u003e1\u003c/td\u003e\n\u003ctd\u003e0\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e下\u003c/td\u003e\n\u003ctd\u003e0\u003c/td\u003e\n\u003ctd\u003e-1\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e左\u003c/td\u003e\n\u003ctd\u003e-1\u003c/td\u003e\n\u003ctd\u003e0\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003eこれらが終わると下のような状態になると思います\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/fcb63635d54a307852656dee9ae46b3d759eb5d3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f62663534666239632d653834662d373264612d656661352d3265386361373263356633392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"650\" alt=\"blendtree.png\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Fbf54fb9c-e84f-72da-efa5-2e8ca72c5f39.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=69c0dff29248123ab7dec6f9d3676aaa\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/bf54fb9c-e84f-72da-efa5-2e8ca72c5f39.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Fbf54fb9c-e84f-72da-efa5-2e8ca72c5f39.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=d101eacac2e9832f359015b664a08513 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eとりあえずこれでAnimator Controllerの設定は完了です。\u003cbr\u003e\nもうわかってきたかもしれませんが、x軸とy軸の移動に対してそれぞれのアニメーションを切り替える作業をこれがよしなにやってくれるようになります。\u003c/p\u003e\n\n\u003cp\u003eただ、これだけでは実行しても向きも変わらないし位置も変わらないので\u003cbr\u003e\n最後にやっとスクリプトを書きます。\u003c/p\u003e\n\n\u003cp\u003e…むしろここまでスクリプト何もいらないんだからさすがUnity先生\u003cbr\u003e\nだいぶ昔にDxLibでなんかやろうとしたことが懐かしい(^o^\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"スクリプトの作成とオブジェクトの操作\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90%E3%81%A8%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E6%93%8D%E4%BD%9C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eスクリプトの作成とオブジェクトの操作\u003c/h2\u003e\n\n\u003cp\u003e最後にキャラクターを動かすためのスクリプトを書きましょう。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"rigidbody-2dをセットする\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#rigidbody-2d%E3%82%92%E3%82%BB%E3%83%83%E3%83%88%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eRigidbody 2Dをセットする\u003c/h3\u003e\n\n\u003cp\u003eアニメーション作成時にできた左側のオブジェクトをクリックして、オブジェクトのinspectorを表示すると\u003cbr\u003e\n一番下に\u003ccode\u003eAdd Component\u003c/code\u003eというボタンがあるので、それを押すと下のような項目一覧がでるので\u003cbr\u003e\n\u003ccode\u003eRigidbody 2D\u003c/code\u003eを選択します(入力窓に入れると見つけやすいです)\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/2f872fb6852868484483e990b43e5ac215c0e2c6/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f32353562326535362d373066372d373165642d363761622d6565656532623438666130622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"200\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F255b2e56-70f7-71ed-67ab-eeee2b48fa0b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=425e89168697ae4bce573b47a13cb5d4\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/255b2e56-70f7-71ed-67ab-eeee2b48fa0b.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F255b2e56-70f7-71ed-67ab-eeee2b48fa0b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=1513cbc11d5195fc22cfe5c597bb890b 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e追加するとこちらのように\u003ccode\u003eRigidbody 2D\u003c/code\u003eという枠が表示されるので\u003cbr\u003e\nBody Typeを \u003ccode\u003eKinematic\u003c/code\u003eにすることで、物理演算が無視されて2Dのうごきっぽくなります。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/de64e5bd9783ee2aa7ede13812c7a6d14c9ef682/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f39386530646261612d386236382d373963632d343662652d3363366565636238343664322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"650\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F98e0dbaa-8b68-79cc-46be-3c6eecb846d2.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=6e36077b41892ae45fbf6b3aa4bd87ac\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/98e0dbaa-8b68-79cc-46be-3c6eecb846d2.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F98e0dbaa-8b68-79cc-46be-3c6eecb846d2.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=2b528e8ea6386cf91f518c7466694961 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eDynamic指定のままで動かすと、おそらくキャラクタがだんだん画面下へ落ちていくような動きになります。\u003cbr\u003e\nRigidbody 2Dはオブジェクトの動きを物理エンジンで制御するためのコンポーネントです。\u003cbr\u003e\nとりあえず\u003cstrong\u003eオブジェクトを操作するのにセットする必要がある\u003c/strong\u003eぐらいの認識でいいと思います。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://docs.unity3d.com/ja/current/Manual/class-Rigidbody2D.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003eRigidbody 2D - Unity マニュアル\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"スクリプトファイルを作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eスクリプトファイルを作成\u003c/h3\u003e\n\n\u003cp\u003e右クリックから \u003ccode\u003eCreate\u003c/code\u003e -\u0026gt; \u003ccode\u003eC# Script\u003c/code\u003eを選択してファイルを作成。\u003cbr\u003e\n\u003ccode\u003eAssets\u003c/code\u003eにC#と書かれたアイコンが作成されると思うので、ダブルクリックをするとVisual Studioが開かれると思います（ちょっと時間かかります）\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://docs.microsoft.com/ja-jp/visualstudio/cross-platform/getting-started-with-visual-studio-tools-for-unity?view=vs-2019\" rel=\"nofollow noopener\" target=\"_blank\"\u003eVisual Studio Tools for Unity の使用を開始する - Visual Studio | Microsoft Docs\u003c/a\u003e\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003eUnity 2018.1 以降、Visual Studio は Unity の既定の C# スクリプト エディターであり、Unity Download Assistant および Unity Hub インストール ツールに含まれます。\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003eとのことなので導入の手順は飛ばしますが、必要あればリンクを参考にしてみてください。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"キー操作でオブジェクトを動かすスクリプト\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%AD%E3%83%BC%E6%93%8D%E4%BD%9C%E3%81%A7%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E5%8B%95%E3%81%8B%E3%81%99%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eキー操作でオブジェクトを動かすスクリプト\u003c/h3\u003e\n\n\u003cp\u003eスクリプトファイルを作成でつくったファイルにコードを足していきます。\u003cbr\u003e\nとりあえずファイルは\u003ccode\u003eMoveController\u003c/code\u003eとつけます\u003c/p\u003e\n\n\u003cp\u003e一応名前は何でも良いですが、プログラムのファイルやクラスや変数名は\u003cbr\u003e\nそれぞれが何をしているか誰でもわかるようないい名前をつけていきましょう！\u003c/p\u003e\n\n\u003cp\u003evisual studioでスクリプトファイルを修正し\u003cbr\u003e\n動かしたいオブジェクトに対してドラッグ\u0026amp;ドロップで関連付けさせましょう\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Collections\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Collections.Generic\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eUnityEngine\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"cm\"\u003e/**\n * キャラの座標を変更するController\n */\u003c/span\u003e\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eMoveController\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eMonoBehaviour\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eSerializeField\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eSPEED\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e1.0f\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eRigidbody2D\u003c/span\u003e \u003cspan class=\"n\"\u003erigidBody\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eVector2\u003c/span\u003e \u003cspan class=\"n\"\u003einputAxis\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eStart\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// オブジェクトに設定しているRigidbody2Dの参照を取得する\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erigidBody\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eGetComponent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eRigidbody2D\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;();\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eUpdate\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// x,ｙの入力値を得る\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// それぞれ+や-の値と入力の関連付けはInput Managerで設定されている\u003c/span\u003e\n        \u003cspan class=\"n\"\u003einputAxis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eInput\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetAxis\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Horizontal\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"n\"\u003einputAxis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eInput\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetAxis\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Vertical\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eFixedUpdate\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// 速度を代入する\u003c/span\u003e\n        \u003cspan class=\"n\"\u003erigidBody\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003evelocity\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003einputAxis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003enormalized\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eSPEED\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eここでは、入力されたキーを取得して\u003ccode\u003ex\u003c/code\u003e,\u003ccode\u003ey\u003c/code\u003e軸の移動量を計算してセットするのではなく\u003cbr\u003e\n矢印キーで入力された\u003ccode\u003eHorizontal\u003c/code\u003e, \u003ccode\u003eVertical\u003c/code\u003eの値を取得して\u003cbr\u003e\n係数(SPEED)を掛けた値をそのまま速度として\u003ccode\u003evelocity\u003c/code\u003eにセットしています\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003eHorizontal\u003c/code\u003eや\u003ccode\u003eVertical\u003c/code\u003eに対して、プラス方向のキー、マイナス方向のキーがどれかといった設定は\u003cbr\u003e\n\u003ccode\u003eEdit\u003c/code\u003e -\u0026gt; \u003ccode\u003eProject Settings\u003c/code\u003e -\u0026gt; \u003ccode\u003eInput\u003c/code\u003eから見れます\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/d18dd4a891a9ad1729567d547900fec9804e7e0d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f64383737643464642d336562662d313364372d386661302d3138396631373734666565302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Fd877d4dd-3ebf-13d7-8fa0-189f1774fee0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=89edb8776bc31151d3911189d9c3005d\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/d877d4dd-3ebf-13d7-8fa0-189f1774fee0.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Fd877d4dd-3ebf-13d7-8fa0-189f1774fee0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=0488ed4c57e231086c1c26dd2b84d3c5 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eまた、上記ではオブジェクトの速度である\u003ccode\u003evelocity\u003c/code\u003eに対して値をいれることで\u003cbr\u003e\nオブジェクトを操作していますが \u003ccode\u003eRigidbody#AddPosition\u003c/code\u003eといったメソッドなど、\u003cbr\u003e\nオブジェクトの位置を変える方法はいくつもあるのでそれぞれの特性を活かして実装していけるとよいかと思います。\u003cbr\u003e\n今回はとりあえずvelocityに値を設定\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/72a6faabc5af082cd2063675759a8d4d7bd6c21c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f31303033333039312d363162632d373764662d343762382d3261373838373439643939632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F10033091-61bc-77df-47b8-2a788749d99c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=549288ca5f7308f92769947d04247e8f\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/10033091-61bc-77df-47b8-2a788749d99c.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F10033091-61bc-77df-47b8-2a788749d99c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=68f550e54c5c1698bc1e3b4963ea9f2f 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e上記のスクリプトとキャラクターのオブジェクトに関連がつけられたら\u003cbr\u003e\nウインドウ上部の再生ボタンを押すと実際に入力に対して動くか確認できます。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/16a5817e3b62c4d1490dc21364a5e0b273362282/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f39616264376162662d393231612d373038652d623838662d3534663265343266633662662e676966\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F9abd7abf-921a-708e-b88f-54f2e42fc6bf.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=00166c0b5314bc15aa3d30b8938b8554\" alt=\"out.gif\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/9abd7abf-921a-708e-b88f-54f2e42fc6bf.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F9abd7abf-921a-708e-b88f-54f2e42fc6bf.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=a2a18fded0b4aaea1686cd9d7b0f1714 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eキー操作にあわせてオブジェクトが動くようになりました。\u003cbr\u003e\n最後に前項でつくったAnimator Controllerを組み合わせて、動く方向にあわせて向きが変わるようにしていきます。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"キー操作にあわせアニメーションに状態をわたすスクリプト\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%AD%E3%83%BC%E6%93%8D%E4%BD%9C%E3%81%AB%E3%81%82%E3%82%8F%E3%81%9B%E3%82%A2%E3%83%8B%E3%83%A1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AB%E7%8A%B6%E6%85%8B%E3%82%92%E3%82%8F%E3%81%9F%E3%81%99%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eキー操作にあわせアニメーションに状態をわたすスクリプト\u003c/h3\u003e\n\n\u003cp\u003e\u003cdetails\u003e\u003csummary\u003eサンプルコードをみる\u003c/summary\u003e\u003cdiv\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Collections\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Collections.Generic\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eUnityEngine\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"cm\"\u003e/**\n * キャラの向き状態を変更するController\n */\u003c/span\u003e\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eAnimationStateController\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eMonoBehaviour\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eAnimator\u003c/span\u003e \u003cspan class=\"n\"\u003eanimator\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eStart\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// 初期化\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// コントローラをセットしたオブジェクトに紐付いている\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// Animatorを取得する\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eanimator\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eGetComponent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eAnimator\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;();\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"cm\"\u003e/**\n     * Update は MonoBehaviour が有効の場合に、毎フレーム呼び出されます\n     * https://docs.unity3d.com/ja/current/ScriptReference/MonoBehaviour.Update.html\n     */\u003c/span\u003e\n    \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eUpdate\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eInput\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eanyKeyDown\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eVector2\u003c/span\u003e\u003cspan class=\"p\"\u003e?\u003c/span\u003e \u003cspan class=\"n\"\u003eaction\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eactionKeyDown\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eaction\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eHasValue\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// キー入力があればAnimatorにstateをセットする\u003c/span\u003e\n                \u003cspan class=\"nf\"\u003esetStateToAnimator\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003evector\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eaction\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eValue\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// 入力からVector2インスタンスを作成\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eVector2\u003c/span\u003e \u003cspan class=\"n\"\u003evector\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVector2\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eInput\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetAxis\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Horizontal\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eInput\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetAxis\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Vertical\"\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e// キー入力が続いている場合は、入力から作成したVector2を渡す\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// キー入力がなければ null\u003c/span\u003e\n        \u003cspan class=\"nf\"\u003esetStateToAnimator\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003evector\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003evector\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"n\"\u003eVector2\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ezero\u003c/span\u003e\u003cspan class=\"p\"\u003e?\u003c/span\u003e \u003cspan class=\"n\"\u003evector\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eVector2\u003c/span\u003e\u003cspan class=\"p\"\u003e?)\u003c/span\u003e\u003cspan class=\"k\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"cm\"\u003e/**\n     * Animatorに状態をセットする\n     *    \n     */\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003esetStateToAnimator\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eVector2\u003c/span\u003e\u003cspan class=\"p\"\u003e?\u003c/span\u003e \u003cspan class=\"n\"\u003evector\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(!\u003c/span\u003e\u003cspan class=\"n\"\u003evector\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eHasValue\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eanimator\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003espeed\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0f\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"n\"\u003eDebug\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003evector\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eValue\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eanimator\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003espeed\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e1.0f\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eanimator\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetFloat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"x\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003evector\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eValue\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eanimator\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetFloat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"y\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003evector\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eValue\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"cm\"\u003e/**\n     * 特定のキーの入力があればキーにあわせたVector2インスタンスを返す\n     * なければnullを返す   \n     */\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eVector2\u003c/span\u003e\u003cspan class=\"p\"\u003e?\u003c/span\u003e \u003cspan class=\"nf\"\u003eactionKeyDown\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eInput\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetKeyDown\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eKeyCode\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUpArrow\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eVector2\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eup\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eInput\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetKeyDown\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eKeyCode\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLeftArrow\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eVector2\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eleft\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eInput\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetKeyDown\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eKeyCode\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDownArrow\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eVector2\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003edown\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eInput\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetKeyDown\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eKeyCode\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eRightArrow\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eVector2\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eright\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003c/p\u003e\n\u003c/div\u003e\u003c/details\u003e\u003c/p\u003e\n\n\u003cp\u003e長いので、必要あれば展開してください！\u003cbr\u003e\nとりあえず最低限それっぽく動くコードです。コメントを一応書いていますが、コピって動かして後で理解でも良いと思います。\u003cbr\u003e\nUnityがメソッド名も\u003ccode\u003eUpperCamelCase\u003c/code\u003eを推奨してるのに \u003ccode\u003elowerCamelCase\u003c/code\u003eで書いてしまう…癖です \u003cimg alt=\":innocent:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f607.png\" title=\":innocent:\" width=\"20\" loading=\"lazy\"\u003e \u003c/p\u003e\n\n\u003cp\u003eUpdateメソッドの流れはざっくり下の通り\u003c/p\u003e\n\n\u003col\u003e\n\u003cli\u003eキーが押された瞬間 \u003ccode\u003eInput.anyKeyDown = true\u003c/code\u003eのときにifの条件に入る\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003eactionKeyDown\u003c/code\u003eメソッドで上下左右のキーが押されていたらVector2を返して、\u003ccode\u003esetStateToAnimator\u003c/code\u003eで状態を反映する\u003c/li\u003e\n\u003cli\u003eキーが押された後 / 押されていないときの値はオブジェクトの位置を動かすときと同様に\u003ccode\u003eGetAxis\u003c/code\u003eで値を取得してvectorを作成する\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003eVertical\u003c/code\u003e \u003ccode\u003eHorizontal\u003c/code\u003eで何かしら入力されていれば値を渡す。押されていない \u003ccode\u003eVector.zero\u003c/code\u003eであれば nullを渡す\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003esetStateToAnimator\u003c/code\u003eで値がなければ \u003ccode\u003eanimator\u003c/code\u003eのSpeedを0にしてアニメーションをstop。それ以外は渡された値を\u003ccode\u003eanimator#SetFloat\u003c/code\u003eでBleder Treeで定義したxとyのパラメータにそれぞれVector2のxとyを渡す。\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cp\u003e1で、keyDownの瞬間に方向を変えるようにしているのは\u003cbr\u003e\n処理を外して確認するとわかるのですが、上の実装では動き始めてから一定の移動量を超えるまで\u003cbr\u003e\n向きが変わらないため、押した瞬間に向きが変わるように制御しています。\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003eInput.anyKeyDown\u003c/code\u003eがtrueになるのは\u003cbr\u003e\n「何もキーが押されてない状態から押された状態になったとき」だけなので\u003cbr\u003e\n下の完成品を見るとわかるかもですが、移動中に方向を変えたときに\u003ccode\u003eInput.anyKeyDown\u003c/code\u003eがtrueにならないので、\u003c/p\u003e\n\n\u003cp\u003e昔ながらのRPGぽくキーを押した瞬間移動方向と向きが変わっていないのがわかります。\u003cbr\u003e\nコレ以上はこだわりポイントなのでここでは割愛します。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"完成品\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%8C%E6%88%90%E5%93%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e完成品\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/08534a34a6175f3cf8197f0e3ade7c08c4acb055/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f33393232392f33356438613935362d363430362d303631642d636437322d3730396433636236323361382e676966\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F35d8a956-6406-061d-cd72-709d3cb623a8.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e38e8289040b4faa7efef477d6da76fe\" alt=\"out.gif\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/35d8a956-6406-061d-cd72-709d3cb623a8.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2F35d8a956-6406-061d-cd72-709d3cb623a8.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=d22e6b42bf6cf0476835642bf3abc40d 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eRPGツクールのような歩行グラフィックがまとまった画像をSplitしてアニメーションさせる\u003c/li\u003e\n\u003cli\u003e十字キー入力でオブジェクトを移動させる\u003c/li\u003e\n\u003cli\u003eBlender Treeでアニメーションの方向を制御する\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eといったことを行いました。\u003cbr\u003e\n本業もそうですが、やっぱり完成物がこうやって動く瞬間が一番楽しいです。\u003c/p\u003e\n\n\u003cp\u003eアニメーション読み込みからBlender Treeの設定までは ノンプログラミングでできそうな感じ？なので\u003cbr\u003e\n可能な限りシステムとデザイン部分を分離していい感じの作業の進め方も模索していきたい。そんなpart1でした。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"次回以降\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%AC%A1%E5%9B%9E%E4%BB%A5%E9%99%8D\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e次回以降\u003c/h1\u003e\n\n\u003cp\u003e不定期更新の備忘録なのでまた知見がたまったら書きます\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eアイテム管理するシステム\u003c/li\u003e\n\u003cli\u003e戦闘システム\u003c/li\u003e\n\u003cli\u003eマップとシーン切り替え\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"参考\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考\u003c/h1\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://yumineko.com/game-create/unity/tkool-move\" rel=\"nofollow noopener\" target=\"_blank\"\u003e【Unity】ツクール規格の2Dキャラクターの移動を実装する - Yumineko\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n","createdAt":"2019-06-11T16:09:17Z","elapsedYearsFromLastModifiedAt":2,"encryptedId":"LOX7ckrqggcOjFHoxLPg6zbo/fiXHdXY--uWtnfgwCxaArplkF--WUn7s+E94CtjmHw1DxRMuw==","isBanned":false,"isDeprecated":true,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2019-06-11T16:09:44Z","likesCount":40,"linkUrl":"https://qiita.com/_tybt/items/bc9c3be75c04ab547c35","organization":null,"originalId":923110,"stockedCount":53,"title":"UnityでRPGを作るpart1 歩行アニメーションと操作","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003eはじめに\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E4%BB%8A%E5%9B%9E%E3%81%A4%E3%81%8F%E3%82%8B%E3%82%82%E3%81%AE\"\u003e今回つくるもの\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%BA%96%E5%82%99%E3%81%99%E3%82%8B%E3%82%82%E3%81%AE\"\u003e準備するもの\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cli\u003e\n\u003ca href=\"#%E4%BD%9C%E6%A5%AD%E8%A9%B3%E7%B4%B0\"\u003e作業詳細\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%94%BB%E5%83%8F%E3%82%92%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%81%BF%E3%81%A8%E5%88%86%E5%89%B2\"\u003e画像を読み込みと分割\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%94%BB%E5%83%8F%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%82%92%E3%81%99%E3%82%8B\"\u003e画像の設定をする\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%94%BB%E5%83%8F%E3%82%92%E5%88%86%E5%89%B2%E3%81%99%E3%82%8B\"\u003e画像を分割する\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#animation-clip-%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E4%BD%9C%E6%88%90\"\u003eAnimation Clip ファイルの作成\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#animator-controller%E3%81%AE%E4%BD%9C%E6%88%90\"\u003eAnimator Controllerの作成\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#blender-tree%E3%81%AE%E4%BD%9C%E6%88%90\"\u003eBlender Treeの作成\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#parameters%E3%81%AB%E3%83%91%E3%83%A9%E3%83%A1%E3%83%BC%E3%82%BF%E3%81%AE%E8%BF%BD%E5%8A%A0\"\u003eParametersにパラメータの追加\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#blender-tree%E3%81%AE%E8%A8%AD%E5%AE%9A\"\u003eBlender Treeの設定\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90%E3%81%A8%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E6%93%8D%E4%BD%9C\"\u003eスクリプトの作成とオブジェクトの操作\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#rigidbody-2d%E3%82%92%E3%82%BB%E3%83%83%E3%83%88%E3%81%99%E3%82%8B\"\u003eRigidbody 2Dをセットする\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E4%BD%9C%E6%88%90\"\u003eスクリプトファイルを作成\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%AD%E3%83%BC%E6%93%8D%E4%BD%9C%E3%81%A7%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E5%8B%95%E3%81%8B%E3%81%99%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88\"\u003eキー操作でオブジェクトを動かすスクリプト\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%AD%E3%83%BC%E6%93%8D%E4%BD%9C%E3%81%AB%E3%81%82%E3%82%8F%E3%81%9B%E3%82%A2%E3%83%8B%E3%83%A1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AB%E7%8A%B6%E6%85%8B%E3%82%92%E3%82%8F%E3%81%9F%E3%81%99%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88\"\u003eキー操作にあわせアニメーションに状態をわたすスクリプト\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%AE%8C%E6%88%90%E5%93%81\"\u003e完成品\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%AC%A1%E5%9B%9E%E4%BB%A5%E9%99%8D\"\u003e次回以降\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%8F%82%E8%80%83\"\u003e参考\u003c/a\u003e\n\u003c/li\u003e\n\n","totalPv":26594,"uuid":"bc9c3be75c04ab547c35","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"Ff21ID6XyAfmdc/E/v9EPMJQ7tI=--9E9prH7isFKF7eO2--hlHYJOs5mPfb0/zjkpUp8w==","originalId":39229,"description":"しがないエンジニア。楽しくモノづくりがしたい。\r\n静的型付けをしてくれる言語が好きで、愛のない変数名は駆逐する。\r\nゆるい話ははてブに書いてます。もっとゆるいのはtwitterに書いてます。\r\n\r\n落ち着いたらゲーム制作再開したい\r\n","facebookUrl":null,"githubUrl":"https://github.com/tyabata","isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"とむお","profileImageUrl":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/39229/profile-images/1613519314","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Fprofile-images%2F1613519314?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=774f254414e72ad4792de00928f468ee","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F39229%2Fprofile-images%2F1613519314?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=545a8b2b8781165ee3e67deb9161560c","urlName":"_tybt","websiteUrl":"http://tyabata.hatenablog.com/","twitterUrl":"https://twitter.com/tyabata32","twitterUrlName":"tyabata32","revealedOrganizations":{"edges":[]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"Unity","urlName":"unity"},{"name":"初心者向け","urlName":"%e5%88%9d%e5%bf%83%e8%80%85%e5%90%91%e3%81%91"},{"name":"RPG","urlName":"rpg"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
