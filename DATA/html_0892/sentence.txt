More than 1 year has passed since last update.こんなソース
例なのでtextはNothingのまま、Nothingじゃなかった時の戻り値は適当に100としています。戻り値としてはNothingまたは他の値(上の例の場合は100)にしたいってことですね。
まあ滅多にありませんがたまーにこういうことがしたいケースがあります。おとなしくIf-Elseで書けばいいんですが、無駄に行数食って見栄えが良くないのでついついワンライナーで書きたくなります。Nothingじゃない時はいいとして、Nothingの場合は0が返ります。
なぜなのか、C#で同じコードを書くと分かります。NothingはC#でいうところのdefaultの機能を持つので、Integerの初期値である0になっちゃうということです。
C#の場合はVB.NETのようにnullの時にnullを返す、と書けないので発生しない問題ですが、覚えておくと良いかもしれません。ワンライナーで書くことを諦めるしかありません。うーん、行数増えて見栄えが良くない。。。ちなみにワンライナーで書いているコードは型推論せず明示的に型指定をしていますが、型推論させようとすると通常のint型になるので注意が必要です。前々からなんか書こうと思ってたのと、別件でQiita使ってレポート提出することがあるのでちょっとした小ネタを書いて慣れていければと思います…
(そんな大仰な技術力はないので…)


