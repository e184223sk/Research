11 月にリリース予定の C# 9.0 でトップレベルステートメントが導入され、namespace や class を省略して文を直接トップレベルに書けるようになります。C# 9.0 の新機能 - C# によるプログラミング入門 | ++C++; // 未確認飛行 Cこれによって次のように Hello World がとてもシンプルに書けるようになります。従来C# 9.0C# 9.0 を今すぐ使いたい場合には Visual Studio Preview が必要です。
Visual Studio Previewそしてプロジェクトファイルの TargetFramework を次のように net5 に書き換えてください。以上で使えるようになります。C# 8.0 からの switch 式とパターンマッチングを使うと、FizzBuzz も次のようにシンプルに書くことができます。ただこのトップレベルステートメント、Main メソッドを自動生成してるだけだから、他のクラスには使えないんですよね。Main メソッドに何かを長々と書くことなんかふつうないし、ここで定義された関数はローカル関数でテストの対象にならないので、ちょっとしたスクリプトを書く時以外には役に立たないのがなんとも。次のように、名前空間とクラスをネストせず書けるようにするだけの方が使いやすかったと思うんですよね。


