モックライブラリ Moq とDIコンテナ Unity（※1）を使用してモック化する例です。
単体テストの基底クラスにモックの生成、検証を抽出することで、Verify 漏れを防ぎ、素早く、すっきりテストコードを書くことができます。※1　ゲームエンジンの方ではありません。Microsoft patterns &amp; practices のプロジェクトとして開発された軽量DIコンテナで、現在はその手を離れ、オープンソースで運営されています。DIを構成し、アプリケーションを開始します。
※フレームワークに応じた適切な箇所に記述してください。モックオブジェクトの生成、DI登録、検証（Verify）を担います。モックをDIコンテナに渡すので、依存コンポーネントを差し替えるためだけに Client を継承した Testable クラスを用意する必要はありません。モックインスタンスは、個々のテストメソッドに必要なものだけ生成します。※掲載コードはサンプルですので、実際のプロジェクトでは、細かい点を調整してご活用ください。※Autofac 版は こちら をご覧ください。


