Pythonで機械学習を回すGUIアプリを作っているときに、進捗状況を確認できればいいなーと思い色々調べたのでメモ結果から言うとこれで上手いこといきました。恐らくこれが一番シンプルだと思います。sumple.pyの出力結果を非同期で取得して、textbox(名前はtb1)に表示しています。
sumple.pyは1秒ずつ文字列を出力するだけのプログラムです。
GUIにはボタンとtextboxだけ置いてます。pr.BeginOutputReadLine() を記述することで非同期で標準出力を読み取ることができます。pr.OutputDataReceived にメソッドを追加することで、標準出力が行われたときに処理をすることができます。BeginInvoke でUIスレッドに戻してからtb1に結果を追加しています。これを付けないと標準出力が最後にまとめて表示されます。
これで半日悩んで結局teratailに質問投げたんですが、小一時間で回答が返ってきて解決してしまいインターネットしゅごい…となりました。最初async/awaitを使っていたのですが、awaitを使うとpythonの実行が終わるまで待たなければならず上手くいきませんでした。
標準出力が一つだけのコードを繰り返し使うような場合には良いかもしれません。全体的にふんわりとした理解なので（特にイベントハンドラ周り）、間違ったことを言っている可能性は十二分にあります。
何かありましたらご指摘いただけると有難いです。


