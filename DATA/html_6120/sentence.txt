More than 3 years have passed since last update.この記事はテラリアというゲームでのMod開発に関する情報です。
サンプルコードや、公開されているコードを参考にMod開発をしている状況で、備忘録としてのまとめでもあり、記事投稿時点での知識で書いていますので、間違いもあるかもしれませんのでご注意ください。テラリアの世界での時間は double Terraria.Main.time で取得できます。
テラリアでは 04:30 ～ 19:29 までが昼。19:30 ～ 04:29 までが夜して扱われており、timeはそれぞれのタイミングで 0 にリセットされます。
このため、昼か夜かの判断は、 bool Terraria.Main.dayTime で行います。個人的には24時間形式の方が時刻の判断はしやすいので、00:00 を 0 として判断するように変換を行うようにします。
なお、テラリアの世界では、現実の 1 秒を、 1分として世界が動いていますので、 time の値の 1 は、テラリアの世界での 1 秒です。コードにいまひとつな所もありますが、こんな感じで00:00からを0として時間を扱うようにすれば、時間別のイベントの判断などがしやすいのではないかと思います。以上


