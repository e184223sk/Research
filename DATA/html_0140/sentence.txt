C#での日時・時間の設定・取得をできるDateTime構造体についてまとめた。DateTimeには、
・年
・月
・日
・時
・分
・秒
・1/1000秒(ミリセカンド)
の値をセットすることができる○年月日をセットすると、「セットした年月日 + 時間は午前12時」を返す。
○年月日と時分秒をセットすると、「セットした年月日　+ セットした時分秒」を返す。
※時間は24時間単位でセットするのだが、返ってくる値は、「12時間単位 + AMかPM」
(例)
時→９、分→5、秒→1
なら、「9:05:01 AM」というように返ってくる。
なぜか、時だけ、0埋めされない。
そして、ミリセカンドはセットしても、時間には表示されない。また、時分秒を入れる場合は、全部セットしないといけない。
不思議なのが、年月日だけ日、月、年の順で表示される。Nowの場合、今の日付と今の時間を返す。
Todayの場合、今の日付を返すが、時間は「12:00:00 AM」を返す。DateTime構造体はいくつかプロパティを持っている。ただし、上記のプロパティは読み取り専用なので、値を書き換えることはできない。「CS0200: Property or indexer 'DateTime.XXXX' cannot be assigned to -- it is read only (CS0200) (xxxxxxxxxxx)」という「読み取り専用の値は変更ができない」といった旨の構文エラーになる。曜日は英語で返ってくる。なんと、C#の日時操作には、年がうるう年かどうかを判定するメソッドがある。この場合は、DateTime構造体に含まれている静的メソッドであるTryParseを使用する。
また、TryParseメソッドで値が変換されれば、Trueが返り、変換ができないと例外が発生する。第一引数に変換する日時の文字列、第二引数にoutキーワード付きのDateTime型の変数を指定する。※フォーマットについてはいろいろある。


