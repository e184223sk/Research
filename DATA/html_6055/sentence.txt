UniWebView4とはアプリ内でWEBサイトを表示したい場面で役に立つアセットです。初めて使用する際にいろいろとわからないことが多かったので
メモを残しておきます。フルスクリーンで半透明のWebViewを表示し、WebView上のボタン押下でCubeを動かすサンプルです。まずはHTMLです。
デモなので超簡易です。作成したらStreamingAssetsに保存します。フルスクリーン表示する際はHTML側でレスポンシブ対応しておかないとios端末で正しく表示されませんでした。次にC#側のWebView生成コードです。OnMessageReceivedで受け取ったメッセージに応じた処理を行っています。
当然ながら、HTML側のスキーム等、C#側と合わせないと動きません。小ネタですが、Colorをデフォルト引数として設定するのは構造体の都合上難しいようでした。
【参考リンク】：Unity3d c# - Vector3 as default parameterですので、下記のようにNull許容型として定義し、関数内で値の有無を見てデフォルト値を設定しています。??はNull合体演算子と呼ばれるもので、??の左側が評価されてnullを返した場合、??の右側を評価するという書き方です。
【参考リンク】：??（null合体演算子）最後に使う側のサンプルです。
ボタン押下で指定したHTMLのWebViewを開きます。超簡単かつドキュメントがしっかりしていて、有料の価値のある非常に良いアセットだと個人的には思いました。一点だけ下記直せずです。
iosだと問題なく動いたのですが、手元のAndroid端末(ver11)だと
Hideの呼び出し時に一瞬カクついてWebViewが閉じるバグがありました。何か知ってる人いたら助けてください。UniWebView
もう逃げない。HTMLのviewportをちゃんと理解する


