More than 1 year has passed since last update.ビジュアルツリー上の親子関係があり親子で同名のプロパティをBindingしていた時、子要素のBindingがされていないと親要素のプロパティがBindingされて表示されてしまいました。具体的にコードで示してみます。
まず、親要素MainWindowに子要素SubWindowを表示します。子要素SubWindowには、親要素のMainWindowと同名のプロパティMessageをBindingしておきます。親要素MainWindowのみBindingします。
コードビハインドでDataCotextとMainViewModelを紐づけます。MainViewModelではプロパティMessageに値を入れておきます。■実行結果
SubWindowのMessageでは、親要素MainWindowのMessageがBindingされて「MainWindow」が表示されていることが分かります。
これは、SubWindowでDataCotextがBindingされていないため、親要素MainWindowのDataContextがBindingされてしまったためです。DataContextが継承される件は、WPF、怒りのツリー外DataContext伝播によると、WEPerには常識のようです・・・。悲しい。PrismのRegionManagerで画面遷移していたりすると気づきにくく発見が遅れました。改めて基礎大事。


