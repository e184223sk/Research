More than 1 year has passed since last update.インメモリ DB はその名の通り、メモリ内のデータベースです。
実際に DB を用意する必要がないのでモックやテストちょっとした動作確認に向いています。
また外部 IO がないので非常の高速に動作します。
ただし揮発性メモリなのでアプリを終了するとデータはすべて消えます。最終的なソリューション構成は以下の通りです。テスト対象です。
書籍管理アプリに初期追加、書籍検索を行うサービスクラスがあったとします。書籍エンティティは以下の通りです。
[Key]アノテーションをつけるとID以外をキーにできます。コンストラクタでの引数でDbContextOptions&lt;T&gt;を受け取ります。
使うときはインメモリ DB を使う設定を渡します。テストプロジェクトInMemoryDbTestにインメモリ DB を使ったテストを書きます。
データベースコンテキストをインスタンス化する際に引数にインメモリ DB を使う設定を渡します。上記のコードのユニットテストをしてインメモリ DB が使えているか確かめます。


