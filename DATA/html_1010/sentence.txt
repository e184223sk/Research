More than 1 year has passed since last update.まずはデモです。特定の範囲内にオブジェクトがランダムかつ、
メッシュ同士が重なって表示されることなく出現します。生成位置(表示位置)をランダムにすることは簡単なのですが、
立体的なオブジェクトをメッシュの重なりなく表示するのは
少々入り組んだロジックを考える必要がありましたのでメモしときます。まずはコード全文です。
今回は最初からHierarchyにオブジェクトを非表示で配置しておきました。
流れとしては下記です。
⓪"オブジェクトの座標を保存しておくリスト"を作成
①ランダムな座標を作成
②ランダムにオブジェクトを選択
③選んだオブジェクトの座標を"オブジェクトの座標を保存しておくリスト"の中から削除
④XYZの3軸それぞれで位置が被っていないか比較
⑤1軸でも座標が被っていないなら重なりなく表示可能なので表示する
⑥"オブジェクトの座標を保存しておくリスト"に今回利用した座標を追加オブジェクトの座標同士を比較するだけでは、オブジェクト同士の重なりを防ぐことができません。
ですので、今回はBoundsと呼ばれるオブジェクトの領域を指すもの利用することにしました。BoxCollider.bounds.sizeでオブジェクトの持つコライダーの大きさが取得できます。このオブジェクトの大きさを利用して、
新しく配置しようとしている座標が既に利用済みの座標と比べてBounds一個分離れているか
どうかを判定すれば、位置被りをなくすロジックを組むことができます。2020/07/26　追記
取得したいBoundsを持つオブジェクトが非アクティブな時、
Boundsの取得に失敗することなく、0を返します。(要注意)結構必要となるロジックだと思いましたが、意外と実装録を見つけられませんでした。
もっとスマートな方法があれば教えてください。


