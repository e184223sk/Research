<!DOCTYPE html><html><head><meta charset="utf-8" /><title>iTunesで再生した楽曲をIFTTT経由でDiscordに投げてみた話 - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/Shiratori/items/ca9f6dc95734c5bce5ff" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="Nul9bC3n9uD+UORc01YNugoSxPUFwtOisUVlwU+kBYljYwS8m0cEzBap0OQ/U4fMmL5yk7UJr/p5G29XIHmW9A==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta content="@Shiratori_SE" name="twitter:creator" /><meta property="og:type" content="article"><meta property="og:title" content="iTunesで再生した楽曲をIFTTT経由でDiscordに投げてみた話 - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1hVlIxYm1WejQ0R241WWFONTVTZjQ0R1g0NEdmNXFXOTVwdXk0NEtTU1VaVVZGVG50WXpubExIamdhZEVhWE5qYjNKazQ0R3I1b3FWNDRHUzQ0R200NEdfNDRHZjZLbXgmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT01NCZ0eHQtY2xpcD1lbGxpcHNpcyZ0eHQtYWxpZ249Y2VudGVyJTJDbWlkZGxlJnM9ZjBhNzdhODkwNmI3NzJjY2RlNzNmYjI2ZGFkZjI3NTQ&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRk5vYVhKaGRHOXlhUSZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPTQ0MjZkOGFmMGMyYmRjOTU0YzcwNWRjOGYxMjVmZGJj&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=82fb80ed8991325044d9b8c2587be8d0"><meta property="og:description" content="恥ずかしながら、最近までWeb系のプロダクト（最近主流のキラキラしてるやつ）にはほとほと疎く
この間ようやくIFTTTなるものを知った。

で、いろいろ弄っているうちになんか面白そう！と思って表題のアプリを作ってみようと思い立ったのが..."><meta content="https://qiita.com/Shiratori/items/ca9f6dc95734c5bce5ff" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,ifttt,iTunes,Webhook,discord" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 1nzh4zz 38fzdi helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-1nzh4zz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 32px;background-color:#FBE69E;color:rgba(0,0,0,0.87);line-height:1.5;font-weight:600;}@media (max-width:770px){.css-1nzh4zz{padding:16px;}}.css-38fzdi{color:#CA832A;margin-right:4px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-9973cc6a-f17b-4efb-9cb9-77a588246219"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2FShiratori%2Fitems%2Fca9f6dc95734c5bce5ff">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2FShiratori%2Fitems%2Fca9f6dc95734c5bce5ff">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-9973cc6a-f17b-4efb-9cb9-77a588246219">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2018-11-14T02:37:03.000+09:00","dateModified":"2018-11-15T22:30:37.000+09:00","headline":"iTunesで再生した楽曲をIFTTT経由でDiscordに投げてみた話","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1hVlIxYm1WejQ0R241WWFONTVTZjQ0R1g0NEdmNXFXOTVwdXk0NEtTU1VaVVZGVG50WXpubExIamdhZEVhWE5qYjNKazQ0R3I1b3FWNDRHUzQ0R200NEdfNDRHZjZLbXgmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT01NCZ0eHQtY2xpcD1lbGxpcHNpcyZ0eHQtYWxpZ249Y2VudGVyJTJDbWlkZGxlJnM9ZjBhNzdhODkwNmI3NzJjY2RlNzNmYjI2ZGFkZjI3NTQ\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRk5vYVhKaGRHOXlhUSZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPTQ0MjZkOGFmMGMyYmRjOTU0YzcwNWRjOGYxMjVmZGJj\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=82fb80ed8991325044d9b8c2587be8d0","mainEntityOfPage":"https://qiita.com/Shiratori/items/ca9f6dc95734c5bce5ff","author":{"@type":"Person","address":"Kawasaki/Japan","email":"shiratori.freelance@gmail.com","identifier":"Shiratori","name":"Shiratori","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Favatars1.githubusercontent.com%2Fu%2F38185580%3Fv%3D4?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=c1abea528b6a23f45d5ec932936c3bfa","url":"https://qiita.com/Shiratori","description":"フリーランスとして活動中のエンジニア。\r\nいろいろなプロジェクトに参加した結果、言語も層も満遍なく出来るようになった雑食系。\r\n\r\nお仕事のご相談はメールにてお気軽に！\r\n","memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://zine.qiita.com/interview/202105-uzabase-2/?utm_source=qiita&amp;utm_medium=header-banner">「最高の開発者体験」を目指す NewsPicks開発チーム</a><a target="_blank" id="header_text_message_2" href="https://zine.qiita.com/interview/202105-uzabase-2/?utm_source=qiita&amp;utm_medium=header-banner">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"Shiratori","type":"items","id":"ca9f6dc95734c5bce5ff"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"「最高の開発者体験」を目指す NewsPicks開発チーム","url":"https://zine.qiita.com/interview/202105-uzabase-2/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"Shiratori","type":"items","id":"ca9f6dc95734c5bce5ff"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":0,"pos_id":"header_text_message_1","message":"「最高の開発者体験」を目指す NewsPicks開発チーム","url":"https://zine.qiita.com/interview/202105-uzabase-2/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"Shiratori","type":"items","id":"ca9f6dc95734c5bce5ff"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":0,"pos_id":"header_text_message_2","message":"「最高の開発者体験」を目指す NewsPicks開発チーム","url":"https://zine.qiita.com/interview/202105-uzabase-2/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/Shiratori/items/ca9f6dc95734c5bce5ff","location":"/Shiratori/items/ca9f6dc95734c5bce5ff","scheme":"https","host":"qiita.com","port":null,"pathname":"/Shiratori/items/ca9f6dc95734c5bce5ff","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"HqhjVDtqSfYmE1UTm+zhdJ/OZfFPeMNL803NRXn80h5LIhqEjcq72s7qYat36WsCDWLTl/+zvxM7E8fTFiFBYw==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-53f0eb5a-fb23-4b93-b8d1-82d2a1dcd943"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/Shiratori/items/ca9f6dc95734c5bce5ff/likers" class="css-1iupg5d">4</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">5</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/ca9f6dc95734c5bce5ff/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/Shiratori/items/ca9f6dc95734c5bce5ff/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/Shiratori/items/ca9f6dc95734c5bce5ff/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/Shiratori/items/ca9f6dc95734c5bce5ff/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/Shiratori/items/ca9f6dc95734c5bce5ff.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-1nzh4zz"><span class="fa fa-fw fa-warning css-38fzdi"></span><p>More than 1 year has passed since last update.</p></div><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/Shiratori"><img class="css-100alwu eyfquo10" src="https://avatars1.githubusercontent.com/u/38185580?v=4" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/Shiratori" class="css-10ougpm">@<!-- -->Shiratori</a><div class="css-1ay9vb9"><span><meta content="2018-11-13T17:37:03Z"/><time dateTime="2018-11-15T13:30:37Z" class="css-m19uds">updated at 2018-11-15</time></span></div></div></div></div></div><h1 class="css-cgzq40">iTunesで再生した楽曲をIFTTT経由でDiscordに投げてみた話</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/ifttt" class="css-4czcte">ifttt</a><a href="/tags/itunes" class="css-4czcte">iTunes</a><a href="/tags/webhook" class="css-4czcte">Webhook</a><a href="/tags/discord" class="css-4czcte">discord</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div><p>恥ずかしながら、最近までWeb系のプロダクト（最近主流のキラキラしてるやつ）にはほとほと疎く<br>
この間ようやくIFTTTなるものを知った。</p>

<p>で、いろいろ弄っているうちになんか面白そう！と思って表題のアプリを作ってみようと思い立ったのが昨日。<br>
大変雑な感じの組み方をしてしまったのだけれど、せっかくなので記事にしてしまおうと思ってみたり。</p>

<h1>
<span id="用語定義" class="fragment"></span><a href="#%E7%94%A8%E8%AA%9E%E5%AE%9A%E7%BE%A9"><i class="fa fa-link"></i></a>用語定義</h1>

<p>一応わかりやすさのために用語を簡単にまとめておきたい。</p>

<table>
<thead>
<tr>
<th style="text-align: center">用語</th>
<th style="text-align: left">ザックリ説明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center">IFTTT</td>
<td style="text-align: left">web経由でいろんなサービス間の橋渡しをしてくれるサービス。<br>webhookからwebhookをつなげてくれる子。</td>
</tr>
<tr>
<td style="text-align: center">iTunes</td>
<td style="text-align: left">appleが提供してる音楽再生アプリ。<br>いや、音楽再生のみじゃないんだけど、windowsだと基本こんな認識</td>
</tr>
<tr>
<td style="text-align: center">Discord</td>
<td style="text-align: left">チャットアプリ。ゲーム配信に特化してるイメージがある。<br>会議通話も配信もいける。アプリの説明文大好き。</td>
</tr>
</tbody>
</table>

<h1>
<span id="基本的なイメージ" class="fragment"></span><a href="#%E5%9F%BA%E6%9C%AC%E7%9A%84%E3%81%AA%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8"><i class="fa fa-link"></i></a>基本的なイメージ</h1>

<p><a href="https://camo.qiitausercontent.com/faaabc86ef05812a4542285056d5d0fd3be6b688/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3235393637392f65343463666337662d623038632d623835362d383036662d6434313239656464656461322e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Fe44cfc7f-b08c-b856-806f-d4129eddeda2.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=b0b0fb36f761f3b1cd01eccc84cf317b" alt="2018y11m14d_022626602.jpg" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/259679/e44cfc7f-b08c-b856-806f-d4129eddeda2.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Fe44cfc7f-b08c-b856-806f-d4129eddeda2.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=d59bf6ad94d48ff9398e6c7965ce540d 1x" loading="lazy"></a></p>

<p>うーん、シンプル。<br>
ちなみにwebhookを利用してるので、IFTTT経由しなくてもDiscordにメッセージ投げるのは出来ちゃいます。<br>
IFTTT弄らない分手間もかからないかも。<br>
ただ、IFTTTを経由することで、IFTTTから出力先に指定できる400超のサービスに拡張できるってのは間違いなく魅力かと。</p>

<p>さて･･･しっかり書くのは明日にして、とりあえず成果だけ挙げてお休み。<br>
気がついたら2時回ってたので･･･<br>
ちゃんと計測してないけど、4時間くらいで出来る簡単なアプリ。</p>

<h1>
<span id="成果" class="fragment"></span><a href="#%E6%88%90%E6%9E%9C"><i class="fa fa-link"></i></a>成果</h1>

<p><a href="https://camo.qiitausercontent.com/3bb7e8a9b114625cb45fbbd73816f689b3f8e6a4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3235393637392f66653232326664362d333831382d373466652d333964662d3462366533646433333239652e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Ffe222fd6-3818-74fe-39df-4b6e3dd3329e.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=0b0dffe58eb3cb15926bf65d4d383c2c" alt="2018y11m14d_014343048.jpg" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/259679/fe222fd6-3818-74fe-39df-4b6e3dd3329e.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Ffe222fd6-3818-74fe-39df-4b6e3dd3329e.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=21d3a96ed67439d505d3c44c4b7be38a 1x" loading="lazy"></a></p>

<p>{再生したトラックのタイトル} - {アルバム名}/{アーティスト名}<br>
の書式。この書式はWindowsアプリで整える。</p>

<h1>
<span id="実装" class="fragment"></span><a href="#%E5%AE%9F%E8%A3%85"><i class="fa fa-link"></i></a>実装</h1>

<h2>
<span id="discordのwebhook用アドレスを取得する" class="fragment"></span><a href="#discord%E3%81%AEwebhook%E7%94%A8%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>DiscordのWebhook用アドレスを取得する</h2>

<p>まずはDiscord。<br>
Discordのサーバーアイコンを右クリック。<br>
コンテキストメニューから[サーバー設定]-[webhooks]を選択。</p>

<p>サーバーの設定画面に遷移するので、ここで[webhookを作成]ボタンを押下。<br>
<a href="https://camo.qiitausercontent.com/eabd8d8aac7d4527fd6b893e5c118203bc077225/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3235393637392f33623033306464392d323764352d616338342d653662362d3564366235663830613739312e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2F3b030dd9-27d5-ac84-e6b6-5d6b5f80a791.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=4614c14130d6f6a5ec437980c696ad0a" alt="2018y11m14d_145553053.jpg" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/259679/3b030dd9-27d5-ac84-e6b6-5d6b5f80a791.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2F3b030dd9-27d5-ac84-e6b6-5d6b5f80a791.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=f53fbab31ee69c6a567a1d8cab878433 1x" loading="lazy"></a></p>

<p>webhook契機でメッセージを送る際のデフォルト名と、投稿先のチャンネル、アイコンなどを設定し、<br>
WEBHOOK URLをコピーする。</p>

<p><a href="https://camo.qiitausercontent.com/d6f178f7188ae647ee0d52709d756bc53ba1fede/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3235393637392f35376466623339662d343230332d343533312d653733342d3762383739346530653637632e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2F57dfb39f-4203-4531-e734-7b8794e0e67c.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=18793eacf5d4f5043812389f9333071b" alt="Discord_Webhook.jpg" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/259679/57dfb39f-4203-4531-e734-7b8794e0e67c.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2F57dfb39f-4203-4531-e734-7b8794e0e67c.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=217aa13af3a185080b1b28e4510f9a03 1x" loading="lazy"></a></p>

<blockquote>
<p>！注意！<br>
Webhook URLを公開すると、匿名の誰かが好き勝手メッセージ投げられるようになる。控えよう。</p>
</blockquote>

<p>後はコピーしたURLにjson形式のデータをPOSTしてやればDiscordへの投稿はOK。<br>
jsonのKeyは色々あるけど、とりあえず使うならcontent(本文)さえ入れておけばOK。<br>
お手軽なキーと内容の表はこんな感じ</p>

<table>
<thead>
<tr>
<th style="text-align: center">Key</th>
<th style="text-align: left">説明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center">content</td>
<td style="text-align: left">Discordの本文。メッセージ部分とも。</td>
</tr>
<tr>
<td style="text-align: center">username</td>
<td style="text-align: left">投稿者の名前。指定しない場合、DiscordのWebhoook設定で指定したデフォルト名が使われる</td>
</tr>
<tr>
<td style="text-align: center">avatar_url</td>
<td style="text-align: left">投稿者のアイコンを指すURL。指定しない場合、DiscordのWebhook設定で指定したデフォルトアイコンが使われる。</td>
</tr>
</tbody>
</table>

<p>なお、Content-Typeはapplication/jsonをちゃんと指定しないとおむずがる模様。</p>

<p>参考にさせていただいたもの：DiscordにWebhookでいろいろ投稿する<br>
<a href="https://qiita.com/Eai/items/1165d08dce9f183eac74" class="autolink" id="reference-ebf12251a1a040f58609">https://qiita.com/Eai/items/1165d08dce9f183eac74</a></p>

<hr>

<hr>

<h2>
<span id="iftttでappletを作る" class="fragment"></span><a href="#ifttt%E3%81%A7applet%E3%82%92%E4%BD%9C%E3%82%8B"><i class="fa fa-link"></i></a>IFTTTでAppletを作る。</h2>

<p>今回一番使いたかったところ。<br>
先にも述べたとおり、IFTTTを介さなくてもjson形式のbodyを書き込んだHTTPリクエストを送ればDiscordに投稿は出来る。<br>
ただし、別のサービスに送りたくなったときにソースを直す必要があるわけですよ。<br>
あ、ハードコーディングする場合ね？<br>
もちろんそこはいくらでもやりようがあるんだけど。</p>

<p><b>とにかく、IFTTTを使いたかったので、いいんですぅ！（ゴリ押し）</b></p>

<p>で、IFTTT。</p>

<p>もうこれ説明割愛してもいいんじゃないの？ってくらいサンプルにあふれてるんだけど、<br>
一応webhook入力の例は見当たらなかった気がするから書いてみよう。</p>

<p>まずはIFTTTにアクセス。<br>
※アカウントの登録はしてある前提。</p>

<p>New Appletを選択し、</p>

<p><a href="https://camo.qiitausercontent.com/3e103aff86b7a55e526ac62fc46fb0d0f655d5e6/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3235393637392f36613831653361632d303033362d633930382d363363312d3333666130336636303766382e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2F6a81e3ac-0036-c908-63c1-33fa03f607f8.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=867407745b1fe2133d57171689394c64" alt="2018y11m15d_010757519.jpg" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/259679/6a81e3ac-0036-c908-63c1-33fa03f607f8.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2F6a81e3ac-0036-c908-63c1-33fa03f607f8.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=d8fd6a426d49ab61d1bdca8ca3c56b0f 1x" loading="lazy"></a></p>

<p>をクリック。</p>

<p>[Choose a service]画面の検索窓に"webhook"と打ち込み、出てきた[webhook]をクリック。</p>

<p><a href="https://camo.qiitausercontent.com/42b6b32dd1967ac184d7c8bc387e60f9d073419a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3235393637392f64613334333633662d363632372d666433662d613339372d3031343165366436636536342e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Fda34363f-6627-fd3f-a397-0141e6d6ce64.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=67f00dc9db7b89fe9407f3093001cf7f" alt="2018y11m15d_011801112.jpg" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/259679/da34363f-6627-fd3f-a397-0141e6d6ce64.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Fda34363f-6627-fd3f-a397-0141e6d6ce64.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=63c2339b733bcff9c27930bbcb68b605 1x" loading="lazy"></a></p>

<p>Choose trigger画面に遷移するので、[Receive a web request]を選択。</p>

<p><a href="https://camo.qiitausercontent.com/fae739647229c2b3d4e7ee849bbdc0792993bfda/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3235393637392f66376130316531312d303662382d353166352d653663352d3233393130343836643933392e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Ff7a01e11-06b8-51f5-e6c5-23910486d939.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=a1a5a64fca3a57a469b370b134886679" alt="2018y11m15d_012148157.jpg" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/259679/f7a01e11-06b8-51f5-e6c5-23910486d939.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Ff7a01e11-06b8-51f5-e6c5-23910486d939.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=290ca94ea5bc2d1650a249e4fdfc3776 1x" loading="lazy"></a></p>

<p>すると、triggerに必要な情報を埋めてね！画面に遷移するので、<br>
必要なEvent Nameテキストボックスに任意の文字列を設定する。</p>

<p>ちなみに、気になったので試してみたら、日本語も指定できました。<br>
エンコードによる差異とか出そうで怖いからascii文字のみの方がよさそうだけども。</p>

<p><a href="https://camo.qiitausercontent.com/5fca7b6f5d5c81b8b52ed02734d1062c599c4010/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3235393637392f66353935386233372d616339652d623532372d643135642d3935326339316264366230322e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Ff5958b37-ac9e-b527-d15d-952c91bd6b02.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=a8d19a4101e1b0b6efb7fcb21e0efe37" alt="2018y11m15d_012720295.jpg" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/259679/f5958b37-ac9e-b527-d15d-952c91bd6b02.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Ff5958b37-ac9e-b527-d15d-952c91bd6b02.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=e76a55482e13e122f13cc6c8f034d82d 1x" loading="lazy"></a></p>

<p>ここまででtriggerの設定はOK。<br>
次に</p>

<p><a href="https://camo.qiitausercontent.com/607a8b62f4c4518d31bbd2aa17773314d8e1ccf9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3235393637392f63326565656237372d663761362d613562632d343633342d3035396163353236643665302e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Fc2eeeb77-f7a6-a5bc-4634-059ac526d6e0.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=0ccdffbc095b18709cacf1c9603571c5" alt="2018y11m15d_014036002.jpg" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/259679/c2eeeb77-f7a6-a5bc-4634-059ac526d6e0.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Fc2eeeb77-f7a6-a5bc-4634-059ac526d6e0.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=293ceecaba0fe6a5efd8c823dc6cb8b2 1x" loading="lazy"></a></p>

<p>この画面の</p>

<p><a href="https://camo.qiitausercontent.com/1255685df69d6503720ca7e5e1f6a27865d04cba/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3235393637392f64343234666531352d303336612d363738362d393163392d3665356331633232653738332e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Fd424fe15-036a-6786-91c9-6e5c1c22e783.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=1c9543c5da5041326863a9d38a734f94" alt="2018y11m15d_014055893.jpg" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/259679/d424fe15-036a-6786-91c9-6e5c1c22e783.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Fd424fe15-036a-6786-91c9-6e5c1c22e783.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=c21fc5ec46a6e476be544ef1bf290edf 1x" loading="lazy"></a></p>

<p>をクリックしてDiscordに投げるwebhookの設定をしていきます。</p>

<p>[Choose action service]画面に遷移したら、triggerの設定時と同じように、検索窓に"webhook"と入力し、<br>
出てきた[webhook]をクリック。</p>

<p>[Choose action]画面で[Make a web request]をクリックし、次の画面へ</p>

<p><a href="https://camo.qiitausercontent.com/78a694a23c04b87ce3a12dc5b79a4b35f320842f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3235393637392f63303139356163362d636439302d316232302d383736322d3131353632386634636634652e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Fc0195ac6-cd90-1b20-8762-115628f4cf4e.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=84714fd8939052ffe5de50d33251c032" alt="2018y11m15d_014914686.jpg" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/259679/c0195ac6-cd90-1b20-8762-115628f4cf4e.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Fc0195ac6-cd90-1b20-8762-115628f4cf4e.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=2dce286746aafdebc716d9f6685a2e78 1x" loading="lazy"></a></p>

<p>[Make a web request]をクリックし、遷移した[Complete action fields]画面で送信するHTTPリクエストの内容を設定。<br>
設定項目と対応は以下の通り</p>

<p><a href="https://camo.qiitausercontent.com/7e732b851435c7c1a94e6618bd8445f5ed6b5aea/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3235393637392f65666436643838392d656235362d666562372d303665612d3466616565396465363538352e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Fefd6d889-eb56-feb7-06ea-4faee9de6585.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=e5dfb0381cab8a161ae61be53adca000" alt="2018y11m15d_020506865.jpg" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/259679/efd6d889-eb56-feb7-06ea-4faee9de6585.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Fefd6d889-eb56-feb7-06ea-4faee9de6585.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=7d3d830c697e2cff0dae9ef4092b5f1e 1x" loading="lazy"></a></p>

<table>
<thead>
<tr>
<th style="text-align: center">項目</th>
<th style="text-align: left">説明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center">URL</td>
<td style="text-align: left">送信先のURLをここに指定する。<br>Discordにメッセージを投げる場合、<br>ここにDiscordのwebhook先URLを貼り付ける。</td>
</tr>
<tr>
<td style="text-align: center">Method</td>
<td style="text-align: left">HTTPリクエストにおけるメソッドを指定する。<br>データを投げる場合、基本的にはPOSTでいいはず。</td>
</tr>
<tr>
<td style="text-align: center">Content Type</td>
<td style="text-align: left">HTTPリクエストのBody部分の内容を指定する。<br>今回はjson形式なので、"application/json"を指定</td>
</tr>
<tr>
<td style="text-align: center">Body</td>
<td style="text-align: left">HTTPリクエストのBody部。<br>今回はjson形式でデータを送る。</td>
</tr>
</tbody>
</table>

<p>今回のBodyはシンプルにこんな感じ</p>

<blockquote>
<p>{ <br>
   "username" : "IFTTT music", <br>
   "avatar_url": "<a href="https://img.icons8.com/color/1600/ifttt.png" class="autolink" rel="nofollow noopener" target="_blank">https://img.icons8.com/color/1600/ifttt.png</a>", <br>
   "content" : " {{Value1}}" <br>
 }</p>
</blockquote>

<p>{{Value1}}の部分にはtrigger側のwebhookで投げられてきたHTTPリクエストのvalue1キーの値がそのまま入るイメージ。</p>

<p>入力が終わったら画面下部の[Create action]をクリック。<br>
[Review and finish]画面で[Finish]ボタンを押下してappletの作成を完了しましょう。</p>

<p>これでIFTTTの設定は終わり。<br>
ちなみにIFTTTのwebhookによるトリガは、[webhook service]の[Documentation]ページから動作を確認することが出来ます。</p>

<p>Service一覧から[webhooks]を選択し、Webhooks画面へ。<br>
または、<a href="https://ifttt.com/maker_webhooks" rel="nofollow noopener" target="_blank">ここ</a>から移動。</p>

<p>画面右上にあるDocumentationボタンを押下してDocumentation画面へ移動。<br>
Documentation画面の[To trigger an Event]以下の値を書き換えて[Test It]ボタンを押下することで<br>
作成したHTTPリクエストを送ることが出来ます。</p>

<p>ちなみに、この画面にはアカウント固有のキーが表示されてるので<br>
例によって公開しないほうがいいです。<br>
悪戯し放題！</p>

<hr>

<hr>

<h2>
<span id="itunesで再生した楽曲を取得しhttpリクエストを投げるアプリを作る" class="fragment"></span><a href="#itunes%E3%81%A7%E5%86%8D%E7%94%9F%E3%81%97%E3%81%9F%E6%A5%BD%E6%9B%B2%E3%82%92%E5%8F%96%E5%BE%97%E3%81%97http%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%82%92%E6%8A%95%E3%81%92%E3%82%8B%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E4%BD%9C%E3%82%8B"><i class="fa fa-link"></i></a>iTunesで再生した楽曲を取得し、HTTPリクエストを投げるアプリを作る</h2>

<p>さて、ここまできてようやく大詰め。<br>
iTunesで再生した楽曲を取得するお時間です。</p>

<p>参考にさせていただいたサイトさんの内容とかなり被るので要点を</p>

<ol>
<li>iTunesLib(COMオブジェクト)を参照に加える。</li>
<li>using iTunesLib;をコードの先頭に足しておく。</li>
<li>iTunesAppインスタンスを取得し、イベントハンドラを登録する。
<br>※イベントは以下の表.iTunesAppイベント一覧を参照のこと</li>
<li>引数として渡されるObjectをIITTrack型にキャストし、必要なデータを取得</li>
<li>データを整形してHTTPリクエストにまとめる</li>
<li>IFTTTにポイっ！って</li>
<li>※使わなくなったらiTunesAppオブジェクトを解放する。登録したイベントハンドラの削除も忘れずに</li>
</ol>

<p>表. iTunesAppイベント一覧</p>

<table>
<thead>
<tr>
<th style="text-align: center">イベント名</th>
<th style="text-align: center">型</th>
<th style="text-align: center">引数</th>
<th style="text-align: left">概要</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center">OnDatabaseChangedEvent</td>
<td style="text-align: center">void</td>
<td style="text-align: center">object deletedObjectIDs,<br> object changedObjectIDs</td>
<td style="text-align: left">iTunesデータベースに変更が起きたときに発生。</td>
</tr>
<tr>
<td style="text-align: center">OnPlayerPlayEvent</td>
<td style="text-align: center">void</td>
<td style="text-align: center">object iTrack</td>
<td style="text-align: left">iTunesでトラックを再生するときに発生。<br>引数としてトラック情報が渡される。<br>コード内で利用する場合、IITTrack型にキャストして利用する。<br>IITTrack型については表.IITTrack型プロパティを参照のこと</td>
</tr>
<tr>
<td style="text-align: center">OnPlayerStopEvent</td>
<td style="text-align: center">void</td>
<td style="text-align: center">object iTrack</td>
<td style="text-align: left">iTunesでトラックの再生を停止するときに発生。<br>引数としてトラック情報が渡される。<br>コード内で利用する場合、IITTrack型にキャストして利用する。<br>IITTrack型については表.IITTrack型プロパティを参照のこと</td>
</tr>
<tr>
<td style="text-align: center">OnPlayerPlayingTrackChangedEvent</td>
<td style="text-align: center">void</td>
<td style="text-align: center">object iTrack</td>
<td style="text-align: left">iTunesで再生中のトラック情報が変更されるときに発生。<br>次楽曲の再生や、前楽曲の再生を行った場合にも発生する。<br>引数としてトラック情報が渡される。<br>コード内で利用する場合、IITTrack型にキャストして利用する。<br>IITTrack型については表.IITTrack型プロパティを参照のこと</td>
</tr>
<tr>
<td style="text-align: center">OnCOMCallsDisabledEvent</td>
<td style="text-align: center">void</td>
<td style="text-align: center">[ComAliasName("iTunesLib.ITCOMDisabledReason")] ITCOMDisabledReason reason</td>
<td style="text-align: left">COM(iTuneslib)へのアクセスが繰延(differ)される場合に発生。<br>説明文読む限りモーダルダイアログが出たときとかじゃないかな？</td>
</tr>
<tr>
<td style="text-align: center">OnCOMCallsEnabledEvent</td>
<td style="text-align: center">void</td>
<td style="text-align: center">-</td>
<td style="text-align: left">COM(iTuneslib)への繰延(differ)状態が解除された場合に発生？<br>なんかモーダルダイアログが出てると遅延が起きるらしい。<br>その状態が解除されると発生するっぽい</td>
</tr>
<tr>
<td style="text-align: center">OnQuittingEvent</td>
<td style="text-align: center">void</td>
<td style="text-align: center">-</td>
<td style="text-align: left">iTunesが終了されるときに発生。</td>
</tr>
<tr>
<td style="text-align: center">OnAboutToPromptUserToQuitEvent</td>
<td style="text-align: center">void</td>
<td style="text-align: center">-</td>
<td style="text-align: left">iTunesが”ユーザーに終了するか問い合わせるプロンプトを表示する”時に発生<br>iTunesに絡めたアプリ立ち上げた状態でiTunes終了しようとすると"連携アプリあるけど本当にiTunes閉じる？"って聞いてくるアレ<br>
</td>
</tr>
<tr>
<td style="text-align: center">OnSoundVolumeChangedEvent</td>
<td style="text-align: center">void</td>
<td style="text-align: center">int newVolume</td>
<td style="text-align: left">音量変更時に発生。</td>
</tr>
</tbody>
</table>

<p>表.IITTrack型プロパティ</p>

<table>
<thead>
<tr>
<th style="text-align: center">プロパティ</th>
<th style="text-align: center">型</th>
<th style="text-align: left">説明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center">Album</td>
<td style="text-align: center">string</td>
<td style="text-align: left">アルバム名</td>
</tr>
<tr>
<td style="text-align: center">Artist</td>
<td style="text-align: center">string</td>
<td style="text-align: left">読んで字のごとく、アーティスト名。</td>
</tr>
<tr>
<td style="text-align: center">Artwork</td>
<td style="text-align: center">IITArtworkCollection</td>
<td style="text-align: left">アートワークを格納してるとかなんとか。そうなると画像データなんだろうなぁ。<br>今回はノータッチ</td>
</tr>
<tr>
<td style="text-align: center">Bitrate</td>
<td style="text-align: center">int</td>
<td style="text-align: left">ビットレート。これ説明要らないのでは？</td>
</tr>
<tr>
<td style="text-align: center">BPM</td>
<td style="text-align: center">int</td>
<td style="text-align: left">BPM。Beats Per Minuitの略なんだとか。テンポの単位なんですって！</td>
</tr>
<tr>
<td style="text-align: center">Comment</td>
<td style="text-align: center">string</td>
<td style="text-align: left">コメント。基本的にiTunesで楽曲のコンテキストメニューからプロパティ開かない限り見る機会ないやつ。</td>
</tr>
<tr>
<td style="text-align: center">Compilation</td>
<td style="text-align: center">bool</td>
<td style="text-align: left">Compilation albumからのトラックかどうかを返却。<br> ･･･これ要るん･･･？</td>
</tr>
<tr>
<td style="text-align: center">Composer</td>
<td style="text-align: center">string</td>
<td style="text-align: left">コンポーザー。作曲家のことだそうな。</td>
</tr>
<tr>
<td style="text-align: center">DateAdded</td>
<td style="text-align: center">Datetime</td>
<td style="text-align: left">プレイリストに追加された日。</td>
</tr>
<tr>
<td style="text-align: center">DiskCount</td>
<td style="text-align: center">int</td>
<td style="text-align: left">元アルバムの総枚数が格納されてるそうな。</td>
</tr>
<tr>
<td style="text-align: center">DiskNumber</td>
<td style="text-align: center">int</td>
<td style="text-align: left">えー、元アルバムの何枚目に収録されてるかを格納･･･これ使ってるのかな？</td>
</tr>
<tr>
<td style="text-align: center">Duration</td>
<td style="text-align: center">int</td>
<td style="text-align: left">トラックの長さを秒単位で返してくれるらしい。処理に使うならこっちかな？</td>
</tr>
<tr>
<td style="text-align: center">Enabled</td>
<td style="text-align: center">bool</td>
<td style="text-align: left">再生可否を示すプロパティ。</td>
</tr>
<tr>
<td style="text-align: center">EQ</td>
<td style="text-align: center">string</td>
<td style="text-align: left">EQ。心の知能指数･･･ではなく、イコライザのことっぽい。<br>EQプリセットの名前を示すプロパティだそうな</td>
</tr>
<tr>
<td style="text-align: center">Finish</td>
<td style="text-align: center">int</td>
<td style="text-align: left">トラックの停止時間を秒で格納しているとかなんとか。<br>レジューム再生用？<br>ノータッチでした</td>
</tr>
<tr>
<td style="text-align: center">Genre</td>
<td style="text-align: center">string</td>
<td style="text-align: left">ジャンル。これ難しいよね。特にメタルとロックとパンク。</td>
</tr>
<tr>
<td style="text-align: center">Grouping</td>
<td style="text-align: center">string</td>
<td style="text-align: left">グルーピングタグ。なんかタグでまとめておけるっぽいよ、トラック。そのためのタグ？</td>
</tr>
<tr>
<td style="text-align: center">KindAsString</td>
<td style="text-align: center">string</td>
<td style="text-align: left">”AAC audio file”みたいなファイルの種類を文字列で返してくれるそうな。</td>
</tr>
<tr>
<td style="text-align: center">Kind</td>
<td style="text-align: center">ITTrackKind</td>
<td style="text-align: left">音声ファイルの種別情報みたい。enum。ファイル、CD、URL、デバイス、ライブラリとかを判別してる？</td>
</tr>
<tr>
<td style="text-align: center">ModificationDate</td>
<td style="text-align: center">DateTime</td>
<td style="text-align: left">更新日。</td>
</tr>
<tr>
<td style="text-align: center">Name</td>
<td style="text-align: center">string</td>
<td style="text-align: left">トラックの名前。大抵の場合楽曲名。</td>
</tr>
<tr>
<td style="text-align: center">PlayedCount</td>
<td style="text-align: center">int</td>
<td style="text-align: left">再生回数。</td>
</tr>
<tr>
<td style="text-align: center">PlayedDate</td>
<td style="text-align: center">DateTime</td>
<td style="text-align: left">最後に再生した日付を記録してるみたい。<br>古い順に並べると懐メロがいろいろ聞けるかも？</td>
</tr>
<tr>
<td style="text-align: center">Playlist</td>
<td style="text-align: center">IITPlaylist</td>
<td style="text-align: left">トラックが登録されてるプレイリストを返却してくれるっぽい。</td>
</tr>
<tr>
<td style="text-align: center">PlaylistID</td>
<td style="text-align: center">int</td>
<td style="text-align: left">多分playListの中の番号･･･かな？<br>
</td>
</tr>
<tr>
<td style="text-align: center">PlayOrderIndex</td>
<td style="text-align: center">int</td>
<td style="text-align: left">オーナープレイリストにおける再生順序、だそうな。</td>
</tr>
<tr>
<td style="text-align: center">Rating</td>
<td style="text-align: center">int</td>
<td style="text-align: left">トラックのレーティング。一応0から100の値で設定できるみたい。<br>0は未設定値として扱ってて、アルバムのレーティングが適用されるんだって</td>
</tr>
<tr>
<td style="text-align: center">SampleRate</td>
<td style="text-align: center">int</td>
<td style="text-align: left">サンプリングレート。Hz単位だそうな</td>
</tr>
<tr>
<td style="text-align: center">Size</td>
<td style="text-align: center">int</td>
<td style="text-align: left">トラックの情報量(byte)。</td>
</tr>
<tr>
<td style="text-align: center">Start</td>
<td style="text-align: center">int</td>
<td style="text-align: left">トラックの開始時間を秒で返却･･･もしかして使ってない領域があるってこと？</td>
</tr>
<tr>
<td style="text-align: center">Time</td>
<td style="text-align: center">string</td>
<td style="text-align: left">プレイ時間。mm:ssみたいな書式でくる。</td>
</tr>
<tr>
<td style="text-align: center">TrackCount</td>
<td style="text-align: center">int</td>
<td style="text-align: left">アルバムの総トラック数</td>
</tr>
<tr>
<td style="text-align: center">TrackNumber</td>
<td style="text-align: center">int</td>
<td style="text-align: left">アルバムのトラック番号</td>
</tr>
<tr>
<td style="text-align: center">VolumeAdjustment</td>
<td style="text-align: center">int</td>
<td style="text-align: left">トラックごとのボリューム調整情報。-100~100の値で設定してるそうな。<br>加減値？</td>
</tr>
<tr>
<td style="text-align: center">Year</td>
<td style="text-align: center">int</td>
<td style="text-align: left">録音、リリース年を格納してるそうな</td>
</tr>
</tbody>
</table>

<p>えー、つらつら書いたんですが<br>
上の成果を見てもらってわかるとおり、今回触ったのは<br>
Album、Name、Artistくらいなので、ほかは一応調べたけど使う場合はちょっと疑ってくださいな</p>

<p>ソースは･･･どうしよう？<br>
勢いで作ったから雑なんだよなぁ･･･<br>
まあ、部分部分上げます。起きたらね！</p>

<hr>

<p>・・・起きた！（19時）</p>

<p>ってことでちょろちょろソース挙げていきます。</p>

<p>参照の加え方とかは参考にさせていただいたページをご覧あれ。<br>
iTunesをインストールしてるPCなら問題なくiTunesLibは見つかるハズ。</p>

<h4>
<span id="ソース" class="fragment"></span><a href="#%E3%82%BD%E3%83%BC%E3%82%B9"><i class="fa fa-link"></i></a>ソース</h4>

<p>今回はなんとなくFormアプリケーションで組みましたが･･･ぶっちゃけコンソールアプリで十分だった気がする。</p>

<p>コンストラクタでiTunesAppオブジェクトを取得し、イベントを登録する。<br>
iTunes.(Event名) += ... って部分ね。<br>
･･･そういえばDesigner.csの読み方に関する記事書こうとしてガッツリ忘れてたなぁ。<br>
再生中のトラックが有る場合、トラック情報が更新されたか判定するためのメソッドに処理を投げるようにしてます。<br>
わざわざObject型にキャストしてるのは、iTunesAppのイベントと共通の処理にしたかったから。</p>

<div class="code-frame" data-lang="C#">
<div class="code-lang"><span class="bold">Form1.cs_iTunesAppオブジェクト設定部分</span></div>
<div class="highlight"><pre class="with-code"><code>    <span class="k">public</span> <span class="k">partial</span> <span class="k">class</span> <span class="nc">Form1</span> <span class="p">:</span> <span class="n">Form</span> <span class="p">{</span>

        <span class="k">delegate</span> <span class="k">void</span> <span class="nf">SetTextCallback</span><span class="p">(</span><span class="kt">string</span> <span class="n">text</span><span class="p">);</span>

        <span class="k">private</span> <span class="n">iTunesApp</span> <span class="n">iTunes</span><span class="p">;</span>
        <span class="k">private</span> <span class="n">IITTrack</span> <span class="n">cTrack</span><span class="p">;</span>

        <span class="k">public</span> <span class="nf">Form1</span><span class="p">()</span> <span class="p">{</span>
            <span class="nf">InitializeComponent</span><span class="p">();</span>

            <span class="cm">/* iTunesCOMオブジェクトの取得とイベントハンドラの登録 */</span>
            <span class="n">iTunes</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">iTunesApp</span><span class="p">();</span>
            <span class="n">iTunes</span><span class="p">.</span><span class="n">OnPlayerPlayEvent</span> <span class="p">+=</span> <span class="n">ITunes_OnPlayerPlayEvent</span><span class="p">;</span>
            <span class="n">iTunes</span><span class="p">.</span><span class="n">OnPlayerPlayingTrackChangedEvent</span> <span class="p">+=</span> <span class="n">ITunes_OnPlayerPlayingTrackChangedEvent</span><span class="p">;</span>

            <span class="k">if</span> <span class="p">(</span> <span class="n">iTunes</span><span class="p">.</span><span class="n">CurrentTrack</span> <span class="p">!=</span> <span class="k">null</span> <span class="p">)</span> <span class="p">{</span>
                <span class="cm">/* 再生中のトラックが存在する場合 */</span>
                <span class="nf">isNewTrack</span><span class="p">(</span> <span class="p">(</span><span class="n">Object</span><span class="p">)</span><span class="n">iTunes</span><span class="p">.</span><span class="n">CurrentTrack</span> <span class="p">);</span>

            <span class="p">}</span><span class="k">else</span> <span class="p">{</span>
                <span class="cm">/* 再生中のトラックが存在しない場合 */</span>
                <span class="cm">/* nop */</span>

            <span class="p">}</span>

            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
</code></pre></div>
</div>

<p>イベントハンドラ内の処理として</p>

<ol>
<li>保存してるトラックと同一のものか判定</li>
<li>新しいトラックである場合、クラス内に保存しているトラック情報を更新</li>
<li>必要なトラック情報を取得してHTTPリクエストを作成してポイッ！ってする</li>
</ol>

<p>HTTPリクエスト投げるにあたって、using System.Net;が必要</p>

<div class="code-frame" data-lang="C#">
<div class="code-lang"><span class="bold">Form1.cs_イベントハンドラ内の処理</span></div>
<div class="highlight"><pre class="with-code"><code>
        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// Track再生開始時にコール</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="iTrack"&gt;&lt;/param&gt;</span>
        <span class="k">private</span> <span class="k">void</span> <span class="nf">ITunes_OnPlayerPlayEvent</span><span class="p">(</span><span class="kt">object</span> <span class="n">iTrack</span><span class="p">)</span> <span class="p">{</span>

            <span class="nf">isNewTrack</span><span class="p">(</span><span class="n">iTrack</span><span class="p">);</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// Trackが変更された場合にコール</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="iTrack"&gt;&lt;/param&gt;</span>
        <span class="k">private</span> <span class="k">void</span> <span class="nf">ITunes_OnPlayerPlayingTrackChangedEvent</span><span class="p">(</span><span class="kt">object</span> <span class="n">iTrack</span><span class="p">)</span> <span class="p">{</span>

            <span class="nf">isNewTrack</span><span class="p">(</span><span class="n">iTrack</span><span class="p">);</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// 引数に指定されたトラックが新規トラックであるか判定する</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="iTrack"&gt;&lt;/param&gt;</span>
        <span class="c1">/// &lt;returns&gt;&lt;/returns&gt;</span>
        <span class="k">private</span> <span class="kt">bool</span> <span class="nf">isNewTrack</span><span class="p">(</span> <span class="kt">object</span> <span class="n">iTrack</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">bool</span> <span class="n">ret</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
            <span class="n">IITTrack</span> <span class="n">paramTrack</span> <span class="p">=</span> <span class="p">(</span><span class="n">IITTrack</span><span class="p">)</span><span class="n">iTrack</span><span class="p">;</span>

            <span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="n">cTrack</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="p">||</span> <span class="p">(</span> <span class="n">cTrack</span><span class="p">.</span><span class="n">Name</span> <span class="p">!=</span> <span class="n">paramTrack</span><span class="p">.</span><span class="n">Name</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
                <span class="cm">/* 保存しているトラックが引数のトラックと異なる場合 */</span>
                <span class="n">cTrack</span> <span class="p">=</span> <span class="n">paramTrack</span><span class="p">;</span>
                <span class="nf">refreshInfomation</span><span class="p">();</span>
                <span class="n">ret</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>

            <span class="p">}</span><span class="k">else</span> <span class="p">{</span>
                <span class="cm">/* 保存しているトラックが引数のトラックと一致する場合 */</span>
                <span class="cm">/* nop */</span>
            <span class="p">}</span>

            <span class="k">return</span> <span class="n">ret</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// フォームの情報を更新する。</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="k">private</span> <span class="k">void</span> <span class="nf">refreshInfomation</span><span class="p">()</span> <span class="p">{</span>

            <span class="kt">string</span> <span class="n">trackInfo</span><span class="p">;</span>
            <span class="kt">string</span> <span class="n">album</span><span class="p">;</span>
            <span class="kt">string</span> <span class="n">trackNo</span><span class="p">;</span>
            <span class="kt">string</span> <span class="n">trackName</span><span class="p">;</span>
            <span class="kt">string</span> <span class="n">artist</span><span class="p">;</span>
            <span class="kt">string</span> <span class="n">tracktime</span><span class="p">;</span>
            <span class="kt">string</span> <span class="n">sendMsg</span><span class="p">;</span>


            <span class="n">album</span> <span class="p">=</span> <span class="n">cTrack</span><span class="p">.</span><span class="n">Album</span><span class="p">;</span>
            <span class="n">trackNo</span> <span class="p">=</span> <span class="n">cTrack</span><span class="p">.</span><span class="n">TrackNumber</span> <span class="p">+</span> <span class="s">"/"</span> <span class="p">+</span> <span class="n">cTrack</span><span class="p">.</span><span class="n">TrackCount</span><span class="p">;</span>
            <span class="n">trackName</span> <span class="p">=</span> <span class="n">cTrack</span><span class="p">.</span><span class="n">Name</span><span class="p">;</span>
            <span class="n">artist</span> <span class="p">=</span> <span class="n">cTrack</span><span class="p">.</span><span class="n">Artist</span><span class="p">;</span>
            <span class="n">tracktime</span> <span class="p">=</span> <span class="n">cTrack</span><span class="p">.</span><span class="n">Time</span><span class="p">;</span>

            <span class="cm">/* iTunes.PlayerPositionは秒単位での動作ポジションを取得する。ＭＳはたぶんミリセク単位でとるやつ。 */</span>
            <span class="n">trackInfo</span> <span class="p">=</span> <span class="n">album</span> <span class="p">+</span> <span class="s">"\r"</span> <span class="p">+</span> <span class="n">trackNo</span> <span class="p">+</span> <span class="s">"\r"</span> <span class="p">+</span> <span class="n">trackName</span> <span class="p">+</span> <span class="s">"\r"</span> <span class="p">+</span> <span class="n">artist</span> <span class="p">+</span> <span class="s">"\r"</span> <span class="p">+</span> <span class="n">iTunes</span><span class="p">.</span><span class="n">PlayerPosition</span> <span class="p">+</span> <span class="s">"\r"</span> <span class="p">+</span> <span class="n">tracktime</span><span class="p">;</span>

            <span class="nf">updateText</span><span class="p">(</span><span class="n">trackInfo</span><span class="p">);</span>

            <span class="cm">/* webhook処理 */</span>
            <span class="n">sendMsg</span> <span class="p">=</span> <span class="n">trackName</span> <span class="p">+</span> <span class="s">"- "</span> <span class="p">+</span> <span class="n">album</span> <span class="p">+</span> <span class="s">"/"</span> <span class="p">+</span> <span class="n">artist</span><span class="p">;</span>
            <span class="nf">webhook2IFTTT</span><span class="p">(</span><span class="n">sendMsg</span><span class="p">);</span>

            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// IFTTTへのwebhook処理</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name=""&gt;&lt;/param&gt;</span>
        <span class="k">private</span> <span class="k">void</span> <span class="nf">webhook2IFTTT</span><span class="p">(</span><span class="kt">string</span> <span class="n">pStr</span><span class="p">)</span> <span class="p">{</span>

            <span class="nf">updateHTTPreq</span><span class="p">(</span><span class="s">"Request ready"</span><span class="p">);</span>

            <span class="cm">/* POST ペイロードの調整 */</span>
            <span class="kt">string</span> <span class="n">payload</span> <span class="p">=</span> <span class="s">" { \"value1\" : \""</span> <span class="p">+</span> <span class="n">pStr</span> <span class="p">+</span> <span class="s">" \" } "</span><span class="p">;</span>
            <span class="kt">byte</span><span class="p">[]</span> <span class="n">byteArray</span> <span class="p">=</span> <span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">.</span><span class="nf">GetBytes</span><span class="p">(</span><span class="n">payload</span><span class="p">);</span>

            <span class="cm">/* HTTPリクエストの送信処理 */</span>
            <span class="cm">/**
             * Method : POST
             * ContentType : application/json
             * IFTTTのwebhookに投げるHTTPリクエストの調整
             */</span> 
            <span class="n">WebRequest</span> <span class="n">wReq</span> <span class="p">=</span> <span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s">"https://maker.ifttt.com/trigger/playMusic/with/key/！ここはアカウント別のキー！"</span><span class="p">);</span>
            <span class="n">wReq</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"POST"</span><span class="p">;</span>
            <span class="n">wReq</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
            <span class="n">wReq</span><span class="p">.</span><span class="n">ContentLength</span> <span class="p">=</span> <span class="n">byteArray</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span>

            <span class="n">Stream</span> <span class="n">dataStream</span> <span class="p">=</span> <span class="n">wReq</span><span class="p">.</span><span class="nf">GetRequestStream</span><span class="p">();</span>
            <span class="n">dataStream</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">byteArray</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="n">byteArray</span><span class="p">.</span><span class="n">Length</span><span class="p">);</span>
            <span class="n">dataStream</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span>

            <span class="n">WebResponse</span> <span class="n">wRes</span> <span class="p">=</span> <span class="n">wReq</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>

            <span class="nf">updateHTTPreq</span><span class="p">(</span> <span class="s">"Request send"</span> <span class="p">);</span>

            <span class="cm">/* リソースの解放 */</span>
            <span class="n">wRes</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span>

            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>

</code></pre></div>
</div>

<p>で、終了時はCOMオブジェクトを解放しないといけませんよ、と<br>
登録したイベントハンドラはiTunes.(イベント名) -= ...で削除してます。<br>
COMを解放するにあたってusing System.Runtime.InteropServices;を追加する必要あり。</p>

<div class="code-frame" data-lang="C#">
<div class="code-lang"><span class="bold">Form1.cs_終了時の処理</span></div>
<div class="highlight"><pre class="with-code"><code>
        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// Formクローズ時の処理</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="sender"&gt;&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="e"&gt;&lt;/param&gt;</span>
        <span class="k">private</span> <span class="k">void</span> <span class="nf">Form1_FormClosed</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">FormClosedEventArgs</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">iTunes</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">iTunes</span><span class="p">.</span><span class="n">OnPlayerPlayEvent</span> <span class="p">-=</span> <span class="n">ITunes_OnPlayerPlayEvent</span><span class="p">;</span>
                <span class="n">iTunes</span><span class="p">.</span><span class="n">OnPlayerPlayingTrackChangedEvent</span> <span class="p">-=</span> <span class="n">ITunes_OnPlayerPlayingTrackChangedEvent</span><span class="p">;</span>

                <span class="n">Marshal</span><span class="p">.</span><span class="nf">ReleaseComObject</span><span class="p">(</span><span class="n">iTunes</span><span class="p">);</span>
                <span class="n">iTunes</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="cm">/* nop */</span>
            <span class="p">}</span>

        <span class="p">}</span>

</code></pre></div>
</div>

<p>ちょっとその、きったないソースだけど勢いで作ったから多少はね？<br>
しっかり作る場合はちゃんと例外処理とかログとかいい塩梅で入れなきゃだけど。</p>

<p>参考にさせていただいたもの : <br>
<a href="https://hsy.me/2015/07/05/itunes-com-sdk-with-csharp/" rel="nofollow noopener" target="_blank">from Agonymous coward - C#でiTunes COM SDKを叩いて曲情報を表示したりアートワークを埋め込んだりしてみる</a><br>
<a href="http://www.joshkunz.com/iTunesControl/interface__IiTunesEvents.html" rel="nofollow noopener" target="_blank">_liTunesEventsInterfaceReference(英語)</a><br>
<a href="http://www.joshkunz.com/iTunesControl/interfaceIITTrack.html" rel="nofollow noopener" target="_blank">IITTrack Interface Reference</a></p>

<h1>
<span id="お借りしたもの" class="fragment"></span><a href="#%E3%81%8A%E5%80%9F%E3%82%8A%E3%81%97%E3%81%9F%E3%82%82%E3%81%AE"><i class="fa fa-link"></i></a>お借りしたもの</h1>

<p>IFTTT : <a href="https://ifttt.com/discover" class="autolink" rel="nofollow noopener" target="_blank">https://ifttt.com/discover</a><br>
IFTTTアイコン : <a href="https://icons8.jp/icon/new-icons/all" class="autolink" rel="nofollow noopener" target="_blank">https://icons8.jp/icon/new-icons/all</a></p>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2FShiratori%2Fitems%2Fca9f6dc95734c5bce5ff&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2FShiratori%2Fitems%2Fca9f6dc95734c5bce5ff&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/Shiratori/items/ca9f6dc95734c5bce5ff/likers" class="css-1iupg5d">4</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">5</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/ca9f6dc95734c5bce5ff/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/Shiratori/items/ca9f6dc95734c5bce5ff/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/Shiratori/items/ca9f6dc95734c5bce5ff/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/Shiratori/items/ca9f6dc95734c5bce5ff/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/Shiratori/items/ca9f6dc95734c5bce5ff.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-53f0eb5a-fb23-4b93-b8d1-82d2a1dcd943">{"authorAnalyticsTrackingId":null,"organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-db11923f-9f81-491f-a049-7939a5bad8c8"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-db11923f-9f81-491f-a049-7939a5bad8c8">{}</script>
      
<div id="LoginModal-react-component-c0fe78b2-8b53-4552-af55-8706daae9311"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-c0fe78b2-8b53-4552-af55-8706daae9311">{}</script>
      
<div id="StockModal-react-component-342fb05d-e6d6-46e9-bf60-454105e3cc5e"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-342fb05d-e6d6-46e9-bf60-454105e3cc5e">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;h2NZdXeuepVCEDLqZjnNwRFRc1TL5ZA/V+7L+Z8Pv9bS6SClwQ6IuarpBlKKPEe3g/3FMnsu7GefsMFv8NIsqw==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\u003cp\u003e恥ずかしながら、最近までWeb系のプロダクト（最近主流のキラキラしてるやつ）にはほとほと疎く\u003cbr\u003e\nこの間ようやくIFTTTなるものを知った。\u003c/p\u003e\n\n\u003cp\u003eで、いろいろ弄っているうちになんか面白そう！と思って表題のアプリを作ってみようと思い立ったのが昨日。\u003cbr\u003e\n大変雑な感じの組み方をしてしまったのだけれど、せっかくなので記事にしてしまおうと思ってみたり。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"用語定義\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%94%A8%E8%AA%9E%E5%AE%9A%E7%BE%A9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e用語定義\u003c/h1\u003e\n\n\u003cp\u003e一応わかりやすさのために用語を簡単にまとめておきたい。\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align: center\"\u003e用語\u003c/th\u003e\n\u003cth style=\"text-align: left\"\u003eザックリ説明\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eIFTTT\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eweb経由でいろんなサービス間の橋渡しをしてくれるサービス。\u003cbr\u003ewebhookからwebhookをつなげてくれる子。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eiTunes\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eappleが提供してる音楽再生アプリ。\u003cbr\u003eいや、音楽再生のみじゃないんだけど、windowsだと基本こんな認識\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eDiscord\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eチャットアプリ。ゲーム配信に特化してるイメージがある。\u003cbr\u003e会議通話も配信もいける。アプリの説明文大好き。\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"基本的なイメージ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%9F%BA%E6%9C%AC%E7%9A%84%E3%81%AA%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e基本的なイメージ\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/faaabc86ef05812a4542285056d5d0fd3be6b688/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3235393637392f65343463666337662d623038632d623835362d383036662d6434313239656464656461322e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Fe44cfc7f-b08c-b856-806f-d4129eddeda2.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b0b0fb36f761f3b1cd01eccc84cf317b\" alt=\"2018y11m14d_022626602.jpg\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/259679/e44cfc7f-b08c-b856-806f-d4129eddeda2.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Fe44cfc7f-b08c-b856-806f-d4129eddeda2.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=d59bf6ad94d48ff9398e6c7965ce540d 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eうーん、シンプル。\u003cbr\u003e\nちなみにwebhookを利用してるので、IFTTT経由しなくてもDiscordにメッセージ投げるのは出来ちゃいます。\u003cbr\u003e\nIFTTT弄らない分手間もかからないかも。\u003cbr\u003e\nただ、IFTTTを経由することで、IFTTTから出力先に指定できる400超のサービスに拡張できるってのは間違いなく魅力かと。\u003c/p\u003e\n\n\u003cp\u003eさて･･･しっかり書くのは明日にして、とりあえず成果だけ挙げてお休み。\u003cbr\u003e\n気がついたら2時回ってたので･･･\u003cbr\u003e\nちゃんと計測してないけど、4時間くらいで出来る簡単なアプリ。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"成果\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%88%90%E6%9E%9C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e成果\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/3bb7e8a9b114625cb45fbbd73816f689b3f8e6a4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3235393637392f66653232326664362d333831382d373466652d333964662d3462366533646433333239652e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Ffe222fd6-3818-74fe-39df-4b6e3dd3329e.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=0b0dffe58eb3cb15926bf65d4d383c2c\" alt=\"2018y11m14d_014343048.jpg\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/259679/fe222fd6-3818-74fe-39df-4b6e3dd3329e.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Ffe222fd6-3818-74fe-39df-4b6e3dd3329e.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=21d3a96ed67439d505d3c44c4b7be38a 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e{再生したトラックのタイトル} - {アルバム名}/{アーティスト名}\u003cbr\u003e\nの書式。この書式はWindowsアプリで整える。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"実装\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"discordのwebhook用アドレスを取得する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#discord%E3%81%AEwebhook%E7%94%A8%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eDiscordのWebhook用アドレスを取得する\u003c/h2\u003e\n\n\u003cp\u003eまずはDiscord。\u003cbr\u003e\nDiscordのサーバーアイコンを右クリック。\u003cbr\u003e\nコンテキストメニューから[サーバー設定]-[webhooks]を選択。\u003c/p\u003e\n\n\u003cp\u003eサーバーの設定画面に遷移するので、ここで[webhookを作成]ボタンを押下。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/eabd8d8aac7d4527fd6b893e5c118203bc077225/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3235393637392f33623033306464392d323764352d616338342d653662362d3564366235663830613739312e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2F3b030dd9-27d5-ac84-e6b6-5d6b5f80a791.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4614c14130d6f6a5ec437980c696ad0a\" alt=\"2018y11m14d_145553053.jpg\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/259679/3b030dd9-27d5-ac84-e6b6-5d6b5f80a791.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2F3b030dd9-27d5-ac84-e6b6-5d6b5f80a791.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=f53fbab31ee69c6a567a1d8cab878433 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003ewebhook契機でメッセージを送る際のデフォルト名と、投稿先のチャンネル、アイコンなどを設定し、\u003cbr\u003e\nWEBHOOK URLをコピーする。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/d6f178f7188ae647ee0d52709d756bc53ba1fede/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3235393637392f35376466623339662d343230332d343533312d653733342d3762383739346530653637632e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2F57dfb39f-4203-4531-e734-7b8794e0e67c.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=18793eacf5d4f5043812389f9333071b\" alt=\"Discord_Webhook.jpg\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/259679/57dfb39f-4203-4531-e734-7b8794e0e67c.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2F57dfb39f-4203-4531-e734-7b8794e0e67c.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=217aa13af3a185080b1b28e4510f9a03 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003e！注意！\u003cbr\u003e\nWebhook URLを公開すると、匿名の誰かが好き勝手メッセージ投げられるようになる。控えよう。\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003e後はコピーしたURLにjson形式のデータをPOSTしてやればDiscordへの投稿はOK。\u003cbr\u003e\njsonのKeyは色々あるけど、とりあえず使うならcontent(本文)さえ入れておけばOK。\u003cbr\u003e\nお手軽なキーと内容の表はこんな感じ\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align: center\"\u003eKey\u003c/th\u003e\n\u003cth style=\"text-align: left\"\u003e説明\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003econtent\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eDiscordの本文。メッセージ部分とも。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eusername\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e投稿者の名前。指定しない場合、DiscordのWebhoook設定で指定したデフォルト名が使われる\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eavatar_url\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e投稿者のアイコンを指すURL。指定しない場合、DiscordのWebhook設定で指定したデフォルトアイコンが使われる。\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003eなお、Content-Typeはapplication/jsonをちゃんと指定しないとおむずがる模様。\u003c/p\u003e\n\n\u003cp\u003e参考にさせていただいたもの：DiscordにWebhookでいろいろ投稿する\u003cbr\u003e\n\u003ca href=\"https://qiita.com/Eai/items/1165d08dce9f183eac74\" class=\"autolink\" id=\"reference-ebf12251a1a040f58609\"\u003ehttps://qiita.com/Eai/items/1165d08dce9f183eac74\u003c/a\u003e\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003chr\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"iftttでappletを作る\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#ifttt%E3%81%A7applet%E3%82%92%E4%BD%9C%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eIFTTTでAppletを作る。\u003c/h2\u003e\n\n\u003cp\u003e今回一番使いたかったところ。\u003cbr\u003e\n先にも述べたとおり、IFTTTを介さなくてもjson形式のbodyを書き込んだHTTPリクエストを送ればDiscordに投稿は出来る。\u003cbr\u003e\nただし、別のサービスに送りたくなったときにソースを直す必要があるわけですよ。\u003cbr\u003e\nあ、ハードコーディングする場合ね？\u003cbr\u003e\nもちろんそこはいくらでもやりようがあるんだけど。\u003c/p\u003e\n\n\u003cp\u003e\u003cb\u003eとにかく、IFTTTを使いたかったので、いいんですぅ！（ゴリ押し）\u003c/b\u003e\u003c/p\u003e\n\n\u003cp\u003eで、IFTTT。\u003c/p\u003e\n\n\u003cp\u003eもうこれ説明割愛してもいいんじゃないの？ってくらいサンプルにあふれてるんだけど、\u003cbr\u003e\n一応webhook入力の例は見当たらなかった気がするから書いてみよう。\u003c/p\u003e\n\n\u003cp\u003eまずはIFTTTにアクセス。\u003cbr\u003e\n※アカウントの登録はしてある前提。\u003c/p\u003e\n\n\u003cp\u003eNew Appletを選択し、\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/3e103aff86b7a55e526ac62fc46fb0d0f655d5e6/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3235393637392f36613831653361632d303033362d633930382d363363312d3333666130336636303766382e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2F6a81e3ac-0036-c908-63c1-33fa03f607f8.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=867407745b1fe2133d57171689394c64\" alt=\"2018y11m15d_010757519.jpg\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/259679/6a81e3ac-0036-c908-63c1-33fa03f607f8.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2F6a81e3ac-0036-c908-63c1-33fa03f607f8.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=d8fd6a426d49ab61d1bdca8ca3c56b0f 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eをクリック。\u003c/p\u003e\n\n\u003cp\u003e[Choose a service]画面の検索窓に\"webhook\"と打ち込み、出てきた[webhook]をクリック。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/42b6b32dd1967ac184d7c8bc387e60f9d073419a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3235393637392f64613334333633662d363632372d666433662d613339372d3031343165366436636536342e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Fda34363f-6627-fd3f-a397-0141e6d6ce64.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=67f00dc9db7b89fe9407f3093001cf7f\" alt=\"2018y11m15d_011801112.jpg\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/259679/da34363f-6627-fd3f-a397-0141e6d6ce64.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Fda34363f-6627-fd3f-a397-0141e6d6ce64.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=63c2339b733bcff9c27930bbcb68b605 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eChoose trigger画面に遷移するので、[Receive a web request]を選択。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/fae739647229c2b3d4e7ee849bbdc0792993bfda/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3235393637392f66376130316531312d303662382d353166352d653663352d3233393130343836643933392e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Ff7a01e11-06b8-51f5-e6c5-23910486d939.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a1a5a64fca3a57a469b370b134886679\" alt=\"2018y11m15d_012148157.jpg\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/259679/f7a01e11-06b8-51f5-e6c5-23910486d939.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Ff7a01e11-06b8-51f5-e6c5-23910486d939.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=290ca94ea5bc2d1650a249e4fdfc3776 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eすると、triggerに必要な情報を埋めてね！画面に遷移するので、\u003cbr\u003e\n必要なEvent Nameテキストボックスに任意の文字列を設定する。\u003c/p\u003e\n\n\u003cp\u003eちなみに、気になったので試してみたら、日本語も指定できました。\u003cbr\u003e\nエンコードによる差異とか出そうで怖いからascii文字のみの方がよさそうだけども。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/5fca7b6f5d5c81b8b52ed02734d1062c599c4010/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3235393637392f66353935386233372d616339652d623532372d643135642d3935326339316264366230322e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Ff5958b37-ac9e-b527-d15d-952c91bd6b02.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a8d19a4101e1b0b6efb7fcb21e0efe37\" alt=\"2018y11m15d_012720295.jpg\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/259679/f5958b37-ac9e-b527-d15d-952c91bd6b02.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Ff5958b37-ac9e-b527-d15d-952c91bd6b02.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e76a55482e13e122f13cc6c8f034d82d 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eここまででtriggerの設定はOK。\u003cbr\u003e\n次に\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/607a8b62f4c4518d31bbd2aa17773314d8e1ccf9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3235393637392f63326565656237372d663761362d613562632d343633342d3035396163353236643665302e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Fc2eeeb77-f7a6-a5bc-4634-059ac526d6e0.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=0ccdffbc095b18709cacf1c9603571c5\" alt=\"2018y11m15d_014036002.jpg\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/259679/c2eeeb77-f7a6-a5bc-4634-059ac526d6e0.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Fc2eeeb77-f7a6-a5bc-4634-059ac526d6e0.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=293ceecaba0fe6a5efd8c823dc6cb8b2 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eこの画面の\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/1255685df69d6503720ca7e5e1f6a27865d04cba/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3235393637392f64343234666531352d303336612d363738362d393163392d3665356331633232653738332e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Fd424fe15-036a-6786-91c9-6e5c1c22e783.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=1c9543c5da5041326863a9d38a734f94\" alt=\"2018y11m15d_014055893.jpg\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/259679/d424fe15-036a-6786-91c9-6e5c1c22e783.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Fd424fe15-036a-6786-91c9-6e5c1c22e783.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c21fc5ec46a6e476be544ef1bf290edf 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eをクリックしてDiscordに投げるwebhookの設定をしていきます。\u003c/p\u003e\n\n\u003cp\u003e[Choose action service]画面に遷移したら、triggerの設定時と同じように、検索窓に\"webhook\"と入力し、\u003cbr\u003e\n出てきた[webhook]をクリック。\u003c/p\u003e\n\n\u003cp\u003e[Choose action]画面で[Make a web request]をクリックし、次の画面へ\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/78a694a23c04b87ce3a12dc5b79a4b35f320842f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3235393637392f63303139356163362d636439302d316232302d383736322d3131353632386634636634652e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Fc0195ac6-cd90-1b20-8762-115628f4cf4e.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=84714fd8939052ffe5de50d33251c032\" alt=\"2018y11m15d_014914686.jpg\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/259679/c0195ac6-cd90-1b20-8762-115628f4cf4e.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Fc0195ac6-cd90-1b20-8762-115628f4cf4e.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=2dce286746aafdebc716d9f6685a2e78 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e[Make a web request]をクリックし、遷移した[Complete action fields]画面で送信するHTTPリクエストの内容を設定。\u003cbr\u003e\n設定項目と対応は以下の通り\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/7e732b851435c7c1a94e6618bd8445f5ed6b5aea/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3235393637392f65666436643838392d656235362d666562372d303665612d3466616565396465363538352e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Fefd6d889-eb56-feb7-06ea-4faee9de6585.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e5dfb0381cab8a161ae61be53adca000\" alt=\"2018y11m15d_020506865.jpg\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/259679/efd6d889-eb56-feb7-06ea-4faee9de6585.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F259679%2Fefd6d889-eb56-feb7-06ea-4faee9de6585.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=7d3d830c697e2cff0dae9ef4092b5f1e 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align: center\"\u003e項目\u003c/th\u003e\n\u003cth style=\"text-align: left\"\u003e説明\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eURL\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e送信先のURLをここに指定する。\u003cbr\u003eDiscordにメッセージを投げる場合、\u003cbr\u003eここにDiscordのwebhook先URLを貼り付ける。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eMethod\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eHTTPリクエストにおけるメソッドを指定する。\u003cbr\u003eデータを投げる場合、基本的にはPOSTでいいはず。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eContent Type\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eHTTPリクエストのBody部分の内容を指定する。\u003cbr\u003e今回はjson形式なので、\"application/json\"を指定\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eBody\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eHTTPリクエストのBody部。\u003cbr\u003e今回はjson形式でデータを送る。\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003e今回のBodyはシンプルにこんな感じ\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003e{ \u003cbr\u003e\n   \"username\" : \"IFTTT music\", \u003cbr\u003e\n   \"avatar_url\": \"\u003ca href=\"https://img.icons8.com/color/1600/ifttt.png\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://img.icons8.com/color/1600/ifttt.png\u003c/a\u003e\", \u003cbr\u003e\n   \"content\" : \" {{Value1}}\" \u003cbr\u003e\n }\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003e{{Value1}}の部分にはtrigger側のwebhookで投げられてきたHTTPリクエストのvalue1キーの値がそのまま入るイメージ。\u003c/p\u003e\n\n\u003cp\u003e入力が終わったら画面下部の[Create action]をクリック。\u003cbr\u003e\n[Review and finish]画面で[Finish]ボタンを押下してappletの作成を完了しましょう。\u003c/p\u003e\n\n\u003cp\u003eこれでIFTTTの設定は終わり。\u003cbr\u003e\nちなみにIFTTTのwebhookによるトリガは、[webhook service]の[Documentation]ページから動作を確認することが出来ます。\u003c/p\u003e\n\n\u003cp\u003eService一覧から[webhooks]を選択し、Webhooks画面へ。\u003cbr\u003e\nまたは、\u003ca href=\"https://ifttt.com/maker_webhooks\" rel=\"nofollow noopener\" target=\"_blank\"\u003eここ\u003c/a\u003eから移動。\u003c/p\u003e\n\n\u003cp\u003e画面右上にあるDocumentationボタンを押下してDocumentation画面へ移動。\u003cbr\u003e\nDocumentation画面の[To trigger an Event]以下の値を書き換えて[Test It]ボタンを押下することで\u003cbr\u003e\n作成したHTTPリクエストを送ることが出来ます。\u003c/p\u003e\n\n\u003cp\u003eちなみに、この画面にはアカウント固有のキーが表示されてるので\u003cbr\u003e\n例によって公開しないほうがいいです。\u003cbr\u003e\n悪戯し放題！\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003chr\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"itunesで再生した楽曲を取得しhttpリクエストを投げるアプリを作る\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#itunes%E3%81%A7%E5%86%8D%E7%94%9F%E3%81%97%E3%81%9F%E6%A5%BD%E6%9B%B2%E3%82%92%E5%8F%96%E5%BE%97%E3%81%97http%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%82%92%E6%8A%95%E3%81%92%E3%82%8B%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E4%BD%9C%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eiTunesで再生した楽曲を取得し、HTTPリクエストを投げるアプリを作る\u003c/h2\u003e\n\n\u003cp\u003eさて、ここまできてようやく大詰め。\u003cbr\u003e\niTunesで再生した楽曲を取得するお時間です。\u003c/p\u003e\n\n\u003cp\u003e参考にさせていただいたサイトさんの内容とかなり被るので要点を\u003c/p\u003e\n\n\u003col\u003e\n\u003cli\u003eiTunesLib(COMオブジェクト)を参照に加える。\u003c/li\u003e\n\u003cli\u003eusing iTunesLib;をコードの先頭に足しておく。\u003c/li\u003e\n\u003cli\u003eiTunesAppインスタンスを取得し、イベントハンドラを登録する。\n\u003cbr\u003e※イベントは以下の表.iTunesAppイベント一覧を参照のこと\u003c/li\u003e\n\u003cli\u003e引数として渡されるObjectをIITTrack型にキャストし、必要なデータを取得\u003c/li\u003e\n\u003cli\u003eデータを整形してHTTPリクエストにまとめる\u003c/li\u003e\n\u003cli\u003eIFTTTにポイっ！って\u003c/li\u003e\n\u003cli\u003e※使わなくなったらiTunesAppオブジェクトを解放する。登録したイベントハンドラの削除も忘れずに\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cp\u003e表. iTunesAppイベント一覧\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align: center\"\u003eイベント名\u003c/th\u003e\n\u003cth style=\"text-align: center\"\u003e型\u003c/th\u003e\n\u003cth style=\"text-align: center\"\u003e引数\u003c/th\u003e\n\u003cth style=\"text-align: left\"\u003e概要\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eOnDatabaseChangedEvent\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003evoid\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eobject deletedObjectIDs,\u003cbr\u003e object changedObjectIDs\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eiTunesデータベースに変更が起きたときに発生。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eOnPlayerPlayEvent\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003evoid\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eobject iTrack\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eiTunesでトラックを再生するときに発生。\u003cbr\u003e引数としてトラック情報が渡される。\u003cbr\u003eコード内で利用する場合、IITTrack型にキャストして利用する。\u003cbr\u003eIITTrack型については表.IITTrack型プロパティを参照のこと\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eOnPlayerStopEvent\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003evoid\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eobject iTrack\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eiTunesでトラックの再生を停止するときに発生。\u003cbr\u003e引数としてトラック情報が渡される。\u003cbr\u003eコード内で利用する場合、IITTrack型にキャストして利用する。\u003cbr\u003eIITTrack型については表.IITTrack型プロパティを参照のこと\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eOnPlayerPlayingTrackChangedEvent\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003evoid\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eobject iTrack\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eiTunesで再生中のトラック情報が変更されるときに発生。\u003cbr\u003e次楽曲の再生や、前楽曲の再生を行った場合にも発生する。\u003cbr\u003e引数としてトラック情報が渡される。\u003cbr\u003eコード内で利用する場合、IITTrack型にキャストして利用する。\u003cbr\u003eIITTrack型については表.IITTrack型プロパティを参照のこと\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eOnCOMCallsDisabledEvent\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003evoid\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e[ComAliasName(\"iTunesLib.ITCOMDisabledReason\")] ITCOMDisabledReason reason\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eCOM(iTuneslib)へのアクセスが繰延(differ)される場合に発生。\u003cbr\u003e説明文読む限りモーダルダイアログが出たときとかじゃないかな？\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eOnCOMCallsEnabledEvent\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003evoid\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e-\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eCOM(iTuneslib)への繰延(differ)状態が解除された場合に発生？\u003cbr\u003eなんかモーダルダイアログが出てると遅延が起きるらしい。\u003cbr\u003eその状態が解除されると発生するっぽい\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eOnQuittingEvent\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003evoid\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e-\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eiTunesが終了されるときに発生。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eOnAboutToPromptUserToQuitEvent\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003evoid\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e-\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eiTunesが”ユーザーに終了するか問い合わせるプロンプトを表示する”時に発生\u003cbr\u003eiTunesに絡めたアプリ立ち上げた状態でiTunes終了しようとすると\"連携アプリあるけど本当にiTunes閉じる？\"って聞いてくるアレ\u003cbr\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eOnSoundVolumeChangedEvent\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003evoid\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eint newVolume\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e音量変更時に発生。\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003e表.IITTrack型プロパティ\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align: center\"\u003eプロパティ\u003c/th\u003e\n\u003cth style=\"text-align: center\"\u003e型\u003c/th\u003e\n\u003cth style=\"text-align: left\"\u003e説明\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eAlbum\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003estring\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eアルバム名\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eArtist\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003estring\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e読んで字のごとく、アーティスト名。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eArtwork\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eIITArtworkCollection\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eアートワークを格納してるとかなんとか。そうなると画像データなんだろうなぁ。\u003cbr\u003e今回はノータッチ\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eBitrate\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eint\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eビットレート。これ説明要らないのでは？\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eBPM\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eint\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eBPM。Beats Per Minuitの略なんだとか。テンポの単位なんですって！\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eComment\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003estring\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eコメント。基本的にiTunesで楽曲のコンテキストメニューからプロパティ開かない限り見る機会ないやつ。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eCompilation\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003ebool\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eCompilation albumからのトラックかどうかを返却。\u003cbr\u003e ･･･これ要るん･･･？\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eComposer\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003estring\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eコンポーザー。作曲家のことだそうな。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eDateAdded\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eDatetime\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eプレイリストに追加された日。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eDiskCount\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eint\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e元アルバムの総枚数が格納されてるそうな。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eDiskNumber\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eint\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eえー、元アルバムの何枚目に収録されてるかを格納･･･これ使ってるのかな？\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eDuration\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eint\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eトラックの長さを秒単位で返してくれるらしい。処理に使うならこっちかな？\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eEnabled\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003ebool\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e再生可否を示すプロパティ。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eEQ\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003estring\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eEQ。心の知能指数･･･ではなく、イコライザのことっぽい。\u003cbr\u003eEQプリセットの名前を示すプロパティだそうな\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eFinish\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eint\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eトラックの停止時間を秒で格納しているとかなんとか。\u003cbr\u003eレジューム再生用？\u003cbr\u003eノータッチでした\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eGenre\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003estring\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eジャンル。これ難しいよね。特にメタルとロックとパンク。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eGrouping\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003estring\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eグルーピングタグ。なんかタグでまとめておけるっぽいよ、トラック。そのためのタグ？\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eKindAsString\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003estring\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e”AAC audio file”みたいなファイルの種類を文字列で返してくれるそうな。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eKind\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eITTrackKind\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e音声ファイルの種別情報みたい。enum。ファイル、CD、URL、デバイス、ライブラリとかを判別してる？\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eModificationDate\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eDateTime\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e更新日。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eName\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003estring\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eトラックの名前。大抵の場合楽曲名。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003ePlayedCount\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eint\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e再生回数。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003ePlayedDate\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eDateTime\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e最後に再生した日付を記録してるみたい。\u003cbr\u003e古い順に並べると懐メロがいろいろ聞けるかも？\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003ePlaylist\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eIITPlaylist\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eトラックが登録されてるプレイリストを返却してくれるっぽい。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003ePlaylistID\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eint\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e多分playListの中の番号･･･かな？\u003cbr\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003ePlayOrderIndex\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eint\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eオーナープレイリストにおける再生順序、だそうな。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eRating\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eint\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eトラックのレーティング。一応0から100の値で設定できるみたい。\u003cbr\u003e0は未設定値として扱ってて、アルバムのレーティングが適用されるんだって\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eSampleRate\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eint\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eサンプリングレート。Hz単位だそうな\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eSize\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eint\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eトラックの情報量(byte)。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eStart\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eint\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eトラックの開始時間を秒で返却･･･もしかして使ってない領域があるってこと？\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eTime\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003estring\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eプレイ時間。mm:ssみたいな書式でくる。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eTrackCount\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eint\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eアルバムの総トラック数\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eTrackNumber\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eint\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eアルバムのトラック番号\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eVolumeAdjustment\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eint\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eトラックごとのボリューム調整情報。-100~100の値で設定してるそうな。\u003cbr\u003e加減値？\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eYear\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eint\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e録音、リリース年を格納してるそうな\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003eえー、つらつら書いたんですが\u003cbr\u003e\n上の成果を見てもらってわかるとおり、今回触ったのは\u003cbr\u003e\nAlbum、Name、Artistくらいなので、ほかは一応調べたけど使う場合はちょっと疑ってくださいな\u003c/p\u003e\n\n\u003cp\u003eソースは･･･どうしよう？\u003cbr\u003e\n勢いで作ったから雑なんだよなぁ･･･\u003cbr\u003e\nまあ、部分部分上げます。起きたらね！\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003cp\u003e・・・起きた！（19時）\u003c/p\u003e\n\n\u003cp\u003eってことでちょろちょろソース挙げていきます。\u003c/p\u003e\n\n\u003cp\u003e参照の加え方とかは参考にさせていただいたページをご覧あれ。\u003cbr\u003e\niTunesをインストールしてるPCなら問題なくiTunesLibは見つかるハズ。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"ソース\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%BD%E3%83%BC%E3%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eソース\u003c/h4\u003e\n\n\u003cp\u003e今回はなんとなくFormアプリケーションで組みましたが･･･ぶっちゃけコンソールアプリで十分だった気がする。\u003c/p\u003e\n\n\u003cp\u003eコンストラクタでiTunesAppオブジェクトを取得し、イベントを登録する。\u003cbr\u003e\niTunes.(Event名) += ... って部分ね。\u003cbr\u003e\n･･･そういえばDesigner.csの読み方に関する記事書こうとしてガッツリ忘れてたなぁ。\u003cbr\u003e\n再生中のトラックが有る場合、トラック情報が更新されたか判定するためのメソッドに処理を投げるようにしてます。\u003cbr\u003e\nわざわざObject型にキャストしてるのは、iTunesAppのイベントと共通の処理にしたかったから。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eForm1.cs_iTunesAppオブジェクト設定部分\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003epartial\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eForm1\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eForm\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003edelegate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetTextCallback\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eiTunesApp\u003c/span\u003e \u003cspan class=\"n\"\u003eiTunes\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eIITTrack\u003c/span\u003e \u003cspan class=\"n\"\u003ecTrack\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003eForm1\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eInitializeComponent\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n            \u003cspan class=\"cm\"\u003e/* iTunesCOMオブジェクトの取得とイベントハンドラの登録 */\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eiTunes\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eiTunesApp\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eiTunes\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eOnPlayerPlayEvent\u003c/span\u003e \u003cspan class=\"p\"\u003e+=\u003c/span\u003e \u003cspan class=\"n\"\u003eITunes_OnPlayerPlayEvent\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eiTunes\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eOnPlayerPlayingTrackChangedEvent\u003c/span\u003e \u003cspan class=\"p\"\u003e+=\u003c/span\u003e \u003cspan class=\"n\"\u003eITunes_OnPlayerPlayingTrackChangedEvent\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eiTunes\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCurrentTrack\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"cm\"\u003e/* 再生中のトラックが存在する場合 */\u003c/span\u003e\n                \u003cspan class=\"nf\"\u003eisNewTrack\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eObject\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eiTunes\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCurrentTrack\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"k\"\u003eelse\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"cm\"\u003e/* 再生中のトラックが存在しない場合 */\u003c/span\u003e\n                \u003cspan class=\"cm\"\u003e/* nop */\u003c/span\u003e\n\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eイベントハンドラ内の処理として\u003c/p\u003e\n\n\u003col\u003e\n\u003cli\u003e保存してるトラックと同一のものか判定\u003c/li\u003e\n\u003cli\u003e新しいトラックである場合、クラス内に保存しているトラック情報を更新\u003c/li\u003e\n\u003cli\u003e必要なトラック情報を取得してHTTPリクエストを作成してポイッ！ってする\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cp\u003eHTTPリクエスト投げるにあたって、using System.Net;が必要\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eForm1.cs_イベントハンドラ内の処理\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// Track再生開始時にコール\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"iTrack\"\u0026gt;\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eITunes_OnPlayerPlayEvent\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eobject\u003c/span\u003e \u003cspan class=\"n\"\u003eiTrack\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\n            \u003cspan class=\"nf\"\u003eisNewTrack\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eiTrack\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// Trackが変更された場合にコール\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"iTrack\"\u0026gt;\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eITunes_OnPlayerPlayingTrackChangedEvent\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eobject\u003c/span\u003e \u003cspan class=\"n\"\u003eiTrack\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\n            \u003cspan class=\"nf\"\u003eisNewTrack\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eiTrack\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 引数に指定されたトラックが新規トラックであるか判定する\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"iTrack\"\u0026gt;\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;returns\u0026gt;\u0026lt;/returns\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"nf\"\u003eisNewTrack\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"kt\"\u003eobject\u003c/span\u003e \u003cspan class=\"n\"\u003eiTrack\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003eret\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eIITTrack\u003c/span\u003e \u003cspan class=\"n\"\u003eparamTrack\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eIITTrack\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eiTrack\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecTrack\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003ecTrack\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"n\"\u003eparamTrack\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"cm\"\u003e/* 保存しているトラックが引数のトラックと異なる場合 */\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ecTrack\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eparamTrack\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"nf\"\u003erefreshInfomation\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eret\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"k\"\u003eelse\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"cm\"\u003e/* 保存しているトラックが引数のトラックと一致する場合 */\u003c/span\u003e\n                \u003cspan class=\"cm\"\u003e/* nop */\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eret\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// フォームの情報を更新する。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003erefreshInfomation\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003etrackInfo\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003ealbum\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003etrackNo\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003etrackName\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eartist\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003etracktime\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003esendMsg\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\n            \u003cspan class=\"n\"\u003ealbum\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ecTrack\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAlbum\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003etrackNo\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ecTrack\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTrackNumber\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e\"/\"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ecTrack\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTrackCount\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003etrackName\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ecTrack\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eartist\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ecTrack\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eArtist\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003etracktime\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ecTrack\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTime\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"cm\"\u003e/* iTunes.PlayerPositionは秒単位での動作ポジションを取得する。ＭＳはたぶんミリセク単位でとるやつ。 */\u003c/span\u003e\n            \u003cspan class=\"n\"\u003etrackInfo\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ealbum\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\\r\"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003etrackNo\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\\r\"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003etrackName\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\\r\"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eartist\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\\r\"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eiTunes\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePlayerPosition\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\\r\"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003etracktime\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"nf\"\u003eupdateText\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etrackInfo\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n            \u003cspan class=\"cm\"\u003e/* webhook処理 */\u003c/span\u003e\n            \u003cspan class=\"n\"\u003esendMsg\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etrackName\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e\"- \"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ealbum\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e\"/\"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eartist\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003ewebhook2IFTTT\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esendMsg\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// IFTTTへのwebhook処理\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"\"\u0026gt;\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003ewebhook2IFTTT\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003epStr\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\n            \u003cspan class=\"nf\"\u003eupdateHTTPreq\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Request ready\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n            \u003cspan class=\"cm\"\u003e/* POST ペイロードの調整 */\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003epayload\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\" { \\\"value1\\\" : \\\"\"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003epStr\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e\" \\\" } \"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003ebyte\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003ebyteArray\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEncoding\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUTF8\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetBytes\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003epayload\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n            \u003cspan class=\"cm\"\u003e/* HTTPリクエストの送信処理 */\u003c/span\u003e\n            \u003cspan class=\"cm\"\u003e/**\n             * Method : POST\n             * ContentType : application/json\n             * IFTTTのwebhookに投げるHTTPリクエストの調整\n             */\u003c/span\u003e \n            \u003cspan class=\"n\"\u003eWebRequest\u003c/span\u003e \u003cspan class=\"n\"\u003ewReq\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eWebRequest\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCreate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"https://maker.ifttt.com/trigger/playMusic/with/key/！ここはアカウント別のキー！\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ewReq\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eMethod\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"POST\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ewReq\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eContentType\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"application/json\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ewReq\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eContentLength\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ebyteArray\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"n\"\u003eStream\u003c/span\u003e \u003cspan class=\"n\"\u003edataStream\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ewReq\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetRequestStream\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"n\"\u003edataStream\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWrite\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ebyteArray\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ebyteArray\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003edataStream\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eClose\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n            \u003cspan class=\"n\"\u003eWebResponse\u003c/span\u003e \u003cspan class=\"n\"\u003ewRes\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ewReq\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetResponse\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n            \u003cspan class=\"nf\"\u003eupdateHTTPreq\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Request send\"\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n            \u003cspan class=\"cm\"\u003e/* リソースの解放 */\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ewRes\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eClose\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eで、終了時はCOMオブジェクトを解放しないといけませんよ、と\u003cbr\u003e\n登録したイベントハンドラはiTunes.(イベント名) -= ...で削除してます。\u003cbr\u003e\nCOMを解放するにあたってusing System.Runtime.InteropServices;を追加する必要あり。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eForm1.cs_終了時の処理\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// Formクローズ時の処理\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"sender\"\u0026gt;\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"e\"\u0026gt;\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eForm1_FormClosed\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eobject\u003c/span\u003e \u003cspan class=\"n\"\u003esender\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eFormClosedEventArgs\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eiTunes\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eiTunes\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eOnPlayerPlayEvent\u003c/span\u003e \u003cspan class=\"p\"\u003e-=\u003c/span\u003e \u003cspan class=\"n\"\u003eITunes_OnPlayerPlayEvent\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eiTunes\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eOnPlayerPlayingTrackChangedEvent\u003c/span\u003e \u003cspan class=\"p\"\u003e-=\u003c/span\u003e \u003cspan class=\"n\"\u003eITunes_OnPlayerPlayingTrackChangedEvent\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n                \u003cspan class=\"n\"\u003eMarshal\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eReleaseComObject\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eiTunes\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eiTunes\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003eelse\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"cm\"\u003e/* nop */\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eちょっとその、きったないソースだけど勢いで作ったから多少はね？\u003cbr\u003e\nしっかり作る場合はちゃんと例外処理とかログとかいい塩梅で入れなきゃだけど。\u003c/p\u003e\n\n\u003cp\u003e参考にさせていただいたもの : \u003cbr\u003e\n\u003ca href=\"https://hsy.me/2015/07/05/itunes-com-sdk-with-csharp/\" rel=\"nofollow noopener\" target=\"_blank\"\u003efrom Agonymous coward - C#でiTunes COM SDKを叩いて曲情報を表示したりアートワークを埋め込んだりしてみる\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"http://www.joshkunz.com/iTunesControl/interface__IiTunesEvents.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003e_liTunesEventsInterfaceReference(英語)\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"http://www.joshkunz.com/iTunesControl/interfaceIITTrack.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003eIITTrack Interface Reference\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"お借りしたもの\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%8A%E5%80%9F%E3%82%8A%E3%81%97%E3%81%9F%E3%82%82%E3%81%AE\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eお借りしたもの\u003c/h1\u003e\n\n\u003cp\u003eIFTTT : \u003ca href=\"https://ifttt.com/discover\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://ifttt.com/discover\u003c/a\u003e\u003cbr\u003e\nIFTTTアイコン : \u003ca href=\"https://icons8.jp/icon/new-icons/all\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://icons8.jp/icon/new-icons/all\u003c/a\u003e\u003c/p\u003e\n","createdAt":"2018-11-13T17:37:03Z","elapsedYearsFromLastModifiedAt":2,"encryptedId":"E6oiTgN1Y2Eydtxl+/+pQWirlVjFMNFk--TutuWP5XxcjnsGJL--9IGhjg04HYNxBX28R5ToSg==","isBanned":false,"isDeprecated":true,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2018-11-15T13:30:37Z","likesCount":4,"linkUrl":"https://qiita.com/Shiratori/items/ca9f6dc95734c5bce5ff","organization":null,"originalId":722838,"stockedCount":5,"title":"iTunesで再生した楽曲をIFTTT経由でDiscordに投げてみた話","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%94%A8%E8%AA%9E%E5%AE%9A%E7%BE%A9\"\u003e用語定義\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%9F%BA%E6%9C%AC%E7%9A%84%E3%81%AA%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8\"\u003e基本的なイメージ\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%88%90%E6%9E%9C\"\u003e成果\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%AE%9F%E8%A3%85\"\u003e実装\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#discord%E3%81%AEwebhook%E7%94%A8%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B\"\u003eDiscordのWebhook用アドレスを取得する\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#ifttt%E3%81%A7applet%E3%82%92%E4%BD%9C%E3%82%8B\"\u003eIFTTTでAppletを作る。\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#itunes%E3%81%A7%E5%86%8D%E7%94%9F%E3%81%97%E3%81%9F%E6%A5%BD%E6%9B%B2%E3%82%92%E5%8F%96%E5%BE%97%E3%81%97http%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%82%92%E6%8A%95%E3%81%92%E3%82%8B%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E4%BD%9C%E3%82%8B\"\u003eiTunesで再生した楽曲を取得し、HTTPリクエストを投げるアプリを作る\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%BD%E3%83%BC%E3%82%B9\"\u003eソース\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cli\u003e\n\u003ca href=\"#%E3%81%8A%E5%80%9F%E3%82%8A%E3%81%97%E3%81%9F%E3%82%82%E3%81%AE\"\u003eお借りしたもの\u003c/a\u003e\n\u003c/li\u003e\n\n","totalPv":9885,"uuid":"ca9f6dc95734c5bce5ff","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"/4zL/UStzP1hBC0gUD0A1ynsjZ0G--bCihpskOApEfdvUQ--7K/yj9qE6R16t/W09LiDNA==","originalId":259679,"description":"フリーランスとして活動中のエンジニア。\r\nいろいろなプロジェクトに参加した結果、言語も層も満遍なく出来るようになった雑食系。\r\n\r\nお仕事のご相談はメールにてお気軽に！\r\n","facebookUrl":null,"githubUrl":"https://github.com/Shiratori1218","isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"白鳥 孝生","profileImageUrl":"https://avatars1.githubusercontent.com/u/38185580?v=4","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Favatars1.githubusercontent.com%2Fu%2F38185580%3Fv%3D4?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=c16ab54cab6c5e4e97c8d0eedf49cbfd","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Favatars1.githubusercontent.com%2Fu%2F38185580%3Fv%3D4?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=c1abea528b6a23f45d5ec932936c3bfa","urlName":"Shiratori","websiteUrl":"","twitterUrl":"https://twitter.com/Shiratori_SE","twitterUrlName":"Shiratori_SE","revealedOrganizations":{"edges":[]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"ifttt","urlName":"ifttt"},{"name":"iTunes","urlName":"itunes"},{"name":"Webhook","urlName":"webhook"},{"name":"discord","urlName":"discord"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
