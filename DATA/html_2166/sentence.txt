More than 1 year has passed since last update.この記事はNitKit コンピュータ研究部 Advent Calendar 2019 22日目の記事です。
Cpawの記事に隠れてひたすらこの記事を書いてました。
今回は私がゲームを始めて作ったときのメイキング・軌跡みたいなものを思い出しながら、時々コードやスクショも載せながらゆるく解説していきます。それと共に私がこのゲーム作りで学んだことを少し書いてみたいと思います。よろしくお願いいたします。私はゲームが本当に好きです。でも実際に学校生活の中でゲーム開発を行ってきてはおらず、いざ就活を始めるときにふとこう思いました。これはまごうことなく偽です。プログラミング学習で学べるのはあくまでプログラミングのやり方であり、ゲームの作り方ではないからです。
この至極まっとうなことに気づくのがあまりにも遅すぎたのは本当に今でも悔やんでいるのですがこの事実に気づいた私はその時こう思いました。そこから私の初めてのゲーム作りが始まりました。実はこの時までにDXlibやSiv3D、Xenkoなどで色々とゲーム作りにトライしていたことはあるんです。
あるんですが、その当時使っていたパソコンが本当にクソスペックだったので、何をどうしても何も動かない状態が続き、気づけばやる気を失っていました。
「じゃあコマンドライン上で動くものを作ればいいじゃない！」と普通のゲーム開発者の方々は至極当然のように思うはずですが、この時の私は3Dゲーム、フルグラフィックこそがゲームたるものだ、と信じて疑わず、コマンドライン上で動くゲーム開発には見向きもしませんでした。（この時の判断にも死ぬほど後悔してます、ゲームだったら何でも作ってみればよかったのに...）まあそんなこんなで、しょうもないながらも何回か挫折を味わっていた私は「あてずっぽうで作るより、きちんと企画書・仕様書から作成して作るほうが挫折しにくいのでは？」と思い、実際に三時間くらい使って仕様書を完成させ、その仕様書の通りに作ろうと決心しました。
これは後から見ても成功でした。大枠での進捗管理が容易になったのもそうですが、自分が何をすべきなのかを明確化できたところも後々響いてきます。
結果、今回作るゲームのコンセプト・期間・としては以下のようになりました。（仕様書があったはずなんですが捨ててました）コンセプト...一分間でやる鬼ごっこ
製作期間...一ヶ月
使用ツール...Unityさてとにかく自分が何をすべきか、どれくらいの期間で作るかは決まりました。
ただこの時点ではUnityの使い方を何も知らない状況です。技術選定だけして後は野となれ山となれ方式ではいずれ計画は破綻します。
ということでこのチュートリアルをやりました。Unityは偉大。でもチュートリアルに何十日もかける余裕はないので、とりあえずこのチュートリアルは3日で終わらせました。
はじめてのUnityさて、なんとかUnityのチュートリアルは終了したので、さっそくゲーム制作に取り掛かりました。ゲームに必要な要素として、大体こんな感じにリストアップしていたので、あとはこれに沿ってプロジェクトを進めていけばよいのですが。
しかし、私はここで拗らせてしまいます。まだUnityのチュートリアルを終えたばかりのひよっこがそんなことを思うもんですから、速攻でプロジェクトが頓挫しかけました。
どのように作ればいいのかという経験・知識もない状態の人間にはそこまで自作で作りこむことなんてできません。できるわけがありません。その時の私はうんうん唸った結果、こうすることにしました。一見良さそうなこの考えも、期間が決まっているプロジェクトに扱ったことのないソフトをもう一つ扱うことが確定するモデリングの要素を導入するという点ではまごうことなき愚策です。しかし一度決まったことを曲げるのも自分の成長につながらないのでは、と思い自分なりに様々なサイトを閲覧しまくることによってblenderを使って大体二週間かけてモデルを完成させました。
とりあえず人っぽいのを成型して、足っぽいのをミラーで生成して、
何となく人っぽい形を作りました。でも手があまりリアリティがなかったので、
こんな感じで腕を弄って、
最終的にこんな感じのモデルを作成しました。
最後にUV展開をしてテクスチャを作成しました。ただこれに関してはホントにガバガバなのでクソみたいなテクスチャしか作れませんでした。
そのテクスチャを作ったモデルに貼り付けて、なんとかUnity上にインポートすることができました。万歳。ちなみにモデルの頂点数とかはこんな感じです。ほんとに初心者のモデリングだったので、パラメータは軒並みクソです。
モデリングは自分が思っている以上に意外と楽しかったです。ただ、

手の細かい成型ができなかったため、手がデスフェイサーみたいになってしまったり、モデルがこんな感じの形になってからしばらく戻せなかったり、
変形を間違えて恐ろしい形になった挙句この状態で保存をかけてしまい泣く泣く作り直す羽目になってしまったりとかなり時間をかけてはしまいました。しばらくモデリングはやりたくないです。まあ何とかモデルは完成しましたが、モデルの作成にここまでで二週間もかけてしまっていました。残りの一週間前後でやるのは残ったコードの実装です。さすがにモデル自作の時に思い知ったのか、ここらへんで私はスクリプト全て自作することを諦め、ほかの人のコードをガンガン流用することに決めました。でもほかの方が作ったソースを読みとって、どういう意味かを理解する、自分の環境に落とし込む、そんな作業をすると決めた時点でどうなるかは明白でした。はい。学校から帰ってきたらすぐにパソコンの前に座ってうんうん苦しみながらほかの人のソースを読む。そのソースを自分のプロジェクトの環境に落とし込む。デバッグも忘れないでやる。
自分でアルゴリズムを考えて実装するというよりほかの人の考えをうまく自分と同じ領域に移しているだけであったため、かなり無為でつらい作業でした。でも時間がないとできない作業でしたので、生活リズムが毎日三時寝は当たり前みたいな、完全にリリース前のIT企業勤めのサラリーマンになってしまいました。そんな感じで必死こいて作ったソースがこれらです。ほんとにリファクタリングのこととか何一つ考えていないため、正直クソコードの羅列にしかなりませんが、皆様の反面教師となるのなら本望ということで、公開します。作成したコード集

UI上に残り時間を表示するコードです。カウントダウン表示を行うソースです。フィールドのランダム座標に敵を出現させるコードです。敵の挙動について記述したコードです。NavMeshAgentを用いて簡単にプレイヤー追跡を行っています。ゲームオーバー時の挙動を記述したものです。プレイヤーの挙動について記述したコードです。このコードが一番他力本願です。当時は本当にどんなふうに実装したらいいかわからず、ほとんどがコピペみたいなソースになっています。そんな感じでコードを書いて、あとはこれを適応させるだけだったんですがまだいろいろと作業が終わってなかったのを思い出し、コードの詳細な適応と共に以下の作業を行いました。
インポートしたモデルにSAColliderBuilderというアセットを適応したり、
フィールドを野生溢れる地形にしたり、
敵のテクスチャを作成したりしました。そういう作業を必死に行ったり、残りの数日でUIの部分を作成したり、実際にテストプレイしながらストレスのたまらないようなゲーム性を追求し、
何とか完成しました。今見るとボタンの所とか本当にUnity臭がすごいですね。
デモプレイの様子はこちらです。完成したゲームのリンクはこちらです。クソゲーですが、もし気になったら触ってみてほしいです。(Windowsのみ)
1 Minutes Tag!!! ver1.01 ~for Windows - Google ドライブその当時はわからなかったんですが、結果的にサウンドの実装を全くしないまま終わってしまっていました。この時はとにかく動くものを作りあげる、ってところしか頭になかったため、今では臨場感に欠けるものができてしまったと反省しています。また、アニメーションの設定、ジャンプの設定が甘く、スペースキー押しっぱなしで棒立ち人間が無限ロケットのように飛び上がるバグが発生していました。
あとこれ。

思いっきり衝突してるはずなんですが、シーン遷移しない、どう直したらいいかわからないし治せないといった謎のバグが発生したため時間が三日ほど食われました。今度はもっとシンプルなColliderを使おうと思います。(自分で実装可能なところはアセットに頼らず自分で頑張ろうと思いました。)対して、得たものですが、これは単純に自信がついたのと、様々な機会が増えたことです。
一ヶ月という期間で自分なりの考えをアウトプットできた、というやりがいは本当に何物にも代えられないものでしたし、拙くてもそれらを遂行することができた自分の実行力に自信が付きました。
また、逆求人のイベントに行く際の明確な提示材料ができ、様々な企業の方とお話しする機会をいただいたり、自分が幼少期熱中していたゲームを製作していた会社の方とお話しする機会をいただいたり、最終選考の機会をいただいたりと、本当に様々なものを得ることができました。やっぱり自分から行動するのは大事です。今この記事を読んでるゲームを開発しようか迷ってる皆さん。拙くてもいいです。クソゲーでもいいです。いくらくだらなくてもいいです。作りましょう。私みたいにこんなゲームを作って平然としてる人間だっています。違いは行動するかしないかです。学べませんよね？確かに基礎的なことは様々な部分で応用ができます。企画、計算、マネージメントなどには様々な教科で学んだことが活きたりします。そういう観点からすると学校の学習も本当に有意義なものです。
ですが、ゲーム作りのノウハウはゲーム専門学校でもない限り実際に自分で作ってみないことにはつかないのです。ゲーム作りが上手くなりたければゲームを作るしかないのです。そこを行動しないままにして丸く収まっているのは非常にもったいないです。と思っているならなおのこと自分で行動し、それを様々な場所にアウトプットしましょう。早いうちに恥をかいたり、失敗することこそが将来の大成功にきっとつながります。重ね重ね言いますが、今現在様々なシーンで活躍されているゲーム開発者とあなたの違いはこれ一つのみです。全力でゲーム開発に取り組むのであれば、私もそうですが、あなたの周りの方々も、他のゲーム開発者の方々もきっと全力で応援します。するはずです。ゲームを作れるようになりたければ自分で簡単なゲームを最後まで作り上げること、それこそがあなたのゲーム作りの第一歩です。ここまでの長文を読んで下さり、誠にありがとうございます。
これからのゲーム作り人生を、皆様がより有意義に過ごせますように。Writer:ゆゆゆうた
Twitter はてブ


