<!DOCTYPE html><html><head><meta charset="utf-8" /><title>MS の Emotion API を使って Unity 上にインタラクティブいちゃいちゃギャルゲーを作ろう - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/kosfuji/items/575408ae17113d7b58e9" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="GU7Gh/rBzzsGdANgcnTPObhnFHk6a3PXIG3tq9cuRQRtVwjvy5bC8VeAd297RY3NghLJ2LvGtpDtNHPAM/QU8g==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta content="@kosfuji" name="twitter:creator" /><meta property="og:type" content="article"><meta property="og:title" content="MS の Emotion API を使って Unity 上にインタラクティブいちゃいちゃギャルゲーを作ろう - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1UVk1nNDRHdUlFVnRiM1JwYjI0Z1FWQkpJT09Da3VTOXYtT0JvLU9CcGlCVmJtbDBlU0RrdUlyamdhdmpncVRqZzdQamdyX2pnNm5qZ3Ffamc0YmpncVBqZzViamdZVGpnYUhqZ29QamdZVGpnYUhqZ29QamdxN2pnNlBqZzZ2amdyTGpnN3pqZ3BMa3ZaempnbzNqZ1lZJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NTQmdHh0LWNsaXA9ZWxsaXBzaXMmdHh0LWFsaWduPWNlbnRlciUyQ21pZGRsZSZzPTA0OWIyNDNkYjk2YTRkMDczNGM3ZDIzZWYyNWM1MmRm&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RR3R2YzJaMWFtayZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPTRkNmQ3OWNhN2VmZDM2NjE1ZmViNWI1NzA4ZTRiMzQz&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=2facff7d4b6ecfcfabe56ff364fcdca9"><meta property="og:description" content="未来のゲームに Microsoft のテクノロジーはどういう風に貢献できるのだろうかと妄想を膨らませてみたところ、人間の認知機能を機械に持たせることが出来る Cognitive Services の API を使えば、ゲームはもっとイ..."><meta content="https://qiita.com/kosfuji/items/575408ae17113d7b58e9" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,Unity,DeepLearning,画像認識,CognitiveServices" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 1nzh4zz 38fzdi helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-1nzh4zz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 32px;background-color:#FBE69E;color:rgba(0,0,0,0.87);line-height:1.5;font-weight:600;}@media (max-width:770px){.css-1nzh4zz{padding:16px;}}.css-38fzdi{color:#CA832A;margin-right:4px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-a9fcf8d8-3526-488f-81b0-74db964ea34a"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2Fkosfuji%2Fitems%2F575408ae17113d7b58e9">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2Fkosfuji%2Fitems%2F575408ae17113d7b58e9">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-a9fcf8d8-3526-488f-81b0-74db964ea34a">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2016-08-26T13:36:14.000+09:00","dateModified":"2016-08-26T23:19:46.000+09:00","headline":"MS の Emotion API を使って Unity 上にインタラクティブいちゃいちゃギャルゲーを作ろう","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1UVk1nNDRHdUlFVnRiM1JwYjI0Z1FWQkpJT09Da3VTOXYtT0JvLU9CcGlCVmJtbDBlU0RrdUlyamdhdmpncVRqZzdQamdyX2pnNm5qZ3Ffamc0YmpncVBqZzViamdZVGpnYUhqZ29QamdZVGpnYUhqZ29QamdxN2pnNlBqZzZ2amdyTGpnN3pqZ3BMa3ZaempnbzNqZ1lZJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NTQmdHh0LWNsaXA9ZWxsaXBzaXMmdHh0LWFsaWduPWNlbnRlciUyQ21pZGRsZSZzPTA0OWIyNDNkYjk2YTRkMDczNGM3ZDIzZWYyNWM1MmRm\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RR3R2YzJaMWFtayZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPTRkNmQ3OWNhN2VmZDM2NjE1ZmViNWI1NzA4ZTRiMzQz\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=2facff7d4b6ecfcfabe56ff364fcdca9","mainEntityOfPage":"https://qiita.com/kosfuji/items/575408ae17113d7b58e9","author":{"@type":"Person","address":"","email":null,"identifier":"kosfuji","name":"kosfuji","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2Fprofile-images%2F1473709264?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=19498074cd177bae1e1008f47ee07d4d","url":"https://qiita.com/kosfuji","description":"駆け出しエバンジェリスト＠日本マイクロソフトです。\r\n新しい技術にどんどん触れて、いじって、自分が面白いと思ったものを発信していきたいです。","memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://zine.qiita.com/interview/202105-uzabase-2/?utm_source=qiita&amp;utm_medium=header-banner">「最高の開発者体験」を目指す NewsPicks開発チーム</a><a target="_blank" id="header_text_message_2" href="https://zine.qiita.com/interview/202105-uzabase-2/?utm_source=qiita&amp;utm_medium=header-banner">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"kosfuji","type":"items","id":"575408ae17113d7b58e9"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"「最高の開発者体験」を目指す NewsPicks開発チーム","url":"https://zine.qiita.com/interview/202105-uzabase-2/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"kosfuji","type":"items","id":"575408ae17113d7b58e9"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":0,"pos_id":"header_text_message_1","message":"「最高の開発者体験」を目指す NewsPicks開発チーム","url":"https://zine.qiita.com/interview/202105-uzabase-2/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"kosfuji","type":"items","id":"575408ae17113d7b58e9"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":0,"pos_id":"header_text_message_2","message":"「最高の開発者体験」を目指す NewsPicks開発チーム","url":"https://zine.qiita.com/interview/202105-uzabase-2/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/kosfuji/items/575408ae17113d7b58e9","location":"/kosfuji/items/575408ae17113d7b58e9","scheme":"https","host":"qiita.com","port":null,"pathname":"/kosfuji/items/575408ae17113d7b58e9","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"4amUFZcJ4yWglfNJ/eN6MYdVNba1TiJ0OyZ9aqzEj5KVsFp9pl7u7/Fhh0b00jjFvSDoFzTj5zP2f+MBSB7eZA==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-6591269e-a80a-4e49-b1a4-908e15a8a49d"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/kosfuji/items/575408ae17113d7b58e9/likers" class="css-1iupg5d">156</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">168</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/575408ae17113d7b58e9/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/kosfuji/items/575408ae17113d7b58e9/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/kosfuji/items/575408ae17113d7b58e9/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/kosfuji/items/575408ae17113d7b58e9/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/kosfuji/items/575408ae17113d7b58e9.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-1nzh4zz"><span class="fa fa-fw fa-warning css-38fzdi"></span><p>More than 5 years have passed since last update.</p></div><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/kosfuji"><img class="css-100alwu eyfquo10" src="https://qiita-image-store.s3.amazonaws.com/0/104326/profile-images/1473709264" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/kosfuji" class="css-10ougpm">@<!-- -->kosfuji</a><div class="css-1ay9vb9"><span><meta content="2016-08-26T04:36:14Z"/><time dateTime="2016-08-26T14:19:46Z" class="css-m19uds">updated at 2016-08-26</time></span></div></div></div></div></div><h1 class="css-cgzq40">MS の Emotion API を使って Unity 上にインタラクティブいちゃいちゃギャルゲーを作ろう</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/unity" class="css-4czcte">Unity</a><a href="/tags/deeplearning" class="css-4czcte">DeepLearning</a><a href="/tags/%e7%94%bb%e5%83%8f%e8%aa%8d%e8%ad%98" class="css-4czcte">画像認識</a><a href="/tags/cognitiveservices" class="css-4czcte">CognitiveServices</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div><p>未来のゲームに Microsoft のテクノロジーはどういう風に貢献できるのだろうかと妄想を膨らませてみたところ、人間の認知機能を機械に持たせることが出来る Cognitive Services の API を使えば、ゲームはもっとインタラクティブに、より Real と Virtual の間の壁を壊してくれるのではないかと考え、「インタラクティブいちゃいちゃギャルゲー」というものを実際に実装し、国内最大規模のゲーム開発者向け技術カンファレンスの CEDEC の<a href="http://cedec.cesa.or.jp/2016/session/ENG/16182.html" rel="nofollow noopener" target="_blank">こちら</a>のセッションでデモさせていただきました。<br>
この記事では、そのデモの要素技術となる Emotion API や、妄想の産物「インタラクティブいちゃいちゃギャルゲー」とは何たるや、そしてどのようにして実装したのかをご紹介できればと思います。<br>
この記事を通して、たった数行のコードでゲーム上のキャラに感情を理解する力を宿すことができるんだということが伝わり、ぜひ実際のゲームに取り入れていただければと思います。</p>

<h2>
<span id="そもそもemotion-apiって何" class="fragment"></span><a href="#%E3%81%9D%E3%82%82%E3%81%9D%E3%82%82emotion-api%E3%81%A3%E3%81%A6%E4%BD%95"><i class="fa fa-link"></i></a>そもそも、Emotion APIって何？</h2>

<p>Microsoft が出している、REST で画像を投げると JSON 形式で画像を分析した結果を返してくれる API サービスのことです。<br>
画像に写る人の顔位置を特定し、その表情に含まれる喜び、驚き、悲しみ、怒り、恐れ、嫌悪、軽蔑、中立の 8 つの感情を認識し、合計を 1 としてどの感情がどれだけ含まれているかを割合で返してくれます。</p>

<p><a href="https://camo.qiitausercontent.com/c9441070eab73d615d4142ec264124d7f73aec33/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130343332362f30313232613939392d356663622d623932652d366330332d3765316139333030316133362e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F0122a999-5fcb-b92e-6c03-7e1a93001a36.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=ce4240b276d533265b708ee5450f8548" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/104326/0122a999-5fcb-b92e-6c03-7e1a93001a36.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F0122a999-5fcb-b92e-6c03-7e1a93001a36.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=cefb969fc834b050d35cb0c24ca77d50 1x" loading="lazy"></a><br>
(<a href="https://www.microsoft.com/cognitive-services/en-us/emotion-api" rel="nofollow noopener" target="_blank">公式ページ</a>参照)</p>

<p>こちらの例では 2 人の顔の位置がしっかり特定され、右側の人の感情が Surprise 99.6%として推定されていることが分かります。</p>

<p><a href="https://camo.qiitausercontent.com/b9f02def6a855b4cc07867570772c2344c56179a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130343332362f38333665653136662d653639342d353433392d646135642d3564613564623038336536652e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F836ee16f-e694-5439-da5d-5da5db083e6e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=9fb0bc4068cad3962ea7abae99f80598" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/104326/836ee16f-e694-5439-da5d-5da5db083e6e.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F836ee16f-e694-5439-da5d-5da5db083e6e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=adcf097d6fadafae1aadccc3203095af 1x" loading="lazy"></a><br>
(<a href="https://www.microsoft.com/cognitive-services/en-us/emotion-api" rel="nofollow noopener" target="_blank">公式ページ</a>参照)</p>

<p>続いての例では右の人が Happiness 92.8% として推定されています。(左の人は Happniess 99.98% でした)<br>
この結果から人間の直感に合った感情推定が精度よく行えていることが分かります。</p>

<h2>
<span id="インタラクティブいちゃいちゃギャルゲーとは" class="fragment"></span><a href="#%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%A9%E3%82%AF%E3%83%86%E3%82%A3%E3%83%96%E3%81%84%E3%81%A1%E3%82%83%E3%81%84%E3%81%A1%E3%82%83%E3%82%AE%E3%83%A3%E3%83%AB%E3%82%B2%E3%83%BC%E3%81%A8%E3%81%AF"><i class="fa fa-link"></i></a>インタラクティブいちゃいちゃギャルゲーとは</h2>

<p>説明しよう。どんな妄想だったのかを。<br>
ゲーム内のキャラが自分の表情を読み取って、例えば元気のない顔をしていたら「元気ないね、どうしたの？」と話しかけてくれたり、<br>
楽しそうな顔をしていたら「一緒にいると楽しいね」と話しかけてくれたりしたら非常にうれしい気持ちになるんじゃないのか？<br>
画面上での操作で閉じていたギャルゲーがリアルタイムで自分の気持ちを読み取って、インタラクティブに話しあえたらどんなに面白いんだろう？<br>
そんなコンセプトを形にしたものが「インタラクティブいちゃいちゃギャルゲー」です。<br>
構成図はこのようになります。<br>
スマホや PC 等のデバイスのカメラからアプリが表情をチェックして、それを Emotion API に投げ、表情分析結果から一番強い感情に対しての反応（声やセリフ、表情）をキャラが返してくれるというものになります。</p>

<p><a href="https://camo.qiitausercontent.com/5ca3d5f92763d055ed2b0aad62635bdb242e4fe8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130343332362f61643561616265622d386666322d633631332d303339612d6265636136653266323732322e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2Fad5aabeb-8ff2-c613-039a-beca6e2f2722.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=bfdeef0fd880d4fbaf0c0388d096501d" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/104326/ad5aabeb-8ff2-c613-039a-beca6e2f2722.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2Fad5aabeb-8ff2-c613-039a-beca6e2f2722.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=c0f982b620159e24349782640864c728 1x" loading="lazy"></a></p>

<p>ただ自分は絵心がなさすぎるので、自分の絵には誰も感情移入してくれないだろうと思い、デモ作成の際には、弊社エバンジェリストのちょまどさんにサポートしていただき、はしれ！コード学園の登場人物であるC#ちゃんを派遣していただきました。(詳しくは 漫画家兼エバンジェリストちょまどさんの応援 の項で)</p>

<p>そうしてできたデモの完成プレイ画面はこのようになりました。<br>
<a href="https://camo.qiitausercontent.com/ecc2013d586b0532380b422e455ad2c6ea4afa1f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130343332362f34386636633533372d346536652d363530612d663663302d3339656435663835313636302e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F48f6c537-4e6e-650a-f6c0-39ed5f851660.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=8719966b9f260bea274eed4d25a783bc" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/104326/48f6c537-4e6e-650a-f6c0-39ed5f851660.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F48f6c537-4e6e-650a-f6c0-39ed5f851660.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=865d94c543c3fd5c47bedec5f9eef394 1x" loading="lazy"></a><br>
本来であれば、カメラからの表情を常にキャラがチェックしてくれた方がいいと思いますが、デモ用に自分のタイミングで画像を送るようにしていて、送った画像を右下に表示しています。</p>

<p>早速試してみましょう！<br>
笑顔を見せるとこんなセリフと表情を返してくれます。<br>
自分に合った表情（笑顔）を返してくれているところに注目です。<br>
<a href="https://camo.qiitausercontent.com/486742050ca167a66e79719c4ad752e2b018ef11/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130343332362f65323262623633342d373766342d326464662d396665612d3936613132653037373864342e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2Fe22bb634-77f4-2ddf-9fea-96a12e0778d4.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=32d3b97642872a6925cd00a7de1f3609" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/104326/e22bb634-77f4-2ddf-9fea-96a12e0778d4.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2Fe22bb634-77f4-2ddf-9fea-96a12e0778d4.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=ba5bf359729f74271885fd37fc6c6a13 1x" loading="lazy"></a></p>

<p>驚いた顔を見せるとこんなセリフと表情を返してくれます。（場面はセリフに合うように別で切り替えています）<br>
<a href="https://camo.qiitausercontent.com/0cb01ecf99726bb9d77243cf44c85b4c8a1a018b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130343332362f36626434316332662d323334392d663037342d336536652d3935323462393935373235632e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F6bd41c2f-2349-f074-3e6e-9524b995725c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=a8b6db0bc4d9cb73fde3dc823c03aad3" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/104326/6bd41c2f-2349-f074-3e6e-9524b995725c.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F6bd41c2f-2349-f074-3e6e-9524b995725c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=66b55eac0504275efdd4a2bfc425d97a 1x" loading="lazy"></a></p>

<p>今度は場面を切り替え家の中へ、<br>
怒った顔を見せるとこんな反応をくれます。一体裏側にどんなストーリーがあったのでしょうか。<br>
<a href="https://camo.qiitausercontent.com/0fff639eb68d6ef03ca1c99e4725ddd9afba32f0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130343332362f36616664346239312d643232642d333165352d353639652d3335353864363133633630392e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F6afd4b91-d22d-31e5-569e-3558d613c609.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=a4834195bc569f0d89b094739b16a124" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/104326/6afd4b91-d22d-31e5-569e-3558d613c609.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F6afd4b91-d22d-31e5-569e-3558d613c609.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=dbea4d17380833b5f8b2a2e6358342ea 1x" loading="lazy"></a></p>

<p>ただ、笑顔を見せるとこうなります。<br>
<a href="https://camo.qiitausercontent.com/5c6216d82a9c233f42600611ce275581c3037fe0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130343332362f36623835623763362d316466362d383763642d306433652d6566383833643566333039632e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F6b85b7c6-1df6-87cd-0d3e-ef883d5f309c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=7d41323ebe1281cac79fce73ccd6e14e" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/104326/6b85b7c6-1df6-87cd-0d3e-ef883d5f309c.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F6b85b7c6-1df6-87cd-0d3e-ef883d5f309c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=a1612ca6a82c8da27d5203e55c70f9e8 1x" loading="lazy"></a><br>
ざるですね。（自分の実装がワンパターンなだけ）</p>

<p>ちなみに中立（無表情）を見せると、こういう風に返すように作っています。<br>
<a href="https://camo.qiitausercontent.com/e48f2dc8b77e07006ad5b9eb0854098d20588609/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130343332362f30656662356430372d333839352d333036652d343265632d3264396438653163666238632e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F0efb5d07-3895-306e-42ec-2d9d8e1cfb8c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=92fc2bae1b2898b077d53b4fded85ebb" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/104326/0efb5d07-3895-306e-42ec-2d9d8e1cfb8c.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F0efb5d07-3895-306e-42ec-2d9d8e1cfb8c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=6efebd3b7ce8818f9d3f2b65ec8c706e 1x" loading="lazy"></a></p>

<h2>
<span id="どうやって実装したの" class="fragment"></span><a href="#%E3%81%A9%E3%81%86%E3%82%84%E3%81%A3%E3%81%A6%E5%AE%9F%E8%A3%85%E3%81%97%E3%81%9F%E3%81%AE"><i class="fa fa-link"></i></a>どうやって実装したの？</h2>

<p>Unity なので、C# による実装です。<br>
Python2 系, Python3系, Java, JavaScript, Objective-C, PHP, Rubyの実装サンプルは<a href="https://dev.projectoxford.ai/docs/services/5639d931ca73072154c1ce89/operations/563b31ea778daf121cc3a5fa" rel="nofollow noopener" target="_blank">こちら</a>の下部に載っています。</p>

<p>自分の画像から表情を読み取りそれに合わせた表情とセリフをセットしているのを以下のコードで実装しています。<br>
以下のコードからたった6行のコードで表情からの感情推定が完了していることが分かります。</p>

<div class="code-frame" data-lang="C#">
<div class="code-lang"><span class="bold">EmotionAPI使用部分</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine.UI</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Newtonsoft.Json.Linq</span><span class="p">;</span>

<span class="n">IEnumerator</span> <span class="nf">WaitForRes</span><span class="p">(</span><span class="kt">byte</span><span class="p">[]</span> <span class="n">bytes</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// ↓ Emotion API使用部分</span>
    <span class="kt">string</span> <span class="n">url</span> <span class="p">=</span> <span class="s">"https://api.projectoxford.ai/emotion/v1.0/recognize"</span><span class="p">;</span>

    <span class="c1">// リクエストヘッダー</span>
    <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">header</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;();</span>
    <span class="n">header</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/octet-stream"</span><span class="p">);</span>
    <span class="n">header</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"Ocp-Apim-Subscription-Key"</span><span class="p">,</span> <span class="s">"Your Key"</span><span class="p">);</span>

    <span class="c1">// リクエストする</span>
    <span class="n">WWW</span> <span class="n">www</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">WWW</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">bytes</span><span class="p">,</span> <span class="n">header</span><span class="p">);</span>

    <span class="c1">// 非同期なのでレスポンスを待つ</span>
    <span class="k">yield</span> <span class="k">return</span> <span class="n">www</span><span class="p">;</span>

    <span class="c1">// ↑ Emotion  API使用部分</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">www</span><span class="p">.</span><span class="n">error</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
    <span class="p">{</span>
<span class="err">　　</span>    <span class="c1">// JSON の中身をパース</span>
        <span class="kt">var</span> <span class="n">emotionJsonArray</span> <span class="p">=</span> <span class="n">JArray</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="n">www</span><span class="p">.</span><span class="n">text</span><span class="p">);</span>
        <span class="c1">//今回は顔が一人分だけ写っていると仮定し0番目を取り出す</span>
        <span class="n">JObject</span> <span class="n">scores</span> <span class="p">=</span> <span class="p">(</span><span class="n">JObject</span><span class="p">)</span> <span class="n">emotionJsonArray</span><span class="p">[</span><span class="m">0</span><span class="p">][</span><span class="s">"scores"</span><span class="p">];</span>

<span class="err">　　　　</span><span class="c1">//取れたスコアに基づき最も強かった感情をstringで返す</span>
        <span class="kt">string</span> <span class="n">emotion</span> <span class="p">=</span> <span class="nf">getEmotion</span><span class="p">(</span><span class="n">scores</span><span class="p">);</span>

<span class="err">　　　　</span><span class="c1">//キャラクターにその感情にあった表情をさせる</span>
        <span class="n">Girl</span> <span class="n">g</span> <span class="p">=</span> <span class="n">girl</span><span class="p">.</span><span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Girl</span><span class="p">&gt;();</span>
        <span class="n">g</span><span class="p">.</span><span class="nf">SetFace</span><span class="p">(</span><span class="n">emotion</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div>
</div>

<div class="code-frame" data-lang="C#">
<div class="code-lang"><span class="bold">JSONから最も強かった感情をstringで返す関数</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">using</span> <span class="nn">Newtonsoft.Json.Linq</span><span class="p">;</span>

<span class="k">public</span> <span class="kt">string</span> <span class="nf">getEmotion</span><span class="p">(</span><span class="n">JObject</span> <span class="n">obj</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">string</span> <span class="n">strongEmotion</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
    <span class="kt">double</span> <span class="n">score</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">x</span> <span class="k">in</span> <span class="n">obj</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">string</span> <span class="n">name</span> <span class="p">=</span> <span class="n">x</span><span class="p">.</span><span class="n">Key</span><span class="p">;</span>
        <span class="kt">double</span> <span class="k">value</span> <span class="p">=</span> <span class="n">Convert</span><span class="p">.</span><span class="nf">ToDouble</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="n">Value</span><span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span><span class="k">value</span> <span class="p">&gt;</span> <span class="n">score</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">score</span> <span class="p">=</span> <span class="k">value</span><span class="p">;</span>
            <span class="n">strongEmotion</span> <span class="p">=</span> <span class="n">name</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">strongEmotion</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>返ってくる JSON は以下になります。<br>
複数の顔が画像に移っている場合は複数人分の感情解析結果が返ってくるようになっています。</p>

<div class="code-frame" data-lang="json">
<div class="code-lang"><span class="bold">EmotionAPIから返ってくるJSON</span></div>
<div class="highlight"><pre class="with-code"><code><span class="p">[</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"faceRectangle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">174</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"left"</span><span class="p">:</span><span class="w"> </span><span class="mi">284</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"top"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">174</span><span class="w">
    </span><span class="p">},</span><span class="w"> 
    </span><span class="nl">"scores"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"anger"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.35894252e-05</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"contempt"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00100439508</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"disgust"</span><span class="p">:</span><span class="w"> </span><span class="mf">7.037945e-05</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"fear"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.25204552e-06</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"happiness"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.33640685e-06</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"neutral"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9941351</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"sadness"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00092591357</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"surprise"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00384104927</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
</div>

<p>今までにはなかったようなユーザーエクスペリエンスを提供できるサービスが、非常に短いコード行で実現できてプロダクトに載せることができるということがお分かりいただけたのではないかと思います。</p>

<h2>
<span id="どうやって始めるの" class="fragment"></span><a href="#%E3%81%A9%E3%81%86%E3%82%84%E3%81%A3%E3%81%A6%E5%A7%8B%E3%82%81%E3%82%8B%E3%81%AE"><i class="fa fa-link"></i></a>どうやって始めるの？</h2>

<p>Cognitive Services の利用の際には Subscription Key が必要になります。無料試用が可能なので<a href="https://www.microsoft.com/cognitive-services/en-us/subscriptions?productId=/products/54d873dd5eefd00dc474a0f4" rel="nofollow noopener" target="_blank">こちら</a>からご登録ください。Microsoft Account でのログインが必要となります。<br>
登録して得られた Subscription Key をサンプルコード上の Ocp-Apim-Subscription-Key で指定してください。</p>

<p>自分でコードを書く前にまずはどんなものか試してみたいという場合は、<a href="https://www.microsoft.com/cognitive-services/en-us/emotion-api" rel="nofollow noopener" target="_blank">公式解説ページ</a>を見てもらうと準備されている画像を選ぶ or 自分の画像をアップロードして確認できるようになっているのでおすすめです。</p>

<h2>
<span id="使用プラン" class="fragment"></span><a href="#%E4%BD%BF%E7%94%A8%E3%83%97%E3%83%A9%E3%83%B3"><i class="fa fa-link"></i></a>使用プラン</h2>

<p>無料のプランだけではなくビジネスユースでの使用も可能である <strong>Basic</strong>, <strong>Standard</strong> のプランも用意されています。<br>
今回詳しくは説明していませんが、Emotion API には動画上の感情推定機能もあり、現時点(2016.8.26)では無料で提供されています。<br>
<a href="https://camo.qiitausercontent.com/9f0b6cac25243019cb91eecfb651ea8b617853c7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130343332362f33666261316463622d666231342d653730662d323065632d3339336637666136336333382e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F3fba1dcb-fb14-e70f-20ec-393f7fa63c38.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=7efa5972f6fc636451832bd499542c74" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/104326/3fba1dcb-fb14-e70f-20ec-393f7fa63c38.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F3fba1dcb-fb14-e70f-20ec-393f7fa63c38.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=2a6fbe9a087e66a6035866e84e792b21 1x" loading="lazy"></a></p>

<p>Standard Planでの使用だと1000枚の画像を分析して2.5 ドルとなります。</p>

<p><a href="https://portal.azure.com/#create/Microsoft.CognitiveServices/apitype/Emotion/pricingtier/S0" rel="nofollow noopener" target="_blank">こちら</a>からダイレクトに Standard Plan のアカウントを立てることができます。<br>
Standard Plan をお使いいただく場合は、Microsoft Azure の Subscription が必要となるので、もしお持ちでない方は<a href="https://azure.microsoft.com/ja-jp/free/" rel="nofollow noopener" target="_blank">こちら</a>から 1か月 ￥20.500 の無料試用アカウント等もぜひお試しください。</p>

<p>今回の記事から実際にプロダクトに組み込んでみたいとなった場合はサポートできることがあるかもしれないので、コメントでも個人的にでも連絡でもいただければ！</p>

<h2>
<span id="漫画家兼エバンジェリストちょまどさんの応援" class="fragment"></span><a href="#%E6%BC%AB%E7%94%BB%E5%AE%B6%E5%85%BC%E3%82%A8%E3%83%90%E3%83%B3%E3%82%B8%E3%82%A7%E3%83%AA%E3%82%B9%E3%83%88%E3%81%A1%E3%82%87%E3%81%BE%E3%81%A9%E3%81%95%E3%82%93%E3%81%AE%E5%BF%9C%E6%8F%B4"><i class="fa fa-link"></i></a>漫画家兼エバンジェリストちょまどさんの応援</h2>

<p>あまりに絵心のない自分に対して弊社の漫画家兼エバンジェリストとして活動されているちょまどさんがキャラを貸し出してくれました。<br>
Twitter アカウントは<a href="https://twitter.com/chomado?lang=ja" rel="nofollow noopener" target="_blank">こちら</a>で、<br>
<a href="https://codeiq.jp/magazine/category/programminggirls/" rel="nofollow noopener" target="_blank">はしれ！コード学園</a>というのを連載されているのでぜひ興味を持たれた方は読んでみてください。<br>
C#ちゃんは、はしれ！コード学園の登場人物で、キャラの性格設定が C# らしい性格になっていて、他のキャラ（言語）もなるほどなとなる面白い性格設定になっているので、エンジニアの人には楽しんでいただけると思います。<br>
さらにCEDECでデモをさせていただいた際は、ちょまどさんには声の出演（ C# ちゃんの声優）もしていただきました。<br>
声の方は会場限定公開なので、ファンで会場にいらっしゃった方は非常に幸運だったと思います。<br>
本当にありがとうございました！</p>

<h2>
<span id="後書き" class="fragment"></span><a href="#%E5%BE%8C%E6%9B%B8%E3%81%8D"><i class="fa fa-link"></i></a>後書き</h2>

<p>自分はまだまだ C#, Unity 共に駆け出しなので、こういった書き方の方がいいよというのがあればぜひご指摘いただけるとありがたいです。（後程Gitにすべてのコードを公開する予定なので特にそれに関していただければ幸いです。Githubに上げ次第更新通知送りますね）</p>

<h2>
<span id="参考1-emotion-api-の-ms-内での位置づけ" class="fragment"></span><a href="#%E5%8F%82%E8%80%831-emotion-api-%E3%81%AE-ms-%E5%86%85%E3%81%A7%E3%81%AE%E4%BD%8D%E7%BD%AE%E3%81%A5%E3%81%91"><i class="fa fa-link"></i></a>参考1 (Emotion API の MS 内での位置づけ)</h2>

<p><a href="https://www.microsoft.com/cognitive-services/en-us/emotion-api" rel="nofollow noopener" target="_blank">Emotion API</a> は、Microsoft の <a href="https://www.microsoft.com/cognitive-services/" rel="nofollow noopener" target="_blank">Cognitive Services</a> というクラウドベースの API サービス群の1つで<br>
下記5つのカテゴリのうちの Vision カテゴリに属する API です。</p>

<ul>
<li><strong>Vision</strong></li>
<li>Speech</li>
<li>Language</li>
<li>Knowledge</li>
<li>Search</li>
</ul>

<p>Vision カテゴリ内の API は下記のようになっています。</p>

<ul>
<li>Computer Vision (<a href="http://qiita.com/kosfuji/items/621cbedfad0eb68b2f5d" id="reference-16e6982ce8527337db3f">最近の画像認識の実力～MS の最先端の研究成果 Computer Vision API を Python で使ってみた</a> で取り上げました。)</li>
<li>
<strong>Emotion</strong> (今回はこれ)</li>
<li>Face (画像に写った人の年齢と性別を推定)</li>
<li>Video (動画の手ぶれ補正、顔のトラッキング、動作検出、ビデオから短時間のビデオサムネイルを作成)</li>
</ul>

<p>Emotion API では画像認識を含んだ以下の機能が提供されています。</p>

<ul>
<li>
<strong>画像上の顔認識＆感情推定</strong> (今回はこれ)</li>
<li>動画像上の顔認識＆感情推定</li>
</ul>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2Fkosfuji%2Fitems%2F575408ae17113d7b58e9&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2Fkosfuji%2Fitems%2F575408ae17113d7b58e9&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/kosfuji/items/575408ae17113d7b58e9/likers" class="css-1iupg5d">156</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">168</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/575408ae17113d7b58e9/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/kosfuji/items/575408ae17113d7b58e9/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/kosfuji/items/575408ae17113d7b58e9/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/kosfuji/items/575408ae17113d7b58e9/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/kosfuji/items/575408ae17113d7b58e9.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-6591269e-a80a-4e49-b1a4-908e15a8a49d">{"authorAnalyticsTrackingId":"UA-81129751-1","organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-b695cf27-01e9-4351-ab65-e70f1d398832"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-b695cf27-01e9-4351-ab65-e70f1d398832">{}</script>
      
<div id="LoginModal-react-component-c88860fa-3796-40db-a182-463f327c48e2"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-c88860fa-3796-40db-a182-463f327c48e2">{}</script>
      
<div id="StockModal-react-component-07386948-decc-4d35-9974-858030544368"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-07386948-decc-4d35-9974-858030544368">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;e7deGYo56uZANFKOM/RfMAyqrqu8ZhDdABtbpKG7xl0PrpBxu27nLBHAJoE6xR3ENt9zCj3L1ZrNQsXPRWGXqw==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\u003cp\u003e未来のゲームに Microsoft のテクノロジーはどういう風に貢献できるのだろうかと妄想を膨らませてみたところ、人間の認知機能を機械に持たせることが出来る Cognitive Services の API を使えば、ゲームはもっとインタラクティブに、より Real と Virtual の間の壁を壊してくれるのではないかと考え、「インタラクティブいちゃいちゃギャルゲー」というものを実際に実装し、国内最大規模のゲーム開発者向け技術カンファレンスの CEDEC の\u003ca href=\"http://cedec.cesa.or.jp/2016/session/ENG/16182.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003eこちら\u003c/a\u003eのセッションでデモさせていただきました。\u003cbr\u003e\nこの記事では、そのデモの要素技術となる Emotion API や、妄想の産物「インタラクティブいちゃいちゃギャルゲー」とは何たるや、そしてどのようにして実装したのかをご紹介できればと思います。\u003cbr\u003e\nこの記事を通して、たった数行のコードでゲーム上のキャラに感情を理解する力を宿すことができるんだということが伝わり、ぜひ実際のゲームに取り入れていただければと思います。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"そもそもemotion-apiって何\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%9D%E3%82%82%E3%81%9D%E3%82%82emotion-api%E3%81%A3%E3%81%A6%E4%BD%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eそもそも、Emotion APIって何？\u003c/h2\u003e\n\n\u003cp\u003eMicrosoft が出している、REST で画像を投げると JSON 形式で画像を分析した結果を返してくれる API サービスのことです。\u003cbr\u003e\n画像に写る人の顔位置を特定し、その表情に含まれる喜び、驚き、悲しみ、怒り、恐れ、嫌悪、軽蔑、中立の 8 つの感情を認識し、合計を 1 としてどの感情がどれだけ含まれているかを割合で返してくれます。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/c9441070eab73d615d4142ec264124d7f73aec33/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130343332362f30313232613939392d356663622d623932652d366330332d3765316139333030316133362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F0122a999-5fcb-b92e-6c03-7e1a93001a36.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ce4240b276d533265b708ee5450f8548\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/104326/0122a999-5fcb-b92e-6c03-7e1a93001a36.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F0122a999-5fcb-b92e-6c03-7e1a93001a36.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=cefb969fc834b050d35cb0c24ca77d50 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n(\u003ca href=\"https://www.microsoft.com/cognitive-services/en-us/emotion-api\" rel=\"nofollow noopener\" target=\"_blank\"\u003e公式ページ\u003c/a\u003e参照)\u003c/p\u003e\n\n\u003cp\u003eこちらの例では 2 人の顔の位置がしっかり特定され、右側の人の感情が Surprise 99.6%として推定されていることが分かります。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/b9f02def6a855b4cc07867570772c2344c56179a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130343332362f38333665653136662d653639342d353433392d646135642d3564613564623038336536652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F836ee16f-e694-5439-da5d-5da5db083e6e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=9fb0bc4068cad3962ea7abae99f80598\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/104326/836ee16f-e694-5439-da5d-5da5db083e6e.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F836ee16f-e694-5439-da5d-5da5db083e6e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=adcf097d6fadafae1aadccc3203095af 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n(\u003ca href=\"https://www.microsoft.com/cognitive-services/en-us/emotion-api\" rel=\"nofollow noopener\" target=\"_blank\"\u003e公式ページ\u003c/a\u003e参照)\u003c/p\u003e\n\n\u003cp\u003e続いての例では右の人が Happiness 92.8% として推定されています。(左の人は Happniess 99.98% でした)\u003cbr\u003e\nこの結果から人間の直感に合った感情推定が精度よく行えていることが分かります。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"インタラクティブいちゃいちゃギャルゲーとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%A9%E3%82%AF%E3%83%86%E3%82%A3%E3%83%96%E3%81%84%E3%81%A1%E3%82%83%E3%81%84%E3%81%A1%E3%82%83%E3%82%AE%E3%83%A3%E3%83%AB%E3%82%B2%E3%83%BC%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eインタラクティブいちゃいちゃギャルゲーとは\u003c/h2\u003e\n\n\u003cp\u003e説明しよう。どんな妄想だったのかを。\u003cbr\u003e\nゲーム内のキャラが自分の表情を読み取って、例えば元気のない顔をしていたら「元気ないね、どうしたの？」と話しかけてくれたり、\u003cbr\u003e\n楽しそうな顔をしていたら「一緒にいると楽しいね」と話しかけてくれたりしたら非常にうれしい気持ちになるんじゃないのか？\u003cbr\u003e\n画面上での操作で閉じていたギャルゲーがリアルタイムで自分の気持ちを読み取って、インタラクティブに話しあえたらどんなに面白いんだろう？\u003cbr\u003e\nそんなコンセプトを形にしたものが「インタラクティブいちゃいちゃギャルゲー」です。\u003cbr\u003e\n構成図はこのようになります。\u003cbr\u003e\nスマホや PC 等のデバイスのカメラからアプリが表情をチェックして、それを Emotion API に投げ、表情分析結果から一番強い感情に対しての反応（声やセリフ、表情）をキャラが返してくれるというものになります。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/5ca3d5f92763d055ed2b0aad62635bdb242e4fe8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130343332362f61643561616265622d386666322d633631332d303339612d6265636136653266323732322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2Fad5aabeb-8ff2-c613-039a-beca6e2f2722.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=bfdeef0fd880d4fbaf0c0388d096501d\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/104326/ad5aabeb-8ff2-c613-039a-beca6e2f2722.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2Fad5aabeb-8ff2-c613-039a-beca6e2f2722.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c0f982b620159e24349782640864c728 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eただ自分は絵心がなさすぎるので、自分の絵には誰も感情移入してくれないだろうと思い、デモ作成の際には、弊社エバンジェリストのちょまどさんにサポートしていただき、はしれ！コード学園の登場人物であるC#ちゃんを派遣していただきました。(詳しくは 漫画家兼エバンジェリストちょまどさんの応援 の項で)\u003c/p\u003e\n\n\u003cp\u003eそうしてできたデモの完成プレイ画面はこのようになりました。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/ecc2013d586b0532380b422e455ad2c6ea4afa1f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130343332362f34386636633533372d346536652d363530612d663663302d3339656435663835313636302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F48f6c537-4e6e-650a-f6c0-39ed5f851660.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=8719966b9f260bea274eed4d25a783bc\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/104326/48f6c537-4e6e-650a-f6c0-39ed5f851660.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F48f6c537-4e6e-650a-f6c0-39ed5f851660.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=865d94c543c3fd5c47bedec5f9eef394 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n本来であれば、カメラからの表情を常にキャラがチェックしてくれた方がいいと思いますが、デモ用に自分のタイミングで画像を送るようにしていて、送った画像を右下に表示しています。\u003c/p\u003e\n\n\u003cp\u003e早速試してみましょう！\u003cbr\u003e\n笑顔を見せるとこんなセリフと表情を返してくれます。\u003cbr\u003e\n自分に合った表情（笑顔）を返してくれているところに注目です。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/486742050ca167a66e79719c4ad752e2b018ef11/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130343332362f65323262623633342d373766342d326464662d396665612d3936613132653037373864342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2Fe22bb634-77f4-2ddf-9fea-96a12e0778d4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=32d3b97642872a6925cd00a7de1f3609\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/104326/e22bb634-77f4-2ddf-9fea-96a12e0778d4.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2Fe22bb634-77f4-2ddf-9fea-96a12e0778d4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ba5bf359729f74271885fd37fc6c6a13 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e驚いた顔を見せるとこんなセリフと表情を返してくれます。（場面はセリフに合うように別で切り替えています）\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/0cb01ecf99726bb9d77243cf44c85b4c8a1a018b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130343332362f36626434316332662d323334392d663037342d336536652d3935323462393935373235632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F6bd41c2f-2349-f074-3e6e-9524b995725c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a8b6db0bc4d9cb73fde3dc823c03aad3\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/104326/6bd41c2f-2349-f074-3e6e-9524b995725c.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F6bd41c2f-2349-f074-3e6e-9524b995725c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=66b55eac0504275efdd4a2bfc425d97a 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e今度は場面を切り替え家の中へ、\u003cbr\u003e\n怒った顔を見せるとこんな反応をくれます。一体裏側にどんなストーリーがあったのでしょうか。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/0fff639eb68d6ef03ca1c99e4725ddd9afba32f0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130343332362f36616664346239312d643232642d333165352d353639652d3335353864363133633630392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F6afd4b91-d22d-31e5-569e-3558d613c609.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a4834195bc569f0d89b094739b16a124\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/104326/6afd4b91-d22d-31e5-569e-3558d613c609.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F6afd4b91-d22d-31e5-569e-3558d613c609.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=dbea4d17380833b5f8b2a2e6358342ea 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eただ、笑顔を見せるとこうなります。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/5c6216d82a9c233f42600611ce275581c3037fe0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130343332362f36623835623763362d316466362d383763642d306433652d6566383833643566333039632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F6b85b7c6-1df6-87cd-0d3e-ef883d5f309c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7d41323ebe1281cac79fce73ccd6e14e\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/104326/6b85b7c6-1df6-87cd-0d3e-ef883d5f309c.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F6b85b7c6-1df6-87cd-0d3e-ef883d5f309c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=a1612ca6a82c8da27d5203e55c70f9e8 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nざるですね。（自分の実装がワンパターンなだけ）\u003c/p\u003e\n\n\u003cp\u003eちなみに中立（無表情）を見せると、こういう風に返すように作っています。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/e48f2dc8b77e07006ad5b9eb0854098d20588609/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130343332362f30656662356430372d333839352d333036652d343265632d3264396438653163666238632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F0efb5d07-3895-306e-42ec-2d9d8e1cfb8c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=92fc2bae1b2898b077d53b4fded85ebb\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/104326/0efb5d07-3895-306e-42ec-2d9d8e1cfb8c.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F0efb5d07-3895-306e-42ec-2d9d8e1cfb8c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=6efebd3b7ce8818f9d3f2b65ec8c706e 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"どうやって実装したの\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%A9%E3%81%86%E3%82%84%E3%81%A3%E3%81%A6%E5%AE%9F%E8%A3%85%E3%81%97%E3%81%9F%E3%81%AE\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eどうやって実装したの？\u003c/h2\u003e\n\n\u003cp\u003eUnity なので、C# による実装です。\u003cbr\u003e\nPython2 系, Python3系, Java, JavaScript, Objective-C, PHP, Rubyの実装サンプルは\u003ca href=\"https://dev.projectoxford.ai/docs/services/5639d931ca73072154c1ce89/operations/563b31ea778daf121cc3a5fa\" rel=\"nofollow noopener\" target=\"_blank\"\u003eこちら\u003c/a\u003eの下部に載っています。\u003c/p\u003e\n\n\u003cp\u003e自分の画像から表情を読み取りそれに合わせた表情とセリフをセットしているのを以下のコードで実装しています。\u003cbr\u003e\n以下のコードからたった6行のコードで表情からの感情推定が完了していることが分かります。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eEmotionAPI使用部分\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eUnityEngine\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Collections\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Collections.Generic\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eUnityEngine.UI\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eNewtonsoft.Json.Linq\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eIEnumerator\u003c/span\u003e \u003cspan class=\"nf\"\u003eWaitForRes\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003ebyte\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003ebytes\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// ↓ Emotion API使用部分\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eurl\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"https://api.projectoxford.ai/emotion/v1.0/recognize\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// リクエストヘッダー\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eDictionary\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eheader\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eDictionary\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;();\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eheader\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Content-Type\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"application/octet-stream\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eheader\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Ocp-Apim-Subscription-Key\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Your Key\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// リクエストする\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eWWW\u003c/span\u003e \u003cspan class=\"n\"\u003ewww\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eWWW\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ebytes\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eheader\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// 非同期なのでレスポンスを待つ\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003ewww\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// ↑ Emotion  API使用部分\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ewww\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eerror\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003cspan class=\"err\"\u003e　　\u003c/span\u003e    \u003cspan class=\"c1\"\u003e// JSON の中身をパース\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003eemotionJsonArray\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eJArray\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eParse\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ewww\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e//今回は顔が一人分だけ写っていると仮定し0番目を取り出す\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eJObject\u003c/span\u003e \u003cspan class=\"n\"\u003escores\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eJObject\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"n\"\u003eemotionJsonArray\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"s\"\u003e\"scores\"\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n\n\u003cspan class=\"err\"\u003e　　　　\u003c/span\u003e\u003cspan class=\"c1\"\u003e//取れたスコアに基づき最も強かった感情をstringで返す\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eemotion\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003egetEmotion\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003escores\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n\u003cspan class=\"err\"\u003e　　　　\u003c/span\u003e\u003cspan class=\"c1\"\u003e//キャラクターにその感情にあった表情をさせる\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eGirl\u003c/span\u003e \u003cspan class=\"n\"\u003eg\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003egirl\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eGetComponent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eGirl\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;();\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eg\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetFace\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eemotion\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eJSONから最も強かった感情をstringで返す関数\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eNewtonsoft.Json.Linq\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"nf\"\u003egetEmotion\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eJObject\u003c/span\u003e \u003cspan class=\"n\"\u003eobj\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003estrongEmotion\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003escore\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eforeach\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eobj\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003ename\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eKey\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"k\"\u003evalue\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eConvert\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToDouble\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eValue\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003evalue\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003escore\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003escore\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003estrongEmotion\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003estrongEmotion\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e返ってくる JSON は以下になります。\u003cbr\u003e\n複数の顔が画像に移っている場合は複数人分の感情解析結果が返ってくるようになっています。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"json\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eEmotionAPIから返ってくるJSON\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"faceRectangle\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"height\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e174\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e \n        \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"left\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e284\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e \n        \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"top\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e250\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e \n        \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"width\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e174\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e \n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"scores\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"anger\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mf\"\u003e1.35894252e-05\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e \n        \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"contempt\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mf\"\u003e0.00100439508\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e \n        \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"disgust\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mf\"\u003e7.037945e-05\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e \n        \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"fear\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mf\"\u003e8.25204552e-06\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e \n        \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"happiness\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mf\"\u003e1.33640685e-06\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e \n        \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"neutral\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mf\"\u003e0.9941351\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e \n        \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"sadness\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mf\"\u003e0.00092591357\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e \n        \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"surprise\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mf\"\u003e0.00384104927\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e今までにはなかったようなユーザーエクスペリエンスを提供できるサービスが、非常に短いコード行で実現できてプロダクトに載せることができるということがお分かりいただけたのではないかと思います。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"どうやって始めるの\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%A9%E3%81%86%E3%82%84%E3%81%A3%E3%81%A6%E5%A7%8B%E3%82%81%E3%82%8B%E3%81%AE\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eどうやって始めるの？\u003c/h2\u003e\n\n\u003cp\u003eCognitive Services の利用の際には Subscription Key が必要になります。無料試用が可能なので\u003ca href=\"https://www.microsoft.com/cognitive-services/en-us/subscriptions?productId=/products/54d873dd5eefd00dc474a0f4\" rel=\"nofollow noopener\" target=\"_blank\"\u003eこちら\u003c/a\u003eからご登録ください。Microsoft Account でのログインが必要となります。\u003cbr\u003e\n登録して得られた Subscription Key をサンプルコード上の Ocp-Apim-Subscription-Key で指定してください。\u003c/p\u003e\n\n\u003cp\u003e自分でコードを書く前にまずはどんなものか試してみたいという場合は、\u003ca href=\"https://www.microsoft.com/cognitive-services/en-us/emotion-api\" rel=\"nofollow noopener\" target=\"_blank\"\u003e公式解説ページ\u003c/a\u003eを見てもらうと準備されている画像を選ぶ or 自分の画像をアップロードして確認できるようになっているのでおすすめです。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"使用プラン\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BD%BF%E7%94%A8%E3%83%97%E3%83%A9%E3%83%B3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e使用プラン\u003c/h2\u003e\n\n\u003cp\u003e無料のプランだけではなくビジネスユースでの使用も可能である \u003cstrong\u003eBasic\u003c/strong\u003e, \u003cstrong\u003eStandard\u003c/strong\u003e のプランも用意されています。\u003cbr\u003e\n今回詳しくは説明していませんが、Emotion API には動画上の感情推定機能もあり、現時点(2016.8.26)では無料で提供されています。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/9f0b6cac25243019cb91eecfb651ea8b617853c7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130343332362f33666261316463622d666231342d653730662d323065632d3339336637666136336333382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F3fba1dcb-fb14-e70f-20ec-393f7fa63c38.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7efa5972f6fc636451832bd499542c74\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/104326/3fba1dcb-fb14-e70f-20ec-393f7fa63c38.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2F3fba1dcb-fb14-e70f-20ec-393f7fa63c38.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=2a6fbe9a087e66a6035866e84e792b21 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eStandard Planでの使用だと1000枚の画像を分析して2.5 ドルとなります。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://portal.azure.com/#create/Microsoft.CognitiveServices/apitype/Emotion/pricingtier/S0\" rel=\"nofollow noopener\" target=\"_blank\"\u003eこちら\u003c/a\u003eからダイレクトに Standard Plan のアカウントを立てることができます。\u003cbr\u003e\nStandard Plan をお使いいただく場合は、Microsoft Azure の Subscription が必要となるので、もしお持ちでない方は\u003ca href=\"https://azure.microsoft.com/ja-jp/free/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eこちら\u003c/a\u003eから 1か月 ￥20.500 の無料試用アカウント等もぜひお試しください。\u003c/p\u003e\n\n\u003cp\u003e今回の記事から実際にプロダクトに組み込んでみたいとなった場合はサポートできることがあるかもしれないので、コメントでも個人的にでも連絡でもいただければ！\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"漫画家兼エバンジェリストちょまどさんの応援\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%BC%AB%E7%94%BB%E5%AE%B6%E5%85%BC%E3%82%A8%E3%83%90%E3%83%B3%E3%82%B8%E3%82%A7%E3%83%AA%E3%82%B9%E3%83%88%E3%81%A1%E3%82%87%E3%81%BE%E3%81%A9%E3%81%95%E3%82%93%E3%81%AE%E5%BF%9C%E6%8F%B4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e漫画家兼エバンジェリストちょまどさんの応援\u003c/h2\u003e\n\n\u003cp\u003eあまりに絵心のない自分に対して弊社の漫画家兼エバンジェリストとして活動されているちょまどさんがキャラを貸し出してくれました。\u003cbr\u003e\nTwitter アカウントは\u003ca href=\"https://twitter.com/chomado?lang=ja\" rel=\"nofollow noopener\" target=\"_blank\"\u003eこちら\u003c/a\u003eで、\u003cbr\u003e\n\u003ca href=\"https://codeiq.jp/magazine/category/programminggirls/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eはしれ！コード学園\u003c/a\u003eというのを連載されているのでぜひ興味を持たれた方は読んでみてください。\u003cbr\u003e\nC#ちゃんは、はしれ！コード学園の登場人物で、キャラの性格設定が C# らしい性格になっていて、他のキャラ（言語）もなるほどなとなる面白い性格設定になっているので、エンジニアの人には楽しんでいただけると思います。\u003cbr\u003e\nさらにCEDECでデモをさせていただいた際は、ちょまどさんには声の出演（ C# ちゃんの声優）もしていただきました。\u003cbr\u003e\n声の方は会場限定公開なので、ファンで会場にいらっしゃった方は非常に幸運だったと思います。\u003cbr\u003e\n本当にありがとうございました！\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"後書き\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%BE%8C%E6%9B%B8%E3%81%8D\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e後書き\u003c/h2\u003e\n\n\u003cp\u003e自分はまだまだ C#, Unity 共に駆け出しなので、こういった書き方の方がいいよというのがあればぜひご指摘いただけるとありがたいです。（後程Gitにすべてのコードを公開する予定なので特にそれに関していただければ幸いです。Githubに上げ次第更新通知送りますね）\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"参考1-emotion-api-の-ms-内での位置づけ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%831-emotion-api-%E3%81%AE-ms-%E5%86%85%E3%81%A7%E3%81%AE%E4%BD%8D%E7%BD%AE%E3%81%A5%E3%81%91\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考1 (Emotion API の MS 内での位置づけ)\u003c/h2\u003e\n\n\u003cp\u003e\u003ca href=\"https://www.microsoft.com/cognitive-services/en-us/emotion-api\" rel=\"nofollow noopener\" target=\"_blank\"\u003eEmotion API\u003c/a\u003e は、Microsoft の \u003ca href=\"https://www.microsoft.com/cognitive-services/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eCognitive Services\u003c/a\u003e というクラウドベースの API サービス群の1つで\u003cbr\u003e\n下記5つのカテゴリのうちの Vision カテゴリに属する API です。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eVision\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003eSpeech\u003c/li\u003e\n\u003cli\u003eLanguage\u003c/li\u003e\n\u003cli\u003eKnowledge\u003c/li\u003e\n\u003cli\u003eSearch\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eVision カテゴリ内の API は下記のようになっています。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eComputer Vision (\u003ca href=\"http://qiita.com/kosfuji/items/621cbedfad0eb68b2f5d\" id=\"reference-16e6982ce8527337db3f\"\u003e最近の画像認識の実力～MS の最先端の研究成果 Computer Vision API を Python で使ってみた\u003c/a\u003e で取り上げました。)\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003eEmotion\u003c/strong\u003e (今回はこれ)\u003c/li\u003e\n\u003cli\u003eFace (画像に写った人の年齢と性別を推定)\u003c/li\u003e\n\u003cli\u003eVideo (動画の手ぶれ補正、顔のトラッキング、動作検出、ビデオから短時間のビデオサムネイルを作成)\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eEmotion API では画像認識を含んだ以下の機能が提供されています。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\n\u003cstrong\u003e画像上の顔認識＆感情推定\u003c/strong\u003e (今回はこれ)\u003c/li\u003e\n\u003cli\u003e動画像上の顔認識＆感情推定\u003c/li\u003e\n\u003c/ul\u003e\n","createdAt":"2016-08-26T04:36:14Z","elapsedYearsFromLastModifiedAt":5,"encryptedId":"lBgQzhdeuObiX4F7K3gxDl+jbiRUNpXp--P66T5p8i+8qKuzE0--GFKHdcrFn8UU2C4aHpkbBw==","isBanned":false,"isDeprecated":true,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2016-08-26T14:19:46Z","likesCount":156,"linkUrl":"https://qiita.com/kosfuji/items/575408ae17113d7b58e9","organization":null,"originalId":418185,"stockedCount":168,"title":"MS の Emotion API を使って Unity 上にインタラクティブいちゃいちゃギャルゲーを作ろう","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%9D%E3%82%82%E3%81%9D%E3%82%82emotion-api%E3%81%A3%E3%81%A6%E4%BD%95\"\u003eそもそも、Emotion APIって何？\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%A9%E3%82%AF%E3%83%86%E3%82%A3%E3%83%96%E3%81%84%E3%81%A1%E3%82%83%E3%81%84%E3%81%A1%E3%82%83%E3%82%AE%E3%83%A3%E3%83%AB%E3%82%B2%E3%83%BC%E3%81%A8%E3%81%AF\"\u003eインタラクティブいちゃいちゃギャルゲーとは\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%A9%E3%81%86%E3%82%84%E3%81%A3%E3%81%A6%E5%AE%9F%E8%A3%85%E3%81%97%E3%81%9F%E3%81%AE\"\u003eどうやって実装したの？\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%A9%E3%81%86%E3%82%84%E3%81%A3%E3%81%A6%E5%A7%8B%E3%82%81%E3%82%8B%E3%81%AE\"\u003eどうやって始めるの？\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E4%BD%BF%E7%94%A8%E3%83%97%E3%83%A9%E3%83%B3\"\u003e使用プラン\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%BC%AB%E7%94%BB%E5%AE%B6%E5%85%BC%E3%82%A8%E3%83%90%E3%83%B3%E3%82%B8%E3%82%A7%E3%83%AA%E3%82%B9%E3%83%88%E3%81%A1%E3%82%87%E3%81%BE%E3%81%A9%E3%81%95%E3%82%93%E3%81%AE%E5%BF%9C%E6%8F%B4\"\u003e漫画家兼エバンジェリストちょまどさんの応援\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%BE%8C%E6%9B%B8%E3%81%8D\"\u003e後書き\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%8F%82%E8%80%831-emotion-api-%E3%81%AE-ms-%E5%86%85%E3%81%A7%E3%81%AE%E4%BD%8D%E7%BD%AE%E3%81%A5%E3%81%91\"\u003e参考1 (Emotion API の MS 内での位置づけ)\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","totalPv":24431,"uuid":"575408ae17113d7b58e9","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"lXL/9prjgoFwgovyVrWEPvArPndK--FfmP0kLOZ57YC08O--W5w4F/sUJGPqJGvA0U/mLg==","originalId":104326,"description":"駆け出しエバンジェリスト＠日本マイクロソフトです。\r\n新しい技術にどんどん触れて、いじって、自分が面白いと思ったものを発信していきたいです。","facebookUrl":null,"githubUrl":"https://github.com/fujikosu","isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"Kosuke Fujimoto","profileImageUrl":"https://qiita-image-store.s3.amazonaws.com/0/104326/profile-images/1473709264","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2Fprofile-images%2F1473709264?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=fbc6326320ac7d07c0a772170f8ab8a7","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F104326%2Fprofile-images%2F1473709264?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=19498074cd177bae1e1008f47ee07d4d","urlName":"kosfuji","websiteUrl":"","twitterUrl":"https://twitter.com/kosfuji","twitterUrlName":"kosfuji","revealedOrganizations":{"edges":[]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"Unity","urlName":"unity"},{"name":"DeepLearning","urlName":"deeplearning"},{"name":"画像認識","urlName":"%e7%94%bb%e5%83%8f%e8%aa%8d%e8%ad%98"},{"name":"CognitiveServices","urlName":"cognitiveservices"}],"followingLikers":{"edges":[]},"comments":{"totalCount":5}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
