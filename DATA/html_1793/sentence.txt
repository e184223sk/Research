More than 1 year has passed since last update.こんにちは。突然ですが、C#のLINQでよく見かけると思うメソッドを3つ、頭に思い浮かべてみてください。筆者はSelectメソッド, Whereメソッド, FirstOrDefaultメソッドだと思うのです。
ということで本記事ではこれら3つのメソッドについて簡単なサンプルをご紹介。やっぱり最初はSelectメソッドじゃない？
Selectメソッドの効果は加工や変形です。あえて数学っぽい言葉で言うなら射影か。この例では、配列のアイテムひとつひとつに対してc =&gt; c + 3してます。
ちなみにConsole.Read();とあるけど、これは結果画面を閉じずに待機したかっただけなので気にしないで。
実行結果は…

ちゃんと全部 3 が足されてます。Whereメソッドは条件に合うやつだけを絞り込む、つまりフィルタリングですね。配列のアイテムからc =&gt; c &gt;= 3という条件を満たすものだけを取り出しています。
なんか形が似てるけど、=&gt;はラムダ式の記号で、&gt;=は不等号（≧）よね。
実行結果は…

3以上のアイテムだけが取り出されました。これも個人的にはよく見かけるメソッドだと思うのです。
ファーストまたはデフォルト。つまり最初のアイテムを返すけど該当アイテムがなかったら既定値を返すよという、とても賢い子。
該当アイテムがなかったら例外をぶん投げてしまうFirstメソッドよりたぶん便利。実行結果は…

たしかにc =&gt; c &gt;= 3という条件を満たすアイテムのうち、最初に見つかるのは 3 。
ちなみにもし見つからなかったら、今回はint型なので既定値 0 が出力されます。Selectメソッドは加工、変形、射影。
Whereメソッドはフィルタリング。
FirstOrDefaultメソッドは最初のアイテムを取り出すけど見つからなかったら既定値。LINQのメソッドはたくさんあって全ては覚えられないけど、有名なところだけでもしっかり使い方をおさえておきたいですな。今回紹介したメソッドのほかにはCountメソッド、OrderByメソッドあたりも頻出かな？ちなみに本記事は筆者のQiita初投稿なので、見出しとか段落とかフォントとかでミスがあっても大目に見ていただきたい…！


