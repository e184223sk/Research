<!DOCTYPE html><html><head><meta charset="utf-8" /><title>多要素認証のキーとして、LTE-Mボタンを使ってみた - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/SamOnodera/items/ebfe67f3e7725d6fdaaa" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="EdTnvC696qUZxPqU6k0hn85m+lvC+ZyhmIKn/mfk/UTF4nIbd2QOaAuJfbFOkcaMsq7Vvb3SVrjrqPvUGjP9Yw==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta content="@SAMonodera" name="twitter:creator" /><meta property="og:type" content="article"><meta property="og:title" content="多要素認証のキーとして、LTE-Mボタンを使ってみた - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND01YVNhNkthQjU3U2c2S3FONktpODQ0R3U0NEt0NDRPODQ0R280NEdYNDRHbTQ0Q0JURlJGTFUzamc1empncl9qZzdQamdwTGt2Yl9qZ2FQamdhYmpnYl9qZ1o4JnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NTQmdHh0LWNsaXA9ZWxsaXBzaXMmdHh0LWFsaWduPWNlbnRlciUyQ21pZGRsZSZzPTU5YjMxNjkwOTAzOGVkMmExZjM3ZDM4Y2UzNzZhNzVi&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRk5oYlU5dWIyUmxjbUUmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT00NSZ0eHQtYWxpZ249cmlnaHQlMkNib3R0b20mcz1iMzAyM2NmN2UyMjJiODIxYTZiYzkyZGFjNDkwNWRiNw&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=8d6482fcbb6970add0a9657ec33192a1"><meta property="og:description" content="

はじめに

これは、SORACOM Technology Camp 2018のナイトイベントLTで発表した内容を、ハンズオン風味で追体験が出来るように記事化したものです。

　 【スライド】　もういい加減、パスワード使うの止めにし..."><meta content="https://qiita.com/SamOnodera/items/ebfe67f3e7725d6fdaaa" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,lambda,MFA,SORACOM,iot-1-click" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 1nzh4zz 38fzdi helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-1nzh4zz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 32px;background-color:#FBE69E;color:rgba(0,0,0,0.87);line-height:1.5;font-weight:600;}@media (max-width:770px){.css-1nzh4zz{padding:16px;}}.css-38fzdi{color:#CA832A;margin-right:4px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-94e043a7-8acd-431a-8dd9-c345d288f906"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2FSamOnodera%2Fitems%2Febfe67f3e7725d6fdaaa">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2FSamOnodera%2Fitems%2Febfe67f3e7725d6fdaaa">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-94e043a7-8acd-431a-8dd9-c345d288f906">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2018-12-18T21:55:09.000+09:00","dateModified":"2019-10-18T23:12:59.000+09:00","headline":"多要素認証のキーとして、LTE-Mボタンを使ってみた","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND01YVNhNkthQjU3U2c2S3FONktpODQ0R3U0NEt0NDRPODQ0R280NEdYNDRHbTQ0Q0JURlJGTFUzamc1empncl9qZzdQamdwTGt2Yl9qZ2FQamdhYmpnYl9qZ1o4JnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NTQmdHh0LWNsaXA9ZWxsaXBzaXMmdHh0LWFsaWduPWNlbnRlciUyQ21pZGRsZSZzPTU5YjMxNjkwOTAzOGVkMmExZjM3ZDM4Y2UzNzZhNzVi\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRk5oYlU5dWIyUmxjbUUmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT00NSZ0eHQtYWxpZ249cmlnaHQlMkNib3R0b20mcz1iMzAyM2NmN2UyMjJiODIxYTZiYzkyZGFjNDkwNWRiNw\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=8d6482fcbb6970add0a9657ec33192a1","mainEntityOfPage":"https://qiita.com/SamOnodera/items/ebfe67f3e7725d6fdaaa","author":{"@type":"Person","address":"東京都","email":null,"identifier":"SamOnodera","name":"SamOnodera","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fprofile-images%2F1544089644?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=774a9518b911d561345dba6161e9da2f","url":"https://qiita.com/SamOnodera","description":"これまでの人生の半分を会社経営者、半分を社員という立場で過ごしてきましたので、双方の視点から物事を眺めるのが得意です。\r\n\r\n運用環境の選定/構築から始まり、システムの企画/仕様/実装/保守と、フルスタックっぽく何でもやります！\r\n個人的には、IoTやガジェットに絡んだ企画を考えるのが大好物。\r\n「そんな事が出来るんだ!?」と皆を驚かせることに熱意を燃やす日々です。","memberOf":[{"@type":"Organization","address":"全国各地","legalName":"IoTLT","image":"https://s3-ap-northeast-1.amazonaws.com/qiita-organization-image/4a3d7972dc77f379c6b9daeded3745fb6ede28b7/original.jpg?1485315227","logo":"https://s3-ap-northeast-1.amazonaws.com/qiita-organization-image/67955531570736d618f59dd5e615b01285b22217/original.jpg?1485315227","identifier":"iotlt","description":"IoT縛りの勉強会です。 毎月イベントを実施しているので是非遊びに来てください！  登壇者を中心にQiitaでも情報発信していきます。 https://iotlt.connpass.com"}]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://zine.qiita.com/interview/202105-uzabase-2/?utm_source=qiita&amp;utm_medium=header-banner">常にメンバーが開発しやすい環境を作るNewsPicksの組織作りとは</a><a target="_blank" id="header_text_message_2" href="https://zine.qiita.com/interview/202105-uzabase-2/?utm_source=qiita&amp;utm_medium=header-banner">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"SamOnodera","type":"items","id":"ebfe67f3e7725d6fdaaa"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"常にメンバーが開発しやすい環境を作るNewsPicksの組織作りとは","url":"https://zine.qiita.com/interview/202105-uzabase-2/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"SamOnodera","type":"items","id":"ebfe67f3e7725d6fdaaa"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":2,"pos_id":"header_text_message_1","message":"常にメンバーが開発しやすい環境を作るNewsPicksの組織作りとは","url":"https://zine.qiita.com/interview/202105-uzabase-2/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"SamOnodera","type":"items","id":"ebfe67f3e7725d6fdaaa"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":2,"pos_id":"header_text_message_2","message":"常にメンバーが開発しやすい環境を作るNewsPicksの組織作りとは","url":"https://zine.qiita.com/interview/202105-uzabase-2/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/SamOnodera/items/ebfe67f3e7725d6fdaaa","location":"/SamOnodera/items/ebfe67f3e7725d6fdaaa","scheme":"https","host":"qiita.com","port":null,"pathname":"/SamOnodera/items/ebfe67f3e7725d6fdaaa","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"92yEpLcsmSTHpIoKoeoyo/lENv0d5zWIJuZH39Kg5gwjWhED7vV96dXpDS8FNtWwhYwZG2LM/5FVzBv1r3fmKw==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-0f2dac19-1fc0-4f90-b684-a016504fc296"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/SamOnodera/items/ebfe67f3e7725d6fdaaa/likers" class="css-1iupg5d">5</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">1</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/ebfe67f3e7725d6fdaaa/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/SamOnodera/items/ebfe67f3e7725d6fdaaa/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/SamOnodera/items/ebfe67f3e7725d6fdaaa/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/SamOnodera/items/ebfe67f3e7725d6fdaaa/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/SamOnodera/items/ebfe67f3e7725d6fdaaa.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-1nzh4zz"><span class="fa fa-fw fa-warning css-38fzdi"></span><p>More than 1 year has passed since last update.</p></div><div class="css-helsa7"><div class="css-8qb8m4"><div class="it-AdcalRibbon"><span><a href="/advent-calendar/2018/soracom2" class="it-AdcalRibbon_title">SORACOM<!-- --> Advent Calendar<!-- --> <!-- -->2018</a>Day 22</span></div><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/SamOnodera"><img class="css-100alwu eyfquo10" src="https://qiita-image-store.s3.amazonaws.com/0/318815/profile-images/1544089644" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/SamOnodera" class="css-10ougpm">@<!-- -->SamOnodera</a><div class="css-1ay9vb9"><span><meta content="2018-12-18T12:55:09Z"/><time dateTime="2019-10-18T14:12:59Z" class="css-m19uds">updated at 2019-10-18</time></span></div></div></div></div></div><h1 class="css-cgzq40">多要素認証のキーとして、LTE-Mボタンを使ってみた</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/lambda" class="css-4czcte">lambda</a><a href="/tags/mfa" class="css-4czcte">MFA</a><a href="/tags/soracom" class="css-4czcte">SORACOM</a><a href="/tags/iot-1-click" class="css-4czcte">iot-1-click</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div>
<h1>
<span id="はじめに" class="fragment"></span><a href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB"><i class="fa fa-link"></i></a>はじめに</h1>

<p>これは、SORACOM Technology Camp 2018のナイトイベントLTで発表した内容を、<strong>ハンズオン風味</strong>で追体験が出来るように記事化したものです。</p>

<p>　 <a href="https://sway.office.com/aLvw76zMbP4CM4oW?ref=Link&amp;loc=play" rel="nofollow noopener" target="_blank">【スライド】　もういい加減、パスワード使うの止めにしません？</a></p>

<p>本作品は、 SIM付きボタン(SORACOM LTE-M Button)を使って、簡単かつ安全なパスワードレス認証の可能性を実証したものです。<br>
ボタンを押すだけで、セキュアにログインすることが可能なソリューションとなっています。<br>
その特徴は次の通りです。</p>

<p>　① 簡単: 箱から開けて電池を入れるだけで動作開始<br>
　② 安全: SIMそのものが持つ仕組み(耐ダンパー性)を使って認証するため、非常にセキュア</p>

<p>具体的には、一つ目の認証キーとしてユニークなIDとなる<strong>お客様番号</strong>を、二つ目の認証キーとして(あの)<strong>ボタン</strong>を使っています。<br>
一旦認証が完了した後のページ間のやり取りには、ハッシュ化したお客様番号に紐付くワンタイムのGUIDが振り出され、それをURLのクエリとして用いることで、更なるセキュリティを担保しています。<br>
またログイン用のWebページは、<strong>ログイン認証からログイン後のメニューまでを同一ページ内で動的に生成しているため、基本的にフィッシングの被害に合いようがありません</strong>。</p>

<p>それを実際に複数のブラウザで試してみた様子がコチラです。</p>

<p>　 <a href="https://youtu.be/j0yQEK7JsTA" rel="nofollow noopener" target="_blank">【動画】　多要素認証のキーとして、LTE-Mボタンを使ってみた（音声は流れません）</a><br>
　　<a href="http://www.youtube.com/watch?v=j0yQEK7JsTA" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/http%3A%2F%2Fimg.youtube.com%2Fvi%2Fj0yQEK7JsTA%2F0.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=4cc249def1130008398b368a8032a616" alt="多要素認証のキーとして、LTE-Mボタンを使ってみた" data-canonical-src="http://img.youtube.com/vi/j0yQEK7JsTA/0.jpg" srcset="https://qiita-user-contents.imgix.net/http%3A%2F%2Fimg.youtube.com%2Fvi%2Fj0yQEK7JsTA%2F0.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=a6320c3883b251194ae9f026a6052ce1 1x" loading="lazy"></a></p>

<p>全体の構成は、次のようになっています。<br>
　　<a href="https://camo.qiitausercontent.com/056db6ada5ae464afd4ec8d4e084367817c25809/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f30643438343362372d333334332d653961352d343635622d3334393735346664333163332e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F0d4843b7-3343-e9a5-465b-349754fd31c3.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=aae28ab7c9026d7ed1cee70109973a5d" width="90%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/0d4843b7-3343-e9a5-465b-349754fd31c3.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F0d4843b7-3343-e9a5-465b-349754fd31c3.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=950d5ad736cae4cb5f5bc128d4e77361 1x" loading="lazy"></a></p>

<h1>
<span id="今回使ったもの" class="fragment"></span><a href="#%E4%BB%8A%E5%9B%9E%E4%BD%BF%E3%81%A3%E3%81%9F%E3%82%82%E3%81%AE"><i class="fa fa-link"></i></a>今回使ったもの</h1>

<ul>
<li>SORACOM LTE-M Button powered by AWS</li>
<li>Visual Studio 2017</li>
</ul>

<h1>
<span id="cでlambdaを書くために必要なこと" class="fragment"></span><a href="#c%E3%81%A7lambda%E3%82%92%E6%9B%B8%E3%81%8F%E3%81%9F%E3%82%81%E3%81%AB%E5%BF%85%E8%A6%81%E3%81%AA%E3%81%93%E3%81%A8"><i class="fa fa-link"></i></a>C#でLambdaを書くために必要なこと</h1>

<p>C#でLambdaを扱ったことがない方は、事前に準備が必要です。<br>
こちらに解りやすい記事がありますので、先に一通り実践されることをオススメします。</p>

<p>　<a href="https://www.aruse.net/entry/2018/10/18/183346" rel="nofollow noopener" target="_blank">AWS Lambda関数をC#で書いて実行するまで</a></p>

<h1>
<span id="awsでやること" class="fragment"></span><a href="#aws%E3%81%A7%E3%82%84%E3%82%8B%E3%81%93%E3%81%A8"><i class="fa fa-link"></i></a>AWSでやること</h1>

<h3>
<span id="lambda関数を作る" class="fragment"></span><a href="#lambda%E9%96%A2%E6%95%B0%E3%82%92%E4%BD%9C%E3%82%8B"><i class="fa fa-link"></i></a>Lambda関数を作る</h3>

<p><a href="https://ap-northeast-1.console.aws.amazon.com/lambda/home" rel="nofollow noopener" target="_blank">AWSマネジメントコンソールから「Lambda」を選択</a>して、左側ペインから①の「関数」を選び、②の「関数の作成」ボタンを押します。<br>
　　<a href="https://camo.qiitausercontent.com/1d683f45779dd81baa3194d9fe0c99cd952c569e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f61336535306131312d623134622d383734612d356235332d6434343537313637333035362e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fa3e50a11-b14b-874a-5b53-d44571673056.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=9a8ebd9c8fffb95e9607a94e0b5fc644" width="90%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/a3e50a11-b14b-874a-5b53-d44571673056.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fa3e50a11-b14b-874a-5b53-d44571673056.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=9a4f068c2ec8b7144cd54ddea0b9a787 1x" loading="lazy"></a></p>

<p>次の画面に遷移しますので、③の「一から作成」を選択し、④に適当な名前（当記事では"button-login"）を入力、⑤のランタイムで「.NET Core 2.1 (C#/PowerShell)」を選択、⑥のロールではドロップダウンボタンを押してリストを表示させた後で、⑦で「カスタムロールの作成」を選択します。<br>
　　<a href="https://camo.qiitausercontent.com/bde847c995e807accacde932a9bf84e0306823f9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f35613938623264392d366135382d366634332d333661662d6633383531656530656530662e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F5a98b2d9-6a58-6f43-36af-f3851ee0ee0f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=f20d5ce20b440d4b8b8165fedbe52c1b" width="90%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/5a98b2d9-6a58-6f43-36af-f3851ee0ee0f.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F5a98b2d9-6a58-6f43-36af-f3851ee0ee0f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=0265ce24bebfa10889a3ec9093e7d063 1x" loading="lazy"></a></p>

<p>すると次の画面が別のタブとして開きますので、<strong>IAM ロール</strong>が「lambda_basic_execution」となっていることを確認して、⑧の「許可」ボタンを押します。<br>
　　<a href="https://camo.qiitausercontent.com/11b9400421b336f814c9e34cb3afe13c79a429d0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f66333263313966372d376533312d303730312d663764622d3737633331663533303732632e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Ff32c19f7-7e31-0701-f7db-77c31f53072c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=df977e9f048aba9f33a3062f77b2cec5" width="90%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/f32c19f7-7e31-0701-f7db-77c31f53072c.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Ff32c19f7-7e31-0701-f7db-77c31f53072c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=5335839169c9cb6d4485caaac0655993 1x" loading="lazy"></a></p>

<p>⑨名前、⑩ランタイム、⑪ロール、⑫既存のロール、が次のように全て埋まっていることを確認して、⑬の「関数の作成」ボタンを押します。<br>
　　<a href="https://camo.qiitausercontent.com/97c1ece0255b1d0b3e85f95d180372c83d56c0d4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f34323534383036382d613263302d353731662d386237362d3838313336663238633630392e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F42548068-a2c0-571f-8b76-88136f28c609.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=922647735e8d2de6dd45c38586c777b7" width="90%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/42548068-a2c0-571f-8b76-88136f28c609.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F42548068-a2c0-571f-8b76-88136f28c609.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=b181e6e141f45fc3cf30c3c0463fc57a 1x" loading="lazy"></a></p>

<p>次の画面のように、<strong>正常に作成されました</strong>のメッセージが表示されたら、関数の作成は無事完了です。<br>
　　<a href="https://camo.qiitausercontent.com/65e6733969456b69ac66c73b2b47ae984089d7ac/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f30336238313339362d393838622d343265342d363733612d3464336234303037363330642e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F03b81396-988b-42e4-673a-4d3b4007630d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=484624ae7a31b4b5b228e948b8f89587" width="90%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/03b81396-988b-42e4-673a-4d3b4007630d.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F03b81396-988b-42e4-673a-4d3b4007630d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=b737061403f76fd3e448a79dcd058084 1x" loading="lazy"></a></p>

<h3>
<span id="あのボタンを登録する" class="fragment"></span><a href="#%E3%81%82%E3%81%AE%E3%83%9C%E3%82%BF%E3%83%B3%E3%82%92%E7%99%BB%E9%8C%B2%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>あのボタンを登録する</h3>

<p><a href="https://ap-northeast-1.console.aws.amazon.com/iot1click/home" rel="nofollow noopener" target="_blank">AWSマネジメントコンソールから「IoT 1-Click」を選択</a>して、①の左側ペインから「オンボード」を選び、②の「デバイスの登録」ボタンを押します。<br>
　　<a href="https://camo.qiitausercontent.com/b1d83d01d338b4ab712735331cd531495ccc3399/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f61636538663332392d346239642d393330382d663434652d3339363364323032613462642e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Face8f329-4b9d-9308-f44e-3963d202a4bd.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=cba76d7a0717c946c6da432c3737761d" width="80%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/ace8f329-4b9d-9308-f44e-3963d202a4bd.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Face8f329-4b9d-9308-f44e-3963d202a4bd.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=055f0e4d6915a1c8e918779659022280 1x" loading="lazy"></a></p>

<p>③の「登録コードまたは登録するデバイスの ID」に<strong>あのボタンのDSN</strong>（DeviceSerialNumber）を入力して、④の「登録」ボタンを押します。<br>
　　<a href="https://camo.qiitausercontent.com/292554b0744abd38e8fa32956f2989e7a52212f1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f38373033343336322d643230622d303137632d306438332d3333356266666163613065342e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F87034362-d20b-017c-0d83-335bffaca0e4.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=c21d554f9da7d6f9e2b9ad57aae7203d" width="50%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/87034362-d20b-017c-0d83-335bffaca0e4.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F87034362-d20b-017c-0d83-335bffaca0e4.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=0c2ba05bb4a3a6afa2314e3d1fb03c8f 1x" loading="lazy"></a></p>

<p>ちなみにDSNは、あのボタンのリアカバーを開けると確認できます。<br>
　　<a href="https://camo.qiitausercontent.com/725247c7d513fb681b4114e1ae340657a6ee5d30/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f36396137663938652d353937392d646535322d343263652d3863623338626337633233632e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F69a7f98e-5979-de52-42ce-8cb38bc7c23c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=910142daded5b216f1a7a956b740e4c1" width="50%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/69a7f98e-5979-de52-42ce-8cb38bc7c23c.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F69a7f98e-5979-de52-42ce-8cb38bc7c23c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=ef0713cf9cbc971119d2a81882ac4aad 1x" loading="lazy"></a></p>

<p>次の画面が表示されたら、あのボタンに<strong>電池を入れて一回クリック</strong>します。<br>
　　<a href="https://camo.qiitausercontent.com/3db2b7e1b7288f79fa8979446095dc5d16684418/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f34336636623365372d343866662d363361382d623831652d3736633265383863393939332e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F43f6b3e7-48ff-63a8-b81e-76c2e88c9993.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=4d175d300080cb3e3327f1213e90dafd" width="50%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/43f6b3e7-48ff-63a8-b81e-76c2e88c9993.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F43f6b3e7-48ff-63a8-b81e-76c2e88c9993.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=e3493abda69879cb53e3325f71a9d339 1x" loading="lazy"></a></p>

<p>10秒程で次の画面に変わりますので、⑤の「完了」ボタンを押します。<br>
　　<a href="https://camo.qiitausercontent.com/ace574c0f1569f7d7981c78f41c6486615066353/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f66333863303462622d653137322d363235632d386537382d3336323265333833323736392e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Ff38c04bb-e172-625c-8e78-3622e3832769.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=7ddd5a8678b6b50388c473c7ee05638e" width="50%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/f38c04bb-e172-625c-8e78-3622e3832769.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Ff38c04bb-e172-625c-8e78-3622e3832769.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=3eb77b1b6c0fd87f9762631f15254b7b 1x" loading="lazy"></a></p>

<p>すると次の画面（管理 → デバイス）に自動的に戻りますので、設定したデバイスIDの列中にある⑥「・・・」をクリックします。<br>
ちなみに「デバイスリージョン」はAWS側で自動的に割り振られるため、任意で指定することは出来ません。<br>
　　<a href="https://camo.qiitausercontent.com/2c4fbce1540e7f3e1adb93be545ad4cdd7b032c8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f38393461613735302d656630342d646239632d386633662d3331356435393661303730382e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F894aa750-ef04-db9c-8f3f-315d596a0708.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=53806702891ff52c688df35b0c80fc3a" width="80%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/894aa750-ef04-db9c-8f3f-315d596a0708.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F894aa750-ef04-db9c-8f3f-315d596a0708.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=1023eeb5ae98bb3ca19a35962e0ce7ef 1x" loading="lazy"></a></p>

<p>⑦の「デバイスの<strong>有効</strong>化」を選択します。<br>
　　<a href="https://camo.qiitausercontent.com/7fedf2af26a9ad92b552d0bf305ad849caaa02b8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f65656336346439652d363266392d613162372d653436662d3932613836363566616265372e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Feec64d9e-62f9-a1b7-e46f-92a8665fabe7.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=987ec513bed019aa4bfcf4242b839567" width="80%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/eec64d9e-62f9-a1b7-e46f-92a8665fabe7.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Feec64d9e-62f9-a1b7-e46f-92a8665fabe7.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=ae7952a143008e18bf0f1626c64a20ec 1x" loading="lazy"></a></p>

<p>これで、あのボタンの登録が完了しました。<br>
画面に表示されている<strong>デバイスID</strong>は、後でSORACOMユーザーコンソールからデバイス登録する時に使いますので、控えておいてください。<br>
　　<a href="https://camo.qiitausercontent.com/f17078c132739ec785d49fbe095d7c3a89468546/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f37383936306666312d366436662d363635382d373538382d3334633736613331663763632e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F78960ff1-6d6f-6658-7588-34c76a31f7cc.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=b612252926019aa7fc307082916bd817" width="80%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/78960ff1-6d6f-6658-7588-34c76a31f7cc.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F78960ff1-6d6f-6658-7588-34c76a31f7cc.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=c8894efb59280637b2ecf1052b7249db 1x" loading="lazy"></a></p>

<h3>
<span id="プロジェクトを作る" class="fragment"></span><a href="#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E4%BD%9C%E3%82%8B"><i class="fa fa-link"></i></a>プロジェクトを作る</h3>

<p>左側のペインから、①の「管理 → プロジェクト」を選び、②の「プロジェクトの作成」ボタンを押します。<br>
　　<a href="https://camo.qiitausercontent.com/73a93f8ecdc33bf4f0511c8b8b7173e6bccf47c7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f39353363393130302d303961392d306632642d393931352d6333653432313532346232622e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F953c9100-09a9-0f2d-9915-c3e421524b2b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=9f792de520b038f60baaae0f85a9c366" width="70%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/953c9100-09a9-0f2d-9915-c3e421524b2b.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F953c9100-09a9-0f2d-9915-c3e421524b2b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=c9dd7bab5c72d0b11e47881d5fbd3c80 1x" loading="lazy"></a></p>

<p>③に任意の「プロジェクト名」（当記事では"login-portal"）を入力して、④の「次へ」ボタンを押します。<br>
　　<a href="https://camo.qiitausercontent.com/8c16fa163551fcd87c3536f77f30b40d25af3357/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f62656631303864382d376637612d653564622d626462642d6433373233653633663130622e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fbef108d8-7f7a-e5db-bdbd-d3723e63f10b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=3e30e41d69d1c9af04e4c28912a60693" width="70%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/bef108d8-7f7a-e5db-bdbd-d3723e63f10b.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fbef108d8-7f7a-e5db-bdbd-d3723e63f10b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=25f03e5c23e6d33959bf215096b98f22 1x" loading="lazy"></a></p>

<p>次の画面に替わりましたら、⑤の「開始」をクリックします。<br>
　　<a href="https://camo.qiitausercontent.com/7b27c131a42ba62d7d2b7be6d37117cbba13f491/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f62386261346437392d316131632d636232362d333034662d6331373832323434316336632e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fb8ba4d79-1a1c-cb26-304f-c17822441c6c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=73acb251f063ae2fe3b0772da23f0ab2" width="70%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/b8ba4d79-1a1c-cb26-304f-c17822441c6c.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fb8ba4d79-1a1c-cb26-304f-c17822441c6c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=89e8939b620c9507a3b564da1c1ee6e3 1x" loading="lazy"></a></p>

<p>⑥の「すべてのボタンタイプ」をクリックします。<br>
　　<a href="https://camo.qiitausercontent.com/1e10a1b123f8c69fbb9b333b2e63ac598577fc2e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f34613966616135342d656436382d643833632d643338612d3036393730666131386431332e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F4a9faa54-ed68-d83c-d38a-06970fa18d13.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=aa393bdb04d4a1f0b7ad43457b5d66dd" width="70%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/4a9faa54-ed68-d83c-d38a-06970fa18d13.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F4a9faa54-ed68-d83c-d38a-06970fa18d13.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=16be0d9c6e0824be8edc7472e1fc5e26 1x" loading="lazy"></a></p>

<p>画面が遷移すると、オレンジ色の文字で<strong>名前が必要です</strong>と表示されていますので、⑦に任意の「デバイステンプレート名」を入力、⑧のアクションに「Lambda関数の選択」を選択、⑨のAWSリージョンは<strong>Lambda関数を作る</strong>の項で設定したリージョン（当記事では"東京"）を選択、⑩で同じくその時に設定したLambda関数の名前（当記事では"button-login"）を入力します。<br>
⑪の属性の名前は「customer_code」を入力、⑫のデフォルト値に「0」を入力して、⑬の「プロジェクトの作成」ボタンを押します。<br>
　　<a href="https://camo.qiitausercontent.com/0a18ea63cf3ec80d795ccc7101e9e6939392a620/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f65316530306565382d306131332d613861652d343863342d3833323462623035353336652e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fe1e00ee8-0a13-a8ae-48c4-8324bb05536e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=2d963cedc83c56e4d45f7f57c370c182" width="70%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/e1e00ee8-0a13-a8ae-48c4-8324bb05536e.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fe1e00ee8-0a13-a8ae-48c4-8324bb05536e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=a8058e27bdefede7c1aa360630b03d5c 1x" loading="lazy"></a></p>

<p>次の画面が表示されたら、プロジェクトの作成は成功です。<br>
　　<a href="https://camo.qiitausercontent.com/43ba9e3fc568d5f589d4dfcd088984011e6fd1af/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f37316139313333382d316465362d663365642d643636312d3833653162616635303066362e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F71a91338-1de6-f3ed-d661-83e1baf500f6.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=1c56a4624cd7bc9285161f0a7848447c" width="45%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/71a91338-1de6-f3ed-d661-83e1baf500f6.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F71a91338-1de6-f3ed-d661-83e1baf500f6.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=a125caa0c055da5b665c2da52e18eda7 1x" loading="lazy"></a></p>

<h3>
<span id="プレイスメントを作る" class="fragment"></span><a href="#%E3%83%97%E3%83%AC%E3%82%A4%E3%82%B9%E3%83%A1%E3%83%B3%E3%83%88%E3%82%92%E4%BD%9C%E3%82%8B"><i class="fa fa-link"></i></a>プレイスメントを作る</h3>

<p>プレイスメントとは、ボタン毎に固有に設定できるタグのようなものです。<br>
今回は、ここに<strong>生のお客様番号</strong>を設定します。</p>

<p><a href="https://ap-northeast-1.console.aws.amazon.com/iot1click/home" rel="nofollow noopener" target="_blank">AWSマネジメントコンソールから「IoT 1-Click」を選択</a>して、左側のペインから①の「管理 → プロジェクト」を選び、②の名前（当記事では"login-portal"）部分をクリックします。<br>
　　<a href="https://camo.qiitausercontent.com/72f07d7a0499bf86cfa8460e15cc48793adf51a2/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f31353863326130612d393231382d386332312d613361612d3435663436303534323331302e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F158c2a0a-9218-8c21-a3aa-45f460542310.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=3713638aa305d8d6e1f9cc37c7b42f8c" width="70%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/158c2a0a-9218-8c21-a3aa-45f460542310.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F158c2a0a-9218-8c21-a3aa-45f460542310.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=d481883563be83a15c68bc3f43df2b0c 1x" loading="lazy"></a></p>

<p>次の画面に替わりましたら、③の「プレイスメント」を選択し、④の「プレイスメントの作成」ボタンを押します。<br>
　　<a href="https://camo.qiitausercontent.com/c19e11918b6e39ca546f0b24434fb646d31ea4a5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f31376333393237632d353239312d653035302d626365662d3432393035396361323132622e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F17c3927c-5291-e050-bcef-429059ca212b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=0bf76f05ca30de4528913489540f5449" width="70%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/17c3927c-5291-e050-bcef-429059ca212b.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F17c3927c-5291-e050-bcef-429059ca212b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=d69f55e29a1ba716a96801a5d7c94453 1x" loading="lazy"></a></p>

<p>更に画面が替わりますので、必要な項目を入力していきます。</p>

<p>まずは⑤に適当な「デバイスのプレイスメント名」を入力します。<br>
次に⑥の「デバイスの選択」をクリックすると、先程登録した<strong>あのボタンのDSN</strong>が現れますので、その右側にある「選択」をクリックします。<br>
そして⑦の「customer_code」にはデフォルト値の「0」が設定されていますので、適当な<strong>お客様番号</strong>（最大９桁まで）を入力して上書きします。お客様番号はこの後何度も使いますので、とりあえず覚えやすい番号（当記事では"100"）にしておくことをオススメします。<br>
　　<a href="https://camo.qiitausercontent.com/4a0e8831040efe5265098c21fb8e791b2c2a4624/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f35346462303462632d616538352d636165652d613535372d6565313062636465386233662e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F54db04bc-ae85-caee-a557-ee10bcde8b3f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=c44c150d3594d18f8c8de2663e716eb4" width="70%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/54db04bc-ae85-caee-a557-ee10bcde8b3f.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F54db04bc-ae85-caee-a557-ee10bcde8b3f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=7a872461503f3e8baeee558204ea3ded 1x" loading="lazy"></a></p>

<p>全ての入力が問題なく完了しますと、⑧の「プレイスメントの作成」ボタンが押せるようになりますので、そのままクリックします。<br>
　　<a href="https://camo.qiitausercontent.com/96096b1e01adeead1ad37687b6363de184bfcddf/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f38303061653035612d616462392d383038322d363566642d3264303531333137613834652e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F800ae05a-adb9-8082-65fd-2d051317a84e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=82e6975acc69fd42d3f1b4e9cab17707" width="70%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/800ae05a-adb9-8082-65fd-2d051317a84e.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F800ae05a-adb9-8082-65fd-2d051317a84e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=cb961f442be085145cb560b9c6dabb34 1x" loading="lazy"></a></p>

<p>次の画面が表示されたら、プレイスメントの作成は成功です。<br>
　　<a href="https://camo.qiitausercontent.com/1a8e45c8a13027f5f9c69e69814a62dbb6b228da/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f66346639333230322d613163312d633334652d633036372d6334396430656464616237302e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Ff4f93202-a1c1-c34e-c067-c49d0eddab70.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=9a3323b9282dd805097cba5a658ecfa9" width="45%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/f4f93202-a1c1-c34e-c067-c49d0eddab70.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Ff4f93202-a1c1-c34e-c067-c49d0eddab70.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=987fa1dd0960700caefdb38594a6ebfe 1x" loading="lazy"></a></p>

<h1>
<span id="soracomでやること" class="fragment"></span><a href="#soracom%E3%81%A7%E3%82%84%E3%82%8B%E3%81%93%E3%81%A8"><i class="fa fa-link"></i></a>SORACOMでやること</h1>

<p>以下の手順を端折ったままの状態で<strong>1500回クリックしたボタンは見事に文鎮化</strong>しますので、末永く使いたい方は要注意です。</p>

<h4>
<span id="デバイスの登録" class="fragment"></span><a href="#%E3%83%87%E3%83%90%E3%82%A4%E3%82%B9%E3%81%AE%E7%99%BB%E9%8C%B2"><i class="fa fa-link"></i></a>デバイスの登録</h4>

<p><a href="https://console.soracom.io/" rel="nofollow noopener" target="_blank">SORACOMユーザーコンソール</a>から、画面左上にある「Menu」ボタンを押して「ガジェット → Buttons」を選択します。<br>
すると次の画面が表示されますので、①の「＋デバイス登録」ボタンを押します。<br>
　　<a href="https://camo.qiitausercontent.com/7f9f836a9efc707306d4f93f1bbcd63b3f0efc7e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f62373961346235322d663863362d376363652d656635622d3637656265386561363834322e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fb79a4b52-f8c6-7cce-ef5b-67ebe8ea6842.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=5be877690d95cf8c6c869793ef76df25" width="70%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/b79a4b52-f8c6-7cce-ef5b-67ebe8ea6842.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fb79a4b52-f8c6-7cce-ef5b-67ebe8ea6842.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=ebeb6f0bd9c60dff74ddb132386ba2bd 1x" loading="lazy"></a></p>

<p>ウィンドウが開きますので、既に控えてある<strong>デバイスID</strong>を②の「製造番号」に入力して、③の「登録」ボタンを押します。<br>
　　<a href="https://camo.qiitausercontent.com/3461862586626922c07da0499ebfa0d2bdae119e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f36613132643664302d343836612d323439392d336332622d3465316161313831336134652e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F6a12d6d0-486a-2499-3c2b-4e1aa1813a4e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=79e65982eb48b748dae9dd00257e0074" width="50%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/6a12d6d0-486a-2499-3c2b-4e1aa1813a4e.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F6a12d6d0-486a-2499-3c2b-4e1aa1813a4e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=47faddcc8a3a316712788b2e3bae186d 1x" loading="lazy"></a></p>

<p>次の画面のように、該当のデバイスIDが追加されていたら成功です。<br>
　　<a href="https://camo.qiitausercontent.com/49483e0be70ed9afee61523d7357a95df8c70f84/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f61643231656432372d383936362d346439392d633365302d6463333861623138366364632e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fad21ed27-8966-4d99-c3e0-dc38ab186cdc.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=a1ed6b51abaca1787b7eecf8374ec5f4" width="70%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/ad21ed27-8966-4d99-c3e0-dc38ab186cdc.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fad21ed27-8966-4d99-c3e0-dc38ab186cdc.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=e5fcb010bd846d8ba2234ebaeb1dd6ae 1x" loading="lazy"></a></p>

<h1>
<span id="visual-studio-でやること" class="fragment"></span><a href="#visual-studio-%E3%81%A7%E3%82%84%E3%82%8B%E3%81%93%E3%81%A8"><i class="fa fa-link"></i></a>Visual Studio でやること</h1>

<p>ここからは <strong>AWS Toolkit for Visual Studio</strong> のインストールが完了していることが前提ですので、ご注意ください。<br>
詳しくは、次の記事をご参照ください。</p>

<p>　<a href="https://www.aruse.net/entry/2018/10/18/183346" rel="nofollow noopener" target="_blank">AWS Lambda関数をC#で書いて実行するまで</a></p>

<h3>
<span id="visual-studio-プロジェクトの作成" class="fragment"></span><a href="#visual-studio-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90"><i class="fa fa-link"></i></a>Visual Studio プロジェクトの作成</h3>

<p>Lambda関数をデプロイするための「新しいプロジェクト」を「ファイル → 新規作成 → プロジェクト」の手順で作成します。<br>
①左側のペインから「Visual C# → AWS Lambda」を選び、②右側のペインで「AWS Lambda Project (.NET core)」を選択、③<strong>Visual Studio プロジェクトの名前</strong>を設定して（当記事では"AWSLambda1"）、④「OK」ボタンを押します。<br>
　　<a href="https://camo.qiitausercontent.com/8228f249af8dc21e4842a6b1dc7e82ec33250363/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f35316534616664642d323433322d383663662d333138652d6533663133633665643766612e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F51e4afdd-2432-86cf-318e-e3f13c6ed7fa.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=497a9a9f3e45a34ba68d6e87204d65d1" width="90%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/51e4afdd-2432-86cf-318e-e3f13c6ed7fa.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F51e4afdd-2432-86cf-318e-e3f13c6ed7fa.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=2e52753ea43b1a0291ea4349d0b7162a 1x" loading="lazy"></a></p>

<p>自動的に<strong>New AWS Lambda C# Project</strong> のウィンドウが開きますので、⑤「Empty Function」を選択して、⑥「Finish」ボタンを押します。<br>
　　<a href="https://camo.qiitausercontent.com/a01e9978ebe2ac1f367a986e0131a581b0741424/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f32373438316637662d663164382d613734372d613232352d6538303036366137346234362e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F27481f7f-f1d8-a747-a225-e80066a74b46.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=253e94f6067f9d1ee827054ea952e54a" width="90%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/27481f7f-f1d8-a747-a225-e80066a74b46.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F27481f7f-f1d8-a747-a225-e80066a74b46.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=290701fb9650d72fba3f6429f9436772 1x" loading="lazy"></a></p>

<h3>
<span id="コードの入れ換え" class="fragment"></span><a href="#%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E5%85%A5%E3%82%8C%E6%8F%9B%E3%81%88"><i class="fa fa-link"></i></a>コードの入れ換え</h3>

<p>ソリューション エクスプローラーで<code>Function.cs</code>を開くと、次のコードが自動的に生成されているのが確認できます。</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">Function.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Threading.Tasks</span><span class="p">;</span>

<span class="k">using</span> <span class="nn">Amazon.Lambda.Core</span><span class="p">;</span>

<span class="c1">// Assembly attribute to enable the Lambda function's JSON input to be converted into a .NET class.</span>
<span class="p">[</span><span class="n">assembly</span><span class="p">:</span> <span class="nf">LambdaSerializer</span><span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="n">Amazon</span><span class="p">.</span><span class="n">Lambda</span><span class="p">.</span><span class="n">Serialization</span><span class="p">.</span><span class="n">Json</span><span class="p">.</span><span class="n">JsonSerializer</span><span class="p">))]</span>

<span class="k">namespace</span> <span class="nn">AWSLambda1</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">Function</span>
    <span class="p">{</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// A simple function that takes a string and does a ToUpper</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="input"&gt;&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="context"&gt;&lt;/param&gt;</span>
        <span class="c1">/// &lt;returns&gt;&lt;/returns&gt;</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="nf">FunctionHandler</span><span class="p">(</span><span class="kt">string</span> <span class="n">input</span><span class="p">,</span> <span class="n">ILambdaContext</span> <span class="n">context</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">input</span><span class="p">?.</span><span class="nf">ToUpper</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>上記のコード<code>Function.cs</code>の中身を、まるごと下記のコードと入れ替えます。</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">Function.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Threading.Tasks</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Net.Http</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Newtonsoft.Json</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Newtonsoft.Json.Linq</span><span class="p">;</span>

<span class="k">using</span> <span class="nn">Amazon.Lambda.Core</span><span class="p">;</span>

<span class="c1">// Assembly attribute to enable the Lambda function's JSON input to be converted into a .NET class.</span>
<span class="p">[</span><span class="n">assembly</span><span class="p">:</span> <span class="nf">LambdaSerializer</span><span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="n">Amazon</span><span class="p">.</span><span class="n">Lambda</span><span class="p">.</span><span class="n">Serialization</span><span class="p">.</span><span class="n">Json</span><span class="p">.</span><span class="n">JsonSerializer</span><span class="p">))]</span>

<span class="k">namespace</span> <span class="nn">AWSLambda1</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">Function</span>
    <span class="p">{</span>
        <span class="k">private</span> <span class="k">static</span> <span class="n">HttpClient</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">HttpClient</span><span class="p">();</span>

        <span class="c1">/// Lambdaから呼ばれるメソッド</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="nf">FunctionHandler</span><span class="p">(</span><span class="n">JObject</span> <span class="n">request</span><span class="p">,</span> <span class="n">ILambdaContext</span> <span class="n">context</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">bool</span> <span class="n">isSuccess</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">customerCode</span> <span class="p">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">request</span><span class="p">[</span><span class="s">"placementInfo"</span><span class="p">][</span><span class="s">"attributes"</span><span class="p">][</span><span class="s">"customer_code"</span><span class="p">]);</span>  <span class="c1">// 予め placementInfo → attributes → customer_code に設定済みの「お客様番号」をHash化</span>
            <span class="c1">// Azure上にある別のWebサービス(Login Portal)にアクセス</span>
            <span class="kt">string</span> <span class="n">hashCode</span> <span class="p">=</span> <span class="nf">GetHashCode</span><span class="p">(</span><span class="n">customerCode</span><span class="p">);</span>
            <span class="kt">string</span> <span class="n">url</span> <span class="p">=</span> <span class="s">"https://loginto.azurewebsites.net/ThatButton/"</span> <span class="p">+</span> <span class="n">hashCode</span><span class="p">;</span>
            <span class="kt">string</span> <span class="n">json</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">GetStringAsync</span><span class="p">(</span><span class="n">url</span><span class="p">).</span><span class="n">Result</span><span class="p">;</span>
            <span class="c1">// 応答(Json)の解析</span>
            <span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="n">DeserializeObject</span><span class="p">&lt;</span><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;&gt;(</span><span class="n">json</span><span class="p">);</span>     <span class="c1">// 単純な構造のため、KeyValue(Dictionary型)で応答をデシリアライズ</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">ContainsKey</span><span class="p">(</span><span class="s">"isSuccess"</span><span class="p">))</span>                                              <span class="c1">// 成否判定用のステータス"isSuccess"が(無事に)含まれているか？</span>
            <span class="p">{</span>
                <span class="n">isSuccess</span> <span class="p">=</span> <span class="n">Convert</span><span class="p">.</span><span class="nf">ToBoolean</span><span class="p">(</span><span class="n">response</span><span class="p">[</span><span class="s">"isSuccess"</span><span class="p">]);</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="n">isSuccess</span><span class="p">.</span><span class="nf">ToString</span><span class="p">();</span>                                                        <span class="c1">// ログインの成否 (成功="True" or 失敗="False")</span>
        <span class="p">}</span>

        <span class="c1">/// 引数をSHA-1でHash化して返すメソッド</span>
        <span class="k">private</span> <span class="kt">string</span> <span class="nf">GetHashCode</span><span class="p">(</span><span class="kt">int</span> <span class="n">customerCode</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">System</span><span class="p">.</span><span class="n">Security</span><span class="p">.</span><span class="n">Cryptography</span><span class="p">.</span><span class="n">HashAlgorithm</span> <span class="n">ha1</span> <span class="p">=</span> <span class="k">new</span> <span class="n">System</span><span class="p">.</span><span class="n">Security</span><span class="p">.</span><span class="n">Cryptography</span><span class="p">.</span><span class="nf">SHA1CryptoServiceProvider</span><span class="p">();</span>
            <span class="kt">byte</span><span class="p">[]</span> <span class="n">hash</span> <span class="p">=</span> <span class="n">ha1</span><span class="p">.</span><span class="nf">ComputeHash</span><span class="p">(</span><span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">.</span><span class="nf">GetBytes</span><span class="p">(</span><span class="n">customerCode</span><span class="p">.</span><span class="nf">ToString</span><span class="p">()));</span>
            <span class="k">return</span> <span class="n">BitConverter</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(</span><span class="n">hash</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>このコードでは、既にプレイスメントで設定済みの<strong>お客様番号</strong><code>customer_code</code>の数字を大文字でSHA-1ハッシュ化します。次にその文字列を、<code>loginto.azurewebsites.net/ThatButton/</code>の後にパスの一部として付加してからGETします。<br>
例えば、<code>customer_code</code>に「100」を設定している場合のURLは次の通りです。</p>

<p>　<a href="https://loginto.azurewebsites.net/ThatButton/310B86E0B62B828562FC91C7BE5380A992B2786A" class="autolink" rel="nofollow noopener" target="_blank">https://loginto.azurewebsites.net/ThatButton/310B86E0B62B828562FC91C7BE5380A992B2786A</a></p>

<h3>
<span id="デプロイ" class="fragment"></span><a href="#%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4"><i class="fa fa-link"></i></a>デプロイ</h3>

<p>さて、<code>Function.cs</code>の入れ替えが完了しましたら、いよいよLambdaへデプロイしてみます。<br>
ソリューション エクスプローラーでプロジェクトの名前を右クリックして、「Publish to AWS Lambda…」を選びます。<br>
　　<a href="https://camo.qiitausercontent.com/ef685db7eaef7630939a4011b4e1575638f24ad1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f30633564303438372d646134342d356533612d333838392d6661333533356230623634362e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F0c5d0487-da44-5e3a-3889-fa3535b0b646.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=0dd5bd70f9f9b1268f1a2a4135309d56" width="50%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/0c5d0487-da44-5e3a-3889-fa3535b0b646.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F0c5d0487-da44-5e3a-3889-fa3535b0b646.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=45325977442c33485db0b3e00bce378f 1x" loading="lazy"></a></p>

<p>すると次のウィンドウが開きますので、「Region:」表示が実際に<strong>Lambda関数を作ったリージョンと同じ</strong>かどうかを確認しつつ、①「Function Name:」で<strong>作成済みのLambda関数の名前</strong>（当記事では"button-login"）を選択し、②「Next」ボタンを押します。<br>
　　<a href="https://camo.qiitausercontent.com/194940fd3245fa1d0eae8fd9af9da448f1086f94/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f37616137323136612d613432372d623765342d303666392d3064306531666662643265622e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F7aa7216a-a427-b7e4-06f9-0d0e1ffbd2eb.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d0dc6575e37693132e44f4a468526b0a" width="75%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/7aa7216a-a427-b7e4-06f9-0d0e1ffbd2eb.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F7aa7216a-a427-b7e4-06f9-0d0e1ffbd2eb.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=50ee8322e597f8994f2d871456831eac 1x" loading="lazy"></a></p>

<p>③「Role Name:」のドロップダウンボタンを押してリストを表示させ、その中の④「Exisiting IAM Roles → <strong>lambda_basic_execution</strong>」を選択し、⑤「Upload」ボタンを押します。<br>
　　<a href="https://camo.qiitausercontent.com/aa7c1eb414e6ffa1fd94cae2d828d57ef2156af7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f64316531653437312d626539302d656234322d326362362d3261326232303835333961362e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fd1e1e471-be90-eb42-2cb6-2a2b208539a6.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=2f8b16ac3fa906dcd665360a83ee8839" width="75%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/d1e1e471-be90-eb42-2cb6-2a2b208539a6.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fd1e1e471-be90-eb42-2cb6-2a2b208539a6.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=12ac702145609eab0531fc028d5b5603 1x" loading="lazy"></a><br>
　　<a href="https://camo.qiitausercontent.com/f3ac6029b871e8fcb2ca5416dcaddc5b9a2fa23f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f35366562613339662d333630332d333762302d316633362d3665626236333763333331312e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F56eba39f-3603-37b0-1f36-6ebb637c3311.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=6202294ff564fe592a613eb74e61cb43" width="95%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/56eba39f-3603-37b0-1f36-6ebb637c3311.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F56eba39f-3603-37b0-1f36-6ebb637c3311.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=831073e403f9e78d888f2dbf264ddf54 1x" loading="lazy"></a></p>

<p>しばし待ちます。<br>
　　<a href="https://camo.qiitausercontent.com/5effa75572f7f4cbab33d7384fdef65fc13a5c9e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f62333362323561302d636165302d643435642d656536302d3138663130326262316331332e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fb33b25a0-cae0-d45d-ee60-18f102bb1c13.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=89c07f0c7698f3da2d6576d1739ed8d1" width="40%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/b33b25a0-cae0-d45d-ee60-18f102bb1c13.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fb33b25a0-cae0-d45d-ee60-18f102bb1c13.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=c8e4954165a666fddc15aa9218e61bcd 1x" loading="lazy"></a></p>

<p>完了すると、次の画面が表示されます。<br>
デプロイの成否を確認するには、「Sample Input ペイン」の①に下記のJSON（貼り付ける.js）をコピペして、②の「Invoke」ボタンを押します。<br>
　　<a href="https://camo.qiitausercontent.com/224cfdcf649fc32e6567bbfe8b7cae9315da33b4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f65343962303135392d376233662d346130362d366263642d3134393335316434306330382e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fe49b0159-7b3f-4a06-6bcd-149351d40c08.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=c25ed60e50c1e0903d448d31741c6630" width="95%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/e49b0159-7b3f-4a06-6bcd-149351d40c08.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fe49b0159-7b3f-4a06-6bcd-149351d40c08.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=367e2ca4dd2596ddb975e929dc06149b 1x" loading="lazy"></a><br>
（貼り付けるJSONは ↓ です）</p>

<div class="code-frame" data-lang="javascript">
<div class="code-lang"><span class="bold">貼り付ける.js</span></div>
<div class="highlight"><pre class="with-code"><code><span class="p">{</span> 
    <span class="dl">"</span><span class="s2">deviceInfo</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span> 
        <span class="dl">"</span><span class="s2">deviceId</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">XXXXXXXXXXXXXXXX</span><span class="dl">"</span><span class="p">,</span> 
        <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">button</span><span class="dl">"</span><span class="p">,</span> 
        <span class="dl">"</span><span class="s2">remainingLife</span><span class="dl">"</span><span class="p">:</span> <span class="mf">99.933334</span><span class="p">,</span> 
        <span class="dl">"</span><span class="s2">attributes</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span> 
            <span class="dl">"</span><span class="s2">projectRegion</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ap-northeast-1</span><span class="dl">"</span><span class="p">,</span> 
            <span class="dl">"</span><span class="s2">projectName</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">projectName</span><span class="dl">"</span><span class="p">,</span> 
            <span class="dl">"</span><span class="s2">placementName</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">placementName</span><span class="dl">"</span><span class="p">,</span> 
            <span class="dl">"</span><span class="s2">deviceTemplateName</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">deviceTemplateName</span><span class="dl">"</span> 
        <span class="p">}</span> 
    <span class="p">},</span> 
    <span class="dl">"</span><span class="s2">deviceEvent</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span> 
        <span class="dl">"</span><span class="s2">buttonClicked</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span> 
            <span class="dl">"</span><span class="s2">clickType</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">SINGLE</span><span class="dl">"</span><span class="p">,</span> 
            <span class="dl">"</span><span class="s2">reportedTime</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2018-11-05T04:29:01.950Z</span><span class="dl">"</span> 
        <span class="p">}</span> 
    <span class="p">},</span> 

    <span class="dl">"</span><span class="s2">placementInfo</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span> 
        <span class="dl">"</span><span class="s2">projectName</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">projectName</span><span class="dl">"</span><span class="p">,</span> 
        <span class="dl">"</span><span class="s2">placementName</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ButtonName</span><span class="dl">"</span><span class="p">,</span> 
        <span class="dl">"</span><span class="s2">attributes</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span> 
            <span class="dl">"</span><span class="s2">customer_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">100</span><span class="dl">"</span> 
        <span class="p">},</span> 
        <span class="dl">"</span><span class="s2">devices</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span> 
            <span class="dl">"</span><span class="s2">deviceTemplateName</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">XXXXXXXXXXXXXXXX</span><span class="dl">"</span> 
        <span class="p">}</span> 
    <span class="p">}</span> 
<span class="p">}</span> 
</code></pre></div>
</div>

<p>その結果、③の「Responseペイン」に <strong>"False"</strong> が帰ってきたら成功です。<br>
ちなみに初回の起動時のみ、Lambda関数が動き出すまで若干の待ち時間があります。</p>

<p>※ もし、エラーメッセージ "errorMessage": "Unable to load type …" が返ってくる場合は、Visual Studio プロジェクトの名前とソースコードの<code>namespace</code>が同じかどうかを確認してみてください。</p>

<h1>
<span id="試してみる" class="fragment"></span><a href="#%E8%A9%A6%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B"><i class="fa fa-link"></i></a>試してみる！</h1>

<p>ここまで問題なく完了しましたら、次の<a href="https://loginto.azurewebsites.net/" rel="nofollow noopener" target="_blank">Webサイト</a>にアクセスして、実際の挙動を試してみることが出来ます。<br>
※ 大人の(懐の)事情で、初回起動がヒジョーに遅いです &lt;(_ _)&gt;</p>

<p>　 <a href="https://loginto.azurewebsites.net/" rel="nofollow noopener" target="_blank">ログインポータル 実験サイト</a>　　　<a href="https://camo.qiitausercontent.com/922c1a345b79a3bcd27f6117059223baac5f9bec/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f65336630316436392d306632302d356538302d613537342d3466306263636565313662392e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fe3f01d69-0f20-5e80-a574-4f0bccee16b9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=f260f94cdb412bf699a3bf55a74d1489" width="15%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/318815/e3f01d69-0f20-5e80-a574-4f0bccee16b9.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fe3f01d69-0f20-5e80-a574-4f0bccee16b9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=9fc78b63e46e78fa6159a655999cc9f6 1x" loading="lazy"></a></p>

<p>Webサイトの使い方は、プレイスメントの項で設定した<strong>お客様番号</strong>を入力して<strong>ログイン</strong>ボタンを押すだけです。 詳しくは、記事冒頭のYouTube動画をご覧くださいませ <img alt=":grin:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/1f601.png" title=":grin:" width="20" loading="lazy"></p>

<h1>
<span id="まとめ" class="fragment"></span><a href="#%E3%81%BE%E3%81%A8%E3%82%81"><i class="fa fa-link"></i></a>まとめ</h1>

<p>一旦認証が完了した後のページ間のやり取りには、ハッシュ化したお客様番号に紐付くワンタイムのGUIDが振り出され、それをURLのクエリとして用いることで、更なるセキュリティを担保しています。<br>
当記事ではURLを短く表現したいためにSHA-1を用いていますが、強度に問題があるため実利用は非推奨です。<br>
また、AWSとAzure間の接続にはSSL(TLS)を使っていますが、更にVPNを使うなどの配慮が要るかもしれません。</p>

<p>今回の仕組みのキモは、いついかなる時でも<strong>一対一でしか繋がらないことをロジックで保証</strong>して（強制的に排他的な状況を作り出して）いるところなのですが、当記事は既に長文となってしまいましたので、認証の内部的な仕組み（特にAzureの部分）については、また別の機会に紹介させていただければと思います。</p>

<p>（ツイッターフォローは<a href="https://twitter.com/SAMonodera?ref_src=twsrc%5Etfw" class="" rel="nofollow noopener" target="_blank"><strong>こちら</strong></a><script async src="https://platform.twitter.com/widgets.js"></script>）</p>

<h1>
<span id="参考" class="fragment"></span><a href="#%E5%8F%82%E8%80%83"><i class="fa fa-link"></i></a>参考</h1>

<p>SORACOM公式：<br>
　<a href="https://dev.soracom.io/jp/aws_button/what-is-aws-button/" rel="nofollow noopener" target="_blank">SORACOM LTE-M Button powered by AWS ユーザーガイド</a><br>
　<a href="https://dev.soracom.io/jp/start/aws_button_registration/" rel="nofollow noopener" target="_blank">SORACOM LTE-M Button powered by AWS をソラコムのガジェット管理に登録する</a><br>
　<a href="https://www.slideshare.net/SORACOM/soracom-technology-camp-2018-4-soracom-ltem-button" rel="nofollow noopener" target="_blank">SORACOM LTE-M Button の始め方</a><br>
　<a href="https://blog.soracom.jp/blog/2018/11/07/tips-of-soracom-lte-m-button/" rel="nofollow noopener" target="_blank">SORACOM LTE-M Button powered by AWS を用いた開発 TIPS</a><br>
　<a href="https://dev.soracom.io/jp/start/aws_button_slack/" rel="nofollow noopener" target="_blank">SORACOM LTE-M Button powered by AWS をクリックしてSlackに通知する</a></p>

<p>AWS公式：<br>
　<a href="https://aws.amazon.com/jp/blogs/news/aws-iot-1-click-use-simple-devices-to-trigger-lambda-functions/" rel="nofollow noopener" target="_blank">AWS IoT 1-Click – Lambda 関数のトリガーにシンプルなデバイスを使用する</a></p>

<p>その他：<br>
　<a href="https://dev.classmethod.jp/cloud/visual-studio-for-mac-lambda-csharp/" rel="nofollow noopener" target="_blank">Visual Studio for Mac で AWS Lambda（C#）ファンクションを作成してみた</a><br>
　<a href="https://www.aruse.net/entry/2018/10/18/183346" rel="nofollow noopener" target="_blank">AWS Lambda関数をC#で書いて実行するまで</a><br>
　 ↑ これがなければLambda周りでハマっていたと思います。ありがとうございます ;)<br>
　<a href="https://tool-taro.com/hash/" rel="nofollow noopener" target="_blank">SHA2/SHA1/MD5ハッシュ生成(Hash Generator)</a></p>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2FSamOnodera%2Fitems%2Febfe67f3e7725d6fdaaa&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2FSamOnodera%2Fitems%2Febfe67f3e7725d6fdaaa&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/SamOnodera/items/ebfe67f3e7725d6fdaaa/likers" class="css-1iupg5d">5</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">1</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/ebfe67f3e7725d6fdaaa/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/SamOnodera/items/ebfe67f3e7725d6fdaaa/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/SamOnodera/items/ebfe67f3e7725d6fdaaa/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/SamOnodera/items/ebfe67f3e7725d6fdaaa/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/SamOnodera/items/ebfe67f3e7725d6fdaaa.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-0f2dac19-1fc0-4f90-b684-a016504fc296">{"authorAnalyticsTrackingId":"UA-132743374-1","organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-89dfb96e-11a5-45e1-8ba7-04a3f8790968"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-89dfb96e-11a5-45e1-8ba7-04a3f8790968">{}</script>
      
<div id="LoginModal-react-component-910a6ba3-71ea-446f-8693-59973bc16fe6"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-910a6ba3-71ea-446f-8693-59973bc16fe6">{}</script>
      
<div id="StockModal-react-component-85981fe5-747c-4d3f-9ad9-e6e9eb0fc30d"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-85981fe5-747c-4d3f-9ad9-e6e9eb0fc30d">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;xv60YR6cKk84aKpjv4ZlN5UQx1UTeAd/AVRSwCkNh3ISyCHGR0XOgiolLUYbWoIk6djos2xTzWZyfg7qVNqHVQ==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\n\u003ch1\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\n\u003cp\u003eこれは、SORACOM Technology Camp 2018のナイトイベントLTで発表した内容を、\u003cstrong\u003eハンズオン風味\u003c/strong\u003eで追体験が出来るように記事化したものです。\u003c/p\u003e\n\n\u003cp\u003e　 \u003ca href=\"https://sway.office.com/aLvw76zMbP4CM4oW?ref=Link\u0026amp;loc=play\" rel=\"nofollow noopener\" target=\"_blank\"\u003e【スライド】　もういい加減、パスワード使うの止めにしません？\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e本作品は、 SIM付きボタン(SORACOM LTE-M Button)を使って、簡単かつ安全なパスワードレス認証の可能性を実証したものです。\u003cbr\u003e\nボタンを押すだけで、セキュアにログインすることが可能なソリューションとなっています。\u003cbr\u003e\nその特徴は次の通りです。\u003c/p\u003e\n\n\u003cp\u003e　① 簡単: 箱から開けて電池を入れるだけで動作開始\u003cbr\u003e\n　② 安全: SIMそのものが持つ仕組み(耐ダンパー性)を使って認証するため、非常にセキュア\u003c/p\u003e\n\n\u003cp\u003e具体的には、一つ目の認証キーとしてユニークなIDとなる\u003cstrong\u003eお客様番号\u003c/strong\u003eを、二つ目の認証キーとして(あの)\u003cstrong\u003eボタン\u003c/strong\u003eを使っています。\u003cbr\u003e\n一旦認証が完了した後のページ間のやり取りには、ハッシュ化したお客様番号に紐付くワンタイムのGUIDが振り出され、それをURLのクエリとして用いることで、更なるセキュリティを担保しています。\u003cbr\u003e\nまたログイン用のWebページは、\u003cstrong\u003eログイン認証からログイン後のメニューまでを同一ページ内で動的に生成しているため、基本的にフィッシングの被害に合いようがありません\u003c/strong\u003e。\u003c/p\u003e\n\n\u003cp\u003eそれを実際に複数のブラウザで試してみた様子がコチラです。\u003c/p\u003e\n\n\u003cp\u003e　 \u003ca href=\"https://youtu.be/j0yQEK7JsTA\" rel=\"nofollow noopener\" target=\"_blank\"\u003e【動画】　多要素認証のキーとして、LTE-Mボタンを使ってみた（音声は流れません）\u003c/a\u003e\u003cbr\u003e\n　　\u003ca href=\"http://www.youtube.com/watch?v=j0yQEK7JsTA\" rel=\"nofollow noopener\" target=\"_blank\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/http%3A%2F%2Fimg.youtube.com%2Fvi%2Fj0yQEK7JsTA%2F0.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4cc249def1130008398b368a8032a616\" alt=\"多要素認証のキーとして、LTE-Mボタンを使ってみた\" data-canonical-src=\"http://img.youtube.com/vi/j0yQEK7JsTA/0.jpg\" srcset=\"https://qiita-user-contents.imgix.net/http%3A%2F%2Fimg.youtube.com%2Fvi%2Fj0yQEK7JsTA%2F0.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=a6320c3883b251194ae9f026a6052ce1 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e全体の構成は、次のようになっています。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/056db6ada5ae464afd4ec8d4e084367817c25809/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f30643438343362372d333334332d653961352d343635622d3334393735346664333163332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F0d4843b7-3343-e9a5-465b-349754fd31c3.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=aae28ab7c9026d7ed1cee70109973a5d\" width=\"90%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/0d4843b7-3343-e9a5-465b-349754fd31c3.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F0d4843b7-3343-e9a5-465b-349754fd31c3.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=950d5ad736cae4cb5f5bc128d4e77361 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"今回使ったもの\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BB%8A%E5%9B%9E%E4%BD%BF%E3%81%A3%E3%81%9F%E3%82%82%E3%81%AE\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e今回使ったもの\u003c/h1\u003e\n\n\u003cul\u003e\n\u003cli\u003eSORACOM LTE-M Button powered by AWS\u003c/li\u003e\n\u003cli\u003eVisual Studio 2017\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"cでlambdaを書くために必要なこと\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#c%E3%81%A7lambda%E3%82%92%E6%9B%B8%E3%81%8F%E3%81%9F%E3%82%81%E3%81%AB%E5%BF%85%E8%A6%81%E3%81%AA%E3%81%93%E3%81%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eC#でLambdaを書くために必要なこと\u003c/h1\u003e\n\n\u003cp\u003eC#でLambdaを扱ったことがない方は、事前に準備が必要です。\u003cbr\u003e\nこちらに解りやすい記事がありますので、先に一通り実践されることをオススメします。\u003c/p\u003e\n\n\u003cp\u003e　\u003ca href=\"https://www.aruse.net/entry/2018/10/18/183346\" rel=\"nofollow noopener\" target=\"_blank\"\u003eAWS Lambda関数をC#で書いて実行するまで\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"awsでやること\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#aws%E3%81%A7%E3%82%84%E3%82%8B%E3%81%93%E3%81%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAWSでやること\u003c/h1\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"lambda関数を作る\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#lambda%E9%96%A2%E6%95%B0%E3%82%92%E4%BD%9C%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eLambda関数を作る\u003c/h3\u003e\n\n\u003cp\u003e\u003ca href=\"https://ap-northeast-1.console.aws.amazon.com/lambda/home\" rel=\"nofollow noopener\" target=\"_blank\"\u003eAWSマネジメントコンソールから「Lambda」を選択\u003c/a\u003eして、左側ペインから①の「関数」を選び、②の「関数の作成」ボタンを押します。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/1d683f45779dd81baa3194d9fe0c99cd952c569e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f61336535306131312d623134622d383734612d356235332d6434343537313637333035362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fa3e50a11-b14b-874a-5b53-d44571673056.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=9a8ebd9c8fffb95e9607a94e0b5fc644\" width=\"90%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/a3e50a11-b14b-874a-5b53-d44571673056.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fa3e50a11-b14b-874a-5b53-d44571673056.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9a4f068c2ec8b7144cd54ddea0b9a787 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e次の画面に遷移しますので、③の「一から作成」を選択し、④に適当な名前（当記事では\"button-login\"）を入力、⑤のランタイムで「.NET Core 2.1 (C#/PowerShell)」を選択、⑥のロールではドロップダウンボタンを押してリストを表示させた後で、⑦で「カスタムロールの作成」を選択します。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/bde847c995e807accacde932a9bf84e0306823f9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f35613938623264392d366135382d366634332d333661662d6633383531656530656530662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F5a98b2d9-6a58-6f43-36af-f3851ee0ee0f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=f20d5ce20b440d4b8b8165fedbe52c1b\" width=\"90%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/5a98b2d9-6a58-6f43-36af-f3851ee0ee0f.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F5a98b2d9-6a58-6f43-36af-f3851ee0ee0f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=0265ce24bebfa10889a3ec9093e7d063 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eすると次の画面が別のタブとして開きますので、\u003cstrong\u003eIAM ロール\u003c/strong\u003eが「lambda_basic_execution」となっていることを確認して、⑧の「許可」ボタンを押します。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/11b9400421b336f814c9e34cb3afe13c79a429d0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f66333263313966372d376533312d303730312d663764622d3737633331663533303732632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Ff32c19f7-7e31-0701-f7db-77c31f53072c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=df977e9f048aba9f33a3062f77b2cec5\" width=\"90%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/f32c19f7-7e31-0701-f7db-77c31f53072c.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Ff32c19f7-7e31-0701-f7db-77c31f53072c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=5335839169c9cb6d4485caaac0655993 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e⑨名前、⑩ランタイム、⑪ロール、⑫既存のロール、が次のように全て埋まっていることを確認して、⑬の「関数の作成」ボタンを押します。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/97c1ece0255b1d0b3e85f95d180372c83d56c0d4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f34323534383036382d613263302d353731662d386237362d3838313336663238633630392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F42548068-a2c0-571f-8b76-88136f28c609.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=922647735e8d2de6dd45c38586c777b7\" width=\"90%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/42548068-a2c0-571f-8b76-88136f28c609.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F42548068-a2c0-571f-8b76-88136f28c609.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=b181e6e141f45fc3cf30c3c0463fc57a 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e次の画面のように、\u003cstrong\u003e正常に作成されました\u003c/strong\u003eのメッセージが表示されたら、関数の作成は無事完了です。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/65e6733969456b69ac66c73b2b47ae984089d7ac/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f30336238313339362d393838622d343265342d363733612d3464336234303037363330642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F03b81396-988b-42e4-673a-4d3b4007630d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=484624ae7a31b4b5b228e948b8f89587\" width=\"90%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/03b81396-988b-42e4-673a-4d3b4007630d.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F03b81396-988b-42e4-673a-4d3b4007630d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=b737061403f76fd3e448a79dcd058084 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"あのボタンを登録する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%82%E3%81%AE%E3%83%9C%E3%82%BF%E3%83%B3%E3%82%92%E7%99%BB%E9%8C%B2%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eあのボタンを登録する\u003c/h3\u003e\n\n\u003cp\u003e\u003ca href=\"https://ap-northeast-1.console.aws.amazon.com/iot1click/home\" rel=\"nofollow noopener\" target=\"_blank\"\u003eAWSマネジメントコンソールから「IoT 1-Click」を選択\u003c/a\u003eして、①の左側ペインから「オンボード」を選び、②の「デバイスの登録」ボタンを押します。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/b1d83d01d338b4ab712735331cd531495ccc3399/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f61636538663332392d346239642d393330382d663434652d3339363364323032613462642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Face8f329-4b9d-9308-f44e-3963d202a4bd.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=cba76d7a0717c946c6da432c3737761d\" width=\"80%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/ace8f329-4b9d-9308-f44e-3963d202a4bd.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Face8f329-4b9d-9308-f44e-3963d202a4bd.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=055f0e4d6915a1c8e918779659022280 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e③の「登録コードまたは登録するデバイスの ID」に\u003cstrong\u003eあのボタンのDSN\u003c/strong\u003e（DeviceSerialNumber）を入力して、④の「登録」ボタンを押します。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/292554b0744abd38e8fa32956f2989e7a52212f1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f38373033343336322d643230622d303137632d306438332d3333356266666163613065342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F87034362-d20b-017c-0d83-335bffaca0e4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c21d554f9da7d6f9e2b9ad57aae7203d\" width=\"50%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/87034362-d20b-017c-0d83-335bffaca0e4.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F87034362-d20b-017c-0d83-335bffaca0e4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=0c2ba05bb4a3a6afa2314e3d1fb03c8f 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eちなみにDSNは、あのボタンのリアカバーを開けると確認できます。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/725247c7d513fb681b4114e1ae340657a6ee5d30/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f36396137663938652d353937392d646535322d343263652d3863623338626337633233632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F69a7f98e-5979-de52-42ce-8cb38bc7c23c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=910142daded5b216f1a7a956b740e4c1\" width=\"50%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/69a7f98e-5979-de52-42ce-8cb38bc7c23c.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F69a7f98e-5979-de52-42ce-8cb38bc7c23c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ef0713cf9cbc971119d2a81882ac4aad 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e次の画面が表示されたら、あのボタンに\u003cstrong\u003e電池を入れて一回クリック\u003c/strong\u003eします。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/3db2b7e1b7288f79fa8979446095dc5d16684418/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f34336636623365372d343866662d363361382d623831652d3736633265383863393939332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F43f6b3e7-48ff-63a8-b81e-76c2e88c9993.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4d175d300080cb3e3327f1213e90dafd\" width=\"50%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/43f6b3e7-48ff-63a8-b81e-76c2e88c9993.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F43f6b3e7-48ff-63a8-b81e-76c2e88c9993.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e3493abda69879cb53e3325f71a9d339 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e10秒程で次の画面に変わりますので、⑤の「完了」ボタンを押します。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/ace574c0f1569f7d7981c78f41c6486615066353/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f66333863303462622d653137322d363235632d386537382d3336323265333833323736392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Ff38c04bb-e172-625c-8e78-3622e3832769.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7ddd5a8678b6b50388c473c7ee05638e\" width=\"50%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/f38c04bb-e172-625c-8e78-3622e3832769.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Ff38c04bb-e172-625c-8e78-3622e3832769.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=3eb77b1b6c0fd87f9762631f15254b7b 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eすると次の画面（管理 → デバイス）に自動的に戻りますので、設定したデバイスIDの列中にある⑥「・・・」をクリックします。\u003cbr\u003e\nちなみに「デバイスリージョン」はAWS側で自動的に割り振られるため、任意で指定することは出来ません。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/2c4fbce1540e7f3e1adb93be545ad4cdd7b032c8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f38393461613735302d656630342d646239632d386633662d3331356435393661303730382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F894aa750-ef04-db9c-8f3f-315d596a0708.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=53806702891ff52c688df35b0c80fc3a\" width=\"80%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/894aa750-ef04-db9c-8f3f-315d596a0708.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F894aa750-ef04-db9c-8f3f-315d596a0708.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=1023eeb5ae98bb3ca19a35962e0ce7ef 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e⑦の「デバイスの\u003cstrong\u003e有効\u003c/strong\u003e化」を選択します。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/7fedf2af26a9ad92b552d0bf305ad849caaa02b8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f65656336346439652d363266392d613162372d653436662d3932613836363566616265372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Feec64d9e-62f9-a1b7-e46f-92a8665fabe7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=987ec513bed019aa4bfcf4242b839567\" width=\"80%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/eec64d9e-62f9-a1b7-e46f-92a8665fabe7.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Feec64d9e-62f9-a1b7-e46f-92a8665fabe7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ae7952a143008e18bf0f1626c64a20ec 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eこれで、あのボタンの登録が完了しました。\u003cbr\u003e\n画面に表示されている\u003cstrong\u003eデバイスID\u003c/strong\u003eは、後でSORACOMユーザーコンソールからデバイス登録する時に使いますので、控えておいてください。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/f17078c132739ec785d49fbe095d7c3a89468546/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f37383936306666312d366436662d363635382d373538382d3334633736613331663763632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F78960ff1-6d6f-6658-7588-34c76a31f7cc.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b612252926019aa7fc307082916bd817\" width=\"80%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/78960ff1-6d6f-6658-7588-34c76a31f7cc.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F78960ff1-6d6f-6658-7588-34c76a31f7cc.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c8894efb59280637b2ecf1052b7249db 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"プロジェクトを作る\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E4%BD%9C%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eプロジェクトを作る\u003c/h3\u003e\n\n\u003cp\u003e左側のペインから、①の「管理 → プロジェクト」を選び、②の「プロジェクトの作成」ボタンを押します。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/73a93f8ecdc33bf4f0511c8b8b7173e6bccf47c7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f39353363393130302d303961392d306632642d393931352d6333653432313532346232622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F953c9100-09a9-0f2d-9915-c3e421524b2b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=9f792de520b038f60baaae0f85a9c366\" width=\"70%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/953c9100-09a9-0f2d-9915-c3e421524b2b.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F953c9100-09a9-0f2d-9915-c3e421524b2b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c9dd7bab5c72d0b11e47881d5fbd3c80 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e③に任意の「プロジェクト名」（当記事では\"login-portal\"）を入力して、④の「次へ」ボタンを押します。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/8c16fa163551fcd87c3536f77f30b40d25af3357/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f62656631303864382d376637612d653564622d626462642d6433373233653633663130622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fbef108d8-7f7a-e5db-bdbd-d3723e63f10b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=3e30e41d69d1c9af04e4c28912a60693\" width=\"70%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/bef108d8-7f7a-e5db-bdbd-d3723e63f10b.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fbef108d8-7f7a-e5db-bdbd-d3723e63f10b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=25f03e5c23e6d33959bf215096b98f22 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e次の画面に替わりましたら、⑤の「開始」をクリックします。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/7b27c131a42ba62d7d2b7be6d37117cbba13f491/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f62386261346437392d316131632d636232362d333034662d6331373832323434316336632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fb8ba4d79-1a1c-cb26-304f-c17822441c6c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=73acb251f063ae2fe3b0772da23f0ab2\" width=\"70%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/b8ba4d79-1a1c-cb26-304f-c17822441c6c.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fb8ba4d79-1a1c-cb26-304f-c17822441c6c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=89e8939b620c9507a3b564da1c1ee6e3 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e⑥の「すべてのボタンタイプ」をクリックします。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/1e10a1b123f8c69fbb9b333b2e63ac598577fc2e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f34613966616135342d656436382d643833632d643338612d3036393730666131386431332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F4a9faa54-ed68-d83c-d38a-06970fa18d13.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=aa393bdb04d4a1f0b7ad43457b5d66dd\" width=\"70%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/4a9faa54-ed68-d83c-d38a-06970fa18d13.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F4a9faa54-ed68-d83c-d38a-06970fa18d13.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=16be0d9c6e0824be8edc7472e1fc5e26 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e画面が遷移すると、オレンジ色の文字で\u003cstrong\u003e名前が必要です\u003c/strong\u003eと表示されていますので、⑦に任意の「デバイステンプレート名」を入力、⑧のアクションに「Lambda関数の選択」を選択、⑨のAWSリージョンは\u003cstrong\u003eLambda関数を作る\u003c/strong\u003eの項で設定したリージョン（当記事では\"東京\"）を選択、⑩で同じくその時に設定したLambda関数の名前（当記事では\"button-login\"）を入力します。\u003cbr\u003e\n⑪の属性の名前は「customer_code」を入力、⑫のデフォルト値に「0」を入力して、⑬の「プロジェクトの作成」ボタンを押します。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/0a18ea63cf3ec80d795ccc7101e9e6939392a620/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f65316530306565382d306131332d613861652d343863342d3833323462623035353336652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fe1e00ee8-0a13-a8ae-48c4-8324bb05536e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2d963cedc83c56e4d45f7f57c370c182\" width=\"70%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/e1e00ee8-0a13-a8ae-48c4-8324bb05536e.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fe1e00ee8-0a13-a8ae-48c4-8324bb05536e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=a8058e27bdefede7c1aa360630b03d5c 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e次の画面が表示されたら、プロジェクトの作成は成功です。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/43ba9e3fc568d5f589d4dfcd088984011e6fd1af/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f37316139313333382d316465362d663365642d643636312d3833653162616635303066362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F71a91338-1de6-f3ed-d661-83e1baf500f6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=1c56a4624cd7bc9285161f0a7848447c\" width=\"45%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/71a91338-1de6-f3ed-d661-83e1baf500f6.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F71a91338-1de6-f3ed-d661-83e1baf500f6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=a125caa0c055da5b665c2da52e18eda7 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"プレイスメントを作る\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%97%E3%83%AC%E3%82%A4%E3%82%B9%E3%83%A1%E3%83%B3%E3%83%88%E3%82%92%E4%BD%9C%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eプレイスメントを作る\u003c/h3\u003e\n\n\u003cp\u003eプレイスメントとは、ボタン毎に固有に設定できるタグのようなものです。\u003cbr\u003e\n今回は、ここに\u003cstrong\u003e生のお客様番号\u003c/strong\u003eを設定します。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://ap-northeast-1.console.aws.amazon.com/iot1click/home\" rel=\"nofollow noopener\" target=\"_blank\"\u003eAWSマネジメントコンソールから「IoT 1-Click」を選択\u003c/a\u003eして、左側のペインから①の「管理 → プロジェクト」を選び、②の名前（当記事では\"login-portal\"）部分をクリックします。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/72f07d7a0499bf86cfa8460e15cc48793adf51a2/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f31353863326130612d393231382d386332312d613361612d3435663436303534323331302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F158c2a0a-9218-8c21-a3aa-45f460542310.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=3713638aa305d8d6e1f9cc37c7b42f8c\" width=\"70%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/158c2a0a-9218-8c21-a3aa-45f460542310.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F158c2a0a-9218-8c21-a3aa-45f460542310.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=d481883563be83a15c68bc3f43df2b0c 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e次の画面に替わりましたら、③の「プレイスメント」を選択し、④の「プレイスメントの作成」ボタンを押します。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/c19e11918b6e39ca546f0b24434fb646d31ea4a5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f31376333393237632d353239312d653035302d626365662d3432393035396361323132622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F17c3927c-5291-e050-bcef-429059ca212b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=0bf76f05ca30de4528913489540f5449\" width=\"70%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/17c3927c-5291-e050-bcef-429059ca212b.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F17c3927c-5291-e050-bcef-429059ca212b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=d69f55e29a1ba716a96801a5d7c94453 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e更に画面が替わりますので、必要な項目を入力していきます。\u003c/p\u003e\n\n\u003cp\u003eまずは⑤に適当な「デバイスのプレイスメント名」を入力します。\u003cbr\u003e\n次に⑥の「デバイスの選択」をクリックすると、先程登録した\u003cstrong\u003eあのボタンのDSN\u003c/strong\u003eが現れますので、その右側にある「選択」をクリックします。\u003cbr\u003e\nそして⑦の「customer_code」にはデフォルト値の「0」が設定されていますので、適当な\u003cstrong\u003eお客様番号\u003c/strong\u003e（最大９桁まで）を入力して上書きします。お客様番号はこの後何度も使いますので、とりあえず覚えやすい番号（当記事では\"100\"）にしておくことをオススメします。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/4a0e8831040efe5265098c21fb8e791b2c2a4624/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f35346462303462632d616538352d636165652d613535372d6565313062636465386233662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F54db04bc-ae85-caee-a557-ee10bcde8b3f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c44c150d3594d18f8c8de2663e716eb4\" width=\"70%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/54db04bc-ae85-caee-a557-ee10bcde8b3f.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F54db04bc-ae85-caee-a557-ee10bcde8b3f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=7a872461503f3e8baeee558204ea3ded 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e全ての入力が問題なく完了しますと、⑧の「プレイスメントの作成」ボタンが押せるようになりますので、そのままクリックします。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/96096b1e01adeead1ad37687b6363de184bfcddf/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f38303061653035612d616462392d383038322d363566642d3264303531333137613834652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F800ae05a-adb9-8082-65fd-2d051317a84e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=82e6975acc69fd42d3f1b4e9cab17707\" width=\"70%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/800ae05a-adb9-8082-65fd-2d051317a84e.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F800ae05a-adb9-8082-65fd-2d051317a84e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=cb961f442be085145cb560b9c6dabb34 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e次の画面が表示されたら、プレイスメントの作成は成功です。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/1a8e45c8a13027f5f9c69e69814a62dbb6b228da/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f66346639333230322d613163312d633334652d633036372d6334396430656464616237302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Ff4f93202-a1c1-c34e-c067-c49d0eddab70.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=9a3323b9282dd805097cba5a658ecfa9\" width=\"45%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/f4f93202-a1c1-c34e-c067-c49d0eddab70.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Ff4f93202-a1c1-c34e-c067-c49d0eddab70.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=987fa1dd0960700caefdb38594a6ebfe 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"soracomでやること\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#soracom%E3%81%A7%E3%82%84%E3%82%8B%E3%81%93%E3%81%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eSORACOMでやること\u003c/h1\u003e\n\n\u003cp\u003e以下の手順を端折ったままの状態で\u003cstrong\u003e1500回クリックしたボタンは見事に文鎮化\u003c/strong\u003eしますので、末永く使いたい方は要注意です。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"デバイスの登録\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%87%E3%83%90%E3%82%A4%E3%82%B9%E3%81%AE%E7%99%BB%E9%8C%B2\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eデバイスの登録\u003c/h4\u003e\n\n\u003cp\u003e\u003ca href=\"https://console.soracom.io/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eSORACOMユーザーコンソール\u003c/a\u003eから、画面左上にある「Menu」ボタンを押して「ガジェット → Buttons」を選択します。\u003cbr\u003e\nすると次の画面が表示されますので、①の「＋デバイス登録」ボタンを押します。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/7f9f836a9efc707306d4f93f1bbcd63b3f0efc7e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f62373961346235322d663863362d376363652d656635622d3637656265386561363834322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fb79a4b52-f8c6-7cce-ef5b-67ebe8ea6842.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5be877690d95cf8c6c869793ef76df25\" width=\"70%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/b79a4b52-f8c6-7cce-ef5b-67ebe8ea6842.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fb79a4b52-f8c6-7cce-ef5b-67ebe8ea6842.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ebeb6f0bd9c60dff74ddb132386ba2bd 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eウィンドウが開きますので、既に控えてある\u003cstrong\u003eデバイスID\u003c/strong\u003eを②の「製造番号」に入力して、③の「登録」ボタンを押します。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/3461862586626922c07da0499ebfa0d2bdae119e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f36613132643664302d343836612d323439392d336332622d3465316161313831336134652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F6a12d6d0-486a-2499-3c2b-4e1aa1813a4e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=79e65982eb48b748dae9dd00257e0074\" width=\"50%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/6a12d6d0-486a-2499-3c2b-4e1aa1813a4e.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F6a12d6d0-486a-2499-3c2b-4e1aa1813a4e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=47faddcc8a3a316712788b2e3bae186d 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e次の画面のように、該当のデバイスIDが追加されていたら成功です。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/49483e0be70ed9afee61523d7357a95df8c70f84/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f61643231656432372d383936362d346439392d633365302d6463333861623138366364632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fad21ed27-8966-4d99-c3e0-dc38ab186cdc.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a1ed6b51abaca1787b7eecf8374ec5f4\" width=\"70%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/ad21ed27-8966-4d99-c3e0-dc38ab186cdc.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fad21ed27-8966-4d99-c3e0-dc38ab186cdc.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e5fcb010bd846d8ba2234ebaeb1dd6ae 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"visual-studio-でやること\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#visual-studio-%E3%81%A7%E3%82%84%E3%82%8B%E3%81%93%E3%81%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eVisual Studio でやること\u003c/h1\u003e\n\n\u003cp\u003eここからは \u003cstrong\u003eAWS Toolkit for Visual Studio\u003c/strong\u003e のインストールが完了していることが前提ですので、ご注意ください。\u003cbr\u003e\n詳しくは、次の記事をご参照ください。\u003c/p\u003e\n\n\u003cp\u003e　\u003ca href=\"https://www.aruse.net/entry/2018/10/18/183346\" rel=\"nofollow noopener\" target=\"_blank\"\u003eAWS Lambda関数をC#で書いて実行するまで\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"visual-studio-プロジェクトの作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#visual-studio-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eVisual Studio プロジェクトの作成\u003c/h3\u003e\n\n\u003cp\u003eLambda関数をデプロイするための「新しいプロジェクト」を「ファイル → 新規作成 → プロジェクト」の手順で作成します。\u003cbr\u003e\n①左側のペインから「Visual C# → AWS Lambda」を選び、②右側のペインで「AWS Lambda Project (.NET core)」を選択、③\u003cstrong\u003eVisual Studio プロジェクトの名前\u003c/strong\u003eを設定して（当記事では\"AWSLambda1\"）、④「OK」ボタンを押します。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/8228f249af8dc21e4842a6b1dc7e82ec33250363/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f35316534616664642d323433322d383663662d333138652d6533663133633665643766612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F51e4afdd-2432-86cf-318e-e3f13c6ed7fa.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=497a9a9f3e45a34ba68d6e87204d65d1\" width=\"90%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/51e4afdd-2432-86cf-318e-e3f13c6ed7fa.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F51e4afdd-2432-86cf-318e-e3f13c6ed7fa.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=2e52753ea43b1a0291ea4349d0b7162a 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e自動的に\u003cstrong\u003eNew AWS Lambda C# Project\u003c/strong\u003e のウィンドウが開きますので、⑤「Empty Function」を選択して、⑥「Finish」ボタンを押します。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/a01e9978ebe2ac1f367a986e0131a581b0741424/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f32373438316637662d663164382d613734372d613232352d6538303036366137346234362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F27481f7f-f1d8-a747-a225-e80066a74b46.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=253e94f6067f9d1ee827054ea952e54a\" width=\"90%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/27481f7f-f1d8-a747-a225-e80066a74b46.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F27481f7f-f1d8-a747-a225-e80066a74b46.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=290701fb9650d72fba3f6429f9436772 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"コードの入れ換え\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E5%85%A5%E3%82%8C%E6%8F%9B%E3%81%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eコードの入れ換え\u003c/h3\u003e\n\n\u003cp\u003eソリューション エクスプローラーで\u003ccode\u003eFunction.cs\u003c/code\u003eを開くと、次のコードが自動的に生成されているのが確認できます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eFunction.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Collections.Generic\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Linq\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Threading.Tasks\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eAmazon.Lambda.Core\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// Assembly attribute to enable the Lambda function's JSON input to be converted into a .NET class.\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eassembly\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nf\"\u003eLambdaSerializer\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003etypeof\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eAmazon\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLambda\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSerialization\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eJson\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eJsonSerializer\u003c/span\u003e\u003cspan class=\"p\"\u003e))]\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003enamespace\u003c/span\u003e \u003cspan class=\"nn\"\u003eAWSLambda1\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eFunction\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// A simple function that takes a string and does a ToUpper\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"input\"\u0026gt;\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"context\"\u0026gt;\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;returns\u0026gt;\u0026lt;/returns\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"nf\"\u003eFunctionHandler\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003einput\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eILambdaContext\u003c/span\u003e \u003cspan class=\"n\"\u003econtext\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003einput\u003c/span\u003e\u003cspan class=\"p\"\u003e?.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToUpper\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e上記のコード\u003ccode\u003eFunction.cs\u003c/code\u003eの中身を、まるごと下記のコードと入れ替えます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eFunction.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Collections.Generic\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Linq\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Threading.Tasks\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Net.Http\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Text\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eNewtonsoft.Json\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eNewtonsoft.Json.Linq\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eAmazon.Lambda.Core\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// Assembly attribute to enable the Lambda function's JSON input to be converted into a .NET class.\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eassembly\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nf\"\u003eLambdaSerializer\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003etypeof\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eAmazon\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLambda\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSerialization\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eJson\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eJsonSerializer\u003c/span\u003e\u003cspan class=\"p\"\u003e))]\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003enamespace\u003c/span\u003e \u003cspan class=\"nn\"\u003eAWSLambda1\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eFunction\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"n\"\u003eHttpClient\u003c/span\u003e \u003cspan class=\"n\"\u003eclient\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eHttpClient\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// Lambdaから呼ばれるメソッド\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"nf\"\u003eFunctionHandler\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eJObject\u003c/span\u003e \u003cspan class=\"n\"\u003erequest\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eILambdaContext\u003c/span\u003e \u003cspan class=\"n\"\u003econtext\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003eisSuccess\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ecustomerCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e)(\u003c/span\u003e\u003cspan class=\"n\"\u003erequest\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"placementInfo\"\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"s\"\u003e\"attributes\"\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"s\"\u003e\"customer_code\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]);\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// 予め placementInfo → attributes → customer_code に設定済みの「お客様番号」をHash化\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// Azure上にある別のWebサービス(Login Portal)にアクセス\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003ehashCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003eGetHashCode\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecustomerCode\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eurl\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"https://loginto.azurewebsites.net/ThatButton/\"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ehashCode\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003ejson\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eclient\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetStringAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"n\"\u003eResult\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 応答(Json)の解析\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003eresponse\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eJsonConvert\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDeserializeObject\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eDictionary\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u0026gt;(\u003c/span\u003e\u003cspan class=\"n\"\u003ejson\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e     \u003cspan class=\"c1\"\u003e// 単純な構造のため、KeyValue(Dictionary型)で応答をデシリアライズ\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eContainsKey\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"isSuccess\"\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e                                              \u003cspan class=\"c1\"\u003e// 成否判定用のステータス\"isSuccess\"が(無事に)含まれているか？\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eisSuccess\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eConvert\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToBoolean\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"isSuccess\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]);\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eisSuccess\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToString\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e                                                        \u003cspan class=\"c1\"\u003e// ログインの成否 (成功=\"True\" or 失敗=\"False\")\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// 引数をSHA-1でHash化して返すメソッド\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"nf\"\u003eGetHashCode\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ecustomerCode\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eSystem\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSecurity\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCryptography\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eHashAlgorithm\u003c/span\u003e \u003cspan class=\"n\"\u003eha1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eSystem\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSecurity\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCryptography\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSHA1CryptoServiceProvider\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003ebyte\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003ehash\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eha1\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eComputeHash\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eEncoding\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUTF8\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetBytes\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecustomerCode\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToString\u003c/span\u003e\u003cspan class=\"p\"\u003e()));\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eBitConverter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToString\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ehash\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eこのコードでは、既にプレイスメントで設定済みの\u003cstrong\u003eお客様番号\u003c/strong\u003e\u003ccode\u003ecustomer_code\u003c/code\u003eの数字を大文字でSHA-1ハッシュ化します。次にその文字列を、\u003ccode\u003eloginto.azurewebsites.net/ThatButton/\u003c/code\u003eの後にパスの一部として付加してからGETします。\u003cbr\u003e\n例えば、\u003ccode\u003ecustomer_code\u003c/code\u003eに「100」を設定している場合のURLは次の通りです。\u003c/p\u003e\n\n\u003cp\u003e　\u003ca href=\"https://loginto.azurewebsites.net/ThatButton/310B86E0B62B828562FC91C7BE5380A992B2786A\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://loginto.azurewebsites.net/ThatButton/310B86E0B62B828562FC91C7BE5380A992B2786A\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"デプロイ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eデプロイ\u003c/h3\u003e\n\n\u003cp\u003eさて、\u003ccode\u003eFunction.cs\u003c/code\u003eの入れ替えが完了しましたら、いよいよLambdaへデプロイしてみます。\u003cbr\u003e\nソリューション エクスプローラーでプロジェクトの名前を右クリックして、「Publish to AWS Lambda…」を選びます。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/ef685db7eaef7630939a4011b4e1575638f24ad1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f30633564303438372d646134342d356533612d333838392d6661333533356230623634362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F0c5d0487-da44-5e3a-3889-fa3535b0b646.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=0dd5bd70f9f9b1268f1a2a4135309d56\" width=\"50%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/0c5d0487-da44-5e3a-3889-fa3535b0b646.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F0c5d0487-da44-5e3a-3889-fa3535b0b646.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=45325977442c33485db0b3e00bce378f 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eすると次のウィンドウが開きますので、「Region:」表示が実際に\u003cstrong\u003eLambda関数を作ったリージョンと同じ\u003c/strong\u003eかどうかを確認しつつ、①「Function Name:」で\u003cstrong\u003e作成済みのLambda関数の名前\u003c/strong\u003e（当記事では\"button-login\"）を選択し、②「Next」ボタンを押します。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/194940fd3245fa1d0eae8fd9af9da448f1086f94/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f37616137323136612d613432372d623765342d303666392d3064306531666662643265622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F7aa7216a-a427-b7e4-06f9-0d0e1ffbd2eb.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d0dc6575e37693132e44f4a468526b0a\" width=\"75%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/7aa7216a-a427-b7e4-06f9-0d0e1ffbd2eb.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F7aa7216a-a427-b7e4-06f9-0d0e1ffbd2eb.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=50ee8322e597f8994f2d871456831eac 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e③「Role Name:」のドロップダウンボタンを押してリストを表示させ、その中の④「Exisiting IAM Roles → \u003cstrong\u003elambda_basic_execution\u003c/strong\u003e」を選択し、⑤「Upload」ボタンを押します。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/aa7c1eb414e6ffa1fd94cae2d828d57ef2156af7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f64316531653437312d626539302d656234322d326362362d3261326232303835333961362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fd1e1e471-be90-eb42-2cb6-2a2b208539a6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2f8b16ac3fa906dcd665360a83ee8839\" width=\"75%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/d1e1e471-be90-eb42-2cb6-2a2b208539a6.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fd1e1e471-be90-eb42-2cb6-2a2b208539a6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=12ac702145609eab0531fc028d5b5603 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/f3ac6029b871e8fcb2ca5416dcaddc5b9a2fa23f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f35366562613339662d333630332d333762302d316633362d3665626236333763333331312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F56eba39f-3603-37b0-1f36-6ebb637c3311.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=6202294ff564fe592a613eb74e61cb43\" width=\"95%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/56eba39f-3603-37b0-1f36-6ebb637c3311.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2F56eba39f-3603-37b0-1f36-6ebb637c3311.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=831073e403f9e78d888f2dbf264ddf54 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eしばし待ちます。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/5effa75572f7f4cbab33d7384fdef65fc13a5c9e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f62333362323561302d636165302d643435642d656536302d3138663130326262316331332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fb33b25a0-cae0-d45d-ee60-18f102bb1c13.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=89c07f0c7698f3da2d6576d1739ed8d1\" width=\"40%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/b33b25a0-cae0-d45d-ee60-18f102bb1c13.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fb33b25a0-cae0-d45d-ee60-18f102bb1c13.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c8e4954165a666fddc15aa9218e61bcd 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e完了すると、次の画面が表示されます。\u003cbr\u003e\nデプロイの成否を確認するには、「Sample Input ペイン」の①に下記のJSON（貼り付ける.js）をコピペして、②の「Invoke」ボタンを押します。\u003cbr\u003e\n　　\u003ca href=\"https://camo.qiitausercontent.com/224cfdcf649fc32e6567bbfe8b7cae9315da33b4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f65343962303135392d376233662d346130362d366263642d3134393335316434306330382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fe49b0159-7b3f-4a06-6bcd-149351d40c08.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c25ed60e50c1e0903d448d31741c6630\" width=\"95%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/e49b0159-7b3f-4a06-6bcd-149351d40c08.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fe49b0159-7b3f-4a06-6bcd-149351d40c08.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=367e2ca4dd2596ddb975e929dc06149b 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n（貼り付けるJSONは ↓ です）\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e貼り付ける.js\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e \n    \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003edeviceInfo\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \n        \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003edeviceId\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eXXXXXXXXXXXXXXXX\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \n        \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003etype\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ebutton\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \n        \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eremainingLife\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mf\"\u003e99.933334\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \n        \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eattributes\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \n            \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eprojectRegion\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eap-northeast-1\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \n            \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eprojectName\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eprojectName\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \n            \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eplacementName\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eplacementName\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \n            \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003edeviceTemplateName\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003edeviceTemplateName\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e \n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e \n    \u003cspan class=\"p\"\u003e},\u003c/span\u003e \n    \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003edeviceEvent\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \n        \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ebuttonClicked\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \n            \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eclickType\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eSINGLE\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \n            \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ereportedTime\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e2018-11-05T04:29:01.950Z\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e \n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e \n    \u003cspan class=\"p\"\u003e},\u003c/span\u003e \n\n    \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eplacementInfo\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \n        \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eprojectName\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eprojectName\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \n        \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eplacementName\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eButtonName\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \n        \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eattributes\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \n            \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ecustomer_code\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e100\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e \n        \u003cspan class=\"p\"\u003e},\u003c/span\u003e \n        \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003edevices\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \n            \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003edeviceTemplateName\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eXXXXXXXXXXXXXXXX\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e \n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e \n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e \n\u003cspan class=\"p\"\u003e}\u003c/span\u003e \n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eその結果、③の「Responseペイン」に \u003cstrong\u003e\"False\"\u003c/strong\u003e が帰ってきたら成功です。\u003cbr\u003e\nちなみに初回の起動時のみ、Lambda関数が動き出すまで若干の待ち時間があります。\u003c/p\u003e\n\n\u003cp\u003e※ もし、エラーメッセージ \"errorMessage\": \"Unable to load type …\" が返ってくる場合は、Visual Studio プロジェクトの名前とソースコードの\u003ccode\u003enamespace\u003c/code\u003eが同じかどうかを確認してみてください。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"試してみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A9%A6%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e試してみる！\u003c/h1\u003e\n\n\u003cp\u003eここまで問題なく完了しましたら、次の\u003ca href=\"https://loginto.azurewebsites.net/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eWebサイト\u003c/a\u003eにアクセスして、実際の挙動を試してみることが出来ます。\u003cbr\u003e\n※ 大人の(懐の)事情で、初回起動がヒジョーに遅いです \u0026lt;(_ _)\u0026gt;\u003c/p\u003e\n\n\u003cp\u003e　 \u003ca href=\"https://loginto.azurewebsites.net/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eログインポータル 実験サイト\u003c/a\u003e　　　\u003ca href=\"https://camo.qiitausercontent.com/922c1a345b79a3bcd27f6117059223baac5f9bec/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3331383831352f65336630316436392d306632302d356538302d613537342d3466306263636565313662392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fe3f01d69-0f20-5e80-a574-4f0bccee16b9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=f260f94cdb412bf699a3bf55a74d1489\" width=\"15%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/318815/e3f01d69-0f20-5e80-a574-4f0bccee16b9.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fe3f01d69-0f20-5e80-a574-4f0bccee16b9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9fc78b63e46e78fa6159a655999cc9f6 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eWebサイトの使い方は、プレイスメントの項で設定した\u003cstrong\u003eお客様番号\u003c/strong\u003eを入力して\u003cstrong\u003eログイン\u003c/strong\u003eボタンを押すだけです。 詳しくは、記事冒頭のYouTube動画をご覧くださいませ \u003cimg alt=\":grin:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f601.png\" title=\":grin:\" width=\"20\" loading=\"lazy\"\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"まとめ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eまとめ\u003c/h1\u003e\n\n\u003cp\u003e一旦認証が完了した後のページ間のやり取りには、ハッシュ化したお客様番号に紐付くワンタイムのGUIDが振り出され、それをURLのクエリとして用いることで、更なるセキュリティを担保しています。\u003cbr\u003e\n当記事ではURLを短く表現したいためにSHA-1を用いていますが、強度に問題があるため実利用は非推奨です。\u003cbr\u003e\nまた、AWSとAzure間の接続にはSSL(TLS)を使っていますが、更にVPNを使うなどの配慮が要るかもしれません。\u003c/p\u003e\n\n\u003cp\u003e今回の仕組みのキモは、いついかなる時でも\u003cstrong\u003e一対一でしか繋がらないことをロジックで保証\u003c/strong\u003eして（強制的に排他的な状況を作り出して）いるところなのですが、当記事は既に長文となってしまいましたので、認証の内部的な仕組み（特にAzureの部分）については、また別の機会に紹介させていただければと思います。\u003c/p\u003e\n\n\u003cp\u003e（ツイッターフォローは\u003ca href=\"https://twitter.com/SAMonodera?ref_src=twsrc%5Etfw\" class=\"\" rel=\"nofollow noopener\" target=\"_blank\"\u003e\u003cstrong\u003eこちら\u003c/strong\u003e\u003c/a\u003e\u003cscript async src=\"https://platform.twitter.com/widgets.js\"\u003e\u003c/script\u003e）\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"参考\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考\u003c/h1\u003e\n\n\u003cp\u003eSORACOM公式：\u003cbr\u003e\n　\u003ca href=\"https://dev.soracom.io/jp/aws_button/what-is-aws-button/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eSORACOM LTE-M Button powered by AWS ユーザーガイド\u003c/a\u003e\u003cbr\u003e\n　\u003ca href=\"https://dev.soracom.io/jp/start/aws_button_registration/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eSORACOM LTE-M Button powered by AWS をソラコムのガジェット管理に登録する\u003c/a\u003e\u003cbr\u003e\n　\u003ca href=\"https://www.slideshare.net/SORACOM/soracom-technology-camp-2018-4-soracom-ltem-button\" rel=\"nofollow noopener\" target=\"_blank\"\u003eSORACOM LTE-M Button の始め方\u003c/a\u003e\u003cbr\u003e\n　\u003ca href=\"https://blog.soracom.jp/blog/2018/11/07/tips-of-soracom-lte-m-button/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eSORACOM LTE-M Button powered by AWS を用いた開発 TIPS\u003c/a\u003e\u003cbr\u003e\n　\u003ca href=\"https://dev.soracom.io/jp/start/aws_button_slack/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eSORACOM LTE-M Button powered by AWS をクリックしてSlackに通知する\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eAWS公式：\u003cbr\u003e\n　\u003ca href=\"https://aws.amazon.com/jp/blogs/news/aws-iot-1-click-use-simple-devices-to-trigger-lambda-functions/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eAWS IoT 1-Click – Lambda 関数のトリガーにシンプルなデバイスを使用する\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eその他：\u003cbr\u003e\n　\u003ca href=\"https://dev.classmethod.jp/cloud/visual-studio-for-mac-lambda-csharp/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eVisual Studio for Mac で AWS Lambda（C#）ファンクションを作成してみた\u003c/a\u003e\u003cbr\u003e\n　\u003ca href=\"https://www.aruse.net/entry/2018/10/18/183346\" rel=\"nofollow noopener\" target=\"_blank\"\u003eAWS Lambda関数をC#で書いて実行するまで\u003c/a\u003e\u003cbr\u003e\n　 ↑ これがなければLambda周りでハマっていたと思います。ありがとうございます ;)\u003cbr\u003e\n　\u003ca href=\"https://tool-taro.com/hash/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eSHA2/SHA1/MD5ハッシュ生成(Hash Generator)\u003c/a\u003e\u003c/p\u003e\n","createdAt":"2018-12-18T12:55:09Z","elapsedYearsFromLastModifiedAt":1,"encryptedId":"dAaAtd6AAq0VD4cQ5p1F01cpBCaioNFP--6PCmayf0kmjAOsAg--/n58XfYOcN0rfstq8td5VA==","isBanned":false,"isDeprecated":true,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2019-10-18T14:12:59Z","likesCount":5,"linkUrl":"https://qiita.com/SamOnodera/items/ebfe67f3e7725d6fdaaa","organization":null,"originalId":744438,"stockedCount":1,"title":"多要素認証のキーとして、LTE-Mボタンを使ってみた","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003eはじめに\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E4%BB%8A%E5%9B%9E%E4%BD%BF%E3%81%A3%E3%81%9F%E3%82%82%E3%81%AE\"\u003e今回使ったもの\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#c%E3%81%A7lambda%E3%82%92%E6%9B%B8%E3%81%8F%E3%81%9F%E3%82%81%E3%81%AB%E5%BF%85%E8%A6%81%E3%81%AA%E3%81%93%E3%81%A8\"\u003eC#でLambdaを書くために必要なこと\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#aws%E3%81%A7%E3%82%84%E3%82%8B%E3%81%93%E3%81%A8\"\u003eAWSでやること\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#lambda%E9%96%A2%E6%95%B0%E3%82%92%E4%BD%9C%E3%82%8B\"\u003eLambda関数を作る\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%82%E3%81%AE%E3%83%9C%E3%82%BF%E3%83%B3%E3%82%92%E7%99%BB%E9%8C%B2%E3%81%99%E3%82%8B\"\u003eあのボタンを登録する\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E4%BD%9C%E3%82%8B\"\u003eプロジェクトを作る\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%97%E3%83%AC%E3%82%A4%E3%82%B9%E3%83%A1%E3%83%B3%E3%83%88%E3%82%92%E4%BD%9C%E3%82%8B\"\u003eプレイスメントを作る\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cli\u003e\n\u003ca href=\"#soracom%E3%81%A7%E3%82%84%E3%82%8B%E3%81%93%E3%81%A8\"\u003eSORACOMでやること\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%87%E3%83%90%E3%82%A4%E3%82%B9%E3%81%AE%E7%99%BB%E9%8C%B2\"\u003eデバイスの登録\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\n\n\n\n\u003cli\u003e\n\u003ca href=\"#visual-studio-%E3%81%A7%E3%82%84%E3%82%8B%E3%81%93%E3%81%A8\"\u003eVisual Studio でやること\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#visual-studio-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90\"\u003eVisual Studio プロジェクトの作成\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E5%85%A5%E3%82%8C%E6%8F%9B%E3%81%88\"\u003eコードの入れ換え\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4\"\u003eデプロイ\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\n\n\u003cli\u003e\n\u003ca href=\"#%E8%A9%A6%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e試してみる！\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"\u003eまとめ\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%8F%82%E8%80%83\"\u003e参考\u003c/a\u003e\n\u003c/li\u003e\n\n","totalPv":2951,"uuid":"ebfe67f3e7725d6fdaaa","banReason":null,"adventCalendarItem":{"day":22,"calendar":{"name":"SORACOM","urlName":"soracom2","year":2018,"organization":null}},"author":{"encryptedId":"CGu3u3MNAbEImL/wBmHtybaVQaZu--JZ0zsUTlFgR6543x--hGcVW51P5aJtKi73WEGK9Q==","originalId":318815,"description":"これまでの人生の半分を会社経営者、半分を社員という立場で過ごしてきましたので、双方の視点から物事を眺めるのが得意です。\r\n\r\n運用環境の選定/構築から始まり、システムの企画/仕様/実装/保守と、フルスタックっぽく何でもやります！\r\n個人的には、IoTやガジェットに絡んだ企画を考えるのが大好物。\r\n「そんな事が出来るんだ!?」と皆を驚かせることに熱意を燃やす日々です。","facebookUrl":"https://facebook.com/profile.php?id=100003178233641","githubUrl":"https://github.com/samOnodera","isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":"https://www.linkedin.com/in/osamu-onodera","name":"Osamu Onodera","profileImageUrl":"https://qiita-image-store.s3.amazonaws.com/0/318815/profile-images/1544089644","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fprofile-images%2F1544089644?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=41fe21301a1d203ea785c79512a82c2a","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F318815%2Fprofile-images%2F1544089644?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=774a9518b911d561345dba6161e9da2f","urlName":"SamOnodera","websiteUrl":"https://profiee.com/i/_SAM","twitterUrl":"https://twitter.com/SAMonodera","twitterUrlName":"SAMonodera","revealedOrganizations":{"edges":[{"node":{"encryptedId":"lrAh+G1WGQmxMFOIaWLpjrZktPudaA0samg=--JalXgJzXuj3uOe3k--2ES/H4rbT6bkVJGf2xfB5g==","isBetaReleaseEnabled":false,"isFollowableByViewer":false,"isFollowedByViewer":false,"name":"IoTLT","logoUrl":"https://s3-ap-northeast-1.amazonaws.com/qiita-organization-image/67955531570736d618f59dd5e615b01285b22217/original.jpg?1485315227","urlName":"iotlt","description":"IoT縛りの勉強会です。 毎月イベントを実施しているので是非遊びに来てください！  登壇者を中心にQiitaでも情報発信していきます。 https://iotlt.connpass.com","url":"https://iotlt.connpass.com/"}}]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"lambda","urlName":"lambda"},{"name":"MFA","urlName":"mfa"},{"name":"SORACOM","urlName":"soracom"},{"name":"iot-1-click","urlName":"iot-1-click"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
