More than 1 year has passed since last update.ベースクラスから派生クラスにキャストしようとしたときに、はまってしまったことをまとめておきます。メンバー変数を１つ保持しているベースクラス(CastBase.cs)と
１つ変数を追加した派生クラス(CastA.cs)を用意しました。2つのクラスを使って、以下のような処理しました。（Unity上で動かしています。）
実行はTestMethod内のキャストで失敗し、null参照でエラーを吐いてしまいます。修正方法はcastAをインスタンス化するときにベースクラスではなく、
CastA型でインスタンス化する必要があります。
CastA型で宣言をし、あらかじめCastAの領域を確保しないとキャストに失敗してしまうようです。同じクラスに書かれると、なんてこともない問題ですが、実際に直面したのは、宣言とキャストする場所が離れてしまっていて、なかなか原因を発見することができませんでした。


