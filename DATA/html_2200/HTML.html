<!DOCTYPE html><html><head><meta charset="utf-8" /><title>C#エンジニアに贈るReact入門  - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/banban525/items/b66a439d588858ba3a11" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="fqBSG5ZNBmlGwZmWiO5vDvPeHsaVYQ6ORe53JJw/8ELsFVwQN34M8qlsrhjPO7LLPKPMAXzuCzkXnko/kxOyQg==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta property="og:type" content="article"><meta property="og:title" content="C#エンジニアに贈るReact入門  - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1ReVBqZ3Fqamc3UGpncmpqZzR2amdxTGpnYXZvdElqamdvdFNaV0ZqZE9XRnBlbVdnQ0EmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT01NCZ0eHQtY2xpcD1lbGxpcHNpcyZ0eHQtYWxpZ249Y2VudGVyJTJDbWlkZGxlJnM9ZmRiMGQzMzZlMTM3NzQ3NGI1NjY3MGU3NjFiYzdiYzg&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RR0poYm1KaGJqVXlOUSZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPTJjYTgyMDAxNWUyYTkyMDcwZDBhNjY4NDFmOWRjY2Yw&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=030cad2b619c2cf9b4476890110f352e"><meta property="og:description" content="この記事は React #2 Advent Calendar 2019 19日目の記事です。


はじめに

本職は、C#でWindows Formを使ったレガシーなアプリケーションを作っています。

ただ、レガシーなアプリを作ってい..."><meta content="https://qiita.com/banban525/items/b66a439d588858ba3a11" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="Windows,C#,TypeScript,React,mobx" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-d9bce8dd-c428-45a2-b22a-9c9f47c781df"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2Fbanban525%2Fitems%2Fb66a439d588858ba3a11">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2Fbanban525%2Fitems%2Fb66a439d588858ba3a11">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-d9bce8dd-c428-45a2-b22a-9c9f47c781df">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/windows","name":"Windows"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2019-12-19T01:32:57.000+09:00","dateModified":"2020-12-31T22:46:49.000+09:00","headline":"C#エンジニアに贈るReact入門 ","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1ReVBqZ3Fqamc3UGpncmpqZzR2amdxTGpnYXZvdElqamdvdFNaV0ZqZE9XRnBlbVdnQ0EmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT01NCZ0eHQtY2xpcD1lbGxpcHNpcyZ0eHQtYWxpZ249Y2VudGVyJTJDbWlkZGxlJnM9ZmRiMGQzMzZlMTM3NzQ3NGI1NjY3MGU3NjFiYzdiYzg\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RR0poYm1KaGJqVXlOUSZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPTJjYTgyMDAxNWUyYTkyMDcwZDBhNjY4NDFmOWRjY2Yw\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=030cad2b619c2cf9b4476890110f352e","mainEntityOfPage":"https://qiita.com/banban525/items/b66a439d588858ba3a11","author":{"@type":"Person","address":"滋賀県","email":null,"identifier":"banban525","name":"banban525","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Favatars1.githubusercontent.com%2Fu%2F9836533%3Fv%3D4?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=5319d6818a8411b1f9e1fc5298a4b9da","url":"https://qiita.com/banban525","description":"","memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://zine.qiita.com/interview/202107-hitachi-3/?utm_source=qiita&amp;utm_medium=header-banner">「作業者の負荷情報の見える化」に取り組む研究者が語る日立の魅力</a><a target="_blank" id="header_text_message_2" href="https://zine.qiita.com/interview/202107-hitachi-3/?utm_source=qiita&amp;utm_medium=header-banner">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"banban525","type":"items","id":"b66a439d588858ba3a11"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"「作業者の負荷情報の見える化」に取り組む研究者が語る日立の魅力","url":"https://zine.qiita.com/interview/202107-hitachi-3/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"banban525","type":"items","id":"b66a439d588858ba3a11"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":1,"pos_id":"header_text_message_1","message":"「作業者の負荷情報の見える化」に取り組む研究者が語る日立の魅力","url":"https://zine.qiita.com/interview/202107-hitachi-3/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"banban525","type":"items","id":"b66a439d588858ba3a11"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":1,"pos_id":"header_text_message_2","message":"「作業者の負荷情報の見える化」に取り組む研究者が語る日立の魅力","url":"https://zine.qiita.com/interview/202107-hitachi-3/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/banban525/items/b66a439d588858ba3a11","location":"/banban525/items/b66a439d588858ba3a11","scheme":"https","host":"qiita.com","port":null,"pathname":"/banban525/items/b66a439d588858ba3a11","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"NGhqsYC8Y3PE9jziATTrPfVEjQmghBwE7oc4xPHDG/um3WS6IY9p6CtbC2xG4Tb4OjlfzkkLGbO89wXf/u9Z+w==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-1595d6fa-6b33-4988-aa4f-77cf53c8af46"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/banban525/items/b66a439d588858ba3a11/likers" class="css-1iupg5d">31</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">32</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/b66a439d588858ba3a11/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/banban525/items/b66a439d588858ba3a11/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/banban525/items/b66a439d588858ba3a11/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/banban525/items/b66a439d588858ba3a11/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/banban525/items/b66a439d588858ba3a11.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-helsa7"><div class="css-8qb8m4"><div class="it-AdcalRibbon"><span><a href="/advent-calendar/2019/react2" class="it-AdcalRibbon_title">React #2<!-- --> Advent Calendar<!-- --> <!-- -->2019</a>Day 19</span></div><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/banban525"><img class="css-100alwu eyfquo10" src="https://avatars1.githubusercontent.com/u/9836533?v=4" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/banban525" class="css-10ougpm">@<!-- -->banban525</a><div class="css-1ay9vb9"><span><meta content="2019-12-18T16:32:57Z"/><time dateTime="2020-12-31T13:46:49Z" class="css-m19uds">updated at 2020-12-31</time></span></div></div></div></div></div><h1 class="css-cgzq40">C#エンジニアに贈るReact入門 </h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/windows" class="css-4czcte">Windows</a><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/typescript" class="css-4czcte">TypeScript</a><a href="/tags/react" class="css-4czcte">React</a><a href="/tags/mobx" class="css-4czcte">mobx</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div><p>この記事は <a href="https://qiita.com/advent-calendar/2019/react2">React #2 Advent Calendar 2019</a> 19日目の記事です。</p>

<h1>
<span id="はじめに" class="fragment"></span><a href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB"><i class="fa fa-link"></i></a>はじめに</h1>

<p>本職は、C#でWindows Formを使ったレガシーなアプリケーションを作っています。</p>

<p>ただ、レガシーなアプリを作っていると、Webフロントエンドは、進化が早くて、活発で、<br>
なんかキラキラしている感じがして、うらやましくなってきます。</p>

<p>Reactは、趣味だけなのでまだまだですが、そんなC#エンジニア(以降、C#er)から見たReact入門を解説したいと思います。</p>

<p>同僚がReactを勉強したいと言い出したので、そのための資料でもあります。</p>

<p>React の Advent Calendar ということで他の方がReactのTipsを公開している中、<br>
一人だけ空気を読まなくて申し訳ないです・・・。</p>

<p>なお、Webフロントエンド界隈は進化や世代交代が早いので、<br>
この記事の賞味期限もせいぜい半年～1年くらいだと思っています。</p>

<p>(2020-09-02 Modified)<br>
予想通りライブラリやツールのバージョンアップによっていろいろ変更なようです。<br>
この記事は自分でも使っていて不便なので最低限問題ないように修正しました。<br>
(もしかしたら抜けがあるかも？)</p>

<p>(2020-10-04 Modified)<br>
上の対応ではだめだったので、さらに追記しました。</p>

<p>(2020-12-31 Modified)<br>
なんかAdvent Calendar 2020の影響でPVが増えたのかストックされる方が増えたので<br>
いろいろ動かないところを最低限アップデートしました。<br>
* MobX ver.6.0.0 以降に対応<br>
* .envファイルは不要になった<br>
* Visual Studio Codeでnode_modules以下のTypeScriptを使用する設定</p>

<h2>
<span id="要約" class="fragment"></span><a href="#%E8%A6%81%E7%B4%84"><i class="fa fa-link"></i></a>要約</h2>

<ul>
<li>C#エンジニアがReactを始めるときは、Typescript、MobX、Material-UI、Class Componentを使うといいよ。</li>
<li>解説をつけながらハンズオン的な感じでブログっぽいページを作るよ</li>
</ul>

<h2>
<span id="想定読者" class="fragment"></span><a href="#%E6%83%B3%E5%AE%9A%E8%AA%AD%E8%80%85"><i class="fa fa-link"></i></a>想定読者</h2>

<ul>
<li>WindowsでC#を使ってWindows Formなアプリを作ってきた方</li>
<li>および、Webアプリは、CGIとかAjaxあたりで止まっている方</li>
</ul>

<h1>
<span id="react基礎知識" class="fragment"></span><a href="#react%E5%9F%BA%E7%A4%8E%E7%9F%A5%E8%AD%98"><i class="fa fa-link"></i></a>React基礎知識</h1>

<h2>
<span id="そもそもreactって" class="fragment"></span><a href="#%E3%81%9D%E3%82%82%E3%81%9D%E3%82%82react%E3%81%A3%E3%81%A6"><i class="fa fa-link"></i></a>そもそもReactって？</h2>

<p>Webアプリのフロントエンドを構築するためのJavascriptライブラリです。<br>
最近の流行として、htmlのページ遷移無しで、1ページ内で完結させようという流行(SPA、Single Page Application)があり、ReactはSPAを実現するためのフレームワークの1つです。<br>
主な役割はhtmlのレンダリングであり、C#でいうと、WPFにおけるXAMLや、WindowsFormsの*.Designer.csに相当します。</p>

<h2>
<span id="reactって何がうれしいの" class="fragment"></span><a href="#react%E3%81%A3%E3%81%A6%E4%BD%95%E3%81%8C%E3%81%86%E3%82%8C%E3%81%97%E3%81%84%E3%81%AE"><i class="fa fa-link"></i></a>Reactって何がうれしいの？</h2>

<p>レガシーなWebサイトの場合、htmlでコンテンツを管理して、 見た目はCSS、何か動かすならJavascriptという感じだったと思います。</p>

<p>ただ、htmlで使えるのは決まったタグだけで、 部品化ができず、凝ったことをしようとすると作りこみが必要なわりに、それを他のページに展開するにはコピペが必要になってしまいます。</p>

<p>Reactを使うと、独自のHTMLタグを増やすことができるようになります。<br>
さらに、単なるhtmlの部品ではなく、Javascriptもセットになっているので、<br>
部品化によってリッチなUIを簡単に作ることができるようになります。</p>

<p>C#でいうなら、既定のButtonやLabelしか使えない状況から、UserControlが使えるようになったものです。</p>

<p>公開されている部品を組み合わせてもいいですし、もちろん自分で部品を作ることもできます。</p>

<p>例えば、次のようなブログのトップページをイメージしてもらうと、</p>

<p><a href="https://camo.qiitausercontent.com/faf7cf0f36af5e5110010d94cef5be1220da7c53/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f64656434323131322d353161622d346232652d396466652d3336633661383761643335352e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2Fded42112-51ab-4b2e-9dfe-36c6a87ad355.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=e6c1ba2026f0a35d4f9682a53b3faa0a" alt="Sample-Blog-Top.jpg" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/ded42112-51ab-4b2e-9dfe-36c6a87ad355.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2Fded42112-51ab-4b2e-9dfe-36c6a87ad355.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=1091267d075ab3aa2a1d9cc85a4d52ae 1x" loading="lazy"></a></p>

<p>1つの記事のサマリーが<code>AbstractContent</code>という部品になっていれば、 それを並べればTopページが作れます。</p>

<div class="code-frame" data-lang="react"><div class="highlight"><pre class="with-code"><code><span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"TopPage"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nc">AbstractContent</span> <span class="na">title</span><span class="p">=</span><span class="si">{</span><span class="nx">title1</span><span class="si">}</span> <span class="err">....</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nc">AbstractContent</span> <span class="na">title</span><span class="p">=</span><span class="si">{</span><span class="nx">title2</span><span class="si">}</span> <span class="err">....</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nc">AbstractContent</span> <span class="na">title</span><span class="p">=</span><span class="si">{</span><span class="nx">title3</span><span class="si">}</span> <span class="err">....</span> <span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div></div>

<p>さらに<code>AbstractContent</code>も何かの部品を組み合わせているので 次のようなツリー構造になります。</p>

<p><a href="https://camo.qiitausercontent.com/68984cdb2cf479eac01649e01cb5c1a0f8627c1c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f37653463323166382d353235342d363332352d623332362d3933373663633735633965352e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F7e4c21f8-5254-6325-b326-9376cc75c9e5.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=04f33b5947e61881e82e0e0f7227b22b" alt="Blog-Component-Tree.jpg" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/7e4c21f8-5254-6325-b326-9376cc75c9e5.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F7e4c21f8-5254-6325-b326-9376cc75c9e5.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=432e1a409711f1c77c7227183e3422b8 1x" loading="lazy"></a></p>

<p>部品の例としては、material-uiのサイトを眺めるとこの部品化がイメージしやすいと思います。 </p>

<ul>
<li><a href="https://material-ui.com/components/text-fields/" class="autolink" rel="nofollow noopener" target="_blank">https://material-ui.com/components/text-fields/</a></li>
</ul>

<h2>
<span id="reactで部品はどうやって作るのか" class="fragment"></span><a href="#react%E3%81%A7%E9%83%A8%E5%93%81%E3%81%AF%E3%81%A9%E3%81%86%E3%82%84%E3%81%A3%E3%81%A6%E4%BD%9C%E3%82%8B%E3%81%AE%E3%81%8B"><i class="fa fa-link"></i></a>Reactで部品はどうやって作るのか？</h2>

<p>Reactの部品はこんな感じで作ります。</p>

<div class="code-frame" data-lang="react">
<div class="code-lang"><span class="bold">Reactコンポーネントの例</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>

<span class="kr">interface</span> <span class="nx">BlogPartsProps</span> <span class="p">{</span>
  <span class="nl">id</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nl">title</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">date</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">abstract</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">BlogParts</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="o">&lt;</span><span class="nx">BlogPartsProps</span> <span class="o">&gt;</span> <span class="p">{</span>
  <span class="kr">public</span> <span class="nx">render</span><span class="p">():</span> <span class="nx">JSX</span><span class="p">.</span><span class="nx">Element</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="p">=</span><span class="si">{</span><span class="s2">`/contents/</span><span class="p">${</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="si">}</span><span class="p">&gt;&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">title</span><span class="si">}</span> <span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">date</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">abstract</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">BlogParts</span><span class="p">;</span>
</code></pre></div>
</div>

<p>細かい説明は、他サイトを参考にしてもらったらよいと思いますが、<br>
ポイントは次の2つです。</p>

<ul>
<li>render関数では、JavascriptとHtmlが混ざった書き方をする。C#でいうと、RazorやT4テンプレートみたいなもの。</li>
<li>BlogPartsProps interfaceに定義されているフィールドが、外から渡されるパラメータ</li>
</ul>

<p>BlogPartsPropsうんぬんは、C#のWindows Formで例えると、こんな感じで、外からセットされるプロパティに相当します。</p>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">C#でのPropsの例</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">class</span> <span class="nc">BlogParts</span> <span class="p">:</span> <span class="n">UserControl</span>
<span class="p">{</span>
  <span class="k">public</span> <span class="kt">int</span> <span class="n">id</span> <span class="p">{</span><span class="k">get</span><span class="p">;</span><span class="k">set</span><span class="p">;}</span>
  <span class="k">public</span> <span class="kt">string</span> <span class="n">title</span> <span class="p">{</span><span class="k">get</span><span class="p">;</span><span class="k">set</span><span class="p">;}</span>
  <span class="k">public</span> <span class="kt">string</span> <span class="n">date</span> <span class="p">{</span><span class="k">get</span><span class="p">;</span><span class="k">set</span><span class="p">;}</span>
  <span class="k">public</span> <span class="kt">string</span> <span class="n">abstractContent</span> <span class="p">{</span><span class="k">get</span><span class="p">;</span><span class="k">set</span><span class="p">;}</span>

  <span class="k">private</span> <span class="k">void</span> <span class="nf">BlogParts_Load</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">EventArgs</span> <span class="n">e</span><span class="p">)</span>
  <span class="p">{</span>
      <span class="n">_titleLabel</span><span class="p">.</span><span class="n">Text</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">Title</span><span class="p">;</span>
      <span class="err">・・・</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>なお、Reactは、classで部品を作るパターン(Class Component)と、関数で部品を作るパターン(Functional Component)がありますが、C#erとしては、前者のほうがイメージしやすいです。<br>
ただし、今の流行や推奨は後者のFunctional Componentです。React Hooksとかもこちらのようです。</p>

<p>今回は、C#er向けということでClass Componentでいきます。</p>

<h2>
<span id="typescript" class="fragment"></span><a href="#typescript"><i class="fa fa-link"></i></a>Typescript</h2>

<p>Typescriptは、Javascriptに型を導入した言語です。<br>
ビルド(トランスクリプトというらしい)するとjavascriptになります。<br>
ビルド結果のjavascriptは人が読むことは想定されていないようなので<br>
ビルドするとバイナリになるC#に近い使用感です。<br>
生のJavascriptは型がなく、なんとなくで実装できてしまいますが、<br>
C#をやっている身からすると型が無いのが恐ろしいです。</p>

<p>ということで、Typescript、おすすめです。</p>

<p>言語的にはC#に近い言語っぽいけど、Javascriptの制約を引きずっているのと、独自進化しているようで、<br>
知らない仕様がけっこうあります。</p>

<p>簡単なクラスを例にするとこんな感じです。</p>

<div class="code-frame" data-lang="typescript">
<div class="code-lang"><span class="bold">Typescriptの例</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">export</span> <span class="kd">class</span> <span class="nx">AppStore</span>
<span class="p">{</span>
    <span class="nl">_id</span><span class="p">:</span><span class="kr">number</span><span class="o">|</span><span class="kc">undefined</span><span class="p">;</span>  <span class="c1">// 型はメンバーの後ろ、また、型に"|"を使ってORを表現できる。</span>

    <span class="c1">// メソッドはラムダ式を代入したメンバー。C#のメソッドっぽくも書けるけどこっちのほうがいいみたい</span>
    <span class="k">public</span> <span class="nx">changeId</span> <span class="o">=</span> <span class="p">(</span><span class="nx">id</span><span class="p">:</span><span class="kr">number</span><span class="p">):</span><span class="k">void</span> <span class="o">=&gt;</span> <span class="p">{</span>  
        <span class="k">this</span><span class="p">.</span><span class="nx">_id</span> <span class="o">=</span> <span class="nx">id</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">public</span> <span class="nx">getId</span> <span class="o">=</span> <span class="p">():</span><span class="kr">number</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_id</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span>  <span class="c1">//undefinedでないことをチェックしないとビルドが通らない</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_id</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div>
</div>

<h2>
<span id="windowsアプリでも問題になるけど内部状態はどう管理したらいいの" class="fragment"></span><a href="#windows%E3%82%A2%E3%83%97%E3%83%AA%E3%81%A7%E3%82%82%E5%95%8F%E9%A1%8C%E3%81%AB%E3%81%AA%E3%82%8B%E3%81%91%E3%81%A9%E5%86%85%E9%83%A8%E7%8A%B6%E6%85%8B%E3%81%AF%E3%81%A9%E3%81%86%E7%AE%A1%E7%90%86%E3%81%97%E3%81%9F%E3%82%89%E3%81%84%E3%81%84%E3%81%AE"><i class="fa fa-link"></i></a>Windowsアプリでも問題になるけど内部状態はどう管理したらいいの？</h2>

<p>React界隈でも問題になったようで、<a href="https://facebook.github.io/flux/" rel="nofollow noopener" target="_blank">Flax</a>というアーキテクチャが生み出されています。</p>

<p><a href="https://camo.qiitausercontent.com/1dae230fe7c48facdbb95ebeb2937dca24230441/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f33383230396262382d333765632d313065372d336432652d3834326338333230636438372e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F38209bb8-37ec-10e7-3d2e-842c8320cd87.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=95a6663a57efde8013f9e4480539a0d3" alt="flux.jpg" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/38209bb8-37ec-10e7-3d2e-842c8320cd87.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F38209bb8-37ec-10e7-3d2e-842c8320cd87.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=39c1f92592caa11d0351fba0585113a7 1x" loading="lazy"></a></p>

<p>参考: <a href="https://facebook.github.io/flux/" class="autolink" rel="nofollow noopener" target="_blank">https://facebook.github.io/flux/</a></p>

<p>簡単に解説すると、(1)内部状態(Store)は1か所に集約する、<br>
(2)GoFのCommandパターンで状態を更新する(ActionとDispatcher)、<br>
(3)Viewは内部状態をただ表現するだけ、のようです。<br>
この発想自体は、Windowsアプリケーションでも参考になりそうですね。</p>

<p>ただ、理念は良さそうですが、Flax実装の一つで一番人気のReduxは肌に合わなかったです。<br>
単にReduxの実装がよくないだけかもしれませんし、<br>
Commandパターンにありがちな、無駄に実装量が増えるあたりかもしれません。</p>

<p>代替策を調べた結果、もう少し簡易的な状態管理ライブラリである、MobXが良さそうに思えました。<br>
MobXは、上の(1)～(3)の中では、(2)はあきらめて、<br>
DIとGoFのObserverパターンを追加した感じです。<br>
WPFにMVVMパターンがありますが、それに似ています。</p>

<p>すなわち、いろいろなViewModelは1か所で管理されて、Viewの定義に従ってDIされる、<br>
ViewModelで状態が変わるとView側(React)に通知が来て、再描画される、という感じです。</p>

<p><a href="https://camo.qiitausercontent.com/9108397e70be0ae828b51fd21751bd0409942872/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f37643931613539342d313633342d386438352d393761632d3763316565346162633432612e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F7d91a594-1634-8d85-97ac-7c1ee4abc42a.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=622316446f1478194f1bb2461708ac4a" alt="MobX_Abstract.jpg" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/7d91a594-1634-8d85-97ac-7c1ee4abc42a.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F7d91a594-1634-8d85-97ac-7c1ee4abc42a.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=74e66c87ff9ad539a922292f7803af2e 1x" loading="lazy"></a></p>

<p>C#でMobXに似たような実装を書くとこんな感じ。</p>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">C#でのMobXっぽい実装イメージ</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">App</span><span class="p">:</span> <span class="n">UserControl</span>
<span class="p">{</span>
    <span class="n">ViewModel</span> <span class="n">_viewModel</span><span class="p">;</span>

    <span class="p">[</span><span class="nf">Inject</span><span class="p">(</span><span class="s">"viewModel"</span><span class="p">)]</span>  <span class="c1">//この属性を目印にDIされる</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">SetViewModel</span><span class="p">(</span><span class="n">ViewModel</span> <span class="n">viewModel</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">_viewModel</span> <span class="p">=</span> <span class="n">viewModel</span><span class="p">;</span>
        <span class="n">_viewModel</span><span class="p">.</span><span class="n">PropertiesUpdated</span> <span class="p">+=</span> <span class="n">_viewModel_PropertiesUpdated</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nf">_textBox1_TextChanged</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">_viewModel</span><span class="p">.</span><span class="n">Text</span> <span class="p">=</span> <span class="n">_textBox1</span><span class="p">.</span><span class="n">Text</span><span class="p">;</span>  <span class="c1">//コントロールの変更はViewModelに伝える</span>
    <span class="p">}</span>

    <span class="nf">_viewModel_PropertiesUpdated</span><span class="p">()</span>  <span class="c1">// ViewModelの変更から画面を更新する</span>
    <span class="p">{</span>
        <span class="c1">// 描画更新</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">ViewModel</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="kt">string</span> <span class="n">_text</span><span class="p">;</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Text</span> <span class="p">{</span>
        <span class="k">get</span> <span class="p">{</span> <span class="k">return</span> <span class="n">_text</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">set</span> <span class="p">{</span> <span class="n">_text</span> <span class="p">=</span> <span class="k">value</span><span class="p">;</span> <span class="n">PropertiesUpdated</span><span class="p">?.</span><span class="nf">Invoke</span><span class="p">();}</span>  <span class="c1">//プロパティの変更を通知する</span>
    <span class="p">}</span>
    <span class="k">public</span> <span class="k">event</span> <span class="n">Action</span> <span class="n">PropertiesUpdated</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>参考: <a href="https://mobx.js.org/README.html" class="autolink" rel="nofollow noopener" target="_blank">https://mobx.js.org/README.html</a></p>

<h1>
<span id="reactをとにかく使ってみたい" class="fragment"></span><a href="#react%E3%82%92%E3%81%A8%E3%81%AB%E3%81%8B%E3%81%8F%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%BF%E3%81%9F%E3%81%84"><i class="fa fa-link"></i></a>Reactをとにかく使ってみたい</h1>

<p>さて、基礎知識はここまでとして、実際に手を動かしてみましょう。<br>
思ったより長くなったので、興味ない方は、以降は読み飛ばして、まとめに行ってもらってもいいです。</p>

<h2>
<span id="事前に必要なもの" class="fragment"></span><a href="#%E4%BA%8B%E5%89%8D%E3%81%AB%E5%BF%85%E8%A6%81%E3%81%AA%E3%82%82%E3%81%AE"><i class="fa fa-link"></i></a>事前に必要なもの</h2>

<p>環境は、C#er前提なのでWindowsです(ほかの環境でも動きそうですが確認していません)。<br>
また、次のアプリをインストールしておく必要があります。</p>

<ul>
<li><a href="https://nodejs.org/en/" rel="nofollow noopener" target="_blank">Node.js</a></li>
<li>
<a href="https://www.google.com/intl/ja_jp/chrome/" rel="nofollow noopener" target="_blank">Google Chrome</a>

<ul>
<li>
<a href="https://chrome.google.com/webstore/detail/react-developer-%0Atools/fmkadmapgofadopljbjfkapdkoienihi?hl=ja" rel="nofollow noopener" target="_blank">React Developer Tools</a>( Reactの開発にあると便利ですが、今回は使いません)</li>
</ul>
</li>
<li>
<a href="https://azure.microsoft.com/ja-jp/products/visual-studio-code/" rel="nofollow noopener" target="_blank">Visual Studio Code</a>

<ul>
<li><a href="https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint" rel="nofollow noopener" target="_blank">ESLint Extension</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode" rel="nofollow noopener" target="_blank">Prettier - Code formatter Extension</a></li>
</ul>
</li>
</ul>

<p>なお、React本体やTypescriptコンパイラは開発用フォルダにダウンロードされますので 上記以外ではOSを汚しません。(・・・はず)</p>

<h2>
<span id="開発環境" class="fragment"></span><a href="#%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83"><i class="fa fa-link"></i></a>開発環境</h2>

<p>まずは開発環境を作ります。 次のコマンドで、<code>create-react-app</code>というReact開発環境のテンプレートを生成するツールをダウンロードします。なお、npmはC#でいうところのNugetです。</p>

<div class="code-frame" data-lang="powershell">
<div class="code-lang"><span class="bold">commandline</span></div>
<div class="highlight"><pre class="with-code"><code><span class="n">cd</span><span class="w"> </span><span class="p">(</span><span class="err">適当な空フォルダー</span><span class="p">)</span><span class="w">
</span><span class="n">npm</span><span class="w"> </span><span class="nx">install</span><span class="w"> </span><span class="nx">create-react-app</span><span class="w">
</span></code></pre></div>
</div>

<p>ダウンロードしたモジュールはnode_modulesフォルダに入っており、実行モジュールは<code>node_modules/.bin</code>にあります。<br>
それを使って、開発環境を生成します。<br>
第一引数はフォルダ名(およびプロジェクト名)を、第二引数の<code>--typescript</code>はJavascriptではなくTypescriptを使うことを指定しています。</p>

<div class="code-frame" data-lang="powershell">
<div class="code-lang"><span class="bold">commandline</span></div>
<div class="highlight"><pre class="with-code"><code><span class="n">node_modules\.bin\create-react-app</span><span class="w"> </span><span class="nx">test</span><span class="w"> </span><span class="nt">--typescript</span><span class="w">
</span></code></pre></div>
</div>

<p>出来上がった開発環境のフォルダに移動して、実行してみましょう。</p>

<div class="code-frame" data-lang="shell">
<div class="code-lang"><span class="bold">commandline</span></div>
<div class="highlight"><pre class="with-code"><code><span class="nb">cd test
</span>npm start
</code></pre></div>
</div>

<p>&lt;&lt;2020-12-31 Deleted&gt;&gt;<br>
この.envファイルは、最新のReactで不要になったようです。<br>
一応、古いバージョンを使うこともあるので、記事はこのまま残しておきます。</p>

<p>&lt;&lt;2020-10-04 Added&gt;&gt;<br>
<code>npm start</code> で開発用サーバーとブラウザが立ち上がるはずですが・・・<br>
次のようなエラーが出ることがあります。<br>
eslintのバージョンが高すぎると出るようですが、<br>
reactにeslintが含まれているのでエラーになってしまいます。</p>

<div class="code-frame" data-lang="commandline"><div class="highlight"><pre class="with-code"><code>&gt; npm start
There might be a problem with the project dependency tree.
It is likely not a bug in Create React App, but something you need to fix locally.

The react-scripts package provided by Create React App requires a dependency:

  "eslint": "^6.6.0"

Don't try to install it manually: your package manager does it automatically.
However, a different version of eslint was detected higher up in the tree:

  c:\work\trials-create-react-app\node_modules\eslint (version: 7.7.0)

Manually installing incompatible versions is known to cause hard-to-debug issues.

If you would prefer to ignore this check, add SKIP_PREFLIGHT_CHECK=true to an .env file in your project.
That will permanently disable this message but you might encounter other issues.
</code></pre></div></div>

<p>対処方法は、エラー出力に書いてある通りで、一度eslintを消すのが正解ですが、<br>
ここでは面倒なので、もう一つの方法であるエラー無視の方向にします。</p>

<p>次のようなファイルを作ります。</p>

<div class="code-frame" data-lang="">
<div class="code-lang"><span class="bold">.env</span></div>
<div class="highlight"><pre class="with-code"><code>SKIP_PREFLIGHT_CHECK=true
</code></pre></div>
</div>

<p>これで、 <code>npm start</code> でエラーが出なくなります。</p>

<p>&lt;&lt;2020-10-04 Added終わり&gt;&gt;<br>
&lt;&lt;2020-12-31 Deleted終わり&gt;&gt;</p>

<p>&lt;&lt;2020-12-31 Added&gt;&gt;<br>
Visual Studio CodeでApp.tsxを開いたときに次のようなエラーになることがあります。</p>

<p><a href="https://camo.qiitausercontent.com/fce70e5144f68ee393b523fcef59e79033186105/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f33663034633930312d373937662d363266612d353933642d6238316435323763303232642e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F3f04c901-797f-62fa-593d-b81d527c022d.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=137d0b85f35a1586a3fe7d67cddce59f" alt="VSCode-Error-JSXUnlessJsxFlag.jpg" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/3f04c901-797f-62fa-593d-b81d527c022d.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F3f04c901-797f-62fa-593d-b81d527c022d.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=a4fd7409b4e41b8ea34541970a7080b6 1x" loading="lazy"></a></p>

<blockquote>
<p>Cannot use JSX unless the '--jsx' flag is provided.</p>
</blockquote>

<p>エラーメッセージだけだと意味不明ですが、<br>
Visual Studio Codeが使用するTypescriptのバージョンが古いと発生するようです。<br>
Visual Studio CodeのステータスバーにTypeScriptのバージョンが表示されていますので、<br>
それをクリックし、[Select TypeScript Version] → [Use Workspace Version]で<br>
node_modules以下のTypeScriptを使用するように設定できます。</p>

<p><a href="https://camo.qiitausercontent.com/ecc784efbc4a2c21fd6db29cf616b43b4a9d6f3a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f36656461643238362d643762322d323631322d386437372d3433626138326632346337642e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F6edad286-d7b2-2612-8d77-43ba82f24c7d.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=2cdbba0e3622334c6bca8af983d8359a" alt="VSCode-UseTypescriptVersion.jpg" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/6edad286-d7b2-2612-8d77-43ba82f24c7d.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F6edad286-d7b2-2612-8d77-43ba82f24c7d.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=3c111252d5eaa146be074749d6083158 1x" loading="lazy"></a></p>

<p>上記の設定をすると、settings.jsonに以下のように記録されますので、直接settings.jsonを編集しても良いようです。</p>

<div class="code-frame" data-lang="json">
<div class="code-lang"><span class="bold">.vscode\settings.json</span></div>
<div class="highlight"><pre class="with-code"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"typescript.tsdk"</span><span class="p">:</span><span class="w"> </span><span class="s2">"node_modules</span><span class="se">\\</span><span class="s2">typescript</span><span class="se">\\</span><span class="s2">lib"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
</div>

<p>&lt;&lt;2020-12-31 Added終わり&gt;&gt;</p>

<p>出来上がった開発環境のフォルダに移動して、実行してみましょう。</p>

<div class="code-frame" data-lang="shell">
<div class="code-lang"><span class="bold">commandline</span></div>
<div class="highlight"><pre class="with-code"><code><span class="nb">cd test
</span>npm start
</code></pre></div>
</div>

<p>初期の画面が表示されます。 <code>npm start</code> は、Visual Studioのデバッグの開始のようなもので、<br>
自動的にhttpサーバーが起動し、ソースがビルドされて、Webページが表示されます。</p>

<p><a href="https://camo.qiitausercontent.com/22166a255c2b2c58e54054986f478a28cf3bea5b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f37316462666136612d653064342d616430302d333237662d3361636136303764363430352e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F71dbfa6a-e0d4-ad00-327f-3aca607d6405.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=40c425ffb8e995b1edbf0577b2e7bcb2" alt="React-init-screen.jpg" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/71dbfa6a-e0d4-ad00-327f-3aca607d6405.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F71dbfa6a-e0d4-ad00-327f-3aca607d6405.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=cca18b308d7c8de83ad2a03f319b20b4 1x" loading="lazy"></a></p>

<p>この状態で、ソースコードを一部変更してみます。<br>
Visual Studio Code等のテキストエディタで<code>src/App.tsx</code>を編集します。</p>

<div class="code-frame" data-lang="diff">
<div class="code-lang"><span class="bold">src/App.tsx</span></div>
<div class="highlight"><pre class="with-code"><code><span class="gd">- Edit &lt;code&gt;src/App.tsx&lt;/code&gt; and save to reload.
</span><span class="gi">+ Hello World
</span></code></pre></div>
</div>

<p>ソースコードを変更すると自動でビルドされ、Webページも更新されます。</p>

<p><a href="https://camo.qiitausercontent.com/bd3aff29a3190c378712afaac2b8ab40193661db/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f39373435306132622d363965662d633839342d326562642d6531666566313963306638632e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F97450a2b-69ef-c894-2ebd-e1fef19c0f8c.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=c2681f9e921bef6090bf7cd92d592ea5" alt="React-init-screen-Helloworld.jpg" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/97450a2b-69ef-c894-2ebd-e1fef19c0f8c.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F97450a2b-69ef-c894-2ebd-e1fef19c0f8c.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=cc681b6ae976cae706d7b7c630b75678 1x" loading="lazy"></a></p>

<p>終了は、コマンドプロンプトでCtrl+Cです。</p>

<p>開発環境のファイル構成はこんな感じです。<br>
よく使うファイルは説明を付けました。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>├ build         ・・・ビルド結果が入る。C#でいうとbin/Release
├ node_modules  ・・・ダウンロードしたパッケージがあります。C#でいうとpackages
├ public        ・・・この中身がビルド時にコピーされる。index.htmlとか入っている
├ src           ・・・ソースコードフォルダ
│  ├ App.css
│  ├ App.test.tsx ・・・App.tsxのユニットテスト。
│  ├ App.tsx      ・・・Web画面。ここをメインで編集します。C#でいうとForm1.Designer.cs
│  ├ index.css
│  ├ index.tsx    ・・・エントリーポイントです。C#でいうとProgram.csのmain関数
│  ├ logo.svg
│  ├ react-app-env.d.ts
│  ├ serviceWorker.ts
│  └ setupTests.ts
├ .env　　　　　　　　・・・環境変数の定義 (2020-10-04 Added)
├ .gitignore
├ package.json      ・・・このプロジェクトの情報が記載されている。C#でいうと*.csproj
├ package-lock.json ・・・依存パッケージの情報。package.jsonにもあるけど、こっちがマスター？
├ README.md
└ tsconfig.json     ・・・Typescriptの設定。
</code></pre></div></div>

<h2>
<span id="開発環境を作りこむ" class="fragment"></span><a href="#%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%E3%82%92%E4%BD%9C%E3%82%8A%E3%81%93%E3%82%80"><i class="fa fa-link"></i></a>開発環境を作りこむ</h2>

<p>このままでも開発可能ですが、コードチェックの設定を行って、楽をしましょう。<br>
C#でいうと、Visual Studioのコード分析か、Resharperですね。</p>

<p>必要なパッケージをダウンロードします。</p>

<p>(2020-09-02 Modified)<br>
reactをバージョンアップしたら、このやり方だとエラーが出るようになりました。eslintはすでに導入されているため追加でインストールしてはいけないようです。<br>
参考: <a href="https://qiita.com/arakappa/items/9781556a8a67b6779a0e" class="autolink" id="reference-0038219a8b82a3cb97ac">https://qiita.com/arakappa/items/9781556a8a67b6779a0e</a></p>

<div class="code-frame" data-lang="shell">
<div class="code-lang"><span class="bold">commandline</span></div>
<div class="highlight"><pre class="with-code"><code>npm <span class="nb">install</span> <span class="nt">--save-dev</span> @typescript-eslint/eslint-plugin @typescript-eslint/parser eslint-config-prettier eslint-plugin-prettier prettier

↓は古いやり方
npm <span class="nb">install</span> <span class="nt">--save-dev</span> @typescript-eslint/eslint-plugin @typescript-eslint/parser eslint eslint-config-prettier eslint-plugin-prettier prettier
</code></pre></div>
</div>

<p>コードチェックのルール用ファイルを作成します。</p>

<div class="code-frame" data-lang="json">
<div class="code-lang"><span class="bold">.eslintrc.json</span></div>
<div class="highlight"><pre class="with-code"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"extends"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"react-app"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"eslint:recommended"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"plugin:@typescript-eslint/recommended"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"plugin:@typescript-eslint/eslint-recommended"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"plugin:prettier/recommended"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"prettier/@typescript-eslint"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"plugins"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"@typescript-eslint"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"parser"</span><span class="p">:</span><span class="w"> </span><span class="s2">"@typescript-eslint/parser"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"env"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"browser"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nl">"node"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nl">"es6"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nl">"parserOptions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"sourceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"module"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">

    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre></div>
</div>

<p>次のコマンドでソースコードのコードチェックが行われます。</p>

<div class="code-frame" data-lang="shell">
<div class="code-lang"><span class="bold">commandline</span></div>
<div class="highlight"><pre class="with-code"><code>node_modules/.bin/eslint src <span class="nt">--ext</span> .js,.jsx,.ts,.tsx
</code></pre></div>
</div>

<div class="code-frame" data-lang="">
<div class="code-lang"><span class="bold">コードチェック結果</span></div>
<div class="highlight"><pre class="with-code"><code>(WorkDir)\src\App.test.tsx
  1:19  error  Replace `'react'` with `"react"`                                        prettier/prettier
  2:24  error  Replace `'@testing-library/react'` with `"@testing-library/react"`      prettier/prettier
  3:17  error  Replace `'./App'` with `"./App"`                                        prettier/prettier

・・・

✖ 39 problems (33 errors, 6 warnings)
  33 errors and 0 warnings potentially fixable with the `--fix` option.

</code></pre></div>
</div>

<p>デフォルト状態では、大量にエラーが表示されます。</p>

<p>次に、Visual Studio Codeでの警告表示と保存時の自動Fixを設定します。<br>
Visual Studio Codeの設定ファイルに以下を追加します。ファイルやフォルダがなければ新規作成してください。</p>

<p>(2020-09-02 Modified)<br>
Visual Studio Codeをバージョンアップしたら動作しなくなりました。<br>
新しいeslintプラグインの書き方に変更する必要があるようです。<br>
参考: <a href="https://qiita.com/mysticatea/items/3f306470e8262e50bb70" class="autolink" id="reference-1f2829960eb4e2d88b65">https://qiita.com/mysticatea/items/3f306470e8262e50bb70</a></p>

<div class="code-frame" data-lang="json">
<div class="code-lang"><span class="bold">.vscode\settings.json</span></div>
<div class="highlight"><pre class="with-code"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"editor.codeActionsOnSave"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"source.fixAll.eslint"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"eslint.validate"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"javascript"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"javascriptreact"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"typescript"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"typescriptreact"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"typescript.tsdk"</span><span class="p">:</span><span class="w"> </span><span class="s2">"node_modules</span><span class="se">\\</span><span class="s2">typescript</span><span class="se">\\</span><span class="s2">lib"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">(</span><span class="mi">2020-12-31</span><span class="w"> </span><span class="err">Added)</span><span class="w"> </span><span class="err">Visual</span><span class="w"> </span><span class="err">Studio</span><span class="w"> </span><span class="err">Codeが使用するTypeScriptの設定</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
</div>

<div class="code-frame" data-lang="json">
<div class="code-lang"><span class="bold">.vscode\settings.json</span></div>
<div class="highlight"><pre class="with-code"><code><span class="err">(これは古いeslintプラグインでの書き方です。)</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"eslint.autoFixOnSave"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"eslint.validate"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"javascript"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"javascriptreact"</span><span class="p">,</span><span class="w">
        </span><span class="p">{</span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"typescript"</span><span class="p">,</span><span class="w"> </span><span class="nl">"autoFix"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"typescriptreact"</span><span class="p">,</span><span class="w"> </span><span class="nl">"autoFix"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
</div>

<p>これで、Visual Studio CodeでJavascriptやTypescriptのファイルを開いた場合に以下のように警告が表示され、<br>
上書き保存時に自動修正できる箇所は修正されます。</p>

<p><a href="https://camo.qiitausercontent.com/670cb6b3ba6800f766ec6efa6bb534206942f3e2/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f65343964376136662d306137322d343262632d343766312d3965366363373564636562322e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2Fe49d7a6f-0a72-42bc-47f1-9e6cc75dceb2.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=434bf4b9fdb251d7ffc4dfe886b01f58" alt="VSCode-Warning.jpg" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/e49d7a6f-0a72-42bc-47f1-9e6cc75dceb2.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2Fe49d7a6f-0a72-42bc-47f1-9e6cc75dceb2.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=2cf34f87bf2885ed867c4bbd8ca55692 1x" loading="lazy"></a></p>

<p>eslintの出力に記載があるように<code>--fix</code>をつけると自動Fixできますが、ファイル数も少ないので、<br>
Visual Studio Codeで1つ1つファイルを開いては上書き保存していきます。</p>

<p>もう一度eslintを実行すると、自動解決できない警告だけになっています。 <br>
ここでは、気にしない方向で無視します。<br>
なお、<code>@typescript-eslint/explicit-function-return-type</code>を無視するように<code>eslintrc.json</code>に記載するか、<code>serviceWorker</code>の関数の戻り値をちゃんと宣言すれば、警告を消せます。</p>

<div class="code-frame" data-lang="shell">
<div class="code-lang"><span class="bold">commandline</span></div>
<div class="highlight"><pre class="with-code"><code>node_modules/.bin/eslint src <span class="nt">--ext</span> .js,.jsx,.ts,.tsx
</code></pre></div>
</div>

<div class="code-frame" data-lang="">
<div class="code-lang"><span class="bold">コードチェック結果</span></div>
<div class="highlight"><pre class="with-code"><code>(WorkDir)\src\serviceWorker.ts
   28:8   warning  Missing return type on function  @typescript-eslint/explicit-function-return-type
   62:1   warning  Missing return type on function  @typescript-eslint/explicit-function-return-type
   66:36  warning  Missing return type on function  @typescript-eslint/explicit-function-return-type
   71:42  warning  Missing return type on function  @typescript-eslint/explicit-function-return-type
  106:1   warning  Missing return type on function  @typescript-eslint/explicit-function-return-type
  136:8   warning  Missing return type on function  @typescript-eslint/explicit-function-return-type

✖ 6 problems (0 errors, 6 warnings)
</code></pre></div>
</div>

<p>毎回、上記のeslintコマンドを入れるのは面倒なので、mpn scriptにします。 (なおnode_modules/.bin のパスは、npmコマンドで実行すると解決されるので不要です)</p>

<div class="code-frame" data-lang="diff">
<div class="code-lang"><span class="bold">package.json</span></div>
<div class="highlight"><pre class="with-code"><code><span class="gd">-   "eject": "react-scripts eject"
</span><span class="gi">+   "eject": "react-scripts eject", 
+   "lint": "eslint src --ext .js,.jsx,.ts,.tsx"
</span></code></pre></div>
</div>

<p>これで、<code>npm run lint</code>で実行できるようになります。</p>

<div class="code-frame" data-lang="shell">
<div class="code-lang"><span class="bold">commandline</span></div>
<div class="highlight"><pre class="with-code"><code>npm run lint
</code></pre></div>
</div>

<div class="code-frame" data-lang="">
<div class="code-lang"><span class="bold">コードチェック結果</span></div>
<div class="highlight"><pre class="with-code"><code>(WorkDir)\src\serviceWorker.ts
   28:8   warning  Missing return type on function  @typescript-eslint/explicit-function-return-type
   62:1   warning  Missing return type on function  @typescript-eslint/explicit-function-return-type
   66:36  warning  Missing return type on function  @typescript-eslint/explicit-function-return-type
   71:42  warning  Missing return type on function  @typescript-eslint/explicit-function-return-type
  106:1   warning  Missing return type on function  @typescript-eslint/explicit-function-return-type
  136:8   warning  Missing return type on function  @typescript-eslint/explicit-function-return-type

✖ 6 problems (0 errors, 6 warnings)
</code></pre></div>
</div>

<p>参考</p>

<ul>
<li><a href="https://qiita.com/madono/items/a134e904e891c5cb1d20" class="autolink" id="reference-10b8e1d3dfab533d7c02">https://qiita.com/madono/items/a134e904e891c5cb1d20</a></li>
<li><a href="https://ginpen.com/2019/08/06/eslint-for-react-in-typescript/" class="autolink" rel="nofollow noopener" target="_blank">https://ginpen.com/2019/08/06/eslint-for-react-in-typescript/</a></li>
</ul>

<h2>
<span id="class-componentにする" class="fragment"></span><a href="#class-component%E3%81%AB%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>Class Componentにする</h2>

<p><code>App.tsx</code>のデフォルトは、Functional Componentです。<br>
上で話した通り、C#er的にはClass Componentのほうがわかりやすいので、Class Componentに変更します。</p>

<p>といっても、わりと機械的な作業で、 <code>React.Component</code>を継承したclassを作って、<br>
デフォルトで実装されていた<code>App</code>関数を<code>render</code>関数にします。</p>

<div class="code-frame" data-lang="react">
<div class="code-lang"><span class="bold">src/App.tsx(変更前)</span></div>
<div class="highlight"><pre class="with-code"><code><span class="kd">const</span> <span class="nx">App</span><span class="p">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">FC</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"App"</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">header</span> <span class="na">className</span><span class="p">=</span><span class="s">"App-header"</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="p">=</span><span class="si">{</span><span class="nx">logo</span><span class="si">}</span> <span class="na">className</span><span class="p">=</span><span class="s">"App-logo"</span> <span class="na">alt</span><span class="p">=</span><span class="s">"logo"</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Hello World<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">a</span>
          <span class="na">className</span><span class="p">=</span><span class="s">"App-link"</span>
          <span class="na">href</span><span class="p">=</span><span class="s">"https://reactjs.org"</span>
          <span class="na">target</span><span class="p">=</span><span class="s">"_blank"</span>
          <span class="na">rel</span><span class="p">=</span><span class="s">"noopener noreferrer"</span>
        <span class="p">&gt;</span>
          Learn React
        <span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">};</span>
</code></pre></div>
</div>

<div class="code-frame" data-lang="react">
<div class="code-lang"><span class="bold">src/App.tsx(変更後)</span></div>
<div class="highlight"><pre class="with-code"><code><span class="kd">class</span> <span class="nx">App</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
  <span class="kr">public</span> <span class="nx">render</span> <span class="o">=</span> <span class="p">():</span> <span class="nx">JSX</span><span class="p">.</span><span class="nx">Element</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"App"</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">header</span> <span class="na">className</span><span class="p">=</span><span class="s">"App-header"</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="p">=</span><span class="si">{</span><span class="nx">logo</span><span class="si">}</span> <span class="na">className</span><span class="p">=</span><span class="s">"App-logo"</span> <span class="na">alt</span><span class="p">=</span><span class="s">"logo"</span> <span class="p">/&gt;</span>
          <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Hello World<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nt">a</span>
            <span class="na">className</span><span class="p">=</span><span class="s">"App-link"</span>
            <span class="na">href</span><span class="p">=</span><span class="s">"https://reactjs.org"</span>
            <span class="na">target</span><span class="p">=</span><span class="s">"_blank"</span>
            <span class="na">rel</span><span class="p">=</span><span class="s">"noopener noreferrer"</span>
          <span class="p">&gt;</span>
            Learn React
          <span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">);</span>
  <span class="p">};</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>ポイントは以下です。</p>

<ul>
<li>
<code>React.Component</code>を継承したclassを作ります。なお、Typescriptの継承は<code>extends</code>です。</li>
<li>
<code>reander</code>関数の戻り値はhtmlっぽい何かで、型的には<code>JSX.Element</code>になります。

<ul>
<li>
<code>class</code> は <code>className</code> にする(javascriptの構文と名前が被るので)</li>
<li>Htmlの属性は文字列以外は{}で囲ってJavascriptまたはTypescriptで記載する</li>
<li>styleは <code>{{width:"50%"}}</code> のように<code>{}</code>で囲われたJsonで書く</li>
</ul>
</li>
</ul>

<p><code>npm start</code>してみると、当然ですが、見た目は変わりません。</p>

<p><a href="https://camo.qiitausercontent.com/bd3aff29a3190c378712afaac2b8ab40193661db/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f39373435306132622d363965662d633839342d326562642d6531666566313963306638632e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F97450a2b-69ef-c894-2ebd-e1fef19c0f8c.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=c2681f9e921bef6090bf7cd92d592ea5" alt="React-init-screen-Helloworld.jpg" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/97450a2b-69ef-c894-2ebd-e1fef19c0f8c.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F97450a2b-69ef-c894-2ebd-e1fef19c0f8c.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=cc681b6ae976cae706d7b7c630b75678 1x" loading="lazy"></a></p>

<p>参考: <a href="https://qiita.com/daikoncl/items/a3806d8a8bf35f086487" class="autolink">https://qiita.com/daikoncl/items/a3806d8a8bf35f086487</a></p>

<h2>
<span id="material-uiを導入する" class="fragment"></span><a href="#material-ui%E3%82%92%E5%B0%8E%E5%85%A5%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>Material-UIを導入する</h2>

<p>Reactのデフォルトでは、標準のhtmlタグしか使えません。 デザインセンス無しでそこそこイケてるWeb画面を作るために、既存の部品を使います。<br>
ここでは、上で紹介した、Material-UIです。</p>

<p>まずパッケージをインストールします。</p>

<div class="code-frame" data-lang="shell">
<div class="code-lang"><span class="bold">commandline</span></div>
<div class="highlight"><pre class="with-code"><code>npm <span class="nb">install</span> @material-ui/core @material-ui/icons <span class="nt">--save</span>
</code></pre></div>
</div>

<p>そして、material-uiを使ったUIに<code>App.tsx</code>をマルっと書き換えます。<br>
<code>Card</code>を使って、ブログのサマリーページ的な感じにしました。<br>
<code>Card</code>の使い方は、Material-UIの公式を参考に。<br>
<a href="https://material-ui.com/components/cards/" class="autolink" rel="nofollow noopener" target="_blank">https://material-ui.com/components/cards/</a></p>

<div class="code-frame" data-lang="react">
<div class="code-lang"><span class="bold">src/App.tsx</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Card</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@material-ui/core/Card</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">CardHeader</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@material-ui/core/CardHeader</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">CardContent</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@material-ui/core/CardContent</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">IconButton</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@material-ui/core/IconButton</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">MoreVertIcon</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@material-ui/icons/MoreVert</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Typography</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@material-ui/core/Typography</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="dl">"</span><span class="s2">./App.css</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">class</span> <span class="nx">App</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">render</span><span class="p">():</span> <span class="nx">JSX</span><span class="p">.</span><span class="nx">Element</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"App"</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">Card</span> <span class="na">style</span><span class="p">=</span><span class="si">{</span><span class="p">{</span> <span class="na">width</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span> <span class="na">margin</span><span class="p">:</span> <span class="mi">2</span> <span class="p">}</span><span class="si">}</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nc">CardHeader</span>
            <span class="na">action</span><span class="p">=</span><span class="si">{</span>
              <span class="p">&lt;</span><span class="nc">IconButton</span> <span class="na">aria</span><span class="err">-</span><span class="na">label</span><span class="p">=</span><span class="s">"settings"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nc">MoreVertIcon</span> <span class="p">/&gt;</span>
              <span class="p">&lt;/</span><span class="nc">IconButton</span><span class="p">&gt;</span>
            <span class="si">}</span>
            <span class="na">title</span><span class="p">=</span><span class="s">"タイトル"</span>
            <span class="na">subheader</span><span class="p">=</span><span class="s">"2019-12-17"</span>
          <span class="p">/&gt;</span>
          <span class="p">&lt;</span><span class="nc">CardContent</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nc">Typography</span> <span class="na">color</span><span class="p">=</span><span class="s">"textSecondary"</span> <span class="na">gutterBottom</span><span class="p">&gt;</span>
              アブストラクトです。
            <span class="p">&lt;/</span><span class="nc">Typography</span><span class="p">&gt;</span>
          <span class="p">&lt;/</span><span class="nc">CardContent</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nc">Card</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">Card</span> <span class="na">style</span><span class="p">=</span><span class="si">{</span><span class="p">{</span> <span class="na">width</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span> <span class="na">margin</span><span class="p">:</span> <span class="mi">2</span> <span class="p">}</span><span class="si">}</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nc">CardHeader</span>
            <span class="na">action</span><span class="p">=</span><span class="si">{</span>
              <span class="p">&lt;</span><span class="nc">IconButton</span> <span class="na">aria</span><span class="err">-</span><span class="na">label</span><span class="p">=</span><span class="s">"settings"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nc">MoreVertIcon</span> <span class="p">/&gt;</span>
              <span class="p">&lt;/</span><span class="nc">IconButton</span><span class="p">&gt;</span>
            <span class="si">}</span>
            <span class="na">title</span><span class="p">=</span><span class="s">"タイトルその2"</span>
            <span class="na">subheader</span><span class="p">=</span><span class="s">"2019-12-17"</span>
          <span class="p">/&gt;</span>
          <span class="p">&lt;</span><span class="nc">CardContent</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nc">Typography</span> <span class="na">color</span><span class="p">=</span><span class="s">"textSecondary"</span> <span class="na">gutterBottom</span><span class="p">&gt;</span>
              アブストラクトその2です。
            <span class="p">&lt;/</span><span class="nc">Typography</span><span class="p">&gt;</span>
          <span class="p">&lt;/</span><span class="nc">CardContent</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nc">Card</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span><span class="p">;</span>
</code></pre></div>
</div>

<p><code>npm start</code>してみると次のようになります。<br>
いろいろスタイルは手抜きですが、影とかアイコンとかそれっぽくなりました。</p>

<p><a href="https://camo.qiitausercontent.com/4e00ed35602eab8609bdf4bbafc572ceb47ae2bd/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f34363138633861322d633065622d323763652d333338302d3461353432313336663962302e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F4618c8a2-c0eb-27ce-3380-4a542136f9b0.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=4e2ed11a778f335b9a8eacfb4aa00ccf" alt="React-blog-top.jpg" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/4618c8a2-c0eb-27ce-3380-4a542136f9b0.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F4618c8a2-c0eb-27ce-3380-4a542136f9b0.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=ef50c91ceecb4fc63d46714e6a4e0ff7 1x" loading="lazy"></a></p>

<p>参考: <a href="https://material-ui.com/" class="autolink" rel="nofollow noopener" target="_blank">https://material-ui.com/</a></p>

<h2>
<span id="データをサーバーから取得" class="fragment"></span><a href="#%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%8B%E3%82%89%E5%8F%96%E5%BE%97"><i class="fa fa-link"></i></a>データをサーバーから取得</h2>

<p>現状、コンテンツは<code>App.tsx</code>に埋め込まれています。 <br>
普通のサイトを考えるとJsonをサーバーから取得すると思います。</p>

<p>ざっくりJsonを想定するとこんな感じでしょうか。</p>

<div class="code-frame" data-lang="json"><div class="highlight"><pre class="with-code"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"タイトル"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-17"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"abstract"</span><span class="p">:</span><span class="w"> </span><span class="s2">"アブストラクトです。"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"タイトルその2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-17"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"abstract"</span><span class="p">:</span><span class="w"> </span><span class="s2">"アブストラクトその2です。"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<p>Webページの組み込みは、いったん後回しとして、 サーバーからJsonを取得して、このデータをWebページに渡すViewModelを作り、 単体テストで動作確認します。</p>

<p>まずは、サーバーがないのでテスト時にHTTPリクエストを代替するパッケージ<code>fetch-mock</code>を入れます。</p>

<div class="code-frame" data-lang="shell">
<div class="code-lang"><span class="bold">commandline</span></div>
<div class="highlight"><pre class="with-code"><code>npm <span class="nb">install </span>fetch-mock @types/fetch-mock node-fetch <span class="nt">--save-dev</span>
</code></pre></div>
</div>

<p>そして、ViewModelとユニットテスト用に2つのファイルを追加します。</p>

<div class="code-frame" data-lang="typescript">
<div class="code-lang"><span class="bold">src/AppStore.ts　(ViewModelです)</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">export</span> <span class="kr">interface</span> <span class="nx">BlogSummary</span> <span class="p">{</span>
  <span class="nl">id</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">title</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">date</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">abstract</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">export</span> <span class="kd">class</span> <span class="nx">AppStore</span> <span class="p">{</span>
  <span class="nl">data</span><span class="p">:</span> <span class="nx">BlogSummary</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">public</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="k">async</span> <span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">json</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="p">(</span>
      <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">/api/summaries/</span><span class="dl">"</span><span class="p">)</span>
    <span class="p">).</span><span class="nx">json</span><span class="p">())</span> <span class="k">as</span> <span class="nx">BlogSummary</span><span class="p">[];</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">data</span> <span class="o">=</span> <span class="nx">json</span><span class="p">;</span>
  <span class="p">};</span>
<span class="p">}</span>
</code></pre></div>
</div>

<div class="code-frame" data-lang="typescript">
<div class="code-lang"><span class="bold">src/AppStore.test.ts　(ユニットテストです)</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">AppStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./AppStore</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">fetchMock</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">fetch-mock</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">dummyData</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="na">id</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">title</span><span class="p">:</span> <span class="dl">"</span><span class="s2">タイトル</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">date</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-17</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">abstract</span><span class="p">:</span> <span class="dl">"</span><span class="s2">アブストラクトです。</span><span class="dl">"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="na">id</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="na">title</span><span class="p">:</span> <span class="dl">"</span><span class="s2">タイトルその2</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">date</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-17</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">abstract</span><span class="p">:</span> <span class="dl">"</span><span class="s2">アブストラクトその2です。</span><span class="dl">"</span>
  <span class="p">}</span>
<span class="p">];</span>
<span class="nx">fetchMock</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">"</span><span class="s2">/api/summaries/</span><span class="dl">"</span><span class="p">,</span> <span class="nx">dummyData</span><span class="p">);</span>

<span class="nx">test</span><span class="p">(</span><span class="dl">"</span><span class="s2">fetchData test</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">target</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AppStore</span><span class="p">();</span>
  <span class="nx">target</span><span class="p">.</span><span class="nx">fetchData</span><span class="p">().</span><span class="nx">then</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">target</span><span class="p">.</span><span class="nx">data</span><span class="p">).</span><span class="nx">toEqual</span><span class="p">(</span><span class="nx">dummyData</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
</div>

<p>ついでに、上の変更ですでに壊れているので <code>src/App.test.tsx</code> を削除します。<br>
(個人的にViewのテストは難しいわりにリターンが少ないので、あまりしません。<br>
 Typescriptで型はチェックできていますし。)</p>

<p>ユニットテストを実行してみましょう。</p>

<div class="code-frame" data-lang="shell">
<div class="code-lang"><span class="bold">commandline</span></div>
<div class="highlight"><pre class="with-code"><code>npm run <span class="nb">test</span>
</code></pre></div>
</div>

<p>成功しました。良さそうです。</p>

<div class="code-frame" data-lang="">
<div class="code-lang"><span class="bold">ユニットテスト結果</span></div>
<div class="highlight"><pre class="with-code"><code> PASS  src/AppStore.test.ts
  √ fetchData test (5ms)

Test Suites: 1 passed, 1 total
Tests:       1 passed, 1 total
Snapshots:   0 total
Time:        2.573s
Ran all test suites related to changed files.

Watch Usage
 › Press a to run all tests.
 › Press f to run only failed tests.
 › Press q to quit watch mode.
 › Press p to filter by a filename regex pattern.
 › Press t to filter by a test name regex pattern.
 › Press Enter to trigger a test run.
</code></pre></div>
</div>

<p>参考: <a href="http://www.wheresrhys.co.uk/fetch-mock/" class="autolink" rel="nofollow noopener" target="_blank">http://www.wheresrhys.co.uk/fetch-mock/</a></p>

<h2>
<span id="mobxを使ってviewmodelとviewを結合する" class="fragment"></span><a href="#mobx%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6viewmodel%E3%81%A8view%E3%82%92%E7%B5%90%E5%90%88%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>MobXを使ってViewModelとViewを結合する</h2>

<p>ViewModel <code>AppStore</code> はルートである <code>Index.tsx</code> の <code>stores</code> で管理し、<code>App</code> にインジェクトします。</p>

<p><a href="https://camo.qiitausercontent.com/8ced9b04d2eae296677e0da1056bea09bac052b1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f62653330373361322d653436332d393563372d653665322d3933636366623334633536352e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2Fbe3073a2-e463-95c7-e6e2-93ccfb34c565.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=4b720227919cd4e2abc788ece26d5bbd" alt="Object-Diagram1.jpg" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/be3073a2-e463-95c7-e6e2-93ccfb34c565.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2Fbe3073a2-e463-95c7-e6e2-93ccfb34c565.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=f51bbce99f93314a16b931674873aa4d 1x" loading="lazy"></a></p>

<p>まずは必要なパッケージをインストールします。</p>

<div class="code-frame" data-lang="shell">
<div class="code-lang"><span class="bold">commandline</span></div>
<div class="highlight"><pre class="with-code"><code>npm <span class="nb">install </span>mobx mobx-react <span class="nt">--save</span>
</code></pre></div>
</div>

<p>そして、MobXはデコレーターを使用するのでTypescriptのオプションを変更します。</p>

<div class="code-frame" data-lang="diff">
<div class="code-lang"><span class="bold">tsconfig.json</span></div>
<div class="highlight"><pre class="with-code"><code><span class="gd">-    "jsx": "react"
</span><span class="gi">+    "jsx": "react",
+    "experimentalDecorators": true
</span>  },
</code></pre></div>
</div>

<p>index.tsxでストア(stores)を作り、 状態を管理する<code>&lt;Provider&gt;&lt;/Provider&gt;</code>で<code>App</code>を囲い、<br>
<code>Provider</code>には<code>stores</code>を渡します。<br>
これにより、<code>App</code>の要求に従って、<code>Provider</code>から必要なViewModelを渡されます。</p>

<div class="code-frame" data-lang="diff">
<div class="code-lang"><span class="bold">src/index.tsx</span></div>
<div class="highlight"><pre class="with-code"><code><span class="gd">- ReactDOM.render(&lt;App /&gt;, document.getElementById("root"));
</span><span class="gi">+ import { AppStore } from "./AppStore";
+ import { Provider } from "mobx-react";
+ 
+ const stores = {
+   appStore: new AppStore()
+ };
+ 
+ ReactDOM.render(
+   &lt;Provider {...stores}&gt;
+     &lt;App /&gt;
+   &lt;/Provider&gt;,
+   document.getElementById("root")
+ );
</span></code></pre></div>
</div>

<p>ストアの <code>appStore</code> を受け取るように <code>App</code> で宣言します。</p>

<div class="code-frame" data-lang="typescript">
<div class="code-lang"><span class="bold">src/App.tsx(変更前)</span></div>
<div class="highlight"><pre class="with-code"><code><span class="kd">class</span> <span class="nx">App</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
</code></pre></div>
</div>

<div class="code-frame" data-lang="typescript">
<div class="code-lang"><span class="bold">src/App.tsx(変更後)</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">AppStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./AppStore</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">inject</span><span class="p">,</span> <span class="nx">observer</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">mobx-react</span><span class="dl">"</span><span class="p">;</span>

<span class="kr">interface</span> <span class="nx">AppProps</span> <span class="p">{</span>
  <span class="nl">appStore</span><span class="p">?:</span> <span class="nx">AppStore</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">@</span><span class="nd">inject</span><span class="p">(</span><span class="dl">"</span><span class="s2">appStore</span><span class="dl">"</span><span class="p">)</span>
<span class="p">@</span><span class="nd">observer</span>
<span class="kd">class</span> <span class="nx">App</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="o">&lt;</span><span class="nx">AppProps</span><span class="o">&gt;</span> <span class="p">{</span>
</code></pre></div>
</div>

<p>ポイントは以下です。</p>

<ul>
<li>React部品で外からパラメータを受け取るにはPropsの仕組みを使います。

<ul>
<li>
<code>React.Component</code>のジェネリック型に、受け取るパラメータを宣言したインターフェイス<code>AppProps</code>を指定します。</li>
<li>今回は<code>stores</code>で管理されている<code>AppStore</code>を受け取るので、<code>AppStore</code>型の<code>appStore</code>を宣言します。</li>
</ul>
</li>
<li>
<code>@inject</code>の引数および<code>AppProps</code>のプロパティには、受け取りたい<code>stores</code>内のプロパティ名<code>appStore</code>を指定します。</li>
</ul>

<p>これで、<code>index.tsx</code>の<code>stores</code>内の<code>appStore</code>が<code>App</code>に渡されます。</p>

<p>なお、当然ですが、見た目は変わりません。</p>

<p><a href="https://camo.qiitausercontent.com/4e00ed35602eab8609bdf4bbafc572ceb47ae2bd/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f34363138633861322d633065622d323763652d333338302d3461353432313336663962302e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F4618c8a2-c0eb-27ce-3380-4a542136f9b0.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=4e2ed11a778f335b9a8eacfb4aa00ccf" alt="React-blog-top.jpg" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/4618c8a2-c0eb-27ce-3380-4a542136f9b0.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F4618c8a2-c0eb-27ce-3380-4a542136f9b0.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=ef50c91ceecb4fc63d46714e6a4e0ff7 1x" loading="lazy"></a></p>

<h2>
<span id="viewmodelを使ってwebページを更新する" class="fragment"></span><a href="#viewmodel%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6web%E3%83%9A%E3%83%BC%E3%82%B8%E3%82%92%E6%9B%B4%E6%96%B0%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>ViewModelを使ってWebページを更新する</h2>

<p>上までで、<code>App</code>にViewModelである<code>AppStore</code>が渡されたので、<code>AppStore</code>の状態を使ってWebページを更新するようにします。 <code>App.tsx</code>をマルっと書き換えます。</p>

<div class="code-frame" data-lang="react">
<div class="code-lang"><span class="bold">src/App.tsx</span></div>
<div class="highlight"><pre class="with-code"><code><span class="p">@</span><span class="nd">inject</span><span class="p">(</span><span class="dl">"</span><span class="s2">appStore</span><span class="dl">"</span><span class="p">)</span>
<span class="p">@</span><span class="nd">observer</span>
<span class="kd">class</span> <span class="nx">App</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="o">&lt;</span><span class="nx">AppProps</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="c1">// コンポーネントが構築される直前に呼ばれる</span>
  <span class="kr">public</span> <span class="nx">componentDidMount</span> <span class="o">=</span> <span class="p">():</span> <span class="k">void</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">appStore</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">appStore</span><span class="p">.</span><span class="nx">fetchData</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="nx">render</span><span class="p">():</span> <span class="nx">JSX</span><span class="p">.</span><span class="nx">Element</span> <span class="p">{</span>
    <span class="c1">// appStoreはundefindedである場合があるので、その時は何も表示しない</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">appStore</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="p">&lt;</span><span class="nt">div</span> <span class="p">/&gt;;</span>
    <span class="p">}</span>

    <span class="c1">// this.props.appStore.dataに従ってWebページを構築する</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"App"</span><span class="p">&gt;</span>
        <span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">appStore</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">data</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="k">return</span> <span class="p">(</span>
            <span class="p">&lt;</span><span class="nc">Card</span> <span class="na">key</span><span class="p">=</span><span class="si">{</span><span class="nx">data</span><span class="p">.</span><span class="nx">id</span><span class="si">}</span> <span class="na">style</span><span class="p">=</span><span class="si">{</span><span class="p">{</span> <span class="na">width</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span> <span class="na">margin</span><span class="p">:</span> <span class="mi">2</span> <span class="p">}</span><span class="si">}</span><span class="p">&gt;</span>
              <span class="p">&lt;</span><span class="nc">CardHeader</span>
                <span class="na">action</span><span class="p">=</span><span class="si">{</span>
                  <span class="p">&lt;</span><span class="nc">IconButton</span> <span class="na">aria</span><span class="err">-</span><span class="na">label</span><span class="p">=</span><span class="s">"settings"</span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="nc">MoreVertIcon</span> <span class="p">/&gt;</span>
                  <span class="p">&lt;/</span><span class="nc">IconButton</span><span class="p">&gt;</span>
                <span class="si">}</span>
                <span class="na">title</span><span class="p">=</span><span class="si">{</span><span class="nx">data</span><span class="p">.</span><span class="nx">title</span><span class="si">}</span>
                <span class="na">subheader</span><span class="p">=</span><span class="si">{</span><span class="nx">data</span><span class="p">.</span><span class="nx">date</span><span class="si">}</span>
              <span class="p">/&gt;</span>
              <span class="p">&lt;</span><span class="nc">CardContent</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nc">Typography</span> <span class="na">color</span><span class="p">=</span><span class="s">"textSecondary"</span> <span class="na">gutterBottom</span><span class="p">&gt;</span>
                  <span class="si">{</span><span class="nx">data</span><span class="p">.</span><span class="nx">abstract</span><span class="si">}</span>
                <span class="p">&lt;/</span><span class="nc">Typography</span><span class="p">&gt;</span>
              <span class="p">&lt;/</span><span class="nc">CardContent</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nc">Card</span><span class="p">&gt;</span>
          <span class="p">);</span>
        <span class="p">})</span><span class="si">}</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>ポイント</p>

<ul>
<li>
<code>componentDidMount()</code> はこのコンポーネントが構築される前に呼ばれます。

<ul>
<li>C#でいうところの、<code>Form.Load</code>イベントです。</li>
<li>ここでは、サーバーからデータを取得するため、 <code>appStore.fetchData()</code> を呼び出します。</li>
</ul>
</li>
<li>
<code>render()</code> では、 <code>this.props.appStore.data</code> に従ってWebページを構築します。

<ul>
<li>
<code>{}</code>で囲うとTypescriptを記述でき、returnで<code>JSX.Element</code>を返します。</li>
</ul>
</li>
</ul>

<p>MobXは、プロパティが変更されたことを検知して、Viewを再描画させる機能を持っています。<br>
これを使って、データが取得されたときにViewを更新します。<br>
そのために <code>AppStore</code> のメソッドとプロパティに属性を付けます。</p>

<p>(2020-12-31 Add)<br>
MobX ver.6.0.0以降では、属性を使用しない仕組みに変わったようです。<br>
コンストラクタで <code>makeAutoObservable(this);</code> を呼ぶと<br>
自動でメンバーに <code>@observable</code> を付けたことになるようです。<br>
<code>@observable</code> は不要になったようですが、私はなんとなく毎回付けてしまっています。<br>
参考: <a href="https://mobx.js.org/migrating-from-4-or-5.html#upgrading-classes-to-use-makeobservable" class="autolink" rel="nofollow noopener" target="_blank">https://mobx.js.org/migrating-from-4-or-5.html#upgrading-classes-to-use-makeobservable</a></p>

<div class="code-frame" data-lang="diff">
<div class="code-lang"><span class="bold">src/AppStore.ts</span></div>
<div class="highlight"><pre class="with-code"><code><span class="gi">+ import { action, makeAutoObservable, observable } from "mobx";
</span>

 export class AppStore {
<span class="gi">+  constructor() {
+    makeAutoObservable(this);
+  }
+  @observable
</span>   data: BlogSummary[] = [];
<span class="gi">+  @action
</span>   public fetchData = async (): Promise&lt;void&gt; =&gt; {
 }
</code></pre></div>
</div>

<p>これでサーバーデータに応じた画面を作ることができましたが、<br>
このままでは、サーバーは存在しないのでエラーになります。<br>
ユニットテスト用の<code>fetch-mock</code>を流用してダミーデータを使うようにします。</p>

<div class="code-frame" data-lang="diff">
<div class="code-lang"><span class="bold">src/index.tsx</span></div>
<div class="highlight"><pre class="with-code"><code><span class="gi">+ import fetchMock from "fetch-mock";
+ 
+ const dummyData = [
+   {
+     id: 1,
+     title: "[サーバー]タイトル",
+     date: "2019-12-17",
+     abstract: "アブストラクトです。"
+   },
+   {
+     id: 2,
+     title: "[サーバー]タイトルその2",
+     date: "2019-12-17",
+     abstract: "アブストラクトその2です。"
+   }
+ ];
+ fetchMock.get("/api/summaries/", dummyData);
</span>
  const stores = {
    appStore: new AppStore()
  };
</code></pre></div>
</div>

<p>これで、 <code>npm start</code> すると以下のようになります。</p>

<p><a href="https://camo.qiitausercontent.com/ece25d83ef9dd1bbba52ea55e14e30e06be27aa4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f36663165633237372d653637312d396165352d306433322d6136306332386361323839612e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F6f1ec277-e671-9ae5-0d32-a60c28ca289a.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=9a991ebc060c1d3800fd8d885fc162df" alt="React-blog-top-json.jpg" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/6f1ec277-e671-9ae5-0d32-a60c28ca289a.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F6f1ec277-e671-9ae5-0d32-a60c28ca289a.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=767d6dd74ab864ead500881b8c64ff5f 1x" loading="lazy"></a></p>

<p><code>dummyData</code>をいろいろ変えてみるとWebページが変わると思います。</p>

<h2>
<span id="部品を作る" class="fragment"></span><a href="#%E9%83%A8%E5%93%81%E3%82%92%E4%BD%9C%E3%82%8B"><i class="fa fa-link"></i></a>部品を作る</h2>

<p>Reactの部品化の練習のためにTOPページのサマリー要素部分を部品化してみます。</p>

<p><a href="https://camo.qiitausercontent.com/c0275b88d717d3c522ba034a7b101b8c951ac759/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f38386533616335662d323661302d353366302d623065652d3032666530316464643936372e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F88e3ac5f-26a0-53f0-b0ee-02fe01ddd967.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=70ce937e52b82c37ad701f5b45c4f234" alt="Object-Diagram2.jpg" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/88e3ac5f-26a0-53f0-b0ee-02fe01ddd967.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F88e3ac5f-26a0-53f0-b0ee-02fe01ddd967.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=ddfe984db4180f79263f9e884d38c241 1x" loading="lazy"></a></p>

<p>上と同じようにReactコンポーネントのclassを作って、<br>
renderでは、App.tsxで部品化したい部分を返すようにします。<br>
必要なパラメータはPropsで上から渡してもらいます。<br>
なお、Storesで状態管理するのはページごとで、部品ではViewModelは使わないほうが良いようです。</p>

<div class="code-frame" data-lang="React">
<div class="code-lang"><span class="bold">src/SummaryItem.tsx(新規作成)</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Card</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@material-ui/core/Card</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">CardHeader</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@material-ui/core/CardHeader</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">CardContent</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@material-ui/core/CardContent</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">IconButton</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@material-ui/core/IconButton</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">MoreVertIcon</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@material-ui/icons/MoreVert</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Typography</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@material-ui/core/Typography</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Link</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react-router-dom</span><span class="dl">"</span><span class="p">;</span>

<span class="kr">interface</span> <span class="nx">SummaryItemProps</span> <span class="p">{</span>
  <span class="nl">title</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">date</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">abstract</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">url</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">SummaryItem</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="o">&lt;</span><span class="nx">SummaryItemProps</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="nx">render</span><span class="p">():</span> <span class="nx">JSX</span><span class="p">.</span><span class="nx">Element</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="p">&lt;</span><span class="nc">Card</span> <span class="na">style</span><span class="p">=</span><span class="si">{</span><span class="p">{</span> <span class="na">width</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span> <span class="na">margin</span><span class="p">:</span> <span class="mi">2</span> <span class="p">}</span><span class="si">}</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">CardHeader</span>
          <span class="na">action</span><span class="p">=</span><span class="si">{</span>
            <span class="p">&lt;</span><span class="nc">IconButton</span> <span class="na">aria</span><span class="err">-</span><span class="na">label</span><span class="p">=</span><span class="s">"settings"</span><span class="p">&gt;</span>
              <span class="p">&lt;</span><span class="nc">MoreVertIcon</span> <span class="p">/&gt;</span>
            <span class="p">&lt;/</span><span class="nc">IconButton</span><span class="p">&gt;</span>
          <span class="si">}</span>
          <span class="na">title</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">Link</span> <span class="na">to</span><span class="p">=</span><span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">url</span><span class="si">}</span><span class="p">&gt;</span><span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">title</span><span class="si">}</span><span class="p">&lt;/</span><span class="nc">Link</span><span class="p">&gt;</span><span class="si">}</span>
          <span class="na">subheader</span><span class="p">=</span><span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">date</span><span class="si">}</span>
        <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nc">CardContent</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nc">Typography</span> <span class="na">color</span><span class="p">=</span><span class="s">"textSecondary"</span> <span class="na">gutterBottom</span><span class="p">&gt;</span>
            <span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">abstract</span><span class="si">}</span>
          <span class="p">&lt;/</span><span class="nc">Typography</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nc">CardContent</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nc">Card</span><span class="p">&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">SummaryItem</span><span class="p">;</span>
</code></pre></div>
</div>

<p><code>App.tsx</code>のほうは、上で作った部品を使うように書き換えます。<br>
なお、部品の参照は、<code>import</code>です。<br>
また、不要になった<code>import</code>も消しておきましょう。</p>

<div class="code-frame" data-lang="diff">
<div class="code-lang"><span class="bold">src/App.tsx</span></div>
<div class="highlight"><pre class="with-code"><code><span class="gd">- import Card from "@material-ui/core/Card";
- import CardHeader from "@material-ui/core/CardHeader";
- import CardContent from "@material-ui/core/CardContent";
- import IconButton from "@material-ui/core/IconButton";
- import MoreVertIcon from "@material-ui/icons/MoreVert";
- import Typography from "@material-ui/core/Typography";
</span><span class="gi">+ import SummaryItem from "./SummaryItem";
</span>

<span class="gd">-            &lt;Card key={data.id} style={{ width: 300, margin: 2 }}&gt;
-              &lt;CardHeader
-                action={
-                  &lt;IconButton aria-label="settings"&gt;
-                    &lt;MoreVertIcon /&gt;
-                  &lt;/IconButton&gt;
-                }
-                title={data.title}
-                subheader={data.date}
-              /&gt;
-              &lt;CardContent&gt;
-                &lt;Typography color="textSecondary" gutterBottom&gt;
-                  {data.abstract}
-                &lt;/Typography&gt;
-              &lt;/CardContent&gt;
-            &lt;/Card&gt;
</span><span class="gi">+            &lt;SummaryItem
+              key={data.id}
+              title={data.title}
+              date={data.date}
+              abstract={data.abstract}
+            /&gt;
</span></code></pre></div>
</div>

<p>相変わらず見た目は変わりませんが、<br>
サマリー部分の部品化ができました。</p>

<p><a href="https://camo.qiitausercontent.com/ece25d83ef9dd1bbba52ea55e14e30e06be27aa4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f36663165633237372d653637312d396165352d306433322d6136306332386361323839612e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F6f1ec277-e671-9ae5-0d32-a60c28ca289a.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=9a991ebc060c1d3800fd8d885fc162df" alt="React-blog-top-json.jpg" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/6f1ec277-e671-9ae5-0d32-a60c28ca289a.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F6f1ec277-e671-9ae5-0d32-a60c28ca289a.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=767d6dd74ab864ead500881b8c64ff5f 1x" loading="lazy"></a></p>

<p>なお、この部品は再利用しないので、部品化はあまり意味はありません。</p>

<h2>
<span id="ページ遷移を作る" class="fragment"></span><a href="#%E3%83%9A%E3%83%BC%E3%82%B8%E9%81%B7%E7%A7%BB%E3%82%92%E4%BD%9C%E3%82%8B"><i class="fa fa-link"></i></a>ページ遷移を作る</h2>

<p>SPAといえども、普通のHtmlのようにページ遷移がしたいことが多いです。<br>
概要←→詳細 で行き来することもありますし、1ページいろいろ押し込むと使いにくいですし。</p>

<p>ここでは、<code>React-Router</code>を使ってページ遷移を作ります。</p>

<p>まずページ遷移があるということはURLを設計しないといけません。<br>
簡単ですが、以下のようにします。</p>

<ul>
<li>
<code>http://～/</code> 　　　　　　　　→ トップページ(サマリーのページ)</li>
<li>
<code>http://～/contents/(Id)</code> 　→ 詳細ページ(Idは数字)</li>
</ul>

<p>では作ってみましょう。</p>

<p>まず、必要なパッケージを取得します。</p>

<div class="code-frame" data-lang="shell">
<div class="code-lang"><span class="bold">commandline</span></div>
<div class="highlight"><pre class="with-code"><code>npm <span class="nb">install </span>react-router-dom @types/react-router-dom  <span class="nt">--save</span>
</code></pre></div>
</div>

<p>次にTOPページから詳細ページへのリンクを作ります。<br>
React-Routerでのリンクは<code>&lt;Link to="url"&gt;ラベル&lt;/Link&gt;</code>を使いますので、<br>
タイトル部分をリンクに置き換えます。<br>
URLはPropsに追加して、親ページから渡してもらうことにします。</p>

<div class="code-frame" data-lang="diff">
<div class="code-lang"><span class="bold">src/SummaryItem.tsx</span></div>
<div class="highlight"><pre class="with-code"><code>  import Typography from "@material-ui/core/Typography";
<span class="gi">+ import { Link } from "react-router-dom";
</span>
  interface SummaryItemProps {
    title: string;
    date: string;
    abstract: string;
<span class="gi">+   url: string;
</span>  }

             &lt;/IconButton&gt;
           }
<span class="gd">-          title={this.props.title}
</span><span class="gi">+          title={&lt;Link to={this.props.url}&gt;{this.props.title}&lt;/Link&gt;}
</span></code></pre></div>
</div>

<p>親ページでは、URLを渡すように設定します。</p>

<div class="code-frame" data-lang="diff">
<div class="code-lang"><span class="bold">src/App.tsx</span></div>
<div class="highlight"><pre class="with-code"><code>              &lt;SummaryItem
                key={data.id}
<span class="gi">+               url={`./contents/${data.id}`}
</span>                title={data.title}
                date={data.date}
                abstract={data.abstract}
</code></pre></div>
</div>

<p>これでトップページからのリンクはできました。<br>
では、詳細ページを作っていきます。</p>

<p>作り方は、App.tsxと同じでページ(ContentPage.tsx)とViewModel(ContentPageStore.ts)を作って<br>
MobXで連携させます。</p>

<p><a href="https://camo.qiitausercontent.com/1caacdf08121ec84fb1c6ae34cdb8d188fcba8de/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f33363135373839652d653631632d336161332d616431612d6233376363643034323734392e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F3615789e-e61c-3aa3-ad1a-b37ccd042749.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=48c0739f2eb9a8aec423272561aceb8c" alt="Object-Diagram3.jpg" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/3615789e-e61c-3aa3-ad1a-b37ccd042749.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F3615789e-e61c-3aa3-ad1a-b37ccd042749.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=0fb770079e87cb7cc137b0e7e0d776da 1x" loading="lazy"></a></p>

<div class="code-frame" data-lang="React">
<div class="code-lang"><span class="bold">src/ContentPage.tsx　(新規作成)</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">RouteComponentProps</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react-router-dom</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Card</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@material-ui/core/Card</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">CardHeader</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@material-ui/core/CardHeader</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">CardContent</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@material-ui/core/CardContent</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">IconButton</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@material-ui/core/IconButton</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">MoreVertIcon</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@material-ui/icons/MoreVert</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Typography</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@material-ui/core/Typography</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">ContentPageStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./ContentPageStore</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">inject</span><span class="p">,</span> <span class="nx">observer</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">mobx-react</span><span class="dl">"</span><span class="p">;</span>

<span class="kr">interface</span> <span class="nx">ContentPageProps</span> <span class="kd">extends</span> <span class="nx">RouteComponentProps</span><span class="o">&lt;</span><span class="p">{</span> <span class="na">id</span><span class="p">:</span> <span class="nx">string</span> <span class="p">}</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="nx">contentPageStore</span><span class="p">?:</span> <span class="nx">ContentPageStore</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">@</span><span class="nd">inject</span><span class="p">(</span><span class="dl">"</span><span class="s2">contentPageStore</span><span class="dl">"</span><span class="p">)</span>
<span class="p">@</span><span class="nd">observer</span>
<span class="kd">class</span> <span class="nx">ContentPage</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="o">&lt;</span><span class="nx">ContentPageProps</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="kr">public</span> <span class="nx">componentDidMount</span> <span class="o">=</span> <span class="p">():</span> <span class="k">void</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">contentPageStore</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kd">const</span> <span class="nx">id</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">match</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">contentPageStore</span><span class="p">.</span><span class="nx">fetchData</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
  <span class="p">};</span>

  <span class="nx">render</span><span class="p">():</span> <span class="nx">JSX</span><span class="p">.</span><span class="nx">Element</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">contentPageStore</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="p">&lt;</span><span class="nt">div</span> <span class="p">/&gt;;</span>
    <span class="p">}</span>
    <span class="kd">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">contentPageStore</span><span class="p">;</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"App"</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">Card</span> <span class="na">style</span><span class="p">=</span><span class="si">{</span><span class="p">{</span> <span class="na">width</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span> <span class="na">margin</span><span class="p">:</span> <span class="mi">2</span> <span class="p">}</span><span class="si">}</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nc">CardHeader</span> <span class="na">title</span><span class="p">=</span><span class="si">{</span><span class="nx">store</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">title</span><span class="si">}</span> <span class="na">subheader</span><span class="p">=</span><span class="si">{</span><span class="nx">store</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">date</span><span class="si">}</span> <span class="p">/&gt;</span>
          <span class="p">&lt;</span><span class="nc">CardContent</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nc">Typography</span> <span class="na">color</span><span class="p">=</span><span class="s">"textSecondary"</span> <span class="na">gutterBottom</span><span class="p">&gt;</span>
              <span class="si">{</span><span class="nx">store</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">content</span><span class="si">}</span>
            <span class="p">&lt;/</span><span class="nc">Typography</span><span class="p">&gt;</span>
          <span class="p">&lt;/</span><span class="nc">CardContent</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nc">Card</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">ContentPage</span><span class="p">;</span>
</code></pre></div>
</div>

<div class="code-frame" data-lang="react">
<div class="code-lang"><span class="bold">src/ContentPageStore.ts　(新規作成)</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">action</span><span class="p">,</span> <span class="nx">makeAutoObservable</span><span class="p">,</span> <span class="nx">observable</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">mobx</span><span class="dl">"</span><span class="p">;</span>

<span class="kr">interface</span> <span class="nx">BlogContent</span> <span class="p">{</span>
  <span class="nl">id</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nl">title</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">date</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">content</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">export</span> <span class="kd">class</span> <span class="nx">ContentPageStore</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">makeAutoObservable</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="p">@</span><span class="nd">observable</span>
  <span class="nx">data</span><span class="p">:</span> <span class="nx">BlogContent</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">id</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">title</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="na">date</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="na">content</span><span class="p">:</span> <span class="dl">""</span>
  <span class="p">};</span>

  <span class="p">@</span><span class="nd">action</span>
  <span class="kr">public</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="k">async</span> <span class="p">(</span><span class="nx">id</span><span class="p">:</span> <span class="nx">number</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">json</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="p">(</span>
      <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s2">`/api/contents/</span><span class="p">${</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">)</span>
    <span class="p">).</span><span class="nx">json</span><span class="p">())</span> <span class="k">as</span> <span class="nx">BlogContent</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">data</span> <span class="o">=</span> <span class="nx">json</span><span class="p">;</span>
  <span class="p">};</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>React-Routerの本番はここからです。<br>
今まで<code>index.tsx</code>で<code>&lt;App/&gt;</code>と直接Reactコンポーネントを指定していたところを、<br>
<code>&lt;BrowserRouter&gt;</code>で囲って、<code>&lt;Route/&gt;</code>を並べていきます。<br>
<code>&lt;Route&gt;</code>の<code>component=</code>にReactコンポーネントを、<code>path=</code>にURLを指定します。</p>

<p>また、ViewModelもStoresに追加します。</p>

<div class="code-frame" data-lang="diff">
<div class="code-lang"><span class="bold">src/index.tsx</span></div>
<div class="highlight"><pre class="with-code"><code>  import fetchMock from "fetch-mock";
<span class="gi">+ import ContentPage from "./ContentPage";
+ import { ContentPageStore } from "./ContentPageStore";
+ import { BrowserRouter, Route } from "react-router-dom";
</span>

  const stores = {
<span class="gd">-   appStore: new AppStore()
</span><span class="gi">+   appStore: new AppStore(),
+   contentPageStore: new ContentPageStore()
</span>  };
  ReactDOM.render(
    &lt;Provider {...stores}&gt;
<span class="gd">-     &lt;App /&gt;
</span><span class="gi">+     &lt;BrowserRouter basename={"/"}&gt;
+       &lt;Route exact={true} path="/" component={App} /&gt;
+       &lt;Route exact={true} path="/contents/:id" component={ContentPage} /&gt;
+     &lt;/BrowserRouter&gt;
</span>    &lt;/Provider&gt;,
    document.getElementById("root")
  );

</code></pre></div>
</div>

<p>これで、<code>/</code>の場合はAppのページが、<code>/contents/(id)</code>の場合は、ContentPageのページが表示されるようになります。<br>
URLのルートURLは、<code>&lt;BrowserRouter basename=</code>に指定します。</p>

<p>昔ながらのCGIをやっていた方は、URLが違うなら別のhtmlが返ってくるのでは？という気がしますが、<br>
SPAの場合は、バックエンド側で同じindex.htmlを返すように設定するようです。</p>

<p>一応これで完成なのですが、相変わらずバックエンドがないので<br>
ダミーデータを返すようにします。</p>

<div class="code-frame" data-lang="diff">
<div class="code-lang"><span class="bold">src/index.tsx</span></div>
<div class="highlight"><pre class="with-code"><code><span class="gd">-     abstract: "アブストラクトです。"
</span><span class="gi">+     abstract: "アブストラクトです。",
+     content: "これは本文です。"
</span>    },
    {
      id: 2,
      title: "[サーバー]タイトルその2",
      date: "2019-12-17",
<span class="gd">-     abstract: "アブストラクトその2です。"
</span><span class="gi">+     abstract: "アブストラクトその2です。",
+     content: "これは本文です。"
</span>    }
  ];
  fetchMock.get("/api/summaries/", dummyData);
<span class="gi">+ fetchMock.get("/api/contents/1", dummyData[0]);
+ fetchMock.get("/api/contents/2", dummyData[1]);
</span></code></pre></div>
</div>

<p>以上で、簡単ですがブログっぽいページができました。<br>
TOPページからリンクをたどると、詳細ページに飛びます。<br>
URLも変化していますので、F5を押しても元ページに戻ったりしません。</p>

<p><a href="https://camo.qiitausercontent.com/67f256fb2a088c29631f4f0356859033fc22f2af/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f37323433616261382d396635372d316539642d363235302d6666666266386664653034632e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F7243aba8-9f57-1e9d-6250-fffbf8fde04c.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=eb11c3c31f23f8a70c3c864f9e968abd" alt="React-blog-top-withLink.jpg" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/7243aba8-9f57-1e9d-6250-fffbf8fde04c.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F7243aba8-9f57-1e9d-6250-fffbf8fde04c.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=5123777f0cb2f01b031ba97825c0cd8b 1x" loading="lazy"></a></p>

<p><a href="https://camo.qiitausercontent.com/4aae1fdf7ea1a9975f67387555026f727c84734d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f66643836393033632d373939622d376438362d326333342d3033393766326562303530662e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2Ffd86903c-799b-7d86-2c34-0397f2eb050f.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=cb7e2ff41f059dbc1e106cf7e11da12c" alt="React-blog-content.jpg" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/fd86903c-799b-7d86-2c34-0397f2eb050f.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2Ffd86903c-799b-7d86-2c34-0397f2eb050f.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=846455f4a573be0a606f6bf95f4042f5 1x" loading="lazy"></a></p>

<h2>
<span id="ビルドしてデプロイ可能にする" class="fragment"></span><a href="#%E3%83%93%E3%83%AB%E3%83%89%E3%81%97%E3%81%A6%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4%E5%8F%AF%E8%83%BD%E3%81%AB%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>ビルドしてデプロイ可能にする</h2>

<p>ある程度アプリができたら、ビルドしてデプロイできるようにします。<br>
次のコマンドを実行すると、buildフォルダに成果物が出来上がります。</p>

<div class="code-frame" data-lang="shell">
<div class="code-lang"><span class="bold">commandline</span></div>
<div class="highlight"><pre class="with-code"><code>npm run build
</code></pre></div>
</div>

<h1>
<span id="その他細かいtips" class="fragment"></span><a href="#%E3%81%9D%E3%81%AE%E4%BB%96%E7%B4%B0%E3%81%8B%E3%81%84tips"><i class="fa fa-link"></i></a>その他細かいTips</h1>

<h2>
<span id="多言語対応は" class="fragment"></span><a href="#%E5%A4%9A%E8%A8%80%E8%AA%9E%E5%AF%BE%E5%BF%9C%E3%81%AF"><i class="fa fa-link"></i></a>多言語対応は？</h2>

<p>Javascript用にいくつかライブラリがあるようです。</p>

<ul>
<li><a href="https://www.i18next.com/" rel="nofollow noopener" target="_blank">i18next</a></li>
<li><a href="https://github.com/airbnb/polyglot.js" rel="nofollow noopener" target="_blank">polyglot</a></li>
</ul>

<p>基本的には、言語ごとにJsonを用意して、キーとなる文字列を指定すると、<br>
実行時には言語に応じたJsonから文字列が取れるようです。</p>

<div class="code-frame" data-lang="json">
<div class="code-lang"><span class="bold">リソースの定義</span></div>
<div class="highlight"><pre class="with-code"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"buttons"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"new"</span><span class="p">:</span><span class="s2">"新規投稿"</span><span class="w">
      </span><span class="nl">"edit"</span><span class="p">:</span><span class="s2">"編集"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
</div>

<div class="code-frame" data-lang="react">
<div class="code-lang"><span class="bold">多言語リソースを使う例</span></div>
<div class="highlight"><pre class="with-code"><code>   <span class="p">&lt;</span><span class="nc">Button</span> <span class="na">label</span><span class="p">=</span><span class="si">{</span><span class="nx">i18next</span><span class="p">.</span><span class="nx">t</span><span class="p">(</span><span class="dl">'</span><span class="s1">buttons.new</span><span class="dl">'</span><span class="p">)</span><span class="si">}</span> <span class="p">/&gt;</span>
</code></pre></div>
</div>

<p>C#のResources.resxと比較すると、型がないので、インテリセンスが使えない分、ちょっと面倒です。</p>

<p>以前やったときに、Typescript＋Jsonスキーマを使うといい感じに改善できそうだったので、<br>
また記事を書くかもしれません。</p>

<h2>
<span id="サーバーサイドはどうする" class="fragment"></span><a href="#%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%82%B5%E3%82%A4%E3%83%89%E3%81%AF%E3%81%A9%E3%81%86%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>サーバーサイドはどうする？</h2>

<p>Node.jsもいいですが、C#erなら、過去のC#の資産を使えるASP.NET Coreを使いたいです。</p>

<p>Visual Studioで[プロジェクトの新規作成]-[ASP.NET Core Webアプリケーション]→[React.js]で<br>
テンプレートを作って、ClientApp以下を上と同じ手順で作ったReact開発環境で置き換えれば、<br>
いいようです。</p>

<p>普通にF5実行で、Reactのフロントエンド＋C#のバックエンドで起動しました。<br>
なお、初回はビルドが走るのか重いようです。</p>

<p>問題は、ASP.NET Coreを動かすサーバーを用意できるかどうか。</p>

<h2>
<span id="reactとwindows-formで開発速度はどれくらい違う" class="fragment"></span><a href="#react%E3%81%A8windows-form%E3%81%A7%E9%96%8B%E7%99%BA%E9%80%9F%E5%BA%A6%E3%81%AF%E3%81%A9%E3%82%8C%E3%81%8F%E3%82%89%E3%81%84%E9%81%95%E3%81%86"><i class="fa fa-link"></i></a>ReactとWindows Formで開発速度はどれくらい違う？</h2>

<p>htmlが不慣れとかいろいろ要素がありますが、<br>
私の場合、Windows Formで作るほうが3倍くらい速いです。</p>

<p>C# ←→ Typescriptの変換も面倒ですし、<br>
画面レイアウトの作りこみも大変です。<br>
というか、C#を振り返ると、Visual StudioのWindows Formのデザイナーはよくできているなぁと思います。<br>
(壊れやすいのが難点ですが)</p>

<h1>
<span id="まとめ" class="fragment"></span><a href="#%E3%81%BE%E3%81%A8%E3%82%81"><i class="fa fa-link"></i></a>まとめ</h1>

<p>割とがっつりReactの入門記事になってしまいましたが、<br>
普段C#を使っている方の視点で、解説したつもりです。<br>
Reactを使ってSPAを始めるための一通りを説明したつもりなので、<br>
あとは応用を学んでいけば、そこそこのプロダクトが作れるのではないでしょうか。</p>

<p>なお、上で作ったコードは、一応GitHubに公開しておきます。<br>
(この記事の賞味期限が有効なあたりまでは残しておきます)<br>
<a href="https://github.com/banban525/react-example-2019" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/banban525/react-example-2019</a></p>

<p>自分で打ち込むのが面倒な方はそちらを見てもらってもよいと思います。<br>
個人的には写経はおすすめですが。</p>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2Fbanban525%2Fitems%2Fb66a439d588858ba3a11&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2Fbanban525%2Fitems%2Fb66a439d588858ba3a11&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/banban525/items/b66a439d588858ba3a11/likers" class="css-1iupg5d">31</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">32</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/b66a439d588858ba3a11/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/banban525/items/b66a439d588858ba3a11/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/banban525/items/b66a439d588858ba3a11/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/banban525/items/b66a439d588858ba3a11/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/banban525/items/b66a439d588858ba3a11.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-1595d6fa-6b33-4988-aa4f-77cf53c8af46">{"authorAnalyticsTrackingId":null,"organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-9fbad7b6-5837-45c1-8835-16d469f88c6c"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-9fbad7b6-5837-45c1-8835-16d469f88c6c">{}</script>
      
<div id="LoginModal-react-component-d8d8094f-873f-4098-bf09-3ae158ddab94"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-d8d8094f-873f-4098-bf09-3ae158ddab94">{}</script>
      
<div id="StockModal-react-component-c1e8c72e-4d80-44ce-bb2c-3ee1463e0d3e"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-c1e8c72e-4d80-44ce-bb2c-3ee1463e0d3e">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;zL2faJMvzBWkYeyXoFjGBHaH9q02F+sJIj/fdIxU3sxeCJFjMhzGjkvM2xnnjRvBufokat+Y7r5wT+Jvg3iczA==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\u003cp\u003eこの記事は \u003ca href=\"https://qiita.com/advent-calendar/2019/react2\"\u003eReact #2 Advent Calendar 2019\u003c/a\u003e 19日目の記事です。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\n\u003cp\u003e本職は、C#でWindows Formを使ったレガシーなアプリケーションを作っています。\u003c/p\u003e\n\n\u003cp\u003eただ、レガシーなアプリを作っていると、Webフロントエンドは、進化が早くて、活発で、\u003cbr\u003e\nなんかキラキラしている感じがして、うらやましくなってきます。\u003c/p\u003e\n\n\u003cp\u003eReactは、趣味だけなのでまだまだですが、そんなC#エンジニア(以降、C#er)から見たReact入門を解説したいと思います。\u003c/p\u003e\n\n\u003cp\u003e同僚がReactを勉強したいと言い出したので、そのための資料でもあります。\u003c/p\u003e\n\n\u003cp\u003eReact の Advent Calendar ということで他の方がReactのTipsを公開している中、\u003cbr\u003e\n一人だけ空気を読まなくて申し訳ないです・・・。\u003c/p\u003e\n\n\u003cp\u003eなお、Webフロントエンド界隈は進化や世代交代が早いので、\u003cbr\u003e\nこの記事の賞味期限もせいぜい半年～1年くらいだと思っています。\u003c/p\u003e\n\n\u003cp\u003e(2020-09-02 Modified)\u003cbr\u003e\n予想通りライブラリやツールのバージョンアップによっていろいろ変更なようです。\u003cbr\u003e\nこの記事は自分でも使っていて不便なので最低限問題ないように修正しました。\u003cbr\u003e\n(もしかしたら抜けがあるかも？)\u003c/p\u003e\n\n\u003cp\u003e(2020-10-04 Modified)\u003cbr\u003e\n上の対応ではだめだったので、さらに追記しました。\u003c/p\u003e\n\n\u003cp\u003e(2020-12-31 Modified)\u003cbr\u003e\nなんかAdvent Calendar 2020の影響でPVが増えたのかストックされる方が増えたので\u003cbr\u003e\nいろいろ動かないところを最低限アップデートしました。\u003cbr\u003e\n* MobX ver.6.0.0 以降に対応\u003cbr\u003e\n* .envファイルは不要になった\u003cbr\u003e\n* Visual Studio Codeでnode_modules以下のTypeScriptを使用する設定\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"要約\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A6%81%E7%B4%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e要約\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003eC#エンジニアがReactを始めるときは、Typescript、MobX、Material-UI、Class Componentを使うといいよ。\u003c/li\u003e\n\u003cli\u003e解説をつけながらハンズオン的な感じでブログっぽいページを作るよ\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"想定読者\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%83%B3%E5%AE%9A%E8%AA%AD%E8%80%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e想定読者\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003eWindowsでC#を使ってWindows Formなアプリを作ってきた方\u003c/li\u003e\n\u003cli\u003eおよび、Webアプリは、CGIとかAjaxあたりで止まっている方\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"react基礎知識\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#react%E5%9F%BA%E7%A4%8E%E7%9F%A5%E8%AD%98\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eReact基礎知識\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"そもそもreactって\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%9D%E3%82%82%E3%81%9D%E3%82%82react%E3%81%A3%E3%81%A6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eそもそもReactって？\u003c/h2\u003e\n\n\u003cp\u003eWebアプリのフロントエンドを構築するためのJavascriptライブラリです。\u003cbr\u003e\n最近の流行として、htmlのページ遷移無しで、1ページ内で完結させようという流行(SPA、Single Page Application)があり、ReactはSPAを実現するためのフレームワークの1つです。\u003cbr\u003e\n主な役割はhtmlのレンダリングであり、C#でいうと、WPFにおけるXAMLや、WindowsFormsの*.Designer.csに相当します。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"reactって何がうれしいの\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#react%E3%81%A3%E3%81%A6%E4%BD%95%E3%81%8C%E3%81%86%E3%82%8C%E3%81%97%E3%81%84%E3%81%AE\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eReactって何がうれしいの？\u003c/h2\u003e\n\n\u003cp\u003eレガシーなWebサイトの場合、htmlでコンテンツを管理して、 見た目はCSS、何か動かすならJavascriptという感じだったと思います。\u003c/p\u003e\n\n\u003cp\u003eただ、htmlで使えるのは決まったタグだけで、 部品化ができず、凝ったことをしようとすると作りこみが必要なわりに、それを他のページに展開するにはコピペが必要になってしまいます。\u003c/p\u003e\n\n\u003cp\u003eReactを使うと、独自のHTMLタグを増やすことができるようになります。\u003cbr\u003e\nさらに、単なるhtmlの部品ではなく、Javascriptもセットになっているので、\u003cbr\u003e\n部品化によってリッチなUIを簡単に作ることができるようになります。\u003c/p\u003e\n\n\u003cp\u003eC#でいうなら、既定のButtonやLabelしか使えない状況から、UserControlが使えるようになったものです。\u003c/p\u003e\n\n\u003cp\u003e公開されている部品を組み合わせてもいいですし、もちろん自分で部品を作ることもできます。\u003c/p\u003e\n\n\u003cp\u003e例えば、次のようなブログのトップページをイメージしてもらうと、\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/faf7cf0f36af5e5110010d94cef5be1220da7c53/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f64656434323131322d353161622d346232652d396466652d3336633661383761643335352e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2Fded42112-51ab-4b2e-9dfe-36c6a87ad355.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e6c1ba2026f0a35d4f9682a53b3faa0a\" alt=\"Sample-Blog-Top.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/ded42112-51ab-4b2e-9dfe-36c6a87ad355.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2Fded42112-51ab-4b2e-9dfe-36c6a87ad355.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=1091267d075ab3aa2a1d9cc85a4d52ae 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e1つの記事のサマリーが\u003ccode\u003eAbstractContent\u003c/code\u003eという部品になっていれば、 それを並べればTopページが作れます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"react\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"TopPage\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eAbstractContent\u003c/span\u003e \u003cspan class=\"na\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003etitle1\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e \u003cspan class=\"err\"\u003e....\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eAbstractContent\u003c/span\u003e \u003cspan class=\"na\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003etitle2\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e \u003cspan class=\"err\"\u003e....\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eAbstractContent\u003c/span\u003e \u003cspan class=\"na\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003etitle3\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e \u003cspan class=\"err\"\u003e....\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eさらに\u003ccode\u003eAbstractContent\u003c/code\u003eも何かの部品を組み合わせているので 次のようなツリー構造になります。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/68984cdb2cf479eac01649e01cb5c1a0f8627c1c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f37653463323166382d353235342d363332352d623332362d3933373663633735633965352e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F7e4c21f8-5254-6325-b326-9376cc75c9e5.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=04f33b5947e61881e82e0e0f7227b22b\" alt=\"Blog-Component-Tree.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/7e4c21f8-5254-6325-b326-9376cc75c9e5.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F7e4c21f8-5254-6325-b326-9376cc75c9e5.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=432e1a409711f1c77c7227183e3422b8 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e部品の例としては、material-uiのサイトを眺めるとこの部品化がイメージしやすいと思います。 \u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://material-ui.com/components/text-fields/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://material-ui.com/components/text-fields/\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"reactで部品はどうやって作るのか\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#react%E3%81%A7%E9%83%A8%E5%93%81%E3%81%AF%E3%81%A9%E3%81%86%E3%82%84%E3%81%A3%E3%81%A6%E4%BD%9C%E3%82%8B%E3%81%AE%E3%81%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eReactで部品はどうやって作るのか？\u003c/h2\u003e\n\n\u003cp\u003eReactの部品はこんな感じで作ります。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"react\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eReactコンポーネントの例\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eReact\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ereact\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"kr\"\u003einterface\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogPartsProps\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003enumber\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003eabstract\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogParts\u003c/span\u003e \u003cspan class=\"kd\"\u003eextends\u003c/span\u003e \u003cspan class=\"nx\"\u003eReact\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eComponent\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eBlogPartsProps\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kr\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003erender\u003c/span\u003e\u003cspan class=\"p\"\u003e():\u003c/span\u003e \u003cspan class=\"nx\"\u003eJSX\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eElement\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ea\u003c/span\u003e \u003cspan class=\"na\"\u003ehref\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"s2\"\u003e`/contents/\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprops\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e`\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprops\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etitle\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e \u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprops\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edate\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprops\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eabstract\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogParts\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e細かい説明は、他サイトを参考にしてもらったらよいと思いますが、\u003cbr\u003e\nポイントは次の2つです。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003erender関数では、JavascriptとHtmlが混ざった書き方をする。C#でいうと、RazorやT4テンプレートみたいなもの。\u003c/li\u003e\n\u003cli\u003eBlogPartsProps interfaceに定義されているフィールドが、外から渡されるパラメータ\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eBlogPartsPropsうんぬんは、C#のWindows Formで例えると、こんな感じで、外からセットされるプロパティに相当します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eC#でのPropsの例\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogParts\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eUserControl\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eid\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;}\u003c/span\u003e\n  \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003etitle\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;}\u003c/span\u003e\n  \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003edate\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;}\u003c/span\u003e\n  \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eabstractContent\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;}\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eBlogParts_Load\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eobject\u003c/span\u003e \u003cspan class=\"n\"\u003esender\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eEventArgs\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"n\"\u003e_titleLabel\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eText\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTitle\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n      \u003cspan class=\"err\"\u003e・・・\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eなお、Reactは、classで部品を作るパターン(Class Component)と、関数で部品を作るパターン(Functional Component)がありますが、C#erとしては、前者のほうがイメージしやすいです。\u003cbr\u003e\nただし、今の流行や推奨は後者のFunctional Componentです。React Hooksとかもこちらのようです。\u003c/p\u003e\n\n\u003cp\u003e今回は、C#er向けということでClass Componentでいきます。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"typescript\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#typescript\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eTypescript\u003c/h2\u003e\n\n\u003cp\u003eTypescriptは、Javascriptに型を導入した言語です。\u003cbr\u003e\nビルド(トランスクリプトというらしい)するとjavascriptになります。\u003cbr\u003e\nビルド結果のjavascriptは人が読むことは想定されていないようなので\u003cbr\u003e\nビルドするとバイナリになるC#に近い使用感です。\u003cbr\u003e\n生のJavascriptは型がなく、なんとなくで実装できてしまいますが、\u003cbr\u003e\nC#をやっている身からすると型が無いのが恐ろしいです。\u003c/p\u003e\n\n\u003cp\u003eということで、Typescript、おすすめです。\u003c/p\u003e\n\n\u003cp\u003e言語的にはC#に近い言語っぽいけど、Javascriptの制約を引きずっているのと、独自進化しているようで、\u003cbr\u003e\n知らない仕様がけっこうあります。\u003c/p\u003e\n\n\u003cp\u003e簡単なクラスを例にするとこんな感じです。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eTypescriptの例\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nx\"\u003eAppStore\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nl\"\u003e_id\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"kr\"\u003enumber\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"kc\"\u003eundefined\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// 型はメンバーの後ろ、また、型に\"|\"を使ってORを表現できる。\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// メソッドはラムダ式を代入したメンバー。C#のメソッドっぽくも書けるけどこっちのほうがいいみたい\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003echangeId\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"kr\"\u003enumber\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e  \n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003e_id\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003egetId\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e():\u003c/span\u003e\u003cspan class=\"kr\"\u003enumber\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003e_id\u003c/span\u003e \u003cspan class=\"o\"\u003e!==\u003c/span\u003e \u003cspan class=\"kc\"\u003eundefined\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e  \u003cspan class=\"c1\"\u003e//undefinedでないことをチェックしないとビルドが通らない\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003e_id\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"windowsアプリでも問題になるけど内部状態はどう管理したらいいの\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#windows%E3%82%A2%E3%83%97%E3%83%AA%E3%81%A7%E3%82%82%E5%95%8F%E9%A1%8C%E3%81%AB%E3%81%AA%E3%82%8B%E3%81%91%E3%81%A9%E5%86%85%E9%83%A8%E7%8A%B6%E6%85%8B%E3%81%AF%E3%81%A9%E3%81%86%E7%AE%A1%E7%90%86%E3%81%97%E3%81%9F%E3%82%89%E3%81%84%E3%81%84%E3%81%AE\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eWindowsアプリでも問題になるけど内部状態はどう管理したらいいの？\u003c/h2\u003e\n\n\u003cp\u003eReact界隈でも問題になったようで、\u003ca href=\"https://facebook.github.io/flux/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eFlax\u003c/a\u003eというアーキテクチャが生み出されています。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/1dae230fe7c48facdbb95ebeb2937dca24230441/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f33383230396262382d333765632d313065372d336432652d3834326338333230636438372e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F38209bb8-37ec-10e7-3d2e-842c8320cd87.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=95a6663a57efde8013f9e4480539a0d3\" alt=\"flux.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/38209bb8-37ec-10e7-3d2e-842c8320cd87.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F38209bb8-37ec-10e7-3d2e-842c8320cd87.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=39c1f92592caa11d0351fba0585113a7 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e参考: \u003ca href=\"https://facebook.github.io/flux/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://facebook.github.io/flux/\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e簡単に解説すると、(1)内部状態(Store)は1か所に集約する、\u003cbr\u003e\n(2)GoFのCommandパターンで状態を更新する(ActionとDispatcher)、\u003cbr\u003e\n(3)Viewは内部状態をただ表現するだけ、のようです。\u003cbr\u003e\nこの発想自体は、Windowsアプリケーションでも参考になりそうですね。\u003c/p\u003e\n\n\u003cp\u003eただ、理念は良さそうですが、Flax実装の一つで一番人気のReduxは肌に合わなかったです。\u003cbr\u003e\n単にReduxの実装がよくないだけかもしれませんし、\u003cbr\u003e\nCommandパターンにありがちな、無駄に実装量が増えるあたりかもしれません。\u003c/p\u003e\n\n\u003cp\u003e代替策を調べた結果、もう少し簡易的な状態管理ライブラリである、MobXが良さそうに思えました。\u003cbr\u003e\nMobXは、上の(1)～(3)の中では、(2)はあきらめて、\u003cbr\u003e\nDIとGoFのObserverパターンを追加した感じです。\u003cbr\u003e\nWPFにMVVMパターンがありますが、それに似ています。\u003c/p\u003e\n\n\u003cp\u003eすなわち、いろいろなViewModelは1か所で管理されて、Viewの定義に従ってDIされる、\u003cbr\u003e\nViewModelで状態が変わるとView側(React)に通知が来て、再描画される、という感じです。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/9108397e70be0ae828b51fd21751bd0409942872/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f37643931613539342d313633342d386438352d393761632d3763316565346162633432612e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F7d91a594-1634-8d85-97ac-7c1ee4abc42a.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=622316446f1478194f1bb2461708ac4a\" alt=\"MobX_Abstract.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/7d91a594-1634-8d85-97ac-7c1ee4abc42a.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F7d91a594-1634-8d85-97ac-7c1ee4abc42a.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=74e66c87ff9ad539a922292f7803af2e 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eC#でMobXに似たような実装を書くとこんな感じ。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eC#でのMobXっぽい実装イメージ\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eApp\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eUserControl\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eViewModel\u003c/span\u003e \u003cspan class=\"n\"\u003e_viewModel\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003eInject\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"viewModel\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e  \u003cspan class=\"c1\"\u003e//この属性を目印にDIされる\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetViewModel\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eViewModel\u003c/span\u003e \u003cspan class=\"n\"\u003eviewModel\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003e_viewModel\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eviewModel\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"n\"\u003e_viewModel\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePropertiesUpdated\u003c/span\u003e \u003cspan class=\"p\"\u003e+=\u003c/span\u003e \u003cspan class=\"n\"\u003e_viewModel_PropertiesUpdated\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"nf\"\u003e_textBox1_TextChanged\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003e_viewModel\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eText\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003e_textBox1\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eText\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e  \u003cspan class=\"c1\"\u003e//コントロールの変更はViewModelに伝える\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"nf\"\u003e_viewModel_PropertiesUpdated\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// ViewModelの変更から画面を更新する\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// 描画更新\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eViewModel\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003e_text\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eText\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eget\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003e_text\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eset\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"n\"\u003e_text\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ePropertiesUpdated\u003c/span\u003e\u003cspan class=\"p\"\u003e?.\u003c/span\u003e\u003cspan class=\"nf\"\u003eInvoke\u003c/span\u003e\u003cspan class=\"p\"\u003e();}\u003c/span\u003e  \u003cspan class=\"c1\"\u003e//プロパティの変更を通知する\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eevent\u003c/span\u003e \u003cspan class=\"n\"\u003eAction\u003c/span\u003e \u003cspan class=\"n\"\u003ePropertiesUpdated\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e参考: \u003ca href=\"https://mobx.js.org/README.html\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://mobx.js.org/README.html\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"reactをとにかく使ってみたい\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#react%E3%82%92%E3%81%A8%E3%81%AB%E3%81%8B%E3%81%8F%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%BF%E3%81%9F%E3%81%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eReactをとにかく使ってみたい\u003c/h1\u003e\n\n\u003cp\u003eさて、基礎知識はここまでとして、実際に手を動かしてみましょう。\u003cbr\u003e\n思ったより長くなったので、興味ない方は、以降は読み飛ばして、まとめに行ってもらってもいいです。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"事前に必要なもの\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BA%8B%E5%89%8D%E3%81%AB%E5%BF%85%E8%A6%81%E3%81%AA%E3%82%82%E3%81%AE\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e事前に必要なもの\u003c/h2\u003e\n\n\u003cp\u003e環境は、C#er前提なのでWindowsです(ほかの環境でも動きそうですが確認していません)。\u003cbr\u003e\nまた、次のアプリをインストールしておく必要があります。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://nodejs.org/en/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eNode.js\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"https://www.google.com/intl/ja_jp/chrome/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eGoogle Chrome\u003c/a\u003e\n\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"https://chrome.google.com/webstore/detail/react-developer-%0Atools/fmkadmapgofadopljbjfkapdkoienihi?hl=ja\" rel=\"nofollow noopener\" target=\"_blank\"\u003eReact Developer Tools\u003c/a\u003e( Reactの開発にあると便利ですが、今回は使いません)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"https://azure.microsoft.com/ja-jp/products/visual-studio-code/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eVisual Studio Code\u003c/a\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint\" rel=\"nofollow noopener\" target=\"_blank\"\u003eESLint Extension\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode\" rel=\"nofollow noopener\" target=\"_blank\"\u003ePrettier - Code formatter Extension\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eなお、React本体やTypescriptコンパイラは開発用フォルダにダウンロードされますので 上記以外ではOSを汚しません。(・・・はず)\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"開発環境\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e開発環境\u003c/h2\u003e\n\n\u003cp\u003eまずは開発環境を作ります。 次のコマンドで、\u003ccode\u003ecreate-react-app\u003c/code\u003eというReact開発環境のテンプレートを生成するツールをダウンロードします。なお、npmはC#でいうところのNugetです。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"powershell\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecommandline\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"n\"\u003ecd\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"err\"\u003e適当な空フォルダー\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"n\"\u003enpm\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nx\"\u003einstall\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nx\"\u003ecreate-react-app\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eダウンロードしたモジュールはnode_modulesフォルダに入っており、実行モジュールは\u003ccode\u003enode_modules/.bin\u003c/code\u003eにあります。\u003cbr\u003e\nそれを使って、開発環境を生成します。\u003cbr\u003e\n第一引数はフォルダ名(およびプロジェクト名)を、第二引数の\u003ccode\u003e--typescript\u003c/code\u003eはJavascriptではなくTypescriptを使うことを指定しています。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"powershell\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecommandline\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"n\"\u003enode_modules\\.bin\\create-react-app\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nx\"\u003etest\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nt\"\u003e--typescript\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e出来上がった開発環境のフォルダに移動して、実行してみましょう。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"shell\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecommandline\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"nb\"\u003ecd test\n\u003c/span\u003enpm start\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e\u0026lt;\u0026lt;2020-12-31 Deleted\u0026gt;\u0026gt;\u003cbr\u003e\nこの.envファイルは、最新のReactで不要になったようです。\u003cbr\u003e\n一応、古いバージョンを使うこともあるので、記事はこのまま残しておきます。\u003c/p\u003e\n\n\u003cp\u003e\u0026lt;\u0026lt;2020-10-04 Added\u0026gt;\u0026gt;\u003cbr\u003e\n\u003ccode\u003enpm start\u003c/code\u003e で開発用サーバーとブラウザが立ち上がるはずですが・・・\u003cbr\u003e\n次のようなエラーが出ることがあります。\u003cbr\u003e\neslintのバージョンが高すぎると出るようですが、\u003cbr\u003e\nreactにeslintが含まれているのでエラーになってしまいます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"commandline\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u0026gt; npm start\nThere might be a problem with the project dependency tree.\nIt is likely not a bug in Create React App, but something you need to fix locally.\n\nThe react-scripts package provided by Create React App requires a dependency:\n\n  \"eslint\": \"^6.6.0\"\n\nDon't try to install it manually: your package manager does it automatically.\nHowever, a different version of eslint was detected higher up in the tree:\n\n  c:\\work\\trials-create-react-app\\node_modules\\eslint (version: 7.7.0)\n\nManually installing incompatible versions is known to cause hard-to-debug issues.\n\nIf you would prefer to ignore this check, add SKIP_PREFLIGHT_CHECK=true to an .env file in your project.\nThat will permanently disable this message but you might encounter other issues.\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e対処方法は、エラー出力に書いてある通りで、一度eslintを消すのが正解ですが、\u003cbr\u003e\nここでは面倒なので、もう一つの方法であるエラー無視の方向にします。\u003c/p\u003e\n\n\u003cp\u003e次のようなファイルを作ります。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e.env\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003eSKIP_PREFLIGHT_CHECK=true\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eこれで、 \u003ccode\u003enpm start\u003c/code\u003e でエラーが出なくなります。\u003c/p\u003e\n\n\u003cp\u003e\u0026lt;\u0026lt;2020-10-04 Added終わり\u0026gt;\u0026gt;\u003cbr\u003e\n\u0026lt;\u0026lt;2020-12-31 Deleted終わり\u0026gt;\u0026gt;\u003c/p\u003e\n\n\u003cp\u003e\u0026lt;\u0026lt;2020-12-31 Added\u0026gt;\u0026gt;\u003cbr\u003e\nVisual Studio CodeでApp.tsxを開いたときに次のようなエラーになることがあります。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/fce70e5144f68ee393b523fcef59e79033186105/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f33663034633930312d373937662d363266612d353933642d6238316435323763303232642e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F3f04c901-797f-62fa-593d-b81d527c022d.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=137d0b85f35a1586a3fe7d67cddce59f\" alt=\"VSCode-Error-JSXUnlessJsxFlag.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/3f04c901-797f-62fa-593d-b81d527c022d.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F3f04c901-797f-62fa-593d-b81d527c022d.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=a4fd7409b4e41b8ea34541970a7080b6 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003eCannot use JSX unless the '--jsx' flag is provided.\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003eエラーメッセージだけだと意味不明ですが、\u003cbr\u003e\nVisual Studio Codeが使用するTypescriptのバージョンが古いと発生するようです。\u003cbr\u003e\nVisual Studio CodeのステータスバーにTypeScriptのバージョンが表示されていますので、\u003cbr\u003e\nそれをクリックし、[Select TypeScript Version] → [Use Workspace Version]で\u003cbr\u003e\nnode_modules以下のTypeScriptを使用するように設定できます。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/ecc784efbc4a2c21fd6db29cf616b43b4a9d6f3a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f36656461643238362d643762322d323631322d386437372d3433626138326632346337642e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F6edad286-d7b2-2612-8d77-43ba82f24c7d.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2cdbba0e3622334c6bca8af983d8359a\" alt=\"VSCode-UseTypescriptVersion.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/6edad286-d7b2-2612-8d77-43ba82f24c7d.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F6edad286-d7b2-2612-8d77-43ba82f24c7d.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=3c111252d5eaa146be074749d6083158 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e上記の設定をすると、settings.jsonに以下のように記録されますので、直接settings.jsonを編集しても良いようです。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"json\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e.vscode\\settings.json\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"typescript.tsdk\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"node_modules\u003c/span\u003e\u003cspan class=\"se\"\u003e\\\\\u003c/span\u003e\u003cspan class=\"s2\"\u003etypescript\u003c/span\u003e\u003cspan class=\"se\"\u003e\\\\\u003c/span\u003e\u003cspan class=\"s2\"\u003elib\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e\u0026lt;\u0026lt;2020-12-31 Added終わり\u0026gt;\u0026gt;\u003c/p\u003e\n\n\u003cp\u003e出来上がった開発環境のフォルダに移動して、実行してみましょう。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"shell\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecommandline\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"nb\"\u003ecd test\n\u003c/span\u003enpm start\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e初期の画面が表示されます。 \u003ccode\u003enpm start\u003c/code\u003e は、Visual Studioのデバッグの開始のようなもので、\u003cbr\u003e\n自動的にhttpサーバーが起動し、ソースがビルドされて、Webページが表示されます。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/22166a255c2b2c58e54054986f478a28cf3bea5b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f37316462666136612d653064342d616430302d333237662d3361636136303764363430352e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F71dbfa6a-e0d4-ad00-327f-3aca607d6405.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=40c425ffb8e995b1edbf0577b2e7bcb2\" alt=\"React-init-screen.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/71dbfa6a-e0d4-ad00-327f-3aca607d6405.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F71dbfa6a-e0d4-ad00-327f-3aca607d6405.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=cca18b308d7c8de83ad2a03f319b20b4 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eこの状態で、ソースコードを一部変更してみます。\u003cbr\u003e\nVisual Studio Code等のテキストエディタで\u003ccode\u003esrc/App.tsx\u003c/code\u003eを編集します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"diff\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esrc/App.tsx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"gd\"\u003e- Edit \u0026lt;code\u0026gt;src/App.tsx\u0026lt;/code\u0026gt; and save to reload.\n\u003c/span\u003e\u003cspan class=\"gi\"\u003e+ Hello World\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eソースコードを変更すると自動でビルドされ、Webページも更新されます。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/bd3aff29a3190c378712afaac2b8ab40193661db/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f39373435306132622d363965662d633839342d326562642d6531666566313963306638632e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F97450a2b-69ef-c894-2ebd-e1fef19c0f8c.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c2681f9e921bef6090bf7cd92d592ea5\" alt=\"React-init-screen-Helloworld.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/97450a2b-69ef-c894-2ebd-e1fef19c0f8c.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F97450a2b-69ef-c894-2ebd-e1fef19c0f8c.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=cc681b6ae976cae706d7b7c630b75678 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e終了は、コマンドプロンプトでCtrl+Cです。\u003c/p\u003e\n\n\u003cp\u003e開発環境のファイル構成はこんな感じです。\u003cbr\u003e\nよく使うファイルは説明を付けました。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e├ build         ・・・ビルド結果が入る。C#でいうとbin/Release\n├ node_modules  ・・・ダウンロードしたパッケージがあります。C#でいうとpackages\n├ public        ・・・この中身がビルド時にコピーされる。index.htmlとか入っている\n├ src           ・・・ソースコードフォルダ\n│  ├ App.css\n│  ├ App.test.tsx ・・・App.tsxのユニットテスト。\n│  ├ App.tsx      ・・・Web画面。ここをメインで編集します。C#でいうとForm1.Designer.cs\n│  ├ index.css\n│  ├ index.tsx    ・・・エントリーポイントです。C#でいうとProgram.csのmain関数\n│  ├ logo.svg\n│  ├ react-app-env.d.ts\n│  ├ serviceWorker.ts\n│  └ setupTests.ts\n├ .env　　　　　　　　・・・環境変数の定義 (2020-10-04 Added)\n├ .gitignore\n├ package.json      ・・・このプロジェクトの情報が記載されている。C#でいうと*.csproj\n├ package-lock.json ・・・依存パッケージの情報。package.jsonにもあるけど、こっちがマスター？\n├ README.md\n└ tsconfig.json     ・・・Typescriptの設定。\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"開発環境を作りこむ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%E3%82%92%E4%BD%9C%E3%82%8A%E3%81%93%E3%82%80\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e開発環境を作りこむ\u003c/h2\u003e\n\n\u003cp\u003eこのままでも開発可能ですが、コードチェックの設定を行って、楽をしましょう。\u003cbr\u003e\nC#でいうと、Visual Studioのコード分析か、Resharperですね。\u003c/p\u003e\n\n\u003cp\u003e必要なパッケージをダウンロードします。\u003c/p\u003e\n\n\u003cp\u003e(2020-09-02 Modified)\u003cbr\u003e\nreactをバージョンアップしたら、このやり方だとエラーが出るようになりました。eslintはすでに導入されているため追加でインストールしてはいけないようです。\u003cbr\u003e\n参考: \u003ca href=\"https://qiita.com/arakappa/items/9781556a8a67b6779a0e\" class=\"autolink\" id=\"reference-0038219a8b82a3cb97ac\"\u003ehttps://qiita.com/arakappa/items/9781556a8a67b6779a0e\u003c/a\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"shell\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecommandline\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003enpm \u003cspan class=\"nb\"\u003einstall\u003c/span\u003e \u003cspan class=\"nt\"\u003e--save-dev\u003c/span\u003e @typescript-eslint/eslint-plugin @typescript-eslint/parser eslint-config-prettier eslint-plugin-prettier prettier\n\n↓は古いやり方\nnpm \u003cspan class=\"nb\"\u003einstall\u003c/span\u003e \u003cspan class=\"nt\"\u003e--save-dev\u003c/span\u003e @typescript-eslint/eslint-plugin @typescript-eslint/parser eslint eslint-config-prettier eslint-plugin-prettier prettier\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eコードチェックのルール用ファイルを作成します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"json\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e.eslintrc.json\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"extends\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"react-app\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"eslint:recommended\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"plugin:@typescript-eslint/recommended\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"plugin:@typescript-eslint/eslint-recommended\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"plugin:prettier/recommended\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"prettier/@typescript-eslint\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"plugins\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"@typescript-eslint\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"parser\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"@typescript-eslint/parser\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"env\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"browser\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"node\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"es6\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"parserOptions\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"sourceType\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"module\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"rules\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e次のコマンドでソースコードのコードチェックが行われます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"shell\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecommandline\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003enode_modules/.bin/eslint src \u003cspan class=\"nt\"\u003e--ext\u003c/span\u003e .js,.jsx,.ts,.tsx\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eコードチェック結果\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e(WorkDir)\\src\\App.test.tsx\n  1:19  error  Replace `'react'` with `\"react\"`                                        prettier/prettier\n  2:24  error  Replace `'@testing-library/react'` with `\"@testing-library/react\"`      prettier/prettier\n  3:17  error  Replace `'./App'` with `\"./App\"`                                        prettier/prettier\n\n・・・\n\n✖ 39 problems (33 errors, 6 warnings)\n  33 errors and 0 warnings potentially fixable with the `--fix` option.\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eデフォルト状態では、大量にエラーが表示されます。\u003c/p\u003e\n\n\u003cp\u003e次に、Visual Studio Codeでの警告表示と保存時の自動Fixを設定します。\u003cbr\u003e\nVisual Studio Codeの設定ファイルに以下を追加します。ファイルやフォルダがなければ新規作成してください。\u003c/p\u003e\n\n\u003cp\u003e(2020-09-02 Modified)\u003cbr\u003e\nVisual Studio Codeをバージョンアップしたら動作しなくなりました。\u003cbr\u003e\n新しいeslintプラグインの書き方に変更する必要があるようです。\u003cbr\u003e\n参考: \u003ca href=\"https://qiita.com/mysticatea/items/3f306470e8262e50bb70\" class=\"autolink\" id=\"reference-1f2829960eb4e2d88b65\"\u003ehttps://qiita.com/mysticatea/items/3f306470e8262e50bb70\u003c/a\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"json\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e.vscode\\settings.json\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"editor.codeActionsOnSave\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"source.fixAll.eslint\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"eslint.validate\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"javascript\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"javascriptreact\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"typescript\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"typescriptreact\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"typescript.tsdk\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"node_modules\u003c/span\u003e\u003cspan class=\"se\"\u003e\\\\\u003c/span\u003e\u003cspan class=\"s2\"\u003etypescript\u003c/span\u003e\u003cspan class=\"se\"\u003e\\\\\u003c/span\u003e\u003cspan class=\"s2\"\u003elib\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"err\"\u003e//\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"err\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e2020-12-31\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"err\"\u003eAdded)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"err\"\u003eVisual\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"err\"\u003eStudio\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"err\"\u003eCodeが使用するTypeScriptの設定\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"json\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e.vscode\\settings.json\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"err\"\u003e(これは古いeslintプラグインでの書き方です。)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"eslint.autoFixOnSave\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"eslint.validate\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"javascript\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"javascriptreact\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"nl\"\u003e\"language\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"typescript\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"autoFix\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"nl\"\u003e\"language\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"typescriptreact\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"autoFix\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eこれで、Visual Studio CodeでJavascriptやTypescriptのファイルを開いた場合に以下のように警告が表示され、\u003cbr\u003e\n上書き保存時に自動修正できる箇所は修正されます。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/670cb6b3ba6800f766ec6efa6bb534206942f3e2/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f65343964376136662d306137322d343262632d343766312d3965366363373564636562322e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2Fe49d7a6f-0a72-42bc-47f1-9e6cc75dceb2.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=434bf4b9fdb251d7ffc4dfe886b01f58\" alt=\"VSCode-Warning.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/e49d7a6f-0a72-42bc-47f1-9e6cc75dceb2.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2Fe49d7a6f-0a72-42bc-47f1-9e6cc75dceb2.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=2cf34f87bf2885ed867c4bbd8ca55692 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eeslintの出力に記載があるように\u003ccode\u003e--fix\u003c/code\u003eをつけると自動Fixできますが、ファイル数も少ないので、\u003cbr\u003e\nVisual Studio Codeで1つ1つファイルを開いては上書き保存していきます。\u003c/p\u003e\n\n\u003cp\u003eもう一度eslintを実行すると、自動解決できない警告だけになっています。 \u003cbr\u003e\nここでは、気にしない方向で無視します。\u003cbr\u003e\nなお、\u003ccode\u003e@typescript-eslint/explicit-function-return-type\u003c/code\u003eを無視するように\u003ccode\u003eeslintrc.json\u003c/code\u003eに記載するか、\u003ccode\u003eserviceWorker\u003c/code\u003eの関数の戻り値をちゃんと宣言すれば、警告を消せます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"shell\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecommandline\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003enode_modules/.bin/eslint src \u003cspan class=\"nt\"\u003e--ext\u003c/span\u003e .js,.jsx,.ts,.tsx\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eコードチェック結果\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e(WorkDir)\\src\\serviceWorker.ts\n   28:8   warning  Missing return type on function  @typescript-eslint/explicit-function-return-type\n   62:1   warning  Missing return type on function  @typescript-eslint/explicit-function-return-type\n   66:36  warning  Missing return type on function  @typescript-eslint/explicit-function-return-type\n   71:42  warning  Missing return type on function  @typescript-eslint/explicit-function-return-type\n  106:1   warning  Missing return type on function  @typescript-eslint/explicit-function-return-type\n  136:8   warning  Missing return type on function  @typescript-eslint/explicit-function-return-type\n\n✖ 6 problems (0 errors, 6 warnings)\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e毎回、上記のeslintコマンドを入れるのは面倒なので、mpn scriptにします。 (なおnode_modules/.bin のパスは、npmコマンドで実行すると解決されるので不要です)\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"diff\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003epackage.json\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"gd\"\u003e-   \"eject\": \"react-scripts eject\"\n\u003c/span\u003e\u003cspan class=\"gi\"\u003e+   \"eject\": \"react-scripts eject\", \n+   \"lint\": \"eslint src --ext .js,.jsx,.ts,.tsx\"\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eこれで、\u003ccode\u003enpm run lint\u003c/code\u003eで実行できるようになります。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"shell\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecommandline\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003enpm run lint\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eコードチェック結果\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e(WorkDir)\\src\\serviceWorker.ts\n   28:8   warning  Missing return type on function  @typescript-eslint/explicit-function-return-type\n   62:1   warning  Missing return type on function  @typescript-eslint/explicit-function-return-type\n   66:36  warning  Missing return type on function  @typescript-eslint/explicit-function-return-type\n   71:42  warning  Missing return type on function  @typescript-eslint/explicit-function-return-type\n  106:1   warning  Missing return type on function  @typescript-eslint/explicit-function-return-type\n  136:8   warning  Missing return type on function  @typescript-eslint/explicit-function-return-type\n\n✖ 6 problems (0 errors, 6 warnings)\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e参考\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://qiita.com/madono/items/a134e904e891c5cb1d20\" class=\"autolink\" id=\"reference-10b8e1d3dfab533d7c02\"\u003ehttps://qiita.com/madono/items/a134e904e891c5cb1d20\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://ginpen.com/2019/08/06/eslint-for-react-in-typescript/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://ginpen.com/2019/08/06/eslint-for-react-in-typescript/\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"class-componentにする\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#class-component%E3%81%AB%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eClass Componentにする\u003c/h2\u003e\n\n\u003cp\u003e\u003ccode\u003eApp.tsx\u003c/code\u003eのデフォルトは、Functional Componentです。\u003cbr\u003e\n上で話した通り、C#er的にはClass Componentのほうがわかりやすいので、Class Componentに変更します。\u003c/p\u003e\n\n\u003cp\u003eといっても、わりと機械的な作業で、 \u003ccode\u003eReact.Component\u003c/code\u003eを継承したclassを作って、\u003cbr\u003e\nデフォルトで実装されていた\u003ccode\u003eApp\u003c/code\u003e関数を\u003ccode\u003erender\u003c/code\u003e関数にします。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"react\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esrc/App.tsx(変更前)\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eApp\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eReact\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eFC\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"App\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003eheader\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"App-header\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003eimg\u003c/span\u003e \u003cspan class=\"na\"\u003esrc\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003elogo\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"App-logo\"\u003c/span\u003e \u003cspan class=\"na\"\u003ealt\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"logo\"\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003eHello World\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ea\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"App-link\"\u003c/span\u003e\n          \u003cspan class=\"na\"\u003ehref\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"https://reactjs.org\"\u003c/span\u003e\n          \u003cspan class=\"na\"\u003etarget\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"_blank\"\u003c/span\u003e\n          \u003cspan class=\"na\"\u003erel\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"noopener noreferrer\"\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n          Learn React\n        \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003eheader\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"react\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esrc/App.tsx(変更後)\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nx\"\u003eApp\u003c/span\u003e \u003cspan class=\"kd\"\u003eextends\u003c/span\u003e \u003cspan class=\"nx\"\u003eReact\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eComponent\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kr\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003erender\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e():\u003c/span\u003e \u003cspan class=\"nx\"\u003eJSX\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eElement\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"App\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003eheader\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"App-header\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003eimg\u003c/span\u003e \u003cspan class=\"na\"\u003esrc\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003elogo\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"App-logo\"\u003c/span\u003e \u003cspan class=\"na\"\u003ealt\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"logo\"\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003eHello World\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ea\u003c/span\u003e\n            \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"App-link\"\u003c/span\u003e\n            \u003cspan class=\"na\"\u003ehref\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"https://reactjs.org\"\u003c/span\u003e\n            \u003cspan class=\"na\"\u003etarget\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"_blank\"\u003c/span\u003e\n            \u003cspan class=\"na\"\u003erel\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"noopener noreferrer\"\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n            Learn React\n          \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003eheader\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eポイントは以下です。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\n\u003ccode\u003eReact.Component\u003c/code\u003eを継承したclassを作ります。なお、Typescriptの継承は\u003ccode\u003eextends\u003c/code\u003eです。\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003ereander\u003c/code\u003e関数の戻り値はhtmlっぽい何かで、型的には\u003ccode\u003eJSX.Element\u003c/code\u003eになります。\n\n\u003cul\u003e\n\u003cli\u003e\n\u003ccode\u003eclass\u003c/code\u003e は \u003ccode\u003eclassName\u003c/code\u003e にする(javascriptの構文と名前が被るので)\u003c/li\u003e\n\u003cli\u003eHtmlの属性は文字列以外は{}で囲ってJavascriptまたはTypescriptで記載する\u003c/li\u003e\n\u003cli\u003estyleは \u003ccode\u003e{{width:\"50%\"}}\u003c/code\u003e のように\u003ccode\u003e{}\u003c/code\u003eで囲われたJsonで書く\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003ccode\u003enpm start\u003c/code\u003eしてみると、当然ですが、見た目は変わりません。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/bd3aff29a3190c378712afaac2b8ab40193661db/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f39373435306132622d363965662d633839342d326562642d6531666566313963306638632e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F97450a2b-69ef-c894-2ebd-e1fef19c0f8c.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c2681f9e921bef6090bf7cd92d592ea5\" alt=\"React-init-screen-Helloworld.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/97450a2b-69ef-c894-2ebd-e1fef19c0f8c.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F97450a2b-69ef-c894-2ebd-e1fef19c0f8c.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=cc681b6ae976cae706d7b7c630b75678 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e参考: \u003ca href=\"https://qiita.com/daikoncl/items/a3806d8a8bf35f086487\" class=\"autolink\"\u003ehttps://qiita.com/daikoncl/items/a3806d8a8bf35f086487\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"material-uiを導入する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#material-ui%E3%82%92%E5%B0%8E%E5%85%A5%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eMaterial-UIを導入する\u003c/h2\u003e\n\n\u003cp\u003eReactのデフォルトでは、標準のhtmlタグしか使えません。 デザインセンス無しでそこそこイケてるWeb画面を作るために、既存の部品を使います。\u003cbr\u003e\nここでは、上で紹介した、Material-UIです。\u003c/p\u003e\n\n\u003cp\u003eまずパッケージをインストールします。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"shell\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecommandline\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003enpm \u003cspan class=\"nb\"\u003einstall\u003c/span\u003e @material-ui/core @material-ui/icons \u003cspan class=\"nt\"\u003e--save\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eそして、material-uiを使ったUIに\u003ccode\u003eApp.tsx\u003c/code\u003eをマルっと書き換えます。\u003cbr\u003e\n\u003ccode\u003eCard\u003c/code\u003eを使って、ブログのサマリーページ的な感じにしました。\u003cbr\u003e\n\u003ccode\u003eCard\u003c/code\u003eの使い方は、Material-UIの公式を参考に。\u003cbr\u003e\n\u003ca href=\"https://material-ui.com/components/cards/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://material-ui.com/components/cards/\u003c/a\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"react\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esrc/App.tsx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eReact\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ereact\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eCard\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@material-ui/core/Card\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eCardHeader\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@material-ui/core/CardHeader\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eCardContent\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@material-ui/core/CardContent\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eIconButton\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@material-ui/core/IconButton\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eMoreVertIcon\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@material-ui/icons/MoreVert\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eTypography\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@material-ui/core/Typography\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e./App.css\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nx\"\u003eApp\u003c/span\u003e \u003cspan class=\"kd\"\u003eextends\u003c/span\u003e \u003cspan class=\"nx\"\u003eReact\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eComponent\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003erender\u003c/span\u003e\u003cspan class=\"p\"\u003e():\u003c/span\u003e \u003cspan class=\"nx\"\u003eJSX\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eElement\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"App\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eCard\u003c/span\u003e \u003cspan class=\"na\"\u003estyle\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003ewidth\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e300\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003emargin\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eCardHeader\u003c/span\u003e\n            \u003cspan class=\"na\"\u003eaction\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\n              \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eIconButton\u003c/span\u003e \u003cspan class=\"na\"\u003earia\u003c/span\u003e\u003cspan class=\"err\"\u003e-\u003c/span\u003e\u003cspan class=\"na\"\u003elabel\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"settings\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eMoreVertIcon\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n              \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nc\"\u003eIconButton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"si\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"na\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"タイトル\"\u003c/span\u003e\n            \u003cspan class=\"na\"\u003esubheader\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"2019-12-17\"\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eCardContent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eTypography\u003c/span\u003e \u003cspan class=\"na\"\u003ecolor\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"textSecondary\"\u003c/span\u003e \u003cspan class=\"na\"\u003egutterBottom\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n              アブストラクトです。\n            \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nc\"\u003eTypography\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nc\"\u003eCardContent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nc\"\u003eCard\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eCard\u003c/span\u003e \u003cspan class=\"na\"\u003estyle\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003ewidth\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e300\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003emargin\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eCardHeader\u003c/span\u003e\n            \u003cspan class=\"na\"\u003eaction\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\n              \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eIconButton\u003c/span\u003e \u003cspan class=\"na\"\u003earia\u003c/span\u003e\u003cspan class=\"err\"\u003e-\u003c/span\u003e\u003cspan class=\"na\"\u003elabel\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"settings\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eMoreVertIcon\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n              \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nc\"\u003eIconButton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"si\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"na\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"タイトルその2\"\u003c/span\u003e\n            \u003cspan class=\"na\"\u003esubheader\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"2019-12-17\"\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eCardContent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eTypography\u003c/span\u003e \u003cspan class=\"na\"\u003ecolor\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"textSecondary\"\u003c/span\u003e \u003cspan class=\"na\"\u003egutterBottom\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n              アブストラクトその2です。\n            \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nc\"\u003eTypography\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nc\"\u003eCardContent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nc\"\u003eCard\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"nx\"\u003eApp\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003enpm start\u003c/code\u003eしてみると次のようになります。\u003cbr\u003e\nいろいろスタイルは手抜きですが、影とかアイコンとかそれっぽくなりました。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/4e00ed35602eab8609bdf4bbafc572ceb47ae2bd/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f34363138633861322d633065622d323763652d333338302d3461353432313336663962302e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F4618c8a2-c0eb-27ce-3380-4a542136f9b0.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4e2ed11a778f335b9a8eacfb4aa00ccf\" alt=\"React-blog-top.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/4618c8a2-c0eb-27ce-3380-4a542136f9b0.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F4618c8a2-c0eb-27ce-3380-4a542136f9b0.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ef50c91ceecb4fc63d46714e6a4e0ff7 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e参考: \u003ca href=\"https://material-ui.com/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://material-ui.com/\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"データをサーバーから取得\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%8B%E3%82%89%E5%8F%96%E5%BE%97\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eデータをサーバーから取得\u003c/h2\u003e\n\n\u003cp\u003e現状、コンテンツは\u003ccode\u003eApp.tsx\u003c/code\u003eに埋め込まれています。 \u003cbr\u003e\n普通のサイトを考えるとJsonをサーバーから取得すると思います。\u003c/p\u003e\n\n\u003cp\u003eざっくりJsonを想定するとこんな感じでしょうか。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"json\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"id\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"title\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"タイトル\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"date\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"2019-12-17\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"abstract\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"アブストラクトです。\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"id\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"title\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"タイトルその2\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"date\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"2019-12-17\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"abstract\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"アブストラクトその2です。\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eWebページの組み込みは、いったん後回しとして、 サーバーからJsonを取得して、このデータをWebページに渡すViewModelを作り、 単体テストで動作確認します。\u003c/p\u003e\n\n\u003cp\u003eまずは、サーバーがないのでテスト時にHTTPリクエストを代替するパッケージ\u003ccode\u003efetch-mock\u003c/code\u003eを入れます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"shell\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecommandline\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003enpm \u003cspan class=\"nb\"\u003einstall \u003c/span\u003efetch-mock @types/fetch-mock node-fetch \u003cspan class=\"nt\"\u003e--save-dev\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eそして、ViewModelとユニットテスト用に2つのファイルを追加します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esrc/AppStore.ts　(ViewModelです)\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kr\"\u003einterface\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogSummary\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003enumber\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003eabstract\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nx\"\u003eAppStore\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogSummary\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[];\u003c/span\u003e\n  \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003efetchData\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"p\"\u003e():\u003c/span\u003e \u003cspan class=\"nb\"\u003ePromise\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003evoid\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ejson\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n      \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003efetch\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e/api/summaries/\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003ejson\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e \u003cspan class=\"k\"\u003eas\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogSummary\u003c/span\u003e\u003cspan class=\"p\"\u003e[];\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ejson\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esrc/AppStore.test.ts　(ユニットテストです)\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eAppStore\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e./AppStore\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003efetchMock\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003efetch-mock\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003edummyData\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eタイトル\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e2019-12-17\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eabstract\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eアブストラクトです。\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eタイトルその2\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e2019-12-17\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eabstract\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eアブストラクトその2です。\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n\u003cspan class=\"nx\"\u003efetchMock\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"kd\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e/api/summaries/\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003edummyData\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n\u003cspan class=\"nx\"\u003etest\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003efetchData test\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003etarget\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nx\"\u003eAppStore\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003etarget\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efetchData\u003c/span\u003e\u003cspan class=\"p\"\u003e().\u003c/span\u003e\u003cspan class=\"nx\"\u003ethen\u003c/span\u003e\u003cspan class=\"p\"\u003e(()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003etarget\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003etoEqual\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003edummyData\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eついでに、上の変更ですでに壊れているので \u003ccode\u003esrc/App.test.tsx\u003c/code\u003e を削除します。\u003cbr\u003e\n(個人的にViewのテストは難しいわりにリターンが少ないので、あまりしません。\u003cbr\u003e\n Typescriptで型はチェックできていますし。)\u003c/p\u003e\n\n\u003cp\u003eユニットテストを実行してみましょう。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"shell\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecommandline\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003enpm run \u003cspan class=\"nb\"\u003etest\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e成功しました。良さそうです。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eユニットテスト結果\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e PASS  src/AppStore.test.ts\n  √ fetchData test (5ms)\n\nTest Suites: 1 passed, 1 total\nTests:       1 passed, 1 total\nSnapshots:   0 total\nTime:        2.573s\nRan all test suites related to changed files.\n\nWatch Usage\n › Press a to run all tests.\n › Press f to run only failed tests.\n › Press q to quit watch mode.\n › Press p to filter by a filename regex pattern.\n › Press t to filter by a test name regex pattern.\n › Press Enter to trigger a test run.\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e参考: \u003ca href=\"http://www.wheresrhys.co.uk/fetch-mock/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://www.wheresrhys.co.uk/fetch-mock/\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"mobxを使ってviewmodelとviewを結合する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#mobx%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6viewmodel%E3%81%A8view%E3%82%92%E7%B5%90%E5%90%88%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eMobXを使ってViewModelとViewを結合する\u003c/h2\u003e\n\n\u003cp\u003eViewModel \u003ccode\u003eAppStore\u003c/code\u003e はルートである \u003ccode\u003eIndex.tsx\u003c/code\u003e の \u003ccode\u003estores\u003c/code\u003e で管理し、\u003ccode\u003eApp\u003c/code\u003e にインジェクトします。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/8ced9b04d2eae296677e0da1056bea09bac052b1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f62653330373361322d653436332d393563372d653665322d3933636366623334633536352e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2Fbe3073a2-e463-95c7-e6e2-93ccfb34c565.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4b720227919cd4e2abc788ece26d5bbd\" alt=\"Object-Diagram1.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/be3073a2-e463-95c7-e6e2-93ccfb34c565.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2Fbe3073a2-e463-95c7-e6e2-93ccfb34c565.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=f51bbce99f93314a16b931674873aa4d 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eまずは必要なパッケージをインストールします。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"shell\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecommandline\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003enpm \u003cspan class=\"nb\"\u003einstall \u003c/span\u003emobx mobx-react \u003cspan class=\"nt\"\u003e--save\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eそして、MobXはデコレーターを使用するのでTypescriptのオプションを変更します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"diff\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003etsconfig.json\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"gd\"\u003e-    \"jsx\": \"react\"\n\u003c/span\u003e\u003cspan class=\"gi\"\u003e+    \"jsx\": \"react\",\n+    \"experimentalDecorators\": true\n\u003c/span\u003e  },\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eindex.tsxでストア(stores)を作り、 状態を管理する\u003ccode\u003e\u0026lt;Provider\u0026gt;\u0026lt;/Provider\u0026gt;\u003c/code\u003eで\u003ccode\u003eApp\u003c/code\u003eを囲い、\u003cbr\u003e\n\u003ccode\u003eProvider\u003c/code\u003eには\u003ccode\u003estores\u003c/code\u003eを渡します。\u003cbr\u003e\nこれにより、\u003ccode\u003eApp\u003c/code\u003eの要求に従って、\u003ccode\u003eProvider\u003c/code\u003eから必要なViewModelを渡されます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"diff\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esrc/index.tsx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"gd\"\u003e- ReactDOM.render(\u0026lt;App /\u0026gt;, document.getElementById(\"root\"));\n\u003c/span\u003e\u003cspan class=\"gi\"\u003e+ import { AppStore } from \"./AppStore\";\n+ import { Provider } from \"mobx-react\";\n+ \n+ const stores = {\n+   appStore: new AppStore()\n+ };\n+ \n+ ReactDOM.render(\n+   \u0026lt;Provider {...stores}\u0026gt;\n+     \u0026lt;App /\u0026gt;\n+   \u0026lt;/Provider\u0026gt;,\n+   document.getElementById(\"root\")\n+ );\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eストアの \u003ccode\u003eappStore\u003c/code\u003e を受け取るように \u003ccode\u003eApp\u003c/code\u003e で宣言します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esrc/App.tsx(変更前)\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nx\"\u003eApp\u003c/span\u003e \u003cspan class=\"kd\"\u003eextends\u003c/span\u003e \u003cspan class=\"nx\"\u003eReact\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eComponent\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esrc/App.tsx(変更後)\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eAppStore\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e./AppStore\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003einject\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eobserver\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003emobx-react\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"kr\"\u003einterface\u003c/span\u003e \u003cspan class=\"nx\"\u003eAppProps\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003eappStore\u003c/span\u003e\u003cspan class=\"p\"\u003e?:\u003c/span\u003e \u003cspan class=\"nx\"\u003eAppStore\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"p\"\u003e@\u003c/span\u003e\u003cspan class=\"nd\"\u003einject\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eappStore\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e@\u003c/span\u003e\u003cspan class=\"nd\"\u003eobserver\u003c/span\u003e\n\u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nx\"\u003eApp\u003c/span\u003e \u003cspan class=\"kd\"\u003eextends\u003c/span\u003e \u003cspan class=\"nx\"\u003eReact\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eComponent\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eAppProps\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eポイントは以下です。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eReact部品で外からパラメータを受け取るにはPropsの仕組みを使います。\n\n\u003cul\u003e\n\u003cli\u003e\n\u003ccode\u003eReact.Component\u003c/code\u003eのジェネリック型に、受け取るパラメータを宣言したインターフェイス\u003ccode\u003eAppProps\u003c/code\u003eを指定します。\u003c/li\u003e\n\u003cli\u003e今回は\u003ccode\u003estores\u003c/code\u003eで管理されている\u003ccode\u003eAppStore\u003c/code\u003eを受け取るので、\u003ccode\u003eAppStore\u003c/code\u003e型の\u003ccode\u003eappStore\u003c/code\u003eを宣言します。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003e@inject\u003c/code\u003eの引数および\u003ccode\u003eAppProps\u003c/code\u003eのプロパティには、受け取りたい\u003ccode\u003estores\u003c/code\u003e内のプロパティ名\u003ccode\u003eappStore\u003c/code\u003eを指定します。\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eこれで、\u003ccode\u003eindex.tsx\u003c/code\u003eの\u003ccode\u003estores\u003c/code\u003e内の\u003ccode\u003eappStore\u003c/code\u003eが\u003ccode\u003eApp\u003c/code\u003eに渡されます。\u003c/p\u003e\n\n\u003cp\u003eなお、当然ですが、見た目は変わりません。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/4e00ed35602eab8609bdf4bbafc572ceb47ae2bd/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f34363138633861322d633065622d323763652d333338302d3461353432313336663962302e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F4618c8a2-c0eb-27ce-3380-4a542136f9b0.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4e2ed11a778f335b9a8eacfb4aa00ccf\" alt=\"React-blog-top.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/4618c8a2-c0eb-27ce-3380-4a542136f9b0.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F4618c8a2-c0eb-27ce-3380-4a542136f9b0.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ef50c91ceecb4fc63d46714e6a4e0ff7 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"viewmodelを使ってwebページを更新する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#viewmodel%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6web%E3%83%9A%E3%83%BC%E3%82%B8%E3%82%92%E6%9B%B4%E6%96%B0%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eViewModelを使ってWebページを更新する\u003c/h2\u003e\n\n\u003cp\u003e上までで、\u003ccode\u003eApp\u003c/code\u003eにViewModelである\u003ccode\u003eAppStore\u003c/code\u003eが渡されたので、\u003ccode\u003eAppStore\u003c/code\u003eの状態を使ってWebページを更新するようにします。 \u003ccode\u003eApp.tsx\u003c/code\u003eをマルっと書き換えます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"react\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esrc/App.tsx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e@\u003c/span\u003e\u003cspan class=\"nd\"\u003einject\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eappStore\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e@\u003c/span\u003e\u003cspan class=\"nd\"\u003eobserver\u003c/span\u003e\n\u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nx\"\u003eApp\u003c/span\u003e \u003cspan class=\"kd\"\u003eextends\u003c/span\u003e \u003cspan class=\"nx\"\u003eReact\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eComponent\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eAppProps\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"c1\"\u003e// コンポーネントが構築される直前に呼ばれる\u003c/span\u003e\n  \u003cspan class=\"kr\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003ecomponentDidMount\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e():\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprops\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eappStore\u003c/span\u003e \u003cspan class=\"o\"\u003e===\u003c/span\u003e \u003cspan class=\"kc\"\u003eundefined\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprops\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eappStore\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efetchData\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n  \u003cspan class=\"nx\"\u003erender\u003c/span\u003e\u003cspan class=\"p\"\u003e():\u003c/span\u003e \u003cspan class=\"nx\"\u003eJSX\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eElement\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// appStoreはundefindedである場合があるので、その時は何も表示しない\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprops\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eappStore\u003c/span\u003e \u003cspan class=\"o\"\u003e===\u003c/span\u003e \u003cspan class=\"kc\"\u003eundefined\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u0026gt;;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// this.props.appStore.dataに従ってWebページを構築する\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"App\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprops\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eappStore\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n          \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eCard\u003c/span\u003e \u003cspan class=\"na\"\u003ekey\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e \u003cspan class=\"na\"\u003estyle\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003ewidth\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e300\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003emargin\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n              \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eCardHeader\u003c/span\u003e\n                \u003cspan class=\"na\"\u003eaction\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\n                  \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eIconButton\u003c/span\u003e \u003cspan class=\"na\"\u003earia\u003c/span\u003e\u003cspan class=\"err\"\u003e-\u003c/span\u003e\u003cspan class=\"na\"\u003elabel\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"settings\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eMoreVertIcon\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n                  \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nc\"\u003eIconButton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n                \u003cspan class=\"si\"\u003e}\u003c/span\u003e\n                \u003cspan class=\"na\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etitle\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n                \u003cspan class=\"na\"\u003esubheader\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edate\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n              \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n              \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eCardContent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eTypography\u003c/span\u003e \u003cspan class=\"na\"\u003ecolor\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"textSecondary\"\u003c/span\u003e \u003cspan class=\"na\"\u003egutterBottom\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n                  \u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eabstract\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nc\"\u003eTypography\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n              \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nc\"\u003eCardContent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nc\"\u003eCard\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e})\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eポイント\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\n\u003ccode\u003ecomponentDidMount()\u003c/code\u003e はこのコンポーネントが構築される前に呼ばれます。\n\n\u003cul\u003e\n\u003cli\u003eC#でいうところの、\u003ccode\u003eForm.Load\u003c/code\u003eイベントです。\u003c/li\u003e\n\u003cli\u003eここでは、サーバーからデータを取得するため、 \u003ccode\u003eappStore.fetchData()\u003c/code\u003e を呼び出します。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003erender()\u003c/code\u003e では、 \u003ccode\u003ethis.props.appStore.data\u003c/code\u003e に従ってWebページを構築します。\n\n\u003cul\u003e\n\u003cli\u003e\n\u003ccode\u003e{}\u003c/code\u003eで囲うとTypescriptを記述でき、returnで\u003ccode\u003eJSX.Element\u003c/code\u003eを返します。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eMobXは、プロパティが変更されたことを検知して、Viewを再描画させる機能を持っています。\u003cbr\u003e\nこれを使って、データが取得されたときにViewを更新します。\u003cbr\u003e\nそのために \u003ccode\u003eAppStore\u003c/code\u003e のメソッドとプロパティに属性を付けます。\u003c/p\u003e\n\n\u003cp\u003e(2020-12-31 Add)\u003cbr\u003e\nMobX ver.6.0.0以降では、属性を使用しない仕組みに変わったようです。\u003cbr\u003e\nコンストラクタで \u003ccode\u003emakeAutoObservable(this);\u003c/code\u003e を呼ぶと\u003cbr\u003e\n自動でメンバーに \u003ccode\u003e@observable\u003c/code\u003e を付けたことになるようです。\u003cbr\u003e\n\u003ccode\u003e@observable\u003c/code\u003e は不要になったようですが、私はなんとなく毎回付けてしまっています。\u003cbr\u003e\n参考: \u003ca href=\"https://mobx.js.org/migrating-from-4-or-5.html#upgrading-classes-to-use-makeobservable\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://mobx.js.org/migrating-from-4-or-5.html#upgrading-classes-to-use-makeobservable\u003c/a\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"diff\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esrc/AppStore.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"gi\"\u003e+ import { action, makeAutoObservable, observable } from \"mobx\";\n\u003c/span\u003e\n\n export class AppStore {\n\u003cspan class=\"gi\"\u003e+  constructor() {\n+    makeAutoObservable(this);\n+  }\n+  @observable\n\u003c/span\u003e   data: BlogSummary[] = [];\n\u003cspan class=\"gi\"\u003e+  @action\n\u003c/span\u003e   public fetchData = async (): Promise\u0026lt;void\u0026gt; =\u0026gt; {\n }\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eこれでサーバーデータに応じた画面を作ることができましたが、\u003cbr\u003e\nこのままでは、サーバーは存在しないのでエラーになります。\u003cbr\u003e\nユニットテスト用の\u003ccode\u003efetch-mock\u003c/code\u003eを流用してダミーデータを使うようにします。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"diff\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esrc/index.tsx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"gi\"\u003e+ import fetchMock from \"fetch-mock\";\n+ \n+ const dummyData = [\n+   {\n+     id: 1,\n+     title: \"[サーバー]タイトル\",\n+     date: \"2019-12-17\",\n+     abstract: \"アブストラクトです。\"\n+   },\n+   {\n+     id: 2,\n+     title: \"[サーバー]タイトルその2\",\n+     date: \"2019-12-17\",\n+     abstract: \"アブストラクトその2です。\"\n+   }\n+ ];\n+ fetchMock.get(\"/api/summaries/\", dummyData);\n\u003c/span\u003e\n  const stores = {\n    appStore: new AppStore()\n  };\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eこれで、 \u003ccode\u003enpm start\u003c/code\u003e すると以下のようになります。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/ece25d83ef9dd1bbba52ea55e14e30e06be27aa4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f36663165633237372d653637312d396165352d306433322d6136306332386361323839612e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F6f1ec277-e671-9ae5-0d32-a60c28ca289a.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=9a991ebc060c1d3800fd8d885fc162df\" alt=\"React-blog-top-json.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/6f1ec277-e671-9ae5-0d32-a60c28ca289a.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F6f1ec277-e671-9ae5-0d32-a60c28ca289a.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=767d6dd74ab864ead500881b8c64ff5f 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003edummyData\u003c/code\u003eをいろいろ変えてみるとWebページが変わると思います。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"部品を作る\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%83%A8%E5%93%81%E3%82%92%E4%BD%9C%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e部品を作る\u003c/h2\u003e\n\n\u003cp\u003eReactの部品化の練習のためにTOPページのサマリー要素部分を部品化してみます。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/c0275b88d717d3c522ba034a7b101b8c951ac759/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f38386533616335662d323661302d353366302d623065652d3032666530316464643936372e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F88e3ac5f-26a0-53f0-b0ee-02fe01ddd967.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=70ce937e52b82c37ad701f5b45c4f234\" alt=\"Object-Diagram2.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/88e3ac5f-26a0-53f0-b0ee-02fe01ddd967.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F88e3ac5f-26a0-53f0-b0ee-02fe01ddd967.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ddfe984db4180f79263f9e884d38c241 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e上と同じようにReactコンポーネントのclassを作って、\u003cbr\u003e\nrenderでは、App.tsxで部品化したい部分を返すようにします。\u003cbr\u003e\n必要なパラメータはPropsで上から渡してもらいます。\u003cbr\u003e\nなお、Storesで状態管理するのはページごとで、部品ではViewModelは使わないほうが良いようです。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"React\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esrc/SummaryItem.tsx(新規作成)\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eReact\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ereact\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eCard\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@material-ui/core/Card\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eCardHeader\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@material-ui/core/CardHeader\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eCardContent\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@material-ui/core/CardContent\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eIconButton\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@material-ui/core/IconButton\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eMoreVertIcon\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@material-ui/icons/MoreVert\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eTypography\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@material-ui/core/Typography\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eLink\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ereact-router-dom\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"kr\"\u003einterface\u003c/span\u003e \u003cspan class=\"nx\"\u003eSummaryItemProps\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003eabstract\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nx\"\u003eSummaryItem\u003c/span\u003e \u003cspan class=\"kd\"\u003eextends\u003c/span\u003e \u003cspan class=\"nx\"\u003eReact\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eComponent\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eSummaryItemProps\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003erender\u003c/span\u003e\u003cspan class=\"p\"\u003e():\u003c/span\u003e \u003cspan class=\"nx\"\u003eJSX\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eElement\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eCard\u003c/span\u003e \u003cspan class=\"na\"\u003estyle\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003ewidth\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e300\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003emargin\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eCardHeader\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eaction\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eIconButton\u003c/span\u003e \u003cspan class=\"na\"\u003earia\u003c/span\u003e\u003cspan class=\"err\"\u003e-\u003c/span\u003e\u003cspan class=\"na\"\u003elabel\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"settings\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n              \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eMoreVertIcon\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nc\"\u003eIconButton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"si\"\u003e}\u003c/span\u003e\n          \u003cspan class=\"na\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eLink\u003c/span\u003e \u003cspan class=\"na\"\u003eto\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprops\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eurl\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprops\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etitle\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nc\"\u003eLink\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n          \u003cspan class=\"na\"\u003esubheader\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprops\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edate\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eCardContent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eTypography\u003c/span\u003e \u003cspan class=\"na\"\u003ecolor\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"textSecondary\"\u003c/span\u003e \u003cspan class=\"na\"\u003egutterBottom\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprops\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eabstract\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nc\"\u003eTypography\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nc\"\u003eCardContent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nc\"\u003eCard\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"nx\"\u003eSummaryItem\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003eApp.tsx\u003c/code\u003eのほうは、上で作った部品を使うように書き換えます。\u003cbr\u003e\nなお、部品の参照は、\u003ccode\u003eimport\u003c/code\u003eです。\u003cbr\u003e\nまた、不要になった\u003ccode\u003eimport\u003c/code\u003eも消しておきましょう。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"diff\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esrc/App.tsx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"gd\"\u003e- import Card from \"@material-ui/core/Card\";\n- import CardHeader from \"@material-ui/core/CardHeader\";\n- import CardContent from \"@material-ui/core/CardContent\";\n- import IconButton from \"@material-ui/core/IconButton\";\n- import MoreVertIcon from \"@material-ui/icons/MoreVert\";\n- import Typography from \"@material-ui/core/Typography\";\n\u003c/span\u003e\u003cspan class=\"gi\"\u003e+ import SummaryItem from \"./SummaryItem\";\n\u003c/span\u003e\n\n\u003cspan class=\"gd\"\u003e-            \u0026lt;Card key={data.id} style={{ width: 300, margin: 2 }}\u0026gt;\n-              \u0026lt;CardHeader\n-                action={\n-                  \u0026lt;IconButton aria-label=\"settings\"\u0026gt;\n-                    \u0026lt;MoreVertIcon /\u0026gt;\n-                  \u0026lt;/IconButton\u0026gt;\n-                }\n-                title={data.title}\n-                subheader={data.date}\n-              /\u0026gt;\n-              \u0026lt;CardContent\u0026gt;\n-                \u0026lt;Typography color=\"textSecondary\" gutterBottom\u0026gt;\n-                  {data.abstract}\n-                \u0026lt;/Typography\u0026gt;\n-              \u0026lt;/CardContent\u0026gt;\n-            \u0026lt;/Card\u0026gt;\n\u003c/span\u003e\u003cspan class=\"gi\"\u003e+            \u0026lt;SummaryItem\n+              key={data.id}\n+              title={data.title}\n+              date={data.date}\n+              abstract={data.abstract}\n+            /\u0026gt;\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e相変わらず見た目は変わりませんが、\u003cbr\u003e\nサマリー部分の部品化ができました。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/ece25d83ef9dd1bbba52ea55e14e30e06be27aa4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f36663165633237372d653637312d396165352d306433322d6136306332386361323839612e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F6f1ec277-e671-9ae5-0d32-a60c28ca289a.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=9a991ebc060c1d3800fd8d885fc162df\" alt=\"React-blog-top-json.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/6f1ec277-e671-9ae5-0d32-a60c28ca289a.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F6f1ec277-e671-9ae5-0d32-a60c28ca289a.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=767d6dd74ab864ead500881b8c64ff5f 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eなお、この部品は再利用しないので、部品化はあまり意味はありません。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"ページ遷移を作る\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%9A%E3%83%BC%E3%82%B8%E9%81%B7%E7%A7%BB%E3%82%92%E4%BD%9C%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eページ遷移を作る\u003c/h2\u003e\n\n\u003cp\u003eSPAといえども、普通のHtmlのようにページ遷移がしたいことが多いです。\u003cbr\u003e\n概要←→詳細 で行き来することもありますし、1ページいろいろ押し込むと使いにくいですし。\u003c/p\u003e\n\n\u003cp\u003eここでは、\u003ccode\u003eReact-Router\u003c/code\u003eを使ってページ遷移を作ります。\u003c/p\u003e\n\n\u003cp\u003eまずページ遷移があるということはURLを設計しないといけません。\u003cbr\u003e\n簡単ですが、以下のようにします。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\n\u003ccode\u003ehttp://～/\u003c/code\u003e 　　　　　　　　→ トップページ(サマリーのページ)\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003ehttp://～/contents/(Id)\u003c/code\u003e 　→ 詳細ページ(Idは数字)\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eでは作ってみましょう。\u003c/p\u003e\n\n\u003cp\u003eまず、必要なパッケージを取得します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"shell\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecommandline\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003enpm \u003cspan class=\"nb\"\u003einstall \u003c/span\u003ereact-router-dom @types/react-router-dom  \u003cspan class=\"nt\"\u003e--save\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e次にTOPページから詳細ページへのリンクを作ります。\u003cbr\u003e\nReact-Routerでのリンクは\u003ccode\u003e\u0026lt;Link to=\"url\"\u0026gt;ラベル\u0026lt;/Link\u0026gt;\u003c/code\u003eを使いますので、\u003cbr\u003e\nタイトル部分をリンクに置き換えます。\u003cbr\u003e\nURLはPropsに追加して、親ページから渡してもらうことにします。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"diff\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esrc/SummaryItem.tsx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e  import Typography from \"@material-ui/core/Typography\";\n\u003cspan class=\"gi\"\u003e+ import { Link } from \"react-router-dom\";\n\u003c/span\u003e\n  interface SummaryItemProps {\n    title: string;\n    date: string;\n    abstract: string;\n\u003cspan class=\"gi\"\u003e+   url: string;\n\u003c/span\u003e  }\n\n             \u0026lt;/IconButton\u0026gt;\n           }\n\u003cspan class=\"gd\"\u003e-          title={this.props.title}\n\u003c/span\u003e\u003cspan class=\"gi\"\u003e+          title={\u0026lt;Link to={this.props.url}\u0026gt;{this.props.title}\u0026lt;/Link\u0026gt;}\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e親ページでは、URLを渡すように設定します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"diff\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esrc/App.tsx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e              \u0026lt;SummaryItem\n                key={data.id}\n\u003cspan class=\"gi\"\u003e+               url={`./contents/${data.id}`}\n\u003c/span\u003e                title={data.title}\n                date={data.date}\n                abstract={data.abstract}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eこれでトップページからのリンクはできました。\u003cbr\u003e\nでは、詳細ページを作っていきます。\u003c/p\u003e\n\n\u003cp\u003e作り方は、App.tsxと同じでページ(ContentPage.tsx)とViewModel(ContentPageStore.ts)を作って\u003cbr\u003e\nMobXで連携させます。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/1caacdf08121ec84fb1c6ae34cdb8d188fcba8de/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f33363135373839652d653631632d336161332d616431612d6233376363643034323734392e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F3615789e-e61c-3aa3-ad1a-b37ccd042749.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=48c0739f2eb9a8aec423272561aceb8c\" alt=\"Object-Diagram3.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/3615789e-e61c-3aa3-ad1a-b37ccd042749.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F3615789e-e61c-3aa3-ad1a-b37ccd042749.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=0fb770079e87cb7cc137b0e7e0d776da 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"React\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esrc/ContentPage.tsx　(新規作成)\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eReact\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ereact\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eRouteComponentProps\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ereact-router-dom\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eCard\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@material-ui/core/Card\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eCardHeader\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@material-ui/core/CardHeader\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eCardContent\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@material-ui/core/CardContent\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eIconButton\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@material-ui/core/IconButton\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eMoreVertIcon\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@material-ui/icons/MoreVert\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eTypography\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@material-ui/core/Typography\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eContentPageStore\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e./ContentPageStore\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003einject\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eobserver\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003emobx-react\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"kr\"\u003einterface\u003c/span\u003e \u003cspan class=\"nx\"\u003eContentPageProps\u003c/span\u003e \u003cspan class=\"kd\"\u003eextends\u003c/span\u003e \u003cspan class=\"nx\"\u003eRouteComponentProps\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003estring\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003econtentPageStore\u003c/span\u003e\u003cspan class=\"p\"\u003e?:\u003c/span\u003e \u003cspan class=\"nx\"\u003eContentPageStore\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"p\"\u003e@\u003c/span\u003e\u003cspan class=\"nd\"\u003einject\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003econtentPageStore\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e@\u003c/span\u003e\u003cspan class=\"nd\"\u003eobserver\u003c/span\u003e\n\u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nx\"\u003eContentPage\u003c/span\u003e \u003cspan class=\"kd\"\u003eextends\u003c/span\u003e \u003cspan class=\"nx\"\u003eReact\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eComponent\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eContentPageProps\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kr\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003ecomponentDidMount\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e():\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprops\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003econtentPageStore\u003c/span\u003e \u003cspan class=\"o\"\u003e===\u003c/span\u003e \u003cspan class=\"kc\"\u003eundefined\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eid\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003eparseInt\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprops\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ematch\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eparams\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprops\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003econtentPageStore\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efetchData\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n  \u003cspan class=\"nx\"\u003erender\u003c/span\u003e\u003cspan class=\"p\"\u003e():\u003c/span\u003e \u003cspan class=\"nx\"\u003eJSX\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eElement\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprops\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003econtentPageStore\u003c/span\u003e \u003cspan class=\"o\"\u003e===\u003c/span\u003e \u003cspan class=\"kc\"\u003eundefined\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u0026gt;;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003estore\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprops\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003econtentPageStore\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"App\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eCard\u003c/span\u003e \u003cspan class=\"na\"\u003estyle\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003ewidth\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e300\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003emargin\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eCardHeader\u003c/span\u003e \u003cspan class=\"na\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003estore\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etitle\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e \u003cspan class=\"na\"\u003esubheader\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003estore\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edate\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eCardContent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eTypography\u003c/span\u003e \u003cspan class=\"na\"\u003ecolor\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"textSecondary\"\u003c/span\u003e \u003cspan class=\"na\"\u003egutterBottom\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n              \u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003estore\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003econtent\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nc\"\u003eTypography\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nc\"\u003eCardContent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nc\"\u003eCard\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"nx\"\u003eContentPage\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"react\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esrc/ContentPageStore.ts　(新規作成)\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eaction\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003emakeAutoObservable\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eobservable\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003emobx\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"kr\"\u003einterface\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogContent\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003enumber\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003econtent\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nx\"\u003eContentPageStore\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econstructor\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003emakeAutoObservable\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e@\u003c/span\u003e\u003cspan class=\"nd\"\u003eobservable\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogContent\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003econtent\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\"\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n  \u003cspan class=\"p\"\u003e@\u003c/span\u003e\u003cspan class=\"nd\"\u003eaction\u003c/span\u003e\n  \u003cspan class=\"kr\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003efetchData\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003enumber\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e \u003cspan class=\"nb\"\u003ePromise\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003evoid\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ejson\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n      \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003efetch\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e`/api/contents/\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e`\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003ejson\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e \u003cspan class=\"k\"\u003eas\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogContent\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ejson\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eReact-Routerの本番はここからです。\u003cbr\u003e\n今まで\u003ccode\u003eindex.tsx\u003c/code\u003eで\u003ccode\u003e\u0026lt;App/\u0026gt;\u003c/code\u003eと直接Reactコンポーネントを指定していたところを、\u003cbr\u003e\n\u003ccode\u003e\u0026lt;BrowserRouter\u0026gt;\u003c/code\u003eで囲って、\u003ccode\u003e\u0026lt;Route/\u0026gt;\u003c/code\u003eを並べていきます。\u003cbr\u003e\n\u003ccode\u003e\u0026lt;Route\u0026gt;\u003c/code\u003eの\u003ccode\u003ecomponent=\u003c/code\u003eにReactコンポーネントを、\u003ccode\u003epath=\u003c/code\u003eにURLを指定します。\u003c/p\u003e\n\n\u003cp\u003eまた、ViewModelもStoresに追加します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"diff\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esrc/index.tsx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e  import fetchMock from \"fetch-mock\";\n\u003cspan class=\"gi\"\u003e+ import ContentPage from \"./ContentPage\";\n+ import { ContentPageStore } from \"./ContentPageStore\";\n+ import { BrowserRouter, Route } from \"react-router-dom\";\n\u003c/span\u003e\n\n  const stores = {\n\u003cspan class=\"gd\"\u003e-   appStore: new AppStore()\n\u003c/span\u003e\u003cspan class=\"gi\"\u003e+   appStore: new AppStore(),\n+   contentPageStore: new ContentPageStore()\n\u003c/span\u003e  };\n  ReactDOM.render(\n    \u0026lt;Provider {...stores}\u0026gt;\n\u003cspan class=\"gd\"\u003e-     \u0026lt;App /\u0026gt;\n\u003c/span\u003e\u003cspan class=\"gi\"\u003e+     \u0026lt;BrowserRouter basename={\"/\"}\u0026gt;\n+       \u0026lt;Route exact={true} path=\"/\" component={App} /\u0026gt;\n+       \u0026lt;Route exact={true} path=\"/contents/:id\" component={ContentPage} /\u0026gt;\n+     \u0026lt;/BrowserRouter\u0026gt;\n\u003c/span\u003e    \u0026lt;/Provider\u0026gt;,\n    document.getElementById(\"root\")\n  );\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eこれで、\u003ccode\u003e/\u003c/code\u003eの場合はAppのページが、\u003ccode\u003e/contents/(id)\u003c/code\u003eの場合は、ContentPageのページが表示されるようになります。\u003cbr\u003e\nURLのルートURLは、\u003ccode\u003e\u0026lt;BrowserRouter basename=\u003c/code\u003eに指定します。\u003c/p\u003e\n\n\u003cp\u003e昔ながらのCGIをやっていた方は、URLが違うなら別のhtmlが返ってくるのでは？という気がしますが、\u003cbr\u003e\nSPAの場合は、バックエンド側で同じindex.htmlを返すように設定するようです。\u003c/p\u003e\n\n\u003cp\u003e一応これで完成なのですが、相変わらずバックエンドがないので\u003cbr\u003e\nダミーデータを返すようにします。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"diff\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esrc/index.tsx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"gd\"\u003e-     abstract: \"アブストラクトです。\"\n\u003c/span\u003e\u003cspan class=\"gi\"\u003e+     abstract: \"アブストラクトです。\",\n+     content: \"これは本文です。\"\n\u003c/span\u003e    },\n    {\n      id: 2,\n      title: \"[サーバー]タイトルその2\",\n      date: \"2019-12-17\",\n\u003cspan class=\"gd\"\u003e-     abstract: \"アブストラクトその2です。\"\n\u003c/span\u003e\u003cspan class=\"gi\"\u003e+     abstract: \"アブストラクトその2です。\",\n+     content: \"これは本文です。\"\n\u003c/span\u003e    }\n  ];\n  fetchMock.get(\"/api/summaries/\", dummyData);\n\u003cspan class=\"gi\"\u003e+ fetchMock.get(\"/api/contents/1\", dummyData[0]);\n+ fetchMock.get(\"/api/contents/2\", dummyData[1]);\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e以上で、簡単ですがブログっぽいページができました。\u003cbr\u003e\nTOPページからリンクをたどると、詳細ページに飛びます。\u003cbr\u003e\nURLも変化していますので、F5を押しても元ページに戻ったりしません。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/67f256fb2a088c29631f4f0356859033fc22f2af/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f37323433616261382d396635372d316539642d363235302d6666666266386664653034632e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F7243aba8-9f57-1e9d-6250-fffbf8fde04c.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=eb11c3c31f23f8a70c3c864f9e968abd\" alt=\"React-blog-top-withLink.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/7243aba8-9f57-1e9d-6250-fffbf8fde04c.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2F7243aba8-9f57-1e9d-6250-fffbf8fde04c.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=5123777f0cb2f01b031ba97825c0cd8b 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/4aae1fdf7ea1a9975f67387555026f727c84734d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3231373736382f66643836393033632d373939622d376438362d326333342d3033393766326562303530662e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2Ffd86903c-799b-7d86-2c34-0397f2eb050f.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=cb7e2ff41f059dbc1e106cf7e11da12c\" alt=\"React-blog-content.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/217768/fd86903c-799b-7d86-2c34-0397f2eb050f.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F217768%2Ffd86903c-799b-7d86-2c34-0397f2eb050f.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=846455f4a573be0a606f6bf95f4042f5 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"ビルドしてデプロイ可能にする\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%93%E3%83%AB%E3%83%89%E3%81%97%E3%81%A6%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4%E5%8F%AF%E8%83%BD%E3%81%AB%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eビルドしてデプロイ可能にする\u003c/h2\u003e\n\n\u003cp\u003eある程度アプリができたら、ビルドしてデプロイできるようにします。\u003cbr\u003e\n次のコマンドを実行すると、buildフォルダに成果物が出来上がります。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"shell\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecommandline\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003enpm run build\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"その他細かいtips\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%9D%E3%81%AE%E4%BB%96%E7%B4%B0%E3%81%8B%E3%81%84tips\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eその他細かいTips\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"多言語対応は\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%A4%9A%E8%A8%80%E8%AA%9E%E5%AF%BE%E5%BF%9C%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e多言語対応は？\u003c/h2\u003e\n\n\u003cp\u003eJavascript用にいくつかライブラリがあるようです。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://www.i18next.com/\" rel=\"nofollow noopener\" target=\"_blank\"\u003ei18next\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/airbnb/polyglot.js\" rel=\"nofollow noopener\" target=\"_blank\"\u003epolyglot\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e基本的には、言語ごとにJsonを用意して、キーとなる文字列を指定すると、\u003cbr\u003e\n実行時には言語に応じたJsonから文字列が取れるようです。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"json\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eリソースの定義\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"buttons\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"new\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"新規投稿\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"edit\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"編集\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"react\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e多言語リソースを使う例\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e   \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eButton\u003c/span\u003e \u003cspan class=\"na\"\u003elabel\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003ei18next\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ebuttons.new\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eC#のResources.resxと比較すると、型がないので、インテリセンスが使えない分、ちょっと面倒です。\u003c/p\u003e\n\n\u003cp\u003e以前やったときに、Typescript＋Jsonスキーマを使うといい感じに改善できそうだったので、\u003cbr\u003e\nまた記事を書くかもしれません。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"サーバーサイドはどうする\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%82%B5%E3%82%A4%E3%83%89%E3%81%AF%E3%81%A9%E3%81%86%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eサーバーサイドはどうする？\u003c/h2\u003e\n\n\u003cp\u003eNode.jsもいいですが、C#erなら、過去のC#の資産を使えるASP.NET Coreを使いたいです。\u003c/p\u003e\n\n\u003cp\u003eVisual Studioで[プロジェクトの新規作成]-[ASP.NET Core Webアプリケーション]→[React.js]で\u003cbr\u003e\nテンプレートを作って、ClientApp以下を上と同じ手順で作ったReact開発環境で置き換えれば、\u003cbr\u003e\nいいようです。\u003c/p\u003e\n\n\u003cp\u003e普通にF5実行で、Reactのフロントエンド＋C#のバックエンドで起動しました。\u003cbr\u003e\nなお、初回はビルドが走るのか重いようです。\u003c/p\u003e\n\n\u003cp\u003e問題は、ASP.NET Coreを動かすサーバーを用意できるかどうか。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"reactとwindows-formで開発速度はどれくらい違う\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#react%E3%81%A8windows-form%E3%81%A7%E9%96%8B%E7%99%BA%E9%80%9F%E5%BA%A6%E3%81%AF%E3%81%A9%E3%82%8C%E3%81%8F%E3%82%89%E3%81%84%E9%81%95%E3%81%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eReactとWindows Formで開発速度はどれくらい違う？\u003c/h2\u003e\n\n\u003cp\u003ehtmlが不慣れとかいろいろ要素がありますが、\u003cbr\u003e\n私の場合、Windows Formで作るほうが3倍くらい速いです。\u003c/p\u003e\n\n\u003cp\u003eC# ←→ Typescriptの変換も面倒ですし、\u003cbr\u003e\n画面レイアウトの作りこみも大変です。\u003cbr\u003e\nというか、C#を振り返ると、Visual StudioのWindows Formのデザイナーはよくできているなぁと思います。\u003cbr\u003e\n(壊れやすいのが難点ですが)\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"まとめ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eまとめ\u003c/h1\u003e\n\n\u003cp\u003e割とがっつりReactの入門記事になってしまいましたが、\u003cbr\u003e\n普段C#を使っている方の視点で、解説したつもりです。\u003cbr\u003e\nReactを使ってSPAを始めるための一通りを説明したつもりなので、\u003cbr\u003e\nあとは応用を学んでいけば、そこそこのプロダクトが作れるのではないでしょうか。\u003c/p\u003e\n\n\u003cp\u003eなお、上で作ったコードは、一応GitHubに公開しておきます。\u003cbr\u003e\n(この記事の賞味期限が有効なあたりまでは残しておきます)\u003cbr\u003e\n\u003ca href=\"https://github.com/banban525/react-example-2019\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://github.com/banban525/react-example-2019\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e自分で打ち込むのが面倒な方はそちらを見てもらってもよいと思います。\u003cbr\u003e\n個人的には写経はおすすめですが。\u003c/p\u003e\n","createdAt":"2019-12-18T16:32:57Z","elapsedYearsFromLastModifiedAt":0,"encryptedId":"lbmawk/UbY8/LIYbu/7j16N/qRonGGUx3w==--JxvR8Hs9AIYrMuAf--zF/vY0ceFNDMnXf/C1x44w==","isBanned":false,"isDeprecated":false,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2020-12-31T13:46:49Z","likesCount":31,"linkUrl":"https://qiita.com/banban525/items/b66a439d588858ba3a11","organization":null,"originalId":1116376,"stockedCount":32,"title":"C#エンジニアに贈るReact入門 ","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003eはじめに\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%A6%81%E7%B4%84\"\u003e要約\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%83%B3%E5%AE%9A%E8%AA%AD%E8%80%85\"\u003e想定読者\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#react%E5%9F%BA%E7%A4%8E%E7%9F%A5%E8%AD%98\"\u003eReact基礎知識\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%9D%E3%82%82%E3%81%9D%E3%82%82react%E3%81%A3%E3%81%A6\"\u003eそもそもReactって？\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#react%E3%81%A3%E3%81%A6%E4%BD%95%E3%81%8C%E3%81%86%E3%82%8C%E3%81%97%E3%81%84%E3%81%AE\"\u003eReactって何がうれしいの？\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#react%E3%81%A7%E9%83%A8%E5%93%81%E3%81%AF%E3%81%A9%E3%81%86%E3%82%84%E3%81%A3%E3%81%A6%E4%BD%9C%E3%82%8B%E3%81%AE%E3%81%8B\"\u003eReactで部品はどうやって作るのか？\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#typescript\"\u003eTypescript\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#windows%E3%82%A2%E3%83%97%E3%83%AA%E3%81%A7%E3%82%82%E5%95%8F%E9%A1%8C%E3%81%AB%E3%81%AA%E3%82%8B%E3%81%91%E3%81%A9%E5%86%85%E9%83%A8%E7%8A%B6%E6%85%8B%E3%81%AF%E3%81%A9%E3%81%86%E7%AE%A1%E7%90%86%E3%81%97%E3%81%9F%E3%82%89%E3%81%84%E3%81%84%E3%81%AE\"\u003eWindowsアプリでも問題になるけど内部状態はどう管理したらいいの？\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#react%E3%82%92%E3%81%A8%E3%81%AB%E3%81%8B%E3%81%8F%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%BF%E3%81%9F%E3%81%84\"\u003eReactをとにかく使ってみたい\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E4%BA%8B%E5%89%8D%E3%81%AB%E5%BF%85%E8%A6%81%E3%81%AA%E3%82%82%E3%81%AE\"\u003e事前に必要なもの\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83\"\u003e開発環境\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%E3%82%92%E4%BD%9C%E3%82%8A%E3%81%93%E3%82%80\"\u003e開発環境を作りこむ\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#class-component%E3%81%AB%E3%81%99%E3%82%8B\"\u003eClass Componentにする\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#material-ui%E3%82%92%E5%B0%8E%E5%85%A5%E3%81%99%E3%82%8B\"\u003eMaterial-UIを導入する\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%8B%E3%82%89%E5%8F%96%E5%BE%97\"\u003eデータをサーバーから取得\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#mobx%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6viewmodel%E3%81%A8view%E3%82%92%E7%B5%90%E5%90%88%E3%81%99%E3%82%8B\"\u003eMobXを使ってViewModelとViewを結合する\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#viewmodel%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6web%E3%83%9A%E3%83%BC%E3%82%B8%E3%82%92%E6%9B%B4%E6%96%B0%E3%81%99%E3%82%8B\"\u003eViewModelを使ってWebページを更新する\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E9%83%A8%E5%93%81%E3%82%92%E4%BD%9C%E3%82%8B\"\u003e部品を作る\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%9A%E3%83%BC%E3%82%B8%E9%81%B7%E7%A7%BB%E3%82%92%E4%BD%9C%E3%82%8B\"\u003eページ遷移を作る\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%93%E3%83%AB%E3%83%89%E3%81%97%E3%81%A6%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4%E5%8F%AF%E8%83%BD%E3%81%AB%E3%81%99%E3%82%8B\"\u003eビルドしてデプロイ可能にする\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%9D%E3%81%AE%E4%BB%96%E7%B4%B0%E3%81%8B%E3%81%84tips\"\u003eその他細かいTips\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%A4%9A%E8%A8%80%E8%AA%9E%E5%AF%BE%E5%BF%9C%E3%81%AF\"\u003e多言語対応は？\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%82%B5%E3%82%A4%E3%83%89%E3%81%AF%E3%81%A9%E3%81%86%E3%81%99%E3%82%8B\"\u003eサーバーサイドはどうする？\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#react%E3%81%A8windows-form%E3%81%A7%E9%96%8B%E7%99%BA%E9%80%9F%E5%BA%A6%E3%81%AF%E3%81%A9%E3%82%8C%E3%81%8F%E3%82%89%E3%81%84%E9%81%95%E3%81%86\"\u003eReactとWindows Formで開発速度はどれくらい違う？\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"\u003eまとめ\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","totalPv":5003,"uuid":"b66a439d588858ba3a11","banReason":null,"adventCalendarItem":{"day":19,"calendar":{"name":"React #2","urlName":"react2","year":2019,"organization":null}},"author":{"encryptedId":"xB9OjiIvZSR97k8amCiVuXLBsSPV--1xl4qwgqUiyVjSIv--dAylIE4eM/zwOHpZ5zmqmQ==","originalId":217768,"description":"","facebookUrl":null,"githubUrl":"https://github.com/banban525","isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"","profileImageUrl":"https://avatars1.githubusercontent.com/u/9836533?v=4","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Favatars1.githubusercontent.com%2Fu%2F9836533%3Fv%3D4?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=cadd2855feda1e19dbb79053347adb04","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Favatars1.githubusercontent.com%2Fu%2F9836533%3Fv%3D4?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=5319d6818a8411b1f9e1fc5298a4b9da","urlName":"banban525","websiteUrl":"","twitterUrl":null,"twitterUrlName":null,"revealedOrganizations":{"edges":[]}},"tags":[{"name":"Windows","urlName":"windows"},{"name":"C#","urlName":"csharp"},{"name":"TypeScript","urlName":"typescript"},{"name":"React","urlName":"react"},{"name":"mobx","urlName":"mobx"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
