Javaでは、finalizeという名前の関数は「ファイナライザ」という特別な関数です。ファイナライザはクラスの後始末を行うために存在するが、いつ呼び出されるかわからない、また、呼び出されないこともあるらしく、「何かを積極的におこなう場所」ではありません。基本的に使用は推奨されてない、らしいです。C#では同じような目的で「デストラクタ」があります。C#でデストラクタはクラス名に「~」をつけて宣言しますが、内部的には「Finalize」という関数名に変換されます。そのため、「Finalize」という関数名を使用すると、以下のような警告やエラーが出ます。XamarinバインドプロジェクトでJARをバインドする際、JARの中にファイナライザが含まれていると、Javaの「finalize」がC#の「Finalize」という関数名となってエラーが出てしまう、という問題が発生します。本来あるべき姿としては、「Javaのfinalizeという関数名をC#のデストラクタに変換してほしい」のですが、そうはなりません。Metadata.xmlでどのように指定すればよいか？ネットで検索したところ、いい方法はないらしい。ファイナライザは使用すべきでないのだから、消してしまっても問題ない、という考えのようです。Javaのという関数名は、通常ならに変換されてエラーになるが、無理やりというデストラクタにしています。なかなかすごい手です。まずはビルドします。当然エラーになります。エラー一覧からエラー箇所のソースコードに飛び、手作業でデストラクタに書き換えた後、ビルドすれば無事ビルドできます。ただしリビルドやクリーンすると、元のエラーに戻るのが問題です。


