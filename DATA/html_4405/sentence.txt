More than 1 year has passed since last update.C#でDynamoDBにテーブルを作りました。今回はそこにデータを追加してみます。テーブルにデータの追加を行うにはAmazonDynamoDBClientクラスのPutItemAsyncメソッドを使用します。
PutItemAsyncメソッドにPutItemRequestクラスのインスタンスを渡すと、そのインスタンスに入れたデータを指定したテーブルに入れることができます。ですので流れは以下のとおりになります。ソースコードはこんな感じです。まず、リクエストの構築です。
ここでカラムに入れる値を指定してます。
その中で「N="2"」などとしていますが、これは数値としての「2」を入れるという意味です。
「N」はデータの種類を表しているということですね。
「N」の他にも「S：文字列（String）」や「SS：文字列のリスト」、「NS：数値のリスト」などが指定できます。テーブルを作成するときにAttributeTypeとして「N」を指定しましたが、それと同じ指定をしてください。
ちなみにその記事を書いたときは意味がわかっていませんでした。ということで、以上を踏まえてテーブルにデータを追加してみます。
データを追加する処理をPutItemというメソッドとして切り出してあります。
今回は、このメソッドの中で追加するデータを直接指定していますが、実用性を考えるのであれば追加するデータを引数として受け取るようにすると良いでしょう。前回と同じようにデプロイしてテストしてみましょう。
AWSコンソールで確認してみると、以下のようにデータが追加されていることが確認できます。テーブルへのデータの追加の流れと基本的な方法について、少し理解が進みました。
しかしこれは単純なデータの追加だけですので、Alexaスキルでデータの保持に使用するにはまだ足りないことばかりです。
が、次はこれをもとに公式チュートリアル第4回をC#でやってみようと思います。
その試行錯誤によって更に理解が進むものと思います。


