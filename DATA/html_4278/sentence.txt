More than 1 year has passed since last update.MVVM LightにはXamarin.Androidのテンプレートはあるけど、データバインディングが手書きの上コードビハインドだらけなので、Formsを利用したい。でも公式ページ通りに導入しても必要なLocatorクラスなどを自動生成してくれない。よって今回は手動で導入する手順をまとめました。まずはソリューションを右クリック、「ソリューションのNuGetパッケージを管理」を選択します。
「mvvmlight」で検索、全プロジェクトにチェックを入れてインストールします。
ここではAndroidしかないがiOS, UWP等ある場合も同様です。
規約承認などをして出力ウィンドウに===Finished===と出たら完了です。まずはMainViewModelから。ここではMVVM関係のファイルはMvvm名前空間に入れてあります。
時刻を表示するためのサンプルです。次にViewModelLocator。通常はコンストラクターでModelのなにやらを記述しますが、今回は省略。(今度書き足します)xaml上でViewModelLocatorを参照できるようにするために、App.xamlにViewModelLocatorを配置します。最後にDispatcherHelperの初期化をApp.xaml.csのコンストラクタで行います。これにて導入完了です。これでようやくxamlから簡単にデータバインディングできるようになりました。
DataContextではなくBindingContextにLocatorをバインドします。そのためWPFと違いIntelliSenseでプロパティ名などを補完してくれません...


