More than 3 years have passed since last update.PaizaやCodeIQ，その他オンラインジャッジでC#を実行するときに，入出力の確認を楽に，かつちゃんとしたい．
毎回コンソールに貼り付けるのはもう面倒くさくて嫌だ．
かといって入力を埋め込むのはうっかりそのまま提出して死亡とかしそう．あと他にも，コンソール入出力でテストしたいときって結構あるんじゃないかな．本当はモジュール化された単位で単体テストすべきだろうけど，そうともいかない要件も往々にしてあるだろう．そこで，コンソール入出力を使って単体テストを構成する．Visual Studio 2015 Community
まあ特に変なことやってないんで他でもできると思うが，確認したのはこれ．こんな感じのプロジェクトになってることを想定する．*.txtは全て「出力ディレクトリにコピー」を「常に」か「新しい場合はコピーする」にする．ProgramクラスのMainメソッドが提出コード，ProgramTestsからProgram.Mainを呼び出してテストする．ProgramTests はこんな感じ．
ConsoleのInとOutをファイルからのStreamReaderとStringWriterにセットして，吐き出されたコンソール出力と想定する出力を比較する．例えば，Paizaのサンプル入出力なら，Program.csはそのまま提出用のコードを書いて，というふうにする．
Console.ReadLine() Console.WriteLine()を使う都合上，末尾に必ずひとつだけ改行を入れる．しかしこのサンプルコード， using System; してるのに Console クラスを完全修飾で書いてたり Int32 だったりどうにかならなかったのだろうか．
大きなお世話だろうが using static System.Console; すれば(動作要件にはC#5と書いてあるけどmono 4.2.1なので動く)横スクロールも削減できるだろうに．あとはこのテストを必要な分実行するなり，CIするなりすれば手軽にコード書きながらテストできる(はず)．
別の問題に移るときも，入出力のテキストとMainだけ書き換えればいいので楽．以上です．それでは，快適なC#ライフを．


