More than 1 year has passed since last update.doubleとバインドしているTextBoxに小数点が入力できない！このように記述した場合、バインドしているNumberがint型だと問題ありません。しかし、double型だった場合、数字列の末尾に小数点が入力できないんです。解決方法わかりません！どなたか、ご教授を！というところで終わっていました。さっそく、albireoさんにコメントでご教授いただきました！ありがとうございます！StackOverflowに「書き戻すときに元の文字列を返すようなコンバータを実装すればいい」ってのがありました。と紹介していただいたのが、「Binding to double field with validation」です。デフォルトの動作で満足できないなら、自分で処理を書きなさい、ってことですね。（そりゃそうだ）リンク先に書いてある通りのクラスを作り、コンバーターを付けてみました。末尾の小数点が入力できます！
前回は書いていませんでしたが、できなかった小数点以下の末尾のゼロの入力もできます！おお！素晴らしい！…ん？カンマはいずこへ？前回は本題と関係ないと思っていましたので、紹介しているコードに書かなかったのですが、Bindingマークアップ拡張にStringFormatを付けています。整数部に3桁ごとのカンマを入れて表示したいんです！コンバーターが文字列を戻しますので、StringFormatに指定した数値用の書式指定が使われず、したがってカンマが表示されません！コンバーターをちょっと改造し、下記のようにしてみました。結果は、まぁまぁいいかなって感じですね。末尾の小数点やゼロが入力できるようになりましたが、まだおかしな動作が残っています。1は、改造前のコンバーターでも起きます。コンバーターを付ける前には起きませんでした。2と3は、改造前のコンバーターなら起きません。というわけで、スッキリ解決！にはなっていません。引き続き、解決法のご教授をお待ちしております！完結編‼へつづく。


