<!DOCTYPE html><html><head><meta charset="utf-8" /><title>【.NET/C#】メソッドのパフォーマンスを簡単に集計するライブラリの紹介 - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/SY81517/items/79f6c5905e758279831a" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="4ukpI6R+T9DC0k3zovh1KQ0v6XFkBzcxjTdjA50QViFAHp9Tmrm06juymS74EFy6BIEwEQA9mUB6/jdoeWL6FA==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta content="@S_yamamto_1125" name="twitter:creator" /><meta property="og:type" content="article"><meta property="og:title" content="【.NET/C#】メソッドのパフォーマンスを簡単に集計するライブラリの紹介 - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND00NENRTGs1RlZDOURJLU9Ba2VPRG9lT0N2ZU9EZy1PRGllT0JydU9Ea2VPRGxlT0NxZU9Edk9PRG51T0RzLU9DdWVPQ2t1ZXdvZVdObU9PQnEtbWJodWlvaU9PQm1lT0NpLU9EcWVPQ3BPT0RsdU9EcWVPRHF1T0JydWUwdWVTN2l3JnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NTQmdHh0LWNsaXA9ZWxsaXBzaXMmdHh0LWFsaWduPWNlbnRlciUyQ21pZGRsZSZzPWQ3Y2RkNjM2NDAwMDUzNGI5OTIzNDUzZDY2MjdiNjM2&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRk5aT0RFMU1UYyZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPTM5ODJmOTIxYWYzZWZjMWMyNDVkZDI1YjJhN2RmYzQz&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=503559e4e9163699e8c6220658bdac5a"><meta property="og:description" content="

概要

BenchmarkDotNetの紹介と使い方を掲載する。

BenchmarkDotNetはメソッドのパフォーマンスを簡単に計測できるライブラリです。
統計的な情報をレポートしてくれるため、関数のパフォーマンスを調査する業..."><meta content="https://qiita.com/SY81517/items/79f6c5905e758279831a" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="F#,C#,.NET,VB,benchmark" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-c7cfdf15-dfcb-436c-adae-760d60f0530c"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2FSY81517%2Fitems%2F79f6c5905e758279831a">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2FSY81517%2Fitems%2F79f6c5905e758279831a">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-c7cfdf15-dfcb-436c-adae-760d60f0530c">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/fsharp","name":"F#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2021-04-17T14:20:38.000+09:00","dateModified":"2021-06-19T19:23:47.000+09:00","headline":"【.NET/C#】メソッドのパフォーマンスを簡単に集計するライブラリの紹介","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND00NENRTGs1RlZDOURJLU9Ba2VPRG9lT0N2ZU9EZy1PRGllT0JydU9Ea2VPRGxlT0NxZU9Edk9PRG51T0RzLU9DdWVPQ2t1ZXdvZVdObU9PQnEtbWJodWlvaU9PQm1lT0NpLU9EcWVPQ3BPT0RsdU9EcWVPRHF1T0JydWUwdWVTN2l3JnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NTQmdHh0LWNsaXA9ZWxsaXBzaXMmdHh0LWFsaWduPWNlbnRlciUyQ21pZGRsZSZzPWQ3Y2RkNjM2NDAwMDUzNGI5OTIzNDUzZDY2MjdiNjM2\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRk5aT0RFMU1UYyZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPTM5ODJmOTIxYWYzZWZjMWMyNDVkZDI1YjJhN2RmYzQz\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=503559e4e9163699e8c6220658bdac5a","mainEntityOfPage":"https://qiita.com/SY81517/items/79f6c5905e758279831a","author":{"@type":"Person","address":"Kanagawa,Japan","email":null,"identifier":"SY81517","name":"SY81517","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fs3-ap-northeast-1.amazonaws.com%2Fqiita-image-store%2F0%2F156594%2Fb1566e5f115bcf561e5be7c71fbbddcb8a15fbe3%2Flarge.png%3F1617639802?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=dfefdee4816b616586c3eab8837c1c27","url":"https://qiita.com/SY81517","description":"メーカの技術者です。C#が好きで、技術交流を増やしたいと思い投稿をはじめました。Microsoft公式サイト、書籍、国内外の講演、Microsoft MVPのブログから情報収集してます。設計、コード可読性、C#のイディオム、テストに関心があります。技術力を高めて、発信できる人に早くなりたい。言語学習歴:C#2年目のぺーぺー/C 5年。\r\n私の発信は所属団体とは関係がありません。","memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://zine.qiita.com/interview/202104-ga-technologies/?utm_source=qiita&amp;utm_medium=header-banner">「不動産取引をワンクリックで完結する」世界観へ。GA technologiesの取り組み</a><a target="_blank" id="header_text_message_2" href="https://zine.qiita.com/interview/202104-ga-technologies/?utm_source=qiita&amp;utm_medium=header-banner">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"SY81517","type":"items","id":"79f6c5905e758279831a"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"「不動産取引をワンクリックで完結する」世界観へ。GA technologiesの取り組み","url":"https://zine.qiita.com/interview/202104-ga-technologies/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"SY81517","type":"items","id":"79f6c5905e758279831a"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":0,"pos_id":"header_text_message_1","message":"「不動産取引をワンクリックで完結する」世界観へ。GA technologiesの取り組み","url":"https://zine.qiita.com/interview/202104-ga-technologies/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"SY81517","type":"items","id":"79f6c5905e758279831a"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":0,"pos_id":"header_text_message_2","message":"「不動産取引をワンクリックで完結する」世界観へ。GA technologiesの取り組み","url":"https://zine.qiita.com/interview/202104-ga-technologies/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/SY81517/items/79f6c5905e758279831a","location":"/SY81517/items/79f6c5905e758279831a","scheme":"https","host":"qiita.com","port":null,"pathname":"/SY81517/items/79f6c5905e758279831a","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"DG++3dzlS7SmB89q9wjZpSA25NqScWuhquKshLf4MhKumAit4iKwjl9nG7et4PA2KZg9uvZLxdBdK/jvU4qeJw==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-b183b7b9-8861-4849-aa5e-c08756186fed"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/SY81517/items/79f6c5905e758279831a/likers" class="css-1iupg5d">24</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">31</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/79f6c5905e758279831a/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/SY81517/items/79f6c5905e758279831a/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/SY81517/items/79f6c5905e758279831a/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/SY81517/items/79f6c5905e758279831a/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/SY81517/items/79f6c5905e758279831a.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/SY81517"><img class="css-100alwu eyfquo10" src="https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/156594/b1566e5f115bcf561e5be7c71fbbddcb8a15fbe3/large.png?1617639802" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/SY81517" class="css-10ougpm">@<!-- -->SY81517</a><div class="css-1ay9vb9"><span><meta content="2021-04-17T05:20:38Z"/><time dateTime="2021-06-19T10:23:47Z" class="css-m19uds">updated at 2021-06-19</time></span></div></div></div></div></div><h1 class="css-cgzq40">【.NET/C#】メソッドのパフォーマンスを簡単に集計するライブラリの紹介</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/fsharp" class="css-4czcte">F#</a><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/.net" class="css-4czcte">.NET</a><a href="/tags/vb" class="css-4czcte">VB</a><a href="/tags/benchmark" class="css-4czcte">benchmark</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div>
<h1>
<span id="概要" class="fragment"></span><a href="#%E6%A6%82%E8%A6%81"><i class="fa fa-link"></i></a>概要</h1>

<p>BenchmarkDotNetの紹介と使い方を掲載する。</p>

<p>BenchmarkDotNetはメソッドのパフォーマンスを簡単に計測できるライブラリです。<br>
統計的な情報をレポートしてくれるため、関数のパフォーマンスを調査する業務で役立ちそう。</p>

<h1>
<span id="目次" class="fragment"></span><a href="#%E7%9B%AE%E6%AC%A1"><i class="fa fa-link"></i></a>目次</h1>

<ul>
<li><a href="#BenchmarkDotNet%E3%81%A8%E3%81%AF%EF%BC%9F">BenchmarkDotNetとは？</a></li>
<li><a href="#%E8%A8%AD%E5%AE%9A%E6%89%8B%E9%A0%86">設定手順</a></li>
<li><a href="#%E5%8F%82%E8%80%83%E3%81%AB%E3%81%97%E3%81%9F%E3%82%B5%E3%82%A4%E3%83%88">参考にしたサイト</a></li>
</ul>

<h1>
<span id="benchmarkdotnetとは" class="fragment"></span><a href="#benchmarkdotnet%E3%81%A8%E3%81%AF"><i class="fa fa-link"></i></a>BenchmarkDotNetとは？</h1>

<blockquote>
<p>BenchmarkDotNetは、メソッドをベンチマークに変換し、そのパフォーマンスを追跡し、<br>
再現性のある測定実験を共有するのに役立ちます。</p>

<p>上記は<a href="https://github.com/dotnet/BenchmarkDotNet" rel="nofollow noopener" target="_blank">GitHub</a>の記載内容の機械翻訳</p>
</blockquote>

<p>サポート対象は下記。.NET系なら大体使えそう。<br>
本記事ではC#で実装する。</p>

<blockquote>
<p>Projects: classic and modern with PackageReferences<br>
Runtimes: Full .NET Framework (4.6+), .NET Core (2.0+), Mono, CoreRT<br>
OS: Windows, Linux, MacOS<br>
Languages: C#, F#, VB</p>
</blockquote>

<p><a href="https://benchmarkdotnet.org/articles/configs/exporters.html" rel="nofollow noopener" target="_blank">エクスポート機能</a>も充実している。</p>

<h1>
<span id="設定手順" class="fragment"></span><a href="#%E8%A8%AD%E5%AE%9A%E6%89%8B%E9%A0%86"><i class="fa fa-link"></i></a>設定手順</h1>

<p>下記ドキュメントのOverViewに従って、パフォーマンス計測を行う。<br>
<a href="https://benchmarkdotnet.org/articles/overview.html" rel="nofollow noopener" target="_blank">BenchmarkDotNetの公式ドキュメント</a></p>

<h2>
<span id="1nugetパッケージをインストール" class="fragment"></span><a href="#1nuget%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB"><i class="fa fa-link"></i></a>1.NuGetパッケージをインストール</h2>

<p>Visual Studioを立ち上げ、「コンソールアプリケーション」を選択する。<br>
下記のNuGetパッケージを追加する。<br>
<a href="https://www.nuget.org/packages/BenchmarkDotNet/" rel="nofollow noopener" target="_blank">NuGetリンク</a><br>
<a href="https://camo.qiitausercontent.com/3f9b4e3c94318886e101c05a8b66cf317ecdcd25/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3135363539342f66333537336236652d393237382d316233632d303262622d6434343336333137316531612e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F156594%2Ff3573b6e-9278-1b3c-02bb-d44363171e1a.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=ddd51603083adbba0faa8b61e13482e0" alt="Nuget-Benchmark.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/156594/f3573b6e-9278-1b3c-02bb-d44363171e1a.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F156594%2Ff3573b6e-9278-1b3c-02bb-d44363171e1a.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=47c4fe5f95c510344cebd59ec8f834ab 1x" loading="lazy"></a></p>

<h2>
<span id="2計測対象のメソッドを含むクラスを作成する" class="fragment"></span><a href="#2%E8%A8%88%E6%B8%AC%E5%AF%BE%E8%B1%A1%E3%81%AE%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%82%92%E5%90%AB%E3%82%80%E3%82%AF%E3%83%A9%E3%82%B9%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>2.計測対象のメソッドを含むクラスを作成する</h2>

<h3>
<span id="扱う題材計測対象" class="fragment"></span><a href="#%E6%89%B1%E3%81%86%E9%A1%8C%E6%9D%90%E8%A8%88%E6%B8%AC%E5%AF%BE%E8%B1%A1"><i class="fa fa-link"></i></a>扱う題材(計測対象)</h3>

<p>stringとStringBuilderの文字列結合の処理時間を比較する。<br>
期待結果は「StringBuilderの方がパフォーマンスが優れる」こと。<br>
※下記サイトで既に検証済み<br>
<a href="https://dobon.net/vb/dotnet/string/stringbuilder.html" rel="nofollow noopener" target="_blank">文字列処理を高速に行う</a></p>

<p><details><summary>StringBuilderがパフォーマンスが優れる理由</summary><br>
下記の違いにより、扱う文字の数が増えるとStringBuilderの方がパフォーマンスに優れることが多い。<br>
・string型は編集不可なため、文字列操作の度に新たなインスタンスを作る。<br>
・StringBuilderは編集可能であるため、文字列操作で新たなインスタンスを作らない。<br>
<a href="https://www.atmarkit.co.jp/fdotnet/vblab/vbroom_02/vbroom_02_02.html" rel="nofollow noopener" target="_blank">stringとStringBuilderの違い</a><br>
</details></p>

<h3>
<span id="計測対象のクラスを定義する" class="fragment"></span><a href="#%E8%A8%88%E6%B8%AC%E5%AF%BE%E8%B1%A1%E3%81%AE%E3%82%AF%E3%83%A9%E3%82%B9%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>計測対象のクラスを定義する</h3>

<p>計測対象のメソッド含むクラスを定義する。<br>
対象メソッドには[Benchmark]属性を指定する。</p>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre><code><span class="k">using</span> <span class="nn">BenchmarkDotNet.Attributes</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">StringConcatMesurement</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="kt">int</span> <span class="n">NumberOfItems</span> <span class="p">=</span> <span class="m">200000</span><span class="p">;</span>
    <span class="p">[</span><span class="n">Benchmark</span><span class="p">]</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="nf">WithStringBuilder</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kt">var</span> <span class="n">sb</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StringBuilder</span><span class="p">();</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">NumberOfItems</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
        <span class="p">{</span>
            <span class="n">sb</span><span class="p">.</span><span class="nf">Append</span><span class="p">(</span><span class="s">"1"</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">sb</span><span class="p">.</span><span class="nf">ToString</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="p">[</span><span class="n">Benchmark</span><span class="p">]</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="nf">WithStringType</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kt">string</span> <span class="n">s</span> <span class="p">=</span> <span class="kt">string</span><span class="p">.</span><span class="n">Empty</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">NumberOfItems</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
        <span class="p">{</span>
            <span class="n">s</span> <span class="p">+=</span> <span class="s">"1"</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">s</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3>
<span id="メイン関数からコールする" class="fragment"></span><a href="#%E3%83%A1%E3%82%A4%E3%83%B3%E9%96%A2%E6%95%B0%E3%81%8B%E3%82%89%E3%82%B3%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>メイン関数からコールする</h3>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre><code><span class="k">using</span> <span class="nn">BenchmarkDotNet.Running</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Program</span>
<span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">var</span> <span class="n">summary</span> <span class="p">=</span> <span class="n">BenchmarkRunner</span><span class="p">.</span><span class="n">Run</span><span class="p">&lt;</span><span class="n">StringConcatMesurement</span><span class="p">&gt;();</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>これで準備完了！！実行する前に一点だけ注意事項。<br>
<b>[リリースビルド]で実行すること。<br>
[デバックビルド]の場合は、下記のように実行時エラーになる。</b><br>
<a href="https://camo.qiitausercontent.com/340359455a203e1e6c755e9b2a687aa9c7ffad53/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3135363539342f61616638343963642d656162622d373630652d323465652d3066383431333461363430632e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F156594%2Faaf849cd-eabb-760e-24ee-0f84134a640c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=ba4900fb5cf47df3351451cf2c1e6034" alt="BenchmarkDotNet-デバックモードはエラー.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/156594/aaf849cd-eabb-760e-24ee-0f84134a640c.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F156594%2Faaf849cd-eabb-760e-24ee-0f84134a640c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=f22331b47ba795359dc4b50c6675e7a2 1x" loading="lazy"></a></p>

<p>ちなみに、このままの状態で実行すると私の環境で10分以上掛かった。<br>
ベンチマーク計測に正確さが必要ない場合、[ShortRunJob]属性をつけて下さい(後述の項 <a href="#%E8%A8%88%E6%B8%AC%E6%99%82%E9%96%93%E3%81%AE%E7%9F%AD%E7%B8%AE%E3%82%92%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95">計測時間の短縮をする方法</a>を参照)。</p>

<h3>
<span id="計測開始時" class="fragment"></span><a href="#%E8%A8%88%E6%B8%AC%E9%96%8B%E5%A7%8B%E6%99%82"><i class="fa fa-link"></i></a>計測開始時</h3>

<p><a href="https://camo.qiitausercontent.com/6a5223e1a16bf0b832340c1b094a602c20c31efd/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3135363539342f39333230653432642d306531392d396461312d326536372d3865626565306132346532322e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F156594%2F9320e42d-0e19-9da1-2e67-8ebee0a24e22.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=2f91ad575a527bbb3e685639ddc67bb0" alt="BenchmarkDotNet開始時画面.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/156594/9320e42d-0e19-9da1-2e67-8ebee0a24e22.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F156594%2F9320e42d-0e19-9da1-2e67-8ebee0a24e22.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=112371ebecb6a22220b95b7b73f0e788 1x" loading="lazy"></a></p>

<h3>
<span id="計測終了時" class="fragment"></span><a href="#%E8%A8%88%E6%B8%AC%E7%B5%82%E4%BA%86%E6%99%82"><i class="fa fa-link"></i></a>計測終了時</h3>

<p><a href="https://camo.qiitausercontent.com/096426a4f56f033348ec62e846619af30180334f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3135363539342f39313239373062302d366465642d343034622d383065302d3065656166306139633862362e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F156594%2F912970b0-6ded-404b-80e0-0eeaf0a9c8b6.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=2e39a0cc62eecd033d919752c4820bd1" alt="BenchmarkDotNet終了時の画面.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/156594/912970b0-6ded-404b-80e0-0eeaf0a9c8b6.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F156594%2F912970b0-6ded-404b-80e0-0eeaf0a9c8b6.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=ca6244a9fe6a2da3741338c808575240 1x" loading="lazy"></a></p>

<h3>
<span id="計測結果を確認する" class="fragment"></span><a href="#%E8%A8%88%E6%B8%AC%E7%B5%90%E6%9E%9C%E3%82%92%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>計測結果を確認する</h3>

<p>下記の結果がコンソールに表示される。<br>
・実行環境<br>
・統計情報の表(関数名、平均値、エラー、標準偏差）<br>
・統計情報のラベルの説明</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><code>// * Summary *

BenchmarkDotNet=v0.12.1, OS=Windows 10.0.19041.867 (2004/?/20H1)
Intel Core i7-7700HQ CPU 2.80GHz (Kaby Lake), 1 CPU, 8 logical and 4 physical cores
.NET Core SDK=3.1.402
  [Host]     : .NET Core 3.1.8 (CoreCLR 4.700.20.41105, CoreFX 4.700.20.41903), X64 RyuJIT
  DefaultJob : .NET Core 3.1.8 (CoreCLR 4.700.20.41105, CoreFX 4.700.20.41903), X64 RyuJIT


|            Method |           Mean |         Error |        StdDev |
|------------------ |---------------:|--------------:|--------------:|
| WithStringBuilder |       895.1 us |      15.62 us |      21.90 us |
|    WithStringType | 7,806,015.2 us | 155,282.10 us | 347,310.67 us |

// * Hints *
Outliers
  StringConcatMesurement.WithStringBuilder: Default -&gt; 4 outliers were removed (978.11 us..1.02 ms)
  StringConcatMesurement.WithStringType: Default    -&gt; 4 outliers were removed (9.74 s..10.10 s)

// * Legends *
  Mean   : Arithmetic mean of all measurements
  Error  : Half of 99.9% confidence interval
  StdDev : Standard deviation of all measurements
  1 us   : 1 Microsecond (0.000001 sec)
</code></pre></div></div>

<p>予想通りStringBuilderの方がパフォーマンスが優れる。<br>
平均値で比較すると、約8721倍StringBuilderが速い。<br>
標準偏差を見ても、stringに比べると計測結果のバラツキが小さいことが分かる。</p>

<p><b>余談</b><br>
コンソール出力内容はログに記録されている。<br>
ソリューションのRelease直下にBenchmarkDotNet.Artifactsフォルダ内部に下記のログファイルが存在する。<br>
「ソリューション名.計測対象クラス名-(日時:YYYYYMMDDD-HHMMS).log」</p>

<h3>
<span id="計測結果サマリをカスタマイズする" class="fragment"></span><a href="#%E8%A8%88%E6%B8%AC%E7%B5%90%E6%9E%9C%E3%82%B5%E3%83%9E%E3%83%AA%E3%82%92%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>計測結果サマリをカスタマイズする</h3>

<p>サマリーは下記の詳細結果のうち、属性でどれを出すかを指定する。<br>
デフォルトだと、平均値、エラー、標準偏差を表示する。<br>
試しに最小値、最大値を追加する。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><code>// * Detailed results *
StringConcatMesurement.WithStringBuilder: DefaultJob
Runtime = .NET Core 3.1.8 (CoreCLR 4.700.20.41105, CoreFX 4.700.20.41903), X64 RyuJIT; GC = Concurrent Workstation
Mean = 830.978 us, StdErr = 3.726 us (0.45%), N = 15, StdDev = 14.432 us
Min = 809.898 us, Q1 = 821.067 us, Median = 826.252 us, Q3 = 844.369 us, Max = 855.115 us
IQR = 23.303 us, LowerFence = 786.113 us, UpperFence = 879.323 us
ConfidenceInterval = [815.549 us; 846.406 us] (CI 99.9%), Margin = 15.428 us (1.86% of Mean)
Skewness = 0.28, Kurtosis = 1.64, MValue = 2
-------------------- Histogram --------------------
[802.218 us ; 834.536 us) | @@@@@@@@@@
[834.536 us ; 857.584 us) | @@@@@
---------------------------------------------------

StringConcatMesurement.WithStringType: DefaultJob
Runtime = .NET Core 3.1.8 (CoreCLR 4.700.20.41105, CoreFX 4.700.20.41903), X64 RyuJIT; GC = Concurrent Workstation
Mean = 7.206 s, StdErr = 0.051 s (0.70%), N = 95, StdDev = 0.493 s
Min = 6.459 s, Q1 = 6.804 s, Median = 7.101 s, Q3 = 7.443 s, Max = 8.521 s
IQR = 0.639 s, LowerFence = 5.846 s, UpperFence = 8.402 s
ConfidenceInterval = [7.034 s; 7.378 s] (CI 99.9%), Margin = 0.172 s (2.38% of Mean)
Skewness = 0.84, Kurtosis = 3.15, MValue = 2.93
-------------------- Histogram --------------------
[6.317 s ; 6.608 s) | @@@@
[6.608 s ; 6.891 s) | @@@@@@@@@@@@@@@@@@@@@@@@
[6.891 s ; 7.243 s) | @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
[7.243 s ; 7.605 s) | @@@@@@@@@@@@@@@@@@@
[7.605 s ; 7.892 s) | @@@@@@@
[7.892 s ; 8.269 s) | @@@@@@@
[8.269 s ; 8.663 s) | @@@
---------------------------------------------------
</code></pre></div></div>

<h4>
<span id="サマリーのカスタマイズ実装" class="fragment"></span><a href="#%E3%82%B5%E3%83%9E%E3%83%AA%E3%83%BC%E3%81%AE%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA%E5%AE%9F%E8%A3%85"><i class="fa fa-link"></i></a>サマリーのカスタマイズ実装</h4>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre><code>
<span class="p">[</span><span class="n">MinColumn</span><span class="p">,</span><span class="n">MaxColumn</span><span class="p">]</span><span class="c1">//←新規追加</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">StringConcatMesurement</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="kt">int</span> <span class="n">NumberOfItems</span> <span class="p">=</span> <span class="m">200000</span><span class="p">;</span>
    <span class="p">[</span><span class="n">Benchmark</span><span class="p">]</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="nf">WithStringBuilder</span><span class="p">()</span>
    <span class="p">{</span>
    <span class="c1">//略</span>
    <span class="p">}</span>
    <span class="p">[</span><span class="n">Benchmark</span><span class="p">]</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="nf">WithStringType</span><span class="p">()</span>
    <span class="p">{</span>
     <span class="c1">//略</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h4>
<span id="カスタマイズ後のサマリー" class="fragment"></span><a href="#%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA%E5%BE%8C%E3%81%AE%E3%82%B5%E3%83%9E%E3%83%AA%E3%83%BC"><i class="fa fa-link"></i></a>カスタマイズ後のサマリー</h4>

<p>最小値、最大値の項目が増えた。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><code>|            Method |           Mean |         Error |        StdDev |            Min |            Max |
|------------------ |---------------:|--------------:|--------------:|---------------:|---------------:|
| WithStringBuilder |       831.0 us |      15.43 us |      14.43 us |       809.9 us |       855.1 us |
|    WithStringType | 7,205,897.0 us | 171,677.49 us | 492,574.91 us | 6,458,541.9 us | 8,520,846.9 us |
</code></pre></div></div>

<h1>
<span id="計測時間の短縮をする方法" class="fragment"></span><a href="#%E8%A8%88%E6%B8%AC%E6%99%82%E9%96%93%E3%81%AE%E7%9F%AD%E7%B8%AE%E3%82%92%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95"><i class="fa fa-link"></i></a>計測時間の短縮をする方法</h1>

<p>関数のパフォーマンスを改善する場面などでは、正確性よりも試行回数が重視されると思う。<br>
何も制限なしで使うと、文字列の結合の評価だけで約10分かかった。<br>
とても待ってられない。<br>
下記[ShortRunJob]属性指定することで、関数の試行回数(N=3)で固定されて計測時間を短縮できる。</p>

<h2>
<span id="shortrunjob属性指定" class="fragment"></span><a href="#shortrunjob%E5%B1%9E%E6%80%A7%E6%8C%87%E5%AE%9A"><i class="fa fa-link"></i></a>[ShortRunJob]属性指定</h2>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre><code><span class="p">[</span><span class="n">ShortRunJob</span><span class="p">]</span><span class="c1">//←これ</span>
<span class="p">[</span><span class="n">MinColumn</span><span class="p">,</span> <span class="n">MaxColumn</span><span class="p">]</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">StringConcatMesurement</span>
<span class="p">{</span>
<span class="c1">//(略)</span>
<span class="p">}</span>
</code></pre></div></div>

<h2>
<span id="shortrunjob属性指定前の計測時間" class="fragment"></span><a href="#shortrunjob%E5%B1%9E%E6%80%A7%E6%8C%87%E5%AE%9A%E5%89%8D%E3%81%AE%E8%A8%88%E6%B8%AC%E6%99%82%E9%96%93"><i class="fa fa-link"></i></a>[ShortRunJob]属性指定前の計測時間</h2>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><code>Global total time: 00:10:46 (646.11 sec), executed benchmarks: 2
</code></pre></div></div>

<h2>
<span id="shortrunjob属性指定後の計測時間" class="fragment"></span><a href="#shortrunjob%E5%B1%9E%E6%80%A7%E6%8C%87%E5%AE%9A%E5%BE%8C%E3%81%AE%E8%A8%88%E6%B8%AC%E6%99%82%E9%96%93"><i class="fa fa-link"></i></a>[ShortRunJob]属性指定後の計測時間</h2>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><code>Global total time: 00:00:57 (57.23 sec), executed benchmarks: 2
</code></pre></div></div>

<h1>
<span id="メモリ使用量を計測する方法" class="fragment"></span><a href="#%E3%83%A1%E3%83%A2%E3%83%AA%E4%BD%BF%E7%94%A8%E9%87%8F%E3%82%92%E8%A8%88%E6%B8%AC%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95"><i class="fa fa-link"></i></a>メモリ使用量を計測する方法</h1>

<p>下記[MemoryDiagnoser]属性指定することで、メモリ使用量を計測できる。</p>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre><code><span class="p">[</span><span class="n">MemoryDiagnoser</span><span class="p">]</span><span class="c1">//←これ</span>
<span class="p">[</span><span class="n">ShortRunJob</span><span class="p">]</span>
<span class="p">[</span><span class="n">MinColumn</span><span class="p">,</span> <span class="n">MaxColumn</span><span class="p">]</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">StringConcatMesurement</span>
<span class="p">{</span>
<span class="c1">//(略)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>下記表のAllocatedがメモリ使用量。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><code>|            Method |           Mean |           Error |          StdDev |            Min |            Max |         Gen 0 |         Gen 1 |         Gen 2 |      Allocated |
|------------------ |---------------:|----------------:|----------------:|---------------:|---------------:|--------------:|--------------:|--------------:|---------------:|
| WithStringBuilder |       955.9 μs |        556.6 μs |        30.51 μs |       924.3 μs |       985.2 μs |      125.0000 |      124.0234 |      124.0234 |      784.04 KB |
|    WithStringType | 7,500,495.0 μs | 22,021,618.8 μs | 1,207,079.24 μs | 6,611,154.0 μs | 8,874,598.0 μs | 11078000.0000 | 10509000.0000 | 10509000.0000 | 39067409.16 KB |
</code></pre></div></div>

<h1>
<span id="エクスポートする方法" class="fragment"></span><a href="#%E3%82%A8%E3%82%AF%E3%82%B9%E3%83%9D%E3%83%BC%E3%83%88%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95"><i class="fa fa-link"></i></a>エクスポートする方法</h1>

<p>出力形式を属性指定することでエクスポートが可能。形式の指定は下記のリンクを参考に。<br>
<a href="https://benchmarkdotnet.org/articles/configs/exporters.html" rel="nofollow noopener" target="_blank">エクスポート機能(リンク)</a>も充実している。</p>

<p>HTMLでエクスポートした例は下記。</p>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre><code><span class="p">[</span><span class="n">HtmlExporter</span><span class="p">]</span><span class="c1">//←これ</span>
<span class="p">[</span><span class="n">MemoryDiagnoser</span><span class="p">]</span>
<span class="p">[</span><span class="n">ShortRunJob</span><span class="p">]</span>
<span class="p">[</span><span class="n">MinColumn</span><span class="p">,</span> <span class="n">MaxColumn</span><span class="p">]</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">StringConcatMesurement</span>
<span class="p">{</span>
<span class="c1">//(略)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>コンソールに出力先が表示される。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><code>// ***** BenchmarkRunner: Finish  *****

// * Export *
  BenchmarkDotNet.Artifacts\results\StudyBenchmarkDotNet.StringConcatMesurement-report.csv
  BenchmarkDotNet.Artifacts\results\StudyBenchmarkDotNet.StringConcatMesurement-report-github.md
  BenchmarkDotNet.Artifacts\results\StudyBenchmarkDotNet.StringConcatMesurement-report.html
</code></pre></div></div>

<p>HTMLファイルを開くと、こんな感じに出力される。</p>

<p><a href="https://camo.qiitausercontent.com/b53cbd4f2c3ab9dc160d08ba097db1e02d9b82d7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3135363539342f65643132333633322d623733612d383431362d613466312d6463663865306430633861302e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F156594%2Fed123632-b73a-8416-a4f1-dcf8e0d0c8a0.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=6576fbeed3dd7070de6b86e480ff8b18" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/156594/ed123632-b73a-8416-a4f1-dcf8e0d0c8a0.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F156594%2Fed123632-b73a-8416-a4f1-dcf8e0d0c8a0.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=82e90ab3169621087c989807830e1d32 1x" loading="lazy"></a></p>

<h1>
<span id="参考にしたサイト" class="fragment"></span><a href="#%E5%8F%82%E8%80%83%E3%81%AB%E3%81%97%E3%81%9F%E3%82%B5%E3%82%A4%E3%83%88"><i class="fa fa-link"></i></a>参考にしたサイト</h1>

<p><a href="https://benchmarkdotnet.org/articles/overview.html" rel="nofollow noopener" target="_blank">BenchmarkDotNetの公式ドキュメント</a><br>
<a href="https://www.infoworld.com/article/3573782/how-to-benchmark-csharp-code-using-benchmarkdotnet.html" rel="nofollow noopener" target="_blank">How to benchmark C# code using BenchmarkDotNet</a><br>
<a href="http://engineering.grani.jp/entry/2017/07/28/145035" rel="nofollow noopener" target="_blank">@neueccさんが書いたベンチマークの測り方</a><br>
<a href="https://dobon.net/vb/dotnet/string/stringbuilder.html" rel="nofollow noopener" target="_blank">文字列処理を高速に行う</a><br>
<a href="https://www.atmarkit.co.jp/fdotnet/vblab/vbroom_02/vbroom_02_02.html" rel="nofollow noopener" target="_blank">stringとStringBuilderの違い</a></p>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2FSY81517%2Fitems%2F79f6c5905e758279831a&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2FSY81517%2Fitems%2F79f6c5905e758279831a&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/SY81517/items/79f6c5905e758279831a/likers" class="css-1iupg5d">24</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">31</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/79f6c5905e758279831a/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/SY81517/items/79f6c5905e758279831a/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/SY81517/items/79f6c5905e758279831a/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/SY81517/items/79f6c5905e758279831a/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/SY81517/items/79f6c5905e758279831a.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-b183b7b9-8861-4849-aa5e-c08756186fed">{"authorAnalyticsTrackingId":null,"organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-956bd311-0481-40b5-9044-7c5d5da90df8"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-956bd311-0481-40b5-9044-7c5d5da90df8">{}</script>
      
<div id="LoginModal-react-component-38fe6711-03a8-4804-ba46-591291b1eefd"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-38fe6711-03a8-4804-ba46-591291b1eefd">{}</script>
      
<div id="StockModal-react-component-ee2c1153-7626-4897-83a2-a8f467fb5c3d"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-ee2c1153-7626-4897-83a2-a8f467fb5c3d">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;15tdEHgBILWge3Dg5zytlIW2qdzf9yfrSbMg4E1envp1bOtgRsbbj1kbpD291IQHjBhwvLvNiZq+enSLqSwyzw==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\n\u003ch1\u003e\n\u003cspan id=\"概要\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%A6%82%E8%A6%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e概要\u003c/h1\u003e\n\n\u003cp\u003eBenchmarkDotNetの紹介と使い方を掲載する。\u003c/p\u003e\n\n\u003cp\u003eBenchmarkDotNetはメソッドのパフォーマンスを簡単に計測できるライブラリです。\u003cbr\u003e\n統計的な情報をレポートしてくれるため、関数のパフォーマンスを調査する業務で役立ちそう。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"目次\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%9B%AE%E6%AC%A1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e目次\u003c/h1\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#BenchmarkDotNet%E3%81%A8%E3%81%AF%EF%BC%9F\"\u003eBenchmarkDotNetとは？\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#%E8%A8%AD%E5%AE%9A%E6%89%8B%E9%A0%86\"\u003e設定手順\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#%E5%8F%82%E8%80%83%E3%81%AB%E3%81%97%E3%81%9F%E3%82%B5%E3%82%A4%E3%83%88\"\u003e参考にしたサイト\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"benchmarkdotnetとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#benchmarkdotnet%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eBenchmarkDotNetとは？\u003c/h1\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003eBenchmarkDotNetは、メソッドをベンチマークに変換し、そのパフォーマンスを追跡し、\u003cbr\u003e\n再現性のある測定実験を共有するのに役立ちます。\u003c/p\u003e\n\n\u003cp\u003e上記は\u003ca href=\"https://github.com/dotnet/BenchmarkDotNet\" rel=\"nofollow noopener\" target=\"_blank\"\u003eGitHub\u003c/a\u003eの記載内容の機械翻訳\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003eサポート対象は下記。.NET系なら大体使えそう。\u003cbr\u003e\n本記事ではC#で実装する。\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003eProjects: classic and modern with PackageReferences\u003cbr\u003e\nRuntimes: Full .NET Framework (4.6+), .NET Core (2.0+), Mono, CoreRT\u003cbr\u003e\nOS: Windows, Linux, MacOS\u003cbr\u003e\nLanguages: C#, F#, VB\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003e\u003ca href=\"https://benchmarkdotnet.org/articles/configs/exporters.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003eエクスポート機能\u003c/a\u003eも充実している。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"設定手順\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A8%AD%E5%AE%9A%E6%89%8B%E9%A0%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e設定手順\u003c/h1\u003e\n\n\u003cp\u003e下記ドキュメントのOverViewに従って、パフォーマンス計測を行う。\u003cbr\u003e\n\u003ca href=\"https://benchmarkdotnet.org/articles/overview.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003eBenchmarkDotNetの公式ドキュメント\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"1nugetパッケージをインストール\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1nuget%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1.NuGetパッケージをインストール\u003c/h2\u003e\n\n\u003cp\u003eVisual Studioを立ち上げ、「コンソールアプリケーション」を選択する。\u003cbr\u003e\n下記のNuGetパッケージを追加する。\u003cbr\u003e\n\u003ca href=\"https://www.nuget.org/packages/BenchmarkDotNet/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eNuGetリンク\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/3f9b4e3c94318886e101c05a8b66cf317ecdcd25/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3135363539342f66333537336236652d393237382d316233632d303262622d6434343336333137316531612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F156594%2Ff3573b6e-9278-1b3c-02bb-d44363171e1a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ddd51603083adbba0faa8b61e13482e0\" alt=\"Nuget-Benchmark.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/156594/f3573b6e-9278-1b3c-02bb-d44363171e1a.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F156594%2Ff3573b6e-9278-1b3c-02bb-d44363171e1a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=47c4fe5f95c510344cebd59ec8f834ab 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"2計測対象のメソッドを含むクラスを作成する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2%E8%A8%88%E6%B8%AC%E5%AF%BE%E8%B1%A1%E3%81%AE%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%82%92%E5%90%AB%E3%82%80%E3%82%AF%E3%83%A9%E3%82%B9%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2.計測対象のメソッドを含むクラスを作成する\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"扱う題材計測対象\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%89%B1%E3%81%86%E9%A1%8C%E6%9D%90%E8%A8%88%E6%B8%AC%E5%AF%BE%E8%B1%A1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e扱う題材(計測対象)\u003c/h3\u003e\n\n\u003cp\u003estringとStringBuilderの文字列結合の処理時間を比較する。\u003cbr\u003e\n期待結果は「StringBuilderの方がパフォーマンスが優れる」こと。\u003cbr\u003e\n※下記サイトで既に検証済み\u003cbr\u003e\n\u003ca href=\"https://dobon.net/vb/dotnet/string/stringbuilder.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003e文字列処理を高速に行う\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003cdetails\u003e\u003csummary\u003eStringBuilderがパフォーマンスが優れる理由\u003c/summary\u003e\u003cbr\u003e\n下記の違いにより、扱う文字の数が増えるとStringBuilderの方がパフォーマンスに優れることが多い。\u003cbr\u003e\n・string型は編集不可なため、文字列操作の度に新たなインスタンスを作る。\u003cbr\u003e\n・StringBuilderは編集可能であるため、文字列操作で新たなインスタンスを作らない。\u003cbr\u003e\n\u003ca href=\"https://www.atmarkit.co.jp/fdotnet/vblab/vbroom_02/vbroom_02_02.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003estringとStringBuilderの違い\u003c/a\u003e\u003cbr\u003e\n\u003c/details\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"計測対象のクラスを定義する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A8%88%E6%B8%AC%E5%AF%BE%E8%B1%A1%E3%81%AE%E3%82%AF%E3%83%A9%E3%82%B9%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e計測対象のクラスを定義する\u003c/h3\u003e\n\n\u003cp\u003e計測対象のメソッド含むクラスを定義する。\u003cbr\u003e\n対象メソッドには[Benchmark]属性を指定する。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eBenchmarkDotNet.Attributes\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Text\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eStringConcatMesurement\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eNumberOfItems\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e200000\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eBenchmark\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"nf\"\u003eWithStringBuilder\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003esb\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eStringBuilder\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n        \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003eNumberOfItems\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e++)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003esb\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAppend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"1\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003esb\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToString\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eBenchmark\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"nf\"\u003eWithStringType\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003es\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEmpty\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003eNumberOfItems\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e++)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003es\u003c/span\u003e \u003cspan class=\"p\"\u003e+=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"1\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003es\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"メイン関数からコールする\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%A1%E3%82%A4%E3%83%B3%E9%96%A2%E6%95%B0%E3%81%8B%E3%82%89%E3%82%B3%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eメイン関数からコールする\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eBenchmarkDotNet.Running\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eProgram\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003esummary\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBenchmarkRunner\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eRun\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eStringConcatMesurement\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;();\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこれで準備完了！！実行する前に一点だけ注意事項。\u003cbr\u003e\n\u003cb\u003e[リリースビルド]で実行すること。\u003cbr\u003e\n[デバックビルド]の場合は、下記のように実行時エラーになる。\u003c/b\u003e\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/340359455a203e1e6c755e9b2a687aa9c7ffad53/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3135363539342f61616638343963642d656162622d373630652d323465652d3066383431333461363430632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F156594%2Faaf849cd-eabb-760e-24ee-0f84134a640c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ba4900fb5cf47df3351451cf2c1e6034\" alt=\"BenchmarkDotNet-デバックモードはエラー.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/156594/aaf849cd-eabb-760e-24ee-0f84134a640c.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F156594%2Faaf849cd-eabb-760e-24ee-0f84134a640c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=f22331b47ba795359dc4b50c6675e7a2 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eちなみに、このままの状態で実行すると私の環境で10分以上掛かった。\u003cbr\u003e\nベンチマーク計測に正確さが必要ない場合、[ShortRunJob]属性をつけて下さい(後述の項 \u003ca href=\"#%E8%A8%88%E6%B8%AC%E6%99%82%E9%96%93%E3%81%AE%E7%9F%AD%E7%B8%AE%E3%82%92%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95\"\u003e計測時間の短縮をする方法\u003c/a\u003eを参照)。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"計測開始時\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A8%88%E6%B8%AC%E9%96%8B%E5%A7%8B%E6%99%82\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e計測開始時\u003c/h3\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/6a5223e1a16bf0b832340c1b094a602c20c31efd/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3135363539342f39333230653432642d306531392d396461312d326536372d3865626565306132346532322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F156594%2F9320e42d-0e19-9da1-2e67-8ebee0a24e22.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2f91ad575a527bbb3e685639ddc67bb0\" alt=\"BenchmarkDotNet開始時画面.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/156594/9320e42d-0e19-9da1-2e67-8ebee0a24e22.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F156594%2F9320e42d-0e19-9da1-2e67-8ebee0a24e22.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=112371ebecb6a22220b95b7b73f0e788 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"計測終了時\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A8%88%E6%B8%AC%E7%B5%82%E4%BA%86%E6%99%82\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e計測終了時\u003c/h3\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/096426a4f56f033348ec62e846619af30180334f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3135363539342f39313239373062302d366465642d343034622d383065302d3065656166306139633862362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F156594%2F912970b0-6ded-404b-80e0-0eeaf0a9c8b6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2e39a0cc62eecd033d919752c4820bd1\" alt=\"BenchmarkDotNet終了時の画面.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/156594/912970b0-6ded-404b-80e0-0eeaf0a9c8b6.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F156594%2F912970b0-6ded-404b-80e0-0eeaf0a9c8b6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ca6244a9fe6a2da3741338c808575240 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"計測結果を確認する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A8%88%E6%B8%AC%E7%B5%90%E6%9E%9C%E3%82%92%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e計測結果を確認する\u003c/h3\u003e\n\n\u003cp\u003e下記の結果がコンソールに表示される。\u003cbr\u003e\n・実行環境\u003cbr\u003e\n・統計情報の表(関数名、平均値、エラー、標準偏差）\u003cbr\u003e\n・統計情報のラベルの説明\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e// * Summary *\n\nBenchmarkDotNet=v0.12.1, OS=Windows 10.0.19041.867 (2004/?/20H1)\nIntel Core i7-7700HQ CPU 2.80GHz (Kaby Lake), 1 CPU, 8 logical and 4 physical cores\n.NET Core SDK=3.1.402\n  [Host]     : .NET Core 3.1.8 (CoreCLR 4.700.20.41105, CoreFX 4.700.20.41903), X64 RyuJIT\n  DefaultJob : .NET Core 3.1.8 (CoreCLR 4.700.20.41105, CoreFX 4.700.20.41903), X64 RyuJIT\n\n\n|            Method |           Mean |         Error |        StdDev |\n|------------------ |---------------:|--------------:|--------------:|\n| WithStringBuilder |       895.1 us |      15.62 us |      21.90 us |\n|    WithStringType | 7,806,015.2 us | 155,282.10 us | 347,310.67 us |\n\n// * Hints *\nOutliers\n  StringConcatMesurement.WithStringBuilder: Default -\u0026gt; 4 outliers were removed (978.11 us..1.02 ms)\n  StringConcatMesurement.WithStringType: Default    -\u0026gt; 4 outliers were removed (9.74 s..10.10 s)\n\n// * Legends *\n  Mean   : Arithmetic mean of all measurements\n  Error  : Half of 99.9% confidence interval\n  StdDev : Standard deviation of all measurements\n  1 us   : 1 Microsecond (0.000001 sec)\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e予想通りStringBuilderの方がパフォーマンスが優れる。\u003cbr\u003e\n平均値で比較すると、約8721倍StringBuilderが速い。\u003cbr\u003e\n標準偏差を見ても、stringに比べると計測結果のバラツキが小さいことが分かる。\u003c/p\u003e\n\n\u003cp\u003e\u003cb\u003e余談\u003c/b\u003e\u003cbr\u003e\nコンソール出力内容はログに記録されている。\u003cbr\u003e\nソリューションのRelease直下にBenchmarkDotNet.Artifactsフォルダ内部に下記のログファイルが存在する。\u003cbr\u003e\n「ソリューション名.計測対象クラス名-(日時:YYYYYMMDDD-HHMMS).log」\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"計測結果サマリをカスタマイズする\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A8%88%E6%B8%AC%E7%B5%90%E6%9E%9C%E3%82%B5%E3%83%9E%E3%83%AA%E3%82%92%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e計測結果サマリをカスタマイズする\u003c/h3\u003e\n\n\u003cp\u003eサマリーは下記の詳細結果のうち、属性でどれを出すかを指定する。\u003cbr\u003e\nデフォルトだと、平均値、エラー、標準偏差を表示する。\u003cbr\u003e\n試しに最小値、最大値を追加する。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e// * Detailed results *\nStringConcatMesurement.WithStringBuilder: DefaultJob\nRuntime = .NET Core 3.1.8 (CoreCLR 4.700.20.41105, CoreFX 4.700.20.41903), X64 RyuJIT; GC = Concurrent Workstation\nMean = 830.978 us, StdErr = 3.726 us (0.45%), N = 15, StdDev = 14.432 us\nMin = 809.898 us, Q1 = 821.067 us, Median = 826.252 us, Q3 = 844.369 us, Max = 855.115 us\nIQR = 23.303 us, LowerFence = 786.113 us, UpperFence = 879.323 us\nConfidenceInterval = [815.549 us; 846.406 us] (CI 99.9%), Margin = 15.428 us (1.86% of Mean)\nSkewness = 0.28, Kurtosis = 1.64, MValue = 2\n-------------------- Histogram --------------------\n[802.218 us ; 834.536 us) | @@@@@@@@@@\n[834.536 us ; 857.584 us) | @@@@@\n---------------------------------------------------\n\nStringConcatMesurement.WithStringType: DefaultJob\nRuntime = .NET Core 3.1.8 (CoreCLR 4.700.20.41105, CoreFX 4.700.20.41903), X64 RyuJIT; GC = Concurrent Workstation\nMean = 7.206 s, StdErr = 0.051 s (0.70%), N = 95, StdDev = 0.493 s\nMin = 6.459 s, Q1 = 6.804 s, Median = 7.101 s, Q3 = 7.443 s, Max = 8.521 s\nIQR = 0.639 s, LowerFence = 5.846 s, UpperFence = 8.402 s\nConfidenceInterval = [7.034 s; 7.378 s] (CI 99.9%), Margin = 0.172 s (2.38% of Mean)\nSkewness = 0.84, Kurtosis = 3.15, MValue = 2.93\n-------------------- Histogram --------------------\n[6.317 s ; 6.608 s) | @@@@\n[6.608 s ; 6.891 s) | @@@@@@@@@@@@@@@@@@@@@@@@\n[6.891 s ; 7.243 s) | @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n[7.243 s ; 7.605 s) | @@@@@@@@@@@@@@@@@@@\n[7.605 s ; 7.892 s) | @@@@@@@\n[7.892 s ; 8.269 s) | @@@@@@@\n[8.269 s ; 8.663 s) | @@@\n---------------------------------------------------\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"サマリーのカスタマイズ実装\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B5%E3%83%9E%E3%83%AA%E3%83%BC%E3%81%AE%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA%E5%AE%9F%E8%A3%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eサマリーのカスタマイズ実装\u003c/h4\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eMinColumn\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003eMaxColumn\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"c1\"\u003e//←新規追加\u003c/span\u003e\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eStringConcatMesurement\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eNumberOfItems\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e200000\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eBenchmark\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"nf\"\u003eWithStringBuilder\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e//略\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eBenchmark\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"nf\"\u003eWithStringType\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n     \u003cspan class=\"c1\"\u003e//略\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"カスタマイズ後のサマリー\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA%E5%BE%8C%E3%81%AE%E3%82%B5%E3%83%9E%E3%83%AA%E3%83%BC\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eカスタマイズ後のサマリー\u003c/h4\u003e\n\n\u003cp\u003e最小値、最大値の項目が増えた。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e|            Method |           Mean |         Error |        StdDev |            Min |            Max |\n|------------------ |---------------:|--------------:|--------------:|---------------:|---------------:|\n| WithStringBuilder |       831.0 us |      15.43 us |      14.43 us |       809.9 us |       855.1 us |\n|    WithStringType | 7,205,897.0 us | 171,677.49 us | 492,574.91 us | 6,458,541.9 us | 8,520,846.9 us |\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"計測時間の短縮をする方法\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A8%88%E6%B8%AC%E6%99%82%E9%96%93%E3%81%AE%E7%9F%AD%E7%B8%AE%E3%82%92%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e計測時間の短縮をする方法\u003c/h1\u003e\n\n\u003cp\u003e関数のパフォーマンスを改善する場面などでは、正確性よりも試行回数が重視されると思う。\u003cbr\u003e\n何も制限なしで使うと、文字列の結合の評価だけで約10分かかった。\u003cbr\u003e\nとても待ってられない。\u003cbr\u003e\n下記[ShortRunJob]属性指定することで、関数の試行回数(N=3)で固定されて計測時間を短縮できる。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"shortrunjob属性指定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#shortrunjob%E5%B1%9E%E6%80%A7%E6%8C%87%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e[ShortRunJob]属性指定\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eShortRunJob\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"c1\"\u003e//←これ\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eMinColumn\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eMaxColumn\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eStringConcatMesurement\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e//(略)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"shortrunjob属性指定前の計測時間\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#shortrunjob%E5%B1%9E%E6%80%A7%E6%8C%87%E5%AE%9A%E5%89%8D%E3%81%AE%E8%A8%88%E6%B8%AC%E6%99%82%E9%96%93\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e[ShortRunJob]属性指定前の計測時間\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003eGlobal total time: 00:10:46 (646.11 sec), executed benchmarks: 2\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"shortrunjob属性指定後の計測時間\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#shortrunjob%E5%B1%9E%E6%80%A7%E6%8C%87%E5%AE%9A%E5%BE%8C%E3%81%AE%E8%A8%88%E6%B8%AC%E6%99%82%E9%96%93\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e[ShortRunJob]属性指定後の計測時間\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003eGlobal total time: 00:00:57 (57.23 sec), executed benchmarks: 2\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"メモリ使用量を計測する方法\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%A1%E3%83%A2%E3%83%AA%E4%BD%BF%E7%94%A8%E9%87%8F%E3%82%92%E8%A8%88%E6%B8%AC%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eメモリ使用量を計測する方法\u003c/h1\u003e\n\n\u003cp\u003e下記[MemoryDiagnoser]属性指定することで、メモリ使用量を計測できる。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eMemoryDiagnoser\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"c1\"\u003e//←これ\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eShortRunJob\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eMinColumn\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eMaxColumn\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eStringConcatMesurement\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e//(略)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e下記表のAllocatedがメモリ使用量。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e|            Method |           Mean |           Error |          StdDev |            Min |            Max |         Gen 0 |         Gen 1 |         Gen 2 |      Allocated |\n|------------------ |---------------:|----------------:|----------------:|---------------:|---------------:|--------------:|--------------:|--------------:|---------------:|\n| WithStringBuilder |       955.9 μs |        556.6 μs |        30.51 μs |       924.3 μs |       985.2 μs |      125.0000 |      124.0234 |      124.0234 |      784.04 KB |\n|    WithStringType | 7,500,495.0 μs | 22,021,618.8 μs | 1,207,079.24 μs | 6,611,154.0 μs | 8,874,598.0 μs | 11078000.0000 | 10509000.0000 | 10509000.0000 | 39067409.16 KB |\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"エクスポートする方法\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A8%E3%82%AF%E3%82%B9%E3%83%9D%E3%83%BC%E3%83%88%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eエクスポートする方法\u003c/h1\u003e\n\n\u003cp\u003e出力形式を属性指定することでエクスポートが可能。形式の指定は下記のリンクを参考に。\u003cbr\u003e\n\u003ca href=\"https://benchmarkdotnet.org/articles/configs/exporters.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003eエクスポート機能(リンク)\u003c/a\u003eも充実している。\u003c/p\u003e\n\n\u003cp\u003eHTMLでエクスポートした例は下記。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eHtmlExporter\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"c1\"\u003e//←これ\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eMemoryDiagnoser\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eShortRunJob\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eMinColumn\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eMaxColumn\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eStringConcatMesurement\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e//(略)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eコンソールに出力先が表示される。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e// ***** BenchmarkRunner: Finish  *****\n\n// * Export *\n  BenchmarkDotNet.Artifacts\\results\\StudyBenchmarkDotNet.StringConcatMesurement-report.csv\n  BenchmarkDotNet.Artifacts\\results\\StudyBenchmarkDotNet.StringConcatMesurement-report-github.md\n  BenchmarkDotNet.Artifacts\\results\\StudyBenchmarkDotNet.StringConcatMesurement-report.html\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eHTMLファイルを開くと、こんな感じに出力される。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/b53cbd4f2c3ab9dc160d08ba097db1e02d9b82d7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3135363539342f65643132333633322d623733612d383431362d613466312d6463663865306430633861302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F156594%2Fed123632-b73a-8416-a4f1-dcf8e0d0c8a0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=6576fbeed3dd7070de6b86e480ff8b18\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/156594/ed123632-b73a-8416-a4f1-dcf8e0d0c8a0.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F156594%2Fed123632-b73a-8416-a4f1-dcf8e0d0c8a0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=82e90ab3169621087c989807830e1d32 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"参考にしたサイト\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83%E3%81%AB%E3%81%97%E3%81%9F%E3%82%B5%E3%82%A4%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考にしたサイト\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"https://benchmarkdotnet.org/articles/overview.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003eBenchmarkDotNetの公式ドキュメント\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://www.infoworld.com/article/3573782/how-to-benchmark-csharp-code-using-benchmarkdotnet.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003eHow to benchmark C# code using BenchmarkDotNet\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"http://engineering.grani.jp/entry/2017/07/28/145035\" rel=\"nofollow noopener\" target=\"_blank\"\u003e@neueccさんが書いたベンチマークの測り方\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://dobon.net/vb/dotnet/string/stringbuilder.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003e文字列処理を高速に行う\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://www.atmarkit.co.jp/fdotnet/vblab/vbroom_02/vbroom_02_02.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003estringとStringBuilderの違い\u003c/a\u003e\u003c/p\u003e\n","createdAt":"2021-04-17T05:20:38Z","elapsedYearsFromLastModifiedAt":0,"encryptedId":"mJiRU6qj+Ba4CBwtvoItlvV4bGOD4iGcDw==--jqPG44KhgchHMcG+--NVq2mv8P6LoRmaUsHLA3Og==","isBanned":false,"isDeprecated":false,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2021-06-19T10:23:47Z","likesCount":24,"linkUrl":"https://qiita.com/SY81517/items/79f6c5905e758279831a","organization":null,"originalId":1422529,"stockedCount":31,"title":"【.NET/C#】メソッドのパフォーマンスを簡単に集計するライブラリの紹介","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%A6%82%E8%A6%81\"\u003e概要\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%9B%AE%E6%AC%A1\"\u003e目次\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#benchmarkdotnet%E3%81%A8%E3%81%AF\"\u003eBenchmarkDotNetとは？\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%A8%AD%E5%AE%9A%E6%89%8B%E9%A0%86\"\u003e設定手順\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#1nuget%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"\u003e1.NuGetパッケージをインストール\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#2%E8%A8%88%E6%B8%AC%E5%AF%BE%E8%B1%A1%E3%81%AE%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%82%92%E5%90%AB%E3%82%80%E3%82%AF%E3%83%A9%E3%82%B9%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B\"\u003e2.計測対象のメソッドを含むクラスを作成する\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%89%B1%E3%81%86%E9%A1%8C%E6%9D%90%E8%A8%88%E6%B8%AC%E5%AF%BE%E8%B1%A1\"\u003e扱う題材(計測対象)\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%A8%88%E6%B8%AC%E5%AF%BE%E8%B1%A1%E3%81%AE%E3%82%AF%E3%83%A9%E3%82%B9%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%99%E3%82%8B\"\u003e計測対象のクラスを定義する\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%A1%E3%82%A4%E3%83%B3%E9%96%A2%E6%95%B0%E3%81%8B%E3%82%89%E3%82%B3%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B\"\u003eメイン関数からコールする\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%A8%88%E6%B8%AC%E9%96%8B%E5%A7%8B%E6%99%82\"\u003e計測開始時\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%A8%88%E6%B8%AC%E7%B5%82%E4%BA%86%E6%99%82\"\u003e計測終了時\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%A8%88%E6%B8%AC%E7%B5%90%E6%9E%9C%E3%82%92%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B\"\u003e計測結果を確認する\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%A8%88%E6%B8%AC%E7%B5%90%E6%9E%9C%E3%82%B5%E3%83%9E%E3%83%AA%E3%82%92%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA%E3%81%99%E3%82%8B\"\u003e計測結果サマリをカスタマイズする\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%B5%E3%83%9E%E3%83%AA%E3%83%BC%E3%81%AE%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA%E5%AE%9F%E8%A3%85\"\u003eサマリーのカスタマイズ実装\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA%E5%BE%8C%E3%81%AE%E3%82%B5%E3%83%9E%E3%83%AA%E3%83%BC\"\u003eカスタマイズ後のサマリー\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%A8%88%E6%B8%AC%E6%99%82%E9%96%93%E3%81%AE%E7%9F%AD%E7%B8%AE%E3%82%92%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95\"\u003e計測時間の短縮をする方法\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#shortrunjob%E5%B1%9E%E6%80%A7%E6%8C%87%E5%AE%9A\"\u003e[ShortRunJob]属性指定\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#shortrunjob%E5%B1%9E%E6%80%A7%E6%8C%87%E5%AE%9A%E5%89%8D%E3%81%AE%E8%A8%88%E6%B8%AC%E6%99%82%E9%96%93\"\u003e[ShortRunJob]属性指定前の計測時間\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#shortrunjob%E5%B1%9E%E6%80%A7%E6%8C%87%E5%AE%9A%E5%BE%8C%E3%81%AE%E8%A8%88%E6%B8%AC%E6%99%82%E9%96%93\"\u003e[ShortRunJob]属性指定後の計測時間\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%A1%E3%83%A2%E3%83%AA%E4%BD%BF%E7%94%A8%E9%87%8F%E3%82%92%E8%A8%88%E6%B8%AC%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95\"\u003eメモリ使用量を計測する方法\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%A8%E3%82%AF%E3%82%B9%E3%83%9D%E3%83%BC%E3%83%88%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95\"\u003eエクスポートする方法\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%8F%82%E8%80%83%E3%81%AB%E3%81%97%E3%81%9F%E3%82%B5%E3%82%A4%E3%83%88\"\u003e参考にしたサイト\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","totalPv":5522,"uuid":"79f6c5905e758279831a","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"1s8C0XGprCiCNZcoOmlDLGw6rNm9--KE68ro4vjDmAsulH--E7btxqJk2obpZxpeZmIXsw==","originalId":156594,"description":"メーカの技術者です。C#が好きで、技術交流を増やしたいと思い投稿をはじめました。Microsoft公式サイト、書籍、国内外の講演、Microsoft MVPのブログから情報収集してます。設計、コード可読性、C#のイディオム、テストに関心があります。技術力を高めて、発信できる人に早くなりたい。言語学習歴:C#2年目のぺーぺー/C 5年。\r\n私の発信は所属団体とは関係がありません。","facebookUrl":null,"githubUrl":"https://github.com/SY81517","isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"Satoshi Yamamoto","profileImageUrl":"https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/156594/b1566e5f115bcf561e5be7c71fbbddcb8a15fbe3/large.png?1617639802","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fs3-ap-northeast-1.amazonaws.com%2Fqiita-image-store%2F0%2F156594%2Fb1566e5f115bcf561e5be7c71fbbddcb8a15fbe3%2Flarge.png%3F1617639802?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=c8895f49948d4630945112b8848afea6","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fs3-ap-northeast-1.amazonaws.com%2Fqiita-image-store%2F0%2F156594%2Fb1566e5f115bcf561e5be7c71fbbddcb8a15fbe3%2Flarge.png%3F1617639802?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=dfefdee4816b616586c3eab8837c1c27","urlName":"SY81517","websiteUrl":"","twitterUrl":"https://twitter.com/S_yamamto_1125","twitterUrlName":"S_yamamto_1125","revealedOrganizations":{"edges":[]}},"tags":[{"name":"F#","urlName":"fsharp"},{"name":"C#","urlName":"csharp"},{"name":".NET","urlName":".net"},{"name":"VB","urlName":"vb"},{"name":"benchmark","urlName":"benchmark"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
