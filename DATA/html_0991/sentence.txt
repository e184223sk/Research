More than 1 year has passed since last update.この記事ではわかりやすさなどは追求せず、備忘録的に内容をまとめていきます。自分が分からなくなっていたのは元画面に戻る処理の実装方法です。例えばショッピングサイトでアカウントを作成するとき、アカウント情報を入力画面に記入する。
送信ボタンをクリック！
↓
問題がなければ次の画面に遷移します
だけど、あれ？入力内容ちょっとまずいじゃん！いろいろ必須事項漏れてるし、使用禁止文字使ってるし、、、
よしっ、元の入力画面に戻しちゃえ！ついでにどこがまずいかのメッセージも表示しちゃえ！て場合です。
例えばアカウント作成のときにこんな画面の遷移をします。では、画面の間を繋ぐコントローラーではどう実装すべきでしょうか？特に元の画面に戻す場合は何をリターンするのが正解でしょうか？結論から言えばViewメソッドを使うが正解です。とりあえず画面遷移をさせたいならViewメソッドです！← これは言い過ぎ？しかし最初、Viewメソッドを使うことがわかりませんでした。
その原因はViewメソッドはそのメソッド名と同じ名前のViewに遷移させるものと思っていたからです。そして、View以外(RedirectToActionとか？)の場合はモデルに付与した検証用のアノテーションが意味をなさなくなります。Indexメソッド内でView→Index.cshtmlみたいな感じViewメソッドはオーバーロードでView名を指定するオーバーロードも用意されています。
なので、xxxとかyyyにはViewに渡したいモデルのインスタンスが入ります。なので、画面遷移でViewメソッドを使ってどのViewにも返すことができました。
Viewでも検証用の属性を使えます。


