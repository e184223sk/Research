<!DOCTYPE html><html><head><meta charset="utf-8" /><title>Unity 3Dでアニメーションを考慮したジャンプ その1（単アニメーション） - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/mkgask/items/e660fc802b2ec994fb5f" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="wgoiNOWVM+yvBNaU3Mf8yVHq92w1YfgGeacoy+u3fkRFlo7FselSQ4SzRVaG6lSskIpBAVSm3Y/0DW4pMwyaFA==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta content="@mkgask" name="twitter:creator" /><meta property="og:type" content="article"><meta property="og:title" content="Unity 3Dでアニメーションを考慮したジャンプ その1（単アニメーション） - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1WVzVwZEhrZ00wVGpnYWZqZ3FMamc0dmpnNkhqZzd6amdyZmpnNmZqZzdQamdwTG9nSVBtaGE3amdaZmpnWl9qZ3Jqamc2UGpnN1BqZzVjZzQ0R2Q0NEd1TWUtOGlPV05tT09Db3VPRGktT0RvZU9Edk9PQ3QtT0RwLU9Ecy0tOGlRJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NTQmdHh0LWNsaXA9ZWxsaXBzaXMmdHh0LWFsaWduPWNlbnRlciUyQ21pZGRsZSZzPTc3NjcyZjNlMGMzZjY5OWQ4MjY5NWMwODY1ZmI3MTEw&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRzFyWjJGemF3JnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NDUmdHh0LWFsaWduPXJpZ2h0JTJDYm90dG9tJnM9OGY4YjNmNTEzZmQzNWJjZmM5NGQwNWZlOGY3ZTE1NDY&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=a6bffd8aad67441dbae9453550902012"><meta property="og:description" content="

はじめに

Unity 3DでUpdateとFixedUpdate間のタイミングを考慮したジャンプ（基礎） - Qiita の続きです。

上記記事で作成したジャンプの基礎処理をベースに、ジャンプアニメーションを付けていきます。
..."><meta content="https://qiita.com/mkgask/items/e660fc802b2ec994fb5f" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,Unity" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 1nzh4zz 38fzdi helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-1nzh4zz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 32px;background-color:#FBE69E;color:rgba(0,0,0,0.87);line-height:1.5;font-weight:600;}@media (max-width:770px){.css-1nzh4zz{padding:16px;}}.css-38fzdi{color:#CA832A;margin-right:4px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-2113ed65-80d7-4c24-8526-58db6a7d8a22"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2Fmkgask%2Fitems%2Fe660fc802b2ec994fb5f">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2Fmkgask%2Fitems%2Fe660fc802b2ec994fb5f">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-2113ed65-80d7-4c24-8526-58db6a7d8a22">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2018-09-23T23:49:18.000+09:00","dateModified":"2018-09-23T23:53:13.000+09:00","headline":"Unity 3Dでアニメーションを考慮したジャンプ その1（単アニメーション）","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1WVzVwZEhrZ00wVGpnYWZqZ3FMamc0dmpnNkhqZzd6amdyZmpnNmZqZzdQamdwTG9nSVBtaGE3amdaZmpnWl9qZ3Jqamc2UGpnN1BqZzVjZzQ0R2Q0NEd1TWUtOGlPV05tT09Db3VPRGktT0RvZU9Edk9PQ3QtT0RwLU9Ecy0tOGlRJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NTQmdHh0LWNsaXA9ZWxsaXBzaXMmdHh0LWFsaWduPWNlbnRlciUyQ21pZGRsZSZzPTc3NjcyZjNlMGMzZjY5OWQ4MjY5NWMwODY1ZmI3MTEw\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRzFyWjJGemF3JnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NDUmdHh0LWFsaWduPXJpZ2h0JTJDYm90dG9tJnM9OGY4YjNmNTEzZmQzNWJjZmM5NGQwNWZlOGY3ZTE1NDY\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=a6bffd8aad67441dbae9453550902012","mainEntityOfPage":"https://qiita.com/mkgask/items/e660fc802b2ec994fb5f","author":{"@type":"Person","address":"だがね","email":null,"identifier":"mkgask","name":"mkgask","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F72594%2Fprofile-images%2F1473699207?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=13e12b10c92fd48268dbffad96bda4d6","url":"https://qiita.com/mkgask","description":"業務ではPHP触りつつ趣味ではUnity C#とPythonで遊んでいます。\r\n何か色々やってるのでフォローにはご注意くださいヾ( ╹◡╹)ﾉﾞ ","memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://increments.connpass.com/event/211948/">【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup</a><a target="_blank" id="header_text_message_2" href="https://increments.connpass.com/event/211948/">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"mkgask","type":"items","id":"e660fc802b2ec994fb5f"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"mkgask","type":"items","id":"e660fc802b2ec994fb5f"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":2,"pos_id":"header_text_message_1","message":"【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"mkgask","type":"items","id":"e660fc802b2ec994fb5f"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":2,"pos_id":"header_text_message_2","message":"【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/mkgask/items/e660fc802b2ec994fb5f","location":"/mkgask/items/e660fc802b2ec994fb5f","scheme":"https","host":"qiita.com","port":null,"pathname":"/mkgask/items/e660fc802b2ec994fb5f","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"Ca0RGxJczdNYbt1BEr47zqH6JFfXKekq6JhxXkDdhbGOMb3qRiCsfHPZToNIk5OrYJqSOrbuzKNlMje8mGZh4Q==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-134c0be9-c947-498a-98c9-076b79934d15"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/mkgask/items/e660fc802b2ec994fb5f/likers" class="css-1iupg5d">4</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">1</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/e660fc802b2ec994fb5f/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/mkgask/items/e660fc802b2ec994fb5f/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/mkgask/items/e660fc802b2ec994fb5f/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/mkgask/items/e660fc802b2ec994fb5f/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/mkgask/items/e660fc802b2ec994fb5f.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-1nzh4zz"><span class="fa fa-fw fa-warning css-38fzdi"></span><p>More than 1 year has passed since last update.</p></div><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/mkgask"><img class="css-100alwu eyfquo10" src="https://qiita-image-store.s3.amazonaws.com/0/72594/profile-images/1473699207" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/mkgask" class="css-10ougpm">@<!-- -->mkgask</a><div class="css-1ay9vb9"><span><meta content="2018-09-23T14:49:18Z"/><time dateTime="2018-09-23T14:53:13Z" class="css-m19uds">updated at 2018-09-23</time></span></div></div></div></div></div><h1 class="css-cgzq40">Unity 3Dでアニメーションを考慮したジャンプ その1（単アニメーション）</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/unity" class="css-4czcte">Unity</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div>
<h1>
<span id="はじめに" class="fragment"></span><a href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB"><i class="fa fa-link"></i></a>はじめに</h1>

<p><a href="https://qiita.com/mkgask/items/6d04d0be13cc0b14d4fb" id="reference-d9359dca207553c2f0c4">Unity 3DでUpdateとFixedUpdate間のタイミングを考慮したジャンプ（基礎） - Qiita</a> の続きです。</p>

<p>上記記事で作成したジャンプの基礎処理をベースに、ジャンプアニメーションを付けていきます。</p>

<h1>
<span id="想定環境" class="fragment"></span><a href="#%E6%83%B3%E5%AE%9A%E7%92%B0%E5%A2%83"><i class="fa fa-link"></i></a>想定環境</h1>

<ul>
<li>Windows 10</li>
<li>Unity 2018.2.9f1</li>
<li>プレイヤーキャラクターに <a href="http://unity-chan.com/" rel="nofollow noopener" target="_blank">Unity Technologies Japanオリジナルキャラクター Unityちゃん</a> を利用</li>
</ul>

<h1>
<span id="ジャンプにアニメーションを追加" class="fragment"></span><a href="#%E3%82%B8%E3%83%A3%E3%83%B3%E3%83%97%E3%81%AB%E3%82%A2%E3%83%8B%E3%83%A1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E8%BF%BD%E5%8A%A0"><i class="fa fa-link"></i></a>ジャンプにアニメーションを追加</h1>

<p><a href="https://qiita.com/mkgask/items/6d04d0be13cc0b14d4fb">前回記事</a> で作った基礎的なジャンプ処理に、まずはアニメーション一個をそのまま追加してみます。</p>

<p>ユニティちゃんのアセットには、UnityChan/Animations/unitychan_JUMP00 の中の JUMP00 にジャンプアニメーションも入っているので、これを使わせていただきます。<br>
<a href="https://camo.qiitausercontent.com/662a30513db13983712dc49263b3a21948b26c41/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393138322d66663038366438302d626638382d313165382d383465662d6362623637386565383561342e6a7067" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929182-ff086d80-bf88-11e8-84ef-cbb678ee85a4.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=0c227faed5cc1cad1197a146215092f3" alt="clipboard01" data-canonical-src="https://user-images.githubusercontent.com/8291395/45929182-ff086d80-bf88-11e8-84ef-cbb678ee85a4.jpg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929182-ff086d80-bf88-11e8-84ef-cbb678ee85a4.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=7ba86e0e546e34bf40484ca4628f82a3 1x" loading="lazy"></a><br>
<code>Animator</code> の説明をしてから使いますので、今は場所の確認だけです。</p>

<h2>
<span id="animation-controller-と-animator-と-animation-clip" class="fragment"></span><a href="#animation-controller-%E3%81%A8-animator-%E3%81%A8-animation-clip"><i class="fa fa-link"></i></a>Animation Controller と Animator と Animation Clip</h2>

<p>Unityでアニメーションを行うには、モーションの再生/停止等を管理する <code>Animation Controller</code> と、Animation ControllerとGameObjectとの橋渡しとなる <code>Animator</code> と、実際のアニメーションのモーションひとつ分となる <code>Animation Clip</code> の3つの要素が必要です。</p>

<p>まず <code>Animator</code> は、<code>GameObject</code> に <code>Component</code> としてアタッチ出来るので、Add Component から選択してアタッチします。<br>
<a href="https://camo.qiitausercontent.com/c0ad28f47bc443379183092a7d14d29e990a6d1d/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393139332d31626134613538302d626638392d313165382d396164632d3332393165643439303835662e6a7067" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929193-1ba4a580-bf89-11e8-9adc-3291ed49085f.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=c5703f64806d75b25ed19cc4fe609138" alt="clipboard02" data-canonical-src="https://user-images.githubusercontent.com/8291395/45929193-1ba4a580-bf89-11e8-9adc-3291ed49085f.jpg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929193-1ba4a580-bf89-11e8-9adc-3291ed49085f.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=619bd3f5ff6f77eb7ae3e1ccaa0d0e3b 1x" loading="lazy"></a><br>
<a href="https://camo.qiitausercontent.com/7d0a6edf8da9060f2a06f953dc3d09be18e08ec3/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393139382d32613862353830302d626638392d313165382d396539362d6438663232336332626166312e6a7067" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929198-2a8b5800-bf89-11e8-9e96-d8f223c2baf1.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=8769f3c23920f200ee7d6f837abc1b59" alt="clipboard03" data-canonical-src="https://user-images.githubusercontent.com/8291395/45929198-2a8b5800-bf89-11e8-9e96-d8f223c2baf1.jpg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929198-2a8b5800-bf89-11e8-9e96-d8f223c2baf1.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=5eb9c37b2c9b03937df0f0b3c5f29079 1x" loading="lazy"></a><br>
<code>Animator</code> のプロパティに <code>Controller</code> を設定する部分がありますので、ここに <code>Animation Controller</code> を設定します。</p>

<p>UnityChan/Animators の中にサンプルのAnimation Controllerがいくつか入っているのですが、今回使いたい用途に合うものがありませんので、新しく作ってしまいます。</p>

<p>Assets/Animators ディレクトリを作成し、その中に右クリックメニュー -&gt; Create -&gt; Animator Controller でAnimator Controllerを新規作成します。<br>
<a href="https://camo.qiitausercontent.com/7d6f5a92064f92a11f37948cac7b054affc525ea/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393230382d33656366353530302d626638392d313165382d386532312d3266356466633861326130312e6a7067" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929208-3ecf5500-bf89-11e8-8e21-2f5dfc8a2a01.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=7e7ed471dea542779b0a46f2393ca992" alt="clipboard04" data-canonical-src="https://user-images.githubusercontent.com/8291395/45929208-3ecf5500-bf89-11e8-8e21-2f5dfc8a2a01.jpg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929208-3ecf5500-bf89-11e8-8e21-2f5dfc8a2a01.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=5e2479514cfb52354a45675c36698e56 1x" loading="lazy"></a><br>
名前は JumpAnimator としましたが、ここは自分がわかれば何でも大丈夫です。<br>
<a href="https://camo.qiitausercontent.com/d38164a106719d888c6e48ff381e2468d8eee3cf/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393231302d34633834646138302d626638392d313165382d383139652d3763643438326139626333342e6a7067" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929210-4c84da80-bf89-11e8-819e-7cd482a9bc34.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=252fdc3a36f0f6a024fb445a893ffe16" alt="clipboard05" data-canonical-src="https://user-images.githubusercontent.com/8291395/45929210-4c84da80-bf89-11e8-819e-7cd482a9bc34.jpg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929210-4c84da80-bf89-11e8-819e-7cd482a9bc34.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=3d58493a18f330a812839be8e7ff8156 1x" loading="lazy"></a><br>
作った JumpAnimator をAnimatorにアタッチします。<br>
<a href="https://camo.qiitausercontent.com/ab2a69467dd354d646fd702627fe0b74aac015a8/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393231312d35393039333330302d626638392d313165382d383533612d3731643037343837323565652e6a7067" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929211-59093300-bf89-11e8-853a-71d0748725ee.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=4dc82b69a746520bf8e3c9b94b4efe0e" alt="clipboard06" data-canonical-src="https://user-images.githubusercontent.com/8291395/45929211-59093300-bf89-11e8-853a-71d0748725ee.jpg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929211-59093300-bf89-11e8-853a-71d0748725ee.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=76b8364f6d53cc76419922b95b728e77 1x" loading="lazy"></a><br>
アタッチした Animator Controller は、Animator Windowで設定を行う必要があります。</p>

<p>Animator Windowが表示されていない方は、上部メニューの Window -&gt; Animation -&gt; Animator から表示できます。<br>
<a href="https://camo.qiitausercontent.com/091faae3a37a0b7b81ca759d74dedfd68bc423e1/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393232302d36383838376330302d626638392d313165382d383538382d3266393033633761333530632e6a7067" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929220-68887c00-bf89-11e8-8588-2f903c7a350c.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=7807fa5d395e9fa2672b6dd273f6e1af" alt="clipboard07" data-canonical-src="https://user-images.githubusercontent.com/8291395/45929220-68887c00-bf89-11e8-8588-2f903c7a350c.jpg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929220-68887c00-bf89-11e8-8588-2f903c7a350c.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=530e3d746d867122afd74bf43ef12a83 1x" loading="lazy"></a><br>
Animator Windowを表示して、JumpAnimator を選択すると、デフォルトの設定が表示されます。<br>
<a href="https://camo.qiitausercontent.com/99ebd5c01f8442a535f8dc456ab269487eb657d7/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393232352d37383037633530302d626638392d313165382d396231302d3162663431376663366433332e6a7067" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929225-7807c500-bf89-11e8-9b10-1bf417fc6d33.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d91355ad859cf93ecab07d829b619617" alt="clipboard08" data-canonical-src="https://user-images.githubusercontent.com/8291395/45929225-7807c500-bf89-11e8-9b10-1bf417fc6d33.jpg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929225-7807c500-bf89-11e8-9b10-1bf417fc6d33.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=36ac81521eb58c3f72bace737e15eb3a 1x" loading="lazy"></a><br>
このままでは動かないので、ジャンプ入力がない時（Idle状態）と、あった時（Jump状態）のステートを追加します。<br>
ステートを追加したら、Inspectorで名前を付けて整理しやすくします。<br>
<a href="https://camo.qiitausercontent.com/48d38d3cc79fdbe62f74416a3ed529022eeb31f9/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393232382d37646664613630302d626638392d313165382d393636342d6131366464643061623039652e6a7067" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929228-7dfda600-bf89-11e8-9664-a16ddd0ab09e.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=ae65d9dd46bbab0e3f599d986a68de64" alt="clipboard09" data-canonical-src="https://user-images.githubusercontent.com/8291395/45929228-7dfda600-bf89-11e8-9664-a16ddd0ab09e.jpg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929228-7dfda600-bf89-11e8-9664-a16ddd0ab09e.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=cea9c0a0f3e63d42c49559274a66e7bc 1x" loading="lazy"></a><br>
<a href="https://camo.qiitausercontent.com/d235aa9b39ac13433df87e637f66712c42030fdf/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393233382d62376365616338302d626638392d313165382d393139322d3231343138383562343965312e6a7067" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929238-b7ceac80-bf89-11e8-9192-2141885b49e1.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=c72e0c8e4e2518fb1ba7cba90de92011" alt="clipboard10" data-canonical-src="https://user-images.githubusercontent.com/8291395/45929238-b7ceac80-bf89-11e8-9192-2141885b49e1.jpg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929238-b7ceac80-bf89-11e8-9192-2141885b49e1.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=f16188e58c19787b62d7379238e833c3 1x" loading="lazy"></a><br>
Jumpステートを選択すると、InspectorにMotionの欄があります。<br>
さきほど場所を確認したユニティちゃんのジャンプアニメーションをここにアタッチします。<br>
<a href="https://camo.qiitausercontent.com/8e28b6f3be18ddfff1d4ff4191c1f0c0ec081a2c/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393234372d64353033376230302d626638392d313165382d383230372d3035643039633263383235302e6a7067" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929247-d5037b00-bf89-11e8-8207-05d09c2c8250.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=5f390ae76f17d26ff3078a9c4a65b8d3" alt="clipboard18" data-canonical-src="https://user-images.githubusercontent.com/8291395/45929247-d5037b00-bf89-11e8-8207-05d09c2c8250.jpg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929247-d5037b00-bf89-11e8-8207-05d09c2c8250.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=79e5b7b89c8ad791b809597a4f28ae14 1x" loading="lazy"></a><br>
また、Idleのほうも UnityChan/Animations/unitychan_WAIT00 に WAIT00 があるので、これを設定します。<br>
<a href="https://camo.qiitausercontent.com/fa595df978dd063d0c7c1b8d7e4d809160fb2b9e/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393234382d64613630633538302d626638392d313165382d383963332d3663363539396638373031622e6a7067" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929248-da60c580-bf89-11e8-89c3-6c6599f8701b.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=cac95dbb43450195512e6ecd6f46515a" alt="clipboard19" data-canonical-src="https://user-images.githubusercontent.com/8291395/45929248-da60c580-bf89-11e8-89c3-6c6599f8701b.jpg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929248-da60c580-bf89-11e8-89c3-6c6599f8701b.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=5c8d2432d88da69bdf1bc835c14b2083 1x" loading="lazy"></a><br>
ステートは、Entryから始まってExitで終わるのが基本ですが、今回はゲーム再生中はずっと入力を受け付けてジャンプアニメーションが起こって欲しいので、Exitは使用しません。</p>

<p>先に作ったIdleにEntryからトランジションが接続されていると思いますが、これがステートの変遷を表します。<br>
<a href="https://camo.qiitausercontent.com/d235aa9b39ac13433df87e637f66712c42030fdf/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393233382d62376365616338302d626638392d313165382d393139322d3231343138383562343965312e6a7067" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929238-b7ceac80-bf89-11e8-9192-2141885b49e1.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=c72e0c8e4e2518fb1ba7cba90de92011" alt="clipboard10" data-canonical-src="https://user-images.githubusercontent.com/8291395/45929238-b7ceac80-bf89-11e8-9192-2141885b49e1.jpg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929238-b7ceac80-bf89-11e8-9192-2141885b49e1.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=f16188e58c19787b62d7379238e833c3 1x" loading="lazy"></a><br>
Idleを右クリックして Make Transition を選択、矢印が引っ張れるようになるので、Jumpを選択して接続します。<br>
Jumpが終わったらIdleに帰ってきて欲しいので、逆方向にも同じように接続します。<br>
<a href="https://camo.qiitausercontent.com/f2c88183d066073fc31b7b44d91f5b9817ec108b/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393235382d30346232383330302d626638612d313165382d393139612d3636313730386539306165342e6a7067" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929258-04b28300-bf8a-11e8-919a-661708e90ae4.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=96ccc2c859dbdc6d21cc8e0b77fd6207" alt="clipboard11" data-canonical-src="https://user-images.githubusercontent.com/8291395/45929258-04b28300-bf8a-11e8-919a-661708e90ae4.jpg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929258-04b28300-bf8a-11e8-919a-661708e90ae4.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=b6013dba1a7d283ea99c7eeb448e28c2 1x" loading="lazy"></a><br>
接続完了ですが、これだと無条件で遷移することになってしまうので、遷移するための条件付けを行います。</p>

<p>Animator Windowの左側をParametersタブを表示して、＋マークをクリック、Boolを選択します。<br>
<a href="https://camo.qiitausercontent.com/9115a32ae8def8264ed3ad3a82ace0e17a2a2ab0/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393236362d32643361376430302d626638612d313165382d393833612d6532336233613561303836642e6a7067" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929266-2d3a7d00-bf8a-11e8-983a-e23b3a5a086d.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=e7d14406855df71eebfe9dd03c69cc09" alt="clipboard12" data-canonical-src="https://user-images.githubusercontent.com/8291395/45929266-2d3a7d00-bf8a-11e8-983a-e23b3a5a086d.jpg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929266-2d3a7d00-bf8a-11e8-983a-e23b3a5a086d.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=882da8a75dfea260528fcd512e81e7fb 1x" loading="lazy"></a><br>
Float、Intはそれぞれ数値が一致したときや不一致の時、上回った時、下回った時なんかに状態が遷移するように出来て、BoolはTrueになった時またはFalseになった時に状態を遷移出来るようにします。<br>
Triggerはちょっと毛色が違って、一瞬だけONになりすぐにOFFになる性質があります。</p>

<p>今回はBoolを2つ追加し、それぞれIdle、Jumpと名付けます。</p>

<p>それからトランジションの矢印を選択して、InspectorのConditionsの＋マークを押します。<br>
<a href="https://camo.qiitausercontent.com/0097c612ad5427915c86198d45554d0aec5fdd72/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393236392d34356161393738302d626638612d313165382d383061352d6439323461326463376131382e6a7067" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929269-45aa9780-bf8a-11e8-80a5-d924a2dc7a18.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=bb27580fa7f26c641d4182361bd3a8f4" alt="clipboard14" data-canonical-src="https://user-images.githubusercontent.com/8291395/45929269-45aa9780-bf8a-11e8-80a5-d924a2dc7a18.jpg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929269-45aa9780-bf8a-11e8-80a5-d924a2dc7a18.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=99ff639e7a6c9058f42f2afd8ff82b29 1x" loading="lazy"></a><br>
<a href="https://camo.qiitausercontent.com/575f280e94e74f36f9a0394ca86177273372ad19/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393331332d63656331636538302d626638612d313165382d383361652d3637303435333861323536312e6a7067" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929313-cec1ce80-bf8a-11e8-83ae-6704538a2561.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=cb515e2004fb87c4785ea61a9370d299" alt="clipboard15" data-canonical-src="https://user-images.githubusercontent.com/8291395/45929313-cec1ce80-bf8a-11e8-83ae-6704538a2561.jpg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929313-cec1ce80-bf8a-11e8-83ae-6704538a2561.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=d298c13867d1235b7a20ee0a1a6332c8 1x" loading="lazy"></a><br>
Parametersのリストの先頭のアイテムが自動で選択されていますが、これを、<br>
Idleの状態の時にJumpのtrueが来たらJump状態に、Jump状態の時にIdleのtrueが来たらIdle状態に戻る、としたいので、IdleからJumpへの矢印は <code>Jump, true</code> を、JumpからIdleへの矢印は <code>Idle, true</code> を、それぞれ選択します。<br>
<a href="https://camo.qiitausercontent.com/f940140d5556ba4860786a0ffc0185cf603480fc/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393331352d64363831373330302d626638612d313165382d393462312d3333343038343938353162352e6a7067" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929315-d6817300-bf8a-11e8-94b1-3340849851b5.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=6cd5517dd19a86f81eb57580960603cc" alt="clipboard16" data-canonical-src="https://user-images.githubusercontent.com/8291395/45929315-d6817300-bf8a-11e8-94b1-3340849851b5.jpg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929315-d6817300-bf8a-11e8-94b1-3340849851b5.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=514da414734cc9929e381d0a3b853d8b 1x" loading="lazy"></a><br>
<a href="https://camo.qiitausercontent.com/6e0ac1b1462c4d3ba01cbb85569216ef2d787458/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393331372d64643066656138302d626638612d313165382d396134652d3739613662666637393633372e6a7067" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929317-dd0fea80-bf8a-11e8-9a4e-79a6bff79637.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=111b1752ce6dc538ff1a5ce81fb78bb7" alt="clipboard17" data-canonical-src="https://user-images.githubusercontent.com/8291395/45929317-dd0fea80-bf8a-11e8-9a4e-79a6bff79637.jpg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929317-dd0fea80-bf8a-11e8-9a4e-79a6bff79637.jpg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=9d9ffee5570a1045b236172a5eeab075 1x" loading="lazy"></a><br>
これで、Animation Controllerの設定は一通り終わりました。<br>
あとはコードからAnimator.SetBoolを発行すれば、それぞれの条件にあった状態遷移が行われます。</p>

<h2>
<span id="コード" class="fragment"></span><a href="#%E3%82%B3%E3%83%BC%E3%83%89"><i class="fa fa-link"></i></a>コード</h2>

<div class="code-frame" data-lang="cs">
<div class="code-lang"><span class="bold">PlayerController.cs</span></div>
<div class="highlight"><pre class="with-code"><code></code></pre></div>
</div>

<div class="code-frame" data-lang="cs"><div class="highlight"><pre class="with-code"><code><span class="c1">//（前略）</span>

    <span class="c1">///&lt;summery&gt;</span>
    <span class="c1">///    ジャンプ処理に使用するRigidbody</span>
    <span class="c1">///&lt;/summery&gt;</span>
    <span class="k">private</span> <span class="n">Rigidbody</span> <span class="n">_rigidBody</span><span class="p">;</span>

    <span class="c1">///&lt;summery&gt;</span>
    <span class="c1">///    ジャンプアニメーションを担当するAnimator</span>
    <span class="c1">///&lt;/summery&gt;</span>
    <span class="k">private</span> <span class="n">Animator</span> <span class="n">_animator</span><span class="p">;</span>    <span class="c1">// &lt;- 追加</span>


    <span class="c1">///&lt;summery&gt;</span>
    <span class="c1">///    Start()</span>
    <span class="c1">///&lt;/summery&gt;</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">Start</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">_rigidBody</span> <span class="p">=</span> <span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Rigidbody</span><span class="p">&gt;();</span>
        <span class="n">_animator</span> <span class="p">=</span> <span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Animator</span><span class="p">&gt;();</span>    <span class="c1">// &lt;- 追加</span>
    <span class="p">}</span>

    <span class="c1">///&lt;summery&gt;</span>
    <span class="c1">///    Update()</span>
    <span class="c1">///&lt;/summery&gt;</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">Update</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// 接地判定して着地していたら着地処理</span>
        <span class="nf">CheckGroundDistance</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
            <span class="n">_jumpInput</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
            <span class="n">_isJumping</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
            <span class="n">_animator</span><span class="p">.</span><span class="nf">SetBool</span><span class="p">(</span><span class="s">"Idle"</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>    <span class="c1">// &lt;- 追加</span>
            <span class="n">_animator</span><span class="p">.</span><span class="nf">SetBool</span><span class="p">(</span><span class="s">"Jump"</span><span class="p">,</span> <span class="k">false</span><span class="p">);</span>    <span class="c1">// &lt;- 追加</span>
        <span class="p">});</span>

        <span class="c1">// 既にジャンプ入力が行われていたら、ジャンプ入力チェックを飛ばす</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">_jumpInput</span> <span class="p">||</span> <span class="nf">JumpInput</span><span class="p">())</span> <span class="n">_jumpInput</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">///&lt;summery&gt;</span>
    <span class="c1">///    FixedUpdate()</span>
    <span class="c1">///&lt;/summery&gt;</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">FixedUpdate</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// ジャンプ判定</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">_jumpInput</span> <span class="p">&amp;&amp;</span> <span class="p">!</span><span class="n">_isJumping</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// ジャンプ処理</span>
            <span class="n">_isJumping</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
            <span class="nf">DoJump</span><span class="p">();</span>
            <span class="n">_animator</span><span class="p">.</span><span class="nf">SetBool</span><span class="p">(</span><span class="s">"Jump"</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>    <span class="c1">// &lt;- 追加</span>
            <span class="n">_animator</span><span class="p">.</span><span class="nf">SetBool</span><span class="p">(</span><span class="s">"Idle"</span><span class="p">,</span> <span class="k">false</span><span class="p">);</span>    <span class="c1">// &lt;- 追加</span>
        <span class="p">}</span>
    <span class="p">}</span>

<span class="c1">//（後略）</span>
</code></pre></div></div>

<p>略した部分は<a href="https://qiita.com/mkgask/items/6d04d0be13cc0b14d4fb">前回記事</a>をご確認ください。<br>
追加したのは3箇所のみです。</p>

<ul>
<li>Animatorコンポーネントの取得</li>
<li>ジャンプ処理が行われたらジャンプモーション開始（Animator.SetBool("Jump", true)）</li>
<li>着地したらアイドルモーションに戻る（Animator.SetBool("Idle", true)）</li>
</ul>

<p>次のモーションへ移る際に、今のモーションに入ってきた時のフラグをOFFしておかないと、自動では片付けてくれません。<br>
これを忘れると遷移条件が次々全部ONになって、状態を遷移しまくってしまい各状態のアニメーションが成立しなくなってしまいます。</p>

<p><code>Animator.parameters()</code> で遷移条件に使うParametersのリストが取得できるので、必要な設定だけを行い他の条件はデフォルトに戻すようなメソッドを用意するのもアリかもしれません。</p>

<h2>
<span id="実行" class="fragment"></span><a href="#%E5%AE%9F%E8%A1%8C"><i class="fa fa-link"></i></a>実行</h2>

<p><a href="https://camo.qiitausercontent.com/18bc4497979401b4b2d0c2c41ab2de765d565499/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393332352d66383761663538302d626638612d313165382d383532312d6664363936353966623031372e676966" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929325-f87af580-bf8a-11e8-8521-fd69659fb017.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=1782b6b201ba52df814361f96d811adf" alt="20" data-canonical-src="https://user-images.githubusercontent.com/8291395/45929325-f87af580-bf8a-11e8-8521-fd69659fb017.gif" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929325-f87af580-bf8a-11e8-8521-fd69659fb017.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=e61f5572d272b30a614a71eb48c9e15e 1x" loading="lazy"></a><br>
ジャンプアニメーションが起こるようになりました。</p>

<p>しかし、細かく見てみると、飛び上がってからジャンプアニメーションが開始されており、モーション開始とジャンプ開始のタイミングがズレています。</p>

<p>それに、定時間でアニメーションが終了してしまうため、ジャンプの強さを変えると着地のタイミングもズレているのが分かります。<br>
<a href="https://camo.qiitausercontent.com/1c913ab67e50c4aec4014482c3663870b2b9ced7/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393332392d30323034356438302d626638622d313165382d393464392d3662313034623563353534622e676966" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929329-02045d80-bf8b-11e8-94d9-6b104b5c554b.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=6f96453a1f72bd66b2900c09cf646610" alt="21" data-canonical-src="https://user-images.githubusercontent.com/8291395/45929329-02045d80-bf8b-11e8-94d9-6b104b5c554b.gif" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929329-02045d80-bf8b-11e8-94d9-6b104b5c554b.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=42031ad24a79b3a17a61291e2530e92f 1x" loading="lazy"></a><br>
簡単なジャンプアニメーションならこれでも十分なのですが、次回、ジャンプアニメーションのタイミングの調整と溜めて大ジャンプの記事が書ければと思います。</p>

<p>長くなってしまったので本記事はこれまで。</p>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2Fmkgask%2Fitems%2Fe660fc802b2ec994fb5f&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2Fmkgask%2Fitems%2Fe660fc802b2ec994fb5f&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/mkgask/items/e660fc802b2ec994fb5f/likers" class="css-1iupg5d">4</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">1</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/e660fc802b2ec994fb5f/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/mkgask/items/e660fc802b2ec994fb5f/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/mkgask/items/e660fc802b2ec994fb5f/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/mkgask/items/e660fc802b2ec994fb5f/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/mkgask/items/e660fc802b2ec994fb5f.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-134c0be9-c947-498a-98c9-076b79934d15">{"authorAnalyticsTrackingId":"UA-80285705-1","organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-32048e12-fb48-4e71-a1ba-98950ddf4192"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-32048e12-fb48-4e71-a1ba-98950ddf4192">{}</script>
      
<div id="LoginModal-react-component-134ed234-c697-4fe4-b372-30cfec7d3f7d"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-134ed234-c697-4fe4-b372-30cfec7d3f7d">{}</script>
      
<div id="StockModal-react-component-492e2092-5833-43c8-865e-78580aed7ac7"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-492e2092-5833-43c8-865e-78580aed7ac7">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;+xtZewTGCyKOBMT+BVwfskAyCfs/WT6gLqM5/G/E4bB8h/WKULpqjaWzVzxfcbfXgVK/ll6eGymjCX8et38F4A==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\n\u003ch1\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita.com/mkgask/items/6d04d0be13cc0b14d4fb\" id=\"reference-d9359dca207553c2f0c4\"\u003eUnity 3DでUpdateとFixedUpdate間のタイミングを考慮したジャンプ（基礎） - Qiita\u003c/a\u003e の続きです。\u003c/p\u003e\n\n\u003cp\u003e上記記事で作成したジャンプの基礎処理をベースに、ジャンプアニメーションを付けていきます。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"想定環境\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%83%B3%E5%AE%9A%E7%92%B0%E5%A2%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e想定環境\u003c/h1\u003e\n\n\u003cul\u003e\n\u003cli\u003eWindows 10\u003c/li\u003e\n\u003cli\u003eUnity 2018.2.9f1\u003c/li\u003e\n\u003cli\u003eプレイヤーキャラクターに \u003ca href=\"http://unity-chan.com/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eUnity Technologies Japanオリジナルキャラクター Unityちゃん\u003c/a\u003e を利用\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"ジャンプにアニメーションを追加\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B8%E3%83%A3%E3%83%B3%E3%83%97%E3%81%AB%E3%82%A2%E3%83%8B%E3%83%A1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E8%BF%BD%E5%8A%A0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eジャンプにアニメーションを追加\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita.com/mkgask/items/6d04d0be13cc0b14d4fb\"\u003e前回記事\u003c/a\u003e で作った基礎的なジャンプ処理に、まずはアニメーション一個をそのまま追加してみます。\u003c/p\u003e\n\n\u003cp\u003eユニティちゃんのアセットには、UnityChan/Animations/unitychan_JUMP00 の中の JUMP00 にジャンプアニメーションも入っているので、これを使わせていただきます。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/662a30513db13983712dc49263b3a21948b26c41/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393138322d66663038366438302d626638382d313165382d383465662d6362623637386565383561342e6a7067\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929182-ff086d80-bf88-11e8-84ef-cbb678ee85a4.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=0c227faed5cc1cad1197a146215092f3\" alt=\"clipboard01\" data-canonical-src=\"https://user-images.githubusercontent.com/8291395/45929182-ff086d80-bf88-11e8-84ef-cbb678ee85a4.jpg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929182-ff086d80-bf88-11e8-84ef-cbb678ee85a4.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=7ba86e0e546e34bf40484ca4628f82a3 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n\u003ccode\u003eAnimator\u003c/code\u003e の説明をしてから使いますので、今は場所の確認だけです。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"animation-controller-と-animator-と-animation-clip\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#animation-controller-%E3%81%A8-animator-%E3%81%A8-animation-clip\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAnimation Controller と Animator と Animation Clip\u003c/h2\u003e\n\n\u003cp\u003eUnityでアニメーションを行うには、モーションの再生/停止等を管理する \u003ccode\u003eAnimation Controller\u003c/code\u003e と、Animation ControllerとGameObjectとの橋渡しとなる \u003ccode\u003eAnimator\u003c/code\u003e と、実際のアニメーションのモーションひとつ分となる \u003ccode\u003eAnimation Clip\u003c/code\u003e の3つの要素が必要です。\u003c/p\u003e\n\n\u003cp\u003eまず \u003ccode\u003eAnimator\u003c/code\u003e は、\u003ccode\u003eGameObject\u003c/code\u003e に \u003ccode\u003eComponent\u003c/code\u003e としてアタッチ出来るので、Add Component から選択してアタッチします。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/c0ad28f47bc443379183092a7d14d29e990a6d1d/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393139332d31626134613538302d626638392d313165382d396164632d3332393165643439303835662e6a7067\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929193-1ba4a580-bf89-11e8-9adc-3291ed49085f.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c5703f64806d75b25ed19cc4fe609138\" alt=\"clipboard02\" data-canonical-src=\"https://user-images.githubusercontent.com/8291395/45929193-1ba4a580-bf89-11e8-9adc-3291ed49085f.jpg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929193-1ba4a580-bf89-11e8-9adc-3291ed49085f.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=619bd3f5ff6f77eb7ae3e1ccaa0d0e3b 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/7d0a6edf8da9060f2a06f953dc3d09be18e08ec3/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393139382d32613862353830302d626638392d313165382d396539362d6438663232336332626166312e6a7067\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929198-2a8b5800-bf89-11e8-9e96-d8f223c2baf1.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=8769f3c23920f200ee7d6f837abc1b59\" alt=\"clipboard03\" data-canonical-src=\"https://user-images.githubusercontent.com/8291395/45929198-2a8b5800-bf89-11e8-9e96-d8f223c2baf1.jpg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929198-2a8b5800-bf89-11e8-9e96-d8f223c2baf1.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=5eb9c37b2c9b03937df0f0b3c5f29079 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n\u003ccode\u003eAnimator\u003c/code\u003e のプロパティに \u003ccode\u003eController\u003c/code\u003e を設定する部分がありますので、ここに \u003ccode\u003eAnimation Controller\u003c/code\u003e を設定します。\u003c/p\u003e\n\n\u003cp\u003eUnityChan/Animators の中にサンプルのAnimation Controllerがいくつか入っているのですが、今回使いたい用途に合うものがありませんので、新しく作ってしまいます。\u003c/p\u003e\n\n\u003cp\u003eAssets/Animators ディレクトリを作成し、その中に右クリックメニュー -\u0026gt; Create -\u0026gt; Animator Controller でAnimator Controllerを新規作成します。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/7d6f5a92064f92a11f37948cac7b054affc525ea/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393230382d33656366353530302d626638392d313165382d386532312d3266356466633861326130312e6a7067\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929208-3ecf5500-bf89-11e8-8e21-2f5dfc8a2a01.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7e7ed471dea542779b0a46f2393ca992\" alt=\"clipboard04\" data-canonical-src=\"https://user-images.githubusercontent.com/8291395/45929208-3ecf5500-bf89-11e8-8e21-2f5dfc8a2a01.jpg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929208-3ecf5500-bf89-11e8-8e21-2f5dfc8a2a01.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=5e2479514cfb52354a45675c36698e56 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n名前は JumpAnimator としましたが、ここは自分がわかれば何でも大丈夫です。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/d38164a106719d888c6e48ff381e2468d8eee3cf/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393231302d34633834646138302d626638392d313165382d383139652d3763643438326139626333342e6a7067\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929210-4c84da80-bf89-11e8-819e-7cd482a9bc34.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=252fdc3a36f0f6a024fb445a893ffe16\" alt=\"clipboard05\" data-canonical-src=\"https://user-images.githubusercontent.com/8291395/45929210-4c84da80-bf89-11e8-819e-7cd482a9bc34.jpg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929210-4c84da80-bf89-11e8-819e-7cd482a9bc34.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=3d58493a18f330a812839be8e7ff8156 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n作った JumpAnimator をAnimatorにアタッチします。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/ab2a69467dd354d646fd702627fe0b74aac015a8/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393231312d35393039333330302d626638392d313165382d383533612d3731643037343837323565652e6a7067\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929211-59093300-bf89-11e8-853a-71d0748725ee.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4dc82b69a746520bf8e3c9b94b4efe0e\" alt=\"clipboard06\" data-canonical-src=\"https://user-images.githubusercontent.com/8291395/45929211-59093300-bf89-11e8-853a-71d0748725ee.jpg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929211-59093300-bf89-11e8-853a-71d0748725ee.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=76b8364f6d53cc76419922b95b728e77 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nアタッチした Animator Controller は、Animator Windowで設定を行う必要があります。\u003c/p\u003e\n\n\u003cp\u003eAnimator Windowが表示されていない方は、上部メニューの Window -\u0026gt; Animation -\u0026gt; Animator から表示できます。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/091faae3a37a0b7b81ca759d74dedfd68bc423e1/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393232302d36383838376330302d626638392d313165382d383538382d3266393033633761333530632e6a7067\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929220-68887c00-bf89-11e8-8588-2f903c7a350c.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7807fa5d395e9fa2672b6dd273f6e1af\" alt=\"clipboard07\" data-canonical-src=\"https://user-images.githubusercontent.com/8291395/45929220-68887c00-bf89-11e8-8588-2f903c7a350c.jpg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929220-68887c00-bf89-11e8-8588-2f903c7a350c.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=530e3d746d867122afd74bf43ef12a83 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nAnimator Windowを表示して、JumpAnimator を選択すると、デフォルトの設定が表示されます。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/99ebd5c01f8442a535f8dc456ab269487eb657d7/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393232352d37383037633530302d626638392d313165382d396231302d3162663431376663366433332e6a7067\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929225-7807c500-bf89-11e8-9b10-1bf417fc6d33.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d91355ad859cf93ecab07d829b619617\" alt=\"clipboard08\" data-canonical-src=\"https://user-images.githubusercontent.com/8291395/45929225-7807c500-bf89-11e8-9b10-1bf417fc6d33.jpg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929225-7807c500-bf89-11e8-9b10-1bf417fc6d33.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=36ac81521eb58c3f72bace737e15eb3a 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nこのままでは動かないので、ジャンプ入力がない時（Idle状態）と、あった時（Jump状態）のステートを追加します。\u003cbr\u003e\nステートを追加したら、Inspectorで名前を付けて整理しやすくします。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/48d38d3cc79fdbe62f74416a3ed529022eeb31f9/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393232382d37646664613630302d626638392d313165382d393636342d6131366464643061623039652e6a7067\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929228-7dfda600-bf89-11e8-9664-a16ddd0ab09e.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ae65d9dd46bbab0e3f599d986a68de64\" alt=\"clipboard09\" data-canonical-src=\"https://user-images.githubusercontent.com/8291395/45929228-7dfda600-bf89-11e8-9664-a16ddd0ab09e.jpg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929228-7dfda600-bf89-11e8-9664-a16ddd0ab09e.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=cea9c0a0f3e63d42c49559274a66e7bc 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/d235aa9b39ac13433df87e637f66712c42030fdf/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393233382d62376365616338302d626638392d313165382d393139322d3231343138383562343965312e6a7067\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929238-b7ceac80-bf89-11e8-9192-2141885b49e1.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c72e0c8e4e2518fb1ba7cba90de92011\" alt=\"clipboard10\" data-canonical-src=\"https://user-images.githubusercontent.com/8291395/45929238-b7ceac80-bf89-11e8-9192-2141885b49e1.jpg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929238-b7ceac80-bf89-11e8-9192-2141885b49e1.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=f16188e58c19787b62d7379238e833c3 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nJumpステートを選択すると、InspectorにMotionの欄があります。\u003cbr\u003e\nさきほど場所を確認したユニティちゃんのジャンプアニメーションをここにアタッチします。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/8e28b6f3be18ddfff1d4ff4191c1f0c0ec081a2c/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393234372d64353033376230302d626638392d313165382d383230372d3035643039633263383235302e6a7067\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929247-d5037b00-bf89-11e8-8207-05d09c2c8250.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5f390ae76f17d26ff3078a9c4a65b8d3\" alt=\"clipboard18\" data-canonical-src=\"https://user-images.githubusercontent.com/8291395/45929247-d5037b00-bf89-11e8-8207-05d09c2c8250.jpg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929247-d5037b00-bf89-11e8-8207-05d09c2c8250.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=79e5b7b89c8ad791b809597a4f28ae14 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nまた、Idleのほうも UnityChan/Animations/unitychan_WAIT00 に WAIT00 があるので、これを設定します。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/fa595df978dd063d0c7c1b8d7e4d809160fb2b9e/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393234382d64613630633538302d626638392d313165382d383963332d3663363539396638373031622e6a7067\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929248-da60c580-bf89-11e8-89c3-6c6599f8701b.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=cac95dbb43450195512e6ecd6f46515a\" alt=\"clipboard19\" data-canonical-src=\"https://user-images.githubusercontent.com/8291395/45929248-da60c580-bf89-11e8-89c3-6c6599f8701b.jpg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929248-da60c580-bf89-11e8-89c3-6c6599f8701b.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=5c8d2432d88da69bdf1bc835c14b2083 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nステートは、Entryから始まってExitで終わるのが基本ですが、今回はゲーム再生中はずっと入力を受け付けてジャンプアニメーションが起こって欲しいので、Exitは使用しません。\u003c/p\u003e\n\n\u003cp\u003e先に作ったIdleにEntryからトランジションが接続されていると思いますが、これがステートの変遷を表します。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/d235aa9b39ac13433df87e637f66712c42030fdf/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393233382d62376365616338302d626638392d313165382d393139322d3231343138383562343965312e6a7067\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929238-b7ceac80-bf89-11e8-9192-2141885b49e1.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c72e0c8e4e2518fb1ba7cba90de92011\" alt=\"clipboard10\" data-canonical-src=\"https://user-images.githubusercontent.com/8291395/45929238-b7ceac80-bf89-11e8-9192-2141885b49e1.jpg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929238-b7ceac80-bf89-11e8-9192-2141885b49e1.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=f16188e58c19787b62d7379238e833c3 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nIdleを右クリックして Make Transition を選択、矢印が引っ張れるようになるので、Jumpを選択して接続します。\u003cbr\u003e\nJumpが終わったらIdleに帰ってきて欲しいので、逆方向にも同じように接続します。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/f2c88183d066073fc31b7b44d91f5b9817ec108b/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393235382d30346232383330302d626638612d313165382d393139612d3636313730386539306165342e6a7067\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929258-04b28300-bf8a-11e8-919a-661708e90ae4.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=96ccc2c859dbdc6d21cc8e0b77fd6207\" alt=\"clipboard11\" data-canonical-src=\"https://user-images.githubusercontent.com/8291395/45929258-04b28300-bf8a-11e8-919a-661708e90ae4.jpg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929258-04b28300-bf8a-11e8-919a-661708e90ae4.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=b6013dba1a7d283ea99c7eeb448e28c2 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n接続完了ですが、これだと無条件で遷移することになってしまうので、遷移するための条件付けを行います。\u003c/p\u003e\n\n\u003cp\u003eAnimator Windowの左側をParametersタブを表示して、＋マークをクリック、Boolを選択します。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/9115a32ae8def8264ed3ad3a82ace0e17a2a2ab0/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393236362d32643361376430302d626638612d313165382d393833612d6532336233613561303836642e6a7067\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929266-2d3a7d00-bf8a-11e8-983a-e23b3a5a086d.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e7d14406855df71eebfe9dd03c69cc09\" alt=\"clipboard12\" data-canonical-src=\"https://user-images.githubusercontent.com/8291395/45929266-2d3a7d00-bf8a-11e8-983a-e23b3a5a086d.jpg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929266-2d3a7d00-bf8a-11e8-983a-e23b3a5a086d.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=882da8a75dfea260528fcd512e81e7fb 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nFloat、Intはそれぞれ数値が一致したときや不一致の時、上回った時、下回った時なんかに状態が遷移するように出来て、BoolはTrueになった時またはFalseになった時に状態を遷移出来るようにします。\u003cbr\u003e\nTriggerはちょっと毛色が違って、一瞬だけONになりすぐにOFFになる性質があります。\u003c/p\u003e\n\n\u003cp\u003e今回はBoolを2つ追加し、それぞれIdle、Jumpと名付けます。\u003c/p\u003e\n\n\u003cp\u003eそれからトランジションの矢印を選択して、InspectorのConditionsの＋マークを押します。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/0097c612ad5427915c86198d45554d0aec5fdd72/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393236392d34356161393738302d626638612d313165382d383061352d6439323461326463376131382e6a7067\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929269-45aa9780-bf8a-11e8-80a5-d924a2dc7a18.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=bb27580fa7f26c641d4182361bd3a8f4\" alt=\"clipboard14\" data-canonical-src=\"https://user-images.githubusercontent.com/8291395/45929269-45aa9780-bf8a-11e8-80a5-d924a2dc7a18.jpg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929269-45aa9780-bf8a-11e8-80a5-d924a2dc7a18.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=99ff639e7a6c9058f42f2afd8ff82b29 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/575f280e94e74f36f9a0394ca86177273372ad19/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393331332d63656331636538302d626638612d313165382d383361652d3637303435333861323536312e6a7067\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929313-cec1ce80-bf8a-11e8-83ae-6704538a2561.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=cb515e2004fb87c4785ea61a9370d299\" alt=\"clipboard15\" data-canonical-src=\"https://user-images.githubusercontent.com/8291395/45929313-cec1ce80-bf8a-11e8-83ae-6704538a2561.jpg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929313-cec1ce80-bf8a-11e8-83ae-6704538a2561.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=d298c13867d1235b7a20ee0a1a6332c8 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nParametersのリストの先頭のアイテムが自動で選択されていますが、これを、\u003cbr\u003e\nIdleの状態の時にJumpのtrueが来たらJump状態に、Jump状態の時にIdleのtrueが来たらIdle状態に戻る、としたいので、IdleからJumpへの矢印は \u003ccode\u003eJump, true\u003c/code\u003e を、JumpからIdleへの矢印は \u003ccode\u003eIdle, true\u003c/code\u003e を、それぞれ選択します。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/f940140d5556ba4860786a0ffc0185cf603480fc/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393331352d64363831373330302d626638612d313165382d393462312d3333343038343938353162352e6a7067\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929315-d6817300-bf8a-11e8-94b1-3340849851b5.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=6cd5517dd19a86f81eb57580960603cc\" alt=\"clipboard16\" data-canonical-src=\"https://user-images.githubusercontent.com/8291395/45929315-d6817300-bf8a-11e8-94b1-3340849851b5.jpg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929315-d6817300-bf8a-11e8-94b1-3340849851b5.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=514da414734cc9929e381d0a3b853d8b 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/6e0ac1b1462c4d3ba01cbb85569216ef2d787458/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393331372d64643066656138302d626638612d313165382d396134652d3739613662666637393633372e6a7067\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929317-dd0fea80-bf8a-11e8-9a4e-79a6bff79637.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=111b1752ce6dc538ff1a5ce81fb78bb7\" alt=\"clipboard17\" data-canonical-src=\"https://user-images.githubusercontent.com/8291395/45929317-dd0fea80-bf8a-11e8-9a4e-79a6bff79637.jpg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929317-dd0fea80-bf8a-11e8-9a4e-79a6bff79637.jpg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9d9ffee5570a1045b236172a5eeab075 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nこれで、Animation Controllerの設定は一通り終わりました。\u003cbr\u003e\nあとはコードからAnimator.SetBoolを発行すれば、それぞれの条件にあった状態遷移が行われます。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"コード\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B3%E3%83%BC%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eコード\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"cs\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ePlayerController.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"cs\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e//（前略）\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e///\u0026lt;summery\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e///    ジャンプ処理に使用するRigidbody\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e///\u0026lt;/summery\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eRigidbody\u003c/span\u003e \u003cspan class=\"n\"\u003e_rigidBody\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e///\u0026lt;summery\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e///    ジャンプアニメーションを担当するAnimator\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e///\u0026lt;/summery\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eAnimator\u003c/span\u003e \u003cspan class=\"n\"\u003e_animator\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e    \u003cspan class=\"c1\"\u003e// \u0026lt;- 追加\u003c/span\u003e\n\n\n    \u003cspan class=\"c1\"\u003e///\u0026lt;summery\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e///    Start()\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e///\u0026lt;/summery\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eStart\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003e_rigidBody\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eGetComponent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eRigidbody\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;();\u003c/span\u003e\n        \u003cspan class=\"n\"\u003e_animator\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eGetComponent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eAnimator\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;();\u003c/span\u003e    \u003cspan class=\"c1\"\u003e// \u0026lt;- 追加\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e///\u0026lt;summery\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e///    Update()\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e///\u0026lt;/summery\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eUpdate\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// 接地判定して着地していたら着地処理\u003c/span\u003e\n        \u003cspan class=\"nf\"\u003eCheckGroundDistance\u003c/span\u003e\u003cspan class=\"p\"\u003e(()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003e_jumpInput\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003e_isJumping\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003e_animator\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetBool\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Idle\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e    \u003cspan class=\"c1\"\u003e// \u0026lt;- 追加\u003c/span\u003e\n            \u003cspan class=\"n\"\u003e_animator\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetBool\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Jump\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e    \u003cspan class=\"c1\"\u003e// \u0026lt;- 追加\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e// 既にジャンプ入力が行われていたら、ジャンプ入力チェックを飛ばす\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003e_jumpInput\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"nf\"\u003eJumpInput\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e \u003cspan class=\"n\"\u003e_jumpInput\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e///\u0026lt;summery\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e///    FixedUpdate()\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e///\u0026lt;/summery\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eFixedUpdate\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// ジャンプ判定\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003e_jumpInput\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"p\"\u003e!\u003c/span\u003e\u003cspan class=\"n\"\u003e_isJumping\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// ジャンプ処理\u003c/span\u003e\n            \u003cspan class=\"n\"\u003e_isJumping\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eDoJump\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"n\"\u003e_animator\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetBool\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Jump\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e    \u003cspan class=\"c1\"\u003e// \u0026lt;- 追加\u003c/span\u003e\n            \u003cspan class=\"n\"\u003e_animator\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetBool\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Idle\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e    \u003cspan class=\"c1\"\u003e// \u0026lt;- 追加\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e//（後略）\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e略した部分は\u003ca href=\"https://qiita.com/mkgask/items/6d04d0be13cc0b14d4fb\"\u003e前回記事\u003c/a\u003eをご確認ください。\u003cbr\u003e\n追加したのは3箇所のみです。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eAnimatorコンポーネントの取得\u003c/li\u003e\n\u003cli\u003eジャンプ処理が行われたらジャンプモーション開始（Animator.SetBool(\"Jump\", true)）\u003c/li\u003e\n\u003cli\u003e着地したらアイドルモーションに戻る（Animator.SetBool(\"Idle\", true)）\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e次のモーションへ移る際に、今のモーションに入ってきた時のフラグをOFFしておかないと、自動では片付けてくれません。\u003cbr\u003e\nこれを忘れると遷移条件が次々全部ONになって、状態を遷移しまくってしまい各状態のアニメーションが成立しなくなってしまいます。\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003eAnimator.parameters()\u003c/code\u003e で遷移条件に使うParametersのリストが取得できるので、必要な設定だけを行い他の条件はデフォルトに戻すようなメソッドを用意するのもアリかもしれません。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"実行\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A1%8C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実行\u003c/h2\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/18bc4497979401b4b2d0c2c41ab2de765d565499/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393332352d66383761663538302d626638612d313165382d383532312d6664363936353966623031372e676966\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929325-f87af580-bf8a-11e8-8521-fd69659fb017.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=1782b6b201ba52df814361f96d811adf\" alt=\"20\" data-canonical-src=\"https://user-images.githubusercontent.com/8291395/45929325-f87af580-bf8a-11e8-8521-fd69659fb017.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929325-f87af580-bf8a-11e8-8521-fd69659fb017.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e61f5572d272b30a614a71eb48c9e15e 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nジャンプアニメーションが起こるようになりました。\u003c/p\u003e\n\n\u003cp\u003eしかし、細かく見てみると、飛び上がってからジャンプアニメーションが開始されており、モーション開始とジャンプ開始のタイミングがズレています。\u003c/p\u003e\n\n\u003cp\u003eそれに、定時間でアニメーションが終了してしまうため、ジャンプの強さを変えると着地のタイミングもズレているのが分かります。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/1c913ab67e50c4aec4014482c3663870b2b9ced7/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f383239313339352f34353932393332392d30323034356438302d626638622d313165382d393464392d3662313034623563353534622e676966\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929329-02045d80-bf8b-11e8-94d9-6b104b5c554b.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=6f96453a1f72bd66b2900c09cf646610\" alt=\"21\" data-canonical-src=\"https://user-images.githubusercontent.com/8291395/45929329-02045d80-bf8b-11e8-94d9-6b104b5c554b.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fuser-images.githubusercontent.com%2F8291395%2F45929329-02045d80-bf8b-11e8-94d9-6b104b5c554b.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=42031ad24a79b3a17a61291e2530e92f 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n簡単なジャンプアニメーションならこれでも十分なのですが、次回、ジャンプアニメーションのタイミングの調整と溜めて大ジャンプの記事が書ければと思います。\u003c/p\u003e\n\n\u003cp\u003e長くなってしまったので本記事はこれまで。\u003c/p\u003e\n","createdAt":"2018-09-23T14:49:18Z","elapsedYearsFromLastModifiedAt":2,"encryptedId":"YbrxrKje4z6P+tf3qnAujN9Op6QxHrpx--Y9AqEdfaOEPeKw3l--65FdyGy95g1M9/sJqMh2FQ==","isBanned":false,"isDeprecated":true,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2018-09-23T14:53:13Z","likesCount":4,"linkUrl":"https://qiita.com/mkgask/items/e660fc802b2ec994fb5f","organization":null,"originalId":697215,"stockedCount":1,"title":"Unity 3Dでアニメーションを考慮したジャンプ その1（単アニメーション）","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003eはじめに\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%83%B3%E5%AE%9A%E7%92%B0%E5%A2%83\"\u003e想定環境\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%B8%E3%83%A3%E3%83%B3%E3%83%97%E3%81%AB%E3%82%A2%E3%83%8B%E3%83%A1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E8%BF%BD%E5%8A%A0\"\u003eジャンプにアニメーションを追加\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#animation-controller-%E3%81%A8-animator-%E3%81%A8-animation-clip\"\u003eAnimation Controller と Animator と Animation Clip\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%B3%E3%83%BC%E3%83%89\"\u003eコード\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%AE%9F%E8%A1%8C\"\u003e実行\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","totalPv":6004,"uuid":"e660fc802b2ec994fb5f","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"3DB3RCNXdaNMIhEmu87pYlTAFpc=--Thy2mAU/Sx0fKi7+--D8AbrUvLN+Mlykia/70o0w==","originalId":72594,"description":"業務ではPHP触りつつ趣味ではUnity C#とPythonで遊んでいます。\r\n何か色々やってるのでフォローにはご注意くださいヾ( ╹◡╹)ﾉﾞ ","facebookUrl":null,"githubUrl":"https://github.com/mkgask","isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"","profileImageUrl":"https://qiita-image-store.s3.amazonaws.com/0/72594/profile-images/1473699207","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F72594%2Fprofile-images%2F1473699207?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=b910d5ec1b2769448a88f943d3cd0763","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F72594%2Fprofile-images%2F1473699207?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=13e12b10c92fd48268dbffad96bda4d6","urlName":"mkgask","websiteUrl":"http://zsw.jp","twitterUrl":"https://twitter.com/mkgask","twitterUrlName":"mkgask","revealedOrganizations":{"edges":[]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"Unity","urlName":"unity"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
