More than 1 year has passed since last update.XamarinもAndroidも初めてで、両方の知識が必要なCustomRendererを作成するのに手こずったので書き残しました。
冗長な書き方や間違いがある可能性が高いです。※CustomRendererはPCL側のXamlで実装できない、できたけど速度が遅い。みたいなときに各プラットフォームごとの固有の書き方をすることで改善することができる機能。（今回はAndroidなのでC#、xmlで実装していきます）※私のnamespaceやプロジェクト名は自分のものに置き換えてくださいPCLとXamarin.Androidを紐づけるためのクラスを用意します。PCLCustomGridViewRenderer.cs↑
ItemsViewは配列を受け取るための抽象クラス。継承してやることでXamlからPCLCustomGridViewRendererに対して配列を渡すことができる。(配列はそのままAndroid側の実装で扱えます)XamlからPCLCustomGridViewRendererを呼び出します。※PCLCustomGridViewRendererが見つからないエラーが出る場合はプロジェクトをリビルドしてみてください。ちなみにItems内のデータ構成はObservableCollectionになっています。PCL側の実装は以上です。3つほどクラスファイルを用意します。
1.Android側で配列を受け取りGridViewを生成するクラス。
2.Androidの世界で出てくるAdpterクラス。データとxmlを紐づけるためのクラス。
3.GridView内に配置する要素のxmlファイル1.AndroidCustomGridViewRenderer.cs
エラー線が出る箇所がありますが、進めていく際に治るので、一旦無視してください。2.AndroidCustomGridViewAdapter.cs3.custom_gridview_item.xml
Resources/layoutフォルダに配置して下さい。まだエラー線が出ている箇所があると思うので定義を追加します。
Resources/values/styles.xmlのresourcesタグの中に以下を追加しますビルドしてみてください。もしプロジェクトの実行の際に以下のエラーが出た場合MyProject.AndroidプロジェクトのMainActivity.csに１行追加してください今回はただテキストを表示するだけでしたが、Itemクラスを拡張したり、xmlを変えたりすることで自由な表現ができると思います。Xamarin Android 各要素の高さが定まっていないGridViewのCustomRenderer作成


