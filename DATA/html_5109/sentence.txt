More than 3 years have passed since last update.System.IO.Directory.EnumerateFiles メソッドは、引数にSearchOption.AllDirectories を指定すると、指定したディレクトリの内部にあるファイルをサブディレクトリを含めて検索して返してくれて便利です。
しかし、ディレクトリ内部にフォルダ一覧化のアクセス権がないディレクトリがあると、System.UnauthorizedAccessExceptionSystem.例外が発生してしまいます。自前でEnumerateFilesメソッドを作成してみました。
自分で階層を探ります。IEnumerable&lt;string&gt; 型で返し、GetFilesメソッドのように全部走査し終わるまで待たされることもありません。


