More than 1 year has passed since last update.ExceptionクラスのToString()は以下を出力する。このため、発生した例外をログに出力する場合、自分で各プロパティの内容を出力するより、ToString()の内容をそのまま出力したほうが楽だ。便利な機能があるということは、その機能を活用する人がいるということだ。
Exceptionクラスの持つ上記の機能を、その拡張クラスから取り除いてはならない。この機能を取り除くという誤りは、「独自プロパティを持たせたカスタム例外」を作成したときによくおきる。
ToString()メソッドに独自プロパティの値を出力する機能を追加したばかりに、内部例外やスタックトレースの内容を出力する機能が取り払われたりする。
クラス名とメッセージだけのログを受け取っても、おそらく、問題の特定はできないだろう。また、この機能を取り払わないよう、自分のToString()から基底クラスの同メソッドをコールし、これに追加する形で独自プロパティの内容を出力しようとしても、理想的な結果にはならない。内部例外やスタックトレースの内容のあとに、独自プロパティの内容が出力されることになる。これでは最良の書式とは言えない。実行結果この例ではスタックトレースは1行しかないが、10行20行と膨れあがる場合があることを想像してほしい。独自プロパティを持つ例外クラスを定義したなら、Messageプロパティの内容をオーバーライドし、そこでプロパティの値を出力しよう。このMessageプロパティがToString()メソッドから参照されるため、独自プロパティの内容が例外クラスの名前と元のメッセージの後、内部例外とスタックトレースの前に出力されるようになる。
書式として前の例よりも良いものになった。もう、ToString()をオーバーライドする必要はない。実行結果ここで示したのはあくまで簡略化したコードである。
ほとんどの例外クラスは引数のないコンストラクタを持つので、独自プロパティは値を持たない場合がある。実際のコードでは、この点も考慮に入れて欲しい。Exceptionクラスやシステム例外系クラスのソースコード
https://referencesource.microsoft.com/「運用者が困る例外処理の書き方」の@banban525さんのコメント
https://qiita.com/tokishirazu/items/b510ebfdb7ff089fe44c#comment-6415deea1aeefa6b3b13


