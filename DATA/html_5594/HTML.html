<!DOCTYPE html><html><head><meta charset="utf-8" /><title>C#　状態遷移定義クラス - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/visyeii/items/edcd67d6e87773aec779" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="MRqA4C3m8bzGnncXFHzw2nbIcfaymCvbMT7kjyvCizedCg32k9BxXPihVPuWzWu5dw6Uiwnndn4xDRxVZjo3/w==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta content="@visyeii" name="twitter:creator" /><meta property="og:type" content="article"><meta property="og:title" content="C#　状態遷移定義クラス - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1ReVBqZ0lEbmlyYm1oWXZwZ2JmbnA3dmxycHJudnFuamdxX2pnNm5qZ3JrJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NTQmdHh0LWNsaXA9ZWxsaXBzaXMmdHh0LWFsaWduPWNlbnRlciUyQ21pZGRsZSZzPTdiZGQ5NTU0MjkwMDE2YTRkMTNkMTQyZTcyODdjMzc4&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RSFpwYzNsbGFXayZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPWJhNTdmYWJkMDY4NjJkMDk4NzM4ZGZlZTFjYzY1YTVk&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=3b8b41575530eb2e4d479673f6720745"><meta property="og:description" content="

C#　状態遷移定義クラス


説明

StateVectorと言う名前で公開したクラスは、状態遷移関連の定義を簡素化し、集約するために作成しました。
https://github.com/visyeii/StateVector

..."><meta content="https://qiita.com/visyeii/items/edcd67d6e87773aec779" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,正規表現,DRY,状態遷移" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 1nzh4zz 38fzdi helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-1nzh4zz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 32px;background-color:#FBE69E;color:rgba(0,0,0,0.87);line-height:1.5;font-weight:600;}@media (max-width:770px){.css-1nzh4zz{padding:16px;}}.css-38fzdi{color:#CA832A;margin-right:4px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-ae479821-0d2c-49ec-8ac3-612000afae5a"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2Fvisyeii%2Fitems%2Fedcd67d6e87773aec779">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2Fvisyeii%2Fitems%2Fedcd67d6e87773aec779">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-ae479821-0d2c-49ec-8ac3-612000afae5a">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2018-01-17T23:01:50.000+09:00","dateModified":"2018-01-18T22:16:41.000+09:00","headline":"C#　状態遷移定義クラス","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1ReVBqZ0lEbmlyYm1oWXZwZ2JmbnA3dmxycHJudnFuamdxX2pnNm5qZ3JrJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NTQmdHh0LWNsaXA9ZWxsaXBzaXMmdHh0LWFsaWduPWNlbnRlciUyQ21pZGRsZSZzPTdiZGQ5NTU0MjkwMDE2YTRkMTNkMTQyZTcyODdjMzc4\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RSFpwYzNsbGFXayZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPWJhNTdmYWJkMDY4NjJkMDk4NzM4ZGZlZTFjYzY1YTVk\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=3b8b41575530eb2e4d479673f6720745","mainEntityOfPage":"https://qiita.com/visyeii/items/edcd67d6e87773aec779","author":{"@type":"Person","address":"Nara, Japan","email":null,"identifier":"visyeii","name":"visyeii","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F125575%2Fprofile-images%2F1473716274?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=5a182af2bf1ea5ce2cfe63d3e9c0bac2","url":"https://qiita.com/visyeii","description":"組込み家電用に仕様書書いたり、コード書いたり、テストしたり","memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://zine.qiita.com/interview/202106-uzabase-3/">経済情報で世界を変えていけているユーザベースの可能性</a><a target="_blank" id="header_text_message_2" href="https://zine.qiita.com/interview/202106-uzabase-3/">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"visyeii","type":"items","id":"edcd67d6e87773aec779"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"経済情報で世界を変えていけているユーザベースの可能性","url":"https://zine.qiita.com/interview/202106-uzabase-3/","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"visyeii","type":"items","id":"edcd67d6e87773aec779"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":0,"pos_id":"header_text_message_1","message":"経済情報で世界を変えていけているユーザベースの可能性","url":"https://zine.qiita.com/interview/202106-uzabase-3/","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"visyeii","type":"items","id":"edcd67d6e87773aec779"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":0,"pos_id":"header_text_message_2","message":"経済情報で世界を変えていけているユーザベースの可能性","url":"https://zine.qiita.com/interview/202106-uzabase-3/","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/visyeii/items/edcd67d6e87773aec779","location":"/visyeii/items/edcd67d6e87773aec779","scheme":"https","host":"qiita.com","port":null,"pathname":"/visyeii/items/edcd67d6e87773aec779","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"sMH+iQPy7jXSwVj3XbPgV+0mUvzlUGs/B3Qlyxhc6wEc0XOfvcRu1ez+exvfAns07OC3gV4vNpoHR90RVaRXyQ==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-99a43840-538e-479d-8051-c274c0c2205e"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/visyeii/items/edcd67d6e87773aec779/likers" class="css-1iupg5d">2</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">2</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/edcd67d6e87773aec779/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/visyeii/items/edcd67d6e87773aec779/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/visyeii/items/edcd67d6e87773aec779/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/visyeii/items/edcd67d6e87773aec779/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/visyeii/items/edcd67d6e87773aec779.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-1nzh4zz"><span class="fa fa-fw fa-warning css-38fzdi"></span><p>More than 3 years have passed since last update.</p></div><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/visyeii"><img class="css-100alwu eyfquo10" src="https://qiita-image-store.s3.amazonaws.com/0/125575/profile-images/1473716274" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/visyeii" class="css-10ougpm">@<!-- -->visyeii</a><div class="css-1ay9vb9"><span><meta content="2018-01-17T14:01:50Z"/><time dateTime="2018-01-18T13:16:41Z" class="css-m19uds">updated at 2018-01-18</time></span></div></div></div></div></div><h1 class="css-cgzq40">C#　状態遷移定義クラス</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/%e6%ad%a3%e8%a6%8f%e8%a1%a8%e7%8f%be" class="css-4czcte">正規表現</a><a href="/tags/dry" class="css-4czcte">DRY</a><a href="/tags/%e7%8a%b6%e6%85%8b%e9%81%b7%e7%a7%bb" class="css-4czcte">状態遷移</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div>
<h1>
<span id="c状態遷移定義クラス" class="fragment"></span><a href="#c%E7%8A%B6%E6%85%8B%E9%81%B7%E7%A7%BB%E5%AE%9A%E7%BE%A9%E3%82%AF%E3%83%A9%E3%82%B9"><i class="fa fa-link"></i></a>C#　状態遷移定義クラス</h1>

<h2>
<span id="説明" class="fragment"></span><a href="#%E8%AA%AC%E6%98%8E"><i class="fa fa-link"></i></a>説明</h2>

<p>StateVectorと言う名前で公開したクラスは、状態遷移関連の定義を簡素化し、集約するために作成しました。<br>
<a href="https://github.com/visyeii/StateVector" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/visyeii/StateVector</a></p>

<p>定義はこんな感じです。<br>
<a href="https://github.com/visyeii/StateVector/blob/master/StateVector/StateVector/Form1.cs" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/visyeii/StateVector/blob/master/StateVector/StateVector/Form1.cs</a><br>
※<code>"() =&gt; {...}"</code>の箇所はラムダ式で定義した関数です。</p>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">Form1.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">using</span> <span class="nn">VE</span> <span class="p">=</span> <span class="n">VectorEvent</span><span class="p">;</span><span class="c1">//実際はnamespace直後に定義しています。</span>

<span class="n">StateVector</span> <span class="n">m_stateVector</span><span class="p">;</span>

<span class="k">private</span> <span class="k">void</span> <span class="nf">Form1_Load</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">EventArgs</span> <span class="n">e</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">VE</span><span class="p">[]</span> <span class="n">list</span> <span class="p">=</span> <span class="p">{</span>
        <span class="c1">//     直前の状態(head)      新しい状態(tail)           関数(func)</span>
        <span class="k">new</span> <span class="nf">VE</span><span class="p">(</span><span class="s">"init"</span><span class="p">,</span>              <span class="n">VE</span><span class="p">.</span><span class="nf">TailOr</span><span class="p">(</span><span class="s">"a"</span><span class="p">,</span> <span class="s">"b"</span><span class="p">,</span> <span class="s">"c"</span><span class="p">),</span>   <span class="n">InitState</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nf">SetLog</span><span class="p">(</span><span class="s">"!"</span><span class="p">);</span> <span class="p">}),</span>
        <span class="k">new</span> <span class="nf">VE</span><span class="p">(</span><span class="s">"a"</span><span class="p">,</span>                 <span class="s">"b"</span><span class="p">,</span>                        <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nf">SetLog</span><span class="p">(</span><span class="s">"a-&gt;b"</span><span class="p">);</span> <span class="p">}),</span>
        <span class="k">new</span> <span class="nf">VE</span><span class="p">(</span><span class="s">"b"</span><span class="p">,</span>                 <span class="s">"a"</span><span class="p">,</span>                        <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nf">SetLog</span><span class="p">(</span><span class="s">"b-&gt;a"</span><span class="p">);</span> <span class="p">}),</span>
        <span class="k">new</span> <span class="nf">VE</span><span class="p">(</span><span class="s">"a"</span><span class="p">,</span>                 <span class="s">"a"</span><span class="p">,</span>                        <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nf">SetLog</span><span class="p">(</span><span class="s">"a-&gt;a"</span><span class="p">);</span> <span class="p">}),</span>
        <span class="k">new</span> <span class="nf">VE</span><span class="p">(</span><span class="s">"b"</span><span class="p">,</span>                 <span class="s">"b"</span><span class="p">,</span>                        <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nf">SetLog</span><span class="p">(</span><span class="s">"b-&gt;b"</span><span class="p">);</span> <span class="p">}),</span>
        <span class="k">new</span> <span class="nf">VE</span><span class="p">(</span><span class="n">VE</span><span class="p">.</span><span class="nf">HeadOr</span><span class="p">(</span><span class="s">"a"</span><span class="p">,</span> <span class="s">"b"</span><span class="p">),</span> <span class="s">"c"</span><span class="p">,</span>                        <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nf">SetLog</span><span class="p">(</span><span class="s">"a|b-&gt;c"</span><span class="p">);</span> <span class="p">}),</span>
        <span class="k">new</span> <span class="nf">VE</span><span class="p">(</span><span class="s">"c"</span><span class="p">,</span>                 <span class="n">VE</span><span class="p">.</span><span class="nf">TailOr</span><span class="p">(</span><span class="s">"a"</span><span class="p">,</span> <span class="s">"b"</span><span class="p">),</span>        <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nf">SetLog</span><span class="p">(</span><span class="s">"c-&gt;a|b"</span><span class="p">);</span> <span class="p">})</span>
    <span class="p">};</span>

    <span class="n">m_stateVector</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StateVector</span><span class="p">(</span><span class="s">"init"</span><span class="p">,</span> <span class="n">list</span><span class="p">);</span><span class="c1">//初期状態、状態遷移の定義</span>
<span class="p">}</span>
</code></pre></div>
</div>

<h3>
<span id="動作" class="fragment"></span><a href="#%E5%8B%95%E4%BD%9C"><i class="fa fa-link"></i></a>動作</h3>

<p>m_stateVectorの持つ値が、<strong>直前の状態(head)</strong>から、<strong>新しい状態(tail)</strong>に変化した(一致した)とき、<br>
<strong>関数(func)</strong>を呼び出します。</p>

<h4>
<span id="状態の更新方法" class="fragment"></span><a href="#%E7%8A%B6%E6%85%8B%E3%81%AE%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95"><i class="fa fa-link"></i></a>状態の更新方法</h4>

<p>Refreshを呼び出し、引数に新しい状態(tail)を与えます。</p>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">Form1.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">private</span> <span class="k">void</span> <span class="nf">button1_Click</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">EventArgs</span> <span class="n">e</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">m_stateVector</span><span class="p">.</span><span class="nf">Refresh</span><span class="p">(</span><span class="s">"a"</span><span class="p">);</span><span class="c1">//新しい状態(tail) </span>
<span class="p">}</span>

<span class="k">private</span> <span class="k">void</span> <span class="nf">button2_Click</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">EventArgs</span> <span class="n">e</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">m_stateVector</span><span class="p">.</span><span class="nf">Refresh</span><span class="p">(</span><span class="s">"b"</span><span class="p">);</span><span class="c1">//新しい状態(tail) </span>
<span class="p">}</span>

<span class="k">private</span> <span class="k">void</span> <span class="nf">button3_Click</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">EventArgs</span> <span class="n">e</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">m_stateVector</span><span class="p">.</span><span class="nf">Refresh</span><span class="p">(</span><span class="s">"c"</span><span class="p">);</span><span class="c1">//新しい状態(tail) </span>
<span class="p">}</span>
</code></pre></div>
</div>

<h3>
<span id="状態遷移図plantumlで生成" class="fragment"></span><a href="#%E7%8A%B6%E6%85%8B%E9%81%B7%E7%A7%BB%E5%9B%B3plantuml%E3%81%A7%E7%94%9F%E6%88%90"><i class="fa fa-link"></i></a>状態遷移図（PlantUMLで生成）</h3>

<p>下図の通り、遷移を示す矢印に関数を割り当てています。</p>

<p><a href="https://camo.qiitausercontent.com/757e9b07a34c717a848baab0414e6362b579b72c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3132353537352f32643834333563372d376636612d306234382d396465342d3662316635353634393730322e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F125575%2F2d8435c7-7f6a-0b48-9de4-6b1f55649702.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=04705f969a962a204b48cc3b5af5aeda" alt="SampleState.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/125575/2d8435c7-7f6a-0b48-9de4-6b1f55649702.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F125575%2F2d8435c7-7f6a-0b48-9de4-6b1f55649702.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=bcac97118597821944f1b7846cd3f01b 1x" loading="lazy"></a></p>

<h4>
<span id="plantuml定義" class="fragment"></span><a href="#plantuml%E5%AE%9A%E7%BE%A9"><i class="fa fa-link"></i></a>PlantUML定義</h4>

<div class="code-frame" data-lang="">
<div class="code-lang"><span class="bold">SampleState.pu</span></div>
<div class="highlight"><pre class="with-code"><code>@startuml
[*] --&gt; Form : Form Load

state Form {
    init --&gt; a : start !
    init  --&gt; b : start !
    init --&gt; c : start !
    a --&gt; b : a-&gt;b
    b --&gt; a : b-&gt;a
    a --&gt; a : a-&gt;a 
    b --&gt; b : b-&gt;b
    a --&gt; c : a|b-&gt;c
    b --&gt; c : a|b-&gt;c
    c --&gt; a : c-&gt;a|b
    c --&gt; b : c-&gt;a|b
}

Form --&gt; [*] : Form Close
@enduml
</code></pre></div>
</div>

<h3>
<span id="gui表示" class="fragment"></span><a href="#gui%E8%A1%A8%E7%A4%BA"><i class="fa fa-link"></i></a>GUI表示</h3>

<p><a href="https://camo.qiitausercontent.com/7eb4aacfc4846003998de8d811e3ebbf437d3c23/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3132353537352f33376230386137342d363730392d383339322d333639652d6131646238393630366238612e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F125575%2F37b08a74-6709-8392-369e-a1db89606b8a.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=3498f267aad546dde50e0b9c5a140ed6" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/125575/37b08a74-6709-8392-369e-a1db89606b8a.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F125575%2F37b08a74-6709-8392-369e-a1db89606b8a.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=fcc9e82870b459292734bd7931fb5544 1x" loading="lazy"></a></p>

<p>初期状態<code>"init"</code>からの状態変化に対応する定義は次の1行です。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">new</span> <span class="nf">VE</span><span class="p">(</span><span class="s">"init"</span><span class="p">,</span> <span class="n">VE</span><span class="p">.</span><span class="nf">TailOr</span><span class="p">(</span><span class="s">"a"</span><span class="p">,</span> <span class="s">"b"</span><span class="p">,</span> <span class="s">"c"</span><span class="p">),</span> <span class="n">InitState</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nf">SetLog</span><span class="p">(</span><span class="s">"!"</span><span class="p">);</span> <span class="p">}),</span>
</code></pre></div></div>

<p>省略せずに記述すると次の6行となります。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">new</span> <span class="nf">VE</span><span class="p">(</span><span class="s">"init"</span><span class="p">,</span> <span class="s">"a"</span><span class="p">,</span> <span class="n">InitState</span><span class="p">),</span>
<span class="k">new</span> <span class="nf">VE</span><span class="p">(</span><span class="s">"init"</span><span class="p">,</span> <span class="s">"a"</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nf">SetLog</span><span class="p">(</span><span class="s">"!"</span><span class="p">);</span> <span class="p">}),</span>
<span class="k">new</span> <span class="nf">VE</span><span class="p">(</span><span class="s">"init"</span><span class="p">,</span> <span class="s">"b"</span><span class="p">,</span> <span class="n">InitState</span><span class="p">),</span>
<span class="k">new</span> <span class="nf">VE</span><span class="p">(</span><span class="s">"init"</span><span class="p">,</span> <span class="s">"b"</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nf">SetLog</span><span class="p">(</span><span class="s">"!"</span><span class="p">);</span> <span class="p">}),</span>
<span class="k">new</span> <span class="nf">VE</span><span class="p">(</span><span class="s">"init"</span><span class="p">,</span> <span class="s">"c"</span><span class="p">,</span> <span class="n">InitState</span><span class="p">),</span>
<span class="k">new</span> <span class="nf">VE</span><span class="p">(</span><span class="s">"init"</span><span class="p">,</span> <span class="s">"c"</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nf">SetLog</span><span class="p">(</span><span class="s">"!"</span><span class="p">);</span> <span class="p">}),</span>
</code></pre></div></div>

<p>※<code>InitState</code>は<code>() =&gt; { SetLog("start"); }</code>と同じです。</p>

<p>このように<code>VE.TailOr</code>ラッパーで定義を集約する事により、記述量を減らしています。DRY！</p>

<h4>
<span id="各種ラッパー" class="fragment"></span><a href="#%E5%90%84%E7%A8%AE%E3%83%A9%E3%83%83%E3%83%91%E3%83%BC"><i class="fa fa-link"></i></a>各種ラッパー</h4>

<ul>
<li>
<code>VE.HeadOr</code> ・・・直前の状態(head)の定義を集約する。集約する場合は必須。</li>
<li>
<code>VE.TailOr</code> ・・・新しい状態(tail)の定義を集約する。集約する場合は必須。</li>
<li>
<code>VE.Func</code> ・・・関数を明示する(ラムダ式は勘違いしやすそうなので)省略可能。</li>
<li>
<code>VE.FuncArray</code> ・・・関数の定義を集約する。集約する場合でも省略可能。</li>
</ul>

<p>初期状態<code>"init"</code>からの状態変化について、動作を変更せず、丁寧に書き直すと次の記述になります。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">new</span> <span class="nf">VE</span><span class="p">(</span>
    <span class="n">VE</span><span class="p">.</span><span class="nf">HeadOr</span><span class="p">(</span><span class="s">"init"</span><span class="p">),</span>
    <span class="n">VE</span><span class="p">.</span><span class="nf">TailOr</span><span class="p">(</span><span class="s">"a"</span><span class="p">,</span> <span class="s">"b"</span><span class="p">,</span> <span class="s">"c"</span><span class="p">),</span>
    <span class="n">VE</span><span class="p">.</span><span class="nf">FuncArray</span><span class="p">(</span><span class="n">InitState</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nf">SetLog</span><span class="p">(</span><span class="s">"!"</span><span class="p">);</span> <span class="p">})</span>
<span class="p">),</span>
</code></pre></div></div>

<hr>

<h3>
<span id="高度な定義" class="fragment"></span><a href="#%E9%AB%98%E5%BA%A6%E3%81%AA%E5%AE%9A%E7%BE%A9"><i class="fa fa-link"></i></a>高度な定義</h3>

<p>一致判定に正規表現が使用可能です。<br>
上記Form1_Load内の定義を次のように書き換える事が出来ます。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">private</span> <span class="k">void</span> <span class="nf">Form1_Load</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">EventArgs</span> <span class="n">e</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">VE</span><span class="p">[]</span> <span class="n">list</span> <span class="p">=</span> <span class="p">{</span>
        <span class="k">new</span> <span class="nf">VE</span><span class="p">(</span><span class="s">"init"</span><span class="p">,</span> <span class="s">"[a-c]"</span><span class="p">,</span>   <span class="n">InitState</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nf">SetLog</span><span class="p">(</span><span class="s">"!"</span><span class="p">);</span> <span class="p">}),</span>
        <span class="k">new</span> <span class="nf">VE</span><span class="p">(</span><span class="s">"a"</span><span class="p">,</span>    <span class="s">"b"</span><span class="p">,</span>       <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nf">SetLog</span><span class="p">(</span><span class="s">"a-&gt;b"</span><span class="p">);</span> <span class="p">}),</span>
        <span class="k">new</span> <span class="nf">VE</span><span class="p">(</span><span class="s">"b"</span><span class="p">,</span>    <span class="s">"a"</span><span class="p">,</span>       <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nf">SetLog</span><span class="p">(</span><span class="s">"b-&gt;a"</span><span class="p">);</span> <span class="p">}),</span>
        <span class="k">new</span> <span class="nf">VE</span><span class="p">(</span><span class="s">"a"</span><span class="p">,</span>    <span class="s">"a"</span><span class="p">,</span>       <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nf">SetLog</span><span class="p">(</span><span class="s">"a-&gt;a"</span><span class="p">);</span> <span class="p">}),</span>
        <span class="k">new</span> <span class="nf">VE</span><span class="p">(</span><span class="s">"b"</span><span class="p">,</span>    <span class="s">"b"</span><span class="p">,</span>       <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nf">SetLog</span><span class="p">(</span><span class="s">"b-&gt;b"</span><span class="p">);</span> <span class="p">}),</span>
        <span class="k">new</span> <span class="nf">VE</span><span class="p">(</span><span class="s">"a|b"</span><span class="p">,</span>  <span class="s">"c"</span><span class="p">,</span>       <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nf">SetLog</span><span class="p">(</span><span class="s">"a|b-&gt;c"</span><span class="p">);</span> <span class="p">}),</span>
        <span class="k">new</span> <span class="nf">VE</span><span class="p">(</span><span class="s">"c"</span><span class="p">,</span>    <span class="s">"a|b"</span><span class="p">,</span>     <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nf">SetLog</span><span class="p">(</span><span class="s">"c-&gt;a|b"</span><span class="p">);</span> <span class="p">})</span>
    <span class="p">};</span>

    <span class="n">m_stateVector</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StateVector</span><span class="p">(</span><span class="s">"init"</span><span class="p">,</span> <span class="n">list</span><span class="p">);</span>
    <span class="n">m_stateVector</span><span class="p">.</span><span class="n">EnableRegexp</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span><span class="c1">//&lt;-必須!!</span>
<span class="p">}</span>
</code></pre></div></div>

<p>※<code>m_stateVector.EnableRegexp = true;</code>の記述が必要となります。<br>
※各種ラッパーについてはそのまま使用可能です。</p>

<p>正規表現を使用する事により、<strong>直前の状態(head)</strong>または<strong>新しい状態(tail)</strong>に、<strong>何にでも一致する定義</strong>を作成可能となります。<br>
状態の名前に接頭辞や接尾辞を付加することにより、パターンマッチを行う方法も考えられます。<br>
より広範囲の処理を集約する事が出来ます。DRY!!</p>

<hr>

<h3>
<span id="デバッグ機能" class="fragment"></span><a href="#%E3%83%87%E3%83%90%E3%83%83%E3%82%B0%E6%A9%9F%E8%83%BD"><i class="fa fa-link"></i></a>デバッグ機能</h3>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">private</span> <span class="k">void</span> <span class="nf">Form1_Load</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">EventArgs</span> <span class="n">e</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">VE</span><span class="p">[]</span> <span class="n">list</span> <span class="p">=</span> <span class="p">{</span>
        <span class="k">new</span> <span class="nf">VE</span><span class="p">(</span><span class="s">"init"</span><span class="p">,</span>              <span class="n">VE</span><span class="p">.</span><span class="nf">TailOr</span><span class="p">(</span><span class="s">"a"</span><span class="p">,</span> <span class="s">"b"</span><span class="p">,</span> <span class="s">"c"</span><span class="p">),</span>   <span class="n">InitState</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nf">SetLog</span><span class="p">(</span><span class="s">"!"</span><span class="p">);</span> <span class="p">}),</span>
        <span class="k">new</span> <span class="nf">VE</span><span class="p">(</span><span class="s">"a"</span><span class="p">,</span>                 <span class="s">"b"</span><span class="p">,</span>                        <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nf">SetLog</span><span class="p">(</span><span class="s">"a-&gt;b"</span><span class="p">);</span> <span class="p">}),</span>
        <span class="k">new</span> <span class="nf">VE</span><span class="p">(</span><span class="s">"b"</span><span class="p">,</span>                 <span class="s">"a"</span><span class="p">,</span>                        <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nf">SetLog</span><span class="p">(</span><span class="s">"b-&gt;a"</span><span class="p">);</span> <span class="p">}),</span>
        <span class="k">new</span> <span class="nf">VE</span><span class="p">(</span><span class="s">"a"</span><span class="p">,</span>                 <span class="s">"a"</span><span class="p">,</span>                        <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nf">SetLog</span><span class="p">(</span><span class="s">"a-&gt;a"</span><span class="p">);</span> <span class="p">}),</span>
        <span class="k">new</span> <span class="nf">VE</span><span class="p">(</span><span class="s">"b"</span><span class="p">,</span>                 <span class="s">"b"</span><span class="p">,</span>                        <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nf">SetLog</span><span class="p">(</span><span class="s">"b-&gt;b"</span><span class="p">);</span> <span class="p">}),</span>
        <span class="k">new</span> <span class="nf">VE</span><span class="p">(</span><span class="n">VE</span><span class="p">.</span><span class="nf">HeadOr</span><span class="p">(</span><span class="s">"a"</span><span class="p">,</span> <span class="s">"b"</span><span class="p">),</span> <span class="s">"c"</span><span class="p">,</span>                        <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nf">SetLog</span><span class="p">(</span><span class="s">"a|b-&gt;c"</span><span class="p">);</span> <span class="p">}),</span>
                                                         <span class="c1">//"tagName"で一致条件を識別可能</span>
        <span class="k">new</span> <span class="nf">VE</span><span class="p">(</span><span class="s">"c"</span><span class="p">,</span>                 <span class="n">VE</span><span class="p">.</span><span class="nf">TailOr</span><span class="p">(</span><span class="s">"a"</span><span class="p">,</span> <span class="s">"b"</span><span class="p">),</span>   <span class="s">"tagName"</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nf">SetLog</span><span class="p">(</span><span class="s">"c-&gt;a|b"</span><span class="p">);</span> <span class="p">})</span>
    <span class="p">};</span>

    <span class="n">m_stateVector</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StateVector</span><span class="p">(</span><span class="s">"init"</span><span class="p">,</span> <span class="n">list</span><span class="p">);</span>
    <span class="n">m_stateVector</span><span class="p">.</span><span class="nf">GetListInfo</span><span class="p">();</span><span class="c1">//一致条件一覧をデバッグ出力</span>
    <span class="n">m_stateVector</span><span class="p">.</span><span class="n">EnableRefreshTrace</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span><span class="c1">//一致条件実行ログのデバッグ出力を有効化</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ラムダ式部分は<code>&lt;Form1_Load&gt;b__3_x</code>と言う関数名になるようです。</p>

<div class="code-frame" data-lang="">
<div class="code-lang"><span class="bold">デバッグ出力</span></div>
<div class="highlight"><pre class="with-code"><code>#一致条件一覧部分　list[配列添え字番号].priority(実行優先度)・・・値が小さいものから実行する
#各種ラッパー部分は、コンストラクタ実行時に組み合わせを展開して一致判定しています。
:list[0].priority(0) init -&gt; a , InitState
:list[0].priority(1) init -&gt; a , &lt;Form1_Load&gt;b__3_0
:list[0].priority(2) init -&gt; b , InitState
:list[0].priority(3) init -&gt; b , &lt;Form1_Load&gt;b__3_0
:list[0].priority(4) init -&gt; c , InitState
:list[0].priority(5) init -&gt; c , &lt;Form1_Load&gt;b__3_0
:list[1].priority(6) a -&gt; b , &lt;Form1_Load&gt;b__3_1
:list[2].priority(7) b -&gt; a , &lt;Form1_Load&gt;b__3_2
:list[3].priority(8) a -&gt; a , &lt;Form1_Load&gt;b__3_3
:list[4].priority(9) b -&gt; b , &lt;Form1_Load&gt;b__3_4
:list[5].priority(10) a -&gt; c , &lt;Form1_Load&gt;b__3_5
:list[5].priority(11) b -&gt; c , &lt;Form1_Load&gt;b__3_5

#一致条件一覧部分
#識別用にtagNameを出力します
:tagName list[6].priority(12) c -&gt; a , &lt;Form1_Load&gt;b__3_6
:tagName list[6].priority(13) c -&gt; b , &lt;Form1_Load&gt;b__3_6

#実行ログ
  init -&gt; a do[0].priority(0) InitState done.
  init -&gt; a do[0].priority(1) &lt;Form1_Load&gt;b__3_0 done.
  a -&gt; b do[1].priority(6) &lt;Form1_Load&gt;b__3_1 done.
  b -&gt; c do[5].priority(11) &lt;Form1_Load&gt;b__3_5 done.
 tagName c -&gt; b do[6].priority(13) &lt;Form1_Load&gt;b__3_6 done.
  b -&gt; a do[2].priority(7) &lt;Form1_Load&gt;b__3_2 done.
</code></pre></div>
</div>

<p>※正規表現での判定<code>EnableRegexp = true</code>でも使用可能ですが、各種ラッパーと違って定義をそのまま判定に使用します</p>

<hr>

<h4>
<span id="statevectorを複数使用する場合" class="fragment"></span><a href="#statevector%E3%82%92%E8%A4%87%E6%95%B0%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B%E5%A0%B4%E5%90%88"><i class="fa fa-link"></i></a>StateVectorを複数使用する場合</h4>

<p>コンストラクタに<code>listName</code>を付加します。（下記では<code>list_A</code>）</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="n">m_stateVector</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StateVector</span><span class="p">(</span><span class="s">"list_A"</span><span class="p">,</span> <span class="s">"init"</span><span class="p">,</span> <span class="n">list</span><span class="p">);</span>
</code></pre></div></div>

<p>デバッグ出力の先頭に<code>list_A</code>が付加されているので、<br>
他の<code>StateVector</code>定義が混在しても識別が容易になります</p>

<div class="code-frame" data-lang="">
<div class="code-lang"><span class="bold">デバッグ出力</span></div>
<div class="highlight"><pre class="with-code"><code>list_A: list[0].priority(0) init -&gt; a , InitState
list_A: list[0].priority(1) init -&gt; a , &lt;Form1_Load&gt;b__3_0
list_A: list[0].priority(2) init -&gt; b , InitState
list_A: list[0].priority(3) init -&gt; b , &lt;Form1_Load&gt;b__3_0
list_A: list[0].priority(4) init -&gt; c , InitState
list_A: list[0].priority(5) init -&gt; c , &lt;Form1_Load&gt;b__3_0
list_A: list[1].priority(6) a -&gt; b , &lt;Form1_Load&gt;b__3_1
list_A: list[2].priority(7) b -&gt; a , &lt;Form1_Load&gt;b__3_2
list_A: list[3].priority(8) a -&gt; a , &lt;Form1_Load&gt;b__3_3
list_A: list[4].priority(9) b -&gt; b , &lt;Form1_Load&gt;b__3_4
list_A: list[5].priority(10) a -&gt; c , &lt;Form1_Load&gt;b__3_5
list_A: list[5].priority(11) b -&gt; c , &lt;Form1_Load&gt;b__3_5
list_A:tagName list[6].priority(12) c -&gt; a , &lt;Form1_Load&gt;b__3_6
list_A:tagName list[6].priority(13) c -&gt; b , &lt;Form1_Load&gt;b__3_6
list_A  init -&gt; a do[0].priority(0) InitState done.
list_A  init -&gt; a do[0].priority(1) &lt;Form1_Load&gt;b__3_0 done.
list_A  a -&gt; b do[1].priority(6) &lt;Form1_Load&gt;b__3_1 done.
list_A  b -&gt; c do[5].priority(11) &lt;Form1_Load&gt;b__3_5 done.
list_A tagName c -&gt; b do[6].priority(13) &lt;Form1_Load&gt;b__3_6 done.
list_A  b -&gt; a do[2].priority(7) &lt;Form1_Load&gt;b__3_2 done.
</code></pre></div>
</div>

<p>※1つの<code>Form</code>に<code>StateVector</code>は1つか2つ使うくらいが丁度いいと思います。</p>

<h2>
<span id="まとめ" class="fragment"></span><a href="#%E3%81%BE%E3%81%A8%E3%82%81"><i class="fa fa-link"></i></a>まとめ</h2>

<h3>
<span id="メリット" class="fragment"></span><a href="#%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88"><i class="fa fa-link"></i></a>メリット</h3>

<ul>
<li>状態遷移に関連する条件分岐を削減し、定義個所をまとめることが出来る</li>
<li>仕様変更の際、状態遷移の定義を変更しやすくなるため、バグが減る</li>
<li>状態遷移の定義からPlantUML等を使用して図を自動生成可能（今後の課題）</li>
<li>PlantUML等の定義から状態遷移の定義を自動生成可能（今後の課題）</li>
</ul>

<h3>
<span id="デメリット" class="fragment"></span><a href="#%E3%83%87%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88"><i class="fa fa-link"></i></a>デメリット</h3>

<ul>
<li>状態遷移処理に使用するリソース（メモリ・CPU）が増加するので、頻繁な処理には不向き</li>
<li>デバッグ時のステップ実行が追いかけにくくなる</li>
<li>仕組みを知った上で使わないと混乱する</li>
</ul>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2Fvisyeii%2Fitems%2Fedcd67d6e87773aec779&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2Fvisyeii%2Fitems%2Fedcd67d6e87773aec779&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/visyeii/items/edcd67d6e87773aec779/likers" class="css-1iupg5d">2</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">2</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/edcd67d6e87773aec779/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/visyeii/items/edcd67d6e87773aec779/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/visyeii/items/edcd67d6e87773aec779/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/visyeii/items/edcd67d6e87773aec779/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/visyeii/items/edcd67d6e87773aec779.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-99a43840-538e-479d-8051-c274c0c2205e">{"authorAnalyticsTrackingId":"UA-653270-2","organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-c75096c0-fc7c-4e63-a18e-fee700e14b1b"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-c75096c0-fc7c-4e63-a18e-fee700e14b1b">{}</script>
      
<div id="LoginModal-react-component-dcf03f25-4ab3-43ab-a349-0c3dabae4693"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-dcf03f25-4ab3-43ab-a349-0c3dabae4693">{}</script>
      
<div id="StockModal-react-component-dcc22f46-fc20-4032-acd4-54b117beefcf"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-dcc22f46-fc20-4032-acd4-54b117beefcf">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;ysJn+dScI0bLTThmAYGJTANDUKbrzm6snx/0YTQlAM5m0urvaqqjpvVyG4qDMBIvAoW121CxMwmfLAy7ed28Bg==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\n\u003ch1\u003e\n\u003cspan id=\"c状態遷移定義クラス\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#c%E7%8A%B6%E6%85%8B%E9%81%B7%E7%A7%BB%E5%AE%9A%E7%BE%A9%E3%82%AF%E3%83%A9%E3%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eC#　状態遷移定義クラス\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"説明\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%AA%AC%E6%98%8E\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e説明\u003c/h2\u003e\n\n\u003cp\u003eStateVectorと言う名前で公開したクラスは、状態遷移関連の定義を簡素化し、集約するために作成しました。\u003cbr\u003e\n\u003ca href=\"https://github.com/visyeii/StateVector\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://github.com/visyeii/StateVector\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e定義はこんな感じです。\u003cbr\u003e\n\u003ca href=\"https://github.com/visyeii/StateVector/blob/master/StateVector/StateVector/Form1.cs\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://github.com/visyeii/StateVector/blob/master/StateVector/StateVector/Form1.cs\u003c/a\u003e\u003cbr\u003e\n※\u003ccode\u003e\"() =\u0026gt; {...}\"\u003c/code\u003eの箇所はラムダ式で定義した関数です。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eForm1.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eVE\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eVectorEvent\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\u003cspan class=\"c1\"\u003e//実際はnamespace直後に定義しています。\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eStateVector\u003c/span\u003e \u003cspan class=\"n\"\u003em_stateVector\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eForm1_Load\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eobject\u003c/span\u003e \u003cspan class=\"n\"\u003esender\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eEventArgs\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003elist\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e//     直前の状態(head)      新しい状態(tail)           関数(func)\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"init\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e              \u003cspan class=\"n\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eTailOr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"a\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"c\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e   \u003cspan class=\"n\"\u003eInitState\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"!\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"p\"\u003e}),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"a\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e                 \u003cspan class=\"s\"\u003e\"b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e                        \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"a-\u0026gt;b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"p\"\u003e}),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e                 \u003cspan class=\"s\"\u003e\"a\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e                        \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"b-\u0026gt;a\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"p\"\u003e}),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"a\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e                 \u003cspan class=\"s\"\u003e\"a\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e                        \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"a-\u0026gt;a\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"p\"\u003e}),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e                 \u003cspan class=\"s\"\u003e\"b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e                        \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"b-\u0026gt;b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"p\"\u003e}),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eHeadOr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"a\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"s\"\u003e\"c\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e                        \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"a|b-\u0026gt;c\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"p\"\u003e}),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"c\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e                 \u003cspan class=\"n\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eTailOr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"a\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e        \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"c-\u0026gt;a|b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003em_stateVector\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eStateVector\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"init\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003elist\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\u003cspan class=\"c1\"\u003e//初期状態、状態遷移の定義\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"動作\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8B%95%E4%BD%9C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e動作\u003c/h3\u003e\n\n\u003cp\u003em_stateVectorの持つ値が、\u003cstrong\u003e直前の状態(head)\u003c/strong\u003eから、\u003cstrong\u003e新しい状態(tail)\u003c/strong\u003eに変化した(一致した)とき、\u003cbr\u003e\n\u003cstrong\u003e関数(func)\u003c/strong\u003eを呼び出します。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"状態の更新方法\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%8A%B6%E6%85%8B%E3%81%AE%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e状態の更新方法\u003c/h4\u003e\n\n\u003cp\u003eRefreshを呼び出し、引数に新しい状態(tail)を与えます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eForm1.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003ebutton1_Click\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eobject\u003c/span\u003e \u003cspan class=\"n\"\u003esender\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eEventArgs\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003em_stateVector\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eRefresh\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"a\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\u003cspan class=\"c1\"\u003e//新しい状態(tail) \u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003ebutton2_Click\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eobject\u003c/span\u003e \u003cspan class=\"n\"\u003esender\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eEventArgs\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003em_stateVector\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eRefresh\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\u003cspan class=\"c1\"\u003e//新しい状態(tail) \u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003ebutton3_Click\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eobject\u003c/span\u003e \u003cspan class=\"n\"\u003esender\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eEventArgs\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003em_stateVector\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eRefresh\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"c\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\u003cspan class=\"c1\"\u003e//新しい状態(tail) \u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"状態遷移図plantumlで生成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%8A%B6%E6%85%8B%E9%81%B7%E7%A7%BB%E5%9B%B3plantuml%E3%81%A7%E7%94%9F%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e状態遷移図（PlantUMLで生成）\u003c/h3\u003e\n\n\u003cp\u003e下図の通り、遷移を示す矢印に関数を割り当てています。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/757e9b07a34c717a848baab0414e6362b579b72c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3132353537352f32643834333563372d376636612d306234382d396465342d3662316635353634393730322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F125575%2F2d8435c7-7f6a-0b48-9de4-6b1f55649702.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=04705f969a962a204b48cc3b5af5aeda\" alt=\"SampleState.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/125575/2d8435c7-7f6a-0b48-9de4-6b1f55649702.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F125575%2F2d8435c7-7f6a-0b48-9de4-6b1f55649702.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=bcac97118597821944f1b7846cd3f01b 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"plantuml定義\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#plantuml%E5%AE%9A%E7%BE%A9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ePlantUML定義\u003c/h4\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eSampleState.pu\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e@startuml\n[*] --\u0026gt; Form : Form Load\n\nstate Form {\n    init --\u0026gt; a : start !\n    init  --\u0026gt; b : start !\n    init --\u0026gt; c : start !\n    a --\u0026gt; b : a-\u0026gt;b\n    b --\u0026gt; a : b-\u0026gt;a\n    a --\u0026gt; a : a-\u0026gt;a \n    b --\u0026gt; b : b-\u0026gt;b\n    a --\u0026gt; c : a|b-\u0026gt;c\n    b --\u0026gt; c : a|b-\u0026gt;c\n    c --\u0026gt; a : c-\u0026gt;a|b\n    c --\u0026gt; b : c-\u0026gt;a|b\n}\n\nForm --\u0026gt; [*] : Form Close\n@enduml\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"gui表示\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#gui%E8%A1%A8%E7%A4%BA\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGUI表示\u003c/h3\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/7eb4aacfc4846003998de8d811e3ebbf437d3c23/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3132353537352f33376230386137342d363730392d383339322d333639652d6131646238393630366238612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F125575%2F37b08a74-6709-8392-369e-a1db89606b8a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=3498f267aad546dde50e0b9c5a140ed6\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/125575/37b08a74-6709-8392-369e-a1db89606b8a.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F125575%2F37b08a74-6709-8392-369e-a1db89606b8a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=fcc9e82870b459292734bd7931fb5544 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e初期状態\u003ccode\u003e\"init\"\u003c/code\u003eからの状態変化に対応する定義は次の1行です。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"init\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eTailOr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"a\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"c\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"n\"\u003eInitState\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"!\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"p\"\u003e}),\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e省略せずに記述すると次の6行となります。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"init\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"a\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eInitState\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"init\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"a\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"!\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"p\"\u003e}),\u003c/span\u003e\n\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"init\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eInitState\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"init\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"!\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"p\"\u003e}),\u003c/span\u003e\n\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"init\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"c\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eInitState\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"init\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"c\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"!\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"p\"\u003e}),\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e※\u003ccode\u003eInitState\u003c/code\u003eは\u003ccode\u003e() =\u0026gt; { SetLog(\"start\"); }\u003c/code\u003eと同じです。\u003c/p\u003e\n\n\u003cp\u003eこのように\u003ccode\u003eVE.TailOr\u003c/code\u003eラッパーで定義を集約する事により、記述量を減らしています。DRY！\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"各種ラッパー\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%90%84%E7%A8%AE%E3%83%A9%E3%83%83%E3%83%91%E3%83%BC\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e各種ラッパー\u003c/h4\u003e\n\n\u003cul\u003e\n\u003cli\u003e\n\u003ccode\u003eVE.HeadOr\u003c/code\u003e ・・・直前の状態(head)の定義を集約する。集約する場合は必須。\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003eVE.TailOr\u003c/code\u003e ・・・新しい状態(tail)の定義を集約する。集約する場合は必須。\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003eVE.Func\u003c/code\u003e ・・・関数を明示する(ラムダ式は勘違いしやすそうなので)省略可能。\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003eVE.FuncArray\u003c/code\u003e ・・・関数の定義を集約する。集約する場合でも省略可能。\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e初期状態\u003ccode\u003e\"init\"\u003c/code\u003eからの状態変化について、動作を変更せず、丁寧に書き直すと次の記述になります。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eHeadOr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"init\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eTailOr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"a\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"c\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFuncArray\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eInitState\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"!\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003chr\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"高度な定義\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%AB%98%E5%BA%A6%E3%81%AA%E5%AE%9A%E7%BE%A9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e高度な定義\u003c/h3\u003e\n\n\u003cp\u003e一致判定に正規表現が使用可能です。\u003cbr\u003e\n上記Form1_Load内の定義を次のように書き換える事が出来ます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eForm1_Load\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eobject\u003c/span\u003e \u003cspan class=\"n\"\u003esender\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eEventArgs\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003elist\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"init\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"[a-c]\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e   \u003cspan class=\"n\"\u003eInitState\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"!\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"p\"\u003e}),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"a\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e    \u003cspan class=\"s\"\u003e\"b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e       \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"a-\u0026gt;b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"p\"\u003e}),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e    \u003cspan class=\"s\"\u003e\"a\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e       \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"b-\u0026gt;a\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"p\"\u003e}),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"a\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e    \u003cspan class=\"s\"\u003e\"a\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e       \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"a-\u0026gt;a\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"p\"\u003e}),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e    \u003cspan class=\"s\"\u003e\"b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e       \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"b-\u0026gt;b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"p\"\u003e}),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"a|b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e  \u003cspan class=\"s\"\u003e\"c\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e       \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"a|b-\u0026gt;c\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"p\"\u003e}),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"c\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e    \u003cspan class=\"s\"\u003e\"a|b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e     \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"c-\u0026gt;a|b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003em_stateVector\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eStateVector\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"init\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003elist\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003em_stateVector\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEnableRegexp\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\u003cspan class=\"c1\"\u003e//\u0026lt;-必須!!\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e※\u003ccode\u003em_stateVector.EnableRegexp = true;\u003c/code\u003eの記述が必要となります。\u003cbr\u003e\n※各種ラッパーについてはそのまま使用可能です。\u003c/p\u003e\n\n\u003cp\u003e正規表現を使用する事により、\u003cstrong\u003e直前の状態(head)\u003c/strong\u003eまたは\u003cstrong\u003e新しい状態(tail)\u003c/strong\u003eに、\u003cstrong\u003e何にでも一致する定義\u003c/strong\u003eを作成可能となります。\u003cbr\u003e\n状態の名前に接頭辞や接尾辞を付加することにより、パターンマッチを行う方法も考えられます。\u003cbr\u003e\nより広範囲の処理を集約する事が出来ます。DRY!!\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"デバッグ機能\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%87%E3%83%90%E3%83%83%E3%82%B0%E6%A9%9F%E8%83%BD\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eデバッグ機能\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eForm1_Load\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eobject\u003c/span\u003e \u003cspan class=\"n\"\u003esender\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eEventArgs\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003elist\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"init\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e              \u003cspan class=\"n\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eTailOr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"a\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"c\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e   \u003cspan class=\"n\"\u003eInitState\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"!\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"p\"\u003e}),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"a\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e                 \u003cspan class=\"s\"\u003e\"b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e                        \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"a-\u0026gt;b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"p\"\u003e}),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e                 \u003cspan class=\"s\"\u003e\"a\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e                        \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"b-\u0026gt;a\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"p\"\u003e}),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"a\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e                 \u003cspan class=\"s\"\u003e\"a\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e                        \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"a-\u0026gt;a\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"p\"\u003e}),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e                 \u003cspan class=\"s\"\u003e\"b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e                        \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"b-\u0026gt;b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"p\"\u003e}),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eHeadOr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"a\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"s\"\u003e\"c\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e                        \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"a|b-\u0026gt;c\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"p\"\u003e}),\u003c/span\u003e\n                                                         \u003cspan class=\"c1\"\u003e//\"tagName\"で一致条件を識別可能\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"c\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e                 \u003cspan class=\"n\"\u003eVE\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eTailOr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"a\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e   \u003cspan class=\"s\"\u003e\"tagName\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"c-\u0026gt;a|b\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003em_stateVector\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eStateVector\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"init\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003elist\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003em_stateVector\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetListInfo\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\u003cspan class=\"c1\"\u003e//一致条件一覧をデバッグ出力\u003c/span\u003e\n    \u003cspan class=\"n\"\u003em_stateVector\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEnableRefreshTrace\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\u003cspan class=\"c1\"\u003e//一致条件実行ログのデバッグ出力を有効化\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eラムダ式部分は\u003ccode\u003e\u0026lt;Form1_Load\u0026gt;b__3_x\u003c/code\u003eと言う関数名になるようです。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eデバッグ出力\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e#一致条件一覧部分　list[配列添え字番号].priority(実行優先度)・・・値が小さいものから実行する\n#各種ラッパー部分は、コンストラクタ実行時に組み合わせを展開して一致判定しています。\n:list[0].priority(0) init -\u0026gt; a , InitState\n:list[0].priority(1) init -\u0026gt; a , \u0026lt;Form1_Load\u0026gt;b__3_0\n:list[0].priority(2) init -\u0026gt; b , InitState\n:list[0].priority(3) init -\u0026gt; b , \u0026lt;Form1_Load\u0026gt;b__3_0\n:list[0].priority(4) init -\u0026gt; c , InitState\n:list[0].priority(5) init -\u0026gt; c , \u0026lt;Form1_Load\u0026gt;b__3_0\n:list[1].priority(6) a -\u0026gt; b , \u0026lt;Form1_Load\u0026gt;b__3_1\n:list[2].priority(7) b -\u0026gt; a , \u0026lt;Form1_Load\u0026gt;b__3_2\n:list[3].priority(8) a -\u0026gt; a , \u0026lt;Form1_Load\u0026gt;b__3_3\n:list[4].priority(9) b -\u0026gt; b , \u0026lt;Form1_Load\u0026gt;b__3_4\n:list[5].priority(10) a -\u0026gt; c , \u0026lt;Form1_Load\u0026gt;b__3_5\n:list[5].priority(11) b -\u0026gt; c , \u0026lt;Form1_Load\u0026gt;b__3_5\n\n#一致条件一覧部分\n#識別用にtagNameを出力します\n:tagName list[6].priority(12) c -\u0026gt; a , \u0026lt;Form1_Load\u0026gt;b__3_6\n:tagName list[6].priority(13) c -\u0026gt; b , \u0026lt;Form1_Load\u0026gt;b__3_6\n\n#実行ログ\n  init -\u0026gt; a do[0].priority(0) InitState done.\n  init -\u0026gt; a do[0].priority(1) \u0026lt;Form1_Load\u0026gt;b__3_0 done.\n  a -\u0026gt; b do[1].priority(6) \u0026lt;Form1_Load\u0026gt;b__3_1 done.\n  b -\u0026gt; c do[5].priority(11) \u0026lt;Form1_Load\u0026gt;b__3_5 done.\n tagName c -\u0026gt; b do[6].priority(13) \u0026lt;Form1_Load\u0026gt;b__3_6 done.\n  b -\u0026gt; a do[2].priority(7) \u0026lt;Form1_Load\u0026gt;b__3_2 done.\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e※正規表現での判定\u003ccode\u003eEnableRegexp = true\u003c/code\u003eでも使用可能ですが、各種ラッパーと違って定義をそのまま判定に使用します\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"statevectorを複数使用する場合\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#statevector%E3%82%92%E8%A4%87%E6%95%B0%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B%E5%A0%B4%E5%90%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eStateVectorを複数使用する場合\u003c/h4\u003e\n\n\u003cp\u003eコンストラクタに\u003ccode\u003elistName\u003c/code\u003eを付加します。（下記では\u003ccode\u003elist_A\u003c/code\u003e）\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"n\"\u003em_stateVector\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eStateVector\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"list_A\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"init\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003elist\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eデバッグ出力の先頭に\u003ccode\u003elist_A\u003c/code\u003eが付加されているので、\u003cbr\u003e\n他の\u003ccode\u003eStateVector\u003c/code\u003e定義が混在しても識別が容易になります\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eデバッグ出力\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003elist_A: list[0].priority(0) init -\u0026gt; a , InitState\nlist_A: list[0].priority(1) init -\u0026gt; a , \u0026lt;Form1_Load\u0026gt;b__3_0\nlist_A: list[0].priority(2) init -\u0026gt; b , InitState\nlist_A: list[0].priority(3) init -\u0026gt; b , \u0026lt;Form1_Load\u0026gt;b__3_0\nlist_A: list[0].priority(4) init -\u0026gt; c , InitState\nlist_A: list[0].priority(5) init -\u0026gt; c , \u0026lt;Form1_Load\u0026gt;b__3_0\nlist_A: list[1].priority(6) a -\u0026gt; b , \u0026lt;Form1_Load\u0026gt;b__3_1\nlist_A: list[2].priority(7) b -\u0026gt; a , \u0026lt;Form1_Load\u0026gt;b__3_2\nlist_A: list[3].priority(8) a -\u0026gt; a , \u0026lt;Form1_Load\u0026gt;b__3_3\nlist_A: list[4].priority(9) b -\u0026gt; b , \u0026lt;Form1_Load\u0026gt;b__3_4\nlist_A: list[5].priority(10) a -\u0026gt; c , \u0026lt;Form1_Load\u0026gt;b__3_5\nlist_A: list[5].priority(11) b -\u0026gt; c , \u0026lt;Form1_Load\u0026gt;b__3_5\nlist_A:tagName list[6].priority(12) c -\u0026gt; a , \u0026lt;Form1_Load\u0026gt;b__3_6\nlist_A:tagName list[6].priority(13) c -\u0026gt; b , \u0026lt;Form1_Load\u0026gt;b__3_6\nlist_A  init -\u0026gt; a do[0].priority(0) InitState done.\nlist_A  init -\u0026gt; a do[0].priority(1) \u0026lt;Form1_Load\u0026gt;b__3_0 done.\nlist_A  a -\u0026gt; b do[1].priority(6) \u0026lt;Form1_Load\u0026gt;b__3_1 done.\nlist_A  b -\u0026gt; c do[5].priority(11) \u0026lt;Form1_Load\u0026gt;b__3_5 done.\nlist_A tagName c -\u0026gt; b do[6].priority(13) \u0026lt;Form1_Load\u0026gt;b__3_6 done.\nlist_A  b -\u0026gt; a do[2].priority(7) \u0026lt;Form1_Load\u0026gt;b__3_2 done.\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e※1つの\u003ccode\u003eForm\u003c/code\u003eに\u003ccode\u003eStateVector\u003c/code\u003eは1つか2つ使うくらいが丁度いいと思います。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"まとめ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eまとめ\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"メリット\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eメリット\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003e状態遷移に関連する条件分岐を削減し、定義個所をまとめることが出来る\u003c/li\u003e\n\u003cli\u003e仕様変更の際、状態遷移の定義を変更しやすくなるため、バグが減る\u003c/li\u003e\n\u003cli\u003e状態遷移の定義からPlantUML等を使用して図を自動生成可能（今後の課題）\u003c/li\u003e\n\u003cli\u003ePlantUML等の定義から状態遷移の定義を自動生成可能（今後の課題）\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"デメリット\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%87%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eデメリット\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003e状態遷移処理に使用するリソース（メモリ・CPU）が増加するので、頻繁な処理には不向き\u003c/li\u003e\n\u003cli\u003eデバッグ時のステップ実行が追いかけにくくなる\u003c/li\u003e\n\u003cli\u003e仕組みを知った上で使わないと混乱する\u003c/li\u003e\n\u003c/ul\u003e\n","createdAt":"2018-01-17T14:01:50Z","elapsedYearsFromLastModifiedAt":3,"encryptedId":"+ycF9IESPhapo2HJZ3aDiwjChpKS79AN--nC49dTwYnGzl+ra3--dwVc9jf8+J/Qgsw/qGNhdA==","isBanned":false,"isDeprecated":true,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2018-01-18T13:16:41Z","likesCount":2,"linkUrl":"https://qiita.com/visyeii/items/edcd67d6e87773aec779","organization":null,"originalId":600833,"stockedCount":2,"title":"C#　状態遷移定義クラス","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#c%E7%8A%B6%E6%85%8B%E9%81%B7%E7%A7%BB%E5%AE%9A%E7%BE%A9%E3%82%AF%E3%83%A9%E3%82%B9\"\u003eC#　状態遷移定義クラス\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%AA%AC%E6%98%8E\"\u003e説明\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%8B%95%E4%BD%9C\"\u003e動作\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%8A%B6%E6%85%8B%E3%81%AE%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95\"\u003e状態の更新方法\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%8A%B6%E6%85%8B%E9%81%B7%E7%A7%BB%E5%9B%B3plantuml%E3%81%A7%E7%94%9F%E6%88%90\"\u003e状態遷移図（PlantUMLで生成）\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#plantuml%E5%AE%9A%E7%BE%A9\"\u003ePlantUML定義\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#gui%E8%A1%A8%E7%A4%BA\"\u003eGUI表示\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%90%84%E7%A8%AE%E3%83%A9%E3%83%83%E3%83%91%E3%83%BC\"\u003e各種ラッパー\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E9%AB%98%E5%BA%A6%E3%81%AA%E5%AE%9A%E7%BE%A9\"\u003e高度な定義\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%87%E3%83%90%E3%83%83%E3%82%B0%E6%A9%9F%E8%83%BD\"\u003eデバッグ機能\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#statevector%E3%82%92%E8%A4%87%E6%95%B0%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B%E5%A0%B4%E5%90%88\"\u003eStateVectorを複数使用する場合\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"\u003eまとめ\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88\"\u003eメリット\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%87%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88\"\u003eデメリット\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","totalPv":3776,"uuid":"edcd67d6e87773aec779","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"uIwTdRzWlFfHfEzCXwA88/wxUHMI--5kuUhGHyHj9Gv25z--tGTFH4b2NDNRY2CjyPepTA==","originalId":125575,"description":"組込み家電用に仕様書書いたり、コード書いたり、テストしたり","facebookUrl":null,"githubUrl":null,"isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"","profileImageUrl":"https://qiita-image-store.s3.amazonaws.com/0/125575/profile-images/1473716274","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F125575%2Fprofile-images%2F1473716274?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=49496dcac4e8060843672712410c923c","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F125575%2Fprofile-images%2F1473716274?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=5a182af2bf1ea5ce2cfe63d3e9c0bac2","urlName":"visyeii","websiteUrl":"","twitterUrl":"https://twitter.com/visyeii","twitterUrlName":"visyeii","revealedOrganizations":{"edges":[]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"正規表現","urlName":"%e6%ad%a3%e8%a6%8f%e8%a1%a8%e7%8f%be"},{"name":"DRY","urlName":"dry"},{"name":"状態遷移","urlName":"%e7%8a%b6%e6%85%8b%e9%81%b7%e7%a7%bb"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
