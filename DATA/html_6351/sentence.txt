More than 3 years have passed since last update.DataGridの列ヘッダーをカレンダーみたいに日付表示させて
行ヘッダーに人名、セルに○とかを表示させるものを考えたまずModelDataTableの最初の列には人名を入れるため
_DataTable.Columns.Add("RowHeader");としている
あとは指定年月の日数分DataTableに列を追加している
んでRowとCellには配列からランダムに値を入れている
サンプルとかでもこういう遊びがほしくなる('ω')いつものViewModelだよここがなかなかややこしいポイントまずDataGrid.CellStyle
ここではStyleでCellないのTextが中央に表示されるようにしている
列の幅を変えても中央に表示されるよ(ﾟ∀ﾟ)
んでDataGrid.ColumnHeaderStyle
ここでも設定しているのはセルと同じこと
ヘッダー内の文字が中央にくるようにしている
最後にDataGrid.RowHeaderStyle
これがキモ
Styleを使ってDataGridRowHeaderに渡されるデータの最初の列をバインドしているしかし、AutoGenerateColumnsがTrueなのでこれを実行するとこうなるまあ当然だよね
そこで、AutoGeneratingColumnイベントで1列目の列生成だけキャンセルすることにするこれもcounterみたいなのを作ってindexで判定すると汎用性が上がると思う最初はDataGridに行列の数が不確定なコレクションを表示させたくていろいろ調べた結果こうなった
これだとDataTable側をいじればDataGrid側をいじる必要がなくなるから便利
あとはReactivePropertyとか使ってデータの操作とかもしてみたいWPF Notes/DataGridの行ヘッダに行番号を表示


