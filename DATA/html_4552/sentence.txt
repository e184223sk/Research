More than 1 year has passed since last update.C# で検証ロジックを扱うのに FluentValidation を利用させて頂いている。
EntityFramework の Fluent API のようにメソッドチェーン形式で検証ロジックを登録できるものである。他の項目の検証をパスした場合のみ実行したい検証ロジックというのは往々にしてあるものであるが、FluentValidation でも以下のようにサポートされている。ただ、姓と名が入力されている場合に、ニックネームが入力されているか検証するといったように、複数の検証に依存したロジックは作者的にはあまり推奨していないようでサポートされていない。
しかしそれでは困るので拡張メソッドを用意することにした。デリゲートを受け取ったら検証クラスでラップし登録するような拡張メソッドを定義する。SetAnonymouseValidator で登録した検証をパスした場合に、DependentRules が実行される。


