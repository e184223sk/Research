More than 3 years have passed since last update.キャメルケースな文字をスネークケースに変換する際に、
正規表現を利用して変換するコードがよく見かけますが、
ここではあえて正規表現を使わないで分割を考えることにします。
前提として変換する対象の文字列は英字の大文字小文字のみで構成されているものとします。ある半角英数からなる文字列を単語に分割するということは、
単語の区切りとなる判断材料が必要になってきます。
キャメルケースの定義を一言でいうとこんな感じでしょうか。キャメルケースとは、アルファベットで複合語やフレーズを表記する際、各単語や要素語の先頭の文字を大文字で表記する手法のことである。出展: キャメルケースとは - IT用語辞典 Weblio辞書すなわち、小文字から大文字に切り替わった時に単語の区切りになるということになります。以上のことを踏まえて、C#で実装する場合こんな感じになります。テストパターンが増えるに連れて、どんどんとデグレ検証が大変になるのでテストコードも記述しておきます。テストが通ることを確認します。余談ですが、テストコードを作成する際にDataTestMethodAttributeを利用して記述しようとしましたが、
paramsを利用するとどうも例外が発生して、解決に時間がかかりそうだったので、上記のようなテストコードになっています。
テストパターンを追加するにもReturnSplittedWordInternalの呼び出しの箇所を追加すればいいだけになりますので。テストパターンを追加します。追加してもテストが成功することを確認します。このように、コーディング量は正規表現を使うより遥かに多いですが、割と簡単に実装することができます。
今回は簡単にするために入力される文字列が英字の大文字小文字のみとしましたが、 以上のような対応をすると、camelCaseからsnake_caseに変換できるようなメソッドが作れるようになります。


