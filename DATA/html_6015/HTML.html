<!DOCTYPE html><html><head><meta charset="utf-8" /><title>MCP 70-483 Programming in C# のお勉強 「3-4 アプリケーションをデバッグする」 - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/takutoy/items/817a9f82a430c1096ff4" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="W23K86MOcf3pjM6FOF3hey0qQQWIgIwaqXIUrpRXvH0bn3IHsksY1eonzurBInYJkvm9VKCoSUkc7dL8pB4+Cg==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta property="og:type" content="article"><meta property="og:title" content="MCP 70-483 Programming in C# のお勉強 「3-4 アプリケーションをデバッグする」 - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1UVU5RSURjd0xUUTRNeUJRY205bmNtRnRiV2x1WnlCcGJpQkRJeURqZ2E3amdZcmxpNG5sdkxjZzQ0Q01NeTAwSU9PQ291T0RsLU9EcXVPQ3NlT0R2T09DdC1PRHAtT0RzLU9Da3VPRGgtT0RrT09EZy1PQ3NPT0JtZU9DaS1PQWpRJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NTQmdHh0LWNsaXA9ZWxsaXBzaXMmdHh0LWFsaWduPWNlbnRlciUyQ21pZGRsZSZzPTEzYjA0OThhYjU0OWQ2MjdkMzlmNThlMTRjNzYyN2E4&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RSFJoYTNWMGIzayZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPTBhOTEwN2M3ZTU5OGZkZDVjOTg1MDkyYjJmZTdlZjU3&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=17f2f7a180a9a93ceea8870aeb45198a"><meta property="og:description" content="MCP試験 70-483 Programming in C# の学習材料。

目次はこちら


3-4 アプリケーションをデバッグする

C#プログラムをデバッグするための前提知識。


DebugビルドとReleaseビルド

Vi..."><meta content="https://qiita.com/takutoy/items/817a9f82a430c1096ff4" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,.NET" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 1nzh4zz 38fzdi helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-1nzh4zz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 32px;background-color:#FBE69E;color:rgba(0,0,0,0.87);line-height:1.5;font-weight:600;}@media (max-width:770px){.css-1nzh4zz{padding:16px;}}.css-38fzdi{color:#CA832A;margin-right:4px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-80c45b79-f941-4c17-8ff9-84d037362263"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2Ftakutoy%2Fitems%2F817a9f82a430c1096ff4">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2Ftakutoy%2Fitems%2F817a9f82a430c1096ff4">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-80c45b79-f941-4c17-8ff9-84d037362263">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2017-09-30T20:09:05.000+09:00","dateModified":"2017-09-30T20:11:31.000+09:00","headline":"MCP 70-483 Programming in C# のお勉強 「3-4 アプリケーションをデバッグする」","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1UVU5RSURjd0xUUTRNeUJRY205bmNtRnRiV2x1WnlCcGJpQkRJeURqZ2E3amdZcmxpNG5sdkxjZzQ0Q01NeTAwSU9PQ291T0RsLU9EcXVPQ3NlT0R2T09DdC1PRHAtT0RzLU9Da3VPRGgtT0RrT09EZy1PQ3NPT0JtZU9DaS1PQWpRJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NTQmdHh0LWNsaXA9ZWxsaXBzaXMmdHh0LWFsaWduPWNlbnRlciUyQ21pZGRsZSZzPTEzYjA0OThhYjU0OWQ2MjdkMzlmNThlMTRjNzYyN2E4\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RSFJoYTNWMGIzayZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPTBhOTEwN2M3ZTU5OGZkZDVjOTg1MDkyYjJmZTdlZjU3\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=17f2f7a180a9a93ceea8870aeb45198a","mainEntityOfPage":"https://qiita.com/takutoy/items/817a9f82a430c1096ff4","author":{"@type":"Person","address":"","email":null,"identifier":"takutoy","name":"takutoy","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2Fprofile-images%2F1473713930?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=2d63c3b17bbc4477c7258643ea704ed3","url":"https://qiita.com/takutoy","description":"","memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://increments.connpass.com/event/211948/">Qiita創業者海野氏登壇！Qiita エンジニアフェスタ 2021 Online Meetupを9/9(木)に開催</a><a target="_blank" id="header_text_message_2" href="https://increments.connpass.com/event/211948/">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"takutoy","type":"items","id":"817a9f82a430c1096ff4"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"Qiita創業者海野氏登壇！Qiita エンジニアフェスタ 2021 Online Meetupを9/9(木)に開催","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"takutoy","type":"items","id":"817a9f82a430c1096ff4"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":1,"pos_id":"header_text_message_1","message":"Qiita創業者海野氏登壇！Qiita エンジニアフェスタ 2021 Online Meetupを9/9(木)に開催","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"takutoy","type":"items","id":"817a9f82a430c1096ff4"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":1,"pos_id":"header_text_message_2","message":"Qiita創業者海野氏登壇！Qiita エンジニアフェスタ 2021 Online Meetupを9/9(木)に開催","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/takutoy/items/817a9f82a430c1096ff4","location":"/takutoy/items/817a9f82a430c1096ff4","scheme":"https","host":"qiita.com","port":null,"pathname":"/takutoy/items/817a9f82a430c1096ff4","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"VXPImKisNqeKLuIVYPDQksOn7tJA6YCxa8pchXcK6ngVgXBsuelfj4mF4nqZj0fgfHQSg2jBReLeVZrXR0NoDw==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-da59c364-794d-4acf-a45a-87cbdff9cb8a"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/takutoy/items/817a9f82a430c1096ff4/likers" class="css-1iupg5d">5</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">5</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/817a9f82a430c1096ff4/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/takutoy/items/817a9f82a430c1096ff4/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/takutoy/items/817a9f82a430c1096ff4/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/takutoy/items/817a9f82a430c1096ff4/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/takutoy/items/817a9f82a430c1096ff4.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-1nzh4zz"><span class="fa fa-fw fa-warning css-38fzdi"></span><p>More than 3 years have passed since last update.</p></div><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/takutoy"><img class="css-100alwu eyfquo10" src="https://qiita-image-store.s3.amazonaws.com/0/118451/profile-images/1473713930" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/takutoy" class="css-10ougpm">@<!-- -->takutoy</a><div class="css-1ay9vb9"><span><meta content="2017-09-30T11:09:05Z"/><time dateTime="2017-09-30T11:11:31Z" class="css-m19uds">updated at 2017-09-30</time></span></div></div></div></div></div><h1 class="css-cgzq40">MCP 70-483 Programming in C# のお勉強 「3-4 アプリケーションをデバッグする」</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/.net" class="css-4czcte">.NET</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div><p>MCP試験 <a href="https://www.microsoft.com/ja-jp/learning/exam-70-483.aspx" rel="nofollow noopener" target="_blank">70-483 Programming in C#</a> の学習材料。</p>

<p>目次は<a href="http://qiita.com/takutoy/items/863ab5523cf59173257a" id="reference-c59c11e60ae80a227953">こちら</a></p>

<h1>
<span id="3-4-アプリケーションをデバッグする" class="fragment"></span><a href="#3-4-%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E3%83%87%E3%83%90%E3%83%83%E3%82%B0%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>3-4 アプリケーションをデバッグする</h1>

<p>C#プログラムをデバッグするための前提知識。</p>

<h2>
<span id="debugビルドとreleaseビルド" class="fragment"></span><a href="#debug%E3%83%93%E3%83%AB%E3%83%89%E3%81%A8release%E3%83%93%E3%83%AB%E3%83%89"><i class="fa fa-link"></i></a>DebugビルドとReleaseビルド</h2>

<p>Visual StudioのC#プロジェクトではDebugとReleaseの2種類のビルドが用意されている。</p>

<ul>
<li>Debugビルド：デバッグに最適化された構成</li>
<li>Releaseビルド：パフォーマンスに最適化された構成</li>
</ul>

<p>具体的な構成の違いは下記の通り。</p>

<table>
<thead>
<tr>
<th style="text-align: left"></th>
<th style="text-align: left">Debug</th>
<th style="text-align: left">Release</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left">定義される定数</td>
<td style="text-align: left">DEBUG, TRACE</td>
<td style="text-align: left">TRACE</td>
</tr>
<tr>
<td style="text-align: left">コードの最適化</td>
<td style="text-align: left">無し</td>
<td style="text-align: left">有り</td>
</tr>
<tr>
<td style="text-align: left">デバッグ情報</td>
<td style="text-align: left">full</td>
<td style="text-align: left">pdb-only</td>
</tr>
</tbody>
</table>

<h2>
<span id="debug定数とtrace定数" class="fragment"></span><a href="#debug%E5%AE%9A%E6%95%B0%E3%81%A8trace%E5%AE%9A%E6%95%B0"><i class="fa fa-link"></i></a>DEBUG定数とTRACE定数</h2>

<p>DebugビルドではDEBUG、TRACEの2つの定数が定義される。ReleaseビルドではTRACE定数のみが定義される。DEBUG定数とTRACE定数は主に下記の用途で使用される。</p>

<ul>
<li>DebugクラスとTraceクラス</li>
<li>ConditionalAttribute</li>
<li>プリプロセッサ(#ifディレクティブ)</li>
</ul>

<p>Visual Studioではプロジェクトを右クリック ⇒ プロパティ ⇒ ビルド ⇒ 全般-「DEBUG定数の定義」「TRACE定数の定義」で設定されている。</p>

<p><a href="https://camo.qiitausercontent.com/6e1d4ac28963ad5bc6fe73ecc002f577386fe8dc/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3131383435312f33323361656635322d393631302d353564332d313136372d3532363266663665363262612e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2F323aef52-9610-55d3-1167-5262ff6e62ba.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=1de0db7daee5e7d2c48432ca7e89ba76" alt="3-4-defineconsts.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/118451/323aef52-9610-55d3-1167-5262ff6e62ba.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2F323aef52-9610-55d3-1167-5262ff6e62ba.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=87688d759ec635d45bc188ef412eb2cc 1x" loading="lazy"></a></p>

<h2>
<span id="debugクラスとtraceクラス" class="fragment"></span><a href="#debug%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%A8trace%E3%82%AF%E3%83%A9%E3%82%B9"><i class="fa fa-link"></i></a>DebugクラスとTraceクラス</h2>

<p>System.Diagnostics.Debug クラスと System.Diagnostics.Traceクラスには、Assert, Fail, Write, Indent, Unindent など、アプリケーションログやテスト(アサーション)に有用なメソッドやプロパティが用意されている。</p>

<p>Debugクラスのメソッドは、DEBUG定数が定義されている（Debugビルドの既定）場合のみ実行される。Traceクラスのメソッドは、TRACE定数が定義されている（DebugビルドとReleaseビルドの既定）場合のみ実行される。</p>

<h3>
<span id="サンプルコード" class="fragment"></span><a href="#%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AB%E3%82%B3%E3%83%BC%E3%83%89"><i class="fa fa-link"></i></a>サンプルコード</h3>

<p>このコードをDebugビルドとReleaseビルドで実行すると、</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="n">Debug</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"debug"</span><span class="p">);</span>
<span class="n">Trace</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"trace"</span><span class="p">);</span>

<span class="c1">// WriteIf: 第一引数が true の場合、メッセージを出力</span>
<span class="kt">int</span> <span class="n">size</span> <span class="p">=</span> <span class="m">1234</span><span class="p">;</span>
<span class="n">Debug</span><span class="p">.</span><span class="nf">WriteLineIf</span><span class="p">(</span><span class="n">size</span> <span class="p">&gt;</span> <span class="m">1000</span><span class="p">,</span> <span class="s">"debug: sizeが1000を超えた！"</span><span class="p">);</span>
<span class="n">Trace</span><span class="p">.</span><span class="nf">WriteLineIf</span><span class="p">(</span><span class="n">size</span> <span class="p">&gt;</span> <span class="m">1000</span><span class="p">,</span> <span class="s">"trace: sizeが1000を超えた！"</span><span class="p">);</span>

<span class="c1">// Assert: 第一引数が false の場合、プログラムを中断してメッセージを出力</span>
<span class="kt">int</span> <span class="n">index</span> <span class="p">=</span> <span class="p">-</span><span class="m">1</span><span class="p">;</span>
<span class="n">Debug</span><span class="p">.</span><span class="nf">Assert</span><span class="p">(</span><span class="n">index</span> <span class="p">&gt;=</span> <span class="m">0</span><span class="p">,</span> <span class="s">"debug: index must be a positive integer!"</span><span class="p">);</span>
<span class="n">Trace</span><span class="p">.</span><span class="nf">Assert</span><span class="p">(</span><span class="n">index</span> <span class="p">&gt;=</span> <span class="m">0</span><span class="p">,</span> <span class="s">"trace: index must be a positive integer!"</span><span class="p">);</span>
</code></pre></div></div>

<p>Debugビルドで実行した場合の出力：Debug, Trace両方のメッセージが出力</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>debug
trace
debug: sizeが1000を超えた！
trace: sizeが1000を超えた！
---- デバッグ アサート失敗 ----
---- 短いメッセージのアサート ----
debug: index must be a positive integer!
---- 長いメッセージのアサート ----

※メッセージダイアログ※
</code></pre></div></div>

<p>Releaseビルドで実行した場合の出力：Debugメッセージは出力されない</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>trace
trace: sizeが1000を超えた！
---- デバッグ アサート失敗 ----
---- 短いメッセージのアサート ----
trace: index must be a positive integer!
---- 長いメッセージのアサート ----

※メッセージダイアログ※
</code></pre></div></div>

<p>※VisualStudioで実行する場合、Debug, Traceで出力したメッセージは出力ウィンドウの出力先：デバッグに表示される。出力ウィンドウがない場合は、メニューの デバッグ⇒ウィンドウ⇒出力 で表示できる。</p>

<h3>
<span id="リンク" class="fragment"></span><a href="#%E3%83%AA%E3%83%B3%E3%82%AF"><i class="fa fa-link"></i></a>リンク</h3>

<ul>
<li><a href="https://msdn.microsoft.com/ja-jp/library/system.diagnostics.debug(v=vs.110).aspx" rel="nofollow noopener" target="_blank">Debugクラス</a></li>
<li><a href="https://msdn.microsoft.com/ja-jp/library/system.diagnostics.trace(v=vs.110).aspx" rel="nofollow noopener" target="_blank">Traceクラス</a></li>
<li><a href="https://msdn.microsoft.com/ja-jp/library/bs4c1wda.aspx" rel="nofollow noopener" target="_blank">出力ウィンドウの診断メッセージ</a></li>
<li><a href="https://msdn.microsoft.com/ja-jp/library/ttcc4x86.aspx" rel="nofollow noopener" target="_blank">マネージコードのアサーション</a></li>
</ul>

<h2>
<span id="conditionalattribute" class="fragment"></span><a href="#conditionalattribute"><i class="fa fa-link"></i></a>ConditionalAttribute</h2>

<p>定数が定義されていないときにメソッドの呼び出しを無視するようコンパイラに指示するための属性。デバッグビルド時にだけ実行したいメソッドを作りたくなった時などに使う。</p>

<h3>
<span id="サンプルコード-1" class="fragment"></span><a href="#%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AB%E3%82%B3%E3%83%BC%E3%83%89-1"><i class="fa fa-link"></i></a>サンプルコード</h3>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">class</span> <span class="nc">Program</span>
<span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nf">WriteDebugMessage</span><span class="p">(</span><span class="s">"てすと"</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// このメソッドは DEBUG 定数が定義されている時だけ実行される</span>
    <span class="p">[</span><span class="nf">Conditional</span><span class="p">(</span><span class="s">"DEBUG"</span><span class="p">)]</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">WriteDebugMessage</span><span class="p">(</span><span class="kt">string</span> <span class="n">message</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Releaseビルドでは実行されないよ！"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3>
<span id="debugtraceクラスのメソッド" class="fragment"></span><a href="#debugtrace%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AE%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89"><i class="fa fa-link"></i></a>Debug/Traceクラスのメソッド</h3>

<p>DebugクラスとTraceクラスの各メソッドには ConditionalAttribute が付けられている。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="c1">// Debug.WriteLine メソッドの定義</span>
<span class="p">[</span><span class="nf">ConditionalAttribute</span><span class="p">(</span><span class="s">"DEBUG"</span><span class="p">)]</span>
<span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">WriteLine</span><span class="p">(</span>
    <span class="kt">object</span> <span class="k">value</span>
<span class="p">)</span>
</code></pre></div></div>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="c1">// Trace.WriteLine メソッドの定義</span>
<span class="p">[</span><span class="nf">ConditionalAttribute</span><span class="p">(</span><span class="s">"TRACE"</span><span class="p">)]</span>
<span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">WriteLine</span><span class="p">(</span>
    <span class="kt">object</span> <span class="k">value</span>
<span class="p">)</span>
</code></pre></div></div>

<h3>
<span id="リンク-1" class="fragment"></span><a href="#%E3%83%AA%E3%83%B3%E3%82%AF-1"><i class="fa fa-link"></i></a>リンク</h3>

<ul>
<li><a href="https://msdn.microsoft.com/ja-jp/library/system.diagnostics.conditionalattribute(v=vs.110).aspx" rel="nofollow noopener" target="_blank">ConditionalAttributeクラス</a></li>
</ul>

<h2>
<span id="ifディレクティブ" class="fragment"></span><a href="#if%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%86%E3%82%A3%E3%83%96"><i class="fa fa-link"></i></a>#ifディレクティブ</h2>

<p>ifディレクティブは<a href="https://docs.microsoft.com/ja-jp/dotnet/csharp/language-reference/preprocessor-directives/index" rel="nofollow noopener" target="_blank">プリプロセッサディレクティブ</a>の一つで、ビルドで定義されている定数によってコンパイルするコードを切り変えることができる。ConditionalAttributeと似ているが、ifディレクティブはメソッド単位ではなくソースコードの任意の行の範囲に適用できる。</p>

<h3>
<span id="サンプルコード-2" class="fragment"></span><a href="#%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AB%E3%82%B3%E3%83%BC%E3%83%89-2"><i class="fa fa-link"></i></a>サンプルコード</h3>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">namespace</span> <span class="nn">ConsoleApp8</span>
<span class="p">{</span>
    <span class="k">class</span> <span class="nc">Program</span>
    <span class="p">{</span>
        <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
        <span class="p">{</span>
<span class="cp">#if DEBUG
</span>            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"DEBUG定数が定義されている"</span><span class="p">);</span>
<span class="cp">#endif
</span>
<span class="cp">#if RELEASE
</span>            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"RELEASE定数なんてないよ！"</span><span class="p">);</span>
<span class="cp">#elif TRACE
</span>            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"TRACE定数が定義されている"</span><span class="p">);</span>
<span class="cp">#else
</span>            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"RELEASE定数もTRACE定数も定義されていない"</span><span class="p">);</span>
<span class="cp">#endif
</span>        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Debugビルド(DEBUG, TRACE定数が定義)の時は次のコードとしてコンパイルされる</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">namespace</span> <span class="nn">ConsoleApp8</span>
<span class="p">{</span>
    <span class="k">class</span> <span class="nc">Program</span>
    <span class="p">{</span>
        <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"DEBUG定数が定義されている"</span><span class="p">);</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"TRACE定数が定義されている"</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Releaseビルド(TRACE定数が定義)の時は次のコードとしてコンパイルされる</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">namespace</span> <span class="nn">ConsoleApp8</span>
<span class="p">{</span>
    <span class="k">class</span> <span class="nc">Program</span>
    <span class="p">{</span>
        <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"TRACE定数が定義されている"</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3>
<span id="debug-trace以外の定数定義" class="fragment"></span><a href="#debug-trace%E4%BB%A5%E5%A4%96%E3%81%AE%E5%AE%9A%E6%95%B0%E5%AE%9A%E7%BE%A9"><i class="fa fa-link"></i></a>DEBUG, TRACE以外の定数定義</h3>

<p>ビルドにはDEBUG, TRACE以外の定数も使用できる。Visual Studioでは、プロジェクトを右クリック ⇒ プロパティ ⇒ ビルド ⇒ 全般-条件付きコンパイルシンボル に好きな定数を定義できる。</p>

<p><a href="https://camo.qiitausercontent.com/ec542a4f1a4a21680a3894f9a62e2a0265b31bd5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3131383435312f31616433323435302d623864612d636635622d643962662d3338613866373030396430352e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2F1ad32450-b8da-cf5b-d9bf-38a8f7009d05.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=a1001deeb82c711805f02d2d3d365880" alt="3-4-defineconsts2.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/118451/1ad32450-b8da-cf5b-d9bf-38a8f7009d05.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2F1ad32450-b8da-cf5b-d9bf-38a8f7009d05.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=1dd34c6ec557078dc85e6cc04364eac7 1x" loading="lazy"></a></p>

<h3>
<span id="リンク-2" class="fragment"></span><a href="#%E3%83%AA%E3%83%B3%E3%82%AF-2"><i class="fa fa-link"></i></a>リンク</h3>

<p>プリプロセッサディレクティブには、#if以外にも #define, #warning, #error, #region, #pragma などがある。詳細は次のリンク先で。<a href="https://docs.microsoft.com/ja-jp/dotnet/csharp/language-reference/preprocessor-directives/index" rel="nofollow noopener" target="_blank">C# プリプロセッサ ディレクティブ</a></p>

<p>#ifディレクティブとConditionalAttributeの違いについては次のページで解説されている。<a href="http://smdn.jp/programming/netfx/conditional/" rel="nofollow noopener" target="_blank">条件付きの呼び出し (ConditionalAttribute) - Programming/.NET Framework - 総武ソフトウェア推進所</a></p>

<h2>
<span id="コードの最適化" class="fragment"></span><a href="#%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E6%9C%80%E9%81%A9%E5%8C%96"><i class="fa fa-link"></i></a>コードの最適化</h2>

<p>コードの最適化を有効にすると、コンパイラによって実行されないコードが除外されたりより効率の良い等価なコードに置き換えられたりする。既定ではDebugビルドでは最適化は無効化され、Releaseビルドでは最適化が有効化されている。</p>

<p><a href="https://camo.qiitausercontent.com/e7a834edcb8e689ce6c07d26b28e9a8949359e83/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3131383435312f64303137366532642d383438332d383132352d396661642d6439633063646163396432612e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2Fd0176e2d-8483-8125-9fad-d9c0cdac9d2a.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=bd8498e0700032c21bf70a668fc11c42" alt="3-4-optimize.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/118451/d0176e2d-8483-8125-9fad-d9c0cdac9d2a.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2Fd0176e2d-8483-8125-9fad-d9c0cdac9d2a.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=b14b56ed729e24a1978deed7a6f8f044 1x" loading="lazy"></a></p>

<h3>
<span id="リンク-3" class="fragment"></span><a href="#%E3%83%AA%E3%83%B3%E3%82%AF-3"><i class="fa fa-link"></i></a>リンク</h3>

<p><a href="https://docs.microsoft.com/ja-jp/dotnet/csharp/language-reference/compiler-options/optimize-compiler-option" rel="nofollow noopener" target="_blank">/optimize (C# コンパイラ オプション)</a></p>

<h2>
<span id="pdbファイルシンボルファイル" class="fragment"></span><a href="#pdb%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%B7%E3%83%B3%E3%83%9C%E3%83%AB%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB"><i class="fa fa-link"></i></a>PDBファイル(シンボルファイル)</h2>

<p>PDB(Program DataBase)ファイルは、ソースコードのステートメントとEXEファイルの実行命令を対応付けるファイルで、シンボルファイルとも言う。</p>

<p>このPDBファイルがあると、アプリケーションがクラッシュしたときにどのソースコードファイルの何行目でエラーが発生したかなど、デバッグに有用な情報を得ることができる。</p>

<p><a href="https://camo.qiitausercontent.com/73d56d807da8679fb9dd25d8b7ccbdecefb395ef/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3131383435312f35376564393232322d626238662d363238622d653835372d3064656161323139346136372e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2F57ed9222-bb8f-628b-e857-0deaa2194a67.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=49588ae3ffbb8b95cd4d272ba0255d79" alt="3-4-pdbfile.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/118451/57ed9222-bb8f-628b-e857-0deaa2194a67.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2F57ed9222-bb8f-628b-e857-0deaa2194a67.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=efee55cb0673311c50192ec5cd06d381 1x" loading="lazy"></a></p>

<p>PDBファイルがないときのスタックトレース：ソースコードファイルと行番号がわからなくてデバッグに困る</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>System.ArgumentNullException: 値を Null にすることはできません。
   場所 ConsoleApp8.Program.C()
   場所 ConsoleApp8.Program.B()
   場所 ConsoleApp8.Program.A()
   場所 ConsoleApp8.Program.Main(String[] args)
</code></pre></div></div>

<p>PDBファイルがあるときのスタックトレース：ソースコードファイルと行番号がわかってデバッグが捗る</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>System.ArgumentNullException: 値を Null にすることはできません。
   場所 ConsoleApp8.Program.C() 場所 C:\Users\ichiro.tanaka\Documents\Visual Studio 2017\Projects\ConsoleApp8\ConsoleApp8\Program.cs:行 38
   場所 ConsoleApp8.Program.B() 場所 C:\Users\ichiro.tanaka\Documents\Visual Studio 2017\Projects\ConsoleApp8\ConsoleApp8\Program.cs:行 33
   場所 ConsoleApp8.Program.A() 場所 C:\Users\ichiro.tanaka\Documents\Visual Studio 2017\Projects\ConsoleApp8\ConsoleApp8\Program.cs:行 28
   場所 ConsoleApp8.Program.Main(String[] args) 場所 C:\Users\ichiro.tanaka\Documents\Visual Studio 2017\Projects\ConsoleApp8\ConsoleApp8\Program.cs:行 16
</code></pre></div></div>

<p>ちなみにPDBファイルにはソースコードのフルパスが埋め込まれている。なのでうっかりしてると↑のように開発者のユーザ名が漏れたりするので気を付けよう。といってもEXEファイルにもファイルパスは残るので、そもそもパスにユーザ名等が含まれない場所でビルドするのが良い。</p>

<h3>
<span id="デバッグ情報の設定" class="fragment"></span><a href="#%E3%83%87%E3%83%90%E3%83%83%E3%82%B0%E6%83%85%E5%A0%B1%E3%81%AE%E8%A8%AD%E5%AE%9A"><i class="fa fa-link"></i></a>デバッグ情報の設定</h3>

<p>デバッグ情報のレベルを変えることもできる。既定ではDebugビルドではfull、Releaseビルドではpdb-onlyという設定になっている。</p>

<p>Visual Studioでは、プロジェクトを右クリック ⇒ プロパティ ⇒ ビルド ⇒ 出力 ⇒ 詳細設定 ⇒ 「ビルドの詳細設定」 ⇒ 出力-デバッグ情報 で設定を変更できる。</p>

<p><a href="https://camo.qiitausercontent.com/523032e7c72eb8223093cfe7fda6563432e7a9db/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3131383435312f33626366656263652d396539632d396136362d653066322d3563333564353366363464342e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2F3bcfebce-9e9c-9a66-e0f2-5c35d53f64d4.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=0d0323937ceb2a46387fbf688933d669" alt="3-4-debug.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/118451/3bcfebce-9e9c-9a66-e0f2-5c35d53f64d4.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2F3bcfebce-9e9c-9a66-e0f2-5c35d53f64d4.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=16d9b87527609995be923bce02ae49ee 1x" loading="lazy"></a></p>

<h3>
<span id="リンク-4" class="fragment"></span><a href="#%E3%83%AA%E3%83%B3%E3%82%AF-4"><i class="fa fa-link"></i></a>リンク</h3>

<ul>
<li><a href="https://msdn.microsoft.com/ja-jp/library/ms241613.aspx" rel="nofollow noopener" target="_blank">シンボル (.pdb) ファイル、ソース ファイル、およびバイナリ ファイルの検索</a></li>
<li><a href="https://docs.microsoft.com/ja-jp/dotnet/csharp/language-reference/compiler-options/debug-compiler-option" rel="nofollow noopener" target="_blank">/debug (C# コンパイラ オプション)</a></li>
</ul>

<h2>
<span id="exercise" class="fragment"></span><a href="#exercise"><i class="fa fa-link"></i></a>Exercise</h2>

<h3>
<span id="ビルドとpdbファイルとスタックトレース" class="fragment"></span><a href="#%E3%83%93%E3%83%AB%E3%83%89%E3%81%A8pdb%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%A8%E3%82%B9%E3%82%BF%E3%83%83%E3%82%AF%E3%83%88%E3%83%AC%E3%83%BC%E3%82%B9"><i class="fa fa-link"></i></a>ビルドとPDBファイルとスタックトレース</h3>

<p>ビルドの種類とPDBファイルの有無で、スタックトレースにどのような違いが出るか？</p>

<p>実施手順</p>

<ol>
<li>下記のコードをDebugビルドでコンパイル</li>
<li>生成された.exeファイルを実行し、表示されるスタックトレースを見る</li>
<li>同じディレクトリにある.pdbファイルを消したあと再度.exeファイル実行し、出力されるスタックトレースを見る</li>
<li>Releaseビルドで1～3を実施し、下記パターンのスタックトレースを比較する

<ul>
<li>Debugビルド / PDBファイル有り</li>
<li>Debugビルド / PDBファイル無し</li>
<li>Releaseビルド / PDBファイル有り</li>
<li>Releaseビルド / PDBファイル無し</li>
</ul>
</li>
</ol>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">class</span> <span class="nc">Program</span>
<span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">try</span>
        <span class="p">{</span>
            <span class="nf">A</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">e</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="n">Console</span><span class="p">.</span><span class="nf">ReadLine</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">static</span> <span class="k">void</span> <span class="nf">A</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nf">B</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">static</span> <span class="k">void</span> <span class="nf">B</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nf">C</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">static</span> <span class="k">void</span> <span class="nf">C</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">NotImplementedException</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3>
<span id="コードの最適化とは" class="fragment"></span><a href="#%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E6%9C%80%E9%81%A9%E5%8C%96%E3%81%A8%E3%81%AF"><i class="fa fa-link"></i></a>コードの最適化とは</h3>

<p>最適化の有効・無効ではどんな違うがでる？</p>

<ol>
<li>下記のコードをDebugビルド（または最適化無し）でコンパイルし、生成された IL を見る</li>
<li>下記のコードをReleaseビルド（または最適化有り）でコンパイルし、生成された IL を見る</li>
</ol>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">void</span> <span class="nf">Main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">string</span> <span class="n">a</span> <span class="p">=</span> <span class="s">"  abcdefg  "</span><span class="p">;</span>
    <span class="kt">string</span> <span class="n">b</span> <span class="p">=</span> <span class="n">a</span><span class="p">.</span><span class="nf">Substring</span><span class="p">(</span><span class="m">2</span><span class="p">);</span>
    <span class="kt">string</span> <span class="n">c</span> <span class="p">=</span> <span class="n">b</span><span class="p">.</span><span class="nf">Remove</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">2</span><span class="p">);</span>
    <span class="kt">string</span> <span class="n">d</span> <span class="p">=</span> <span class="n">c</span><span class="p">.</span><span class="nf">Trim</span><span class="p">();</span>

    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">d</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>LINQPadで最適化の有効・無効を切り替えるには、メニュー ⇒ Edit ⇒ Preferences ⇒ Query ⇒ Query Optimization</p>

<p><a href="https://camo.qiitausercontent.com/9e9366ed80e1fbe938a129431b1533966ba7f579/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3131383435312f65313332643634342d346232622d663433352d656661332d3163653633336130363465342e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2Fe132d644-4b2b-f435-efa3-1ce633a064e4.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d0c5e1a469b192012e93b3c2a497df82" alt="3-4-linqpad.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/118451/e132d644-4b2b-f435-efa3-1ce633a064e4.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2Fe132d644-4b2b-f435-efa3-1ce633a064e4.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=aaa032ccaae3a8921cae9584363abb2c 1x" loading="lazy"></a></p>

<p>生成される IL は IL タブで見れる</p>

<p><a href="https://camo.qiitausercontent.com/a7d490d0ab244f356c98b8983c362c55ce2f2847/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3131383435312f34333839653937352d393064322d336564362d343361662d3461626638373233393463312e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2F4389e975-90d2-3ed6-43af-4abf872394c1.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=8b75b61e9bd99015d1f170ebf7ad59e1" alt="3-4-linqpad-il.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/118451/4389e975-90d2-3ed6-43af-4abf872394c1.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2F4389e975-90d2-3ed6-43af-4abf872394c1.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=bf863aa5225b2316f1374f799fdca6eb 1x" loading="lazy"></a></p>

<p>ILをVisual Studioで見たい場合は <a href="https://docs.microsoft.com/ja-jp/dotnet/framework/tools/ildasm-exe-il-disassembler" rel="nofollow noopener" target="_blank">Ildasm.exe (IL 逆アセンブラー)</a> が使える。</p>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2Ftakutoy%2Fitems%2F817a9f82a430c1096ff4&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2Ftakutoy%2Fitems%2F817a9f82a430c1096ff4&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/takutoy/items/817a9f82a430c1096ff4/likers" class="css-1iupg5d">5</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">5</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/817a9f82a430c1096ff4/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/takutoy/items/817a9f82a430c1096ff4/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/takutoy/items/817a9f82a430c1096ff4/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/takutoy/items/817a9f82a430c1096ff4/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/takutoy/items/817a9f82a430c1096ff4.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-da59c364-794d-4acf-a45a-87cbdff9cb8a">{"authorAnalyticsTrackingId":null,"organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-bec246f0-90a2-4335-8516-a2e83b7eccdf"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-bec246f0-90a2-4335-8516-a2e83b7eccdf">{}</script>
      
<div id="LoginModal-react-component-fb6b03d2-49d0-4908-a0cc-f68b6c3c08fd"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-fb6b03d2-49d0-4908-a0cc-f68b6c3c08fd">{}</script>
      
<div id="StockModal-react-component-7b5ae8dd-7a22-466b-b5b8-7f04fb82c097"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-7b5ae8dd-7a22-466b-b5b8-7f04fb82c097">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;6E6vYLfXL30/tJfPF8ts+W/2Arysjx+qaV60tQoGxUOovBeUppJGVTwfl6DutPuL0CX+7YSn2vncwXLnOk9HNA==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\u003cp\u003eMCP試験 \u003ca href=\"https://www.microsoft.com/ja-jp/learning/exam-70-483.aspx\" rel=\"nofollow noopener\" target=\"_blank\"\u003e70-483 Programming in C#\u003c/a\u003e の学習材料。\u003c/p\u003e\n\n\u003cp\u003e目次は\u003ca href=\"http://qiita.com/takutoy/items/863ab5523cf59173257a\" id=\"reference-c59c11e60ae80a227953\"\u003eこちら\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"3-4-アプリケーションをデバッグする\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3-4-%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E3%83%87%E3%83%90%E3%83%83%E3%82%B0%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3-4 アプリケーションをデバッグする\u003c/h1\u003e\n\n\u003cp\u003eC#プログラムをデバッグするための前提知識。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"debugビルドとreleaseビルド\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#debug%E3%83%93%E3%83%AB%E3%83%89%E3%81%A8release%E3%83%93%E3%83%AB%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eDebugビルドとReleaseビルド\u003c/h2\u003e\n\n\u003cp\u003eVisual StudioのC#プロジェクトではDebugとReleaseの2種類のビルドが用意されている。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eDebugビルド：デバッグに最適化された構成\u003c/li\u003e\n\u003cli\u003eReleaseビルド：パフォーマンスに最適化された構成\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e具体的な構成の違いは下記の通り。\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align: left\"\u003e\u003c/th\u003e\n\u003cth style=\"text-align: left\"\u003eDebug\u003c/th\u003e\n\u003cth style=\"text-align: left\"\u003eRelease\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003e定義される定数\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eDEBUG, TRACE\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eTRACE\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003eコードの最適化\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e無し\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e有り\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003eデバッグ情報\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003efull\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003epdb-only\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"debug定数とtrace定数\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#debug%E5%AE%9A%E6%95%B0%E3%81%A8trace%E5%AE%9A%E6%95%B0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eDEBUG定数とTRACE定数\u003c/h2\u003e\n\n\u003cp\u003eDebugビルドではDEBUG、TRACEの2つの定数が定義される。ReleaseビルドではTRACE定数のみが定義される。DEBUG定数とTRACE定数は主に下記の用途で使用される。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eDebugクラスとTraceクラス\u003c/li\u003e\n\u003cli\u003eConditionalAttribute\u003c/li\u003e\n\u003cli\u003eプリプロセッサ(#ifディレクティブ)\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eVisual Studioではプロジェクトを右クリック ⇒ プロパティ ⇒ ビルド ⇒ 全般-「DEBUG定数の定義」「TRACE定数の定義」で設定されている。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/6e1d4ac28963ad5bc6fe73ecc002f577386fe8dc/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3131383435312f33323361656635322d393631302d353564332d313136372d3532363266663665363262612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2F323aef52-9610-55d3-1167-5262ff6e62ba.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=1de0db7daee5e7d2c48432ca7e89ba76\" alt=\"3-4-defineconsts.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/118451/323aef52-9610-55d3-1167-5262ff6e62ba.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2F323aef52-9610-55d3-1167-5262ff6e62ba.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=87688d759ec635d45bc188ef412eb2cc 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"debugクラスとtraceクラス\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#debug%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%A8trace%E3%82%AF%E3%83%A9%E3%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eDebugクラスとTraceクラス\u003c/h2\u003e\n\n\u003cp\u003eSystem.Diagnostics.Debug クラスと System.Diagnostics.Traceクラスには、Assert, Fail, Write, Indent, Unindent など、アプリケーションログやテスト(アサーション)に有用なメソッドやプロパティが用意されている。\u003c/p\u003e\n\n\u003cp\u003eDebugクラスのメソッドは、DEBUG定数が定義されている（Debugビルドの既定）場合のみ実行される。Traceクラスのメソッドは、TRACE定数が定義されている（DebugビルドとReleaseビルドの既定）場合のみ実行される。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"サンプルコード\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AB%E3%82%B3%E3%83%BC%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eサンプルコード\u003c/h3\u003e\n\n\u003cp\u003eこのコードをDebugビルドとReleaseビルドで実行すると、\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"n\"\u003eDebug\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"debug\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"n\"\u003eTrace\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"trace\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// WriteIf: 第一引数が true の場合、メッセージを出力\u003c/span\u003e\n\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003esize\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e1234\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"n\"\u003eDebug\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLineIf\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esize\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"m\"\u003e1000\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"debug: sizeが1000を超えた！\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"n\"\u003eTrace\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLineIf\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esize\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"m\"\u003e1000\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"trace: sizeが1000を超えた！\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// Assert: 第一引数が false の場合、プログラムを中断してメッセージを出力\u003c/span\u003e\n\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eindex\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"n\"\u003eDebug\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAssert\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eindex\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"debug: index must be a positive integer!\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"n\"\u003eTrace\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAssert\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eindex\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"trace: index must be a positive integer!\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eDebugビルドで実行した場合の出力：Debug, Trace両方のメッセージが出力\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003edebug\ntrace\ndebug: sizeが1000を超えた！\ntrace: sizeが1000を超えた！\n---- デバッグ アサート失敗 ----\n---- 短いメッセージのアサート ----\ndebug: index must be a positive integer!\n---- 長いメッセージのアサート ----\n\n※メッセージダイアログ※\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eReleaseビルドで実行した場合の出力：Debugメッセージは出力されない\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003etrace\ntrace: sizeが1000を超えた！\n---- デバッグ アサート失敗 ----\n---- 短いメッセージのアサート ----\ntrace: index must be a positive integer!\n---- 長いメッセージのアサート ----\n\n※メッセージダイアログ※\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e※VisualStudioで実行する場合、Debug, Traceで出力したメッセージは出力ウィンドウの出力先：デバッグに表示される。出力ウィンドウがない場合は、メニューの デバッグ⇒ウィンドウ⇒出力 で表示できる。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"リンク\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AA%E3%83%B3%E3%82%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eリンク\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://msdn.microsoft.com/ja-jp/library/system.diagnostics.debug(v=vs.110).aspx\" rel=\"nofollow noopener\" target=\"_blank\"\u003eDebugクラス\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://msdn.microsoft.com/ja-jp/library/system.diagnostics.trace(v=vs.110).aspx\" rel=\"nofollow noopener\" target=\"_blank\"\u003eTraceクラス\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://msdn.microsoft.com/ja-jp/library/bs4c1wda.aspx\" rel=\"nofollow noopener\" target=\"_blank\"\u003e出力ウィンドウの診断メッセージ\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://msdn.microsoft.com/ja-jp/library/ttcc4x86.aspx\" rel=\"nofollow noopener\" target=\"_blank\"\u003eマネージコードのアサーション\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"conditionalattribute\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#conditionalattribute\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eConditionalAttribute\u003c/h2\u003e\n\n\u003cp\u003e定数が定義されていないときにメソッドの呼び出しを無視するようコンパイラに指示するための属性。デバッグビルド時にだけ実行したいメソッドを作りたくなった時などに使う。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"サンプルコード-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AB%E3%82%B3%E3%83%BC%E3%83%89-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eサンプルコード\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eProgram\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"nf\"\u003eWriteDebugMessage\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"てすと\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// このメソッドは DEBUG 定数が定義されている時だけ実行される\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003eConditional\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"DEBUG\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\n    \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eWriteDebugMessage\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Releaseビルドでは実行されないよ！\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"debugtraceクラスのメソッド\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#debugtrace%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AE%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eDebug/Traceクラスのメソッド\u003c/h3\u003e\n\n\u003cp\u003eDebugクラスとTraceクラスの各メソッドには ConditionalAttribute が付けられている。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e// Debug.WriteLine メソッドの定義\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003eConditionalAttribute\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"DEBUG\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003eobject\u003c/span\u003e \u003cspan class=\"k\"\u003evalue\u003c/span\u003e\n\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e// Trace.WriteLine メソッドの定義\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003eConditionalAttribute\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"TRACE\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003eobject\u003c/span\u003e \u003cspan class=\"k\"\u003evalue\u003c/span\u003e\n\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"リンク-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AA%E3%83%B3%E3%82%AF-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eリンク\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://msdn.microsoft.com/ja-jp/library/system.diagnostics.conditionalattribute(v=vs.110).aspx\" rel=\"nofollow noopener\" target=\"_blank\"\u003eConditionalAttributeクラス\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"ifディレクティブ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#if%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%86%E3%82%A3%E3%83%96\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e#ifディレクティブ\u003c/h2\u003e\n\n\u003cp\u003eifディレクティブは\u003ca href=\"https://docs.microsoft.com/ja-jp/dotnet/csharp/language-reference/preprocessor-directives/index\" rel=\"nofollow noopener\" target=\"_blank\"\u003eプリプロセッサディレクティブ\u003c/a\u003eの一つで、ビルドで定義されている定数によってコンパイルするコードを切り変えることができる。ConditionalAttributeと似ているが、ifディレクティブはメソッド単位ではなくソースコードの任意の行の範囲に適用できる。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"サンプルコード-2\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AB%E3%82%B3%E3%83%BC%E3%83%89-2\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eサンプルコード\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003enamespace\u003c/span\u003e \u003cspan class=\"nn\"\u003eConsoleApp8\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eProgram\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003cspan class=\"cp\"\u003e#if DEBUG\n\u003c/span\u003e            \u003cspan class=\"n\"\u003eConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"DEBUG定数が定義されている\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"cp\"\u003e#endif\n\u003c/span\u003e\n\u003cspan class=\"cp\"\u003e#if RELEASE\n\u003c/span\u003e            \u003cspan class=\"n\"\u003eConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"RELEASE定数なんてないよ！\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"cp\"\u003e#elif TRACE\n\u003c/span\u003e            \u003cspan class=\"n\"\u003eConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"TRACE定数が定義されている\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"cp\"\u003e#else\n\u003c/span\u003e            \u003cspan class=\"n\"\u003eConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"RELEASE定数もTRACE定数も定義されていない\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"cp\"\u003e#endif\n\u003c/span\u003e        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eDebugビルド(DEBUG, TRACE定数が定義)の時は次のコードとしてコンパイルされる\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003enamespace\u003c/span\u003e \u003cspan class=\"nn\"\u003eConsoleApp8\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eProgram\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"DEBUG定数が定義されている\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"TRACE定数が定義されている\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eReleaseビルド(TRACE定数が定義)の時は次のコードとしてコンパイルされる\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003enamespace\u003c/span\u003e \u003cspan class=\"nn\"\u003eConsoleApp8\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eProgram\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"TRACE定数が定義されている\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"debug-trace以外の定数定義\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#debug-trace%E4%BB%A5%E5%A4%96%E3%81%AE%E5%AE%9A%E6%95%B0%E5%AE%9A%E7%BE%A9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eDEBUG, TRACE以外の定数定義\u003c/h3\u003e\n\n\u003cp\u003eビルドにはDEBUG, TRACE以外の定数も使用できる。Visual Studioでは、プロジェクトを右クリック ⇒ プロパティ ⇒ ビルド ⇒ 全般-条件付きコンパイルシンボル に好きな定数を定義できる。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/ec542a4f1a4a21680a3894f9a62e2a0265b31bd5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3131383435312f31616433323435302d623864612d636635622d643962662d3338613866373030396430352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2F1ad32450-b8da-cf5b-d9bf-38a8f7009d05.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a1001deeb82c711805f02d2d3d365880\" alt=\"3-4-defineconsts2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/118451/1ad32450-b8da-cf5b-d9bf-38a8f7009d05.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2F1ad32450-b8da-cf5b-d9bf-38a8f7009d05.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=1dd34c6ec557078dc85e6cc04364eac7 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"リンク-2\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AA%E3%83%B3%E3%82%AF-2\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eリンク\u003c/h3\u003e\n\n\u003cp\u003eプリプロセッサディレクティブには、#if以外にも #define, #warning, #error, #region, #pragma などがある。詳細は次のリンク先で。\u003ca href=\"https://docs.microsoft.com/ja-jp/dotnet/csharp/language-reference/preprocessor-directives/index\" rel=\"nofollow noopener\" target=\"_blank\"\u003eC# プリプロセッサ ディレクティブ\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e#ifディレクティブとConditionalAttributeの違いについては次のページで解説されている。\u003ca href=\"http://smdn.jp/programming/netfx/conditional/\" rel=\"nofollow noopener\" target=\"_blank\"\u003e条件付きの呼び出し (ConditionalAttribute) - Programming/.NET Framework - 総武ソフトウェア推進所\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"コードの最適化\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E6%9C%80%E9%81%A9%E5%8C%96\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eコードの最適化\u003c/h2\u003e\n\n\u003cp\u003eコードの最適化を有効にすると、コンパイラによって実行されないコードが除外されたりより効率の良い等価なコードに置き換えられたりする。既定ではDebugビルドでは最適化は無効化され、Releaseビルドでは最適化が有効化されている。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/e7a834edcb8e689ce6c07d26b28e9a8949359e83/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3131383435312f64303137366532642d383438332d383132352d396661642d6439633063646163396432612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2Fd0176e2d-8483-8125-9fad-d9c0cdac9d2a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=bd8498e0700032c21bf70a668fc11c42\" alt=\"3-4-optimize.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/118451/d0176e2d-8483-8125-9fad-d9c0cdac9d2a.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2Fd0176e2d-8483-8125-9fad-d9c0cdac9d2a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=b14b56ed729e24a1978deed7a6f8f044 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"リンク-3\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AA%E3%83%B3%E3%82%AF-3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eリンク\u003c/h3\u003e\n\n\u003cp\u003e\u003ca href=\"https://docs.microsoft.com/ja-jp/dotnet/csharp/language-reference/compiler-options/optimize-compiler-option\" rel=\"nofollow noopener\" target=\"_blank\"\u003e/optimize (C# コンパイラ オプション)\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"pdbファイルシンボルファイル\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#pdb%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%B7%E3%83%B3%E3%83%9C%E3%83%AB%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ePDBファイル(シンボルファイル)\u003c/h2\u003e\n\n\u003cp\u003ePDB(Program DataBase)ファイルは、ソースコードのステートメントとEXEファイルの実行命令を対応付けるファイルで、シンボルファイルとも言う。\u003c/p\u003e\n\n\u003cp\u003eこのPDBファイルがあると、アプリケーションがクラッシュしたときにどのソースコードファイルの何行目でエラーが発生したかなど、デバッグに有用な情報を得ることができる。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/73d56d807da8679fb9dd25d8b7ccbdecefb395ef/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3131383435312f35376564393232322d626238662d363238622d653835372d3064656161323139346136372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2F57ed9222-bb8f-628b-e857-0deaa2194a67.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=49588ae3ffbb8b95cd4d272ba0255d79\" alt=\"3-4-pdbfile.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/118451/57ed9222-bb8f-628b-e857-0deaa2194a67.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2F57ed9222-bb8f-628b-e857-0deaa2194a67.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=efee55cb0673311c50192ec5cd06d381 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003ePDBファイルがないときのスタックトレース：ソースコードファイルと行番号がわからなくてデバッグに困る\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003eSystem.ArgumentNullException: 値を Null にすることはできません。\n   場所 ConsoleApp8.Program.C()\n   場所 ConsoleApp8.Program.B()\n   場所 ConsoleApp8.Program.A()\n   場所 ConsoleApp8.Program.Main(String[] args)\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003ePDBファイルがあるときのスタックトレース：ソースコードファイルと行番号がわかってデバッグが捗る\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003eSystem.ArgumentNullException: 値を Null にすることはできません。\n   場所 ConsoleApp8.Program.C() 場所 C:\\Users\\ichiro.tanaka\\Documents\\Visual Studio 2017\\Projects\\ConsoleApp8\\ConsoleApp8\\Program.cs:行 38\n   場所 ConsoleApp8.Program.B() 場所 C:\\Users\\ichiro.tanaka\\Documents\\Visual Studio 2017\\Projects\\ConsoleApp8\\ConsoleApp8\\Program.cs:行 33\n   場所 ConsoleApp8.Program.A() 場所 C:\\Users\\ichiro.tanaka\\Documents\\Visual Studio 2017\\Projects\\ConsoleApp8\\ConsoleApp8\\Program.cs:行 28\n   場所 ConsoleApp8.Program.Main(String[] args) 場所 C:\\Users\\ichiro.tanaka\\Documents\\Visual Studio 2017\\Projects\\ConsoleApp8\\ConsoleApp8\\Program.cs:行 16\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eちなみにPDBファイルにはソースコードのフルパスが埋め込まれている。なのでうっかりしてると↑のように開発者のユーザ名が漏れたりするので気を付けよう。といってもEXEファイルにもファイルパスは残るので、そもそもパスにユーザ名等が含まれない場所でビルドするのが良い。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"デバッグ情報の設定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%87%E3%83%90%E3%83%83%E3%82%B0%E6%83%85%E5%A0%B1%E3%81%AE%E8%A8%AD%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eデバッグ情報の設定\u003c/h3\u003e\n\n\u003cp\u003eデバッグ情報のレベルを変えることもできる。既定ではDebugビルドではfull、Releaseビルドではpdb-onlyという設定になっている。\u003c/p\u003e\n\n\u003cp\u003eVisual Studioでは、プロジェクトを右クリック ⇒ プロパティ ⇒ ビルド ⇒ 出力 ⇒ 詳細設定 ⇒ 「ビルドの詳細設定」 ⇒ 出力-デバッグ情報 で設定を変更できる。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/523032e7c72eb8223093cfe7fda6563432e7a9db/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3131383435312f33626366656263652d396539632d396136362d653066322d3563333564353366363464342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2F3bcfebce-9e9c-9a66-e0f2-5c35d53f64d4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=0d0323937ceb2a46387fbf688933d669\" alt=\"3-4-debug.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/118451/3bcfebce-9e9c-9a66-e0f2-5c35d53f64d4.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2F3bcfebce-9e9c-9a66-e0f2-5c35d53f64d4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=16d9b87527609995be923bce02ae49ee 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"リンク-4\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AA%E3%83%B3%E3%82%AF-4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eリンク\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://msdn.microsoft.com/ja-jp/library/ms241613.aspx\" rel=\"nofollow noopener\" target=\"_blank\"\u003eシンボル (.pdb) ファイル、ソース ファイル、およびバイナリ ファイルの検索\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://docs.microsoft.com/ja-jp/dotnet/csharp/language-reference/compiler-options/debug-compiler-option\" rel=\"nofollow noopener\" target=\"_blank\"\u003e/debug (C# コンパイラ オプション)\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"exercise\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#exercise\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eExercise\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"ビルドとpdbファイルとスタックトレース\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%93%E3%83%AB%E3%83%89%E3%81%A8pdb%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%A8%E3%82%B9%E3%82%BF%E3%83%83%E3%82%AF%E3%83%88%E3%83%AC%E3%83%BC%E3%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eビルドとPDBファイルとスタックトレース\u003c/h3\u003e\n\n\u003cp\u003eビルドの種類とPDBファイルの有無で、スタックトレースにどのような違いが出るか？\u003c/p\u003e\n\n\u003cp\u003e実施手順\u003c/p\u003e\n\n\u003col\u003e\n\u003cli\u003e下記のコードをDebugビルドでコンパイル\u003c/li\u003e\n\u003cli\u003e生成された.exeファイルを実行し、表示されるスタックトレースを見る\u003c/li\u003e\n\u003cli\u003e同じディレクトリにある.pdbファイルを消したあと再度.exeファイル実行し、出力されるスタックトレースを見る\u003c/li\u003e\n\u003cli\u003eReleaseビルドで1～3を実施し、下記パターンのスタックトレースを比較する\n\n\u003cul\u003e\n\u003cli\u003eDebugビルド / PDBファイル有り\u003c/li\u003e\n\u003cli\u003eDebugビルド / PDBファイル無し\u003c/li\u003e\n\u003cli\u003eReleaseビルド / PDBファイル有り\u003c/li\u003e\n\u003cli\u003eReleaseビルド / PDBファイル無し\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eProgram\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003etry\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eA\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ecatch\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eException\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"n\"\u003eConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eReadLine\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eA\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"nf\"\u003eB\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eB\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"nf\"\u003eC\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eC\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethrow\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eNotImplementedException\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"コードの最適化とは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E6%9C%80%E9%81%A9%E5%8C%96%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eコードの最適化とは\u003c/h3\u003e\n\n\u003cp\u003e最適化の有効・無効ではどんな違うがでる？\u003c/p\u003e\n\n\u003col\u003e\n\u003cli\u003e下記のコードをDebugビルド（または最適化無し）でコンパイルし、生成された IL を見る\u003c/li\u003e\n\u003cli\u003e下記のコードをReleaseビルド（または最適化有り）でコンパイルし、生成された IL を見る\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"  abcdefg  \"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSubstring\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003ec\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eRemove\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003ed\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eTrim\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ed\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eLINQPadで最適化の有効・無効を切り替えるには、メニュー ⇒ Edit ⇒ Preferences ⇒ Query ⇒ Query Optimization\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/9e9366ed80e1fbe938a129431b1533966ba7f579/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3131383435312f65313332643634342d346232622d663433352d656661332d3163653633336130363465342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2Fe132d644-4b2b-f435-efa3-1ce633a064e4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d0c5e1a469b192012e93b3c2a497df82\" alt=\"3-4-linqpad.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/118451/e132d644-4b2b-f435-efa3-1ce633a064e4.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2Fe132d644-4b2b-f435-efa3-1ce633a064e4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=aaa032ccaae3a8921cae9584363abb2c 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e生成される IL は IL タブで見れる\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/a7d490d0ab244f356c98b8983c362c55ce2f2847/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3131383435312f34333839653937352d393064322d336564362d343361662d3461626638373233393463312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2F4389e975-90d2-3ed6-43af-4abf872394c1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=8b75b61e9bd99015d1f170ebf7ad59e1\" alt=\"3-4-linqpad-il.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/118451/4389e975-90d2-3ed6-43af-4abf872394c1.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2F4389e975-90d2-3ed6-43af-4abf872394c1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=bf863aa5225b2316f1374f799fdca6eb 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eILをVisual Studioで見たい場合は \u003ca href=\"https://docs.microsoft.com/ja-jp/dotnet/framework/tools/ildasm-exe-il-disassembler\" rel=\"nofollow noopener\" target=\"_blank\"\u003eIldasm.exe (IL 逆アセンブラー)\u003c/a\u003e が使える。\u003c/p\u003e\n","createdAt":"2017-09-30T11:09:05Z","elapsedYearsFromLastModifiedAt":3,"encryptedId":"tmk/Cy1owZhbuK9lKbcc55oVwvVSS9Tx--dkKk8/0wh3JfPXLa--p/hyd7fG+6xUgPohSzZo4Q==","isBanned":false,"isDeprecated":true,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2017-09-30T11:11:31Z","likesCount":5,"linkUrl":"https://qiita.com/takutoy/items/817a9f82a430c1096ff4","organization":null,"originalId":528091,"stockedCount":5,"title":"MCP 70-483 Programming in C# のお勉強 「3-4 アプリケーションをデバッグする」","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#3-4-%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E3%83%87%E3%83%90%E3%83%83%E3%82%B0%E3%81%99%E3%82%8B\"\u003e3-4 アプリケーションをデバッグする\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#debug%E3%83%93%E3%83%AB%E3%83%89%E3%81%A8release%E3%83%93%E3%83%AB%E3%83%89\"\u003eDebugビルドとReleaseビルド\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#debug%E5%AE%9A%E6%95%B0%E3%81%A8trace%E5%AE%9A%E6%95%B0\"\u003eDEBUG定数とTRACE定数\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#debug%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%A8trace%E3%82%AF%E3%83%A9%E3%82%B9\"\u003eDebugクラスとTraceクラス\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AB%E3%82%B3%E3%83%BC%E3%83%89\"\u003eサンプルコード\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%AA%E3%83%B3%E3%82%AF\"\u003eリンク\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#conditionalattribute\"\u003eConditionalAttribute\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AB%E3%82%B3%E3%83%BC%E3%83%89-1\"\u003eサンプルコード\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#debugtrace%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AE%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89\"\u003eDebug/Traceクラスのメソッド\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%AA%E3%83%B3%E3%82%AF-1\"\u003eリンク\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#if%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%86%E3%82%A3%E3%83%96\"\u003e#ifディレクティブ\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AB%E3%82%B3%E3%83%BC%E3%83%89-2\"\u003eサンプルコード\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#debug-trace%E4%BB%A5%E5%A4%96%E3%81%AE%E5%AE%9A%E6%95%B0%E5%AE%9A%E7%BE%A9\"\u003eDEBUG, TRACE以外の定数定義\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%AA%E3%83%B3%E3%82%AF-2\"\u003eリンク\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E6%9C%80%E9%81%A9%E5%8C%96\"\u003eコードの最適化\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%AA%E3%83%B3%E3%82%AF-3\"\u003eリンク\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#pdb%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%B7%E3%83%B3%E3%83%9C%E3%83%AB%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB\"\u003ePDBファイル(シンボルファイル)\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%87%E3%83%90%E3%83%83%E3%82%B0%E6%83%85%E5%A0%B1%E3%81%AE%E8%A8%AD%E5%AE%9A\"\u003eデバッグ情報の設定\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%AA%E3%83%B3%E3%82%AF-4\"\u003eリンク\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#exercise\"\u003eExercise\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%93%E3%83%AB%E3%83%89%E3%81%A8pdb%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%A8%E3%82%B9%E3%82%BF%E3%83%83%E3%82%AF%E3%83%88%E3%83%AC%E3%83%BC%E3%82%B9\"\u003eビルドとPDBファイルとスタックトレース\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E6%9C%80%E9%81%A9%E5%8C%96%E3%81%A8%E3%81%AF\"\u003eコードの最適化とは\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","totalPv":4520,"uuid":"817a9f82a430c1096ff4","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"8Sn/zKHiSw+h70dnTo2OOwUnwBMD--QHkusqDaERAvFRA9--K4jS730Gx7mJMeXFL4YZjg==","originalId":118451,"description":"","facebookUrl":null,"githubUrl":null,"isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"","profileImageUrl":"https://qiita-image-store.s3.amazonaws.com/0/118451/profile-images/1473713930","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2Fprofile-images%2F1473713930?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=4234a0cefd811ecc736ddb1e3f4c3a7a","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F118451%2Fprofile-images%2F1473713930?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=2d63c3b17bbc4477c7258643ea704ed3","urlName":"takutoy","websiteUrl":"https://github.com/takutoy","twitterUrl":null,"twitterUrlName":null,"revealedOrganizations":{"edges":[]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":".NET","urlName":".net"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
