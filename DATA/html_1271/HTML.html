<!DOCTYPE html><html><head><meta charset="utf-8" /><title>ポイントクラウドからNURBS補間曲面を作る on Rhino+Grasshopper - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/KaiSuto/items/2b9f9cebe99238e359bc" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="fnzYRC+HXDqATLKTI+l/CHP/AOxfAAC7TmI6oZGXSV0tndSjpSpua4OzpGHdpQE/FRFhNYAo5LtDl7WGSpQ4vA==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta content="@suto_kai" name="twitter:creator" /><meta property="og:type" content="article"><meta property="og:title" content="ポイントクラウドからNURBS補間曲面を作る on Rhino+Grasshopper - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND00NE9kNDRLazQ0T3o0NE9JNDRLdjQ0T3A0NEttNDRPSjQ0R0w0NEtKVGxWU1FsUG9vNXpwbHBQbW03THBuYUxqZ3BMa3Zaempnb3NnYjI0Z1VtaHBibThyUjNKaGMzTm9iM0J3WlhJJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NTQmdHh0LWNsaXA9ZWxsaXBzaXMmdHh0LWFsaWduPWNlbnRlciUyQ21pZGRsZSZzPWYxZmM3ODYwOTc2ZmVjM2IwOTRiMjMxNGViNjJhZmJl&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRXRoYVZOMWRHOCZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPTU4Njg1MWNhNDNjMGY4NjU3ZjE3YTJkMzczNjA5OWM4&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=dd5c901bf2d032b635472ba6a74edf98"><meta property="og:description" content="

この記事の目的

Tokyo AEC Industry Dev Group で発表したハンズオンの内容を文書でまとめたものです。

Rhino+Grasshopper 上でポイントクラウドから補間曲面をNURBS曲面として生成する..."><meta content="https://qiita.com/KaiSuto/items/2b9f9cebe99238e359bc" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,grasshopper,rhinoceros,補間,RBF" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 1nzh4zz 38fzdi helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-1nzh4zz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 32px;background-color:#FBE69E;color:rgba(0,0,0,0.87);line-height:1.5;font-weight:600;}@media (max-width:770px){.css-1nzh4zz{padding:16px;}}.css-38fzdi{color:#CA832A;margin-right:4px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-d07c7d99-7042-49c7-98b0-85860943c7c3"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2FKaiSuto%2Fitems%2F2b9f9cebe99238e359bc">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2FKaiSuto%2Fitems%2F2b9f9cebe99238e359bc">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-d07c7d99-7042-49c7-98b0-85860943c7c3">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2020-06-08T17:43:25.000+09:00","dateModified":"2020-06-08T17:44:55.000+09:00","headline":"ポイントクラウドからNURBS補間曲面を作る on Rhino+Grasshopper","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND00NE9kNDRLazQ0T3o0NE9JNDRLdjQ0T3A0NEttNDRPSjQ0R0w0NEtKVGxWU1FsUG9vNXpwbHBQbW03THBuYUxqZ3BMa3Zaempnb3NnYjI0Z1VtaHBibThyUjNKaGMzTm9iM0J3WlhJJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NTQmdHh0LWNsaXA9ZWxsaXBzaXMmdHh0LWFsaWduPWNlbnRlciUyQ21pZGRsZSZzPWYxZmM3ODYwOTc2ZmVjM2IwOTRiMjMxNGViNjJhZmJl\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRXRoYVZOMWRHOCZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPTU4Njg1MWNhNDNjMGY4NjU3ZjE3YTJkMzczNjA5OWM4\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=dd5c901bf2d032b635472ba6a74edf98","mainEntityOfPage":"https://qiita.com/KaiSuto/items/2b9f9cebe99238e359bc","author":{"@type":"Person","address":null,"email":null,"identifier":"KaiSuto","name":"KaiSuto","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F365831%2Fprofile-images%2F1591606276?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=16f931d0867d8ed671550d4a31a918df","url":"https://qiita.com/KaiSuto","description":null,"memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://zine.qiita.com/interview/202106-uzabase-3/">社員の行動の基盤となるユーザベースのミッション・バリュー</a><a target="_blank" id="header_text_message_2" href="https://zine.qiita.com/interview/202106-uzabase-3/">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"KaiSuto","type":"items","id":"2b9f9cebe99238e359bc"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"社員の行動の基盤となるユーザベースのミッション・バリュー","url":"https://zine.qiita.com/interview/202106-uzabase-3/","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"KaiSuto","type":"items","id":"2b9f9cebe99238e359bc"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":1,"pos_id":"header_text_message_1","message":"社員の行動の基盤となるユーザベースのミッション・バリュー","url":"https://zine.qiita.com/interview/202106-uzabase-3/","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"KaiSuto","type":"items","id":"2b9f9cebe99238e359bc"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":1,"pos_id":"header_text_message_2","message":"社員の行動の基盤となるユーザベースのミッション・バリュー","url":"https://zine.qiita.com/interview/202106-uzabase-3/","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/KaiSuto/items/2b9f9cebe99238e359bc","location":"/KaiSuto/items/2b9f9cebe99238e359bc","scheme":"https","host":"qiita.com","port":null,"pathname":"/KaiSuto/items/2b9f9cebe99238e359bc","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"+pUTfe+hYd4DODXGymsEl9LbG5zXgEotGweOC28EVsmpdB+aZQxTjwDHIzQ0J3qgtDV6RQiori0W8gEstAcnKA==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-3bb6871a-fdf1-4ac2-ba85-01daccc764aa"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/KaiSuto/items/2b9f9cebe99238e359bc/likers" class="css-1iupg5d">3</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">1</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/2b9f9cebe99238e359bc/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/KaiSuto/items/2b9f9cebe99238e359bc/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/KaiSuto/items/2b9f9cebe99238e359bc/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/KaiSuto/items/2b9f9cebe99238e359bc/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/KaiSuto/items/2b9f9cebe99238e359bc.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-1nzh4zz"><span class="fa fa-fw fa-warning css-38fzdi"></span><p>More than 1 year has passed since last update.</p></div><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/KaiSuto"><img class="css-100alwu eyfquo10" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/365831/profile-images/1591606276" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/KaiSuto" class="css-10ougpm">@<!-- -->KaiSuto</a><div class="css-1ay9vb9"><span><meta content="2020-06-08T08:43:25Z"/><time dateTime="2020-06-08T08:44:55Z" class="css-m19uds">updated at 2020-06-08</time></span></div></div></div></div></div><h1 class="css-cgzq40">ポイントクラウドからNURBS補間曲面を作る on Rhino+Grasshopper</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/grasshopper" class="css-4czcte">grasshopper</a><a href="/tags/rhinoceros" class="css-4czcte">rhinoceros</a><a href="/tags/%e8%a3%9c%e9%96%93" class="css-4czcte">補間</a><a href="/tags/rbf" class="css-4czcte">RBF</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div>
<h1>
<span id="この記事の目的" class="fragment"></span><a href="#%E3%81%93%E3%81%AE%E8%A8%98%E4%BA%8B%E3%81%AE%E7%9B%AE%E7%9A%84"><i class="fa fa-link"></i></a>この記事の目的</h1>

<p><a href="https://www.meetup.com/ja-JP/Tokyo-AEC-Industry-Dev-Group/events/" rel="nofollow noopener" target="_blank">Tokyo AEC Industry Dev Group</a> で発表したハンズオンの内容を文書でまとめたものです。</p>

<p>Rhino+Grasshopper 上でポイントクラウドから補間曲面を<strong>NURBS曲面</strong>として生成するコンポーネントを作ることが目的です。</p>

<p><a href="https://gitlab.com/KaiSuto/pcloud2surface" rel="nofollow noopener" target="_blank">gitlab レポジトリ</a><br>
<a href="https://youtu.be/HpjyCB7QJxM" rel="nofollow noopener" target="_blank">ハンズオンのアーカイブ動画</a></p>

<hr>

<p>This is a hands-on archive of <a href="https://www.meetup.com/ja-JP/Tokyo-AEC-Industry-Dev-Group/events/" rel="nofollow noopener" target="_blank">Tokyo AEC Industry Dev Group</a>.</p>

<p>The purpose of this article is to create a component on Rhino+Grasshopper that generates interpolated surfaces from point clouds as NURBS surfaces.</p>

<p><a href="https://gitlab.com/KaiSuto/pcloud2surface" rel="nofollow noopener" target="_blank">gitlab repository</a><br>
<a href="https://youtu.be/HpjyCB7QJxM" rel="nofollow noopener" target="_blank">Youtube archive of this handson</a></p>

<h1>
<span id="時間構成目安--time-schedule" class="fragment"></span><a href="#%E6%99%82%E9%96%93%E6%A7%8B%E6%88%90%E7%9B%AE%E5%AE%89--time-schedule"><i class="fa fa-link"></i></a>時間構成目安 / Time Schedule</h1>

<ul>
<li>レポジトリをクローンして使ってみる（１５分）</li>
<li>理論的な背景説明（４５分）</li>
<li>実装作業（２時間）</li>
</ul>

<hr>

<ul>
<li>Clone the repository and try to use it (15 min)</li>
<li>Theoretical background　(45 min)</li>
<li>Implementation (2 hour)</li>
</ul>

<h1>
<span id="このハンズオンで何ができるようになるか--what-we-learn" class="fragment"></span><a href="#%E3%81%93%E3%81%AE%E3%83%8F%E3%83%B3%E3%82%BA%E3%82%AA%E3%83%B3%E3%81%A7%E4%BD%95%E3%81%8C%E3%81%A7%E3%81%8D%E3%82%8B%E3%82%88%E3%81%86%E3%81%AB%E3%81%AA%E3%82%8B%E3%81%8B--what-we-learn"><i class="fa fa-link"></i></a>このハンズオンで何ができるようになるか？ / What We Learn?</h1>

<p>3Dスキャンなどから取得したランダムな点群から元の形状を「Nurbs Surface」として復元する GH コンポーネントを実装します。</p>

<hr>

<p>We implement a GH component that restores the original shape as a "Nurbs Surface" from a random point cloud obtained from a 3D scan, etc.</p>

<p><a href="https://camo.qiitausercontent.com/9ef8a1a44d479c1f4fbfc1b3c2d15ed9289d8ce2/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33302f35303032372f62636630313366332d643163302d343133372d393761372d3636636433323836353735622e706e67" target="_blank" rel="nofollow noopener"><img width="1002" alt="image.png (361.5 kB)" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2Fbcf013f3-d1c0-4137-97a7-66cd3286575b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=e1923e85039cd56229fcbc6a33227d44" data-canonical-src="https://img.esa.io/uploads/production/attachments/11581/2020/05/30/50027/bcf013f3-d1c0-4137-97a7-66cd3286575b.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2Fbcf013f3-d1c0-4137-97a7-66cd3286575b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=580d11cb20460759353765d70edc8f66 1x" loading="lazy"></a></p>

<h1>
<span id="必要なもの--requirements" class="fragment"></span><a href="#%E5%BF%85%E8%A6%81%E3%81%AA%E3%82%82%E3%81%AE--requirements"><i class="fa fa-link"></i></a>必要なもの / Requirements</h1>

<ul>
<li>Rhino 6</li>
<li>Visual Studio</li>
<li>C# の基本的な知識</li>
</ul>

<hr>

<ul>
<li>Rhino 6</li>
<li>Visual Studio</li>
<li>Basic knowledge of C#</li>
</ul>

<h1>
<span id="まずは使ってみる--lets-use-it-first" class="fragment"></span><a href="#%E3%81%BE%E3%81%9A%E3%81%AF%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%8B--lets-use-it-first"><i class="fa fa-link"></i></a>まずは使ってみる / Let's use it first</h1>

<ol>
<li>
<a href="https://gitlab.com/KaiSuto/pcloud2surface" rel="nofollow noopener" target="_blank">このレポジトリ</a>を Visual Studio にクローンします。</li>
<li>PCloud2Surface.sln をダブルクリックしてプロジェクトを立ち上げます。</li>
<li>プロジェクトをビルドします（Nuget が立ち上がり ALGLIB がインストールされつつビルドされます）。</li>
<li>ビルドが無事成功したらデバッグモードで Rhino6 を立ち上げます。</li>
<li>Rhino のコマンド上で GrasshopperDeveloperSettings と打ち、プロジェクトのバイナリへの参照を追加します。</li>
<li>gh ディレクトリ内の example.gh を開きます。</li>
<li>点群から Nurbs Surface が復元されていることが確かめられたら成功です！</li>
</ol>

<hr>

<ol>
<li>Clone <a href="https://gitlab.com/KaiSuto/pcloud2surface" rel="nofollow noopener" target="_blank">this repository</a> into your Visual Studio.</li>
<li>Double click the PCloud2Surface.sln and launch its project.</li>
<li>Build the project (Nuget will start up and ALGLIB will be installed, then the project will be built).</li>
<li>After a successful build, launch Rhino6 in debug mode.</li>
<li>On the Rhino command, type "GrasshopperDeveloperSettings" to add a reference to the project's binary.</li>
<li>Open the example.gh in gh derectory.</li>
<li>If you can confirm that the Nurbs Surface has been recovered from the point cloud, you've succeeded!</li>
</ol>

<h1>
<span id="理論的背景パート--theoretical-background" class="fragment"></span><a href="#%E7%90%86%E8%AB%96%E7%9A%84%E8%83%8C%E6%99%AF%E3%83%91%E3%83%BC%E3%83%88--theoretical-background"><i class="fa fa-link"></i></a>理論的背景パート / Theoretical Background</h1>

<h2>
<span id="そもそも補間って何--what-is-interpolation" class="fragment"></span><a href="#%E3%81%9D%E3%82%82%E3%81%9D%E3%82%82%E8%A3%9C%E9%96%93%E3%81%A3%E3%81%A6%E4%BD%95--what-is-interpolation"><i class="fa fa-link"></i></a>そもそも補間って何？ / What is Interpolation?</h2>

<p><a href="https://ja.wikipedia.org/wiki/%E5%86%85%E6%8C%BF" rel="nofollow noopener" target="_blank">Wiki</a> によると<br>
「内挿（ないそう、英: interpolation）や補間（ほかん）とは、ある既知の数値データ列を基にして、そのデータ列の各区間の範囲内を埋める数値を求めること、またはそのような関数を与えること。」<br>
となっています。</p>

<p><a href="https://camo.qiitausercontent.com/f5aa4496e96a4bed06df1f71046ee638852592ff/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33302f35303032372f39336162663864662d333265312d343039642d616437642d3963326639323235646132662e706e67" target="_blank" rel="nofollow noopener"><img width="300" alt="image.png (44.5 kB)" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F93abf8df-32e1-409d-ad7d-9c2f9225da2f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=ee9889dc6cbabaf7b7e73bb197f54719" data-canonical-src="https://img.esa.io/uploads/production/attachments/11581/2020/05/30/50027/93abf8df-32e1-409d-ad7d-9c2f9225da2f.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F93abf8df-32e1-409d-ad7d-9c2f9225da2f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=4b25fef9a61f6ce35ed415cb492ae22f 1x" loading="lazy"></a></p>

<p><a href="https://camo.qiitausercontent.com/efd1fb9df3448e3b903112427922536065188fde/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33302f35303032372f31356534303731662d616233302d346433622d386631352d3865393332316134646130312e706e67" target="_blank" rel="nofollow noopener"><img width="300" alt="image.png (46.8 kB)" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F15e4071f-ab30-4d3b-8f15-8e9321a4da01.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=ea981434d4fd02f47f6c47944d801aaa" data-canonical-src="https://img.esa.io/uploads/production/attachments/11581/2020/05/30/50027/15e4071f-ab30-4d3b-8f15-8e9321a4da01.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F15e4071f-ab30-4d3b-8f15-8e9321a4da01.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=bba8a4faf846603c8fad3ae8058fc926 1x" loading="lazy"></a><a href="https://camo.qiitausercontent.com/aa7feb9b0d2ab32fd7906857e7418594853354fa/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33302f35303032372f35613038363663392d366564322d346237612d396366322d3135353035656338373434342e706e67" target="_blank" rel="nofollow noopener"><img width="300" alt="image.png (55.2 kB)" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F5a0866c9-6ed2-4b7a-9cf2-15505ec87444.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=e292f2d575280845f34fd68c5e800643" data-canonical-src="https://img.esa.io/uploads/production/attachments/11581/2020/05/30/50027/5a0866c9-6ed2-4b7a-9cf2-15505ec87444.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F5a0866c9-6ed2-4b7a-9cf2-15505ec87444.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=07fc6556db1083b417ae0bbe8530b894 1x" loading="lazy"></a><a href="https://camo.qiitausercontent.com/b5614d8f277093a5ab15e04a7c4070fa080a0aa9/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33302f35303032372f30333761646634652d386463302d343862312d383631362d6339623139646230623736662e706e67" target="_blank" rel="nofollow noopener"><img width="300" alt="image.png (36.8 kB)" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F037adf4e-8dc0-48b1-8616-c9b19db0b76f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d656160234562f3e6b4afb45c4e5cba2" data-canonical-src="https://img.esa.io/uploads/production/attachments/11581/2020/05/30/50027/037adf4e-8dc0-48b1-8616-c9b19db0b76f.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F037adf4e-8dc0-48b1-8616-c9b19db0b76f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=025ad993e17dcd7438e3a9d0aafad9b3 1x" loading="lazy"></a><a href="https://camo.qiitausercontent.com/94ecc2de2656d4b3f88532b76895f1ec5119505a/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33302f35303032372f64323435343736342d663861652d346665342d393064632d6164353065326132616238372e706e67" target="_blank" rel="nofollow noopener"><img width="300" alt="image.png (46.7 kB)" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2Fd2454764-f8ae-4fe4-90dc-ad50e2a2ab87.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=a6262f19d62a1f6ed9b92f0b31ec1f92" data-canonical-src="https://img.esa.io/uploads/production/attachments/11581/2020/05/30/50027/d2454764-f8ae-4fe4-90dc-ad50e2a2ab87.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2Fd2454764-f8ae-4fe4-90dc-ad50e2a2ab87.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=6cb69fb765166543e261d68373eff46a 1x" loading="lazy"></a></p>

<p>既知の数値データ列からその間を埋められると、どういった利点があるのでしょうか？</p>

<p>一番わかりやすい例は、今回実装する「点群から曲面生成をする」、といった幾何処理ができるということかと思います。</p>

<p>もうちょっと高度な例だと、AEC の文脈で、例えばＧＨ上で定義したパラメトリックモデルに対して何かしらの構造計算や環境評価をした値のパラメータスタディをする、</p>

<p>「幾何パラメータ　－＞　評価値」</p>

<p>という対応関係が離散的に手に入ります。これら離散的な評価点群から間を滑らかな曲面で近似することで、重い計算が必要な構造計算や環境評価を毎回行わなくても、幾何パラメータを入力すると瞬時にそれなりに正しい評価値を算出することが可能になります。また、微分情報も取ることができるので、この対応関係を最適化計算に利用することもできます。</p>

<p><a href="https://camo.qiitausercontent.com/9c673ad32a9bc75ff129da6fd42bba8e5df9a752/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33302f35303032372f34343535636332342d326635322d346164652d393530312d6364636439323637616139392e706e67" target="_blank" rel="nofollow noopener"><img width="821" alt="image.png (257.4 kB)" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F4455cc24-2f52-4ade-9501-cdcd9267aa99.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=15c818404fccff1d112865adbc90f45a" data-canonical-src="https://img.esa.io/uploads/production/attachments/11581/2020/05/30/50027/4455cc24-2f52-4ade-9501-cdcd9267aa99.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F4455cc24-2f52-4ade-9501-cdcd9267aa99.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=4263af36bde541fca3be083a5128855c 1x" loading="lazy"></a></p>

<p>画像出典：<a href="https://www.idaj.co.jp/blog/product/optimization/basic-cao-190116" rel="nofollow noopener" target="_blank">【はじめての最適化】最適化だけじゃない！応答曲面機能（その1）</a></p>

<p>ここでは「内挿」について説明しましたが、データに無い未知の入力に対してもそれなりに正しい解を出力する「外挿」についてさらに知りたい方は<a href="https://dajiro.hatenablog.com/entry/2020/04/21/085950" rel="nofollow noopener" target="_blank">ここ</a>あたりを参考にすると面白いかもしれません。</p>

<hr>

<p>At <a href="https://en.wikipedia.org/wiki/Interpolation" rel="nofollow noopener" target="_blank">Wiki</a>, it is descrived like this "In the mathematical field of numerical analysis, interpolation is a type of estimation, a method of constructing new data points within the range of a discrete set of known data points. In engineering and science, one often has a number of data points, obtained by sampling or experimentation, which represent the values of a function for a limited number of values of the independent variable. It is often required to interpolate, i.e., estimate the value of that function for an intermediate value of the independent variable."</p>

<p><a href="https://camo.qiitausercontent.com/df9056fd5d6016ef3040aa82dd695f89cc6dd34b/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33312f35303032372f35383365613936632d356366352d343861312d386462662d6137653966666561316339612e706e67" target="_blank" rel="nofollow noopener"><img width="300" alt="image.png (42.3 kB)" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F31%2F50027%2F583ea96c-5cf5-48a1-8dbf-a7e9ffea1c9a.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=2d8a4e32816963b9eb7c0aab40cb0133" data-canonical-src="https://img.esa.io/uploads/production/attachments/11581/2020/05/31/50027/583ea96c-5cf5-48a1-8dbf-a7e9ffea1c9a.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F31%2F50027%2F583ea96c-5cf5-48a1-8dbf-a7e9ffea1c9a.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=b988b7be93a4d773a22e983ce428938a 1x" loading="lazy"></a></p>

<p><a href="https://camo.qiitausercontent.com/4f2d2b5da75cec2961c92cfc4476625847098d4e/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33312f35303032372f39636164393832372d373362642d343365392d616431382d3638373762336531313665632e706e67" target="_blank" rel="nofollow noopener"><img width="300" alt="image.png (53.2 kB)" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F31%2F50027%2F9cad9827-73bd-43e9-ad18-6877b3e116ec.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d234422807e1bfc4a814902d49bdfcf5" data-canonical-src="https://img.esa.io/uploads/production/attachments/11581/2020/05/31/50027/9cad9827-73bd-43e9-ad18-6877b3e116ec.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F31%2F50027%2F9cad9827-73bd-43e9-ad18-6877b3e116ec.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=87a1b371cec828fb3924ead02f8e9d03 1x" loading="lazy"></a><a href="https://camo.qiitausercontent.com/8be0d76ee67a951a68f4d7bf3df274b1afb13eda/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33312f35303032372f30316330333031642d316662312d343530392d623833322d6632323432393131663438612e706e67" target="_blank" rel="nofollow noopener"><img width="300" alt="image.png (70.2 kB)" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F31%2F50027%2F01c0301d-1fb1-4509-b832-f2242911f48a.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=98c6dabaf01b578e58e20d181452ca97" data-canonical-src="https://img.esa.io/uploads/production/attachments/11581/2020/05/31/50027/01c0301d-1fb1-4509-b832-f2242911f48a.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F31%2F50027%2F01c0301d-1fb1-4509-b832-f2242911f48a.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=7ca38c17abba702a932eb7a658b49249 1x" loading="lazy"></a><a href="https://camo.qiitausercontent.com/872f401a0c83e595710badd22da30cacb808f668/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33312f35303032372f34333866306232362d376463662d343031312d383039612d3039623833376131323038622e706e67" target="_blank" rel="nofollow noopener"><img width="300" alt="image.png (70.3 kB)" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F31%2F50027%2F438f0b26-7dcf-4011-809a-09b837a1208b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=993ff18f345fa1479237c11d8912605d" data-canonical-src="https://img.esa.io/uploads/production/attachments/11581/2020/05/31/50027/438f0b26-7dcf-4011-809a-09b837a1208b.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F31%2F50027%2F438f0b26-7dcf-4011-809a-09b837a1208b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=4ed0611b00e77797eb53aef6b38ad7fa 1x" loading="lazy"></a><a href="https://camo.qiitausercontent.com/8016743c162acb1205169cb6c5687335b5ef2132/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33312f35303032372f30663165383437652d373763622d343763632d623365332d3635653666386238393433612e706e67" target="_blank" rel="nofollow noopener"><img width="300" alt="image.png (69.6 kB)" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F31%2F50027%2F0f1e847e-77cb-47cc-b3e3-65e6f8b8943a.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=99d2dad022c062b99378fc9bbd804ab0" data-canonical-src="https://img.esa.io/uploads/production/attachments/11581/2020/05/31/50027/0f1e847e-77cb-47cc-b3e3-65e6f8b8943a.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F31%2F50027%2F0f1e847e-77cb-47cc-b3e3-65e6f8b8943a.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=900e25229fb1223e87f5524789ca139b 1x" loading="lazy"></a></p>

<p>What are the benefits of being able to fill in the gaps from a known sequence of numerical data?</p>

<p>The most obvious example is the ability to perform geometric processing, such as "generating a surface from a point cloud".</p>

<p>As a more advanced example, in the context of AEC, you can discretely obtain a correspondence of "geometric parameter - &gt; evaluation value", for example, a parameter study of some structural or environmental evaluation value for a parametric model defined on GH. By approximating the intervals between these discrete evaluation points with smooth surfaces, it is possible to instantly calculate a reasonably correct evaluation value when geometric parameters are entered, without having to perform heavy calculations each time for structural or environmental evaluation. Since it can also take differential information, this correspondence can be used for optimization calculations.</p>

<p>In this section, I explained "interpolation", but if you want to know more about "extrapolation", which outputs a reasonably correct solution to an unknown input that is not in the data, <a href="https://dajiro.hatenablog.com/entry/2020/04/21/085950" rel="nofollow noopener" target="_blank">this</a> might be interesting to refer to this section.</p>

<h2>
<span id="代表的な補間方法について--typical-interpolation-methods" class="fragment"></span><a href="#%E4%BB%A3%E8%A1%A8%E7%9A%84%E3%81%AA%E8%A3%9C%E9%96%93%E6%96%B9%E6%B3%95%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6--typical-interpolation-methods"><i class="fa fa-link"></i></a>代表的な補間方法について / Typical interpolation methods</h2>

<h3>
<span id="多項式補間--polynomial-interpolation" class="fragment"></span><a href="#%E5%A4%9A%E9%A0%85%E5%BC%8F%E8%A3%9C%E9%96%93--polynomial-interpolation"><i class="fa fa-link"></i></a>多項式補間 / polynomial interpolation</h3>

<p>多項式を用いた補間方法で、「すべてのサンプル点を通る」ような補間が可能です。<br>
サンプル点がきれいに滑らかに分布している場合は優秀な手法です。<br>
しかし、すべてのサンプル点を通るように補間が行われる影響で、元データにノイズがのっているとたちまち補間曲面があばれてしまい、そのようなデータには不向きな手法です。</p>

<hr>

<p>It is a method of interpolation using polynomials, which allows the interpolation to "pass through all sample points".<br>
It is an excellent technique if the sample points are clean and smoothly distributed.<br>
However, this method is not suitable for such data because the interpolation is performed so that all sample points pass through the interpolation, and if noise is present in the original data, the interpolated surface is immediately overturned.</p>

<h3>
<span id="スプライン補間--spline-interpolation" class="fragment"></span><a href="#%E3%82%B9%E3%83%97%E3%83%A9%E3%82%A4%E3%83%B3%E8%A3%9C%E9%96%93--spline-interpolation"><i class="fa fa-link"></i></a>スプライン補間 / spline interpolation</h3>

<p><a href="https://ja.wikipedia.org/wiki/%E3%82%B9%E3%83%97%E3%83%A9%E3%82%A4%E3%83%B3%E6%9B%B2%E7%B7%9A" rel="nofollow noopener" target="_blank">スプライン曲線</a><br>
領域を区分的に分割し、接続部に何らかの連続性を仮定して各区間毎の補間を求める手法です。</p>

<hr>

<p>It is a method to divide the region into segments and to obtain the interpolation for each interval by assuming some continuity in the connection.</p>

<h3>
<span id="rbf-補間--rbf-interpolation" class="fragment"></span><a href="#rbf-%E8%A3%9C%E9%96%93--rbf-interpolation"><i class="fa fa-link"></i></a>RBF 補間 / RBF Interpolation</h3>

<p><a href="http://yuki-koyama.hatenablog.com/entry/2014/05/04/132552" rel="nofollow noopener" target="_blank">この記事</a>が非常に詳しいです。<br>
Flash Player が再生できるブラウザをお持ちの方は<a href="http://www.brain.kyutech.ac.jp/%7Efurukawa/data/rbf.html" rel="nofollow noopener" target="_blank">こちらのデモ</a>がわかりやすいです。</p>

<p>Radial Basis Function を用いた「すべてのサンプル点を通る」補間方法です。<br>
大規模な散布点の補間に強く、点群から穴のないメッシュを生成する手法やシミュレーションデータの内挿によく用いられます。<br>
今回の実装ではこの RBF 補間を利用します。</p>

<hr>

<p>This is an interpolation method that uses the Radial Basis Function to "pass through all sample points".<br>
It is suitable for interpolation of large scatter points and is often used to generate holeless meshes from point clouds and to interpolate simulation data.<br>
In this implementation, this RBF interpolation is used.</p>

<h3>
<span id="nurbs-補間--nurbs-interpolation" class="fragment"></span><a href="#nurbs-%E8%A3%9C%E9%96%93--nurbs-interpolation"><i class="fa fa-link"></i></a>NURBS 補間 / NURBS Interpolation</h3>

<p>CAD で多く利用されている NURBS 曲面も、グリッド状に並んだ制御点間を滑らかに補間する曲面であるという意味では一種の補間手法です。</p>

<hr>

<p>NURBS surfaces, which are often used in CAD, are a kind of interpolation method in the sense that they smoothly interpolate between control points arranged in a grid.</p>

<h1>
<span id="実装パート--implementation" class="fragment"></span><a href="#%E5%AE%9F%E8%A3%85%E3%83%91%E3%83%BC%E3%83%88--implementation"><i class="fa fa-link"></i></a>実装パート / Implementation</h1>

<h2>
<span id="使うライブラリ--libraries" class="fragment"></span><a href="#%E4%BD%BF%E3%81%86%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA--libraries"><i class="fa fa-link"></i></a>使うライブラリ / Libraries</h2>

<ul>
<li>RhinoCommon</li>
<li>
<a href="https://www.alglib.net/" rel="nofollow noopener" target="_blank">ALGLIB</a>（.NET のみならず C++、Python、Delphiにも対応しているクロスプラットフォームの数値解析、データ処理ライブラリ。今回は RBF補間機能を利用します。）</li>
</ul>

<hr>

<ul>
<li>RhinoCommon</li>
<li>
<a href="https://www.alglib.net/" rel="nofollow noopener" target="_blank">ALGLIB</a>（A cross-platform numerical analysis and data processing library that supports not only .NET but also C++, Python, and Delphi. In this case, we will use the RBF interpolation function.）</li>
</ul>

<h2>
<span id="実装方針--implementation-strategy" class="fragment"></span><a href="#%E5%AE%9F%E8%A3%85%E6%96%B9%E9%87%9D--implementation-strategy"><i class="fa fa-link"></i></a>実装方針 / Implementation Strategy</h2>

<ul>
<li>点群から復元するベースとなる座標系決定（今回は XY 座標値 -&gt; Z 座標値という対応関係を用います。円筒状の形状を補間したい場合は円筒座標系を用います。）</li>
</ul>

<hr>

<ul>
<li>Determination of the base coordinate system to be restored from the point cloud (in this case, the correspondence relationship of XY coordinate value -&gt; Z coordinate value is used. If you want to interpolate a cylindrical shape, use the cylindrical coordinate system.)</li>
</ul>

<p><a href="https://camo.qiitausercontent.com/401cac496b72c7d5168ea46cb4f3bbfd922682e6/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33302f35303032372f62326662613033662d306162612d343964312d626334642d6165346665396239356531312e706e67" target="_blank" rel="nofollow noopener"><img width="500" alt="image.png (181.5 kB)" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2Fb2fba03f-0aba-49d1-bc4d-ae4fe9b95e11.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=965e6fa2ec7325e6a4fe1c11a415b45d" data-canonical-src="https://img.esa.io/uploads/production/attachments/11581/2020/05/30/50027/b2fba03f-0aba-49d1-bc4d-ae4fe9b95e11.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2Fb2fba03f-0aba-49d1-bc4d-ae4fe9b95e11.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=612e06fb1906397dbc7e58cef9813628 1x" loading="lazy"></a></p>

<ul>
<li>決定した座標系上で点群の補間関数を作る（今回のような散布データの補間（内挿）をしたい場合は RBF (Radial Basis Function) が便利です。）</li>
</ul>

<hr>

<ul>
<li>Create the interpolation function of the point cloud on the determined coordinate system (RBF (Radial Basis Function) is useful if you want to interpolate the scattered data as in this case).</li>
</ul>

<p><a href="https://camo.qiitausercontent.com/3eaa6d0f7518575514775dbcc04dc996de0377fb/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33302f35303032372f37326134626537362d653633372d343062302d626162372d3535386161653434363738302e706e67" target="_blank" rel="nofollow noopener"><img width="500" alt="image.png (176.8 kB)" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F72a4be76-e637-40b0-bab7-558aae446780.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=2c39e1e652261eece94e3a395b241161" data-canonical-src="https://img.esa.io/uploads/production/attachments/11581/2020/05/30/50027/72a4be76-e637-40b0-bab7-558aae446780.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F72a4be76-e637-40b0-bab7-558aae446780.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=dd57ec4cb6ae76b64a90a0e97706fe09 1x" loading="lazy"></a></p>

<ul>
<li>作った補間関数を元に RhinoCommon の Network Surface を使って NURBS 曲面 を生成する。</li>
</ul>

<hr>

<ul>
<li>Generate a NURBS surface using the interpolation function I created using RhinoCommon's Network Surface.</li>
</ul>

<p><a href="https://camo.qiitausercontent.com/0deabf588b7b6014cb986239f5dfce445a921691/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33302f35303032372f31326534336536352d343965372d343061642d383839302d6535306563663233326530612e706e67" target="_blank" rel="nofollow noopener"><img width="500" alt="image.png (267.9 kB)" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F12e43e65-49e7-40ad-8890-e50ecf232e0a.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=feba286d60573914e09af2114d3c19a5" data-canonical-src="https://img.esa.io/uploads/production/attachments/11581/2020/05/30/50027/12e43e65-49e7-40ad-8890-e50ecf232e0a.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F12e43e65-49e7-40ad-8890-e50ecf232e0a.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=dfed281f8b673bdb275ea52be2028a02 1x" loading="lazy"></a></p>

<h2>
<span id="点群からベースとなる座標系決定--determination-of-the-base-coordinate-system-from-the-point-cloud" class="fragment"></span><a href="#%E7%82%B9%E7%BE%A4%E3%81%8B%E3%82%89%E3%83%99%E3%83%BC%E3%82%B9%E3%81%A8%E3%81%AA%E3%82%8B%E5%BA%A7%E6%A8%99%E7%B3%BB%E6%B1%BA%E5%AE%9A--determination-of-the-base-coordinate-system-from-the-point-cloud"><i class="fa fa-link"></i></a>点群からベースとなる座標系決定 / Determination of the base coordinate system from the point cloud</h2>

<p>点群から曲面を復元する方法として、たとえば陰関数表現を用いた方法があります（<a href="https://dl.acm.org/doi/10.1145/383259.383266" rel="nofollow noopener" target="_blank">Siggraph 論文</a>）。<br>
この方法は<br>
- 任意の位相構造（球面だったりドーナッツ形状だったりも対応可能）に対応可能。<br>
- 補間されたジオメトリデータはメッシュかボリュームデータとして利用される。<br>
- 実空間をスキャン、メッシュ化してテクスチャを張るみたいな使い方に非常に適していて、SLAM との相性も良い。</p>

<p>などの特徴があります。</p>

<hr>

<p>One way to recover surfaces from point clouds is, for example, to use an implicit function representation (<a href="https://dl.acm.org/doi/10.1145/383259.383266" rel="nofollow noopener" target="_blank">Siggraph paper</a>).<br>
This method is characterized by the following<br>
- Any phase structure (spherical or doughnut-shaped) can be used.<br>
- The interpolated geometry data is used as mesh or volume data.<br>
- It's very good for things like scanning real space, meshing and texturing, and it works well with SLAM.</p>

<hr>

<p>しかし、例えばスキャンデータから Nurbs Surface を作りたい場合は上記の方法では難しいです。<br>
そこで、任意の位相構造に対応することはあきらめて、あらかじめ基準となる座標系を決めることで、Nurbs Surface を構築することができるようになります。</p>

<p>今回は XY 座標値 -&gt; Z 座標値という対応関係を用います。<br>
この座標系は例えば滑らかな地形データやあまり暴れない表面形状などに適しています。</p>

<hr>

<p>However, if you want to create a Nurbs Surface from scanned data, for example, the above method is not suitable.<br>
Therefore, it is possible to build a Nurbs Surface by giving up on supporting an arbitrary topological structure and deciding on a reference coordinate system in advance.</p>

<p>In this case, we use the correspondence of XY-coordinate value -&gt; Z-coordinate value.<br>
This coordinate system is suitable, for example, for smooth terrain data and less unevenness surface features.</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">private</span> <span class="k">void</span> <span class="nf">SetXYZ</span><span class="p">(</span><span class="n">List</span><span class="p">&lt;</span><span class="n">Point3d</span><span class="p">&gt;</span> <span class="n">pts</span><span class="p">,</span> <span class="n">Plane</span> <span class="n">plane</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="n">x</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">double</span><span class="p">[</span><span class="n">pts</span><span class="p">.</span><span class="n">Count</span><span class="p">];</span>
    <span class="k">this</span><span class="p">.</span><span class="n">y</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">double</span><span class="p">[</span><span class="n">pts</span><span class="p">.</span><span class="n">Count</span><span class="p">];</span>
    <span class="k">this</span><span class="p">.</span><span class="n">z</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">double</span><span class="p">[</span><span class="n">pts</span><span class="p">.</span><span class="n">Count</span><span class="p">];</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">pts</span><span class="p">.</span><span class="n">Count</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
    <span class="p">{</span>
        <span class="kt">double</span> <span class="n">xi</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
        <span class="kt">double</span> <span class="n">yi</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
        <span class="kt">double</span> <span class="n">zi</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
        <span class="c1">// 点の基準平面上への射影点を求める</span>
        <span class="n">Point3d</span> <span class="n">onPlanePoint</span> <span class="p">=</span> <span class="n">plane</span><span class="p">.</span><span class="nf">ClosestPoint</span><span class="p">(</span><span class="n">pts</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
        <span class="c1">// 射影点での基準平面上での座標を求める</span>
        <span class="n">plane</span><span class="p">.</span><span class="nf">ClosestParameter</span><span class="p">(</span><span class="n">onPlanePoint</span><span class="p">,</span> <span class="k">out</span> <span class="n">xi</span><span class="p">,</span> <span class="k">out</span> <span class="n">yi</span><span class="p">);</span>
        <span class="c1">// 点の基準平面上での距離を求める</span>
        <span class="n">zi</span> <span class="p">=</span> <span class="n">onPlanePoint</span><span class="p">.</span><span class="nf">DistanceTo</span><span class="p">(</span><span class="n">pts</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
        <span class="c1">// 基準平面の裏側にあったら負の値にする</span>
        <span class="k">if</span> <span class="p">((</span><span class="n">pts</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">-</span> <span class="n">onPlanePoint</span><span class="p">)</span> <span class="p">*</span> <span class="n">plane</span><span class="p">.</span><span class="n">Normal</span> <span class="p">&lt;</span> <span class="m">0</span><span class="p">)</span> <span class="n">zi</span> <span class="p">*=</span> <span class="p">-</span><span class="m">1</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">xi</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">yi</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">zi</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>人間の腕などの円筒状の自由形状を補間したい場合は円筒座標系を用います。<br>
座標系をもっと工夫することでさらに複雑な形状に対応可能です（一般のＵＶＷ空間を使ってもよい）。</p>

<hr>

<p>If you want to interpolate a cylindrical free-form shape such as a human arm, you can use the cylindrical coordinate system.<br>
It is possible to handle more complex shapes by devising the coordinate system (you can also use the general UVW space).</p>

<h2>
<span id="決定した座標系上で点群を補間する関数を作る--create-a-function-to-interpolate-a-point-cloud-on-a-determined-coordinate-system" class="fragment"></span><a href="#%E6%B1%BA%E5%AE%9A%E3%81%97%E3%81%9F%E5%BA%A7%E6%A8%99%E7%B3%BB%E4%B8%8A%E3%81%A7%E7%82%B9%E7%BE%A4%E3%82%92%E8%A3%9C%E9%96%93%E3%81%99%E3%82%8B%E9%96%A2%E6%95%B0%E3%82%92%E4%BD%9C%E3%82%8B--create-a-function-to-interpolate-a-point-cloud-on-a-determined-coordinate-system"><i class="fa fa-link"></i></a>決定した座標系上で点群を補間する関数を作る / Create a function to interpolate a point cloud on a determined coordinate system</h2>

<p>座標系が決定されたら、そこ上で点群の X, Y, Z 座標値を計算し、その値を用いて、</p>

<p>補間関数 f: [X, Y] -&gt; Z</p>

<p>を作ります。この補間関数として今回は RBF 補間を使います。.NET で無料で RBF 補間が使えるライブラリ、ALGLIB を使って実装していきます。</p>

<hr>

<p>Once the coordinate system has been determined, the X, Y, and Z coordinate values of the point cloud are calculated on it, and the interpolation function </p>

<p>f: [X, Y] -&gt; Z</p>

<p>is created using those values. This time, RBF interpolation is used as the interpolation function. NET free RBF interpolation library, ALGLIB is used to implement it.</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">private</span> <span class="k">void</span> <span class="nf">SetRBFModel</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// RBF Model を宣言</span>
    <span class="n">alglib</span><span class="p">.</span><span class="n">rbfmodel</span> <span class="n">model</span><span class="p">;</span>
    <span class="c1">// 入力が2次元、出力が１次元として RBF Model を初期化</span>
    <span class="n">alglib</span><span class="p">.</span><span class="nf">rbfcreate</span><span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="k">out</span> <span class="n">model</span><span class="p">);</span>
    <span class="c1">// サンプル点を RBF Model にセット</span>
    <span class="n">alglib</span><span class="p">.</span><span class="nf">rbfsetpoints</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="n">samplePlanarCoordsScaled</span><span class="p">);</span>
    <span class="c1">// RBF Model のパイパーパラメータ設定</span>
    <span class="n">alglib</span><span class="p">.</span><span class="nf">rbfsetalgohierarchical</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="n">rBase</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="n">nLayers</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="n">smooth</span><span class="p">);</span>
    <span class="c1">// モデル構築に関する情報を入れるクラスを宣言</span>
    <span class="n">alglib</span><span class="p">.</span><span class="n">rbfreport</span> <span class="n">rep</span><span class="p">;</span>
    <span class="c1">// RBF Model 構築</span>
    <span class="n">alglib</span><span class="p">.</span><span class="nf">rbfbuildmodel</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="k">out</span> <span class="n">rep</span><span class="p">);</span>
    <span class="c1">// クラスプロパティに代入</span>
    <span class="k">this</span><span class="p">.</span><span class="n">Model</span> <span class="p">=</span> <span class="n">model</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h2>
<span id="rbf補間関数を元に-rhinocommon-の-network-surface-を使って-nurbs-曲面を生成する--generate-a-nurbs-surface-using-rhinocommons-network-surface-based-on-the-rbf-interpolation-function" class="fragment"></span><a href="#rbf%E8%A3%9C%E9%96%93%E9%96%A2%E6%95%B0%E3%82%92%E5%85%83%E3%81%AB-rhinocommon-%E3%81%AE-network-surface-%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6-nurbs-%E6%9B%B2%E9%9D%A2%E3%82%92%E7%94%9F%E6%88%90%E3%81%99%E3%82%8B--generate-a-nurbs-surface-using-rhinocommons-network-surface-based-on-the-rbf-interpolation-function"><i class="fa fa-link"></i></a>RBF補間関数を元に RhinoCommon の Network Surface を使って NURBS 曲面を生成する / Generate a NURBS surface using RhinoCommon's Network Surface based on the RBF interpolation function.</h2>

<p>RBF 補間関数から NURBS 曲面を生成します。<br>
安易に RBF 補間関数からグリッド点を作ってそれを NURBS 曲面 の制御点にそのまま使ってしまうとアウトです。<br>
NURBS 曲面は制御点を通らないその間を補間された形状となるため、RBF 補間関数との誤差が必ず生じてしまいます。</p>

<hr>

<p>Creates a NURBS surface from the RBF interpolation function.<br>
If you easily create a grid point from the RBF interpolation function and use it as a control point of a NURBS surface, you are out of the game.<br>
Since the NURBS surface is an interpolated shape that does not pass through the control points, there is always an error with the RBF interpolation function.</p>

<hr>

<p>この問題をクリアするために NurbsSurface.CreateNetworkSurface を用います。<br>
この API は UV方向それぞれの曲線群から、それらで構成されるグリッドになるべく近くなるような NURBS 曲面を生成することができます。<br>
RBF 補間関数から UV のグリッド曲線を簡単に作れるので、今回はこの方法を採用します。</p>

<hr>

<p>We use NurbsSurface.CreateNetworkSurface to clear this problem.<br>
The API can generate NURBS surfaces that are as close to the grid as possible to the curves in each UV direction.<br>
Since it is easy to create a UV grid curve from the RBF interpolation function, this method is adopted in this case.</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="n">Surface</span> <span class="nf">InterpolatedSurface</span><span class="p">(</span><span class="kt">double</span> <span class="n">xStart</span><span class="p">,</span> <span class="kt">double</span> <span class="n">xEnd</span><span class="p">,</span> <span class="kt">double</span> <span class="n">yStart</span><span class="p">,</span> <span class="kt">double</span> <span class="n">yEnd</span><span class="p">,</span> <span class="kt">int</span> <span class="n">U</span><span class="p">,</span> <span class="kt">int</span> <span class="n">V</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// U 方向のネットワークスプライン曲線群を作る</span>
    <span class="n">Curve</span><span class="p">[]</span> <span class="n">uCurves</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Curve</span><span class="p">[</span><span class="n">U</span> <span class="p">+</span> <span class="m">1</span><span class="p">];</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">U</span><span class="p">+</span><span class="m">1</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
    <span class="p">{</span>
        <span class="kt">double</span> <span class="n">stepY</span> <span class="p">=</span> <span class="p">(</span><span class="n">yEnd</span> <span class="p">-</span> <span class="n">yStart</span><span class="p">)</span> <span class="p">/</span> <span class="n">V</span><span class="p">;</span>
        <span class="kt">double</span> <span class="n">y</span> <span class="p">=</span> <span class="n">yStart</span> <span class="p">+</span> <span class="n">i</span> <span class="p">*</span> <span class="n">stepY</span><span class="p">;</span>
        <span class="n">Point3d</span><span class="p">[]</span> <span class="n">pts</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Point3d</span><span class="p">[</span><span class="n">V</span> <span class="p">+</span> <span class="m">1</span><span class="p">];</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">j</span> <span class="p">&lt;</span> <span class="n">V</span><span class="p">+</span><span class="m">1</span><span class="p">;</span> <span class="n">j</span><span class="p">++)</span>
        <span class="p">{</span>
            <span class="kt">double</span> <span class="n">stepX</span> <span class="p">=</span> <span class="p">(</span><span class="n">xEnd</span> <span class="p">-</span> <span class="n">xStart</span><span class="p">)</span> <span class="p">/</span> <span class="n">U</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">x</span> <span class="p">=</span> <span class="n">xStart</span> <span class="p">+</span> <span class="n">j</span> <span class="p">*</span> <span class="n">stepX</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">z</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="nf">Z</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>
            <span class="n">pts</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Point3d</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="n">uCurves</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">NurbsCurve</span><span class="p">.</span><span class="nf">CreateInterpolatedCurve</span><span class="p">(</span><span class="n">pts</span><span class="p">,</span> <span class="m">3</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="c1">// V 方向のネットワークスプライン曲線群を作る</span>
    <span class="n">Curve</span><span class="p">[]</span> <span class="n">vCurves</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Curve</span><span class="p">[</span><span class="n">V</span> <span class="p">+</span> <span class="m">1</span><span class="p">];</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">V</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
    <span class="p">{</span>
        <span class="kt">double</span> <span class="n">stepX</span> <span class="p">=</span> <span class="p">(</span><span class="n">xEnd</span> <span class="p">-</span> <span class="n">xStart</span><span class="p">)</span> <span class="p">/</span> <span class="n">U</span><span class="p">;</span>
        <span class="kt">double</span> <span class="n">x</span> <span class="p">=</span> <span class="n">xStart</span> <span class="p">+</span> <span class="n">i</span> <span class="p">*</span> <span class="n">stepX</span><span class="p">;</span>
        <span class="n">Point3d</span><span class="p">[]</span> <span class="n">pts</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Point3d</span><span class="p">[</span><span class="n">U</span> <span class="p">+</span> <span class="m">1</span><span class="p">];</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">j</span> <span class="p">&lt;</span> <span class="n">U</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span> <span class="n">j</span><span class="p">++)</span>
        <span class="p">{</span>
            <span class="kt">double</span> <span class="n">stepY</span> <span class="p">=</span> <span class="p">(</span><span class="n">yEnd</span> <span class="p">-</span> <span class="n">yStart</span><span class="p">)</span> <span class="p">/</span> <span class="n">V</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">y</span> <span class="p">=</span> <span class="n">xStart</span> <span class="p">+</span> <span class="n">j</span> <span class="p">*</span> <span class="n">stepY</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">z</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="nf">Z</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>
            <span class="n">pts</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Point3d</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="n">vCurves</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">NurbsCurve</span><span class="p">.</span><span class="nf">CreateInterpolatedCurve</span><span class="p">(</span><span class="n">pts</span><span class="p">,</span> <span class="m">3</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="c1">// Network Surface の構築</span>
    <span class="kt">int</span> <span class="n">error</span><span class="p">;</span>
    <span class="n">Surface</span> <span class="n">interpolatedSurface</span> <span class="p">=</span> <span class="n">NurbsSurface</span><span class="p">.</span><span class="nf">CreateNetworkSurface</span><span class="p">(</span><span class="n">uCurves</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="n">vCurves</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">0.1</span><span class="p">,</span> <span class="m">0.1</span><span class="p">,</span> <span class="m">0.1</span><span class="p">,</span> <span class="k">out</span> <span class="n">error</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">interpolatedSurface</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h2>
<span id="実装--implementation" class="fragment"></span><a href="#%E5%AE%9F%E8%A3%85--implementation"><i class="fa fa-link"></i></a>実装 / Implementation</h2>

<h2>
<span id="主なディレクトリ構成--main-directory-structure" class="fragment"></span><a href="#%E4%B8%BB%E3%81%AA%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E6%A7%8B%E6%88%90--main-directory-structure"><i class="fa fa-link"></i></a>主なディレクトリ構成 / Main Directory Structure</h2>

<p><a href="https://camo.qiitausercontent.com/cce92beb8e2dc071d0387ad2980400176d3afd85/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33302f35303032372f34333664383763642d616235362d346139642d396364302d3136363063373762343864392e706e67" target="_blank" rel="nofollow noopener"><img width="256" alt="image.png (10.7 kB)" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F436d87cd-ab56-4a9d-9cd0-1660c77b48d9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=392ca05f957102ae183cb2913fd52c6b" data-canonical-src="https://img.esa.io/uploads/production/attachments/11581/2020/05/30/50027/436d87cd-ab56-4a9d-9cd0-1660c77b48d9.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F436d87cd-ab56-4a9d-9cd0-1660c77b48d9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=618275e0b6bc5e2ccdaf07315d255404 1x" loading="lazy"></a></p>

<h2>
<span id="実装する機能を１つのクラスにまとめる--combining-the-functions-to-be-implemented-into-a-single-class" class="fragment"></span><a href="#%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B%E6%A9%9F%E8%83%BD%E3%82%92%EF%BC%91%E3%81%A4%E3%81%AE%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AB%E3%81%BE%E3%81%A8%E3%82%81%E3%82%8B--combining-the-functions-to-be-implemented-into-a-single-class"><i class="fa fa-link"></i></a>実装する機能を１つのクラスにまとめる / Combining the functions to be implemented into a single class</h2>

<p>RBFInterpolation.cs</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">using</span> <span class="nn">Rhino.Geometry</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">PCloud2Surface.Classes</span>
<span class="p">{</span>
    <span class="k">class</span> <span class="nc">RBFInterpolation</span>
    <span class="p">{</span>
        <span class="err">#</span><span class="n">region</span> <span class="n">Constructros</span>
        <span class="k">public</span> <span class="nf">RBFInterpolation</span><span class="p">()</span>
        <span class="p">{</span>

        <span class="p">}</span>
        <span class="k">public</span> <span class="nf">RBFInterpolation</span><span class="p">(</span><span class="n">List</span><span class="p">&lt;</span><span class="n">Point3d</span><span class="p">&gt;</span> <span class="n">pts</span><span class="p">,</span> <span class="n">Plane</span> <span class="n">plane</span><span class="p">,</span> <span class="kt">int</span> <span class="n">nLayers</span><span class="p">,</span> <span class="kt">double</span> <span class="n">rBase</span><span class="p">,</span> <span class="kt">double</span> <span class="n">smooth</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="n">SamplePts</span> <span class="p">=</span> <span class="n">pts</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="n">Plane</span> <span class="p">=</span> <span class="n">plane</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="n">nLayers</span> <span class="p">=</span> <span class="n">nLayers</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="n">rBase</span> <span class="p">=</span> <span class="n">rBase</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="n">smooth</span> <span class="p">=</span> <span class="n">smooth</span><span class="p">;</span>
            <span class="nf">SetProperties</span><span class="p">(</span><span class="n">pts</span><span class="p">,</span> <span class="n">plane</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="err">#</span><span class="n">endregion</span>

        <span class="err">#</span><span class="n">region</span> <span class="n">Properties</span>
        <span class="k">public</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Point3d</span><span class="p">&gt;</span> <span class="n">SamplePts</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">private</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="n">Plane</span> <span class="n">Plane</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">private</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="n">alglib</span><span class="p">.</span><span class="n">rbfmodel</span> <span class="n">Model</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">private</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="err">#</span><span class="n">endregion</span>

        <span class="err">#</span><span class="n">region</span> <span class="n">Public</span> <span class="n">Methods</span>
        <span class="k">public</span> <span class="kt">double</span> <span class="nf">Z</span><span class="p">(</span><span class="kt">double</span> <span class="n">x</span><span class="p">,</span> <span class="kt">double</span> <span class="n">y</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">double</span> <span class="n">xScaled</span> <span class="p">=</span> <span class="n">x</span> <span class="p">/</span> <span class="k">this</span><span class="p">.</span><span class="n">xLength</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">yScaled</span> <span class="p">=</span> <span class="n">y</span> <span class="p">/</span> <span class="k">this</span><span class="p">.</span><span class="n">yLength</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">zScaled</span> <span class="p">=</span> <span class="n">alglib</span><span class="p">.</span><span class="nf">rbfcalc2</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">Model</span><span class="p">,</span> <span class="n">xScaled</span><span class="p">,</span> <span class="n">yScaled</span><span class="p">);</span>
            <span class="kt">double</span> <span class="n">z</span> <span class="p">=</span> <span class="n">zScaled</span> <span class="p">*</span> <span class="n">zLength</span><span class="p">;</span>

            <span class="k">return</span> <span class="n">z</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">public</span> <span class="n">Point3d</span> <span class="nf">P</span><span class="p">(</span><span class="kt">double</span> <span class="n">x</span><span class="p">,</span> <span class="kt">double</span> <span class="n">y</span><span class="p">)</span>
        <span class="p">{</span>

            <span class="kt">double</span> <span class="n">z</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="nf">Z</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>
            <span class="n">Vector3d</span> <span class="n">zDir</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">Plane</span><span class="p">.</span><span class="n">Normal</span><span class="p">;</span>
            <span class="n">Point3d</span> <span class="n">ptOnPlane</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">Plane</span><span class="p">.</span><span class="nf">PointAt</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>
            <span class="n">Point3d</span> <span class="n">p</span> <span class="p">=</span> <span class="n">ptOnPlane</span> <span class="p">+</span> <span class="n">z</span> <span class="p">*</span> <span class="n">zDir</span><span class="p">;</span>
            <span class="k">return</span> <span class="n">p</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">public</span> <span class="n">Surface</span> <span class="nf">InterpolatedSurface</span><span class="p">(</span><span class="kt">double</span> <span class="n">xStart</span><span class="p">,</span> <span class="kt">double</span> <span class="n">xEnd</span><span class="p">,</span> <span class="kt">double</span> <span class="n">yStart</span><span class="p">,</span> <span class="kt">double</span> <span class="n">yEnd</span><span class="p">,</span> <span class="kt">int</span> <span class="n">U</span><span class="p">,</span> <span class="kt">int</span> <span class="n">V</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// U 方向のネットワークスプライン曲線群を作る</span>
            <span class="n">Curve</span><span class="p">[]</span> <span class="n">uCurves</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Curve</span><span class="p">[</span><span class="n">U</span> <span class="p">+</span> <span class="m">1</span><span class="p">];</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">U</span><span class="p">+</span><span class="m">1</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
            <span class="p">{</span>
                <span class="kt">double</span> <span class="n">stepY</span> <span class="p">=</span> <span class="p">(</span><span class="n">yEnd</span> <span class="p">-</span> <span class="n">yStart</span><span class="p">)</span> <span class="p">/</span> <span class="n">V</span><span class="p">;</span>
                <span class="kt">double</span> <span class="n">y</span> <span class="p">=</span> <span class="n">yStart</span> <span class="p">+</span> <span class="n">i</span> <span class="p">*</span> <span class="n">stepY</span><span class="p">;</span>
                <span class="n">Point3d</span><span class="p">[]</span> <span class="n">pts</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Point3d</span><span class="p">[</span><span class="n">V</span> <span class="p">+</span> <span class="m">1</span><span class="p">];</span>
                <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">j</span> <span class="p">&lt;</span> <span class="n">V</span><span class="p">+</span><span class="m">1</span><span class="p">;</span> <span class="n">j</span><span class="p">++)</span>
                <span class="p">{</span>
                    <span class="kt">double</span> <span class="n">stepX</span> <span class="p">=</span> <span class="p">(</span><span class="n">xEnd</span> <span class="p">-</span> <span class="n">xStart</span><span class="p">)</span> <span class="p">/</span> <span class="n">U</span><span class="p">;</span>
                    <span class="kt">double</span> <span class="n">x</span> <span class="p">=</span> <span class="n">xStart</span> <span class="p">+</span> <span class="n">j</span> <span class="p">*</span> <span class="n">stepX</span><span class="p">;</span>
                    <span class="n">pts</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="nf">P</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
                <span class="p">}</span>
                <span class="n">uCurves</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">NurbsCurve</span><span class="p">.</span><span class="nf">CreateInterpolatedCurve</span><span class="p">(</span><span class="n">pts</span><span class="p">,</span> <span class="m">3</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="c1">// V 方向のネットワークスプライン曲線群を作る</span>
            <span class="n">Curve</span><span class="p">[]</span> <span class="n">vCurves</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Curve</span><span class="p">[</span><span class="n">V</span> <span class="p">+</span> <span class="m">1</span><span class="p">];</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">V</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
            <span class="p">{</span>
                <span class="kt">double</span> <span class="n">stepX</span> <span class="p">=</span> <span class="p">(</span><span class="n">xEnd</span> <span class="p">-</span> <span class="n">xStart</span><span class="p">)</span> <span class="p">/</span> <span class="n">U</span><span class="p">;</span>
                <span class="kt">double</span> <span class="n">x</span> <span class="p">=</span> <span class="n">xStart</span> <span class="p">+</span> <span class="n">i</span> <span class="p">*</span> <span class="n">stepX</span><span class="p">;</span>
                <span class="n">Point3d</span><span class="p">[]</span> <span class="n">pts</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Point3d</span><span class="p">[</span><span class="n">U</span> <span class="p">+</span> <span class="m">1</span><span class="p">];</span>
                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">j</span> <span class="p">&lt;</span> <span class="n">U</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span> <span class="n">j</span><span class="p">++)</span>
                <span class="p">{</span>
                    <span class="kt">double</span> <span class="n">stepY</span> <span class="p">=</span> <span class="p">(</span><span class="n">yEnd</span> <span class="p">-</span> <span class="n">yStart</span><span class="p">)</span> <span class="p">/</span> <span class="n">V</span><span class="p">;</span>
                    <span class="kt">double</span> <span class="n">y</span> <span class="p">=</span> <span class="n">xStart</span> <span class="p">+</span> <span class="n">j</span> <span class="p">*</span> <span class="n">stepY</span><span class="p">;</span>
                    <span class="n">pts</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="nf">P</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
                <span class="p">}</span>
                <span class="n">vCurves</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">NurbsCurve</span><span class="p">.</span><span class="nf">CreateInterpolatedCurve</span><span class="p">(</span><span class="n">pts</span><span class="p">,</span> <span class="m">3</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="c1">// Network Surface の構築</span>
            <span class="kt">int</span> <span class="n">error</span><span class="p">;</span>
            <span class="n">Surface</span> <span class="n">interpolatedSurface</span> <span class="p">=</span> <span class="n">NurbsSurface</span><span class="p">.</span><span class="nf">CreateNetworkSurface</span><span class="p">(</span><span class="n">uCurves</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="n">vCurves</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">0.1</span><span class="p">,</span> <span class="m">0.1</span><span class="p">,</span> <span class="m">0.1</span><span class="p">,</span> <span class="k">out</span> <span class="n">error</span><span class="p">);</span>
            <span class="k">return</span> <span class="n">interpolatedSurface</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="err">#</span><span class="n">endregion</span>

        <span class="err">#</span><span class="n">region</span> <span class="n">Private</span> <span class="n">Members</span>
        <span class="k">private</span> <span class="kt">int</span> <span class="n">numSamplePoints</span><span class="p">;</span>
        <span class="k">private</span> <span class="kt">double</span><span class="p">[]</span> <span class="n">x</span><span class="p">;</span>
        <span class="k">private</span> <span class="kt">double</span><span class="p">[]</span> <span class="n">y</span><span class="p">;</span>
        <span class="k">private</span> <span class="kt">double</span><span class="p">[]</span> <span class="n">z</span><span class="p">;</span>
        <span class="k">private</span> <span class="kt">double</span> <span class="n">xLength</span><span class="p">;</span>
        <span class="k">private</span> <span class="kt">double</span> <span class="n">yLength</span><span class="p">;</span>
        <span class="k">private</span> <span class="kt">double</span> <span class="n">zLength</span><span class="p">;</span>
        <span class="k">private</span> <span class="kt">double</span><span class="p">[,]</span> <span class="n">samplePlanarCoordsScaled</span><span class="p">;</span>
        <span class="k">private</span> <span class="kt">int</span> <span class="n">nLayers</span> <span class="p">=</span> <span class="m">3</span><span class="p">;</span>
        <span class="k">private</span> <span class="kt">double</span> <span class="n">rBase</span> <span class="p">=</span> <span class="m">1.0</span><span class="p">;</span>
        <span class="k">private</span> <span class="kt">double</span> <span class="n">smooth</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
        <span class="err">#</span><span class="n">endregion</span>

        <span class="err">#</span><span class="n">region</span> <span class="n">Private</span> <span class="n">Methods</span>
        <span class="k">private</span> <span class="k">void</span> <span class="nf">SetNumSamplePoints</span><span class="p">(</span><span class="n">List</span><span class="p">&lt;</span><span class="n">Point3d</span><span class="p">&gt;</span> <span class="n">pts</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="n">numSamplePoints</span> <span class="p">=</span> <span class="n">pts</span><span class="p">.</span><span class="n">Count</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">private</span> <span class="k">void</span> <span class="nf">SetXYZ</span><span class="p">(</span><span class="n">List</span><span class="p">&lt;</span><span class="n">Point3d</span><span class="p">&gt;</span> <span class="n">pts</span><span class="p">,</span> <span class="n">Plane</span> <span class="n">plane</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="n">x</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">double</span><span class="p">[</span><span class="n">pts</span><span class="p">.</span><span class="n">Count</span><span class="p">];</span>
            <span class="k">this</span><span class="p">.</span><span class="n">y</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">double</span><span class="p">[</span><span class="n">pts</span><span class="p">.</span><span class="n">Count</span><span class="p">];</span>
            <span class="k">this</span><span class="p">.</span><span class="n">z</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">double</span><span class="p">[</span><span class="n">pts</span><span class="p">.</span><span class="n">Count</span><span class="p">];</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">pts</span><span class="p">.</span><span class="n">Count</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
            <span class="p">{</span>
                <span class="kt">double</span> <span class="n">xi</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
                <span class="kt">double</span> <span class="n">yi</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
                <span class="kt">double</span> <span class="n">zi</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
                <span class="c1">// 点の基準平面上への射影点を求める</span>
                <span class="n">Point3d</span> <span class="n">onPlanePoint</span> <span class="p">=</span> <span class="n">plane</span><span class="p">.</span><span class="nf">ClosestPoint</span><span class="p">(</span><span class="n">pts</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
                <span class="c1">// 射影点での基準平面上での座標を求める</span>
                <span class="n">plane</span><span class="p">.</span><span class="nf">ClosestParameter</span><span class="p">(</span><span class="n">onPlanePoint</span><span class="p">,</span> <span class="k">out</span> <span class="n">xi</span><span class="p">,</span> <span class="k">out</span> <span class="n">yi</span><span class="p">);</span>
                <span class="c1">// 点の基準平面上での距離を求める</span>
                <span class="n">zi</span> <span class="p">=</span> <span class="n">onPlanePoint</span><span class="p">.</span><span class="nf">DistanceTo</span><span class="p">(</span><span class="n">pts</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
                <span class="c1">// 基準平面の裏側にあったら負の値にする</span>
                <span class="k">if</span> <span class="p">((</span><span class="n">pts</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">-</span> <span class="n">onPlanePoint</span><span class="p">)</span> <span class="p">*</span> <span class="n">plane</span><span class="p">.</span><span class="n">Normal</span> <span class="p">&lt;</span> <span class="m">0</span><span class="p">)</span> <span class="n">zi</span> <span class="p">*=</span> <span class="p">-</span><span class="m">1</span><span class="p">;</span>
                <span class="k">this</span><span class="p">.</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">xi</span><span class="p">;</span>
                <span class="k">this</span><span class="p">.</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">yi</span><span class="p">;</span>
                <span class="k">this</span><span class="p">.</span><span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">zi</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">private</span> <span class="k">void</span> <span class="nf">SetXYZLength</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="n">xLength</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">x</span><span class="p">.</span><span class="nf">Max</span><span class="p">()</span> <span class="p">-</span> <span class="k">this</span><span class="p">.</span><span class="n">x</span><span class="p">.</span><span class="nf">Min</span><span class="p">();</span>
            <span class="k">this</span><span class="p">.</span><span class="n">yLength</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">y</span><span class="p">.</span><span class="nf">Max</span><span class="p">()</span> <span class="p">-</span> <span class="k">this</span><span class="p">.</span><span class="n">y</span><span class="p">.</span><span class="nf">Min</span><span class="p">();</span>
            <span class="k">this</span><span class="p">.</span><span class="n">zLength</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">z</span><span class="p">.</span><span class="nf">Max</span><span class="p">()</span> <span class="p">-</span> <span class="k">this</span><span class="p">.</span><span class="n">z</span><span class="p">.</span><span class="nf">Min</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="k">private</span> <span class="k">void</span> <span class="nf">SetScalizedPlanarCoordinates</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="n">samplePlanarCoordsScaled</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">double</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="n">numSamplePoints</span><span class="p">,</span> <span class="m">3</span><span class="p">];</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="n">numSamplePoints</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
            <span class="p">{</span>
                <span class="k">this</span><span class="p">.</span><span class="n">samplePlanarCoordsScaled</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="m">0</span><span class="p">]</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">/</span> <span class="k">this</span><span class="p">.</span><span class="n">xLength</span><span class="p">;</span>
                <span class="k">this</span><span class="p">.</span><span class="n">samplePlanarCoordsScaled</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="m">1</span><span class="p">]</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">/</span> <span class="k">this</span><span class="p">.</span><span class="n">yLength</span><span class="p">;</span>
                <span class="k">this</span><span class="p">.</span><span class="n">samplePlanarCoordsScaled</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="m">2</span><span class="p">]</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">/</span> <span class="k">this</span><span class="p">.</span><span class="n">zLength</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">private</span> <span class="k">void</span> <span class="nf">SetRBFModel</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// RBF Model を宣言</span>
            <span class="n">alglib</span><span class="p">.</span><span class="n">rbfmodel</span> <span class="n">model</span><span class="p">;</span>
            <span class="c1">// 入力が2次元、出力が１次元として RBF Model を初期化</span>
            <span class="n">alglib</span><span class="p">.</span><span class="nf">rbfcreate</span><span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="k">out</span> <span class="n">model</span><span class="p">);</span>
            <span class="c1">// サンプル点を RBF Model にセット</span>
            <span class="n">alglib</span><span class="p">.</span><span class="nf">rbfsetpoints</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="n">samplePlanarCoordsScaled</span><span class="p">);</span>
            <span class="n">alglib</span><span class="p">.</span><span class="nf">rbfsetalgohierarchical</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="n">rBase</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="n">nLayers</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="n">smooth</span><span class="p">);</span>
            <span class="c1">// モデル構築に関する情報を入れるクラスを宣言</span>
            <span class="n">alglib</span><span class="p">.</span><span class="n">rbfreport</span> <span class="n">rep</span><span class="p">;</span>
            <span class="c1">// RBF Model 構築</span>
            <span class="n">alglib</span><span class="p">.</span><span class="nf">rbfbuildmodel</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="k">out</span> <span class="n">rep</span><span class="p">);</span>
            <span class="c1">// クラスプロパティに代入</span>
            <span class="k">this</span><span class="p">.</span><span class="n">Model</span> <span class="p">=</span> <span class="n">model</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">private</span> <span class="k">void</span> <span class="nf">SetProperties</span><span class="p">(</span><span class="n">List</span><span class="p">&lt;</span><span class="n">Point3d</span><span class="p">&gt;</span> <span class="n">pts</span><span class="p">,</span> <span class="n">Plane</span> <span class="n">plane</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nf">SetNumSamplePoints</span><span class="p">(</span><span class="n">pts</span><span class="p">);</span>
            <span class="nf">SetXYZ</span><span class="p">(</span><span class="n">pts</span><span class="p">,</span> <span class="n">plane</span><span class="p">);</span>
            <span class="nf">SetXYZLength</span><span class="p">();</span>
            <span class="nf">SetScalizedPlanarCoordinates</span><span class="p">();</span>
            <span class="nf">SetRBFModel</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="err">#</span><span class="n">endregion</span>


    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2>
<span id="rbfinterpolaltion-クラスのインスタンスを生成する-gh-コンポーネント--gh-component-that-creates-an-instance-of-the-rbfinterpolaltion-class" class="fragment"></span><a href="#rbfinterpolaltion-%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%82%BF%E3%83%B3%E3%82%B9%E3%82%92%E7%94%9F%E6%88%90%E3%81%99%E3%82%8B-gh-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88--gh-component-that-creates-an-instance-of-the-rbfinterpolaltion-class"><i class="fa fa-link"></i></a>RBFInterpolaltion クラスのインスタンスを生成する GH コンポーネント / GH component that creates an instance of the RBFInterpolaltion class</h2>

<p>RBFComponent.cs</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>

<span class="k">using</span> <span class="nn">Grasshopper.Kernel</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Rhino.Geometry</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">PCloud2Surface.Classes</span><span class="p">;</span>

<span class="c1">// In order to load the result of this wizard, you will also need to</span>
<span class="c1">// add the output bin/ folder of this project to the list of loaded</span>
<span class="c1">// folder in Grasshopper.</span>
<span class="c1">// You can use the _GrasshopperDeveloperSettings Rhino command for that.</span>

<span class="k">namespace</span> <span class="nn">PCloud2Surface</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">RBFComponent</span> <span class="p">:</span> <span class="n">GH_Component</span>
    <span class="p">{</span>
        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// Each implementation of GH_Component must provide a public </span>
        <span class="c1">/// constructor without any arguments.</span>
        <span class="c1">/// Category represents the Tab in which the component will appear, </span>
        <span class="c1">/// Subcategory the panel. If you use non-existing tab or panel names, </span>
        <span class="c1">/// new tabs/panels will automatically be created.</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="k">public</span> <span class="nf">RBFComponent</span><span class="p">()</span>
          <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="s">"RBF from PCloud"</span><span class="p">,</span> <span class="s">"RBF PCloud"</span><span class="p">,</span>
              <span class="s">"Create a RBF instance."</span><span class="p">,</span>
              <span class="s">"Interpolation"</span><span class="p">,</span> <span class="s">"RBF"</span><span class="p">)</span>
        <span class="p">{</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// Registers all the input parameters for this component.</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">RegisterInputParams</span><span class="p">(</span><span class="n">GH_Component</span><span class="p">.</span><span class="n">GH_InputParamManager</span> <span class="n">pManager</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">pManager</span><span class="p">.</span><span class="nf">AddPointParameter</span><span class="p">(</span><span class="s">"Sample Pts"</span><span class="p">,</span> <span class="s">"Pts"</span><span class="p">,</span> <span class="s">"Sampling point to interpolate."</span><span class="p">,</span> <span class="n">GH_ParamAccess</span><span class="p">.</span><span class="n">list</span><span class="p">);</span>
            <span class="n">pManager</span><span class="p">.</span><span class="nf">AddPlaneParameter</span><span class="p">(</span><span class="s">"Plane"</span><span class="p">,</span> <span class="s">"P"</span><span class="p">,</span> <span class="s">"A reference plane."</span><span class="p">,</span> <span class="n">GH_ParamAccess</span><span class="p">.</span><span class="n">item</span><span class="p">);</span>
            <span class="n">pManager</span><span class="p">.</span><span class="nf">AddIntegerParameter</span><span class="p">(</span><span class="s">"Number of Layers"</span><span class="p">,</span> <span class="s">"nLayers"</span><span class="p">,</span> <span class="s">"A number of layers of a RBF network."</span><span class="p">,</span> <span class="n">GH_ParamAccess</span><span class="p">.</span><span class="n">item</span><span class="p">);</span>
            <span class="n">pManager</span><span class="p">.</span><span class="nf">AddNumberParameter</span><span class="p">(</span><span class="s">"Radius of Basis Function"</span><span class="p">,</span> <span class="s">"rBase"</span><span class="p">,</span> <span class="s">"A radius of the RBF."</span><span class="p">,</span> <span class="n">GH_ParamAccess</span><span class="p">.</span><span class="n">item</span><span class="p">);</span>
            <span class="n">pManager</span><span class="p">.</span><span class="nf">AddNumberParameter</span><span class="p">(</span><span class="s">"Smooth Prameter"</span><span class="p">,</span> <span class="s">"Smooth"</span><span class="p">,</span> <span class="s">"A parameter of smoothing of a RBF network"</span><span class="p">,</span> <span class="n">GH_ParamAccess</span><span class="p">.</span><span class="n">item</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// Registers all the output parameters for this component.</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">RegisterOutputParams</span><span class="p">(</span><span class="n">GH_Component</span><span class="p">.</span><span class="n">GH_OutputParamManager</span> <span class="n">pManager</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">pManager</span><span class="p">.</span><span class="nf">AddGenericParameter</span><span class="p">(</span><span class="s">"RBF"</span><span class="p">,</span> <span class="s">"RBF"</span><span class="p">,</span> <span class="s">"A RBF Interpolation instance which create interpolated surface from the input point cloud."</span><span class="p">,</span> <span class="n">GH_ParamAccess</span><span class="p">.</span><span class="n">item</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// This is the method that actually does the work.</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="DA"&gt;The DA object can be used to retrieve data from input parameters and </span>
        <span class="c1">/// to store data in output parameters.&lt;/param&gt;</span>
        <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">SolveInstance</span><span class="p">(</span><span class="n">IGH_DataAccess</span> <span class="n">DA</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">List</span><span class="p">&lt;</span><span class="n">Point3d</span><span class="p">&gt;</span> <span class="n">samplePts</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Point3d</span><span class="p">&gt;();</span>
            <span class="n">Plane</span> <span class="n">plane</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Plane</span><span class="p">();</span>
            <span class="kt">int</span> <span class="n">nLayers</span> <span class="p">=</span> <span class="m">3</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">rBase</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">smooth</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>

            <span class="n">DA</span><span class="p">.</span><span class="nf">GetDataList</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="n">samplePts</span><span class="p">);</span>
            <span class="n">DA</span><span class="p">.</span><span class="nf">GetData</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">plane</span><span class="p">);</span>
            <span class="n">DA</span><span class="p">.</span><span class="nf">GetData</span><span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="k">ref</span> <span class="n">nLayers</span><span class="p">);</span>
            <span class="n">DA</span><span class="p">.</span><span class="nf">GetData</span><span class="p">(</span><span class="m">3</span><span class="p">,</span> <span class="k">ref</span> <span class="n">rBase</span><span class="p">);</span>
            <span class="n">DA</span><span class="p">.</span><span class="nf">GetData</span><span class="p">(</span><span class="m">4</span><span class="p">,</span> <span class="k">ref</span> <span class="n">smooth</span><span class="p">);</span>

            <span class="n">RBFInterpolation</span> <span class="n">rbf</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RBFInterpolation</span><span class="p">(</span><span class="n">samplePts</span><span class="p">,</span> <span class="n">plane</span><span class="p">,</span> <span class="n">nLayers</span><span class="p">,</span> <span class="n">rBase</span><span class="p">,</span> <span class="n">smooth</span><span class="p">);</span>

            <span class="n">DA</span><span class="p">.</span><span class="nf">SetData</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="n">rbf</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// Provides an Icon for every component that will be visible in the User Interface.</span>
        <span class="c1">/// Icons need to be 24x24 pixels.</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="k">protected</span> <span class="k">override</span> <span class="n">System</span><span class="p">.</span><span class="n">Drawing</span><span class="p">.</span><span class="n">Bitmap</span> <span class="n">Icon</span>
        <span class="p">{</span>
            <span class="k">get</span>
            <span class="p">{</span>
                <span class="c1">// You can add image files to your project resources and access them like this:</span>
                <span class="c1">//return Resources.IconForThisComponent;</span>
                <span class="k">return</span> <span class="k">null</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// Each component must have a unique Guid to identify it. </span>
        <span class="c1">/// It is vital this Guid doesn't change otherwise old ghx files </span>
        <span class="c1">/// that use the old ID will partially fail during loading.</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="k">public</span> <span class="k">override</span> <span class="n">Guid</span> <span class="n">ComponentGuid</span>
        <span class="p">{</span>
            <span class="k">get</span> <span class="p">{</span> <span class="k">return</span> <span class="k">new</span> <span class="nf">Guid</span><span class="p">(</span><span class="s">"4567ec83-ae6c-4e65-a7bd-bb52300d6c1e"</span><span class="p">);</span> <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2>
<span id="rbfinterpolation-インスタンスから補間曲面生成する-gh-コンポーネント--gh-component-that-generates-interpolated-surfaces-from-a-rbfinterpolation-instance" class="fragment"></span><a href="#rbfinterpolation-%E3%82%A4%E3%83%B3%E3%82%B9%E3%82%BF%E3%83%B3%E3%82%B9%E3%81%8B%E3%82%89%E8%A3%9C%E9%96%93%E6%9B%B2%E9%9D%A2%E7%94%9F%E6%88%90%E3%81%99%E3%82%8B-gh-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88--gh-component-that-generates-interpolated-surfaces-from-a-rbfinterpolation-instance"><i class="fa fa-link"></i></a>RBFInterpolation インスタンスから補間曲面生成する GH コンポーネント / GH component that generates interpolated surfaces from a RBFInterpolation instance</h2>

<p>InterpolatedSurface.cs</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>

<span class="k">using</span> <span class="nn">Grasshopper.Kernel</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">PCloud2Surface.Classes</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Rhino.Geometry</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">PCloud2Surface.Components</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">InterpolatedSurface</span> <span class="p">:</span> <span class="n">GH_Component</span>
    <span class="p">{</span>
        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// Initializes a new instance of the InterpolatedSurface class.</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="k">public</span> <span class="nf">InterpolatedSurface</span><span class="p">()</span>
          <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="s">"Interpolated Surface"</span><span class="p">,</span> <span class="s">"IS"</span><span class="p">,</span>
              <span class="s">"Create the interpolated surface form RBF"</span><span class="p">,</span>
              <span class="s">"Interpolation"</span><span class="p">,</span> <span class="s">"Surface"</span><span class="p">)</span>
        <span class="p">{</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// Registers all the input parameters for this component.</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">RegisterInputParams</span><span class="p">(</span><span class="n">GH_Component</span><span class="p">.</span><span class="n">GH_InputParamManager</span> <span class="n">pManager</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">pManager</span><span class="p">.</span><span class="nf">AddGenericParameter</span><span class="p">(</span><span class="s">"RBF"</span><span class="p">,</span> <span class="s">"RBF"</span><span class="p">,</span> <span class="s">"A RBF Planar interpolation instance."</span><span class="p">,</span> <span class="n">GH_ParamAccess</span><span class="p">.</span><span class="n">item</span><span class="p">);</span>
            <span class="n">pManager</span><span class="p">.</span><span class="nf">AddNumberParameter</span><span class="p">(</span><span class="s">"Start X"</span><span class="p">,</span> <span class="s">"SX"</span><span class="p">,</span> <span class="s">"A start x coordinate of a cylindrical coordinates"</span><span class="p">,</span> <span class="n">GH_ParamAccess</span><span class="p">.</span><span class="n">item</span><span class="p">);</span>
            <span class="n">pManager</span><span class="p">.</span><span class="nf">AddNumberParameter</span><span class="p">(</span><span class="s">"End X"</span><span class="p">,</span> <span class="s">"EX"</span><span class="p">,</span> <span class="s">"A end x coordinate of a cylindrical coordinates"</span><span class="p">,</span> <span class="n">GH_ParamAccess</span><span class="p">.</span><span class="n">item</span><span class="p">);</span>
            <span class="n">pManager</span><span class="p">.</span><span class="nf">AddNumberParameter</span><span class="p">(</span><span class="s">"Start Y"</span><span class="p">,</span> <span class="s">"SY"</span><span class="p">,</span> <span class="s">"A start y coordinate of a cylindrical coordinates"</span><span class="p">,</span> <span class="n">GH_ParamAccess</span><span class="p">.</span><span class="n">item</span><span class="p">);</span>
            <span class="n">pManager</span><span class="p">.</span><span class="nf">AddNumberParameter</span><span class="p">(</span><span class="s">"End Y"</span><span class="p">,</span> <span class="s">"EY"</span><span class="p">,</span> <span class="s">"A end y coordinate of a cylindrical coordinates"</span><span class="p">,</span> <span class="n">GH_ParamAccess</span><span class="p">.</span><span class="n">item</span><span class="p">);</span>
            <span class="n">pManager</span><span class="p">.</span><span class="nf">AddIntegerParameter</span><span class="p">(</span><span class="s">"U Count"</span><span class="p">,</span> <span class="s">"UC"</span><span class="p">,</span> <span class="s">"A count of control points at x coordinate"</span><span class="p">,</span> <span class="n">GH_ParamAccess</span><span class="p">.</span><span class="n">item</span><span class="p">);</span>
            <span class="n">pManager</span><span class="p">.</span><span class="nf">AddIntegerParameter</span><span class="p">(</span><span class="s">"V Count"</span><span class="p">,</span> <span class="s">"VC"</span><span class="p">,</span> <span class="s">"A count of control points at y coordinate"</span><span class="p">,</span> <span class="n">GH_ParamAccess</span><span class="p">.</span><span class="n">item</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// Registers all the output parameters for this component.</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">RegisterOutputParams</span><span class="p">(</span><span class="n">GH_Component</span><span class="p">.</span><span class="n">GH_OutputParamManager</span> <span class="n">pManager</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">pManager</span><span class="p">.</span><span class="nf">AddSurfaceParameter</span><span class="p">(</span><span class="s">"Interpolated Surface"</span><span class="p">,</span> <span class="s">"IS"</span><span class="p">,</span> <span class="s">"A interpolated surface from RBF."</span><span class="p">,</span> <span class="n">GH_ParamAccess</span><span class="p">.</span><span class="n">item</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// This is the method that actually does the work.</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="DA"&gt;The DA object is used to retrieve from inputs and store in outputs.&lt;/param&gt;</span>
        <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">SolveInstance</span><span class="p">(</span><span class="n">IGH_DataAccess</span> <span class="n">DA</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">RBFInterpolation</span> <span class="n">rbf</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RBFInterpolation</span><span class="p">();</span>
            <span class="kt">double</span> <span class="n">xStart</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">xEnd</span> <span class="p">=</span> <span class="m">10</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">yStart</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">yEnd</span> <span class="p">=</span> <span class="m">10</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">uCount</span> <span class="p">=</span> <span class="m">10</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">vCount</span> <span class="p">=</span> <span class="m">10</span><span class="p">;</span>

            <span class="n">DA</span><span class="p">.</span><span class="nf">GetData</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="k">ref</span> <span class="n">rbf</span><span class="p">);</span>
            <span class="n">DA</span><span class="p">.</span><span class="nf">GetData</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">xStart</span><span class="p">);</span>
            <span class="n">DA</span><span class="p">.</span><span class="nf">GetData</span><span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="k">ref</span> <span class="n">xEnd</span><span class="p">);</span>
            <span class="n">DA</span><span class="p">.</span><span class="nf">GetData</span><span class="p">(</span><span class="m">3</span><span class="p">,</span> <span class="k">ref</span> <span class="n">yStart</span><span class="p">);</span>
            <span class="n">DA</span><span class="p">.</span><span class="nf">GetData</span><span class="p">(</span><span class="m">4</span><span class="p">,</span> <span class="k">ref</span> <span class="n">yEnd</span><span class="p">);</span>
            <span class="n">DA</span><span class="p">.</span><span class="nf">GetData</span><span class="p">(</span><span class="m">5</span><span class="p">,</span> <span class="k">ref</span> <span class="n">uCount</span><span class="p">);</span>
            <span class="n">DA</span><span class="p">.</span><span class="nf">GetData</span><span class="p">(</span><span class="m">6</span><span class="p">,</span> <span class="k">ref</span> <span class="n">vCount</span><span class="p">);</span>

            <span class="n">Surface</span> <span class="n">interpolatedSurface</span> <span class="p">=</span> <span class="n">rbf</span><span class="p">.</span><span class="nf">InterpolatedSurface</span><span class="p">(</span><span class="n">xStart</span><span class="p">,</span> <span class="n">xEnd</span><span class="p">,</span> <span class="n">yStart</span><span class="p">,</span> <span class="n">yEnd</span><span class="p">,</span> <span class="n">uCount</span><span class="p">,</span> <span class="n">vCount</span><span class="p">);</span>

            <span class="n">DA</span><span class="p">.</span><span class="nf">SetData</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="n">interpolatedSurface</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// Provides an Icon for the component.</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="k">protected</span> <span class="k">override</span> <span class="n">System</span><span class="p">.</span><span class="n">Drawing</span><span class="p">.</span><span class="n">Bitmap</span> <span class="n">Icon</span>
        <span class="p">{</span>
            <span class="k">get</span>
            <span class="p">{</span>
                <span class="c1">//You can add image files to your project resources and access them like this:</span>
                <span class="c1">// return Resources.IconForThisComponent;</span>
                <span class="k">return</span> <span class="k">null</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// Gets the unique ID for this component. Do not change this ID after release.</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="k">public</span> <span class="k">override</span> <span class="n">Guid</span> <span class="n">ComponentGuid</span>
        <span class="p">{</span>
            <span class="k">get</span> <span class="p">{</span> <span class="k">return</span> <span class="k">new</span> <span class="nf">Guid</span><span class="p">(</span><span class="s">"fd5133a7-80e8-4d31-865c-2fefec5e5104"</span><span class="p">);</span> <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2FKaiSuto%2Fitems%2F2b9f9cebe99238e359bc&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2FKaiSuto%2Fitems%2F2b9f9cebe99238e359bc&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/KaiSuto/items/2b9f9cebe99238e359bc/likers" class="css-1iupg5d">3</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">1</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/2b9f9cebe99238e359bc/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/KaiSuto/items/2b9f9cebe99238e359bc/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/KaiSuto/items/2b9f9cebe99238e359bc/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/KaiSuto/items/2b9f9cebe99238e359bc/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/KaiSuto/items/2b9f9cebe99238e359bc.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-3bb6871a-fdf1-4ac2-ba85-01daccc764aa">{"authorAnalyticsTrackingId":null,"organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-ce91a9db-b4d0-40b0-b698-1a4c9ccfa7bf"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-ce91a9db-b4d0-40b0-b698-1a4c9ccfa7bf">{}</script>
      
<div id="LoginModal-react-component-8cd4281e-2987-43de-bf46-72096c516afd"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-8cd4281e-2987-43de-bf46-72096c516afd">{}</script>
      
<div id="StockModal-react-component-ad3661a5-54d9-4b99-b7d9-fb38d69ed157"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-ad3661a5-54d9-4b99-b7d9-fb38d69ed157">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;hE2kKvDxEFflkRehtO8pagshc6vwihM4o4V/urBcAozXrKjNelwiBuZuAVNKo1ddbc8Sci+i9ziucPCda19zbQ==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\n\u003ch1\u003e\n\u003cspan id=\"この記事の目的\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%93%E3%81%AE%E8%A8%98%E4%BA%8B%E3%81%AE%E7%9B%AE%E7%9A%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eこの記事の目的\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"https://www.meetup.com/ja-JP/Tokyo-AEC-Industry-Dev-Group/events/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eTokyo AEC Industry Dev Group\u003c/a\u003e で発表したハンズオンの内容を文書でまとめたものです。\u003c/p\u003e\n\n\u003cp\u003eRhino+Grasshopper 上でポイントクラウドから補間曲面を\u003cstrong\u003eNURBS曲面\u003c/strong\u003eとして生成するコンポーネントを作ることが目的です。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://gitlab.com/KaiSuto/pcloud2surface\" rel=\"nofollow noopener\" target=\"_blank\"\u003egitlab レポジトリ\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://youtu.be/HpjyCB7QJxM\" rel=\"nofollow noopener\" target=\"_blank\"\u003eハンズオンのアーカイブ動画\u003c/a\u003e\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003cp\u003eThis is a hands-on archive of \u003ca href=\"https://www.meetup.com/ja-JP/Tokyo-AEC-Industry-Dev-Group/events/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eTokyo AEC Industry Dev Group\u003c/a\u003e.\u003c/p\u003e\n\n\u003cp\u003eThe purpose of this article is to create a component on Rhino+Grasshopper that generates interpolated surfaces from point clouds as NURBS surfaces.\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://gitlab.com/KaiSuto/pcloud2surface\" rel=\"nofollow noopener\" target=\"_blank\"\u003egitlab repository\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://youtu.be/HpjyCB7QJxM\" rel=\"nofollow noopener\" target=\"_blank\"\u003eYoutube archive of this handson\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"時間構成目安--time-schedule\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%99%82%E9%96%93%E6%A7%8B%E6%88%90%E7%9B%AE%E5%AE%89--time-schedule\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e時間構成目安 / Time Schedule\u003c/h1\u003e\n\n\u003cul\u003e\n\u003cli\u003eレポジトリをクローンして使ってみる（１５分）\u003c/li\u003e\n\u003cli\u003e理論的な背景説明（４５分）\u003c/li\u003e\n\u003cli\u003e実装作業（２時間）\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003chr\u003e\n\n\u003cul\u003e\n\u003cli\u003eClone the repository and try to use it (15 min)\u003c/li\u003e\n\u003cli\u003eTheoretical background　(45 min)\u003c/li\u003e\n\u003cli\u003eImplementation (2 hour)\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"このハンズオンで何ができるようになるか--what-we-learn\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%93%E3%81%AE%E3%83%8F%E3%83%B3%E3%82%BA%E3%82%AA%E3%83%B3%E3%81%A7%E4%BD%95%E3%81%8C%E3%81%A7%E3%81%8D%E3%82%8B%E3%82%88%E3%81%86%E3%81%AB%E3%81%AA%E3%82%8B%E3%81%8B--what-we-learn\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eこのハンズオンで何ができるようになるか？ / What We Learn?\u003c/h1\u003e\n\n\u003cp\u003e3Dスキャンなどから取得したランダムな点群から元の形状を「Nurbs Surface」として復元する GH コンポーネントを実装します。\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003cp\u003eWe implement a GH component that restores the original shape as a \"Nurbs Surface\" from a random point cloud obtained from a 3D scan, etc.\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/9ef8a1a44d479c1f4fbfc1b3c2d15ed9289d8ce2/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33302f35303032372f62636630313366332d643163302d343133372d393761372d3636636433323836353735622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"1002\" alt=\"image.png (361.5 kB)\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2Fbcf013f3-d1c0-4137-97a7-66cd3286575b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e1923e85039cd56229fcbc6a33227d44\" data-canonical-src=\"https://img.esa.io/uploads/production/attachments/11581/2020/05/30/50027/bcf013f3-d1c0-4137-97a7-66cd3286575b.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2Fbcf013f3-d1c0-4137-97a7-66cd3286575b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=580d11cb20460759353765d70edc8f66 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"必要なもの--requirements\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%BF%85%E8%A6%81%E3%81%AA%E3%82%82%E3%81%AE--requirements\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e必要なもの / Requirements\u003c/h1\u003e\n\n\u003cul\u003e\n\u003cli\u003eRhino 6\u003c/li\u003e\n\u003cli\u003eVisual Studio\u003c/li\u003e\n\u003cli\u003eC# の基本的な知識\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003chr\u003e\n\n\u003cul\u003e\n\u003cli\u003eRhino 6\u003c/li\u003e\n\u003cli\u003eVisual Studio\u003c/li\u003e\n\u003cli\u003eBasic knowledge of C#\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"まずは使ってみる--lets-use-it-first\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%BE%E3%81%9A%E3%81%AF%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%8B--lets-use-it-first\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eまずは使ってみる / Let's use it first\u003c/h1\u003e\n\n\u003col\u003e\n\u003cli\u003e\n\u003ca href=\"https://gitlab.com/KaiSuto/pcloud2surface\" rel=\"nofollow noopener\" target=\"_blank\"\u003eこのレポジトリ\u003c/a\u003eを Visual Studio にクローンします。\u003c/li\u003e\n\u003cli\u003ePCloud2Surface.sln をダブルクリックしてプロジェクトを立ち上げます。\u003c/li\u003e\n\u003cli\u003eプロジェクトをビルドします（Nuget が立ち上がり ALGLIB がインストールされつつビルドされます）。\u003c/li\u003e\n\u003cli\u003eビルドが無事成功したらデバッグモードで Rhino6 を立ち上げます。\u003c/li\u003e\n\u003cli\u003eRhino のコマンド上で GrasshopperDeveloperSettings と打ち、プロジェクトのバイナリへの参照を追加します。\u003c/li\u003e\n\u003cli\u003egh ディレクトリ内の example.gh を開きます。\u003c/li\u003e\n\u003cli\u003e点群から Nurbs Surface が復元されていることが確かめられたら成功です！\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003chr\u003e\n\n\u003col\u003e\n\u003cli\u003eClone \u003ca href=\"https://gitlab.com/KaiSuto/pcloud2surface\" rel=\"nofollow noopener\" target=\"_blank\"\u003ethis repository\u003c/a\u003e into your Visual Studio.\u003c/li\u003e\n\u003cli\u003eDouble click the PCloud2Surface.sln and launch its project.\u003c/li\u003e\n\u003cli\u003eBuild the project (Nuget will start up and ALGLIB will be installed, then the project will be built).\u003c/li\u003e\n\u003cli\u003eAfter a successful build, launch Rhino6 in debug mode.\u003c/li\u003e\n\u003cli\u003eOn the Rhino command, type \"GrasshopperDeveloperSettings\" to add a reference to the project's binary.\u003c/li\u003e\n\u003cli\u003eOpen the example.gh in gh derectory.\u003c/li\u003e\n\u003cli\u003eIf you can confirm that the Nurbs Surface has been recovered from the point cloud, you've succeeded!\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"理論的背景パート--theoretical-background\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%90%86%E8%AB%96%E7%9A%84%E8%83%8C%E6%99%AF%E3%83%91%E3%83%BC%E3%83%88--theoretical-background\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e理論的背景パート / Theoretical Background\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"そもそも補間って何--what-is-interpolation\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%9D%E3%82%82%E3%81%9D%E3%82%82%E8%A3%9C%E9%96%93%E3%81%A3%E3%81%A6%E4%BD%95--what-is-interpolation\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eそもそも補間って何？ / What is Interpolation?\u003c/h2\u003e\n\n\u003cp\u003e\u003ca href=\"https://ja.wikipedia.org/wiki/%E5%86%85%E6%8C%BF\" rel=\"nofollow noopener\" target=\"_blank\"\u003eWiki\u003c/a\u003e によると\u003cbr\u003e\n「内挿（ないそう、英: interpolation）や補間（ほかん）とは、ある既知の数値データ列を基にして、そのデータ列の各区間の範囲内を埋める数値を求めること、またはそのような関数を与えること。」\u003cbr\u003e\nとなっています。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/f5aa4496e96a4bed06df1f71046ee638852592ff/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33302f35303032372f39336162663864662d333265312d343039642d616437642d3963326639323235646132662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"300\" alt=\"image.png (44.5 kB)\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F93abf8df-32e1-409d-ad7d-9c2f9225da2f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ee9889dc6cbabaf7b7e73bb197f54719\" data-canonical-src=\"https://img.esa.io/uploads/production/attachments/11581/2020/05/30/50027/93abf8df-32e1-409d-ad7d-9c2f9225da2f.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F93abf8df-32e1-409d-ad7d-9c2f9225da2f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=4b25fef9a61f6ce35ed415cb492ae22f 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/efd1fb9df3448e3b903112427922536065188fde/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33302f35303032372f31356534303731662d616233302d346433622d386631352d3865393332316134646130312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"300\" alt=\"image.png (46.8 kB)\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F15e4071f-ab30-4d3b-8f15-8e9321a4da01.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ea981434d4fd02f47f6c47944d801aaa\" data-canonical-src=\"https://img.esa.io/uploads/production/attachments/11581/2020/05/30/50027/15e4071f-ab30-4d3b-8f15-8e9321a4da01.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F15e4071f-ab30-4d3b-8f15-8e9321a4da01.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=bba8a4faf846603c8fad3ae8058fc926 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003ca href=\"https://camo.qiitausercontent.com/aa7feb9b0d2ab32fd7906857e7418594853354fa/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33302f35303032372f35613038363663392d366564322d346237612d396366322d3135353035656338373434342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"300\" alt=\"image.png (55.2 kB)\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F5a0866c9-6ed2-4b7a-9cf2-15505ec87444.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e292f2d575280845f34fd68c5e800643\" data-canonical-src=\"https://img.esa.io/uploads/production/attachments/11581/2020/05/30/50027/5a0866c9-6ed2-4b7a-9cf2-15505ec87444.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F5a0866c9-6ed2-4b7a-9cf2-15505ec87444.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=07fc6556db1083b417ae0bbe8530b894 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003ca href=\"https://camo.qiitausercontent.com/b5614d8f277093a5ab15e04a7c4070fa080a0aa9/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33302f35303032372f30333761646634652d386463302d343862312d383631362d6339623139646230623736662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"300\" alt=\"image.png (36.8 kB)\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F037adf4e-8dc0-48b1-8616-c9b19db0b76f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d656160234562f3e6b4afb45c4e5cba2\" data-canonical-src=\"https://img.esa.io/uploads/production/attachments/11581/2020/05/30/50027/037adf4e-8dc0-48b1-8616-c9b19db0b76f.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F037adf4e-8dc0-48b1-8616-c9b19db0b76f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=025ad993e17dcd7438e3a9d0aafad9b3 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003ca href=\"https://camo.qiitausercontent.com/94ecc2de2656d4b3f88532b76895f1ec5119505a/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33302f35303032372f64323435343736342d663861652d346665342d393064632d6164353065326132616238372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"300\" alt=\"image.png (46.7 kB)\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2Fd2454764-f8ae-4fe4-90dc-ad50e2a2ab87.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a6262f19d62a1f6ed9b92f0b31ec1f92\" data-canonical-src=\"https://img.esa.io/uploads/production/attachments/11581/2020/05/30/50027/d2454764-f8ae-4fe4-90dc-ad50e2a2ab87.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2Fd2454764-f8ae-4fe4-90dc-ad50e2a2ab87.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=6cb69fb765166543e261d68373eff46a 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e既知の数値データ列からその間を埋められると、どういった利点があるのでしょうか？\u003c/p\u003e\n\n\u003cp\u003e一番わかりやすい例は、今回実装する「点群から曲面生成をする」、といった幾何処理ができるということかと思います。\u003c/p\u003e\n\n\u003cp\u003eもうちょっと高度な例だと、AEC の文脈で、例えばＧＨ上で定義したパラメトリックモデルに対して何かしらの構造計算や環境評価をした値のパラメータスタディをする、\u003c/p\u003e\n\n\u003cp\u003e「幾何パラメータ　－＞　評価値」\u003c/p\u003e\n\n\u003cp\u003eという対応関係が離散的に手に入ります。これら離散的な評価点群から間を滑らかな曲面で近似することで、重い計算が必要な構造計算や環境評価を毎回行わなくても、幾何パラメータを入力すると瞬時にそれなりに正しい評価値を算出することが可能になります。また、微分情報も取ることができるので、この対応関係を最適化計算に利用することもできます。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/9c673ad32a9bc75ff129da6fd42bba8e5df9a752/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33302f35303032372f34343535636332342d326635322d346164652d393530312d6364636439323637616139392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"821\" alt=\"image.png (257.4 kB)\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F4455cc24-2f52-4ade-9501-cdcd9267aa99.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=15c818404fccff1d112865adbc90f45a\" data-canonical-src=\"https://img.esa.io/uploads/production/attachments/11581/2020/05/30/50027/4455cc24-2f52-4ade-9501-cdcd9267aa99.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F4455cc24-2f52-4ade-9501-cdcd9267aa99.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=4263af36bde541fca3be083a5128855c 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e画像出典：\u003ca href=\"https://www.idaj.co.jp/blog/product/optimization/basic-cao-190116\" rel=\"nofollow noopener\" target=\"_blank\"\u003e【はじめての最適化】最適化だけじゃない！応答曲面機能（その1）\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eここでは「内挿」について説明しましたが、データに無い未知の入力に対してもそれなりに正しい解を出力する「外挿」についてさらに知りたい方は\u003ca href=\"https://dajiro.hatenablog.com/entry/2020/04/21/085950\" rel=\"nofollow noopener\" target=\"_blank\"\u003eここ\u003c/a\u003eあたりを参考にすると面白いかもしれません。\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003cp\u003eAt \u003ca href=\"https://en.wikipedia.org/wiki/Interpolation\" rel=\"nofollow noopener\" target=\"_blank\"\u003eWiki\u003c/a\u003e, it is descrived like this \"In the mathematical field of numerical analysis, interpolation is a type of estimation, a method of constructing new data points within the range of a discrete set of known data points. In engineering and science, one often has a number of data points, obtained by sampling or experimentation, which represent the values of a function for a limited number of values of the independent variable. It is often required to interpolate, i.e., estimate the value of that function for an intermediate value of the independent variable.\"\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/df9056fd5d6016ef3040aa82dd695f89cc6dd34b/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33312f35303032372f35383365613936632d356366352d343861312d386462662d6137653966666561316339612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"300\" alt=\"image.png (42.3 kB)\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F31%2F50027%2F583ea96c-5cf5-48a1-8dbf-a7e9ffea1c9a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2d8a4e32816963b9eb7c0aab40cb0133\" data-canonical-src=\"https://img.esa.io/uploads/production/attachments/11581/2020/05/31/50027/583ea96c-5cf5-48a1-8dbf-a7e9ffea1c9a.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F31%2F50027%2F583ea96c-5cf5-48a1-8dbf-a7e9ffea1c9a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=b988b7be93a4d773a22e983ce428938a 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/4f2d2b5da75cec2961c92cfc4476625847098d4e/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33312f35303032372f39636164393832372d373362642d343365392d616431382d3638373762336531313665632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"300\" alt=\"image.png (53.2 kB)\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F31%2F50027%2F9cad9827-73bd-43e9-ad18-6877b3e116ec.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d234422807e1bfc4a814902d49bdfcf5\" data-canonical-src=\"https://img.esa.io/uploads/production/attachments/11581/2020/05/31/50027/9cad9827-73bd-43e9-ad18-6877b3e116ec.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F31%2F50027%2F9cad9827-73bd-43e9-ad18-6877b3e116ec.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=87a1b371cec828fb3924ead02f8e9d03 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003ca href=\"https://camo.qiitausercontent.com/8be0d76ee67a951a68f4d7bf3df274b1afb13eda/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33312f35303032372f30316330333031642d316662312d343530392d623833322d6632323432393131663438612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"300\" alt=\"image.png (70.2 kB)\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F31%2F50027%2F01c0301d-1fb1-4509-b832-f2242911f48a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=98c6dabaf01b578e58e20d181452ca97\" data-canonical-src=\"https://img.esa.io/uploads/production/attachments/11581/2020/05/31/50027/01c0301d-1fb1-4509-b832-f2242911f48a.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F31%2F50027%2F01c0301d-1fb1-4509-b832-f2242911f48a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=7ca38c17abba702a932eb7a658b49249 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003ca href=\"https://camo.qiitausercontent.com/872f401a0c83e595710badd22da30cacb808f668/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33312f35303032372f34333866306232362d376463662d343031312d383039612d3039623833376131323038622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"300\" alt=\"image.png (70.3 kB)\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F31%2F50027%2F438f0b26-7dcf-4011-809a-09b837a1208b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=993ff18f345fa1479237c11d8912605d\" data-canonical-src=\"https://img.esa.io/uploads/production/attachments/11581/2020/05/31/50027/438f0b26-7dcf-4011-809a-09b837a1208b.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F31%2F50027%2F438f0b26-7dcf-4011-809a-09b837a1208b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=4ed0611b00e77797eb53aef6b38ad7fa 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003ca href=\"https://camo.qiitausercontent.com/8016743c162acb1205169cb6c5687335b5ef2132/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33312f35303032372f30663165383437652d373763622d343763632d623365332d3635653666386238393433612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"300\" alt=\"image.png (69.6 kB)\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F31%2F50027%2F0f1e847e-77cb-47cc-b3e3-65e6f8b8943a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=99d2dad022c062b99378fc9bbd804ab0\" data-canonical-src=\"https://img.esa.io/uploads/production/attachments/11581/2020/05/31/50027/0f1e847e-77cb-47cc-b3e3-65e6f8b8943a.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F31%2F50027%2F0f1e847e-77cb-47cc-b3e3-65e6f8b8943a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=900e25229fb1223e87f5524789ca139b 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eWhat are the benefits of being able to fill in the gaps from a known sequence of numerical data?\u003c/p\u003e\n\n\u003cp\u003eThe most obvious example is the ability to perform geometric processing, such as \"generating a surface from a point cloud\".\u003c/p\u003e\n\n\u003cp\u003eAs a more advanced example, in the context of AEC, you can discretely obtain a correspondence of \"geometric parameter - \u0026gt; evaluation value\", for example, a parameter study of some structural or environmental evaluation value for a parametric model defined on GH. By approximating the intervals between these discrete evaluation points with smooth surfaces, it is possible to instantly calculate a reasonably correct evaluation value when geometric parameters are entered, without having to perform heavy calculations each time for structural or environmental evaluation. Since it can also take differential information, this correspondence can be used for optimization calculations.\u003c/p\u003e\n\n\u003cp\u003eIn this section, I explained \"interpolation\", but if you want to know more about \"extrapolation\", which outputs a reasonably correct solution to an unknown input that is not in the data, \u003ca href=\"https://dajiro.hatenablog.com/entry/2020/04/21/085950\" rel=\"nofollow noopener\" target=\"_blank\"\u003ethis\u003c/a\u003e might be interesting to refer to this section.\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"代表的な補間方法について--typical-interpolation-methods\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BB%A3%E8%A1%A8%E7%9A%84%E3%81%AA%E8%A3%9C%E9%96%93%E6%96%B9%E6%B3%95%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6--typical-interpolation-methods\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e代表的な補間方法について / Typical interpolation methods\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"多項式補間--polynomial-interpolation\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%A4%9A%E9%A0%85%E5%BC%8F%E8%A3%9C%E9%96%93--polynomial-interpolation\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e多項式補間 / polynomial interpolation\u003c/h3\u003e\n\n\u003cp\u003e多項式を用いた補間方法で、「すべてのサンプル点を通る」ような補間が可能です。\u003cbr\u003e\nサンプル点がきれいに滑らかに分布している場合は優秀な手法です。\u003cbr\u003e\nしかし、すべてのサンプル点を通るように補間が行われる影響で、元データにノイズがのっているとたちまち補間曲面があばれてしまい、そのようなデータには不向きな手法です。\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003cp\u003eIt is a method of interpolation using polynomials, which allows the interpolation to \"pass through all sample points\".\u003cbr\u003e\nIt is an excellent technique if the sample points are clean and smoothly distributed.\u003cbr\u003e\nHowever, this method is not suitable for such data because the interpolation is performed so that all sample points pass through the interpolation, and if noise is present in the original data, the interpolated surface is immediately overturned.\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"スプライン補間--spline-interpolation\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B9%E3%83%97%E3%83%A9%E3%82%A4%E3%83%B3%E8%A3%9C%E9%96%93--spline-interpolation\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eスプライン補間 / spline interpolation\u003c/h3\u003e\n\n\u003cp\u003e\u003ca href=\"https://ja.wikipedia.org/wiki/%E3%82%B9%E3%83%97%E3%83%A9%E3%82%A4%E3%83%B3%E6%9B%B2%E7%B7%9A\" rel=\"nofollow noopener\" target=\"_blank\"\u003eスプライン曲線\u003c/a\u003e\u003cbr\u003e\n領域を区分的に分割し、接続部に何らかの連続性を仮定して各区間毎の補間を求める手法です。\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003cp\u003eIt is a method to divide the region into segments and to obtain the interpolation for each interval by assuming some continuity in the connection.\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"rbf-補間--rbf-interpolation\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#rbf-%E8%A3%9C%E9%96%93--rbf-interpolation\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eRBF 補間 / RBF Interpolation\u003c/h3\u003e\n\n\u003cp\u003e\u003ca href=\"http://yuki-koyama.hatenablog.com/entry/2014/05/04/132552\" rel=\"nofollow noopener\" target=\"_blank\"\u003eこの記事\u003c/a\u003eが非常に詳しいです。\u003cbr\u003e\nFlash Player が再生できるブラウザをお持ちの方は\u003ca href=\"http://www.brain.kyutech.ac.jp/%7Efurukawa/data/rbf.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003eこちらのデモ\u003c/a\u003eがわかりやすいです。\u003c/p\u003e\n\n\u003cp\u003eRadial Basis Function を用いた「すべてのサンプル点を通る」補間方法です。\u003cbr\u003e\n大規模な散布点の補間に強く、点群から穴のないメッシュを生成する手法やシミュレーションデータの内挿によく用いられます。\u003cbr\u003e\n今回の実装ではこの RBF 補間を利用します。\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003cp\u003eThis is an interpolation method that uses the Radial Basis Function to \"pass through all sample points\".\u003cbr\u003e\nIt is suitable for interpolation of large scatter points and is often used to generate holeless meshes from point clouds and to interpolate simulation data.\u003cbr\u003e\nIn this implementation, this RBF interpolation is used.\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"nurbs-補間--nurbs-interpolation\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#nurbs-%E8%A3%9C%E9%96%93--nurbs-interpolation\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eNURBS 補間 / NURBS Interpolation\u003c/h3\u003e\n\n\u003cp\u003eCAD で多く利用されている NURBS 曲面も、グリッド状に並んだ制御点間を滑らかに補間する曲面であるという意味では一種の補間手法です。\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003cp\u003eNURBS surfaces, which are often used in CAD, are a kind of interpolation method in the sense that they smoothly interpolate between control points arranged in a grid.\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"実装パート--implementation\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85%E3%83%91%E3%83%BC%E3%83%88--implementation\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装パート / Implementation\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"使うライブラリ--libraries\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BD%BF%E3%81%86%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA--libraries\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e使うライブラリ / Libraries\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003eRhinoCommon\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"https://www.alglib.net/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eALGLIB\u003c/a\u003e（.NET のみならず C++、Python、Delphiにも対応しているクロスプラットフォームの数値解析、データ処理ライブラリ。今回は RBF補間機能を利用します。）\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003chr\u003e\n\n\u003cul\u003e\n\u003cli\u003eRhinoCommon\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"https://www.alglib.net/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eALGLIB\u003c/a\u003e（A cross-platform numerical analysis and data processing library that supports not only .NET but also C++, Python, and Delphi. In this case, we will use the RBF interpolation function.）\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"実装方針--implementation-strategy\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85%E6%96%B9%E9%87%9D--implementation-strategy\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装方針 / Implementation Strategy\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003e点群から復元するベースとなる座標系決定（今回は XY 座標値 -\u0026gt; Z 座標値という対応関係を用います。円筒状の形状を補間したい場合は円筒座標系を用います。）\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003chr\u003e\n\n\u003cul\u003e\n\u003cli\u003eDetermination of the base coordinate system to be restored from the point cloud (in this case, the correspondence relationship of XY coordinate value -\u0026gt; Z coordinate value is used. If you want to interpolate a cylindrical shape, use the cylindrical coordinate system.)\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/401cac496b72c7d5168ea46cb4f3bbfd922682e6/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33302f35303032372f62326662613033662d306162612d343964312d626334642d6165346665396239356531312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"500\" alt=\"image.png (181.5 kB)\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2Fb2fba03f-0aba-49d1-bc4d-ae4fe9b95e11.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=965e6fa2ec7325e6a4fe1c11a415b45d\" data-canonical-src=\"https://img.esa.io/uploads/production/attachments/11581/2020/05/30/50027/b2fba03f-0aba-49d1-bc4d-ae4fe9b95e11.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2Fb2fba03f-0aba-49d1-bc4d-ae4fe9b95e11.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=612e06fb1906397dbc7e58cef9813628 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e決定した座標系上で点群の補間関数を作る（今回のような散布データの補間（内挿）をしたい場合は RBF (Radial Basis Function) が便利です。）\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003chr\u003e\n\n\u003cul\u003e\n\u003cli\u003eCreate the interpolation function of the point cloud on the determined coordinate system (RBF (Radial Basis Function) is useful if you want to interpolate the scattered data as in this case).\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/3eaa6d0f7518575514775dbcc04dc996de0377fb/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33302f35303032372f37326134626537362d653633372d343062302d626162372d3535386161653434363738302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"500\" alt=\"image.png (176.8 kB)\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F72a4be76-e637-40b0-bab7-558aae446780.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2c39e1e652261eece94e3a395b241161\" data-canonical-src=\"https://img.esa.io/uploads/production/attachments/11581/2020/05/30/50027/72a4be76-e637-40b0-bab7-558aae446780.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F72a4be76-e637-40b0-bab7-558aae446780.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=dd57ec4cb6ae76b64a90a0e97706fe09 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e作った補間関数を元に RhinoCommon の Network Surface を使って NURBS 曲面 を生成する。\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003chr\u003e\n\n\u003cul\u003e\n\u003cli\u003eGenerate a NURBS surface using the interpolation function I created using RhinoCommon's Network Surface.\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/0deabf588b7b6014cb986239f5dfce445a921691/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33302f35303032372f31326534336536352d343965372d343061642d383839302d6535306563663233326530612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"500\" alt=\"image.png (267.9 kB)\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F12e43e65-49e7-40ad-8890-e50ecf232e0a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=feba286d60573914e09af2114d3c19a5\" data-canonical-src=\"https://img.esa.io/uploads/production/attachments/11581/2020/05/30/50027/12e43e65-49e7-40ad-8890-e50ecf232e0a.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F12e43e65-49e7-40ad-8890-e50ecf232e0a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=dfed281f8b673bdb275ea52be2028a02 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"点群からベースとなる座標系決定--determination-of-the-base-coordinate-system-from-the-point-cloud\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%82%B9%E7%BE%A4%E3%81%8B%E3%82%89%E3%83%99%E3%83%BC%E3%82%B9%E3%81%A8%E3%81%AA%E3%82%8B%E5%BA%A7%E6%A8%99%E7%B3%BB%E6%B1%BA%E5%AE%9A--determination-of-the-base-coordinate-system-from-the-point-cloud\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e点群からベースとなる座標系決定 / Determination of the base coordinate system from the point cloud\u003c/h2\u003e\n\n\u003cp\u003e点群から曲面を復元する方法として、たとえば陰関数表現を用いた方法があります（\u003ca href=\"https://dl.acm.org/doi/10.1145/383259.383266\" rel=\"nofollow noopener\" target=\"_blank\"\u003eSiggraph 論文\u003c/a\u003e）。\u003cbr\u003e\nこの方法は\u003cbr\u003e\n- 任意の位相構造（球面だったりドーナッツ形状だったりも対応可能）に対応可能。\u003cbr\u003e\n- 補間されたジオメトリデータはメッシュかボリュームデータとして利用される。\u003cbr\u003e\n- 実空間をスキャン、メッシュ化してテクスチャを張るみたいな使い方に非常に適していて、SLAM との相性も良い。\u003c/p\u003e\n\n\u003cp\u003eなどの特徴があります。\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003cp\u003eOne way to recover surfaces from point clouds is, for example, to use an implicit function representation (\u003ca href=\"https://dl.acm.org/doi/10.1145/383259.383266\" rel=\"nofollow noopener\" target=\"_blank\"\u003eSiggraph paper\u003c/a\u003e).\u003cbr\u003e\nThis method is characterized by the following\u003cbr\u003e\n- Any phase structure (spherical or doughnut-shaped) can be used.\u003cbr\u003e\n- The interpolated geometry data is used as mesh or volume data.\u003cbr\u003e\n- It's very good for things like scanning real space, meshing and texturing, and it works well with SLAM.\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003cp\u003eしかし、例えばスキャンデータから Nurbs Surface を作りたい場合は上記の方法では難しいです。\u003cbr\u003e\nそこで、任意の位相構造に対応することはあきらめて、あらかじめ基準となる座標系を決めることで、Nurbs Surface を構築することができるようになります。\u003c/p\u003e\n\n\u003cp\u003e今回は XY 座標値 -\u0026gt; Z 座標値という対応関係を用います。\u003cbr\u003e\nこの座標系は例えば滑らかな地形データやあまり暴れない表面形状などに適しています。\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003cp\u003eHowever, if you want to create a Nurbs Surface from scanned data, for example, the above method is not suitable.\u003cbr\u003e\nTherefore, it is possible to build a Nurbs Surface by giving up on supporting an arbitrary topological structure and deciding on a reference coordinate system in advance.\u003c/p\u003e\n\n\u003cp\u003eIn this case, we use the correspondence of XY-coordinate value -\u0026gt; Z-coordinate value.\u003cbr\u003e\nThis coordinate system is suitable, for example, for smooth terrain data and less unevenness surface features.\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetXYZ\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eList\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003ePoint3d\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ePlane\u003c/span\u003e \u003cspan class=\"n\"\u003eplane\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCount\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCount\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ez\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCount\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCount\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e++)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003exi\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eyi\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ezi\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// 点の基準平面上への射影点を求める\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ePoint3d\u003c/span\u003e \u003cspan class=\"n\"\u003eonPlanePoint\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eplane\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eClosestPoint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e]);\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// 射影点での基準平面上での座標を求める\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eplane\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eClosestParameter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eonPlanePoint\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eout\u003c/span\u003e \u003cspan class=\"n\"\u003exi\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eout\u003c/span\u003e \u003cspan class=\"n\"\u003eyi\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// 点の基準平面上での距離を求める\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ezi\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eonPlanePoint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eDistanceTo\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e]);\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// 基準平面の裏側にあったら負の値にする\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eonPlanePoint\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eplane\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eNormal\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"n\"\u003ezi\u003c/span\u003e \u003cspan class=\"p\"\u003e*=\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003exi\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eyi\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ez\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ezi\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e人間の腕などの円筒状の自由形状を補間したい場合は円筒座標系を用います。\u003cbr\u003e\n座標系をもっと工夫することでさらに複雑な形状に対応可能です（一般のＵＶＷ空間を使ってもよい）。\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003cp\u003eIf you want to interpolate a cylindrical free-form shape such as a human arm, you can use the cylindrical coordinate system.\u003cbr\u003e\nIt is possible to handle more complex shapes by devising the coordinate system (you can also use the general UVW space).\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"決定した座標系上で点群を補間する関数を作る--create-a-function-to-interpolate-a-point-cloud-on-a-determined-coordinate-system\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%B1%BA%E5%AE%9A%E3%81%97%E3%81%9F%E5%BA%A7%E6%A8%99%E7%B3%BB%E4%B8%8A%E3%81%A7%E7%82%B9%E7%BE%A4%E3%82%92%E8%A3%9C%E9%96%93%E3%81%99%E3%82%8B%E9%96%A2%E6%95%B0%E3%82%92%E4%BD%9C%E3%82%8B--create-a-function-to-interpolate-a-point-cloud-on-a-determined-coordinate-system\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e決定した座標系上で点群を補間する関数を作る / Create a function to interpolate a point cloud on a determined coordinate system\u003c/h2\u003e\n\n\u003cp\u003e座標系が決定されたら、そこ上で点群の X, Y, Z 座標値を計算し、その値を用いて、\u003c/p\u003e\n\n\u003cp\u003e補間関数 f: [X, Y] -\u0026gt; Z\u003c/p\u003e\n\n\u003cp\u003eを作ります。この補間関数として今回は RBF 補間を使います。.NET で無料で RBF 補間が使えるライブラリ、ALGLIB を使って実装していきます。\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003cp\u003eOnce the coordinate system has been determined, the X, Y, and Z coordinate values of the point cloud are calculated on it, and the interpolation function \u003c/p\u003e\n\n\u003cp\u003ef: [X, Y] -\u0026gt; Z\u003c/p\u003e\n\n\u003cp\u003eis created using those values. This time, RBF interpolation is used as the interpolation function. NET free RBF interpolation library, ALGLIB is used to implement it.\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetRBFModel\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// RBF Model を宣言\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ealglib\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erbfmodel\u003c/span\u003e \u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// 入力が2次元、出力が１次元として RBF Model を初期化\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ealglib\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003erbfcreate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eout\u003c/span\u003e \u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// サンプル点を RBF Model にセット\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ealglib\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003erbfsetpoints\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esamplePlanarCoordsScaled\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// RBF Model のパイパーパラメータ設定\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ealglib\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003erbfsetalgohierarchical\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erBase\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003enLayers\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esmooth\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// モデル構築に関する情報を入れるクラスを宣言\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ealglib\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erbfreport\u003c/span\u003e \u003cspan class=\"n\"\u003erep\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// RBF Model 構築\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ealglib\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003erbfbuildmodel\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eout\u003c/span\u003e \u003cspan class=\"n\"\u003erep\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// クラスプロパティに代入\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eModel\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"rbf補間関数を元に-rhinocommon-の-network-surface-を使って-nurbs-曲面を生成する--generate-a-nurbs-surface-using-rhinocommons-network-surface-based-on-the-rbf-interpolation-function\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#rbf%E8%A3%9C%E9%96%93%E9%96%A2%E6%95%B0%E3%82%92%E5%85%83%E3%81%AB-rhinocommon-%E3%81%AE-network-surface-%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6-nurbs-%E6%9B%B2%E9%9D%A2%E3%82%92%E7%94%9F%E6%88%90%E3%81%99%E3%82%8B--generate-a-nurbs-surface-using-rhinocommons-network-surface-based-on-the-rbf-interpolation-function\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eRBF補間関数を元に RhinoCommon の Network Surface を使って NURBS 曲面を生成する / Generate a NURBS surface using RhinoCommon's Network Surface based on the RBF interpolation function.\u003c/h2\u003e\n\n\u003cp\u003eRBF 補間関数から NURBS 曲面を生成します。\u003cbr\u003e\n安易に RBF 補間関数からグリッド点を作ってそれを NURBS 曲面 の制御点にそのまま使ってしまうとアウトです。\u003cbr\u003e\nNURBS 曲面は制御点を通らないその間を補間された形状となるため、RBF 補間関数との誤差が必ず生じてしまいます。\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003cp\u003eCreates a NURBS surface from the RBF interpolation function.\u003cbr\u003e\nIf you easily create a grid point from the RBF interpolation function and use it as a control point of a NURBS surface, you are out of the game.\u003cbr\u003e\nSince the NURBS surface is an interpolated shape that does not pass through the control points, there is always an error with the RBF interpolation function.\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003cp\u003eこの問題をクリアするために NurbsSurface.CreateNetworkSurface を用います。\u003cbr\u003e\nこの API は UV方向それぞれの曲線群から、それらで構成されるグリッドになるべく近くなるような NURBS 曲面を生成することができます。\u003cbr\u003e\nRBF 補間関数から UV のグリッド曲線を簡単に作れるので、今回はこの方法を採用します。\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003cp\u003eWe use NurbsSurface.CreateNetworkSurface to clear this problem.\u003cbr\u003e\nThe API can generate NURBS surfaces that are as close to the grid as possible to the curves in each UV direction.\u003cbr\u003e\nSince it is easy to create a UV grid curve from the RBF interpolation function, this method is adopted in this case.\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eSurface\u003c/span\u003e \u003cspan class=\"nf\"\u003eInterpolatedSurface\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003exStart\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003exEnd\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eyStart\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eyEnd\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eU\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eV\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// U 方向のネットワークスプライン曲線群を作る\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eCurve\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003euCurves\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eCurve\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eU\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003eU\u003c/span\u003e\u003cspan class=\"p\"\u003e+\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e++)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003estepY\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eyEnd\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eyStart\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eV\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eyStart\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003estepY\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ePoint3d\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003epts\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003ePoint3d\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eV\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n        \u003cspan class=\"k\"\u003efor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ej\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ej\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003eV\u003c/span\u003e\u003cspan class=\"p\"\u003e+\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ej\u003c/span\u003e\u003cspan class=\"p\"\u003e++)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003estepX\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003exEnd\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003exStart\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eU\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003exStart\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ej\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003estepX\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ez\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eZ\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ej\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003ePoint3d\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ez\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"n\"\u003euCurves\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eNurbsCurve\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCreateInterpolatedCurve\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// V 方向のネットワークスプライン曲線群を作る\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eCurve\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003evCurves\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eCurve\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eV\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003eV\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e++)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003estepX\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003exEnd\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003exStart\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eU\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003exStart\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003estepX\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ePoint3d\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003epts\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003ePoint3d\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eU\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n        \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ej\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ej\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003eU\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ej\u003c/span\u003e\u003cspan class=\"p\"\u003e++)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003estepY\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eyEnd\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eyStart\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eV\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003exStart\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ej\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003estepY\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ez\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eZ\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ej\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003ePoint3d\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ez\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"n\"\u003evCurves\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eNurbsCurve\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCreateInterpolatedCurve\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// Network Surface の構築\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eSurface\u003c/span\u003e \u003cspan class=\"n\"\u003einterpolatedSurface\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eNurbsSurface\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCreateNetworkSurface\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003euCurves\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003evCurves\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e0.1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e0.1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e0.1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eout\u003c/span\u003e \u003cspan class=\"n\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003einterpolatedSurface\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"実装--implementation\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85--implementation\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装 / Implementation\u003c/h2\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"主なディレクトリ構成--main-directory-structure\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%B8%BB%E3%81%AA%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E6%A7%8B%E6%88%90--main-directory-structure\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e主なディレクトリ構成 / Main Directory Structure\u003c/h2\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/cce92beb8e2dc071d0387ad2980400176d3afd85/68747470733a2f2f696d672e6573612e696f2f75706c6f6164732f70726f64756374696f6e2f6174746163686d656e74732f31313538312f323032302f30352f33302f35303032372f34333664383763642d616235362d346139642d396364302d3136363063373762343864392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"256\" alt=\"image.png (10.7 kB)\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F436d87cd-ab56-4a9d-9cd0-1660c77b48d9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=392ca05f957102ae183cb2913fd52c6b\" data-canonical-src=\"https://img.esa.io/uploads/production/attachments/11581/2020/05/30/50027/436d87cd-ab56-4a9d-9cd0-1660c77b48d9.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fimg.esa.io%2Fuploads%2Fproduction%2Fattachments%2F11581%2F2020%2F05%2F30%2F50027%2F436d87cd-ab56-4a9d-9cd0-1660c77b48d9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=618275e0b6bc5e2ccdaf07315d255404 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"実装する機能を１つのクラスにまとめる--combining-the-functions-to-be-implemented-into-a-single-class\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B%E6%A9%9F%E8%83%BD%E3%82%92%EF%BC%91%E3%81%A4%E3%81%AE%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AB%E3%81%BE%E3%81%A8%E3%82%81%E3%82%8B--combining-the-functions-to-be-implemented-into-a-single-class\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装する機能を１つのクラスにまとめる / Combining the functions to be implemented into a single class\u003c/h2\u003e\n\n\u003cp\u003eRBFInterpolation.cs\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eRhino.Geometry\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Collections.Generic\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Linq\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003enamespace\u003c/span\u003e \u003cspan class=\"nn\"\u003ePCloud2Surface.Classes\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eRBFInterpolation\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"err\"\u003e#\u003c/span\u003e\u003cspan class=\"n\"\u003eregion\u003c/span\u003e \u003cspan class=\"n\"\u003eConstructros\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003eRBFInterpolation\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003eRBFInterpolation\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eList\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003ePoint3d\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ePlane\u003c/span\u003e \u003cspan class=\"n\"\u003eplane\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003enLayers\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003erBase\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003esmooth\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSamplePts\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePlane\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eplane\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003enLayers\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003enLayers\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erBase\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003erBase\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esmooth\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esmooth\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eSetProperties\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eplane\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"err\"\u003e#\u003c/span\u003e\u003cspan class=\"n\"\u003eendregion\u003c/span\u003e\n\n        \u003cspan class=\"err\"\u003e#\u003c/span\u003e\u003cspan class=\"n\"\u003eregion\u003c/span\u003e \u003cspan class=\"n\"\u003eProperties\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eList\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003ePoint3d\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eSamplePts\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003ePlane\u003c/span\u003e \u003cspan class=\"n\"\u003ePlane\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003ealglib\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erbfmodel\u003c/span\u003e \u003cspan class=\"n\"\u003eModel\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"err\"\u003e#\u003c/span\u003e\u003cspan class=\"n\"\u003eendregion\u003c/span\u003e\n\n        \u003cspan class=\"err\"\u003e#\u003c/span\u003e\u003cspan class=\"n\"\u003eregion\u003c/span\u003e \u003cspan class=\"n\"\u003ePublic\u003c/span\u003e \u003cspan class=\"n\"\u003eMethods\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"nf\"\u003eZ\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003exScaled\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003exLength\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eyScaled\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eyLength\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ezScaled\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ealglib\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003erbfcalc2\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eModel\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003exScaled\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eyScaled\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ez\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ezScaled\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ezLength\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003ez\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003ePoint3d\u003c/span\u003e \u003cspan class=\"nf\"\u003eP\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ez\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eZ\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eVector3d\u003c/span\u003e \u003cspan class=\"n\"\u003ezDir\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePlane\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eNormal\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ePoint3d\u003c/span\u003e \u003cspan class=\"n\"\u003eptOnPlane\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePlane\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePointAt\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ePoint3d\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eptOnPlane\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ez\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ezDir\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eSurface\u003c/span\u003e \u003cspan class=\"nf\"\u003eInterpolatedSurface\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003exStart\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003exEnd\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eyStart\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eyEnd\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eU\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eV\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// U 方向のネットワークスプライン曲線群を作る\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eCurve\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003euCurves\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eCurve\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eU\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n            \u003cspan class=\"k\"\u003efor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003eU\u003c/span\u003e\u003cspan class=\"p\"\u003e+\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e++)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003estepY\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eyEnd\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eyStart\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eV\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eyStart\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003estepY\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ePoint3d\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003epts\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003ePoint3d\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eV\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n                \u003cspan class=\"k\"\u003efor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ej\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ej\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003eV\u003c/span\u003e\u003cspan class=\"p\"\u003e+\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ej\u003c/span\u003e\u003cspan class=\"p\"\u003e++)\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003estepX\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003exEnd\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003exStart\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eU\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003exStart\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ej\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003estepX\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ej\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eP\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                \u003cspan class=\"n\"\u003euCurves\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eNurbsCurve\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCreateInterpolatedCurve\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// V 方向のネットワークスプライン曲線群を作る\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eCurve\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003evCurves\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eCurve\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eV\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n            \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003eV\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e++)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003estepX\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003exEnd\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003exStart\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eU\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003exStart\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003estepX\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ePoint3d\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003epts\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003ePoint3d\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eU\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n                \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ej\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ej\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003eU\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ej\u003c/span\u003e\u003cspan class=\"p\"\u003e++)\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003estepY\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eyEnd\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eyStart\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eV\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003exStart\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ej\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003estepY\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ej\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eP\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                \u003cspan class=\"n\"\u003evCurves\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eNurbsCurve\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCreateInterpolatedCurve\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// Network Surface の構築\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eSurface\u003c/span\u003e \u003cspan class=\"n\"\u003einterpolatedSurface\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eNurbsSurface\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCreateNetworkSurface\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003euCurves\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003evCurves\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e0.1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e0.1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e0.1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eout\u003c/span\u003e \u003cspan class=\"n\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003einterpolatedSurface\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"err\"\u003e#\u003c/span\u003e\u003cspan class=\"n\"\u003eendregion\u003c/span\u003e\n\n        \u003cspan class=\"err\"\u003e#\u003c/span\u003e\u003cspan class=\"n\"\u003eregion\u003c/span\u003e \u003cspan class=\"n\"\u003ePrivate\u003c/span\u003e \u003cspan class=\"n\"\u003eMembers\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003enumSamplePoints\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003ez\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003exLength\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eyLength\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ezLength\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e\u003cspan class=\"p\"\u003e[,]\u003c/span\u003e \u003cspan class=\"n\"\u003esamplePlanarCoordsScaled\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003enLayers\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003erBase\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003esmooth\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"err\"\u003e#\u003c/span\u003e\u003cspan class=\"n\"\u003eendregion\u003c/span\u003e\n\n        \u003cspan class=\"err\"\u003e#\u003c/span\u003e\u003cspan class=\"n\"\u003eregion\u003c/span\u003e \u003cspan class=\"n\"\u003ePrivate\u003c/span\u003e \u003cspan class=\"n\"\u003eMethods\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetNumSamplePoints\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eList\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003ePoint3d\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003enumSamplePoints\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCount\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetXYZ\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eList\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003ePoint3d\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ePlane\u003c/span\u003e \u003cspan class=\"n\"\u003eplane\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCount\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCount\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ez\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCount\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n            \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCount\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e++)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003exi\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eyi\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ezi\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// 点の基準平面上への射影点を求める\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ePoint3d\u003c/span\u003e \u003cspan class=\"n\"\u003eonPlanePoint\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eplane\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eClosestPoint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e]);\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// 射影点での基準平面上での座標を求める\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eplane\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eClosestParameter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eonPlanePoint\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eout\u003c/span\u003e \u003cspan class=\"n\"\u003exi\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eout\u003c/span\u003e \u003cspan class=\"n\"\u003eyi\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// 点の基準平面上での距離を求める\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ezi\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eonPlanePoint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eDistanceTo\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e]);\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// 基準平面の裏側にあったら負の値にする\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eonPlanePoint\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eplane\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eNormal\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"n\"\u003ezi\u003c/span\u003e \u003cspan class=\"p\"\u003e*=\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003exi\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eyi\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ez\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ezi\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetXYZLength\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003exLength\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eMax\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eMin\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eyLength\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eMax\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eMin\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ezLength\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ez\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eMax\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ez\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eMin\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetScalizedPlanarCoordinates\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esamplePlanarCoordsScaled\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003enumSamplePoints\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n            \u003cspan class=\"k\"\u003efor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003enumSamplePoints\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e++)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esamplePlanarCoordsScaled\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003exLength\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esamplePlanarCoordsScaled\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eyLength\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esamplePlanarCoordsScaled\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ez\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ezLength\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetRBFModel\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// RBF Model を宣言\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ealglib\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erbfmodel\u003c/span\u003e \u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 入力が2次元、出力が１次元として RBF Model を初期化\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ealglib\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003erbfcreate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eout\u003c/span\u003e \u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// サンプル点を RBF Model にセット\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ealglib\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003erbfsetpoints\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esamplePlanarCoordsScaled\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ealglib\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003erbfsetalgohierarchical\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erBase\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003enLayers\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esmooth\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// モデル構築に関する情報を入れるクラスを宣言\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ealglib\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erbfreport\u003c/span\u003e \u003cspan class=\"n\"\u003erep\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// RBF Model 構築\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ealglib\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003erbfbuildmodel\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eout\u003c/span\u003e \u003cspan class=\"n\"\u003erep\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// クラスプロパティに代入\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eModel\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetProperties\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eList\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003ePoint3d\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ePlane\u003c/span\u003e \u003cspan class=\"n\"\u003eplane\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eSetNumSamplePoints\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eSetXYZ\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003epts\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eplane\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eSetXYZLength\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eSetScalizedPlanarCoordinates\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eSetRBFModel\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"err\"\u003e#\u003c/span\u003e\u003cspan class=\"n\"\u003eendregion\u003c/span\u003e\n\n\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"rbfinterpolaltion-クラスのインスタンスを生成する-gh-コンポーネント--gh-component-that-creates-an-instance-of-the-rbfinterpolaltion-class\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#rbfinterpolaltion-%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%82%BF%E3%83%B3%E3%82%B9%E3%82%92%E7%94%9F%E6%88%90%E3%81%99%E3%82%8B-gh-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88--gh-component-that-creates-an-instance-of-the-rbfinterpolaltion-class\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eRBFInterpolaltion クラスのインスタンスを生成する GH コンポーネント / GH component that creates an instance of the RBFInterpolaltion class\u003c/h2\u003e\n\n\u003cp\u003eRBFComponent.cs\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Collections.Generic\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eGrasshopper.Kernel\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eRhino.Geometry\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003ePCloud2Surface.Classes\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// In order to load the result of this wizard, you will also need to\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// add the output bin/ folder of this project to the list of loaded\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// folder in Grasshopper.\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// You can use the _GrasshopperDeveloperSettings Rhino command for that.\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003enamespace\u003c/span\u003e \u003cspan class=\"nn\"\u003ePCloud2Surface\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eRBFComponent\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eGH_Component\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// Each implementation of GH_Component must provide a public \u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// constructor without any arguments.\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// Category represents the Tab in which the component will appear, \u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// Subcategory the panel. If you use non-existing tab or panel names, \u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// new tabs/panels will automatically be created.\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003eRBFComponent\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"k\"\u003ebase\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"RBF from PCloud\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"RBF PCloud\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n              \u003cspan class=\"s\"\u003e\"Create a RBF instance.\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n              \u003cspan class=\"s\"\u003e\"Interpolation\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"RBF\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// Registers all the input parameters for this component.\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprotected\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eRegisterInputParams\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eGH_Component\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eGH_InputParamManager\u003c/span\u003e \u003cspan class=\"n\"\u003epManager\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003epManager\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAddPointParameter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Sample Pts\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Pts\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Sampling point to interpolate.\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eGH_ParamAccess\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elist\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003epManager\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAddPlaneParameter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Plane\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"P\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"A reference plane.\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eGH_ParamAccess\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eitem\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003epManager\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAddIntegerParameter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Number of Layers\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"nLayers\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"A number of layers of a RBF network.\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eGH_ParamAccess\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eitem\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003epManager\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAddNumberParameter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Radius of Basis Function\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"rBase\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"A radius of the RBF.\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eGH_ParamAccess\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eitem\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003epManager\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAddNumberParameter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Smooth Prameter\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Smooth\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"A parameter of smoothing of a RBF network\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eGH_ParamAccess\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eitem\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// Registers all the output parameters for this component.\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprotected\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eRegisterOutputParams\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eGH_Component\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eGH_OutputParamManager\u003c/span\u003e \u003cspan class=\"n\"\u003epManager\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003epManager\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAddGenericParameter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"RBF\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"RBF\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"A RBF Interpolation instance which create interpolated surface from the input point cloud.\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eGH_ParamAccess\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eitem\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// This is the method that actually does the work.\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"DA\"\u0026gt;The DA object can be used to retrieve data from input parameters and \u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// to store data in output parameters.\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprotected\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eSolveInstance\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eIGH_DataAccess\u003c/span\u003e \u003cspan class=\"n\"\u003eDA\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eList\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003ePoint3d\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003esamplePts\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eList\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003ePoint3d\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;();\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ePlane\u003c/span\u003e \u003cspan class=\"n\"\u003eplane\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003ePlane\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003enLayers\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003erBase\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003esmooth\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"n\"\u003eDA\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetDataList\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003esamplePts\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eDA\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetData\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eplane\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eDA\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetData\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003enLayers\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eDA\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetData\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003erBase\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eDA\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetData\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esmooth\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n            \u003cspan class=\"n\"\u003eRBFInterpolation\u003c/span\u003e \u003cspan class=\"n\"\u003erbf\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eRBFInterpolation\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esamplePts\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eplane\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003enLayers\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003erBase\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003esmooth\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n            \u003cspan class=\"n\"\u003eDA\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetData\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003erbf\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// Provides an Icon for every component that will be visible in the User Interface.\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// Icons need to be 24x24 pixels.\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprotected\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"n\"\u003eSystem\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDrawing\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eBitmap\u003c/span\u003e \u003cspan class=\"n\"\u003eIcon\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eget\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// You can add image files to your project resources and access them like this:\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e//return Resources.IconForThisComponent;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// Each component must have a unique Guid to identify it. \u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// It is vital this Guid doesn't change otherwise old ghx files \u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// that use the old ID will partially fail during loading.\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"n\"\u003eGuid\u003c/span\u003e \u003cspan class=\"n\"\u003eComponentGuid\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eget\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eGuid\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"4567ec83-ae6c-4e65-a7bd-bb52300d6c1e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"rbfinterpolation-インスタンスから補間曲面生成する-gh-コンポーネント--gh-component-that-generates-interpolated-surfaces-from-a-rbfinterpolation-instance\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#rbfinterpolation-%E3%82%A4%E3%83%B3%E3%82%B9%E3%82%BF%E3%83%B3%E3%82%B9%E3%81%8B%E3%82%89%E8%A3%9C%E9%96%93%E6%9B%B2%E9%9D%A2%E7%94%9F%E6%88%90%E3%81%99%E3%82%8B-gh-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88--gh-component-that-generates-interpolated-surfaces-from-a-rbfinterpolation-instance\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eRBFInterpolation インスタンスから補間曲面生成する GH コンポーネント / GH component that generates interpolated surfaces from a RBFInterpolation instance\u003c/h2\u003e\n\n\u003cp\u003eInterpolatedSurface.cs\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Collections.Generic\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eGrasshopper.Kernel\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003ePCloud2Surface.Classes\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eRhino.Geometry\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003enamespace\u003c/span\u003e \u003cspan class=\"nn\"\u003ePCloud2Surface.Components\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eInterpolatedSurface\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eGH_Component\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// Initializes a new instance of the InterpolatedSurface class.\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003eInterpolatedSurface\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"k\"\u003ebase\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Interpolated Surface\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"IS\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n              \u003cspan class=\"s\"\u003e\"Create the interpolated surface form RBF\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n              \u003cspan class=\"s\"\u003e\"Interpolation\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Surface\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// Registers all the input parameters for this component.\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprotected\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eRegisterInputParams\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eGH_Component\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eGH_InputParamManager\u003c/span\u003e \u003cspan class=\"n\"\u003epManager\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003epManager\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAddGenericParameter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"RBF\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"RBF\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"A RBF Planar interpolation instance.\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eGH_ParamAccess\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eitem\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003epManager\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAddNumberParameter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Start X\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"SX\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"A start x coordinate of a cylindrical coordinates\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eGH_ParamAccess\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eitem\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003epManager\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAddNumberParameter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"End X\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"EX\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"A end x coordinate of a cylindrical coordinates\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eGH_ParamAccess\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eitem\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003epManager\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAddNumberParameter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Start Y\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"SY\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"A start y coordinate of a cylindrical coordinates\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eGH_ParamAccess\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eitem\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003epManager\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAddNumberParameter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"End Y\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"EY\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"A end y coordinate of a cylindrical coordinates\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eGH_ParamAccess\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eitem\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003epManager\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAddIntegerParameter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"U Count\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"UC\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"A count of control points at x coordinate\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eGH_ParamAccess\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eitem\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003epManager\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAddIntegerParameter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"V Count\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"VC\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"A count of control points at y coordinate\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eGH_ParamAccess\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eitem\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// Registers all the output parameters for this component.\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprotected\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eRegisterOutputParams\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eGH_Component\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eGH_OutputParamManager\u003c/span\u003e \u003cspan class=\"n\"\u003epManager\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003epManager\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAddSurfaceParameter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Interpolated Surface\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"IS\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"A interpolated surface from RBF.\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eGH_ParamAccess\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eitem\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// This is the method that actually does the work.\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"DA\"\u0026gt;The DA object is used to retrieve from inputs and store in outputs.\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprotected\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eSolveInstance\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eIGH_DataAccess\u003c/span\u003e \u003cspan class=\"n\"\u003eDA\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eRBFInterpolation\u003c/span\u003e \u003cspan class=\"n\"\u003erbf\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eRBFInterpolation\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003exStart\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003exEnd\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eyStart\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eyEnd\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003euCount\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003evCount\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"n\"\u003eDA\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetData\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003erbf\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eDA\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetData\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003exStart\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eDA\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetData\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003exEnd\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eDA\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetData\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eyStart\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eDA\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetData\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eyEnd\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eDA\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetData\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003euCount\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eDA\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetData\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e6\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003evCount\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n            \u003cspan class=\"n\"\u003eSurface\u003c/span\u003e \u003cspan class=\"n\"\u003einterpolatedSurface\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003erbf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eInterpolatedSurface\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003exStart\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003exEnd\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eyStart\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eyEnd\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003euCount\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003evCount\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n            \u003cspan class=\"n\"\u003eDA\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetData\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003einterpolatedSurface\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// Provides an Icon for the component.\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprotected\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"n\"\u003eSystem\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDrawing\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eBitmap\u003c/span\u003e \u003cspan class=\"n\"\u003eIcon\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eget\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e//You can add image files to your project resources and access them like this:\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// return Resources.IconForThisComponent;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// Gets the unique ID for this component. Do not change this ID after release.\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"n\"\u003eGuid\u003c/span\u003e \u003cspan class=\"n\"\u003eComponentGuid\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eget\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eGuid\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"fd5133a7-80e8-4d31-865c-2fefec5e5104\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n","createdAt":"2020-06-08T08:43:25Z","elapsedYearsFromLastModifiedAt":1,"encryptedId":"m4mH4yn/LzfJ5l7PpDYavhHYgo77XyyNiQ==--4uMRPkws/eM5ett4--1elrTWUmL34lwIqDAz3yvA==","isBanned":false,"isDeprecated":true,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2020-06-08T08:44:55Z","likesCount":3,"linkUrl":"https://qiita.com/KaiSuto/items/2b9f9cebe99238e359bc","organization":null,"originalId":1240270,"stockedCount":1,"title":"ポイントクラウドからNURBS補間曲面を作る on Rhino+Grasshopper","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%93%E3%81%AE%E8%A8%98%E4%BA%8B%E3%81%AE%E7%9B%AE%E7%9A%84\"\u003eこの記事の目的\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%99%82%E9%96%93%E6%A7%8B%E6%88%90%E7%9B%AE%E5%AE%89--time-schedule\"\u003e時間構成目安 / Time Schedule\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%93%E3%81%AE%E3%83%8F%E3%83%B3%E3%82%BA%E3%82%AA%E3%83%B3%E3%81%A7%E4%BD%95%E3%81%8C%E3%81%A7%E3%81%8D%E3%82%8B%E3%82%88%E3%81%86%E3%81%AB%E3%81%AA%E3%82%8B%E3%81%8B--what-we-learn\"\u003eこのハンズオンで何ができるようになるか？ / What We Learn?\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%BF%85%E8%A6%81%E3%81%AA%E3%82%82%E3%81%AE--requirements\"\u003e必要なもの / Requirements\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%BE%E3%81%9A%E3%81%AF%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%8B--lets-use-it-first\"\u003eまずは使ってみる / Let's use it first\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%90%86%E8%AB%96%E7%9A%84%E8%83%8C%E6%99%AF%E3%83%91%E3%83%BC%E3%83%88--theoretical-background\"\u003e理論的背景パート / Theoretical Background\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%9D%E3%82%82%E3%81%9D%E3%82%82%E8%A3%9C%E9%96%93%E3%81%A3%E3%81%A6%E4%BD%95--what-is-interpolation\"\u003eそもそも補間って何？ / What is Interpolation?\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E4%BB%A3%E8%A1%A8%E7%9A%84%E3%81%AA%E8%A3%9C%E9%96%93%E6%96%B9%E6%B3%95%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6--typical-interpolation-methods\"\u003e代表的な補間方法について / Typical interpolation methods\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%A4%9A%E9%A0%85%E5%BC%8F%E8%A3%9C%E9%96%93--polynomial-interpolation\"\u003e多項式補間 / polynomial interpolation\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%B9%E3%83%97%E3%83%A9%E3%82%A4%E3%83%B3%E8%A3%9C%E9%96%93--spline-interpolation\"\u003eスプライン補間 / spline interpolation\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#rbf-%E8%A3%9C%E9%96%93--rbf-interpolation\"\u003eRBF 補間 / RBF Interpolation\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#nurbs-%E8%A3%9C%E9%96%93--nurbs-interpolation\"\u003eNURBS 補間 / NURBS Interpolation\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%AE%9F%E8%A3%85%E3%83%91%E3%83%BC%E3%83%88--implementation\"\u003e実装パート / Implementation\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E4%BD%BF%E3%81%86%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA--libraries\"\u003e使うライブラリ / Libraries\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%AE%9F%E8%A3%85%E6%96%B9%E9%87%9D--implementation-strategy\"\u003e実装方針 / Implementation Strategy\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%82%B9%E7%BE%A4%E3%81%8B%E3%82%89%E3%83%99%E3%83%BC%E3%82%B9%E3%81%A8%E3%81%AA%E3%82%8B%E5%BA%A7%E6%A8%99%E7%B3%BB%E6%B1%BA%E5%AE%9A--determination-of-the-base-coordinate-system-from-the-point-cloud\"\u003e点群からベースとなる座標系決定 / Determination of the base coordinate system from the point cloud\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%B1%BA%E5%AE%9A%E3%81%97%E3%81%9F%E5%BA%A7%E6%A8%99%E7%B3%BB%E4%B8%8A%E3%81%A7%E7%82%B9%E7%BE%A4%E3%82%92%E8%A3%9C%E9%96%93%E3%81%99%E3%82%8B%E9%96%A2%E6%95%B0%E3%82%92%E4%BD%9C%E3%82%8B--create-a-function-to-interpolate-a-point-cloud-on-a-determined-coordinate-system\"\u003e決定した座標系上で点群を補間する関数を作る / Create a function to interpolate a point cloud on a determined coordinate system\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#rbf%E8%A3%9C%E9%96%93%E9%96%A2%E6%95%B0%E3%82%92%E5%85%83%E3%81%AB-rhinocommon-%E3%81%AE-network-surface-%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6-nurbs-%E6%9B%B2%E9%9D%A2%E3%82%92%E7%94%9F%E6%88%90%E3%81%99%E3%82%8B--generate-a-nurbs-surface-using-rhinocommons-network-surface-based-on-the-rbf-interpolation-function\"\u003eRBF補間関数を元に RhinoCommon の Network Surface を使って NURBS 曲面を生成する / Generate a NURBS surface using RhinoCommon's Network Surface based on the RBF interpolation function.\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%AE%9F%E8%A3%85--implementation\"\u003e実装 / Implementation\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E4%B8%BB%E3%81%AA%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E6%A7%8B%E6%88%90--main-directory-structure\"\u003e主なディレクトリ構成 / Main Directory Structure\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B%E6%A9%9F%E8%83%BD%E3%82%92%EF%BC%91%E3%81%A4%E3%81%AE%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AB%E3%81%BE%E3%81%A8%E3%82%81%E3%82%8B--combining-the-functions-to-be-implemented-into-a-single-class\"\u003e実装する機能を１つのクラスにまとめる / Combining the functions to be implemented into a single class\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#rbfinterpolaltion-%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%82%BF%E3%83%B3%E3%82%B9%E3%82%92%E7%94%9F%E6%88%90%E3%81%99%E3%82%8B-gh-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88--gh-component-that-creates-an-instance-of-the-rbfinterpolaltion-class\"\u003eRBFInterpolaltion クラスのインスタンスを生成する GH コンポーネント / GH component that creates an instance of the RBFInterpolaltion class\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#rbfinterpolation-%E3%82%A4%E3%83%B3%E3%82%B9%E3%82%BF%E3%83%B3%E3%82%B9%E3%81%8B%E3%82%89%E8%A3%9C%E9%96%93%E6%9B%B2%E9%9D%A2%E7%94%9F%E6%88%90%E3%81%99%E3%82%8B-gh-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88--gh-component-that-generates-interpolated-surfaces-from-a-rbfinterpolation-instance\"\u003eRBFInterpolation インスタンスから補間曲面生成する GH コンポーネント / GH component that generates interpolated surfaces from a RBFInterpolation instance\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","totalPv":1756,"uuid":"2b9f9cebe99238e359bc","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"jcWjJ4GhqGAiUCJGAsfRVFfT33u8--OazpxqvlOwkXXxvj--634qr8qT/m38kRr0vO6RiA==","originalId":365831,"description":"","facebookUrl":null,"githubUrl":"https://github.com/KaiSut0","isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"","profileImageUrl":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/365831/profile-images/1591606276","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F365831%2Fprofile-images%2F1591606276?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=ce9234f0ecce975acaba615cde64aa04","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F365831%2Fprofile-images%2F1591606276?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=16f931d0867d8ed671550d4a31a918df","urlName":"KaiSuto","websiteUrl":null,"twitterUrl":"https://twitter.com/suto_kai","twitterUrlName":"suto_kai","revealedOrganizations":{"edges":[]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"grasshopper","urlName":"grasshopper"},{"name":"rhinoceros","urlName":"rhinoceros"},{"name":"補間","urlName":"%e8%a3%9c%e9%96%93"},{"name":"RBF","urlName":"rbf"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
