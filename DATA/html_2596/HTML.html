<!DOCTYPE html><html><head><meta charset="utf-8" /><title>Unityでざっくり人流シミュレーション[NavMeshAgentの利用]その1　～シーンのベース構築とNavMeshAgentの導入編～ - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/qulylean/items/7b5e6958d0020f3d6b6a" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="+O6bZqO8NRMwBpIepWwmO0tMuhn/H6VNRzJ0tIg81uDVsgl5YQ3+TDqiOKsthyCgGoNjdvrdKbQqIsm4jcMK/g==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta property="og:type" content="article"><meta property="og:title" content="Unityでざっくり人流シミュレーション[NavMeshAgentの利用]その1　～シーンのベース構築とNavMeshAgentの導入編～ - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1WVzVwZEhuamdhZmpnWmJqZ2FQamdZX2pnb3JrdXJybXRZSGpncmZqZzVfamc2WGpnNnpqZzd6amdyZmpnNmZqZzdOYlRtRjJUV1Z6YUVGblpXNTA0NEd1NVlpcDU1U29YZU9CbmVPQnJqSGpnSUR2dlo3amdyZmpnN3pqZzdQamdhN2pnNW5qZzd6amdybm1wNHZucjRuamdhaE9ZWFpOWlhOb1FXZGxiblRqZ2E3bHNJN2xoYVhudDZqdnZaNCZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTU0JnR4dC1jbGlwPWVsbGlwc2lzJnR4dC1hbGlnbj1jZW50ZXIlMkNtaWRkbGUmcz1hNTczYzExZmMxN2E0NzI4NzY0MzNjNzgyOWQ1MTg4ZQ&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RSEYxYkhsc1pXRnUmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT00NSZ0eHQtYWxpZ249cmlnaHQlMkNib3R0b20mcz1mZDBiZjM4MDk5Mzc5OWU0ZDg0NzcyMzZhZTMwODYxNA&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=89a62d546d96f036cad5d5f7cbd8b1db"><meta property="og:description" content="

はじめに

　本記事では、BIMモデルを利用してUnity上で簡単な人流シミュレーションを行うまでの流れをまとめたシリーズです。
　建物の設計業務を行う際の、部屋の配置や動線計画などのラフな判断材料としての利用、あるいはゲーム開発..."><meta content="https://qiita.com/qulylean/items/7b5e6958d0020f3d6b6a" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,Unity,シミュレーション,BIM,NavMeshAgent" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-94f4f8c6-9448-40c6-9000-1b85eb42b97f"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2Fqulylean%2Fitems%2F7b5e6958d0020f3d6b6a">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2Fqulylean%2Fitems%2F7b5e6958d0020f3d6b6a">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-94f4f8c6-9448-40c6-9000-1b85eb42b97f">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2021-05-28T10:08:10.000+09:00","dateModified":"2021-05-28T13:41:32.000+09:00","headline":"Unityでざっくり人流シミュレーション[NavMeshAgentの利用]その1　～シーンのベース構築とNavMeshAgentの導入編～","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1WVzVwZEhuamdhZmpnWmJqZ2FQamdZX2pnb3JrdXJybXRZSGpncmZqZzVfamc2WGpnNnpqZzd6amdyZmpnNmZqZzdOYlRtRjJUV1Z6YUVGblpXNTA0NEd1NVlpcDU1U29YZU9CbmVPQnJqSGpnSUR2dlo3amdyZmpnN3pqZzdQamdhN2pnNW5qZzd6amdybm1wNHZucjRuamdhaE9ZWFpOWlhOb1FXZGxiblRqZ2E3bHNJN2xoYVhudDZqdnZaNCZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTU0JnR4dC1jbGlwPWVsbGlwc2lzJnR4dC1hbGlnbj1jZW50ZXIlMkNtaWRkbGUmcz1hNTczYzExZmMxN2E0NzI4NzY0MzNjNzgyOWQ1MTg4ZQ\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RSEYxYkhsc1pXRnUmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT00NSZ0eHQtYWxpZ249cmlnaHQlMkNib3R0b20mcz1mZDBiZjM4MDk5Mzc5OWU0ZDg0NzcyMzZhZTMwODYxNA\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=89a62d546d96f036cad5d5f7cbd8b1db","mainEntityOfPage":"https://qiita.com/qulylean/items/7b5e6958d0020f3d6b6a","author":{"@type":"Person","address":"","email":null,"identifier":"qulylean","name":"qulylean","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fs3-ap-northeast-1.amazonaws.com%2Fqiita-image-store%2F0%2F350776%2Faa0a301c5ddc1f9d278a70841f58996a668335d0%2Fx_large.png%3F1572252267?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=4fe5d30cd9d2b51c975710293c7f28ce","url":"https://qiita.com/qulylean","description":"","memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://increments.connpass.com/event/211948/">【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup</a><a target="_blank" id="header_text_message_2" href="https://increments.connpass.com/event/211948/">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"qulylean","type":"items","id":"7b5e6958d0020f3d6b6a"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"qulylean","type":"items","id":"7b5e6958d0020f3d6b6a"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":2,"pos_id":"header_text_message_1","message":"【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"qulylean","type":"items","id":"7b5e6958d0020f3d6b6a"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":2,"pos_id":"header_text_message_2","message":"【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/qulylean/items/7b5e6958d0020f3d6b6a","location":"/qulylean/items/7b5e6958d0020f3d6b6a","scheme":"https","host":"qiita.com","port":null,"pathname":"/qulylean/items/7b5e6958d0020f3d6b6a","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"fvA1K3KTHeHTncy8X4gTSIP5KC5RtoVOHrnzHqNmo99TrKc0sCLWvtk5ZgnXYxXT0jbxQVR0CbdzqU4Sppl/wQ==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-a78f2bcf-db41-459d-9c53-2fd6e6144272"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/qulylean/items/7b5e6958d0020f3d6b6a/likers" class="css-1iupg5d">0</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">3</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/7b5e6958d0020f3d6b6a/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/qulylean/items/7b5e6958d0020f3d6b6a/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/qulylean/items/7b5e6958d0020f3d6b6a/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/qulylean/items/7b5e6958d0020f3d6b6a/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/qulylean/items/7b5e6958d0020f3d6b6a.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/qulylean"><img class="css-100alwu eyfquo10" src="https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/350776/aa0a301c5ddc1f9d278a70841f58996a668335d0/x_large.png?1572252267" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/qulylean" class="css-10ougpm">@<!-- -->qulylean</a><div class="css-1ay9vb9"><span><meta content="2021-05-28T01:08:10Z"/><time dateTime="2021-05-28T04:41:32Z" class="css-m19uds">updated at 2021-05-28</time></span></div></div></div></div></div><h1 class="css-cgzq40">Unityでざっくり人流シミュレーション[NavMeshAgentの利用]その1　～シーンのベース構築とNavMeshAgentの導入編～</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/unity" class="css-4czcte">Unity</a><a href="/tags/%e3%82%b7%e3%83%9f%e3%83%a5%e3%83%ac%e3%83%bc%e3%82%b7%e3%83%a7%e3%83%b3" class="css-4czcte">シミュレーション</a><a href="/tags/bim" class="css-4czcte">BIM</a><a href="/tags/navmeshagent" class="css-4czcte">NavMeshAgent</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div>
<h1>
<span id="はじめに" class="fragment"></span><a href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB"><i class="fa fa-link"></i></a>はじめに</h1>

<p>　本記事では、BIMモデルを利用してUnity上で簡単な人流シミュレーションを行うまでの流れをまとめたシリーズです。<br>
　建物の設計業務を行う際の、部屋の配置や動線計画などのラフな判断材料としての利用、あるいはゲーム開発を行う際の手助けになれば幸いです。<br>
　なお、「簡単な」とあるように、学術的に提唱されている手法や懸案事項については触れていないため、精度云々についてはご指摘いただいても対応しかねます。</p>

<h1>
<span id="実行環境と利用するモデル" class="fragment"></span><a href="#%E5%AE%9F%E8%A1%8C%E7%92%B0%E5%A2%83%E3%81%A8%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B%E3%83%A2%E3%83%87%E3%83%AB"><i class="fa fa-link"></i></a>実行環境と利用するモデル</h1>

<h2>
<span id="利用したツールとバージョン" class="fragment"></span><a href="#%E5%88%A9%E7%94%A8%E3%81%97%E3%81%9F%E3%83%84%E3%83%BC%E3%83%AB%E3%81%A8%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3"><i class="fa fa-link"></i></a>利用したツールとバージョン</h2>

<table>
<thead>
<tr>
<th>ツール名</th>
<th style="text-align: right">バージョン</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>Autodesk Revit</td>
<td style="text-align: right">2020</td>
<td>建物モデルの作成</td>
</tr>
<tr>
<td>Unity</td>
<td style="text-align: right">2019.3.10f1</td>
<td>UI作成やエージェント操作</td>
</tr>
</tbody>
</table>

<h2>
<span id="建物のモデル" class="fragment"></span><a href="#%E5%BB%BA%E7%89%A9%E3%81%AE%E3%83%A2%E3%83%87%E3%83%AB"><i class="fa fa-link"></i></a>建物のモデル</h2>

<p>今回は計画検討段階レベルの小学校の建物モデルを利用します。<br>
「シミュレーションができればいい」レベルで作成したためかなり簡素なものです。</p>

<p><a href="https://camo.qiitausercontent.com/d7ed29fd656b13909afcf6ed450f03e0f7782697/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f66326530366465332d396430622d373765642d643939332d3063663831363236306137312e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2Ff2e06de3-9d0b-77ed-d993-0cf816260a71.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=ec04e4d808c18b68fa1099a6c1edd74b" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/f2e06de3-9d0b-77ed-d993-0cf816260a71.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2Ff2e06de3-9d0b-77ed-d993-0cf816260a71.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=5bb330c6f9108814e8652af141708f70 1x" loading="lazy"></a></p>

<h1>
<span id="unity-sceneのベース構築" class="fragment"></span><a href="#unity-scene%E3%81%AE%E3%83%99%E3%83%BC%E3%82%B9%E6%A7%8B%E7%AF%89"><i class="fa fa-link"></i></a>Unity Sceneのベース構築</h1>

<p>　ここからは、シミュレーションで動かす人とその人が動き回る建物をUnity上に構築していきます。</p>

<h2>
<span id="bimモデルの書き出し" class="fragment"></span><a href="#bim%E3%83%A2%E3%83%87%E3%83%AB%E3%81%AE%E6%9B%B8%E3%81%8D%E5%87%BA%E3%81%97"><i class="fa fa-link"></i></a>BIMモデルの書き出し</h2>

<p>まずは作成したBIMモデルをUnityにロードします。<br>
3次元形状をそのまま書き出しても構いませんが、今回想定しているシミュレーションツールのUIは平面表示がベースとなっているため、各フロアごとでの書き出しを行います。</p>

<p>Revit上で3Dビューを表示し、「ビューキューブ下の▽」＞「ビューで方向指定」＞「平面図」で書き出したいフロアを選択します（下図は1FLを指定）。<br>
<strong>* Unityに渡したくないモデルが表示されている場合は、この時点で非表示にしておきましょう。</strong></p>

<p><a href="https://camo.qiitausercontent.com/7c97fc39a50ad9eac91b245aa1e6577db5ee31a9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f33623939656337372d626232642d363466652d623531342d6435393634363564656539302e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F3b99ec77-bb2d-64fe-b514-d596465dee90.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=55b40a17263e404ce832ab78fe8ec3c4" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/3b99ec77-bb2d-64fe-b514-d596465dee90.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F3b99ec77-bb2d-64fe-b514-d596465dee90.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=5dd3170f698c72aad369be32dac16519 1x" loading="lazy"></a></p>

<p>UnityでRevitのモデルを利用する場合はFBXモデルを使います。<br>
「ファイル」タブ＞「書き出し」＞「FBX」を選択し、任意のファイル名、保存場所に保存してください。</p>

<p><a href="https://camo.qiitausercontent.com/bce64615eeb7973e5c8a60c031db08e971c52d69/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f37656337396530392d383135332d326437612d623231312d3066363866356230333735372e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F7ec79e09-8153-2d7a-b211-0f68f5b03757.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=0d444599d962e2114d4fbb7f1b5e7b78" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/7ec79e09-8153-2d7a-b211-0f68f5b03757.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F7ec79e09-8153-2d7a-b211-0f68f5b03757.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=9f5bd00e3137a9e8b09c90757e0f1187 1x" loading="lazy"></a></p>

<h2>
<span id="bimモデルの読み込み" class="fragment"></span><a href="#bim%E3%83%A2%E3%83%87%E3%83%AB%E3%81%AE%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%81%BF"><i class="fa fa-link"></i></a>BIMモデルの読み込み</h2>

<p>　次に、先ほど書き出したBIMモデル（fbx形式）をUnityに読み込みます。<br>
　UnityのAssetsフォルダの構成は以下です（それぞれの管理方法があるかと思いますので、参考程度に）。<br>
　フォルダ内のModesフォルダに書き出したfbxファイルを格納し（Revitのファイルは任意）、「Hierarchy」にも追加してシーン上に配置しましょう。<br>
　モデルの位置については利用するモデルによっても異なるので、現状は重ならないように配置していれば問題ありません。</p>

<p><a href="https://camo.qiitausercontent.com/57ff77a69e0523dd151d73db857221c1279b37f4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f61333464386161622d316531342d316235372d353366342d6633663939363862363730612e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2Fa34d8aab-1e14-1b57-53f4-f3f9968b670a.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=4ec61467d90ca11ae88312f851e47f26" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/a34d8aab-1e14-1b57-53f4-f3f9968b670a.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2Fa34d8aab-1e14-1b57-53f4-f3f9968b670a.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=2ff524e3fe07ba1163ca7f2905d0824f 1x" loading="lazy"></a></p>

<p><a href="https://camo.qiitausercontent.com/d1c50ac6f9efa3567e8f54c61dc1b716ea50dfe0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f31373231373863612d303036632d653465332d373638392d6539653366366232353965322e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F172178ca-006c-e4e3-7689-e9e3f6b259e2.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=369f3549289f92639ea8658227428c1e" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/172178ca-006c-e4e3-7689-e9e3f6b259e2.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F172178ca-006c-e4e3-7689-e9e3f6b259e2.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=cfb094bdedf51c80d2363c2defde7da1 1x" loading="lazy"></a></p>

<h2>
<span id="図面を利用した視認性向上" class="fragment"></span><a href="#%E5%9B%B3%E9%9D%A2%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%9F%E8%A6%96%E8%AA%8D%E6%80%A7%E5%90%91%E4%B8%8A"><i class="fa fa-link"></i></a>図面を利用した視認性向上</h2>

<h3>
<span id="図面の書き出し" class="fragment"></span><a href="#%E5%9B%B3%E9%9D%A2%E3%81%AE%E6%9B%B8%E3%81%8D%E5%87%BA%E3%81%97"><i class="fa fa-link"></i></a>図面の書き出し</h3>

<p>　読み込んだFBXモデルは、マテリアルの情報が抜けているため非常に視認性に乏しい状態となっています。<br>
　通常であればここからマテリアルの割り当て等を行いますが、今回はBIMで作成した平面図（カラースキーム）を利用して手軽に視認性を向上させていきます。<br>
　Revitでのカラースキームの設定方法についてはここでは割愛しますが、図面が作成できたら「ファイル」タブ＞「書き出し」＞「イメージおよびアニメーション」＞「イメージ」を選択し、<strong>画像として図面を出力</strong>します（この際画像サイズは大きめにして出力してください）。</p>

<p><a href="https://camo.qiitausercontent.com/50e4ae741173211e73aba4fdaa16ac05a6320996/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f33323238633635612d306664342d346563382d343165372d3232313637636337646238322e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F3228c65a-0fd4-4ec8-41e7-22167cc7db82.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=575de32b53982d41b865d02c6529f654" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/3228c65a-0fd4-4ec8-41e7-22167cc7db82.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F3228c65a-0fd4-4ec8-41e7-22167cc7db82.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=0ca73cf8c906f44813d8378234859ce7 1x" loading="lazy"></a></p>

<h3>
<span id="モデルと図面の画像を重ね合わせる" class="fragment"></span><a href="#%E3%83%A2%E3%83%87%E3%83%AB%E3%81%A8%E5%9B%B3%E9%9D%A2%E3%81%AE%E7%94%BB%E5%83%8F%E3%82%92%E9%87%8D%E3%81%AD%E5%90%88%E3%82%8F%E3%81%9B%E3%82%8B"><i class="fa fa-link"></i></a>モデルと図面の画像を重ね合わせる</h3>

<p>　書き出した画像ファイルをAssetsに格納します。<br>
　Unityで画像を表示するには、UIとして表示する方法と、直接画像をシーンに配置する方法の2つがありますが、今回はシーン上に直接画像を配置する方法で表示していきます。<br>
　書き出した画像はそのままではシーン上に配置できないため、Assets内の画像の設定を変更します。<br>
　画像を選択したら、インスペクター上の「Texture Type」を「Default」から「Sprite(2D and UI)」に変更します。</p>

<p><a href="https://camo.qiitausercontent.com/ec3ad5b7f4ebcf7d44bb9f448f15bf572782c2bc/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f64643438666433312d646230362d666662342d646339382d3435393161313437386234622e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2Fdd48fd31-db06-ffb4-dc98-4591a1478b4b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=7f2115fb3a7a313ab69e7e39fde8aeee" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/dd48fd31-db06-ffb4-dc98-4591a1478b4b.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2Fdd48fd31-db06-ffb4-dc98-4591a1478b4b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=983918e143201da4e4f21f5af1613012 1x" loading="lazy"></a></p>

<p>　変更後、Sceneウィンドウの適当な位置をクリックすると、以下のようなメッセージが表示されるため、「Apply」を選択して下さい。</p>

<p><a href="https://camo.qiitausercontent.com/f967575c99ef6a00bd19ede9eaa8294012ea1e17/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f38353533353666622d633434622d613133382d363562392d3937366439363866383338642e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F855356fb-c44b-a138-65b9-976d968f838d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=36d6fa365f4618c194056dca8011a372" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/855356fb-c44b-a138-65b9-976d968f838d.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F855356fb-c44b-a138-65b9-976d968f838d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=8cce0c6ff5b4529595e3715700914feb 1x" loading="lazy"></a></p>

<p>　ここまでができたら画像をシーンに配置し、インスペクター上でサイズ等の設定を行って下さい。（<strong>読み込み初期はXY平面に画像が正対しているため、X軸の回転を90にしてください。</strong>）。</p>

<p><a href="https://camo.qiitausercontent.com/67c9bebd0e1045e764bbcd4c98cb12c01fe1300a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f38336437323234322d616264652d356361632d346461612d6162303839313332376661652e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F83d72242-abde-5cac-4daa-ab0891327fae.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=268f0cfff17841f919da3715bdd10106" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/83d72242-abde-5cac-4daa-ab0891327fae.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F83d72242-abde-5cac-4daa-ab0891327fae.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=68988eaa4bf342a3055bbf3af37d4108 1x" loading="lazy"></a></p>

<p>複数フロアを対象にする場合は、同様に調整を行って下さい。</p>

<h1>
<span id="エージェントモデルの作成" class="fragment"></span><a href="#%E3%82%A8%E3%83%BC%E3%82%B8%E3%82%A7%E3%83%B3%E3%83%88%E3%83%A2%E3%83%87%E3%83%AB%E3%81%AE%E4%BD%9C%E6%88%90"><i class="fa fa-link"></i></a>エージェントモデルの作成</h1>

<p>　ここまでで人流シミュレーションを行う建物が配置できたので、ここからは建物場を動く人物モデル（エージェント）を作成していきます。<br>
　最終的な成果物を考慮すると、相当量のエージェントが行き来するためできるだけ簡素なモデルを作成していきます。</p>

<h2>
<span id="簡単な形状を作成" class="fragment"></span><a href="#%E7%B0%A1%E5%8D%98%E3%81%AA%E5%BD%A2%E7%8A%B6%E3%82%92%E4%BD%9C%E6%88%90"><i class="fa fa-link"></i></a>簡単な形状を作成</h2>

<p>　今回は平面上でのシミュレーションを行いますので、上から見て丸いアイコンが動けば十分かと思います。<br>
　シーン上にSylinderを作成し、名前や形状の設定を行います（小学生くらいの大きさを想定してサイズは調整しています。）</p>

<p><a href="https://camo.qiitausercontent.com/d3411fb8430972792bbeedce34c8dc56b81607fb/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f39643837303561632d393537622d326231332d366433332d3436343935646438643633352e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F9d8705ac-957b-2b13-6d33-46495dd8d635.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=07fc7f54df1602c071803ac229bd3e45" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/9d8705ac-957b-2b13-6d33-46495dd8d635.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F9d8705ac-957b-2b13-6d33-46495dd8d635.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=33ceb301b82377c0824a605e8ee59277 1x" loading="lazy"></a></p>

<h2>
<span id="navmeshagentコンポーネントを追加" class="fragment"></span><a href="#navmeshagent%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%82%92%E8%BF%BD%E5%8A%A0"><i class="fa fa-link"></i></a>NavMeshAgentコンポーネントを追加</h2>

<p>　作成したSylinderにNavMeshAgentコンポーネントを追加します。インスペクターの最下部にある「Add Component」をクリックし、検索窓に「nav」と入れると候補にNavMeshAgentが提示されますので、選択して下さい。</p>

<p><a href="https://camo.qiitausercontent.com/99c553cdc867e2ce052a7183834f363d670573e3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f39306438363131342d666563662d316465652d306235622d3666363061633437343435642e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F90d86114-fecf-1dee-0b5b-6f60ac47445d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=c98196053e12fa1ce8083dcf0a942c75" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/90d86114-fecf-1dee-0b5b-6f60ac47445d.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F90d86114-fecf-1dee-0b5b-6f60ac47445d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=ecf5dc7aa9f1ffdc3b95d109bb904bab 1x" loading="lazy"></a></p>

<p><a href="https://camo.qiitausercontent.com/55d74adfd4d4d4c5584e3e3d061a6828f13c051c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f66376332623939652d346465392d346562632d353862612d3330346462363132623564392e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2Ff7c2b99e-4de9-4ebc-58ba-304db612b5d9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=35a814221b846314f32a5069f5a9b6b2" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/f7c2b99e-4de9-4ebc-58ba-304db612b5d9.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2Ff7c2b99e-4de9-4ebc-58ba-304db612b5d9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=f3bc862ec3ff48527ed683d9fa9aa345 1x" loading="lazy"></a></p>

<p>　色々と設定できるようですが、今回は特に必要ありません。</p>

<h1>
<span id="エージェントを動かしてみる" class="fragment"></span><a href="#%E3%82%A8%E3%83%BC%E3%82%B8%E3%82%A7%E3%83%B3%E3%83%88%E3%82%92%E5%8B%95%E3%81%8B%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B"><i class="fa fa-link"></i></a>エージェントを動かしてみる</h1>

<p>　それでは作成したエージェントを動かす準備をしていきましょう。</p>

<h2>
<span id="目的地の作成" class="fragment"></span><a href="#%E7%9B%AE%E7%9A%84%E5%9C%B0%E3%81%AE%E4%BD%9C%E6%88%90"><i class="fa fa-link"></i></a>目的地の作成</h2>

<p>　まずはエージェントが向かう目的地となるアノテーションを作成します。<br>
　シーン上にSphereを作成し、名前を目的地の名前（今回は教室名）に変更します。<br>
　またこのオブジェクトは目立っても仕方がないので、小さくしておきましょう。</p>

<p><a href="https://camo.qiitausercontent.com/f8c6edfee078436e8230455e1f9ea39160e16449/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f64366234336532372d333930342d353466382d353631612d3639623461336134643639362e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2Fd6b43e27-3904-54f8-561a-69b4a3a4d696.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=2e922f85d7e6063b76d880c858062549" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/d6b43e27-3904-54f8-561a-69b4a3a4d696.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2Fd6b43e27-3904-54f8-561a-69b4a3a4d696.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=b3584c32b3126e0fdd402bc09628acbb 1x" loading="lazy"></a></p>

<h2>
<span id="移動経路の設定" class="fragment"></span><a href="#%E7%A7%BB%E5%8B%95%E7%B5%8C%E8%B7%AF%E3%81%AE%E8%A8%AD%E5%AE%9A"><i class="fa fa-link"></i></a>移動経路の設定</h2>

<p>　次に、移動経路を設定していきます。<br>
　NavMeshAgentは、移動可能な領域上で目的地までの最短ルートを移動します。<br>
　シーン上のどこが移動可能で、どこが移動不可能なのかを設定することで、あとのルート計算はNavMeshAgentが自動で行ってくれます。</p>

<h3>
<span id="navigationウィンドウの表示" class="fragment"></span><a href="#navigation%E3%82%A6%E3%82%A3%E3%83%B3%E3%83%89%E3%82%A6%E3%81%AE%E8%A1%A8%E7%A4%BA"><i class="fa fa-link"></i></a>Navigationウィンドウの表示</h3>

<p>　移動経路の設定は、Navigationウィンドウで行います。<br>
　「window」タブ＞「AI」＞「Navigation」を選択すると、Navigationウィンドウが表示されます。<br>
<a href="https://camo.qiitausercontent.com/0c19ac3a4a65c9e56e307d3fca158dc3b7c7843b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f64333539313839382d663339342d653337632d323035392d3237333937643833666363622e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2Fd3591898-f394-e37c-2059-27397d83fccb.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=3637945c48f97c60fc4beff182dac3cd" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/d3591898-f394-e37c-2059-27397d83fccb.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2Fd3591898-f394-e37c-2059-27397d83fccb.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=8467c68e453df3c1b5ae1b2b70e4fb45 1x" loading="lazy"></a></p>

<p>　フローティングウィンドウのままでは邪魔になりがちなので、どこかお好みの場所にフィックスしておきましょう。私はインスペクターの隣に配置しました。<br>
　Navigationウィンドウの中にはさらに4つのタブが用意されています。ここでは全ての説明は省き、「Bake」と「Object」の2項目について解説していきます。</p>

<p><a href="https://camo.qiitausercontent.com/6aefeef6b889e5a1c9c874818be952432a973a1f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f64663936346239612d303162312d363665642d336634622d6332383830303165336631632e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2Fdf964b9a-01b1-66ed-3f4b-c288001e3f1c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=66e2d29c56e6deb9a58296b5daa87a8c" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/df964b9a-01b1-66ed-3f4b-c288001e3f1c.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2Fdf964b9a-01b1-66ed-3f4b-c288001e3f1c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=4abc09a266e374c901fd3cfab7f160ff 1x" loading="lazy"></a></p>

<h3>
<span id="objectタブ" class="fragment"></span><a href="#object%E3%82%BF%E3%83%96"><i class="fa fa-link"></i></a>Objectタブ</h3>

<p>　まず先にObjectタブについて説明します。エージェントに移動させたい領域（基本的には床）を選択してください。<br>
　すると、Objectタブ上でも床のナビゲーション要素（ここではエージェントの移動に影響する要素として定義します）に関する設定情報が表示されます。<br>
　デフォルトではナビゲーションに関する設定は何もされていない状態ですので、「Navigation Static」にチェックを入れ、「Navigation Area」が「Walkable」になっていることを確認してください。<br>
　これで、床が歩行可能なナビゲーション要素として設定されました。</p>

<p><a href="https://camo.qiitausercontent.com/80503f1cb28cbab923b8676b5895d5a7995794e6/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f34646634373939372d623965622d396566652d373833652d6163366538343532336635362e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F4df47997-b9eb-9efe-783e-ac6e84523f56.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d81377b7e089b0588c2b60ada58a0f9e" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/4df47997-b9eb-9efe-783e-ac6e84523f56.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F4df47997-b9eb-9efe-783e-ac6e84523f56.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=fb491a34a15a79f8fe6b023367a0490a 1x" loading="lazy"></a></p>

<h3>
<span id="bakeタブ" class="fragment"></span><a href="#bake%E3%82%BF%E3%83%96"><i class="fa fa-link"></i></a>Bakeタブ</h3>

<p>　Bakeタブでは、Objectタブで設定したナビゲーション要素同士の位置関係などから歩行可能な領域を計算し、シーン上に歩行可能エリアを定義します。<br>
　ここではまだ「Walkable」しか設定していないのでイメージをつかみづらいかもしれませんが、「Not Walkable」などを指定すると、そのオブジェクト上（またはその周辺）が歩行できなくなります。大量のオブジェクトにナビゲーション設定を行う場合、都度演算をしていると作業が進まないので、「一通り設定してから最後にシーンに設定を適用する」といった理解で十分かと思います。</p>

<p>　少々前置きが長くなりましたが、Bakeタブで行う操作は「Bake」ボタンを押すだけです。<br>
　処理が終わると、対象箇所が水色っぽくなっているのが分かるかと思います。この水路の部分が「NavMesh」であり、エージェントはこの上を歩くことができます。</p>

<p><a href="https://camo.qiitausercontent.com/882b63f7c823d114b1a747560334578264beeb51/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f31366233383162632d656536342d623533642d633162652d3939666363303532366464652e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F16b381bc-ee64-b53d-c1be-99fcc0526dde.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=439a69bd452769f6d5cd9713cb0f0761" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/16b381bc-ee64-b53d-c1be-99fcc0526dde.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F16b381bc-ee64-b53d-c1be-99fcc0526dde.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=3a5ebc94503801742055377413750e2b 1x" loading="lazy"></a></p>

<h1>
<span id="navmeshagentを動かすスクリプトの作成" class="fragment"></span><a href="#navmeshagent%E3%82%92%E5%8B%95%E3%81%8B%E3%81%99%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90"><i class="fa fa-link"></i></a>NavMeshAgentを動かすスクリプトの作成</h1>

<p>　詳細な設定は次回で行っていくとして、今回はまずエージェントを動かすところまでやってみましょう。<br>
　ここからは、C#で記述していきます。</p>

<h2>
<span id="スクリプトの作成" class="fragment"></span><a href="#%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90"><i class="fa fa-link"></i></a>スクリプトの作成</h2>

<p>　まずはC#スクリプトを作成しましょう（名前は任意で構いません、AgentController.csなど）。<br>
　作成したスクリプトをエージェントに割り当てましょう。</p>

<h2>
<span id="目的地を指定" class="fragment"></span><a href="#%E7%9B%AE%E7%9A%84%E5%9C%B0%E3%82%92%E6%8C%87%E5%AE%9A"><i class="fa fa-link"></i></a>目的地を指定</h2>

<p>　以下コードを記述して、エージェントに目的地を教えてあげましょう。</p>

<div class="code-frame" data-lang="C#">
<div class="code-lang"><span class="bold">AgentController.cs</span></div>
<div class="highlight"><pre><code><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine.AI</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">AgentController</span> <span class="p">:</span> <span class="n">MonoBehaviour</span>
<span class="p">{</span>
    <span class="n">NavMeshAgent</span> <span class="n">agent</span><span class="p">;</span>  <span class="c1">// NavMeshAgentコンポーネントを格納</span>
    <span class="n">GameObject</span> <span class="n">destination</span><span class="p">;</span>  <span class="c1">// 目的地のSphereを格納</span>

    <span class="k">void</span> <span class="nf">Start</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// NavMeshAgentコンポーネントと目的地のオブジェクトを取得</span>
        <span class="n">agent</span> <span class="p">=</span> <span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">NavMeshAgent</span><span class="p">&gt;();</span>
        <span class="n">destination</span> <span class="p">=</span> <span class="n">GameObject</span><span class="p">.</span><span class="nf">Find</span><span class="p">(</span><span class="s">"1-1"</span><span class="p">);</span>  <span class="c1">// 目的地に設定した部屋名を指定</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">agent</span><span class="p">.</span><span class="n">pathStatus</span> <span class="p">!=</span> <span class="n">NavMeshPathStatus</span><span class="p">.</span><span class="n">PathInvalid</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// 目的地を指定(目的地のオブジェクトの位置情報を渡す）</span>
            <span class="n">agent</span><span class="p">.</span><span class="nf">SetDestination</span><span class="p">(</span><span class="n">destination</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="n">position</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

<span class="p">}</span>
</code></pre></div>
</div>

<p>NavMeshAgentを利用する場合は、<strong>UnityEngine.AI</strong>を読み込む必要があります。<br>
ここでは、エージェント（自身）の持つNavMeshAgentを取得し、NavMeshAgentが持つSetDestinationメソッドに、目的地となるオブジェクト（「1-1」と名前を付けたSphere）の位置情報を渡しています。</p>

<h1>
<span id="実行" class="fragment"></span><a href="#%E5%AE%9F%E8%A1%8C"><i class="fa fa-link"></i></a>実行</h1>

<p>それでは実際に動かしてみましょう。<br>
以下のようにエージェントをNavMesh上のどこかに配置し、実行ボタンを押しましょう。</p>

<p><a href="https://camo.qiitausercontent.com/4d8d35d293738e6dc0d6660ec6f61ecea4822bb4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f39633263383938362d346230322d366634302d623837302d6337303837383663306232382e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F9c2c8986-4b02-6f40-b870-c708786c0b28.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=f8fc96b447779d6f4cd55e721f1f5f90" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/9c2c8986-4b02-6f40-b870-c708786c0b28.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F9c2c8986-4b02-6f40-b870-c708786c0b28.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=b4348633268024b8f37ea38fc33ded07 1x" loading="lazy"></a></p>

<p><a href="https://camo.qiitausercontent.com/25c5844f72a329bb635136cbc3d1177b54a7af63/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f39306331316138642d333562312d303834662d313261332d3161383164393133343366382e676966" target="_blank" rel="nofollow noopener"><img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/90c11a8d-35b1-084f-12a3-1a81d91343f8.gif" alt="NavMeshAgentを動かす.gif" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/90c11a8d-35b1-084f-12a3-1a81d91343f8.gif" loading="lazy"></a></p>

<p>無事動いていますね。<br>
ここではまだ壁をすり抜けて最短距離で行ってしまっています。<br>
今回は記事が長くなってしまうのでここまでにしますが、次回は壁がある場所は歩けないように設定し、エージェントごとに向かう目的地（教室）が変わるように調整していこうと思います。</p>

<p>最後までご閲覧いただきありがとうございました。<br>
次回もお楽しみに。</p>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2Fqulylean%2Fitems%2F7b5e6958d0020f3d6b6a&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2Fqulylean%2Fitems%2F7b5e6958d0020f3d6b6a&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/qulylean/items/7b5e6958d0020f3d6b6a/likers" class="css-1iupg5d">0</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">3</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/7b5e6958d0020f3d6b6a/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/qulylean/items/7b5e6958d0020f3d6b6a/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/qulylean/items/7b5e6958d0020f3d6b6a/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/qulylean/items/7b5e6958d0020f3d6b6a/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/qulylean/items/7b5e6958d0020f3d6b6a.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-a78f2bcf-db41-459d-9c53-2fd6e6144272">{"authorAnalyticsTrackingId":null,"organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-9ce5cf94-baab-41bd-8037-03be11398481"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-9ce5cf94-baab-41bd-8037-03be11398481">{}</script>
      
<div id="LoginModal-react-component-d4d373a3-f236-4610-a0b0-e847d5bda566"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-d4d373a3-f236-4610-a0b0-e847d5bda566">{}</script>
      
<div id="StockModal-react-component-8cac3b81-f8c1-4359-a543-7fcac7767bf3"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-8cac3b81-f8c1-4359-a543-7fcac7767bf3">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;X0CLk0lD7Wt1PypdNmlosP6UV8HIDBU0T5fsQsnJS25yHBmMi/ImNH+bgOi+gm4rr1uOrs3Omc0ih1FOzDaXcA==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\n\u003ch1\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\n\u003cp\u003e　本記事では、BIMモデルを利用してUnity上で簡単な人流シミュレーションを行うまでの流れをまとめたシリーズです。\u003cbr\u003e\n　建物の設計業務を行う際の、部屋の配置や動線計画などのラフな判断材料としての利用、あるいはゲーム開発を行う際の手助けになれば幸いです。\u003cbr\u003e\n　なお、「簡単な」とあるように、学術的に提唱されている手法や懸案事項については触れていないため、精度云々についてはご指摘いただいても対応しかねます。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"実行環境と利用するモデル\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A1%8C%E7%92%B0%E5%A2%83%E3%81%A8%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B%E3%83%A2%E3%83%87%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実行環境と利用するモデル\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"利用したツールとバージョン\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%88%A9%E7%94%A8%E3%81%97%E3%81%9F%E3%83%84%E3%83%BC%E3%83%AB%E3%81%A8%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e利用したツールとバージョン\u003c/h2\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eツール名\u003c/th\u003e\n\u003cth style=\"text-align: right\"\u003eバージョン\u003c/th\u003e\n\u003cth\u003e用途\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003eAutodesk Revit\u003c/td\u003e\n\u003ctd style=\"text-align: right\"\u003e2020\u003c/td\u003e\n\u003ctd\u003e建物モデルの作成\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eUnity\u003c/td\u003e\n\u003ctd style=\"text-align: right\"\u003e2019.3.10f1\u003c/td\u003e\n\u003ctd\u003eUI作成やエージェント操作\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"建物のモデル\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%BB%BA%E7%89%A9%E3%81%AE%E3%83%A2%E3%83%87%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e建物のモデル\u003c/h2\u003e\n\n\u003cp\u003e今回は計画検討段階レベルの小学校の建物モデルを利用します。\u003cbr\u003e\n「シミュレーションができればいい」レベルで作成したためかなり簡素なものです。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/d7ed29fd656b13909afcf6ed450f03e0f7782697/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f66326530366465332d396430622d373765642d643939332d3063663831363236306137312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2Ff2e06de3-9d0b-77ed-d993-0cf816260a71.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ec04e4d808c18b68fa1099a6c1edd74b\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/f2e06de3-9d0b-77ed-d993-0cf816260a71.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2Ff2e06de3-9d0b-77ed-d993-0cf816260a71.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=5bb330c6f9108814e8652af141708f70 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"unity-sceneのベース構築\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#unity-scene%E3%81%AE%E3%83%99%E3%83%BC%E3%82%B9%E6%A7%8B%E7%AF%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eUnity Sceneのベース構築\u003c/h1\u003e\n\n\u003cp\u003e　ここからは、シミュレーションで動かす人とその人が動き回る建物をUnity上に構築していきます。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"bimモデルの書き出し\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#bim%E3%83%A2%E3%83%87%E3%83%AB%E3%81%AE%E6%9B%B8%E3%81%8D%E5%87%BA%E3%81%97\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eBIMモデルの書き出し\u003c/h2\u003e\n\n\u003cp\u003eまずは作成したBIMモデルをUnityにロードします。\u003cbr\u003e\n3次元形状をそのまま書き出しても構いませんが、今回想定しているシミュレーションツールのUIは平面表示がベースとなっているため、各フロアごとでの書き出しを行います。\u003c/p\u003e\n\n\u003cp\u003eRevit上で3Dビューを表示し、「ビューキューブ下の▽」＞「ビューで方向指定」＞「平面図」で書き出したいフロアを選択します（下図は1FLを指定）。\u003cbr\u003e\n\u003cstrong\u003e* Unityに渡したくないモデルが表示されている場合は、この時点で非表示にしておきましょう。\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/7c97fc39a50ad9eac91b245aa1e6577db5ee31a9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f33623939656337372d626232642d363466652d623531342d6435393634363564656539302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F3b99ec77-bb2d-64fe-b514-d596465dee90.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=55b40a17263e404ce832ab78fe8ec3c4\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/3b99ec77-bb2d-64fe-b514-d596465dee90.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F3b99ec77-bb2d-64fe-b514-d596465dee90.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=5dd3170f698c72aad369be32dac16519 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eUnityでRevitのモデルを利用する場合はFBXモデルを使います。\u003cbr\u003e\n「ファイル」タブ＞「書き出し」＞「FBX」を選択し、任意のファイル名、保存場所に保存してください。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/bce64615eeb7973e5c8a60c031db08e971c52d69/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f37656337396530392d383135332d326437612d623231312d3066363866356230333735372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F7ec79e09-8153-2d7a-b211-0f68f5b03757.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=0d444599d962e2114d4fbb7f1b5e7b78\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/7ec79e09-8153-2d7a-b211-0f68f5b03757.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F7ec79e09-8153-2d7a-b211-0f68f5b03757.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9f5bd00e3137a9e8b09c90757e0f1187 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"bimモデルの読み込み\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#bim%E3%83%A2%E3%83%87%E3%83%AB%E3%81%AE%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%81%BF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eBIMモデルの読み込み\u003c/h2\u003e\n\n\u003cp\u003e　次に、先ほど書き出したBIMモデル（fbx形式）をUnityに読み込みます。\u003cbr\u003e\n　UnityのAssetsフォルダの構成は以下です（それぞれの管理方法があるかと思いますので、参考程度に）。\u003cbr\u003e\n　フォルダ内のModesフォルダに書き出したfbxファイルを格納し（Revitのファイルは任意）、「Hierarchy」にも追加してシーン上に配置しましょう。\u003cbr\u003e\n　モデルの位置については利用するモデルによっても異なるので、現状は重ならないように配置していれば問題ありません。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/57ff77a69e0523dd151d73db857221c1279b37f4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f61333464386161622d316531342d316235372d353366342d6633663939363862363730612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2Fa34d8aab-1e14-1b57-53f4-f3f9968b670a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4ec61467d90ca11ae88312f851e47f26\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/a34d8aab-1e14-1b57-53f4-f3f9968b670a.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2Fa34d8aab-1e14-1b57-53f4-f3f9968b670a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=2ff524e3fe07ba1163ca7f2905d0824f 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/d1c50ac6f9efa3567e8f54c61dc1b716ea50dfe0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f31373231373863612d303036632d653465332d373638392d6539653366366232353965322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F172178ca-006c-e4e3-7689-e9e3f6b259e2.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=369f3549289f92639ea8658227428c1e\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/172178ca-006c-e4e3-7689-e9e3f6b259e2.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F172178ca-006c-e4e3-7689-e9e3f6b259e2.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=cfb094bdedf51c80d2363c2defde7da1 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"図面を利用した視認性向上\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%9B%B3%E9%9D%A2%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%9F%E8%A6%96%E8%AA%8D%E6%80%A7%E5%90%91%E4%B8%8A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e図面を利用した視認性向上\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"図面の書き出し\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%9B%B3%E9%9D%A2%E3%81%AE%E6%9B%B8%E3%81%8D%E5%87%BA%E3%81%97\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e図面の書き出し\u003c/h3\u003e\n\n\u003cp\u003e　読み込んだFBXモデルは、マテリアルの情報が抜けているため非常に視認性に乏しい状態となっています。\u003cbr\u003e\n　通常であればここからマテリアルの割り当て等を行いますが、今回はBIMで作成した平面図（カラースキーム）を利用して手軽に視認性を向上させていきます。\u003cbr\u003e\n　Revitでのカラースキームの設定方法についてはここでは割愛しますが、図面が作成できたら「ファイル」タブ＞「書き出し」＞「イメージおよびアニメーション」＞「イメージ」を選択し、\u003cstrong\u003e画像として図面を出力\u003c/strong\u003eします（この際画像サイズは大きめにして出力してください）。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/50e4ae741173211e73aba4fdaa16ac05a6320996/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f33323238633635612d306664342d346563382d343165372d3232313637636337646238322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F3228c65a-0fd4-4ec8-41e7-22167cc7db82.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=575de32b53982d41b865d02c6529f654\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/3228c65a-0fd4-4ec8-41e7-22167cc7db82.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F3228c65a-0fd4-4ec8-41e7-22167cc7db82.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=0ca73cf8c906f44813d8378234859ce7 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"モデルと図面の画像を重ね合わせる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%A2%E3%83%87%E3%83%AB%E3%81%A8%E5%9B%B3%E9%9D%A2%E3%81%AE%E7%94%BB%E5%83%8F%E3%82%92%E9%87%8D%E3%81%AD%E5%90%88%E3%82%8F%E3%81%9B%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eモデルと図面の画像を重ね合わせる\u003c/h3\u003e\n\n\u003cp\u003e　書き出した画像ファイルをAssetsに格納します。\u003cbr\u003e\n　Unityで画像を表示するには、UIとして表示する方法と、直接画像をシーンに配置する方法の2つがありますが、今回はシーン上に直接画像を配置する方法で表示していきます。\u003cbr\u003e\n　書き出した画像はそのままではシーン上に配置できないため、Assets内の画像の設定を変更します。\u003cbr\u003e\n　画像を選択したら、インスペクター上の「Texture Type」を「Default」から「Sprite(2D and UI)」に変更します。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/ec3ad5b7f4ebcf7d44bb9f448f15bf572782c2bc/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f64643438666433312d646230362d666662342d646339382d3435393161313437386234622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2Fdd48fd31-db06-ffb4-dc98-4591a1478b4b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7f2115fb3a7a313ab69e7e39fde8aeee\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/dd48fd31-db06-ffb4-dc98-4591a1478b4b.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2Fdd48fd31-db06-ffb4-dc98-4591a1478b4b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=983918e143201da4e4f21f5af1613012 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e　変更後、Sceneウィンドウの適当な位置をクリックすると、以下のようなメッセージが表示されるため、「Apply」を選択して下さい。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/f967575c99ef6a00bd19ede9eaa8294012ea1e17/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f38353533353666622d633434622d613133382d363562392d3937366439363866383338642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F855356fb-c44b-a138-65b9-976d968f838d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=36d6fa365f4618c194056dca8011a372\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/855356fb-c44b-a138-65b9-976d968f838d.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F855356fb-c44b-a138-65b9-976d968f838d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=8cce0c6ff5b4529595e3715700914feb 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e　ここまでができたら画像をシーンに配置し、インスペクター上でサイズ等の設定を行って下さい。（\u003cstrong\u003e読み込み初期はXY平面に画像が正対しているため、X軸の回転を90にしてください。\u003c/strong\u003e）。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/67c9bebd0e1045e764bbcd4c98cb12c01fe1300a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f38336437323234322d616264652d356361632d346461612d6162303839313332376661652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F83d72242-abde-5cac-4daa-ab0891327fae.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=268f0cfff17841f919da3715bdd10106\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/83d72242-abde-5cac-4daa-ab0891327fae.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F83d72242-abde-5cac-4daa-ab0891327fae.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=68988eaa4bf342a3055bbf3af37d4108 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e複数フロアを対象にする場合は、同様に調整を行って下さい。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"エージェントモデルの作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A8%E3%83%BC%E3%82%B8%E3%82%A7%E3%83%B3%E3%83%88%E3%83%A2%E3%83%87%E3%83%AB%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eエージェントモデルの作成\u003c/h1\u003e\n\n\u003cp\u003e　ここまでで人流シミュレーションを行う建物が配置できたので、ここからは建物場を動く人物モデル（エージェント）を作成していきます。\u003cbr\u003e\n　最終的な成果物を考慮すると、相当量のエージェントが行き来するためできるだけ簡素なモデルを作成していきます。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"簡単な形状を作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B0%A1%E5%8D%98%E3%81%AA%E5%BD%A2%E7%8A%B6%E3%82%92%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e簡単な形状を作成\u003c/h2\u003e\n\n\u003cp\u003e　今回は平面上でのシミュレーションを行いますので、上から見て丸いアイコンが動けば十分かと思います。\u003cbr\u003e\n　シーン上にSylinderを作成し、名前や形状の設定を行います（小学生くらいの大きさを想定してサイズは調整しています。）\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/d3411fb8430972792bbeedce34c8dc56b81607fb/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f39643837303561632d393537622d326231332d366433332d3436343935646438643633352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F9d8705ac-957b-2b13-6d33-46495dd8d635.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=07fc7f54df1602c071803ac229bd3e45\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/9d8705ac-957b-2b13-6d33-46495dd8d635.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F9d8705ac-957b-2b13-6d33-46495dd8d635.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=33ceb301b82377c0824a605e8ee59277 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"navmeshagentコンポーネントを追加\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#navmeshagent%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%82%92%E8%BF%BD%E5%8A%A0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eNavMeshAgentコンポーネントを追加\u003c/h2\u003e\n\n\u003cp\u003e　作成したSylinderにNavMeshAgentコンポーネントを追加します。インスペクターの最下部にある「Add Component」をクリックし、検索窓に「nav」と入れると候補にNavMeshAgentが提示されますので、選択して下さい。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/99c553cdc867e2ce052a7183834f363d670573e3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f39306438363131342d666563662d316465652d306235622d3666363061633437343435642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F90d86114-fecf-1dee-0b5b-6f60ac47445d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c98196053e12fa1ce8083dcf0a942c75\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/90d86114-fecf-1dee-0b5b-6f60ac47445d.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F90d86114-fecf-1dee-0b5b-6f60ac47445d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ecf5dc7aa9f1ffdc3b95d109bb904bab 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/55d74adfd4d4d4c5584e3e3d061a6828f13c051c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f66376332623939652d346465392d346562632d353862612d3330346462363132623564392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2Ff7c2b99e-4de9-4ebc-58ba-304db612b5d9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=35a814221b846314f32a5069f5a9b6b2\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/f7c2b99e-4de9-4ebc-58ba-304db612b5d9.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2Ff7c2b99e-4de9-4ebc-58ba-304db612b5d9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=f3bc862ec3ff48527ed683d9fa9aa345 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e　色々と設定できるようですが、今回は特に必要ありません。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"エージェントを動かしてみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A8%E3%83%BC%E3%82%B8%E3%82%A7%E3%83%B3%E3%83%88%E3%82%92%E5%8B%95%E3%81%8B%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eエージェントを動かしてみる\u003c/h1\u003e\n\n\u003cp\u003e　それでは作成したエージェントを動かす準備をしていきましょう。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"目的地の作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%9B%AE%E7%9A%84%E5%9C%B0%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e目的地の作成\u003c/h2\u003e\n\n\u003cp\u003e　まずはエージェントが向かう目的地となるアノテーションを作成します。\u003cbr\u003e\n　シーン上にSphereを作成し、名前を目的地の名前（今回は教室名）に変更します。\u003cbr\u003e\n　またこのオブジェクトは目立っても仕方がないので、小さくしておきましょう。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/f8c6edfee078436e8230455e1f9ea39160e16449/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f64366234336532372d333930342d353466382d353631612d3639623461336134643639362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2Fd6b43e27-3904-54f8-561a-69b4a3a4d696.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2e922f85d7e6063b76d880c858062549\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/d6b43e27-3904-54f8-561a-69b4a3a4d696.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2Fd6b43e27-3904-54f8-561a-69b4a3a4d696.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=b3584c32b3126e0fdd402bc09628acbb 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"移動経路の設定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%A7%BB%E5%8B%95%E7%B5%8C%E8%B7%AF%E3%81%AE%E8%A8%AD%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e移動経路の設定\u003c/h2\u003e\n\n\u003cp\u003e　次に、移動経路を設定していきます。\u003cbr\u003e\n　NavMeshAgentは、移動可能な領域上で目的地までの最短ルートを移動します。\u003cbr\u003e\n　シーン上のどこが移動可能で、どこが移動不可能なのかを設定することで、あとのルート計算はNavMeshAgentが自動で行ってくれます。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"navigationウィンドウの表示\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#navigation%E3%82%A6%E3%82%A3%E3%83%B3%E3%83%89%E3%82%A6%E3%81%AE%E8%A1%A8%E7%A4%BA\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eNavigationウィンドウの表示\u003c/h3\u003e\n\n\u003cp\u003e　移動経路の設定は、Navigationウィンドウで行います。\u003cbr\u003e\n　「window」タブ＞「AI」＞「Navigation」を選択すると、Navigationウィンドウが表示されます。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/0c19ac3a4a65c9e56e307d3fca158dc3b7c7843b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f64333539313839382d663339342d653337632d323035392d3237333937643833666363622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2Fd3591898-f394-e37c-2059-27397d83fccb.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=3637945c48f97c60fc4beff182dac3cd\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/d3591898-f394-e37c-2059-27397d83fccb.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2Fd3591898-f394-e37c-2059-27397d83fccb.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=8467c68e453df3c1b5ae1b2b70e4fb45 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e　フローティングウィンドウのままでは邪魔になりがちなので、どこかお好みの場所にフィックスしておきましょう。私はインスペクターの隣に配置しました。\u003cbr\u003e\n　Navigationウィンドウの中にはさらに4つのタブが用意されています。ここでは全ての説明は省き、「Bake」と「Object」の2項目について解説していきます。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/6aefeef6b889e5a1c9c874818be952432a973a1f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f64663936346239612d303162312d363665642d336634622d6332383830303165336631632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2Fdf964b9a-01b1-66ed-3f4b-c288001e3f1c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=66e2d29c56e6deb9a58296b5daa87a8c\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/df964b9a-01b1-66ed-3f4b-c288001e3f1c.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2Fdf964b9a-01b1-66ed-3f4b-c288001e3f1c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=4abc09a266e374c901fd3cfab7f160ff 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"objectタブ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#object%E3%82%BF%E3%83%96\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eObjectタブ\u003c/h3\u003e\n\n\u003cp\u003e　まず先にObjectタブについて説明します。エージェントに移動させたい領域（基本的には床）を選択してください。\u003cbr\u003e\n　すると、Objectタブ上でも床のナビゲーション要素（ここではエージェントの移動に影響する要素として定義します）に関する設定情報が表示されます。\u003cbr\u003e\n　デフォルトではナビゲーションに関する設定は何もされていない状態ですので、「Navigation Static」にチェックを入れ、「Navigation Area」が「Walkable」になっていることを確認してください。\u003cbr\u003e\n　これで、床が歩行可能なナビゲーション要素として設定されました。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/80503f1cb28cbab923b8676b5895d5a7995794e6/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f34646634373939372d623965622d396566652d373833652d6163366538343532336635362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F4df47997-b9eb-9efe-783e-ac6e84523f56.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d81377b7e089b0588c2b60ada58a0f9e\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/4df47997-b9eb-9efe-783e-ac6e84523f56.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F4df47997-b9eb-9efe-783e-ac6e84523f56.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=fb491a34a15a79f8fe6b023367a0490a 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"bakeタブ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#bake%E3%82%BF%E3%83%96\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eBakeタブ\u003c/h3\u003e\n\n\u003cp\u003e　Bakeタブでは、Objectタブで設定したナビゲーション要素同士の位置関係などから歩行可能な領域を計算し、シーン上に歩行可能エリアを定義します。\u003cbr\u003e\n　ここではまだ「Walkable」しか設定していないのでイメージをつかみづらいかもしれませんが、「Not Walkable」などを指定すると、そのオブジェクト上（またはその周辺）が歩行できなくなります。大量のオブジェクトにナビゲーション設定を行う場合、都度演算をしていると作業が進まないので、「一通り設定してから最後にシーンに設定を適用する」といった理解で十分かと思います。\u003c/p\u003e\n\n\u003cp\u003e　少々前置きが長くなりましたが、Bakeタブで行う操作は「Bake」ボタンを押すだけです。\u003cbr\u003e\n　処理が終わると、対象箇所が水色っぽくなっているのが分かるかと思います。この水路の部分が「NavMesh」であり、エージェントはこの上を歩くことができます。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/882b63f7c823d114b1a747560334578264beeb51/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f31366233383162632d656536342d623533642d633162652d3939666363303532366464652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F16b381bc-ee64-b53d-c1be-99fcc0526dde.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=439a69bd452769f6d5cd9713cb0f0761\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/16b381bc-ee64-b53d-c1be-99fcc0526dde.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F16b381bc-ee64-b53d-c1be-99fcc0526dde.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=3a5ebc94503801742055377413750e2b 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"navmeshagentを動かすスクリプトの作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#navmeshagent%E3%82%92%E5%8B%95%E3%81%8B%E3%81%99%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eNavMeshAgentを動かすスクリプトの作成\u003c/h1\u003e\n\n\u003cp\u003e　詳細な設定は次回で行っていくとして、今回はまずエージェントを動かすところまでやってみましょう。\u003cbr\u003e\n　ここからは、C#で記述していきます。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"スクリプトの作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eスクリプトの作成\u003c/h2\u003e\n\n\u003cp\u003e　まずはC#スクリプトを作成しましょう（名前は任意で構いません、AgentController.csなど）。\u003cbr\u003e\n　作成したスクリプトをエージェントに割り当てましょう。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"目的地を指定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%9B%AE%E7%9A%84%E5%9C%B0%E3%82%92%E6%8C%87%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e目的地を指定\u003c/h2\u003e\n\n\u003cp\u003e　以下コードを記述して、エージェントに目的地を教えてあげましょう。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eAgentController.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Collections\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Collections.Generic\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eUnityEngine\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eUnityEngine.AI\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eAgentController\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eMonoBehaviour\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eNavMeshAgent\u003c/span\u003e \u003cspan class=\"n\"\u003eagent\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// NavMeshAgentコンポーネントを格納\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eGameObject\u003c/span\u003e \u003cspan class=\"n\"\u003edestination\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// 目的地のSphereを格納\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eStart\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// NavMeshAgentコンポーネントと目的地のオブジェクトを取得\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eagent\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eGetComponent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eNavMeshAgent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;();\u003c/span\u003e\n        \u003cspan class=\"n\"\u003edestination\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eGameObject\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFind\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"1-1\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// 目的地に設定した部屋名を指定\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eagent\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epathStatus\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"n\"\u003eNavMeshPathStatus\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePathInvalid\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 目的地を指定(目的地のオブジェクトの位置情報を渡す）\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eagent\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetDestination\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edestination\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etransform\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eposition\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eNavMeshAgentを利用する場合は、\u003cstrong\u003eUnityEngine.AI\u003c/strong\u003eを読み込む必要があります。\u003cbr\u003e\nここでは、エージェント（自身）の持つNavMeshAgentを取得し、NavMeshAgentが持つSetDestinationメソッドに、目的地となるオブジェクト（「1-1」と名前を付けたSphere）の位置情報を渡しています。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"実行\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A1%8C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実行\u003c/h1\u003e\n\n\u003cp\u003eそれでは実際に動かしてみましょう。\u003cbr\u003e\n以下のようにエージェントをNavMesh上のどこかに配置し、実行ボタンを押しましょう。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/4d8d35d293738e6dc0d6660ec6f61ecea4822bb4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f39633263383938362d346230322d366634302d623837302d6337303837383663306232382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F9c2c8986-4b02-6f40-b870-c708786c0b28.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=f8fc96b447779d6f4cd55e721f1f5f90\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/9c2c8986-4b02-6f40-b870-c708786c0b28.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F350776%2F9c2c8986-4b02-6f40-b870-c708786c0b28.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=b4348633268024b8f37ea38fc33ded07 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/25c5844f72a329bb635136cbc3d1177b54a7af63/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3335303737362f39306331316138642d333562312d303834662d313261332d3161383164393133343366382e676966\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/90c11a8d-35b1-084f-12a3-1a81d91343f8.gif\" alt=\"NavMeshAgentを動かす.gif\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/350776/90c11a8d-35b1-084f-12a3-1a81d91343f8.gif\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e無事動いていますね。\u003cbr\u003e\nここではまだ壁をすり抜けて最短距離で行ってしまっています。\u003cbr\u003e\n今回は記事が長くなってしまうのでここまでにしますが、次回は壁がある場所は歩けないように設定し、エージェントごとに向かう目的地（教室）が変わるように調整していこうと思います。\u003c/p\u003e\n\n\u003cp\u003e最後までご閲覧いただきありがとうございました。\u003cbr\u003e\n次回もお楽しみに。\u003c/p\u003e\n","createdAt":"2021-05-28T01:08:10Z","elapsedYearsFromLastModifiedAt":0,"encryptedId":"JnTh7tklfKSq8nLPtDwsXVyDid4mrOV0sw==--V7HyRPrMsWNyKnvL--2pvoSDkmTYrCNE/CtmiKRA==","isBanned":false,"isDeprecated":false,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2021-05-28T04:41:32Z","likesCount":0,"linkUrl":"https://qiita.com/qulylean/items/7b5e6958d0020f3d6b6a","organization":null,"originalId":1440842,"stockedCount":3,"title":"Unityでざっくり人流シミュレーション[NavMeshAgentの利用]その1　～シーンのベース構築とNavMeshAgentの導入編～","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003eはじめに\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%AE%9F%E8%A1%8C%E7%92%B0%E5%A2%83%E3%81%A8%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B%E3%83%A2%E3%83%87%E3%83%AB\"\u003e実行環境と利用するモデル\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%88%A9%E7%94%A8%E3%81%97%E3%81%9F%E3%83%84%E3%83%BC%E3%83%AB%E3%81%A8%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3\"\u003e利用したツールとバージョン\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%BB%BA%E7%89%A9%E3%81%AE%E3%83%A2%E3%83%87%E3%83%AB\"\u003e建物のモデル\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#unity-scene%E3%81%AE%E3%83%99%E3%83%BC%E3%82%B9%E6%A7%8B%E7%AF%89\"\u003eUnity Sceneのベース構築\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#bim%E3%83%A2%E3%83%87%E3%83%AB%E3%81%AE%E6%9B%B8%E3%81%8D%E5%87%BA%E3%81%97\"\u003eBIMモデルの書き出し\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#bim%E3%83%A2%E3%83%87%E3%83%AB%E3%81%AE%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%81%BF\"\u003eBIMモデルの読み込み\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%9B%B3%E9%9D%A2%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%9F%E8%A6%96%E8%AA%8D%E6%80%A7%E5%90%91%E4%B8%8A\"\u003e図面を利用した視認性向上\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%9B%B3%E9%9D%A2%E3%81%AE%E6%9B%B8%E3%81%8D%E5%87%BA%E3%81%97\"\u003e図面の書き出し\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%A2%E3%83%87%E3%83%AB%E3%81%A8%E5%9B%B3%E9%9D%A2%E3%81%AE%E7%94%BB%E5%83%8F%E3%82%92%E9%87%8D%E3%81%AD%E5%90%88%E3%82%8F%E3%81%9B%E3%82%8B\"\u003eモデルと図面の画像を重ね合わせる\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%A8%E3%83%BC%E3%82%B8%E3%82%A7%E3%83%B3%E3%83%88%E3%83%A2%E3%83%87%E3%83%AB%E3%81%AE%E4%BD%9C%E6%88%90\"\u003eエージェントモデルの作成\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%B0%A1%E5%8D%98%E3%81%AA%E5%BD%A2%E7%8A%B6%E3%82%92%E4%BD%9C%E6%88%90\"\u003e簡単な形状を作成\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#navmeshagent%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%82%92%E8%BF%BD%E5%8A%A0\"\u003eNavMeshAgentコンポーネントを追加\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%A8%E3%83%BC%E3%82%B8%E3%82%A7%E3%83%B3%E3%83%88%E3%82%92%E5%8B%95%E3%81%8B%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"\u003eエージェントを動かしてみる\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%9B%AE%E7%9A%84%E5%9C%B0%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e目的地の作成\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%A7%BB%E5%8B%95%E7%B5%8C%E8%B7%AF%E3%81%AE%E8%A8%AD%E5%AE%9A\"\u003e移動経路の設定\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#navigation%E3%82%A6%E3%82%A3%E3%83%B3%E3%83%89%E3%82%A6%E3%81%AE%E8%A1%A8%E7%A4%BA\"\u003eNavigationウィンドウの表示\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#object%E3%82%BF%E3%83%96\"\u003eObjectタブ\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#bake%E3%82%BF%E3%83%96\"\u003eBakeタブ\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#navmeshagent%E3%82%92%E5%8B%95%E3%81%8B%E3%81%99%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90\"\u003eNavMeshAgentを動かすスクリプトの作成\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90\"\u003eスクリプトの作成\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%9B%AE%E7%9A%84%E5%9C%B0%E3%82%92%E6%8C%87%E5%AE%9A\"\u003e目的地を指定\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%AE%9F%E8%A1%8C\"\u003e実行\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","totalPv":1074,"uuid":"7b5e6958d0020f3d6b6a","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"U3gm+QSdp6guE8ubKDw2oSQfX+rx--mhesG78stvm+R4R9--Ix7zvK4vMEP7mbrOvyS9Zw==","originalId":350776,"description":"","facebookUrl":null,"githubUrl":null,"isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"quly lean","profileImageUrl":"https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/350776/aa0a301c5ddc1f9d278a70841f58996a668335d0/x_large.png?1572252267","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fs3-ap-northeast-1.amazonaws.com%2Fqiita-image-store%2F0%2F350776%2Faa0a301c5ddc1f9d278a70841f58996a668335d0%2Fx_large.png%3F1572252267?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=64c4478421bb260ebb90ff06c1b363c1","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fs3-ap-northeast-1.amazonaws.com%2Fqiita-image-store%2F0%2F350776%2Faa0a301c5ddc1f9d278a70841f58996a668335d0%2Fx_large.png%3F1572252267?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=4fe5d30cd9d2b51c975710293c7f28ce","urlName":"qulylean","websiteUrl":"","twitterUrl":null,"twitterUrlName":null,"revealedOrganizations":{"edges":[]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"Unity","urlName":"unity"},{"name":"シミュレーション","urlName":"%e3%82%b7%e3%83%9f%e3%83%a5%e3%83%ac%e3%83%bc%e3%82%b7%e3%83%a7%e3%83%b3"},{"name":"BIM","urlName":"bim"},{"name":"NavMeshAgent","urlName":"navmeshagent"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
