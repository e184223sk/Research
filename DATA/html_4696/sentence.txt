More than 3 years have passed since last update.色々調べましたところ、C#でそこそこ使えそうなQRコードライブラリとしては2つくらいに絞れそうでした。
その中からZXing.Netを採用して実験環境はVisualStudio 2017
nugetパッケージマネージャから以下コマンド実行文字列「1234567890」をZxingでエンコードした画像を用意しました。StopWatchで処理時間を計測してみました。
デバッグ実行しましたので実際はもう少しパフォーマンス出るかも知れません。読取結果起動後にはインスタンス生成の為か時間がかかる傾向があります。
その次はやたら速い・・・。
キャッシュしてるのでしょうか。
その次からは20ms中盤に落ち着きつつあるように見えます。100*100Pixにサイズダウンし、OpenCVSarpでガウシアンフィルタをかけた画像を用意。フィルタサイズを1*1から大きくしていってどこまで読めるのか・・・。5*5の画像はこんな感じでした。
7*7の画像
5*5でも読めることに驚きました。X方向の縮尺のみ小さくして傾きを模擬しました。
どこまで読めるのか・・・。
結果76%までは読めました。
ArcCOS(0.76) ≒ 40deg同様にY方向も。
こちらは57%まで読めました。ArcCOS(0.57) ≒ 55deg
この角度までいくと遠近の補正が無くていいのか不安になりますね。
もっと傾きには弱いと思ってましたが、かなり傾いても輪郭がはっきりしていれば読めそうです。
この画像もグレーが混じり始めてしまっているのでその影響のほうが大きいのかもしれません。
もっと画素数を上げてやらないとですかね・・・？


