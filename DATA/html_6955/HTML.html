<!DOCTYPE html><html><head><meta charset="utf-8" /><title>Azure Functionsでサーバーレスアーキテクチャが何かを理解する - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/yuhattor/items/f7b2aec5211951dd7622" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="XpuXuewOnnDX2zWgjWWMFiHj4MHvFug+FSa4N98sbTkZqQ3710aGtOXwoWrYHGhqpLTLBO4x9IL/99gXlZFZ8A==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta content="@yuhattor" name="twitter:creator" /><meta property="og:type" content="article"><meta property="og:title" content="Azure Functionsでサーバーレスアーキテクチャが何かを理解する - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1RWHAxY21VZ1JuVnVZM1JwYjI1ejQ0R240NEsxNDRPODQ0T1E0NE84NDRPczQ0SzU0NEtpNDRPODQ0S3Q0NE9HNDRLdjQ0T0I0NE9qNDRHTTVMMlY0NEdMNDRLUzU1Q0c2S2VqNDRHWjQ0S0wmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT01NCZ0eHQtY2xpcD1lbGxpcHNpcyZ0eHQtYWxpZ249Y2VudGVyJTJDbWlkZGxlJnM9NTM0ZDkzNTQ5MjBiOGM4M2VhNzE5NTg2YmM5M2VmNTA&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RSGwxYUdGMGRHOXkmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT00NSZ0eHQtYWxpZ249cmlnaHQlMkNib3R0b20mcz0zZDNkZWI2MTJkMTFmYWJlMzJkYzdjMjA0NWNjOTEzZQ&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=db583254db8a67b0025de255771307e1"><meta property="og:description" content="

サーバーレスアーキテクチャとAzure Functions

サーバレスアーキテクチャとは、マネージドサービスのみを利用してシステムを構築するアーキテクチャです。そして、Azure Functionは非常駐型のプロセスをイベントに..."><meta content="https://qiita.com/yuhattor/items/f7b2aec5211951dd7622" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="AWS,C#,Azure,lambda,serverless" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 1nzh4zz 38fzdi helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-1nzh4zz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 32px;background-color:#FBE69E;color:rgba(0,0,0,0.87);line-height:1.5;font-weight:600;}@media (max-width:770px){.css-1nzh4zz{padding:16px;}}.css-38fzdi{color:#CA832A;margin-right:4px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-96e0b156-c064-4f34-a1d8-779ed716f0a9"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2Fyuhattor%2Fitems%2Ff7b2aec5211951dd7622">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2Fyuhattor%2Fitems%2Ff7b2aec5211951dd7622">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-96e0b156-c064-4f34-a1d8-779ed716f0a9">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/aws","name":"AWS"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2016-10-06T10:22:46.000+09:00","dateModified":"2019-01-30T17:46:47.000+09:00","headline":"Azure Functionsでサーバーレスアーキテクチャが何かを理解する","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1RWHAxY21VZ1JuVnVZM1JwYjI1ejQ0R240NEsxNDRPODQ0T1E0NE84NDRPczQ0SzU0NEtpNDRPODQ0S3Q0NE9HNDRLdjQ0T0I0NE9qNDRHTTVMMlY0NEdMNDRLUzU1Q0c2S2VqNDRHWjQ0S0wmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT01NCZ0eHQtY2xpcD1lbGxpcHNpcyZ0eHQtYWxpZ249Y2VudGVyJTJDbWlkZGxlJnM9NTM0ZDkzNTQ5MjBiOGM4M2VhNzE5NTg2YmM5M2VmNTA\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RSGwxYUdGMGRHOXkmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT00NSZ0eHQtYWxpZ249cmlnaHQlMkNib3R0b20mcz0zZDNkZWI2MTJkMTFmYWJlMzJkYzdjMjA0NWNjOTEzZQ\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=db583254db8a67b0025de255771307e1","mainEntityOfPage":"https://qiita.com/yuhattor/items/f7b2aec5211951dd7622","author":{"@type":"Person","address":"Tokyo","email":null,"identifier":"yuhattor","name":"yuhattor","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Fprofile-images%2F1547197899?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=8db850940974ead3c404b65a5f13f9f7","url":"https://qiita.com/yuhattor","description":"AppDev@Microsoft","memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://zine.qiita.com/interview/202107-hitachi-3/?utm_source=qiita&amp;utm_medium=header-banner">日立の研究者が、2年間ドイツ人工知能研究センターで学んだこと</a><a target="_blank" id="header_text_message_2" href="https://zine.qiita.com/interview/202107-hitachi-3/?utm_source=qiita&amp;utm_medium=header-banner">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"yuhattor","type":"items","id":"f7b2aec5211951dd7622"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"日立の研究者が、2年間ドイツ人工知能研究センターで学んだこと","url":"https://zine.qiita.com/interview/202107-hitachi-3/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"yuhattor","type":"items","id":"f7b2aec5211951dd7622"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":0,"pos_id":"header_text_message_1","message":"日立の研究者が、2年間ドイツ人工知能研究センターで学んだこと","url":"https://zine.qiita.com/interview/202107-hitachi-3/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"yuhattor","type":"items","id":"f7b2aec5211951dd7622"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":0,"pos_id":"header_text_message_2","message":"日立の研究者が、2年間ドイツ人工知能研究センターで学んだこと","url":"https://zine.qiita.com/interview/202107-hitachi-3/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/yuhattor/items/f7b2aec5211951dd7622","location":"/yuhattor/items/f7b2aec5211951dd7622","scheme":"https","host":"qiita.com","port":null,"pathname":"/yuhattor/items/f7b2aec5211951dd7622","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"VUAZ40rorevvAgsTg8UlRrSAY8UnoyNpZ/v0a7FsIFgScoOhcaC1L90pn9nWvME6MddIACaEP9WNKpRL+9EUkQ==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-be6ece68-c3b0-4719-9525-671d88844952"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/yuhattor/items/f7b2aec5211951dd7622/likers" class="css-1iupg5d">171</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">168</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/f7b2aec5211951dd7622/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/yuhattor/items/f7b2aec5211951dd7622/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/yuhattor/items/f7b2aec5211951dd7622/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/yuhattor/items/f7b2aec5211951dd7622/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/yuhattor/items/f7b2aec5211951dd7622.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-1nzh4zz"><span class="fa fa-fw fa-warning css-38fzdi"></span><p>More than 1 year has passed since last update.</p></div><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/yuhattor"><img class="css-100alwu eyfquo10" src="https://qiita-image-store.s3.amazonaws.com/0/131046/profile-images/1547197899" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/yuhattor" class="css-10ougpm">@<!-- -->yuhattor</a><div class="css-1ay9vb9"><span><meta content="2016-10-06T01:22:46Z"/><time dateTime="2019-01-30T08:46:47Z" class="css-m19uds">updated at 2019-01-30</time></span></div></div></div></div></div><h1 class="css-cgzq40">Azure Functionsでサーバーレスアーキテクチャが何かを理解する</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/aws" class="css-4czcte">AWS</a><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/azure" class="css-4czcte">Azure</a><a href="/tags/lambda" class="css-4czcte">lambda</a><a href="/tags/serverless" class="css-4czcte">serverless</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div>
<h1>
<span id="サーバーレスアーキテクチャとazure-functions" class="fragment"></span><a href="#%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%83%AC%E3%82%B9%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E3%81%A8azure-functions"><i class="fa fa-link"></i></a>サーバーレスアーキテクチャとAzure Functions</h1>

<p>サーバレスアーキテクチャとは、マネージドサービスのみを利用してシステムを構築するアーキテクチャです。そして、Azure Functionは非常駐型のプロセスをイベントによってトリガーして実行するサービスです。</p>

<p>Azure Functionsの特徴はサーバーでプログラムを直接動作することができるということで、「プログラマが考えるのはコードだけ」というようにプログラマは必要なプログラミングだけに集中できます。そのため、その他のプログラムに関わらない多くのことが抽象化されています。<br>
そうです、あなたがフォーカスするのはプログラミングだけ。Azure Functionsを使えば今までインフラの制御などに奪われがちだった時間はあなたのものになり、より簡潔で楽しいプログラミングの時間を持つことが出来るのです。</p>

<h1>
<span id="azure-functionsのプログラミング" class="fragment"></span><a href="#azure-functions%E3%81%AE%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0"><i class="fa fa-link"></i></a>Azure Functionsのプログラミング</h1>

<p>Azure functionsのプログラミングコンセプトはとても簡単です。下の図を見てわかる通り、大変簡単な理解しやすい作りになっています。フローを確認すると、まずトリガーになるイベントを取得し、コードで読ませたいデータなどのリソースをインプットとして、出したい結果をアウトプットとして設定します。あとはコードを書くだけです。Functionsは複数のインプット、複数のアウトプット先を持てます。</p>

<p> <a href="https://camo.qiitausercontent.com/c69f2bbc50b15e175c17732f2f7f939c2078e25d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f64643934366464642d323337652d326466652d626135322d6430343264363966656164392e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Fdd946ddd-237e-2dfe-ba52-d042d69fead9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=343a279980508d258c282d3b57844b72" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/131046/dd946ddd-237e-2dfe-ba52-d042d69fead9.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Fdd946ddd-237e-2dfe-ba52-d042d69fead9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=ef1782a6565ea6794856d9626bd1ccfe 1x" loading="lazy"></a></p>

<h1>
<span id="azure-functionsを利用するメリット" class="fragment"></span><a href="#azure-functions%E3%82%92%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88"><i class="fa fa-link"></i></a>Azure Functionsを利用するメリット</h1>

<p>ここで、Azure Functionsを利用することで得られるメリットについてもう少し深く掘っていきましょう。<br>
Azure Functionsを利用することによるメリットは「フォーカスできる」ということです。従来のようにプログラマーがサーバーを意識する必要性や、設計者がアーキテクチャの面でスケールアウトのことを深く考える必要性がなくなった結果、プログマ―はコーディングに集中でき、設計者はビジネスのロジックに集中することができます。　それを可能にしている理由はAzure Functionsでは「バインディング」の機能によってデータやリソースの連携部分が抽象化されているからです。<br>
OSのレイヤー等の低いレイヤーはもちろん、複雑な連携部分もAzure Functionsがマネージするので、ユーザーは「真に人間が考えるべきコード」だけを書けばよいのです。</p>

<p>また、もう一つのメリットはコストが低いということでしょう。コストでは料金的なコストと時間的なコストを減らすことが出来ます。Azure Functionsでは従来型のVMが起動している時間に対する課金形態以外に、実行したら実行した時間だけお金がかかる課金形態も選べるのでコストも抑えられ、経済的です。バインディングの機能によって開発の時間を大幅に短縮できることもメリットです。例えばメッセージングアプリケーションで簡易的なBOTの機能を作る際には、データベースの接続部分等のややこしい部分のプログラミングを忘れて、会話のコアとなるプログラミングをいきなり始めることが出来るのです。運用の際にもスケールアウト等はAzure Functionsがやってくれます。</p>

<h2>
<span id="サーバーレスアーキテクチャの利点まとめ" class="fragment"></span><a href="#%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%83%AC%E3%82%B9%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E3%81%AE%E5%88%A9%E7%82%B9%E3%81%BE%E3%81%A8%E3%82%81"><i class="fa fa-link"></i></a>サーバーレスアーキテクチャの利点まとめ</h2>

<ul>
<li>やりたいことにフォーカスできる : データやリソースの連携部分の抽象化 / 自動的にスケールし、任意の処理が実行できる</li>
<li>料金的/時間的なコストの低さ：利用開始のコストは低く、簡単に体験できる
 </li>
</ul>

<p> </p>

<h1>
<span id="azure-functions" class="fragment"></span><a href="#azure-functions"><i class="fa fa-link"></i></a>Azure Functions</h1>

<p><a href="https://camo.qiitausercontent.com/50c41a0bcba8c1f5a9878d4fb8ce0b34417f4151/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f36653163653165372d333133352d373032652d323561352d6230346534653835623463392e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F6e1ce1e7-3135-702e-25a5-b04e4e85b4c9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=463d4566ee66b81c395698ef208b278e" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/131046/6e1ce1e7-3135-702e-25a5-b04e4e85b4c9.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F6e1ce1e7-3135-702e-25a5-b04e4e85b4c9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=50167a65c3752c12e71c0e69e27f7a23 1x" loading="lazy"></a></p>

<p>ここで Azure functions の機能的な面を詳しく見ていきましょう。<br>
実際に以下の Azure Functionsのサービスの機能を見ると、 Azure Functionsの機能がいかにサーバー レスアーキテクチャやマイクロサービスアーキテクチャといったアーキテクチャのメリットを享受できるように作られたかがわかると思います。以下に挙げられるようにC#やnode.js/javascript、PHPなど、普段あなたが開発に使っている言語を利用することができ、Azure Functionsの関数を発火させるためのトリガーもHTTPSの提供される簡単なWEBAPIや、cronの形式で定義できるタイマーなど、利用しやすいものとなっています。<br>
 </p>

<h1>
<span id="azure-functionsの特徴" class="fragment"></span><a href="#azure-functions%E3%81%AE%E7%89%B9%E5%BE%B4"><i class="fa fa-link"></i></a>Azure Functionsの特徴</h1>

<ul>
<li>Azure Functions = イベント駆動の「機能」実行プラットフォームで、柔軟で強力なサーバーレス スクリプト実行環境</li>
<li>クラウドアプリケーションを驚くほど簡単に作成できる</li>
<li>インフラを抽象化し設計者はビジネス、開発者はコードに注力できる</li>
<li>業務要件に応じたスケーリングが可能</li>
<li>HTTP APIのエンドポイントとして公開可能</li>
<li>Functionsは様々なプログラミング言語に対応

<ul>
<li>C#, Node.js/Javascript, F#, Python, PHP, Batch, Bash, PowerShell</li>
</ul>
</li>
<li>ファイル作成やPush通知を容易にする「バインディング」の機能をもつ

<ul>
<li>トリガー , スケジュール , HTTP (Webhook) , キュー
 </li>
</ul>
</li>
</ul>

<h1>
<span id="azure-functionsのバインディングとトリガー" class="fragment"></span><a href="#azure-functions%E3%81%AE%E3%83%90%E3%82%A4%E3%83%B3%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0%E3%81%A8%E3%83%88%E3%83%AA%E3%82%AC%E3%83%BC"><i class="fa fa-link"></i></a>Azure Functionsのバインディングとトリガー</h1>

<p>バインディングはAzure FunctionsをAzure Functionsたらしめる最も重要な機能と言えます。2016/08/10の時点で以下のトリガー/バインディングをサポートしています。<br>
<a href="https://camo.qiitausercontent.com/d53052dac5775f4ea0ec2e596def8e324a7d8346/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f62323536316636312d303565362d636661382d396137642d6337363432616564663434382e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Fb2561f61-05e6-cfa8-9a7d-c7642aedf448.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=56ba333b454a81b1377dd034f80531c8" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/131046/b2561f61-05e6-cfa8-9a7d-c7642aedf448.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Fb2561f61-05e6-cfa8-9a7d-c7642aedf448.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=5a63065360555ab7cc659ea90080dd39 1x" loading="lazy"></a></p>

<p>このバインディングのメリットは接続が簡単になるだけではありません。例えば、SaaSのプロバイダーがAPIの形式を変更した場合にアプリケーション側ではそれらのメンテナンスをする必要がほとんどなくなるのです。<br>
この機能によってAPI仕様の変化を特に気にせずにSaaSに接続できるようになるので、あなたのプログラミングの可能性はさらに広がるでしょう。</p>

<h2>
<span id="azure-functionsの主要なトリガー" class="fragment"></span><a href="#azure-functions%E3%81%AE%E4%B8%BB%E8%A6%81%E3%81%AA%E3%83%88%E3%83%AA%E3%82%AC%E3%83%BC"><i class="fa fa-link"></i></a>Azure Functionsの主要なトリガー</h2>

<p>トリガーの中でも利用頻度が高そうなものを紹介します。これらのバインディングを使えば、HTTPのAPIやWebHook、Cronの使い心地のタイマーで楽に関数をトリガーすることができるでしょう。</p>

<h3>
<span id="http" class="fragment"></span><a href="#http"><i class="fa fa-link"></i></a>HTTP</h3>

<p>増えてゆくサービスへ接続するもっとも簡単な方法の一つ<br>
簡単に作成でき、ワークフローを自動化できます。</p>

<h3>
<span id="webhooks" class="fragment"></span><a href="#webhooks"><i class="fa fa-link"></i></a>WebHooks</h3>

<p>Functionsは、WebHooks をリッスンするエンドポイントを簡単に作成可能<br>
ASP.NET のWebHooks libraryを使えば、バラエティに富んだトークンベースの検証機能を利用可能<br>
<a href="https://camo.qiitausercontent.com/9b7d821272db49e519d8a55b7d9c9cd733d41135/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f39653364353565312d666437652d363138382d306462392d3863636132373430656531632e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F9e3d55e1-fd7e-6188-0db9-8cca2740ee1c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=9b1510f3994379e83a6e3208798f9c5b" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/131046/9e3d55e1-fd7e-6188-0db9-8cca2740ee1c.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F9e3d55e1-fd7e-6188-0db9-8cca2740ee1c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=c2f986586aabb07ab749af69a899dd82 1x" loading="lazy"></a></p>

<h3>
<span id="タイマー" class="fragment"></span><a href="#%E3%82%BF%E3%82%A4%E3%83%9E%E3%83%BC"><i class="fa fa-link"></i></a>タイマー</h3>

<p>Cronの表現方法で記述可能です。<br>
<a href="https://camo.qiitausercontent.com/329f677648c5376a2b091b7adb07c0af1397fc6c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f32366438303130372d313437332d316238392d343734312d3438356235323263613236342e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F26d80107-1473-1b89-4741-485b522ca264.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=8c563cf20192c71495085ddc70ec0ff9" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/131046/26d80107-1473-1b89-4741-485b522ca264.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F26d80107-1473-1b89-4741-485b522ca264.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=91c652dc7996c00f58ede88c327fa11a 1x" loading="lazy"></a></p>

<p> <br>
 </p>

<h1>
<span id="azure-functionsの位置づけ" class="fragment"></span><a href="#azure-functions%E3%81%AE%E4%BD%8D%E7%BD%AE%E3%81%A5%E3%81%91"><i class="fa fa-link"></i></a>Azure Functionsの位置づけ</h1>

<p>FucntionsはAzureの中でApp Serviceに属します。具体的にはPaaSの分野で、ユーザーがサーバーのことを考えずにシステムを提供できるようにするための仕組みです。<br>
<a href="https://camo.qiitausercontent.com/91cd8008fc4c68dc3a918c1890ef9cf4b1f31193/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f35363234303634382d303261322d383430632d373432342d6339356133363834623864382e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F56240648-02a2-840c-7424-c95a3684b8d8.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=335ae10709d888be721d689db36643bb" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/131046/56240648-02a2-840c-7424-c95a3684b8d8.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F56240648-02a2-840c-7424-c95a3684b8d8.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=eee6ccfa92a71431dd330ad058622ca0 1x" loading="lazy"></a></p>

<p> </p>

<h1>
<span id="azurefunctionsのアーキテクチャとwebjobsとの違い" class="fragment"></span><a href="#azurefunctions%E3%81%AE%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E3%81%A8webjobs%E3%81%A8%E3%81%AE%E9%81%95%E3%81%84"><i class="fa fa-link"></i></a>Azure FunctionsのアーキテクチャとWebJobsとの違い</h1>

<p>Azure Functionsの中がどうなっているのかを見ていきましょう。この図を見てわかる通り、Azure Functionsの中身はWebJobsであることがわかります。<br>
<a href="https://camo.qiitausercontent.com/f63b0063c4e1b227dbe4513aae697a86b70f8030/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f62613231646238342d646438332d663232622d616463392d3066326164646438343533352e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Fba21db84-dd83-f22b-adc9-0f2addd84535.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=3d6c58978b651c0c9dbce1de612d7dae" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/131046/ba21db84-dd83-f22b-adc9-0f2addd84535.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Fba21db84-dd83-f22b-adc9-0f2addd84535.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=cf1f5b382d098cdf5521754be0541bc4 1x" loading="lazy"></a></p>

<p>ここで、言及すべきWebJobsとの大きな違いはHTTPのサポートです。WebJobsはHTTPをサポートしていないので、外部にHTTPのAPIとして提供することが出来ません。しかし、Azure FunctionsはHTTPをサポートしているので、外部に向けてHTTPのAPIとして公開することが出来ます。また、Azure FunctionsとWebJobsの違いについて、もう少し言及すると、以下になります。</p>

<ul>
<li>WebJobs　＝　自由、構築が多少面倒、App Service Plan（VMを動かした時間課金）</li>
<li>Azure Functions　＝　ある程度の制約、構築がかなり楽、App Service Planに加えてDynamic Service Plan（関数が動いている時間のみ課金）もサポート</li>
</ul>

<p>具体的な違いは以下の表に載せてあります（2016/08/10時点）</p>

<p><a href="https://camo.qiitausercontent.com/2d6d8c90494ad992c5468692989c93cd7be17c41/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f38333934373364342d373932322d363332312d326565362d6437613966356137653539642e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F839473d4-7922-6321-2ee6-d7a9f5a7e59d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=2ea268ae8586dd0b015e3ac5062708e8" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/131046/839473d4-7922-6321-2ee6-d7a9f5a7e59d.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F839473d4-7922-6321-2ee6-d7a9f5a7e59d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=cbebbc4f1f514e6a350e45505f4e36c1 1x" loading="lazy"></a></p>

<h1>
<span id="実際の開発" class="fragment"></span><a href="#%E5%AE%9F%E9%9A%9B%E3%81%AE%E9%96%8B%E7%99%BA"><i class="fa fa-link"></i></a>実際の開発</h1>

<p>ここでAzure Functionsのアプリケーションを作ってみましょう。今回Azure Functionsで作るのは、サムネイル画像のリサイズジングAPIです。<br>
モノリシックなアプリケーションでは一つのアプリケーション上に多くのプログラムがのっています。開発が進んでいくとアプリケーションの中には雑多な小さな機能が多く存在していることに気づくでしょう。　しかし、そこで振り返ってみたときに、例えば「画像のリサイズ」は本当にサーバーで行うべき処理でしょうか。機能が膨らんでアプリーションの管理が煩雑になっているなら、その一部の処理をアウトソースする選択肢も考えてみましょう。<br>
そこで今回はサムネイル画像をリサイズする機能をAzure Functionsにアウトソースすることにしてみます。今回のプログラムではマイクロソフトが出しているCognitive APIの一機能をつかって画像のリサイジングを行います。</p>

<p>ここで一つの疑問がわきます。<br>
<strong>「あれ、結局Cognitivce ServiceのAPIをたたくのなら、システムからそこにアクセスすればいいだけの話じゃない？」</strong><br>
しかし、ここで考えてほしいメリットは、Azure FunctionsがAPIとして機能する事だけではなく、今回の目的もCognitive ServiceのAPIをラッピングすることではありません。</p>

<p>今回体験していただきたいのは、「画像がBlobストレージの特定のフォルダにアップロードされたら、それをトリガーにBlobストレージの別フォルダにリサイジングした画像をアップロードする」というトリガーの部分です。<br>
 </p>

<h1>
<span id="まず新しいfunctionを作ってみましょう" class="fragment"></span><a href="#%E3%81%BE%E3%81%9A%E6%96%B0%E3%81%97%E3%81%84function%E3%82%92%E4%BD%9C%E3%81%A3%E3%81%A6%E3%81%BF%E3%81%BE%E3%81%97%E3%82%87%E3%81%86"><i class="fa fa-link"></i></a>まず、新しいFunctionを作ってみましょう</h1>

<p><a href="https://camo.qiitausercontent.com/097b41485291b2600366e2b8dd3920f748f8ccc9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f31646565316263302d393033642d336465312d343533322d6436313731636431633934632e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F1dee1bc0-903d-3de1-4532-d6171cd1c94c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=e0a0069d664da3d0a676f9b4cc0b66d7" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/131046/1dee1bc0-903d-3de1-4532-d6171cd1c94c.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F1dee1bc0-903d-3de1-4532-d6171cd1c94c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=a774a29ab81d0833d9ba820e85bcaeaa 1x" loading="lazy"></a></p>

<p>今回はBlobにファイルがアップロードされると、イベントを発火させるFunction を作成してみます。例えば「BlobTrigger – C#」を選んでみましょう。　例えば、もしあなたがJavascript使いであれば、「BlobTrigger – Node」を選んで進めてみましょう。このテンプレートを選ぶと、関数のベースとなるコードが追加されたファイルが作成されます。もしも1からプログラムを書きたい場合はEmptyのプログラムを選びましょう。<br>
 </p>

<h1>
<span id="続いてfunctionの設定をしていきます" class="fragment"></span><a href="#%E7%B6%9A%E3%81%84%E3%81%A6function%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%82%92%E3%81%97%E3%81%A6%E3%81%84%E3%81%8D%E3%81%BE%E3%81%99"><i class="fa fa-link"></i></a>続いてFunctionの設定をしていきます。</h1>

<p><a href="https://camo.qiitausercontent.com/9485f65df23220e508db12f6e1cf1421bbdf245a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f63623964376636352d376262372d313635352d663366332d6332636231626232396334652e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Fcb9d7f65-7bb7-1655-f3f3-c2cb1bb29c4e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=9e6a98348e1d8943e9d2edb079e35c47" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/131046/cb9d7f65-7bb7-1655-f3f3-c2cb1bb29c4e.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Fcb9d7f65-7bb7-1655-f3f3-c2cb1bb29c4e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=492bbd861474f7b9f9ed9d3f7e36c876 1x" loading="lazy"></a></p>

<p>最初にするのは、先ほど選んだ「BlobTrigger」の詳細設定です。<br>
具体的にこのときに考えることは以下です。</p>

<ul>
<li>Functionsの名前</li>
<li>どのBlobストレージアカウントに接続するか</li>
<li>どのフォルダにファイルが追加されたら発火するか</li>
</ul>

<p>もうこれで基本的な設定は終了です。</p>

<p> </p>

<h1>
<span id="次にアウトプットの設定です" class="fragment"></span><a href="#%E6%AC%A1%E3%81%AB%E3%82%A2%E3%82%A6%E3%83%88%E3%83%97%E3%83%83%E3%83%88%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%81%A7%E3%81%99"><i class="fa fa-link"></i></a>次にアウトプットの設定です。</h1>

<p>続いて処理の結果をどのように返すのか決めていきましょう。Functionsで加工した後のデータをどこにアウトプットするのかを設定します。</p>

<p>なおFunctionsでは処理の返り値として一つの処理を返すというわけではなく、1つの処理に対して複数のインプットとアウトプットを持つことが出来ます。Azure Functionsではシリアル化と逆シリアル化が自動的にされる仕組みがあるため、明示的にFunction App の関数の最後の行にreturn BlobObjectと書くのではなく、例えばバインディングの設定で引数にOutputBlobというオブジェクトを渡した場合に、コードの途中にOutputBlob = blob2と書くだけで処理のアウトプットがされたということになります。</p>

<p>しかし、ここで注意したいのがAzure Functionsの設計理念です。主に1関数あたり1つの機能というのがAzure Functionsでの関数のベストプラクティスになっており、また関数には冪等性が求められます。関数を作る際には複数の機能を持つ「なんでも関数」を作らずに「1つの機能を持つ汎用的な関数」となるように心がけましょう。</p>

<p><a href="https://camo.qiitausercontent.com/eedb39db1b24ef764fe73a3647f7838c6ac94f03/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f35323566613031382d633639642d356666352d303831322d6661306337633532643338622e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F525fa018-c69d-5ff5-0812-fa0c7c52d38b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=24e5d64154ef97503dbe30f3fd8b532c" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/131046/525fa018-c69d-5ff5-0812-fa0c7c52d38b.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F525fa018-c69d-5ff5-0812-fa0c7c52d38b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=d9ff85b19bc73c78d8d11518c7da672d 1x" loading="lazy"></a></p>

<p> <br>
続いてOutputの詳細な設定をしていきましょう。必要な設定は以下です。</p>

<ul>
<li>バインディングで接続し、オブジェクトを関数に渡す時に利用する引数名</li>
<li>どのBlobストレージアカウントに接続するか</li>
<li>どのフォルダにファイルを追加するか</li>
</ul>

<p><a href="https://camo.qiitausercontent.com/f5a8d6856f41acac0324f660035d6d0bd8851973/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f65333862336637632d373035612d643863642d333830612d3830353338393832656363622e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Fe38b3f7c-705a-d8cd-380a-80538982eccb.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=18a3e2c6eef1b8f6362a3a5e42eb1461" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/131046/e38b3f7c-705a-d8cd-380a-80538982eccb.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Fe38b3f7c-705a-d8cd-380a-80538982eccb.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=736d62d49dac16f2a5bec5f004618457 1x" loading="lazy"></a></p>

<p>今回の流れを整理すると以下の様になります。</p>

<ol>
<li>特定のストレージにファイルが追加されたというイベントを検知してイベント（Function）を発火</li>
<li>追加されたファイルはmyBlobという変数の中にStringの型で追加され、関数の引数で渡される。（シリアル化）　ファンクションの実行にあたってはoutputBlobという名前でアウトプットバインディングの変数も引数に渡される。</li>
<li>関数の処理が実行される。</li>
<li>処理された結果、変換された値をStringとしてoutputBlob変数に代入（逆シリアル化）</li>
</ol>

<p>実際にコードを書いていくとさらに理解しやすいので、書いていきましょう。<br>
 </p>

<h1>
<span id="最後にコードを書いていきましょう" class="fragment"></span><a href="#%E6%9C%80%E5%BE%8C%E3%81%AB%E3%82%B3%E3%83%BC%E3%83%89%E3%82%92%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%84%E3%81%8D%E3%81%BE%E3%81%97%E3%82%87%E3%81%86"><i class="fa fa-link"></i></a>最後に、コードを書いていきましょう。</h1>

<p>もう準備は完了です。さっそくコードを書き始めましょう。<br>
 <a href="https://camo.qiitausercontent.com/695da28b3af1ffa4fcded6fadd3e3fd894ae8190/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f37653065626262642d653464312d343361332d386538372d3037373331623065336137632e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F7e0ebbbd-e4d1-43a3-8e87-07731b0e3a7c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=e2e944c29e8c6791c016f9f5b43d42a2" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/131046/7e0ebbbd-e4d1-43a3-8e87-07731b0e3a7c.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F7e0ebbbd-e4d1-43a3-8e87-07731b0e3a7c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=cb390057fcc83f5841611cb7450aa41a 1x" loading="lazy"></a></p>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">run.csx</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Net.Http</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Net.Http.Headers</span><span class="p">;</span>

<span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Run</span><span class="p">(</span><span class="n">Stream</span> <span class="n">myBlob</span><span class="p">,</span> <span class="n">Stream</span> <span class="n">outputBlob</span><span class="p">,</span> <span class="n">TraceWriter</span> <span class="n">log</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">width</span> <span class="p">=</span> <span class="m">320</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">height</span> <span class="p">=</span> <span class="m">320</span><span class="p">;</span>
    <span class="kt">bool</span> <span class="n">smartCropping</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
    <span class="kt">string</span> <span class="n">_apiKey</span> <span class="p">=</span> <span class="s">"YOUR_KEY"</span><span class="p">;</span>
    <span class="kt">string</span> <span class="n">_apiUrlBase</span> <span class="p">=</span> <span class="s">"https://api.projectoxford.ai/vision/v1.0/generateThumbnail"</span><span class="p">;</span>
    <span class="kt">string</span> <span class="n">_subscriptionKey</span> <span class="p">=</span> <span class="s">"YOUR_KEY"</span><span class="p">;</span>

    <span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">httpClient</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">HttpClient</span><span class="p">())</span>
    <span class="p">{</span>
        <span class="n">httpClient</span><span class="p">.</span><span class="n">BaseAddress</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Uri</span><span class="p">(</span><span class="n">_apiUrlBase</span><span class="p">);</span>
        <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"Ocp-Apim-Subscription-Key"</span><span class="p">,</span> <span class="n">_apiKey</span><span class="p">);</span>

        <span class="k">using</span> <span class="p">(</span><span class="n">HttpContent</span> <span class="n">content</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamContent</span><span class="p">(</span><span class="n">myBlob</span><span class="p">))</span>
        <span class="p">{</span>
            <span class="c1">//get response</span>
            <span class="n">content</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MediaTypeWithQualityHeaderValue</span><span class="p">(</span><span class="s">"application/octet-stream"</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">uri</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">_apiUrlBase</span><span class="p">}</span><span class="s">?width=</span><span class="p">{</span><span class="n">width</span><span class="p">}</span><span class="s">&amp;height=</span><span class="p">{</span><span class="n">height</span><span class="p">}</span><span class="s">&amp;smartCropping=</span><span class="p">{</span><span class="n">smartCropping</span><span class="p">.</span><span class="nf">ToString</span><span class="p">()}</span><span class="s">&amp;Subscription-Key=</span><span class="p">{</span><span class="n">_subscriptionKey</span><span class="p">.</span><span class="nf">ToString</span><span class="p">()}</span><span class="s">"</span><span class="p">;</span>
            <span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="n">httpClient</span><span class="p">.</span><span class="nf">PostAsync</span><span class="p">(</span><span class="n">uri</span><span class="p">,</span> <span class="n">content</span><span class="p">).</span><span class="n">Result</span><span class="p">;</span>
            <span class="kt">var</span> <span class="n">responseBytes</span> <span class="p">=</span> <span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="nf">ReadAsByteArrayAsync</span><span class="p">().</span><span class="n">Result</span><span class="p">;</span>

            <span class="c1">//write to output thumb</span>
            <span class="n">outputBlob</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">responseBytes</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="n">responseBytes</span><span class="p">.</span><span class="n">Length</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>それでは試しにBlobにファイルをアップロードしてみましょう。<br>
そうするとリサイズされた画像がthumb/outputに入るとわかるでしょう。<br>
 </p>

<h1>
<span id="azure-functions利用シーン" class="fragment"></span><a href="#azure-functions%E5%88%A9%E7%94%A8%E3%82%B7%E3%83%BC%E3%83%B3"><i class="fa fa-link"></i></a>Azure Functions利用シーン</h1>

<p>上ではAzure Functionsの利用方法のうち、画像リサイジングの機能を提供するサンプルを紹介しました。<br>
ではどのようにAzure Functionsを始めればよいのでしょうか。その方法としてまずは、「小さく始める」ということがおすすめです。既存サービスの 1機能を置き換えてみましょう、そしてどちらかと言うとコアの機能ではない機能をアウトソーシングしてみましょう。</p>

<h2>
<span id="はじめかた小さく始める" class="fragment"></span><a href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%8B%E3%81%9F%E5%B0%8F%E3%81%95%E3%81%8F%E5%A7%8B%E3%82%81%E3%82%8B"><i class="fa fa-link"></i></a>はじめかた=小さく始める</h2>

<p>まずは、既存のサービスの１機能（APIやバックグラウンドプロセス）を置き換えてみる<br>
既存の環境で、特定の用途にしか使わない機能をアウトソースしてみる<br>
例としては以下の様利用例があります。</p>

<ul>
<li>毎夜で日付の古い Blob を Cool Blob Storage に移動</li>
<li>Logic Apps や Microsoft Flow 単体では難しい処理を実行</li>
<li>ログの整形やスクレイピング</li>
<li>Notification Hubと合わせたPush API
<a href="https://camo.qiitausercontent.com/1ff32e01b36f3fcb332da78a8d216fbe1828f4de/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f64333062653536312d376237312d626631312d393532382d6566383265656564376364362e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Fd30be561-7b71-bf11-9528-ef82eeed7cd6.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=53b458a11c025750e94fd365da89878d" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/131046/d30be561-7b71-bf11-9528-ef82eeed7cd6.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Fd30be561-7b71-bf11-9528-ef82eeed7cd6.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=36c3ccb3b3b47f633bad3577a620deb4 1x" loading="lazy"></a>
</li>
</ul>

<p>たとえば、Notification Hubの場合、プッシュ通知を出すときは基本的にオンデマンドの時が多いです。しかしその機能のためだけにサーバーをいつも起動させておくのはもったいないです。そうした時に functions サーバーを特定の時だけ起動させると、運用時のコストが下がる上に、その部分だけアウトソースにするので、コード本体の見栄えもよくなります。</p>

<p> </p>

<h1>
<span id="利用法の注意" class="fragment"></span><a href="#%E5%88%A9%E7%94%A8%E6%B3%95%E3%81%AE%E6%B3%A8%E6%84%8F"><i class="fa fa-link"></i></a>利用法の注意</h1>

<p>ここで注意したいのが、処理の内容です。　基本的にはこうした処理を大きな処理に対してやるのは Azure Functions の使い方としては良くありません。例えばバッチ処理で1回実行したら裏で3時間も処理を続けているという処理は Azure Functions には合いません。<br>
上の例では「ログの整形やスクレイピング」がありますが、Azure Functionsは例えば1年分の大量のログデータを整形したりスクレイピングするのは不向きだといえます。どちらかというと、1日分の少しのログデータを対象に整形やスクレイピングするのが良いでしょう。下記のポイントをおさえてAzure Functionsを実装にすると、システム全体としても見通しが良くなるでしょう。</p>

<h2>
<span id="利用方法のポイント" class="fragment"></span><a href="#%E5%88%A9%E7%94%A8%E6%96%B9%E6%B3%95%E3%81%AE%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88"><i class="fa fa-link"></i></a>利用方法のポイント</h2>

<ul>
<li>１関数につき、「１個の処理」を定義する</li>
<li>何回処理を実行しても同じ結果が返る</li>
<li>
<p>処理はできるだけ早く終わらせる<br>
 <br>
 </p>

<h1>
<span id="azure-functionsの運用" class="fragment"></span><a href="#azure-functions%E3%81%AE%E9%81%8B%E7%94%A8"><i class="fa fa-link"></i></a>Azure Functionsの運用</h1>

<p>運用が簡単ということはAzure Functionsの強みです。例えばスケールイン/アウトは GUIで上限値を設定するだけです。<br>
モニタリングも簡単で、従来のApplication Insight、Audit Logsなども用いることが出来ます。<br>
スケールの特徴<br>
スケールの特徴は以下になります。スケールの形式は Dynamic Service PlanとApp Service Planで異なるため、注意が必要です。</p>
</li>
<li><p>スケール粒度は Function App 単位</p></li>
<li><p>0～10 （2017/08/10時点）でインスタンスが自動的に増減（Dynamic Service Plan 時のみ ）</p></li>
<li><p>構成されているトリガーに基づきトラフィック等から判断</p></li>
<li><p>インスタンス内のFunction App 同時実行可能数はメモリ設定によって異なる<br>
 <br>
<a href="https://camo.qiitausercontent.com/80bd46c741a362a9811d7edc31e0c18597d706c3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f30376265646661662d343032392d653863352d313734642d3064306562663335643130342e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F07bedfaf-4029-e8c5-174d-0d0ebf35d104.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=43cce06a5f773096036b128b34e3bed9" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/131046/07bedfaf-4029-e8c5-174d-0d0ebf35d104.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F07bedfaf-4029-e8c5-174d-0d0ebf35d104.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=40f4a119e4f5c73e76586c6ac86543a7 1x" loading="lazy"></a></p></li>
</ul>

<h1>
<span id="ログの特徴" class="fragment"></span><a href="#%E3%83%AD%E3%82%B0%E3%81%AE%E7%89%B9%E5%BE%B4"><i class="fa fa-link"></i></a>ログの特徴</h1>

<p>ログ監査はAzure Application Insight等で従来通り行うことが出来ます。また、ログはAzure Table上のAzureFunctionsLogTableコンテナに、バインドされている値の詳細や出力された値などが出力されます。<br>
 </p>

<h1>
<span id="デプロイとインテグレーション" class="fragment"></span><a href="#%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4%E3%81%A8%E3%82%A4%E3%83%B3%E3%83%86%E3%82%B0%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3"><i class="fa fa-link"></i></a>デプロイとインテグレーション</h1>

<p>デプロイもとても簡単です。代表的なデプロイ方法が以下です。あなたがgithubユーザーだったら普段リポジトリにpushするように開発すればよいのです。</p>

<ul>
<li>SCM を使用したデプロイ/継続的インテグレーション </li>
<li>GitHub や Bitbucket など Web Apps と同様に設定可能</li>
<li>FTP経由や WebDeploy を使用したデプロイ </li>
<li>Azure File Storage を SMB で直接マウントできる環境の場合、直接ファイルをコピーすることも可能</li>
<li>Azure Resource Manager を使用したデプロイ </li>
<li>Quick start templateも利用可能（<a href="https://github.com/Azure/azure-quickstart-templates/tree/master/101-function-app-create-dynamic%EF%BC%89" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/Azure/azure-quickstart-templates/tree/master/101-function-app-create-dynamic）</a>
 
これらのインテグレーションをまとめると以下の様になります。
 <a href="https://camo.qiitausercontent.com/90ae104cfecaad73dacbcf32a82e01e797031a19/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f66366365656366662d336434392d383536662d386637622d6131643265633934363063382e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Ff6ceecff-3d49-856f-8f7b-a1d2ec9460c8.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=a603d4f401d2068e09a61ced485cd484" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/131046/f6ceecff-3d49-856f-8f7b-a1d2ec9460c8.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Ff6ceecff-3d49-856f-8f7b-a1d2ec9460c8.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=07bbb69467ba7f533e359fe7ede712d1 1x" loading="lazy"></a>
</li>
</ul>

<p> </p>

<h1>
<span id="料金" class="fragment"></span><a href="#%E6%96%99%E9%87%91"><i class="fa fa-link"></i></a>料金</h1>

<p>料金プランは2つあります。とくにDnamic Service PlanはAzure Functionsの実行環境に最も適したものになっています。</p>

<h2>
<span id="app-service-plan" class="fragment"></span><a href="#app-service-plan"><i class="fa fa-link"></i></a>App Service Plan</h2>

<ul>
<li>Basic / Standard / Premiumの階層</li>
<li>VMの利用時間に合わせた料金</li>
<li>スケールはVMの設定に基づく</li>
</ul>

<h2>
<span id="dynamic-service-plan" class="fragment"></span><a href="#dynamic-service-plan"><i class="fa fa-link"></i></a>Dynamic Service Plan</h2>

<ul>
<li>実行した回数に基づく課金</li>
<li>予約済みメモリ x 実行時間</li>
<li>スケールはFunctionsプラットフォームが自動で行う</li>
</ul>

<h3>
<span id="詳細情報" class="fragment"></span><a href="#%E8%A9%B3%E7%B4%B0%E6%83%85%E5%A0%B1"><i class="fa fa-link"></i></a>詳細情報</h3>

<p>「Functions の価格」<a href="https://azure.microsoft.com/ja-jp/pricing/details/functions/" class="autolink" rel="nofollow noopener" target="_blank">https://azure.microsoft.com/ja-jp/pricing/details/functions/</a><br>
 </p>

<h1>
<span id="azure-functions小さく始めてみましょう" class="fragment"></span><a href="#azure-functions%E5%B0%8F%E3%81%95%E3%81%8F%E5%A7%8B%E3%82%81%E3%81%A6%E3%81%BF%E3%81%BE%E3%81%97%E3%82%87%E3%81%86"><i class="fa fa-link"></i></a>Azure Functions、小さく始めてみましょう</h1>

<p>いかがでしょうか。コード以外の部分がすべてサービスとして提供されるAzure Functions、サーバーレスアーキテクチャやマイクロサービスアーキテクチャはこれからの技術でしたが、その素晴らしさの片りんを見ることができたのではないでしょうか。<br>
まずは業務アプリの1機能、自分が毎回やっているルーティーン等、小さい部分からサーバーレス化を進めてみて、感触を確かめてみましょう。</p>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2Fyuhattor%2Fitems%2Ff7b2aec5211951dd7622&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2Fyuhattor%2Fitems%2Ff7b2aec5211951dd7622&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/yuhattor/items/f7b2aec5211951dd7622/likers" class="css-1iupg5d">171</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">168</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/f7b2aec5211951dd7622/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/yuhattor/items/f7b2aec5211951dd7622/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/yuhattor/items/f7b2aec5211951dd7622/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/yuhattor/items/f7b2aec5211951dd7622/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/yuhattor/items/f7b2aec5211951dd7622.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-be6ece68-c3b0-4719-9525-671d88844952">{"authorAnalyticsTrackingId":"UA-79879930-1","organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-b49c3660-7c12-4758-b6f3-0e65d4c19c5a"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-b49c3660-7c12-4758-b6f3-0e65d4c19c5a">{}</script>
      
<div id="LoginModal-react-component-146b6dfd-0d49-414e-beb8-ccdee49aae0e"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-146b6dfd-0d49-414e-beb8-ccdee49aae0e">{}</script>
      
<div id="StockModal-react-component-fb83d433-c532-41a4-bf8e-b189ff70e0a6"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-fb83d433-c532-41a4-bf8e-b189ff70e0a6">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;UAv0MybhTpp3asCO2T2ULo6frtqOcCEtzCPOAVy/oswXOW5xHalWXkVBVESMRHBSC8iFH49XPZEm8q4hFgKWBQ==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\n\u003ch1\u003e\n\u003cspan id=\"サーバーレスアーキテクチャとazure-functions\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%83%AC%E3%82%B9%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E3%81%A8azure-functions\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eサーバーレスアーキテクチャとAzure Functions\u003c/h1\u003e\n\n\u003cp\u003eサーバレスアーキテクチャとは、マネージドサービスのみを利用してシステムを構築するアーキテクチャです。そして、Azure Functionは非常駐型のプロセスをイベントによってトリガーして実行するサービスです。\u003c/p\u003e\n\n\u003cp\u003eAzure Functionsの特徴はサーバーでプログラムを直接動作することができるということで、「プログラマが考えるのはコードだけ」というようにプログラマは必要なプログラミングだけに集中できます。そのため、その他のプログラムに関わらない多くのことが抽象化されています。\u003cbr\u003e\nそうです、あなたがフォーカスするのはプログラミングだけ。Azure Functionsを使えば今までインフラの制御などに奪われがちだった時間はあなたのものになり、より簡潔で楽しいプログラミングの時間を持つことが出来るのです。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"azure-functionsのプログラミング\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#azure-functions%E3%81%AE%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAzure Functionsのプログラミング\u003c/h1\u003e\n\n\u003cp\u003eAzure functionsのプログラミングコンセプトはとても簡単です。下の図を見てわかる通り、大変簡単な理解しやすい作りになっています。フローを確認すると、まずトリガーになるイベントを取得し、コードで読ませたいデータなどのリソースをインプットとして、出したい結果をアウトプットとして設定します。あとはコードを書くだけです。Functionsは複数のインプット、複数のアウトプット先を持てます。\u003c/p\u003e\n\n\u003cp\u003e \u003ca href=\"https://camo.qiitausercontent.com/c69f2bbc50b15e175c17732f2f7f939c2078e25d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f64643934366464642d323337652d326466652d626135322d6430343264363966656164392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Fdd946ddd-237e-2dfe-ba52-d042d69fead9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=343a279980508d258c282d3b57844b72\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/131046/dd946ddd-237e-2dfe-ba52-d042d69fead9.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Fdd946ddd-237e-2dfe-ba52-d042d69fead9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ef1782a6565ea6794856d9626bd1ccfe 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"azure-functionsを利用するメリット\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#azure-functions%E3%82%92%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAzure Functionsを利用するメリット\u003c/h1\u003e\n\n\u003cp\u003eここで、Azure Functionsを利用することで得られるメリットについてもう少し深く掘っていきましょう。\u003cbr\u003e\nAzure Functionsを利用することによるメリットは「フォーカスできる」ということです。従来のようにプログラマーがサーバーを意識する必要性や、設計者がアーキテクチャの面でスケールアウトのことを深く考える必要性がなくなった結果、プログマ―はコーディングに集中でき、設計者はビジネスのロジックに集中することができます。　それを可能にしている理由はAzure Functionsでは「バインディング」の機能によってデータやリソースの連携部分が抽象化されているからです。\u003cbr\u003e\nOSのレイヤー等の低いレイヤーはもちろん、複雑な連携部分もAzure Functionsがマネージするので、ユーザーは「真に人間が考えるべきコード」だけを書けばよいのです。\u003c/p\u003e\n\n\u003cp\u003eまた、もう一つのメリットはコストが低いということでしょう。コストでは料金的なコストと時間的なコストを減らすことが出来ます。Azure Functionsでは従来型のVMが起動している時間に対する課金形態以外に、実行したら実行した時間だけお金がかかる課金形態も選べるのでコストも抑えられ、経済的です。バインディングの機能によって開発の時間を大幅に短縮できることもメリットです。例えばメッセージングアプリケーションで簡易的なBOTの機能を作る際には、データベースの接続部分等のややこしい部分のプログラミングを忘れて、会話のコアとなるプログラミングをいきなり始めることが出来るのです。運用の際にもスケールアウト等はAzure Functionsがやってくれます。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"サーバーレスアーキテクチャの利点まとめ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%83%AC%E3%82%B9%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E3%81%AE%E5%88%A9%E7%82%B9%E3%81%BE%E3%81%A8%E3%82%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eサーバーレスアーキテクチャの利点まとめ\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003eやりたいことにフォーカスできる : データやリソースの連携部分の抽象化 / 自動的にスケールし、任意の処理が実行できる\u003c/li\u003e\n\u003cli\u003e料金的/時間的なコストの低さ：利用開始のコストは低く、簡単に体験できる\n \u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e \u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"azure-functions\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#azure-functions\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAzure Functions\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/50c41a0bcba8c1f5a9878d4fb8ce0b34417f4151/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f36653163653165372d333133352d373032652d323561352d6230346534653835623463392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F6e1ce1e7-3135-702e-25a5-b04e4e85b4c9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=463d4566ee66b81c395698ef208b278e\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/131046/6e1ce1e7-3135-702e-25a5-b04e4e85b4c9.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F6e1ce1e7-3135-702e-25a5-b04e4e85b4c9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=50167a65c3752c12e71c0e69e27f7a23 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eここで Azure functions の機能的な面を詳しく見ていきましょう。\u003cbr\u003e\n実際に以下の Azure Functionsのサービスの機能を見ると、 Azure Functionsの機能がいかにサーバー レスアーキテクチャやマイクロサービスアーキテクチャといったアーキテクチャのメリットを享受できるように作られたかがわかると思います。以下に挙げられるようにC#やnode.js/javascript、PHPなど、普段あなたが開発に使っている言語を利用することができ、Azure Functionsの関数を発火させるためのトリガーもHTTPSの提供される簡単なWEBAPIや、cronの形式で定義できるタイマーなど、利用しやすいものとなっています。\u003cbr\u003e\n \u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"azure-functionsの特徴\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#azure-functions%E3%81%AE%E7%89%B9%E5%BE%B4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAzure Functionsの特徴\u003c/h1\u003e\n\n\u003cul\u003e\n\u003cli\u003eAzure Functions = イベント駆動の「機能」実行プラットフォームで、柔軟で強力なサーバーレス スクリプト実行環境\u003c/li\u003e\n\u003cli\u003eクラウドアプリケーションを驚くほど簡単に作成できる\u003c/li\u003e\n\u003cli\u003eインフラを抽象化し設計者はビジネス、開発者はコードに注力できる\u003c/li\u003e\n\u003cli\u003e業務要件に応じたスケーリングが可能\u003c/li\u003e\n\u003cli\u003eHTTP APIのエンドポイントとして公開可能\u003c/li\u003e\n\u003cli\u003eFunctionsは様々なプログラミング言語に対応\n\n\u003cul\u003e\n\u003cli\u003eC#, Node.js/Javascript, F#, Python, PHP, Batch, Bash, PowerShell\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eファイル作成やPush通知を容易にする「バインディング」の機能をもつ\n\n\u003cul\u003e\n\u003cli\u003eトリガー , スケジュール , HTTP (Webhook) , キュー\n \u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"azure-functionsのバインディングとトリガー\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#azure-functions%E3%81%AE%E3%83%90%E3%82%A4%E3%83%B3%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0%E3%81%A8%E3%83%88%E3%83%AA%E3%82%AC%E3%83%BC\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAzure Functionsのバインディングとトリガー\u003c/h1\u003e\n\n\u003cp\u003eバインディングはAzure FunctionsをAzure Functionsたらしめる最も重要な機能と言えます。2016/08/10の時点で以下のトリガー/バインディングをサポートしています。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/d53052dac5775f4ea0ec2e596def8e324a7d8346/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f62323536316636312d303565362d636661382d396137642d6337363432616564663434382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Fb2561f61-05e6-cfa8-9a7d-c7642aedf448.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=56ba333b454a81b1377dd034f80531c8\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/131046/b2561f61-05e6-cfa8-9a7d-c7642aedf448.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Fb2561f61-05e6-cfa8-9a7d-c7642aedf448.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=5a63065360555ab7cc659ea90080dd39 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eこのバインディングのメリットは接続が簡単になるだけではありません。例えば、SaaSのプロバイダーがAPIの形式を変更した場合にアプリケーション側ではそれらのメンテナンスをする必要がほとんどなくなるのです。\u003cbr\u003e\nこの機能によってAPI仕様の変化を特に気にせずにSaaSに接続できるようになるので、あなたのプログラミングの可能性はさらに広がるでしょう。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"azure-functionsの主要なトリガー\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#azure-functions%E3%81%AE%E4%B8%BB%E8%A6%81%E3%81%AA%E3%83%88%E3%83%AA%E3%82%AC%E3%83%BC\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAzure Functionsの主要なトリガー\u003c/h2\u003e\n\n\u003cp\u003eトリガーの中でも利用頻度が高そうなものを紹介します。これらのバインディングを使えば、HTTPのAPIやWebHook、Cronの使い心地のタイマーで楽に関数をトリガーすることができるでしょう。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"http\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#http\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eHTTP\u003c/h3\u003e\n\n\u003cp\u003e増えてゆくサービスへ接続するもっとも簡単な方法の一つ\u003cbr\u003e\n簡単に作成でき、ワークフローを自動化できます。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"webhooks\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#webhooks\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eWebHooks\u003c/h3\u003e\n\n\u003cp\u003eFunctionsは、WebHooks をリッスンするエンドポイントを簡単に作成可能\u003cbr\u003e\nASP.NET のWebHooks libraryを使えば、バラエティに富んだトークンベースの検証機能を利用可能\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/9b7d821272db49e519d8a55b7d9c9cd733d41135/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f39653364353565312d666437652d363138382d306462392d3863636132373430656531632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F9e3d55e1-fd7e-6188-0db9-8cca2740ee1c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=9b1510f3994379e83a6e3208798f9c5b\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/131046/9e3d55e1-fd7e-6188-0db9-8cca2740ee1c.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F9e3d55e1-fd7e-6188-0db9-8cca2740ee1c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c2f986586aabb07ab749af69a899dd82 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"タイマー\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%BF%E3%82%A4%E3%83%9E%E3%83%BC\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eタイマー\u003c/h3\u003e\n\n\u003cp\u003eCronの表現方法で記述可能です。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/329f677648c5376a2b091b7adb07c0af1397fc6c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f32366438303130372d313437332d316238392d343734312d3438356235323263613236342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F26d80107-1473-1b89-4741-485b522ca264.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=8c563cf20192c71495085ddc70ec0ff9\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/131046/26d80107-1473-1b89-4741-485b522ca264.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F26d80107-1473-1b89-4741-485b522ca264.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=91c652dc7996c00f58ede88c327fa11a 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e \u003cbr\u003e\n \u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"azure-functionsの位置づけ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#azure-functions%E3%81%AE%E4%BD%8D%E7%BD%AE%E3%81%A5%E3%81%91\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAzure Functionsの位置づけ\u003c/h1\u003e\n\n\u003cp\u003eFucntionsはAzureの中でApp Serviceに属します。具体的にはPaaSの分野で、ユーザーがサーバーのことを考えずにシステムを提供できるようにするための仕組みです。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/91cd8008fc4c68dc3a918c1890ef9cf4b1f31193/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f35363234303634382d303261322d383430632d373432342d6339356133363834623864382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F56240648-02a2-840c-7424-c95a3684b8d8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=335ae10709d888be721d689db36643bb\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/131046/56240648-02a2-840c-7424-c95a3684b8d8.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F56240648-02a2-840c-7424-c95a3684b8d8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=eee6ccfa92a71431dd330ad058622ca0 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e \u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"azurefunctionsのアーキテクチャとwebjobsとの違い\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#azurefunctions%E3%81%AE%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E3%81%A8webjobs%E3%81%A8%E3%81%AE%E9%81%95%E3%81%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAzure FunctionsのアーキテクチャとWebJobsとの違い\u003c/h1\u003e\n\n\u003cp\u003eAzure Functionsの中がどうなっているのかを見ていきましょう。この図を見てわかる通り、Azure Functionsの中身はWebJobsであることがわかります。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/f63b0063c4e1b227dbe4513aae697a86b70f8030/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f62613231646238342d646438332d663232622d616463392d3066326164646438343533352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Fba21db84-dd83-f22b-adc9-0f2addd84535.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=3d6c58978b651c0c9dbce1de612d7dae\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/131046/ba21db84-dd83-f22b-adc9-0f2addd84535.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Fba21db84-dd83-f22b-adc9-0f2addd84535.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=cf1f5b382d098cdf5521754be0541bc4 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eここで、言及すべきWebJobsとの大きな違いはHTTPのサポートです。WebJobsはHTTPをサポートしていないので、外部にHTTPのAPIとして提供することが出来ません。しかし、Azure FunctionsはHTTPをサポートしているので、外部に向けてHTTPのAPIとして公開することが出来ます。また、Azure FunctionsとWebJobsの違いについて、もう少し言及すると、以下になります。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eWebJobs　＝　自由、構築が多少面倒、App Service Plan（VMを動かした時間課金）\u003c/li\u003e\n\u003cli\u003eAzure Functions　＝　ある程度の制約、構築がかなり楽、App Service Planに加えてDynamic Service Plan（関数が動いている時間のみ課金）もサポート\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e具体的な違いは以下の表に載せてあります（2016/08/10時点）\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/2d6d8c90494ad992c5468692989c93cd7be17c41/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f38333934373364342d373932322d363332312d326565362d6437613966356137653539642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F839473d4-7922-6321-2ee6-d7a9f5a7e59d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2ea268ae8586dd0b015e3ac5062708e8\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/131046/839473d4-7922-6321-2ee6-d7a9f5a7e59d.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F839473d4-7922-6321-2ee6-d7a9f5a7e59d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=cbebbc4f1f514e6a350e45505f4e36c1 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"実際の開発\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E9%9A%9B%E3%81%AE%E9%96%8B%E7%99%BA\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実際の開発\u003c/h1\u003e\n\n\u003cp\u003eここでAzure Functionsのアプリケーションを作ってみましょう。今回Azure Functionsで作るのは、サムネイル画像のリサイズジングAPIです。\u003cbr\u003e\nモノリシックなアプリケーションでは一つのアプリケーション上に多くのプログラムがのっています。開発が進んでいくとアプリケーションの中には雑多な小さな機能が多く存在していることに気づくでしょう。　しかし、そこで振り返ってみたときに、例えば「画像のリサイズ」は本当にサーバーで行うべき処理でしょうか。機能が膨らんでアプリーションの管理が煩雑になっているなら、その一部の処理をアウトソースする選択肢も考えてみましょう。\u003cbr\u003e\nそこで今回はサムネイル画像をリサイズする機能をAzure Functionsにアウトソースすることにしてみます。今回のプログラムではマイクロソフトが出しているCognitive APIの一機能をつかって画像のリサイジングを行います。\u003c/p\u003e\n\n\u003cp\u003eここで一つの疑問がわきます。\u003cbr\u003e\n\u003cstrong\u003e「あれ、結局Cognitivce ServiceのAPIをたたくのなら、システムからそこにアクセスすればいいだけの話じゃない？」\u003c/strong\u003e\u003cbr\u003e\nしかし、ここで考えてほしいメリットは、Azure FunctionsがAPIとして機能する事だけではなく、今回の目的もCognitive ServiceのAPIをラッピングすることではありません。\u003c/p\u003e\n\n\u003cp\u003e今回体験していただきたいのは、「画像がBlobストレージの特定のフォルダにアップロードされたら、それをトリガーにBlobストレージの別フォルダにリサイジングした画像をアップロードする」というトリガーの部分です。\u003cbr\u003e\n \u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"まず新しいfunctionを作ってみましょう\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%BE%E3%81%9A%E6%96%B0%E3%81%97%E3%81%84function%E3%82%92%E4%BD%9C%E3%81%A3%E3%81%A6%E3%81%BF%E3%81%BE%E3%81%97%E3%82%87%E3%81%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eまず、新しいFunctionを作ってみましょう\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/097b41485291b2600366e2b8dd3920f748f8ccc9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f31646565316263302d393033642d336465312d343533322d6436313731636431633934632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F1dee1bc0-903d-3de1-4532-d6171cd1c94c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e0a0069d664da3d0a676f9b4cc0b66d7\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/131046/1dee1bc0-903d-3de1-4532-d6171cd1c94c.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F1dee1bc0-903d-3de1-4532-d6171cd1c94c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=a774a29ab81d0833d9ba820e85bcaeaa 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e今回はBlobにファイルがアップロードされると、イベントを発火させるFunction を作成してみます。例えば「BlobTrigger – C#」を選んでみましょう。　例えば、もしあなたがJavascript使いであれば、「BlobTrigger – Node」を選んで進めてみましょう。このテンプレートを選ぶと、関数のベースとなるコードが追加されたファイルが作成されます。もしも1からプログラムを書きたい場合はEmptyのプログラムを選びましょう。\u003cbr\u003e\n \u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"続いてfunctionの設定をしていきます\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B6%9A%E3%81%84%E3%81%A6function%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%82%92%E3%81%97%E3%81%A6%E3%81%84%E3%81%8D%E3%81%BE%E3%81%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e続いてFunctionの設定をしていきます。\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/9485f65df23220e508db12f6e1cf1421bbdf245a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f63623964376636352d376262372d313635352d663366332d6332636231626232396334652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Fcb9d7f65-7bb7-1655-f3f3-c2cb1bb29c4e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=9e6a98348e1d8943e9d2edb079e35c47\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/131046/cb9d7f65-7bb7-1655-f3f3-c2cb1bb29c4e.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Fcb9d7f65-7bb7-1655-f3f3-c2cb1bb29c4e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=492bbd861474f7b9f9ed9d3f7e36c876 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e最初にするのは、先ほど選んだ「BlobTrigger」の詳細設定です。\u003cbr\u003e\n具体的にこのときに考えることは以下です。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eFunctionsの名前\u003c/li\u003e\n\u003cli\u003eどのBlobストレージアカウントに接続するか\u003c/li\u003e\n\u003cli\u003eどのフォルダにファイルが追加されたら発火するか\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eもうこれで基本的な設定は終了です。\u003c/p\u003e\n\n\u003cp\u003e \u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"次にアウトプットの設定です\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%AC%A1%E3%81%AB%E3%82%A2%E3%82%A6%E3%83%88%E3%83%97%E3%83%83%E3%83%88%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%81%A7%E3%81%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e次にアウトプットの設定です。\u003c/h1\u003e\n\n\u003cp\u003e続いて処理の結果をどのように返すのか決めていきましょう。Functionsで加工した後のデータをどこにアウトプットするのかを設定します。\u003c/p\u003e\n\n\u003cp\u003eなおFunctionsでは処理の返り値として一つの処理を返すというわけではなく、1つの処理に対して複数のインプットとアウトプットを持つことが出来ます。Azure Functionsではシリアル化と逆シリアル化が自動的にされる仕組みがあるため、明示的にFunction App の関数の最後の行にreturn BlobObjectと書くのではなく、例えばバインディングの設定で引数にOutputBlobというオブジェクトを渡した場合に、コードの途中にOutputBlob = blob2と書くだけで処理のアウトプットがされたということになります。\u003c/p\u003e\n\n\u003cp\u003eしかし、ここで注意したいのがAzure Functionsの設計理念です。主に1関数あたり1つの機能というのがAzure Functionsでの関数のベストプラクティスになっており、また関数には冪等性が求められます。関数を作る際には複数の機能を持つ「なんでも関数」を作らずに「1つの機能を持つ汎用的な関数」となるように心がけましょう。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/eedb39db1b24ef764fe73a3647f7838c6ac94f03/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f35323566613031382d633639642d356666352d303831322d6661306337633532643338622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F525fa018-c69d-5ff5-0812-fa0c7c52d38b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=24e5d64154ef97503dbe30f3fd8b532c\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/131046/525fa018-c69d-5ff5-0812-fa0c7c52d38b.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F525fa018-c69d-5ff5-0812-fa0c7c52d38b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=d9ff85b19bc73c78d8d11518c7da672d 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e \u003cbr\u003e\n続いてOutputの詳細な設定をしていきましょう。必要な設定は以下です。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eバインディングで接続し、オブジェクトを関数に渡す時に利用する引数名\u003c/li\u003e\n\u003cli\u003eどのBlobストレージアカウントに接続するか\u003c/li\u003e\n\u003cli\u003eどのフォルダにファイルを追加するか\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/f5a8d6856f41acac0324f660035d6d0bd8851973/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f65333862336637632d373035612d643863642d333830612d3830353338393832656363622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Fe38b3f7c-705a-d8cd-380a-80538982eccb.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=18a3e2c6eef1b8f6362a3a5e42eb1461\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/131046/e38b3f7c-705a-d8cd-380a-80538982eccb.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Fe38b3f7c-705a-d8cd-380a-80538982eccb.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=736d62d49dac16f2a5bec5f004618457 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e今回の流れを整理すると以下の様になります。\u003c/p\u003e\n\n\u003col\u003e\n\u003cli\u003e特定のストレージにファイルが追加されたというイベントを検知してイベント（Function）を発火\u003c/li\u003e\n\u003cli\u003e追加されたファイルはmyBlobという変数の中にStringの型で追加され、関数の引数で渡される。（シリアル化）　ファンクションの実行にあたってはoutputBlobという名前でアウトプットバインディングの変数も引数に渡される。\u003c/li\u003e\n\u003cli\u003e関数の処理が実行される。\u003c/li\u003e\n\u003cli\u003e処理された結果、変換された値をStringとしてoutputBlob変数に代入（逆シリアル化）\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cp\u003e実際にコードを書いていくとさらに理解しやすいので、書いていきましょう。\u003cbr\u003e\n \u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"最後にコードを書いていきましょう\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB%E3%82%B3%E3%83%BC%E3%83%89%E3%82%92%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%84%E3%81%8D%E3%81%BE%E3%81%97%E3%82%87%E3%81%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e最後に、コードを書いていきましょう。\u003c/h1\u003e\n\n\u003cp\u003eもう準備は完了です。さっそくコードを書き始めましょう。\u003cbr\u003e\n \u003ca href=\"https://camo.qiitausercontent.com/695da28b3af1ffa4fcded6fadd3e3fd894ae8190/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f37653065626262642d653464312d343361332d386538372d3037373331623065336137632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F7e0ebbbd-e4d1-43a3-8e87-07731b0e3a7c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e2e944c29e8c6791c016f9f5b43d42a2\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/131046/7e0ebbbd-e4d1-43a3-8e87-07731b0e3a7c.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F7e0ebbbd-e4d1-43a3-8e87-07731b0e3a7c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=cb390057fcc83f5841611cb7450aa41a 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003erun.csx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Text\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Net.Http\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Net.Http.Headers\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eRun\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eStream\u003c/span\u003e \u003cspan class=\"n\"\u003emyBlob\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eStream\u003c/span\u003e \u003cspan class=\"n\"\u003eoutputBlob\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eTraceWriter\u003c/span\u003e \u003cspan class=\"n\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ewidth\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e320\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eheight\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e320\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003esmartCropping\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003e_apiKey\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"YOUR_KEY\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003e_apiUrlBase\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"https://api.projectoxford.ai/vision/v1.0/generateThumbnail\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003e_subscriptionKey\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"YOUR_KEY\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003ehttpClient\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eHttpClient\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ehttpClient\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eBaseAddress\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eUri\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003e_apiUrlBase\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ehttpClient\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDefaultRequestHeaders\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Ocp-Apim-Subscription-Key\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003e_apiKey\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eHttpContent\u003c/span\u003e \u003cspan class=\"n\"\u003econtent\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eStreamContent\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emyBlob\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e//get response\u003c/span\u003e\n            \u003cspan class=\"n\"\u003econtent\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eHeaders\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eContentType\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eMediaTypeWithQualityHeaderValue\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"application/octet-stream\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003euri\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003e_apiUrlBase\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e?width=\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003ewidth\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\u0026amp;height=\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003eheight\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\u0026amp;smartCropping=\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003esmartCropping\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToString\u003c/span\u003e\u003cspan class=\"p\"\u003e()}\u003c/span\u003e\u003cspan class=\"s\"\u003e\u0026amp;Subscription-Key=\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003e_subscriptionKey\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToString\u003c/span\u003e\u003cspan class=\"p\"\u003e()}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003eresponse\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ehttpClient\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePostAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003euri\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003econtent\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"n\"\u003eResult\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003eresponseBytes\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eContent\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eReadAsByteArrayAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e().\u003c/span\u003e\u003cspan class=\"n\"\u003eResult\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e//write to output thumb\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eoutputBlob\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWrite\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eresponseBytes\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eresponseBytes\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eそれでは試しにBlobにファイルをアップロードしてみましょう。\u003cbr\u003e\nそうするとリサイズされた画像がthumb/outputに入るとわかるでしょう。\u003cbr\u003e\n \u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"azure-functions利用シーン\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#azure-functions%E5%88%A9%E7%94%A8%E3%82%B7%E3%83%BC%E3%83%B3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAzure Functions利用シーン\u003c/h1\u003e\n\n\u003cp\u003e上ではAzure Functionsの利用方法のうち、画像リサイジングの機能を提供するサンプルを紹介しました。\u003cbr\u003e\nではどのようにAzure Functionsを始めればよいのでしょうか。その方法としてまずは、「小さく始める」ということがおすすめです。既存サービスの 1機能を置き換えてみましょう、そしてどちらかと言うとコアの機能ではない機能をアウトソーシングしてみましょう。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"はじめかた小さく始める\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%8B%E3%81%9F%E5%B0%8F%E3%81%95%E3%81%8F%E5%A7%8B%E3%82%81%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめかた=小さく始める\u003c/h2\u003e\n\n\u003cp\u003eまずは、既存のサービスの１機能（APIやバックグラウンドプロセス）を置き換えてみる\u003cbr\u003e\n既存の環境で、特定の用途にしか使わない機能をアウトソースしてみる\u003cbr\u003e\n例としては以下の様利用例があります。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e毎夜で日付の古い Blob を Cool Blob Storage に移動\u003c/li\u003e\n\u003cli\u003eLogic Apps や Microsoft Flow 単体では難しい処理を実行\u003c/li\u003e\n\u003cli\u003eログの整形やスクレイピング\u003c/li\u003e\n\u003cli\u003eNotification Hubと合わせたPush API\n\u003ca href=\"https://camo.qiitausercontent.com/1ff32e01b36f3fcb332da78a8d216fbe1828f4de/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f64333062653536312d376237312d626631312d393532382d6566383265656564376364362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Fd30be561-7b71-bf11-9528-ef82eeed7cd6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=53b458a11c025750e94fd365da89878d\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/131046/d30be561-7b71-bf11-9528-ef82eeed7cd6.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Fd30be561-7b71-bf11-9528-ef82eeed7cd6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=36c3ccb3b3b47f633bad3577a620deb4 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eたとえば、Notification Hubの場合、プッシュ通知を出すときは基本的にオンデマンドの時が多いです。しかしその機能のためだけにサーバーをいつも起動させておくのはもったいないです。そうした時に functions サーバーを特定の時だけ起動させると、運用時のコストが下がる上に、その部分だけアウトソースにするので、コード本体の見栄えもよくなります。\u003c/p\u003e\n\n\u003cp\u003e \u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"利用法の注意\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%88%A9%E7%94%A8%E6%B3%95%E3%81%AE%E6%B3%A8%E6%84%8F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e利用法の注意\u003c/h1\u003e\n\n\u003cp\u003eここで注意したいのが、処理の内容です。　基本的にはこうした処理を大きな処理に対してやるのは Azure Functions の使い方としては良くありません。例えばバッチ処理で1回実行したら裏で3時間も処理を続けているという処理は Azure Functions には合いません。\u003cbr\u003e\n上の例では「ログの整形やスクレイピング」がありますが、Azure Functionsは例えば1年分の大量のログデータを整形したりスクレイピングするのは不向きだといえます。どちらかというと、1日分の少しのログデータを対象に整形やスクレイピングするのが良いでしょう。下記のポイントをおさえてAzure Functionsを実装にすると、システム全体としても見通しが良くなるでしょう。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"利用方法のポイント\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%88%A9%E7%94%A8%E6%96%B9%E6%B3%95%E3%81%AE%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e利用方法のポイント\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003e１関数につき、「１個の処理」を定義する\u003c/li\u003e\n\u003cli\u003e何回処理を実行しても同じ結果が返る\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e処理はできるだけ早く終わらせる\u003cbr\u003e\n \u003cbr\u003e\n \u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"azure-functionsの運用\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#azure-functions%E3%81%AE%E9%81%8B%E7%94%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAzure Functionsの運用\u003c/h1\u003e\n\n\u003cp\u003e運用が簡単ということはAzure Functionsの強みです。例えばスケールイン/アウトは GUIで上限値を設定するだけです。\u003cbr\u003e\nモニタリングも簡単で、従来のApplication Insight、Audit Logsなども用いることが出来ます。\u003cbr\u003e\nスケールの特徴\u003cbr\u003e\nスケールの特徴は以下になります。スケールの形式は Dynamic Service PlanとApp Service Planで異なるため、注意が必要です。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eスケール粒度は Function App 単位\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e0～10 （2017/08/10時点）でインスタンスが自動的に増減（Dynamic Service Plan 時のみ ）\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e構成されているトリガーに基づきトラフィック等から判断\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eインスタンス内のFunction App 同時実行可能数はメモリ設定によって異なる\u003cbr\u003e\n \u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/80bd46c741a362a9811d7edc31e0c18597d706c3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f30376265646661662d343032392d653863352d313734642d3064306562663335643130342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F07bedfaf-4029-e8c5-174d-0d0ebf35d104.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=43cce06a5f773096036b128b34e3bed9\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/131046/07bedfaf-4029-e8c5-174d-0d0ebf35d104.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2F07bedfaf-4029-e8c5-174d-0d0ebf35d104.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=40f4a119e4f5c73e76586c6ac86543a7 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"ログの特徴\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AD%E3%82%B0%E3%81%AE%E7%89%B9%E5%BE%B4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eログの特徴\u003c/h1\u003e\n\n\u003cp\u003eログ監査はAzure Application Insight等で従来通り行うことが出来ます。また、ログはAzure Table上のAzureFunctionsLogTableコンテナに、バインドされている値の詳細や出力された値などが出力されます。\u003cbr\u003e\n \u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"デプロイとインテグレーション\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4%E3%81%A8%E3%82%A4%E3%83%B3%E3%83%86%E3%82%B0%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eデプロイとインテグレーション\u003c/h1\u003e\n\n\u003cp\u003eデプロイもとても簡単です。代表的なデプロイ方法が以下です。あなたがgithubユーザーだったら普段リポジトリにpushするように開発すればよいのです。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eSCM を使用したデプロイ/継続的インテグレーション \u003c/li\u003e\n\u003cli\u003eGitHub や Bitbucket など Web Apps と同様に設定可能\u003c/li\u003e\n\u003cli\u003eFTP経由や WebDeploy を使用したデプロイ \u003c/li\u003e\n\u003cli\u003eAzure File Storage を SMB で直接マウントできる環境の場合、直接ファイルをコピーすることも可能\u003c/li\u003e\n\u003cli\u003eAzure Resource Manager を使用したデプロイ \u003c/li\u003e\n\u003cli\u003eQuick start templateも利用可能（\u003ca href=\"https://github.com/Azure/azure-quickstart-templates/tree/master/101-function-app-create-dynamic%EF%BC%89\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://github.com/Azure/azure-quickstart-templates/tree/master/101-function-app-create-dynamic）\u003c/a\u003e\n \nこれらのインテグレーションをまとめると以下の様になります。\n \u003ca href=\"https://camo.qiitausercontent.com/90ae104cfecaad73dacbcf32a82e01e797031a19/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133313034362f66366365656366662d336434392d383536662d386637622d6131643265633934363063382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Ff6ceecff-3d49-856f-8f7b-a1d2ec9460c8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a603d4f401d2068e09a61ced485cd484\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/131046/f6ceecff-3d49-856f-8f7b-a1d2ec9460c8.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Ff6ceecff-3d49-856f-8f7b-a1d2ec9460c8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=07bbb69467ba7f533e359fe7ede712d1 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e \u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"料金\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%96%99%E9%87%91\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e料金\u003c/h1\u003e\n\n\u003cp\u003e料金プランは2つあります。とくにDnamic Service PlanはAzure Functionsの実行環境に最も適したものになっています。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"app-service-plan\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#app-service-plan\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eApp Service Plan\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003eBasic / Standard / Premiumの階層\u003c/li\u003e\n\u003cli\u003eVMの利用時間に合わせた料金\u003c/li\u003e\n\u003cli\u003eスケールはVMの設定に基づく\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"dynamic-service-plan\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#dynamic-service-plan\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eDynamic Service Plan\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003e実行した回数に基づく課金\u003c/li\u003e\n\u003cli\u003e予約済みメモリ x 実行時間\u003c/li\u003e\n\u003cli\u003eスケールはFunctionsプラットフォームが自動で行う\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"詳細情報\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A9%B3%E7%B4%B0%E6%83%85%E5%A0%B1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e詳細情報\u003c/h3\u003e\n\n\u003cp\u003e「Functions の価格」\u003ca href=\"https://azure.microsoft.com/ja-jp/pricing/details/functions/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://azure.microsoft.com/ja-jp/pricing/details/functions/\u003c/a\u003e\u003cbr\u003e\n \u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"azure-functions小さく始めてみましょう\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#azure-functions%E5%B0%8F%E3%81%95%E3%81%8F%E5%A7%8B%E3%82%81%E3%81%A6%E3%81%BF%E3%81%BE%E3%81%97%E3%82%87%E3%81%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAzure Functions、小さく始めてみましょう\u003c/h1\u003e\n\n\u003cp\u003eいかがでしょうか。コード以外の部分がすべてサービスとして提供されるAzure Functions、サーバーレスアーキテクチャやマイクロサービスアーキテクチャはこれからの技術でしたが、その素晴らしさの片りんを見ることができたのではないでしょうか。\u003cbr\u003e\nまずは業務アプリの1機能、自分が毎回やっているルーティーン等、小さい部分からサーバーレス化を進めてみて、感触を確かめてみましょう。\u003c/p\u003e\n","createdAt":"2016-10-06T01:22:46Z","elapsedYearsFromLastModifiedAt":2,"encryptedId":"bYsfAR39IEqRbm+sKxIX4x+aUHz2GnML--eVEDpXWPTkMCGxi0--v9KgRVa8fo85fFH4HyxRIQ==","isBanned":false,"isDeprecated":true,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2019-01-30T08:46:47Z","likesCount":171,"linkUrl":"https://qiita.com/yuhattor/items/f7b2aec5211951dd7622","organization":null,"originalId":428452,"stockedCount":168,"title":"Azure Functionsでサーバーレスアーキテクチャが何かを理解する","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%83%AC%E3%82%B9%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E3%81%A8azure-functions\"\u003eサーバーレスアーキテクチャとAzure Functions\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#azure-functions%E3%81%AE%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0\"\u003eAzure Functionsのプログラミング\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#azure-functions%E3%82%92%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88\"\u003eAzure Functionsを利用するメリット\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%83%AC%E3%82%B9%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E3%81%AE%E5%88%A9%E7%82%B9%E3%81%BE%E3%81%A8%E3%82%81\"\u003eサーバーレスアーキテクチャの利点まとめ\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#azure-functions\"\u003eAzure Functions\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#azure-functions%E3%81%AE%E7%89%B9%E5%BE%B4\"\u003eAzure Functionsの特徴\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#azure-functions%E3%81%AE%E3%83%90%E3%82%A4%E3%83%B3%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0%E3%81%A8%E3%83%88%E3%83%AA%E3%82%AC%E3%83%BC\"\u003eAzure Functionsのバインディングとトリガー\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#azure-functions%E3%81%AE%E4%B8%BB%E8%A6%81%E3%81%AA%E3%83%88%E3%83%AA%E3%82%AC%E3%83%BC\"\u003eAzure Functionsの主要なトリガー\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#http\"\u003eHTTP\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#webhooks\"\u003eWebHooks\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%BF%E3%82%A4%E3%83%9E%E3%83%BC\"\u003eタイマー\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#azure-functions%E3%81%AE%E4%BD%8D%E7%BD%AE%E3%81%A5%E3%81%91\"\u003eAzure Functionsの位置づけ\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#azurefunctions%E3%81%AE%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E3%81%A8webjobs%E3%81%A8%E3%81%AE%E9%81%95%E3%81%84\"\u003eAzure FunctionsのアーキテクチャとWebJobsとの違い\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%AE%9F%E9%9A%9B%E3%81%AE%E9%96%8B%E7%99%BA\"\u003e実際の開発\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%BE%E3%81%9A%E6%96%B0%E3%81%97%E3%81%84function%E3%82%92%E4%BD%9C%E3%81%A3%E3%81%A6%E3%81%BF%E3%81%BE%E3%81%97%E3%82%87%E3%81%86\"\u003eまず、新しいFunctionを作ってみましょう\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%B6%9A%E3%81%84%E3%81%A6function%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%82%92%E3%81%97%E3%81%A6%E3%81%84%E3%81%8D%E3%81%BE%E3%81%99\"\u003e続いてFunctionの設定をしていきます。\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%AC%A1%E3%81%AB%E3%82%A2%E3%82%A6%E3%83%88%E3%83%97%E3%83%83%E3%83%88%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%81%A7%E3%81%99\"\u003e次にアウトプットの設定です。\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB%E3%82%B3%E3%83%BC%E3%83%89%E3%82%92%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%84%E3%81%8D%E3%81%BE%E3%81%97%E3%82%87%E3%81%86\"\u003e最後に、コードを書いていきましょう。\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#azure-functions%E5%88%A9%E7%94%A8%E3%82%B7%E3%83%BC%E3%83%B3\"\u003eAzure Functions利用シーン\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%8B%E3%81%9F%E5%B0%8F%E3%81%95%E3%81%8F%E5%A7%8B%E3%82%81%E3%82%8B\"\u003eはじめかた=小さく始める\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%88%A9%E7%94%A8%E6%B3%95%E3%81%AE%E6%B3%A8%E6%84%8F\"\u003e利用法の注意\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%88%A9%E7%94%A8%E6%96%B9%E6%B3%95%E3%81%AE%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88\"\u003e利用方法のポイント\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%AD%E3%82%B0%E3%81%AE%E7%89%B9%E5%BE%B4\"\u003eログの特徴\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4%E3%81%A8%E3%82%A4%E3%83%B3%E3%83%86%E3%82%B0%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3\"\u003eデプロイとインテグレーション\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%96%99%E9%87%91\"\u003e料金\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#app-service-plan\"\u003eApp Service Plan\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#dynamic-service-plan\"\u003eDynamic Service Plan\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%A9%B3%E7%B4%B0%E6%83%85%E5%A0%B1\"\u003e詳細情報\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#azure-functions%E5%B0%8F%E3%81%95%E3%81%8F%E5%A7%8B%E3%82%81%E3%81%A6%E3%81%BF%E3%81%BE%E3%81%97%E3%82%87%E3%81%86\"\u003eAzure Functions、小さく始めてみましょう\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e","totalPv":36796,"uuid":"f7b2aec5211951dd7622","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"sUNkcYZVxsxuiwy56ouKmPXeaz01--M7izyg1MuL235/XQ--y/PrKH2znw5Oa9RuE4gwuA==","originalId":131046,"description":"AppDev@Microsoft","facebookUrl":"https://facebook.com/yuhattor","githubUrl":"https://github.com/yuhattor","isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":"https://www.linkedin.com/in/yukihattori","name":"Yuki Hattori","profileImageUrl":"https://qiita-image-store.s3.amazonaws.com/0/131046/profile-images/1547197899","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Fprofile-images%2F1547197899?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=0412e977893261919168889d6be36498","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F131046%2Fprofile-images%2F1547197899?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=8db850940974ead3c404b65a5f13f9f7","urlName":"yuhattor","websiteUrl":"","twitterUrl":"https://twitter.com/yuhattor","twitterUrlName":"yuhattor","revealedOrganizations":{"edges":[]}},"tags":[{"name":"AWS","urlName":"aws"},{"name":"C#","urlName":"csharp"},{"name":"Azure","urlName":"azure"},{"name":"lambda","urlName":"lambda"},{"name":"serverless","urlName":"serverless"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
