using System.Diagnostics;
using System.IO;
using System.Windows;
using Windows.UI.Notifications;
using Notification.Wpf;

namespace LivetNotifyWpfTest01.Views
{
    public partial class MainWindow
    {
        private readonly NotificationManager _notificationManager = new NotificationManager();

        public MainWindow()
        {
            InitializeComponent();
        }

        /// &lt;summary&gt;
        /// Notification.Wpfã§ã®é€šçŸ¥
        /// &lt;/summary&gt;
        /// &lt;param name="sender"&gt;&lt;/param&gt;
        /// &lt;param name="e"&gt;&lt;/param&gt;
        private void button_Click(object sender, RoutedEventArgs e)
        {
            var content = new NotificationContent {Title = "ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦å†…ã®é€šçŸ¥ã‚„ã§ãƒ¼", Message = "æ¨ã—ã¦"};
            var clickContent = new NotificationContent
            {
                Title = "æ¨ã•ã‚ŒãŸï¼ğŸ’›",
                Message = "ã†ã€ã†ãŠãƒ¼ãƒ¼ãƒ¼ã€‚ã«ã£ã½ã”ãƒ¼ãƒ¼",
                Type = NotificationType.Error
            };
            _notificationManager.Show(content, "WindowArea", onClick: () =&gt; _notificationManager.Show(clickContent));

        }

        /// &lt;summary&gt;
        /// WinRTã‚’ä½¿ã£ãŸé€šçŸ¥
        /// &lt;/summary&gt;
        /// &lt;param name="sender"&gt;&lt;/param&gt;
        /// &lt;param name="e"&gt;&lt;/param&gt;
        private void button_Click2(object sender, RoutedEventArgs e)
        {
            var template = ToastTemplateType.ToastImageAndText02;
            var xml = ToastNotificationManager.GetTemplateContent(template);

            var images = xml.GetElementsByTagName("image");
            var src = images[0].Attributes.GetNamedItem("src");
            if (src != null)
            {
                src.InnerText = "file:///" + Path.GetFullPath("Resources\\giant.png");
                Debug.WriteLine(src.InnerText);
            }

            var texts = xml.GetElementsByTagName("text");
            texts[0].AppendChild(xml.CreateTextNode("ã®ã³å¤ªï½ã€‚"));
            texts[1].AppendChild(xml.CreateTextNode("ã‚¸ãƒ£ã‚¤å­ãŒå®¶ã«æ¥ã¦ã»ã—ã„ã£ã¦ã•ï½"));

            var toast = new ToastNotification(xml);

            ToastNotificationManager.CreateToastNotifier("ğŸ¤© é€š çŸ¥ ğŸ¤©").Show(toast);
        }

    }
}

