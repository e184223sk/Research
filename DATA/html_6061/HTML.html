<!DOCTYPE html><html><head><meta charset="utf-8" /><title>[読書メモ].NETのエンタープライズアプリケーションアーキテクチャ第２版を読んだメモ１ - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/tassi-yuzukko/items/f251da0d27daa325c560" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="PEJltnC1y5y6pdbVwI06tKGuSaWCfZiJmBy9WjQ2GUjHUD+V5ySQ0c6WgHQBwEkgaHGj2N5jWZuAkW4O2Jvn+g==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta property="og:type" content="article"><meta property="og:title" content="[読書メモ].NETのエンタープライズアプリケーションアーキテクチャ第２版を読んだメモ１ - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1XLWlxcmVhYnVPT0RvZU9Eb2wwdVRrVlU0NEd1NDRLbzQ0T3o0NEtfNDRPODQ0T1g0NE9wNDRLazQ0SzY0NEtpNDRPWDQ0T3E0NEt4NDRPODQ0SzM0NE9uNDRPejQ0S2k0NE84NDRLdDQ0T0c0NEt2NDRPQjQ0T2o1NnlzNzd5UzU0bUk0NEtTNktxdDQ0S1Q0NEdnNDRPaDQ0T2k3N3lSJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NTQmdHh0LWNsaXA9ZWxsaXBzaXMmdHh0LWFsaWduPWNlbnRlciUyQ21pZGRsZSZzPWNjYWZiNzM5Yjg1Zjg3NGNiMWFkYzllYzdkMGFhYTkx&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RSFJoYzNOcExYbDFlblZyYTI4JnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NDUmdHh0LWFsaWduPXJpZ2h0JTJDYm90dG9tJnM9N2YzOThlNWQxNDhmNjVmNGEyNjM2NGQzMzQ4MDNjNzA&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=2f10b480dbdcfcdd95a1664fba432c70"><meta property="og:description" content="

モチベーション

会社にあった「.NETのエンタープライズアプリケーションアーキテクチャ第２版」がなかなか興味深いし勉強になるので読書メモ。
本当は、本に書き込みたい派なんだけど、会社のものに書き込むわけにはいかないので、読書メモ..."><meta content="https://qiita.com/tassi-yuzukko/items/f251da0d27daa325c560" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,オブジェクト指向,アーキテクチャ" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 1nzh4zz 38fzdi helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-1nzh4zz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 32px;background-color:#FBE69E;color:rgba(0,0,0,0.87);line-height:1.5;font-weight:600;}@media (max-width:770px){.css-1nzh4zz{padding:16px;}}.css-38fzdi{color:#CA832A;margin-right:4px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-4e3d7171-3dc1-41ba-80e3-fad302cdc3b0"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2Ftassi-yuzukko%2Fitems%2Ff251da0d27daa325c560">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2Ftassi-yuzukko%2Fitems%2Ff251da0d27daa325c560">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-4e3d7171-3dc1-41ba-80e3-fad302cdc3b0">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2017-09-10T00:29:57.000+09:00","dateModified":"2017-09-10T07:19:53.000+09:00","headline":"[読書メモ].NETのエンタープライズアプリケーションアーキテクチャ第２版を読んだメモ１","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1XLWlxcmVhYnVPT0RvZU9Eb2wwdVRrVlU0NEd1NDRLbzQ0T3o0NEtfNDRPODQ0T1g0NE9wNDRLazQ0SzY0NEtpNDRPWDQ0T3E0NEt4NDRPODQ0SzM0NE9uNDRPejQ0S2k0NE84NDRLdDQ0T0c0NEt2NDRPQjQ0T2o1NnlzNzd5UzU0bUk0NEtTNktxdDQ0S1Q0NEdnNDRPaDQ0T2k3N3lSJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NTQmdHh0LWNsaXA9ZWxsaXBzaXMmdHh0LWFsaWduPWNlbnRlciUyQ21pZGRsZSZzPWNjYWZiNzM5Yjg1Zjg3NGNiMWFkYzllYzdkMGFhYTkx\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RSFJoYzNOcExYbDFlblZyYTI4JnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NDUmdHh0LWFsaWduPXJpZ2h0JTJDYm90dG9tJnM9N2YzOThlNWQxNDhmNjVmNGEyNjM2NGQzMzQ4MDNjNzA\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=2f10b480dbdcfcdd95a1664fba432c70","mainEntityOfPage":"https://qiita.com/tassi-yuzukko/items/f251da0d27daa325c560","author":{"@type":"Person","address":null,"email":null,"identifier":"tassi-yuzukko","name":"tassi-yuzukko","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F132272%2Fprofile-images%2F1473718569?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=a8be6eb48db8609fd79cbeee3b4f63ea","url":"https://qiita.com/tassi-yuzukko","description":null,"memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://increments.connpass.com/event/211948/">【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup</a><a target="_blank" id="header_text_message_2" href="https://increments.connpass.com/event/211948/">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"tassi-yuzukko","type":"items","id":"f251da0d27daa325c560"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"tassi-yuzukko","type":"items","id":"f251da0d27daa325c560"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":2,"pos_id":"header_text_message_1","message":"【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"tassi-yuzukko","type":"items","id":"f251da0d27daa325c560"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":2,"pos_id":"header_text_message_2","message":"【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/tassi-yuzukko/items/f251da0d27daa325c560","location":"/tassi-yuzukko/items/f251da0d27daa325c560","scheme":"https","host":"qiita.com","port":null,"pathname":"/tassi-yuzukko/items/f251da0d27daa325c560","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"SnCQnD/Q6ftzx4GKcedXzwQrJOLNBAuWO1MU+Llq6cqxYsq/qEGytgf01yuwqiRbzfTOn5EayoQj3sesVccXeA==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-d6ca266f-55b5-434c-a472-8145289d79c6"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/tassi-yuzukko/items/f251da0d27daa325c560/likers" class="css-1iupg5d">1</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">8</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/f251da0d27daa325c560/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/tassi-yuzukko/items/f251da0d27daa325c560/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/tassi-yuzukko/items/f251da0d27daa325c560/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/tassi-yuzukko/items/f251da0d27daa325c560/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/tassi-yuzukko/items/f251da0d27daa325c560.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-1nzh4zz"><span class="fa fa-fw fa-warning css-38fzdi"></span><p>More than 3 years have passed since last update.</p></div><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/tassi-yuzukko"><img class="css-100alwu eyfquo10" src="https://qiita-image-store.s3.amazonaws.com/0/132272/profile-images/1473718569" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/tassi-yuzukko" class="css-10ougpm">@<!-- -->tassi-yuzukko</a><div class="css-1ay9vb9"><span><meta content="2017-09-09T15:29:57Z"/><time dateTime="2017-09-09T22:19:53Z" class="css-m19uds">updated at 2017-09-09</time></span></div></div></div></div></div><h1 class="css-cgzq40">[読書メモ].NETのエンタープライズアプリケーションアーキテクチャ第２版を読んだメモ１</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/%e3%82%aa%e3%83%96%e3%82%b8%e3%82%a7%e3%82%af%e3%83%88%e6%8c%87%e5%90%91" class="css-4czcte">オブジェクト指向</a><a href="/tags/%e3%82%a2%e3%83%bc%e3%82%ad%e3%83%86%e3%82%af%e3%83%81%e3%83%a3" class="css-4czcte">アーキテクチャ</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div>
<h1>
<span id="モチベーション" class="fragment"></span><a href="#%E3%83%A2%E3%83%81%E3%83%99%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3"><i class="fa fa-link"></i></a>モチベーション</h1>

<p>会社にあった「<a href="http://ec.nikkeibp.co.jp/item/books/P98480.html" rel="nofollow noopener" target="_blank">.NETのエンタープライズアプリケーションアーキテクチャ第２版</a>」がなかなか興味深いし勉強になるので読書メモ。<br>
本当は、本に書き込みたい派なんだけど、会社のものに書き込むわけにはいかないので、読書メモとして残しておく。</p>

<h1>
<span id="概要" class="fragment"></span><a href="#%E6%A6%82%E8%A6%81"><i class="fa fa-link"></i></a>概要</h1>

<p>内容としては、オブジェクト指向の基礎や、DDDについてのことなど、個人的に興味を引く内容の本です。<br>
ただ、高い！技術書って高い！</p>

<p>基本、備忘録として残すのを前提としているので、メモの順番には規則性がない可能性があります。</p>

<h1>
<span id="第３章-ソフトウェアの設計原則" class="fragment"></span><a href="#%E7%AC%AC%EF%BC%93%E7%AB%A0-%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E3%81%AE%E8%A8%AD%E8%A8%88%E5%8E%9F%E5%89%87"><i class="fa fa-link"></i></a>第３章 ソフトウェアの設計原則</h1>

<p><del><font color="Red">Code Contract ライブラリ（3.4.2 ソフトウェア契約）については必読！！</font></del><br>
VS2017では Code Contract ライブラリが非対応とのこと<sup id="fnref1"><a href="#fn1" title="https://github.com/Microsoft/CodeContracts/issues/476">1</a></sup>。もちろん .NET Core でも非対応<sup id="fnref2"><a href="#fn2" title="https://stackoverflow.com/questions/42706669/code-contracts-in-net-core">2</a></sup>。<br>
こんな素晴らしい機能がなんで非対応になってんの・・・。<br>
ってことで、後半部分は、2017/09現在では事実上役に立ちません。</p>

<h2>
<span id="322-インターフェイスに対するプログラミング" class="fragment"></span><a href="#322-%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E3%81%AB%E5%AF%BE%E3%81%99%E3%82%8B%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0"><i class="fa fa-link"></i></a>3.2.2 インターフェイスに対するプログラミング</h2>

<p>当たり前だけど、クラスの呼び出し元とクラスの呼ばれた側の間には依存関係が生まれる。<br>
ログ機能などの<font color="Blue"><strong>横断的関心事</strong>については、依存関係が発生しないようにしたほうがいい。</font></p>

<p>横断的関心事とは・・・  </p>

<blockquote>
<p>クラスに設定された要件に対して厳密には関係のない機能のこと。<br>
例えばログ、エラー処理、など。</p>
</blockquote>

<p>要はいろいろなクラスで共通的に使われるものが該当すると思う。</p>

<p>依存関係が発生しないようにする手段として、DI や Service Locator パターンを使用して、インターフェイスに依存するようにして依存性を解消する方法がある。</p>

<h2>
<span id="323-合成と継承" class="fragment"></span><a href="#323-%E5%90%88%E6%88%90%E3%81%A8%E7%B6%99%E6%89%BF"><i class="fa fa-link"></i></a>3.2.3 合成と継承</h2>

<p>クラスの再利用の手段として、合成（ブラックボックス）と継承（ホワイトボックス）がある。<br>
継承では、基底クラスと最強度の密結合になる。<br>
対して、合成では、基底クラスのインスタンスを保持する新しいクラスを作る。こちらのほうが依存関係はあるが、疎結合になる。（たぶん委譲による結合）<br>
基本的には、<font color="Blue">クラスを再利用する場合は、継承するよりも合成にしたほうが、リスクが低い</font>。</p>

<h2>
<span id="331-solid原則" class="fragment"></span><a href="#331-solid%E5%8E%9F%E5%89%87"><i class="fa fa-link"></i></a>3.3.1 SOLID原則</h2>

<p>ソフトウェアデザインのための基本原則。これは最低限覚えておきたい。</p>

<h3>
<span id="単一責任の原則srpsingle-responsibility-principle" class="fragment"></span><a href="#%E5%8D%98%E4%B8%80%E8%B2%AC%E4%BB%BB%E3%81%AE%E5%8E%9F%E5%89%87srpsingle-responsibility-principle"><i class="fa fa-link"></i></a>単一責任の原則（SRP：Single Responsibility Principle）</h3>

<blockquote>
<p>クラスを変更する理由は常に１つでなければならない</p>
</blockquote>

<p>ただしこれを突き詰めると貧血クラス（プロパティだけで振る舞いがないデータクラス）になるので、程ほどに。</p>

<h3>
<span id="開放閉鎖の原則ocpopen-closed-principle" class="fragment"></span><a href="#%E9%96%8B%E6%94%BE%E9%96%89%E9%8E%96%E3%81%AE%E5%8E%9F%E5%89%87ocpopen-closed-principle"><i class="fa fa-link"></i></a>開放／閉鎖の原則（OCP：Open-Closed Principle）</h3>

<blockquote>
<p>モジュールは、拡張に対して開いていなければならず、修正に対して閉じていなければならない</p>
</blockquote>

<ul>
<li>開放→関連する機能の拡張に対しては開いている必要がある

<ul>
<li>たとえばログ出力クラスに出力レベルErrorとInfoがあった場合、Fatalを追加することに開いておく必要がある。</li>
</ul>
</li>
<li>閉鎖→拡張時に、関連する既存コードを変更しなくてもよいようにする

<ul>
<li>たとえば上記のログ出力クラスに関しては、Fatalを追加したからと言って、ErrorやInfoのログ出力メソッドに変更が発生しないようにする</li>
</ul>
</li>
</ul>

<h3>
<span id="リスコフの置換原則lspliskov-substitution-principle" class="fragment"></span><a href="#%E3%83%AA%E3%82%B9%E3%82%B3%E3%83%95%E3%81%AE%E7%BD%AE%E6%8F%9B%E5%8E%9F%E5%89%87lspliskov-substitution-principle"><i class="fa fa-link"></i></a>リスコフの置換原則（LSP：Liskov Substitution Principle）</h3>

<blockquote>
<p>サブクラスをその基底クラスと置き換えることができなければならない</p>
</blockquote>

<p>継承に関する原則。</p>

<blockquote>
<p>LSPの本質は、派生クラスが基底クラスの実行条件を制限できないことにある。</p>
</blockquote>

<p>↑どゆこと？<br>
基底クラスが持つ事前条件に、派生クラスが事前条件を追加するようなことはNG。<br>
ここは、言っていることはわかるが、なんでなのかがよくわかってないので勉強する必要がある。</p>

<h3>
<span id="インターフェイス分離の原則ispthe-interface-segregation-principle" class="fragment"></span><a href="#%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E5%88%86%E9%9B%A2%E3%81%AE%E5%8E%9F%E5%89%87ispthe-interface-segregation-principle"><i class="fa fa-link"></i></a>インターフェイス分離の原則（ISP:the Interface Segregation Principle）</h3>

<blockquote>
<p>クライアントが使用しないインターフェイスにクライアントを強制的に依存させてはならない</p>
</blockquote>

<p>インターフェイスを肥大化させないようにする。<br>
つまり、インターフェイスも機能ごとに分離させましょうねっとこと。</p>

<h3>
<span id="依存関係逆転の原則dipdependency-inversion-principle" class="fragment"></span><a href="#%E4%BE%9D%E5%AD%98%E9%96%A2%E4%BF%82%E9%80%86%E8%BB%A2%E3%81%AE%E5%8E%9F%E5%89%87dipdependency-inversion-principle"><i class="fa fa-link"></i></a>依存関係逆転の原則（DIP：Dependency Inversion Principle）</h3>

<blockquote>
<p>上位モジュールを下位モジュールに依存させるのではなく、両方のモジュールを抽象化に依存させるべきである。</p>
</blockquote>

<p>まんまその通り。対応方法には DI パターンや Service Locator パターンがある。前にまとめたので<a href="http://qiita.com/tassi-yuzukko/items/a81a7b9aaa42198df689" id="reference-c3293a26f055a2c022ae">こちら</a>を参照。</p>

<h2>
<span id="341-if-then-throw-パターン" class="fragment"></span><a href="#341-if-then-throw-%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3"><i class="fa fa-link"></i></a>3.4.1 If-Then-Throw パターン</h2>

<p>防御的プログラミングの一環で、引数チェックをして、以上なら例外を返すという方法がある。</p>

<ul>
<li>コンストラクタで適用すると効果的</li>
<li>基本的にはパブリックなメソッドに対して行う。<font color="Blue">プライベートなメソッドはクラスの内側でしか呼ばれないので、作成者が把握しているはずだから引数チェックは不要。</font>
</li>
<li>しかしこれはメソッドの事前条件の評価のみで、不変条件や事後条件については何もできない。

<ul>
<li>それらに対しては、「契約による設計」の考え方を導入する必要がある。</li>
</ul>
</li>
</ul>

<p>ここでもやはり、契約による設計が言及されている</p>

<h2>
<span id="342-ソフトウェア契約" class="fragment"></span><a href="#342-%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E5%A5%91%E7%B4%84"><i class="fa fa-link"></i></a>3.4.2 ソフトウェア契約</h2>

<p>.NET Framework 4 で追加された <code>Code Contracts</code> ライブラリでソフトウェア契約が作成できるらしい。</p>

<blockquote>
<p>ソフトウェア契約の実装では、構文の詳細に関係なく、クラスメソッドを記述する際は常に以下の質問に答えられるようにする必要がある。<br>
・どのような条件下でメソッドを呼び出せるか（<strong>事前条件</strong>）<br>
・メソッドの終了後にどのような条件が検証されるか（<strong>事後条件</strong>）<br>
・メソッドの実行の前と後で変化しない条件は何か（<strong>不変条件</strong>）</p>
</blockquote>

<h3>
<span id="事前条件" class="fragment"></span><a href="#%E4%BA%8B%E5%89%8D%E6%9D%A1%E4%BB%B6"><i class="fa fa-link"></i></a>事前条件</h3>

<blockquote>
<p>事前条件とは、メソッドの実行を開始する前に検証しなければならない Boolean 条件のこと。<br>
以下の２つのこと。<br>
・入力パラメータに対する条件<br>
・メソッドが定義されているクラスの現在の状態に対する条件<br>
概念的には、事前条件は If-Then-Throw パターンと同じ。</p>
</blockquote>

<p>以下のように、<code>Contract.Requires&lt;T&gt;(bool 事前条件)</code>という構文で、事前条件を表現できる。<br>
事前条件が満たされない場合、<code>&lt;T&gt;</code>で指定した例外がスローされる。</p>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre><code><span class="k">public</span> <span class="nf">FooClass</span><span class="p">(</span><span class="kt">string</span> <span class="n">id</span><span class="p">,</span> <span class="kt">string</span> <span class="n">name</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Contract</span><span class="p">.</span><span class="n">Requires</span><span class="p">&lt;</span><span class="n">ArgumentException</span><span class="p">&gt;(</span><span class="n">id</span><span class="p">.</span><span class="nf">IsAlphaNumetric</span><span class="p">(</span><span class="m">5</span><span class="p">,</span> <span class="m">5</span><span class="p">);</span> <span class="c1">// idは５桁の数値であること</span>
    <span class="n">Contract</span><span class="p">.</span><span class="n">Requires</span><span class="p">&lt;</span><span class="n">ArgumentException</span><span class="p">&gt;(!</span><span class="n">name</span><span class="p">.</span><span class="nf">IsNullOrWhitespace</span><span class="p">());</span> <span class="c1">// nameがNULLまたはスペースのみでないこと</span>
<span class="p">}</span>
</code></pre></div></div>

<p><code>Code Contracts</code> ライブラリの表現方法によるメリットは以下がある</p>

<ul>
<li>通常の If-Then-Throw パターンでは、「条件に合致しない場合」というように否定で表現するが、<code>Contract.Requires&lt;T&gt;</code> では、事前条件を肯定で表現できるので直感的である

<ul>
<li>→ テストコードが書きやすい</li>
</ul>
</li>
<li>ちゃんとコードを記述すると、<font color="Blue">コードが説明になるため、引数のコメントが不要になる</font>

<ul>
<li>引数コメントはコードと同期がとれなかったりしてコードレビュー等で無駄な指摘を受けるので、これは大きい！</li>
</ul>
</li>
</ul>

<h3>
<span id="事後条件" class="fragment"></span><a href="#%E4%BA%8B%E5%BE%8C%E6%9D%A1%E4%BB%B6"><i class="fa fa-link"></i></a>事後条件</h3>

<blockquote>
<p>事後条件とは、メソッドによって生成される出力と、オブジェクトの状態に対する変更のこと。<br>
メソッドから制御を戻すときに Boolean 条件で表現される。</p>
</blockquote>

<p>以下のように、 <code>Contract.Ensures</code> と <code>Contract.Result&lt;T&gt;</code> メソッドで表現することができる。</p>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre><code><span class="k">public</span> <span class="kt">int</span> <span class="nf">Abs</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// 事後条件の表明</span>
    <span class="n">Contract</span><span class="p">.</span><span class="nf">Ensures</span><span class="p">(</span> 
        <span class="n">Contract</span><span class="p">.</span><span class="n">Result</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;()</span> <span class="p">&gt;=</span> <span class="m">0</span>  <span class="c1">// 事後条件</span>
    <span class="p">);</span> 

    <span class="k">if</span><span class="p">(</span><span class="n">x</span> <span class="p">==</span> <span class="n">y</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="m">0</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">x</span> <span class="p">&gt;</span> <span class="n">y</span> <span class="p">?</span> <span class="n">x</span> <span class="p">-</span> <span class="n">y</span> <span class="p">:</span> <span class="n">y</span> <span class="p">-</span> <span class="n">x</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>メソッドの最初に事後条件を表明することができる。<br>
また、もし事後条件を満たせなかった場合は、 <code>ContractException</code> 例外がスローされる。</p>

<h3>
<span id="不変条件" class="fragment"></span><a href="#%E4%B8%8D%E5%A4%89%E6%9D%A1%E4%BB%B6"><i class="fa fa-link"></i></a>不変条件</h3>

<blockquote>
<p>不変条件とは、コンストラクタやセッターなど、パブリックメソッドの実行中に変化しないクラスメンバーに適用される Boolean 条件のこと。<br>
オブジェクトが論理的に矛盾した状態になるのを絶対に避けなければならないシナリオでは、常に不変条件が使用される。</p>
</blockquote>

<p>以下のように、 <code>Contract.Invariant</code> メソッドで表現することができる。</p>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre><code><span class="k">class</span> <span class="nc">News</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Title</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Body</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

    <span class="p">[</span><span class="n">ContractInvariantMethod</span><span class="p">]</span>
    <span class="k">void</span> <span class="nf">InvaliantMethod</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">Contract</span><span class="p">.</span><span class="nf">Invariant</span><span class="p">(!</span><span class="kt">string</span><span class="p">.</span><span class="nf">IsNullOrEmpty</span><span class="p">(</span><span class="n">Title</span><span class="p">));</span>
        <span class="n">Contract</span><span class="p">.</span><span class="nf">Invariant</span><span class="p">(!</span><span class="kt">string</span><span class="p">.</span><span class="nf">IsNullOrEmpty</span><span class="p">(</span><span class="n">Body</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>と、ここまで書いてきたが、 Code Contract が VS2017 に非対応ということがわかった。<br>
なんやねんそれ・・・<br>
こういう機能こそ、求められてるものだと思うんだけど。C# 7.1 なんて作ってる(ry</p>

<div class="footnotes">
<hr>
<ol>

<li id="fn1">
<p><a href="https://github.com/Microsoft/CodeContracts/issues/476" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/Microsoft/CodeContracts/issues/476</a> <a href="#fnref1">↩</a></p>
</li>

<li id="fn2">
<p><a href="https://stackoverflow.com/questions/42706669/code-contracts-in-net-core" class="autolink" rel="nofollow noopener" target="_blank">https://stackoverflow.com/questions/42706669/code-contracts-in-net-core</a> <a href="#fnref2">↩</a></p>
</li>

</ol>
</div>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2Ftassi-yuzukko%2Fitems%2Ff251da0d27daa325c560&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2Ftassi-yuzukko%2Fitems%2Ff251da0d27daa325c560&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/tassi-yuzukko/items/f251da0d27daa325c560/likers" class="css-1iupg5d">1</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">8</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/f251da0d27daa325c560/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/tassi-yuzukko/items/f251da0d27daa325c560/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/tassi-yuzukko/items/f251da0d27daa325c560/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/tassi-yuzukko/items/f251da0d27daa325c560/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/tassi-yuzukko/items/f251da0d27daa325c560.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-d6ca266f-55b5-434c-a472-8145289d79c6">{"authorAnalyticsTrackingId":"UA-106182313-1","organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-873820b3-b8c3-4c09-9856-7492f3a094c9"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-873820b3-b8c3-4c09-9856-7492f3a094c9">{}</script>
      
<div id="LoginModal-react-component-02bfb7e6-4397-4047-b0e8-27414f4bcba6"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-02bfb7e6-4397-4047-b0e8-27414f4bcba6">{}</script>
      
<div id="StockModal-react-component-88c2f486-cde5-4cc1-b0cd-003cbcd55110"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-88c2f486-cde5-4cc1-b0cd-003cbcd55110">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;w6xxUTmvcDOlDOLvlXJqNPao25SOwbsVjE1ffLoQ7JY4vityrj4rftE/tE5UPxmgP3cx6dLfegeUwIwoVr0SJA==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\n\u003ch1\u003e\n\u003cspan id=\"モチベーション\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%A2%E3%83%81%E3%83%99%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eモチベーション\u003c/h1\u003e\n\n\u003cp\u003e会社にあった「\u003ca href=\"http://ec.nikkeibp.co.jp/item/books/P98480.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003e.NETのエンタープライズアプリケーションアーキテクチャ第２版\u003c/a\u003e」がなかなか興味深いし勉強になるので読書メモ。\u003cbr\u003e\n本当は、本に書き込みたい派なんだけど、会社のものに書き込むわけにはいかないので、読書メモとして残しておく。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"概要\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%A6%82%E8%A6%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e概要\u003c/h1\u003e\n\n\u003cp\u003e内容としては、オブジェクト指向の基礎や、DDDについてのことなど、個人的に興味を引く内容の本です。\u003cbr\u003e\nただ、高い！技術書って高い！\u003c/p\u003e\n\n\u003cp\u003e基本、備忘録として残すのを前提としているので、メモの順番には規則性がない可能性があります。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"第３章-ソフトウェアの設計原則\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%AC%AC%EF%BC%93%E7%AB%A0-%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E3%81%AE%E8%A8%AD%E8%A8%88%E5%8E%9F%E5%89%87\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e第３章 ソフトウェアの設計原則\u003c/h1\u003e\n\n\u003cp\u003e\u003cdel\u003e\u003cfont color=\"Red\"\u003eCode Contract ライブラリ（3.4.2 ソフトウェア契約）については必読！！\u003c/font\u003e\u003c/del\u003e\u003cbr\u003e\nVS2017では Code Contract ライブラリが非対応とのこと\u003csup id=\"fnref1\"\u003e\u003ca href=\"#fn1\" title=\"https://github.com/Microsoft/CodeContracts/issues/476\"\u003e1\u003c/a\u003e\u003c/sup\u003e。もちろん .NET Core でも非対応\u003csup id=\"fnref2\"\u003e\u003ca href=\"#fn2\" title=\"https://stackoverflow.com/questions/42706669/code-contracts-in-net-core\"\u003e2\u003c/a\u003e\u003c/sup\u003e。\u003cbr\u003e\nこんな素晴らしい機能がなんで非対応になってんの・・・。\u003cbr\u003e\nってことで、後半部分は、2017/09現在では事実上役に立ちません。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"322-インターフェイスに対するプログラミング\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#322-%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E3%81%AB%E5%AF%BE%E3%81%99%E3%82%8B%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.2.2 インターフェイスに対するプログラミング\u003c/h2\u003e\n\n\u003cp\u003e当たり前だけど、クラスの呼び出し元とクラスの呼ばれた側の間には依存関係が生まれる。\u003cbr\u003e\nログ機能などの\u003cfont color=\"Blue\"\u003e\u003cstrong\u003e横断的関心事\u003c/strong\u003eについては、依存関係が発生しないようにしたほうがいい。\u003c/font\u003e\u003c/p\u003e\n\n\u003cp\u003e横断的関心事とは・・・  \u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003eクラスに設定された要件に対して厳密には関係のない機能のこと。\u003cbr\u003e\n例えばログ、エラー処理、など。\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003e要はいろいろなクラスで共通的に使われるものが該当すると思う。\u003c/p\u003e\n\n\u003cp\u003e依存関係が発生しないようにする手段として、DI や Service Locator パターンを使用して、インターフェイスに依存するようにして依存性を解消する方法がある。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"323-合成と継承\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#323-%E5%90%88%E6%88%90%E3%81%A8%E7%B6%99%E6%89%BF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.2.3 合成と継承\u003c/h2\u003e\n\n\u003cp\u003eクラスの再利用の手段として、合成（ブラックボックス）と継承（ホワイトボックス）がある。\u003cbr\u003e\n継承では、基底クラスと最強度の密結合になる。\u003cbr\u003e\n対して、合成では、基底クラスのインスタンスを保持する新しいクラスを作る。こちらのほうが依存関係はあるが、疎結合になる。（たぶん委譲による結合）\u003cbr\u003e\n基本的には、\u003cfont color=\"Blue\"\u003eクラスを再利用する場合は、継承するよりも合成にしたほうが、リスクが低い\u003c/font\u003e。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"331-solid原則\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#331-solid%E5%8E%9F%E5%89%87\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.3.1 SOLID原則\u003c/h2\u003e\n\n\u003cp\u003eソフトウェアデザインのための基本原則。これは最低限覚えておきたい。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"単一責任の原則srpsingle-responsibility-principle\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8D%98%E4%B8%80%E8%B2%AC%E4%BB%BB%E3%81%AE%E5%8E%9F%E5%89%87srpsingle-responsibility-principle\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e単一責任の原則（SRP：Single Responsibility Principle）\u003c/h3\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003eクラスを変更する理由は常に１つでなければならない\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003eただしこれを突き詰めると貧血クラス（プロパティだけで振る舞いがないデータクラス）になるので、程ほどに。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"開放閉鎖の原則ocpopen-closed-principle\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%96%8B%E6%94%BE%E9%96%89%E9%8E%96%E3%81%AE%E5%8E%9F%E5%89%87ocpopen-closed-principle\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e開放／閉鎖の原則（OCP：Open-Closed Principle）\u003c/h3\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003eモジュールは、拡張に対して開いていなければならず、修正に対して閉じていなければならない\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cul\u003e\n\u003cli\u003e開放→関連する機能の拡張に対しては開いている必要がある\n\n\u003cul\u003e\n\u003cli\u003eたとえばログ出力クラスに出力レベルErrorとInfoがあった場合、Fatalを追加することに開いておく必要がある。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e閉鎖→拡張時に、関連する既存コードを変更しなくてもよいようにする\n\n\u003cul\u003e\n\u003cli\u003eたとえば上記のログ出力クラスに関しては、Fatalを追加したからと言って、ErrorやInfoのログ出力メソッドに変更が発生しないようにする\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"リスコフの置換原則lspliskov-substitution-principle\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AA%E3%82%B9%E3%82%B3%E3%83%95%E3%81%AE%E7%BD%AE%E6%8F%9B%E5%8E%9F%E5%89%87lspliskov-substitution-principle\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eリスコフの置換原則（LSP：Liskov Substitution Principle）\u003c/h3\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003eサブクラスをその基底クラスと置き換えることができなければならない\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003e継承に関する原則。\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003eLSPの本質は、派生クラスが基底クラスの実行条件を制限できないことにある。\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003e↑どゆこと？\u003cbr\u003e\n基底クラスが持つ事前条件に、派生クラスが事前条件を追加するようなことはNG。\u003cbr\u003e\nここは、言っていることはわかるが、なんでなのかがよくわかってないので勉強する必要がある。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"インターフェイス分離の原則ispthe-interface-segregation-principle\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E5%88%86%E9%9B%A2%E3%81%AE%E5%8E%9F%E5%89%87ispthe-interface-segregation-principle\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eインターフェイス分離の原則（ISP:the Interface Segregation Principle）\u003c/h3\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003eクライアントが使用しないインターフェイスにクライアントを強制的に依存させてはならない\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003eインターフェイスを肥大化させないようにする。\u003cbr\u003e\nつまり、インターフェイスも機能ごとに分離させましょうねっとこと。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"依存関係逆転の原則dipdependency-inversion-principle\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BE%9D%E5%AD%98%E9%96%A2%E4%BF%82%E9%80%86%E8%BB%A2%E3%81%AE%E5%8E%9F%E5%89%87dipdependency-inversion-principle\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e依存関係逆転の原則（DIP：Dependency Inversion Principle）\u003c/h3\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003e上位モジュールを下位モジュールに依存させるのではなく、両方のモジュールを抽象化に依存させるべきである。\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003eまんまその通り。対応方法には DI パターンや Service Locator パターンがある。前にまとめたので\u003ca href=\"http://qiita.com/tassi-yuzukko/items/a81a7b9aaa42198df689\" id=\"reference-c3293a26f055a2c022ae\"\u003eこちら\u003c/a\u003eを参照。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"341-if-then-throw-パターン\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#341-if-then-throw-%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.4.1 If-Then-Throw パターン\u003c/h2\u003e\n\n\u003cp\u003e防御的プログラミングの一環で、引数チェックをして、以上なら例外を返すという方法がある。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eコンストラクタで適用すると効果的\u003c/li\u003e\n\u003cli\u003e基本的にはパブリックなメソッドに対して行う。\u003cfont color=\"Blue\"\u003eプライベートなメソッドはクラスの内側でしか呼ばれないので、作成者が把握しているはずだから引数チェックは不要。\u003c/font\u003e\n\u003c/li\u003e\n\u003cli\u003eしかしこれはメソッドの事前条件の評価のみで、不変条件や事後条件については何もできない。\n\n\u003cul\u003e\n\u003cli\u003eそれらに対しては、「契約による設計」の考え方を導入する必要がある。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eここでもやはり、契約による設計が言及されている\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"342-ソフトウェア契約\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#342-%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E5%A5%91%E7%B4%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.4.2 ソフトウェア契約\u003c/h2\u003e\n\n\u003cp\u003e.NET Framework 4 で追加された \u003ccode\u003eCode Contracts\u003c/code\u003e ライブラリでソフトウェア契約が作成できるらしい。\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003eソフトウェア契約の実装では、構文の詳細に関係なく、クラスメソッドを記述する際は常に以下の質問に答えられるようにする必要がある。\u003cbr\u003e\n・どのような条件下でメソッドを呼び出せるか（\u003cstrong\u003e事前条件\u003c/strong\u003e）\u003cbr\u003e\n・メソッドの終了後にどのような条件が検証されるか（\u003cstrong\u003e事後条件\u003c/strong\u003e）\u003cbr\u003e\n・メソッドの実行の前と後で変化しない条件は何か（\u003cstrong\u003e不変条件\u003c/strong\u003e）\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"事前条件\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BA%8B%E5%89%8D%E6%9D%A1%E4%BB%B6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e事前条件\u003c/h3\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003e事前条件とは、メソッドの実行を開始する前に検証しなければならない Boolean 条件のこと。\u003cbr\u003e\n以下の２つのこと。\u003cbr\u003e\n・入力パラメータに対する条件\u003cbr\u003e\n・メソッドが定義されているクラスの現在の状態に対する条件\u003cbr\u003e\n概念的には、事前条件は If-Then-Throw パターンと同じ。\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003e以下のように、\u003ccode\u003eContract.Requires\u0026lt;T\u0026gt;(bool 事前条件)\u003c/code\u003eという構文で、事前条件を表現できる。\u003cbr\u003e\n事前条件が満たされない場合、\u003ccode\u003e\u0026lt;T\u0026gt;\u003c/code\u003eで指定した例外がスローされる。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003eFooClass\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eContract\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eRequires\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eArgumentException\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;(\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eIsAlphaNumetric\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"c1\"\u003e// idは５桁の数値であること\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eContract\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eRequires\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eArgumentException\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;(!\u003c/span\u003e\u003cspan class=\"n\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eIsNullOrWhitespace\u003c/span\u003e\u003cspan class=\"p\"\u003e());\u003c/span\u003e \u003cspan class=\"c1\"\u003e// nameがNULLまたはスペースのみでないこと\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003eCode Contracts\u003c/code\u003e ライブラリの表現方法によるメリットは以下がある\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e通常の If-Then-Throw パターンでは、「条件に合致しない場合」というように否定で表現するが、\u003ccode\u003eContract.Requires\u0026lt;T\u0026gt;\u003c/code\u003e では、事前条件を肯定で表現できるので直感的である\n\n\u003cul\u003e\n\u003cli\u003e→ テストコードが書きやすい\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eちゃんとコードを記述すると、\u003cfont color=\"Blue\"\u003eコードが説明になるため、引数のコメントが不要になる\u003c/font\u003e\n\n\u003cul\u003e\n\u003cli\u003e引数コメントはコードと同期がとれなかったりしてコードレビュー等で無駄な指摘を受けるので、これは大きい！\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"事後条件\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BA%8B%E5%BE%8C%E6%9D%A1%E4%BB%B6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e事後条件\u003c/h3\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003e事後条件とは、メソッドによって生成される出力と、オブジェクトの状態に対する変更のこと。\u003cbr\u003e\nメソッドから制御を戻すときに Boolean 条件で表現される。\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003e以下のように、 \u003ccode\u003eContract.Ensures\u003c/code\u003e と \u003ccode\u003eContract.Result\u0026lt;T\u0026gt;\u003c/code\u003e メソッドで表現することができる。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"nf\"\u003eAbs\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// 事後条件の表明\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eContract\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eEnsures\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \n        \u003cspan class=\"n\"\u003eContract\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eResult\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;()\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// 事後条件\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e);\u003c/span\u003e \n\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"p\"\u003e?\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eメソッドの最初に事後条件を表明することができる。\u003cbr\u003e\nまた、もし事後条件を満たせなかった場合は、 \u003ccode\u003eContractException\u003c/code\u003e 例外がスローされる。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"不変条件\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%B8%8D%E5%A4%89%E6%9D%A1%E4%BB%B6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e不変条件\u003c/h3\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003e不変条件とは、コンストラクタやセッターなど、パブリックメソッドの実行中に変化しないクラスメンバーに適用される Boolean 条件のこと。\u003cbr\u003e\nオブジェクトが論理的に矛盾した状態になるのを絶対に避けなければならないシナリオでは、常に不変条件が使用される。\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003e以下のように、 \u003ccode\u003eContract.Invariant\u003c/code\u003e メソッドで表現することができる。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eNews\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eTitle\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eBody\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eContractInvariantMethod\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n    \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eInvaliantMethod\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eContract\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eInvariant\u003c/span\u003e\u003cspan class=\"p\"\u003e(!\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eIsNullOrEmpty\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eTitle\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eContract\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eInvariant\u003c/span\u003e\u003cspan class=\"p\"\u003e(!\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eIsNullOrEmpty\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eBody\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eと、ここまで書いてきたが、 Code Contract が VS2017 に非対応ということがわかった。\u003cbr\u003e\nなんやねんそれ・・・\u003cbr\u003e\nこういう機能こそ、求められてるものだと思うんだけど。C# 7.1 なんて作ってる(ry\u003c/p\u003e\n\n\u003cdiv class=\"footnotes\"\u003e\n\u003chr\u003e\n\u003col\u003e\n\n\u003cli id=\"fn1\"\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/Microsoft/CodeContracts/issues/476\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://github.com/Microsoft/CodeContracts/issues/476\u003c/a\u003e \u003ca href=\"#fnref1\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn2\"\u003e\n\u003cp\u003e\u003ca href=\"https://stackoverflow.com/questions/42706669/code-contracts-in-net-core\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://stackoverflow.com/questions/42706669/code-contracts-in-net-core\u003c/a\u003e \u003ca href=\"#fnref2\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003c/ol\u003e\n\u003c/div\u003e\n","createdAt":"2017-09-09T15:29:57Z","elapsedYearsFromLastModifiedAt":3,"encryptedId":"3a8jSw9uwhERQ5Pp3hHv2zDJ52kAsC/H--wS2GJSSZijKhGUUt--k9LaEZU9OVV+xW2yRkZsRQ==","isBanned":false,"isDeprecated":true,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2017-09-09T22:19:53Z","likesCount":1,"linkUrl":"https://qiita.com/tassi-yuzukko/items/f251da0d27daa325c560","organization":null,"originalId":522383,"stockedCount":8,"title":"[読書メモ].NETのエンタープライズアプリケーションアーキテクチャ第２版を読んだメモ１","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%A2%E3%83%81%E3%83%99%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3\"\u003eモチベーション\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%A6%82%E8%A6%81\"\u003e概要\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%AC%AC%EF%BC%93%E7%AB%A0-%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E3%81%AE%E8%A8%AD%E8%A8%88%E5%8E%9F%E5%89%87\"\u003e第３章 ソフトウェアの設計原則\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#322-%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E3%81%AB%E5%AF%BE%E3%81%99%E3%82%8B%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0\"\u003e3.2.2 インターフェイスに対するプログラミング\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#323-%E5%90%88%E6%88%90%E3%81%A8%E7%B6%99%E6%89%BF\"\u003e3.2.3 合成と継承\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#331-solid%E5%8E%9F%E5%89%87\"\u003e3.3.1 SOLID原則\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%8D%98%E4%B8%80%E8%B2%AC%E4%BB%BB%E3%81%AE%E5%8E%9F%E5%89%87srpsingle-responsibility-principle\"\u003e単一責任の原則（SRP：Single Responsibility Principle）\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E9%96%8B%E6%94%BE%E9%96%89%E9%8E%96%E3%81%AE%E5%8E%9F%E5%89%87ocpopen-closed-principle\"\u003e開放／閉鎖の原則（OCP：Open-Closed Principle）\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%AA%E3%82%B9%E3%82%B3%E3%83%95%E3%81%AE%E7%BD%AE%E6%8F%9B%E5%8E%9F%E5%89%87lspliskov-substitution-principle\"\u003eリスコフの置換原則（LSP：Liskov Substitution Principle）\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E5%88%86%E9%9B%A2%E3%81%AE%E5%8E%9F%E5%89%87ispthe-interface-segregation-principle\"\u003eインターフェイス分離の原則（ISP:the Interface Segregation Principle）\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E4%BE%9D%E5%AD%98%E9%96%A2%E4%BF%82%E9%80%86%E8%BB%A2%E3%81%AE%E5%8E%9F%E5%89%87dipdependency-inversion-principle\"\u003e依存関係逆転の原則（DIP：Dependency Inversion Principle）\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#341-if-then-throw-%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3\"\u003e3.4.1 If-Then-Throw パターン\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#342-%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E5%A5%91%E7%B4%84\"\u003e3.4.2 ソフトウェア契約\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E4%BA%8B%E5%89%8D%E6%9D%A1%E4%BB%B6\"\u003e事前条件\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E4%BA%8B%E5%BE%8C%E6%9D%A1%E4%BB%B6\"\u003e事後条件\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E4%B8%8D%E5%A4%89%E6%9D%A1%E4%BB%B6\"\u003e不変条件\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","totalPv":2061,"uuid":"f251da0d27daa325c560","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"ZBaCD3sP49Mah/p1xlAI8RrNkEgB--+hS+R4sT39dWkTj7--EKsSx5dfvdbMQVb8mKMgIw==","originalId":132272,"description":"","facebookUrl":null,"githubUrl":"https://github.com/tassi-yuzukko","isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"","profileImageUrl":"https://qiita-image-store.s3.amazonaws.com/0/132272/profile-images/1473718569","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F132272%2Fprofile-images%2F1473718569?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=ecae99c82d80071e796745b29d91645e","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F132272%2Fprofile-images%2F1473718569?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=a8be6eb48db8609fd79cbeee3b4f63ea","urlName":"tassi-yuzukko","websiteUrl":null,"twitterUrl":null,"twitterUrlName":null,"revealedOrganizations":{"edges":[]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"オブジェクト指向","urlName":"%e3%82%aa%e3%83%96%e3%82%b8%e3%82%a7%e3%82%af%e3%83%88%e6%8c%87%e5%90%91"},{"name":"アーキテクチャ","urlName":"%e3%82%a2%e3%83%bc%e3%82%ad%e3%83%86%e3%82%af%e3%83%81%e3%83%a3"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
