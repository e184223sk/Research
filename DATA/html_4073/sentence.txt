More than 1 year has passed since last update.天体の位置を計算するパラメーターは、海上保安庁の海洋情報部から提供されている。
世界が世界ならブルマーが提供してくれるはず海上保安庁が出している情報だけあって、目視観測が目的になっている。そのため、太陽、月、金星、火星、木星、土星、といった、観測しやすい天体が記載されている。天文・暦情報下の方の"コンピュータによる天体の位置計算式 (天測暦/天測略暦付録)"に計算方法のPDFや数値が書かれたTXTのリンクが有る。
平成21年から31年までの範囲のデータが有る。年末が近くなると翌年分のデータが提供される。とりあえず手っ取り早く動作確認したかったので、値をソースコードに埋め込んでいる。
データのコピペが面倒だったので太陽と金星と火星のみ扱っている。エクセルでグラフ化してみた。
各軸の符号は気にしないように。。。計算結果は地球を中心とした極座標系で得られるので、直交座標系に変換し、惑星の位置は太陽との差を取る。
また、この図では$x = \sin(ra \div 12 \times \pi) \cos(dec \div 180 \times \pi) dist$のように計算しているが、これは地球の極軸の延長線上から見た形なので、公転面に対する自転軸の傾斜分、つぶれた形になっている。プログラムを簡単にするために、1月0日からの経過日数をDateTimeOffsetの差、TimeSpan.TotalDaysで得ているが、うるう年やうるう秒の処理について問題があるかもしれない。


