WPF標準のDatePickerはユーザーにカレンダーから日付を選ばせることができるイカしたコントロールですが、そのまま使うと全ての日付が選択できてしまいます。
そこで、BlackoutDatesプロパティに選べない日付を設定することで制御できますが、実際のところ選べる日付をBinding等で設定したいときもあり、今回はそれを実現します。添付プロパティを使います。以上。
なお私の手元ではMaterialDesignInXAMLを導入しているので、標準のコントロールと見た目が異なりますが、本質的にやっていることは同じです。気になる方はこちらから導入してみてください。ここではプロジェクトのViewsフォルダの下にBehaviorsフォルダを作って、その中にDatePickerAssistという名前のクラスを作成します。そこにDatePickerにくっつける添付プロパティSelectableDatesを定義します。ちなみにいつも全部書くのは大変なので、Visual Studioのpropaスニペットを使っています。今回はViewModelでObservableCollection&lt;DateTime&gt;型のプロパティとして選択可能な日付を定義して、そいつを↑で作った添付プロパティにBindingしてあげます。とりあえず5日分だけ定義してあげました。こいつをBindingします。以下ではBehaviors名前空間をbで呼び出しています。実行するとこんな感じ。Datesプロパティで設定した日付だけがきちんと選べるようになっています。この実装だと2020/2/1以前と2020/2/17以降はそもそも表示されず、期間内で選べない日はグレーアウトになります。
※デフォルトのDatePickerコントロールでは、選べない日付には×(バツ)マークが付きます。



