【Unity(C#)】テクスチャを画像データに変換して端末に保存、読み込み
↑前回の続きです。今回は保存した画像データに文字列の情報も付与して保存したいと思います。画像と文字列を1つの塊として構造体を定義します。
その構造体をJson形式として保存します。
読み込み時にはその構造体をデシリアライズします。コードの構成は下記です。
①構造体
②Json変換Utilityクラス
③構造体を保存、読み込みするクラスまずは構造体を定義します。
画像のバイナリデータはFile.WriteAllBytesで書き込むので
構造体に持たせるデータは画像データの保存先のパスとしました。次に構造体をJson形式に変換するクラスを定義します。
【参考リンク】：【Unity(C#)】JsonUtilityを使ったセーブ、ロードの実装構造体を保存、読み込みするクラスです。
他にもいろいろやってますが、サンプルなので良しとします。新しくディレクトリを作って保存先のパスとして利用する方法が地味に詰まりました。
Directory.Existsでディレクトリが存在しているか確認して
分岐処理を用意しないとエラーが出ました。上品なイラストとそのイラストの名前として入力した文字列を保存し、
読み込むことに成功しました。


