こちらの記事を読んで、少しC#サーバーに興味が出てきたので試して見ようと思いました。まずはASP.NET Core Webをdockerで動かすことからはじめようと思います。windowsではなくmacで開発を行います。
macでの開発に慣れているのでmacで開発します！
また、プロジェクトの作成などはmacで行います。
なので事前にmacに.NET Coreをインストールしています。
バージョンは上に示した通りです。まずはこちらの「ASP.NET Core 空」を作成します。
この時macで作成しています。これで完成です。次にDockerfileを準備します。
microsoft/dotnetのコンテナを使用します。次にdocker-compose.ymlを作成します。特に特別なことはしていません。
 commandを["dotnet", "watch", "run"]にしています。
こうすることでコードを編集した時に自動で変更を検知して、再ビルド・実行してくれます。
開発の際には便利なので、このようにしています。次にProgram.csにUseUrls("http://*:5000")を追加します。このようにすることで、localhost以外からのアクセスが可能になります。
ASP.NET Core の Web ホスト # サーバーの URLこれで準備完了です。ここからは普通にdocker composeを起動させます。起動したら、ブラウザからhttp://localhost:5000にアクセスします。上のような感じで表示出来たら成功です。完成したものは以下のリポジトリにおいてあります。かなり簡単にASP.NETのwebアプリケーションをdockerで動かことができました。
今後はwebフレームワークやDBを使った開発のサンプルを作ってみたいと思います。


