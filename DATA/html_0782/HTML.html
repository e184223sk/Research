<!DOCTYPE html><html><head><meta charset="utf-8" /><title>【C#】インターフェイスの利点が理解できない人は「インターフェイスには３つのタイプがある」ことを理解しよう - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/yutorisan/items/d28386f168f2f3ab166d" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="fKmpu2BHDr3+/E7Ycx9ETslXLyDB75i962DyZqPCW/rl3cme3QmGV9WKXjr5OyuA3UM9E6C8itnBddTIGpdPQg==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta content="@yutorisan19" name="twitter:creator" /><meta property="og:type" content="article"><meta property="og:title" content="【C#】インターフェイスの利点が理解できない人は「インターフェイスには３つのタイプがある」ことを理解しよう - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND00NENRUXlQamdKSGpncVRqZzdQamdyX2pnN3pqZzVYamdxZmpncVRqZ3JuamdhN2xpS25uZ3JuamdZem5rSWJvcDZQamdhZmpnWTNqZ2FyamdZVGt1cnJqZ2FfamdJempncVRqZzdQamdyX2pnN3pqZzVYamdxZmpncVRqZ3JuamdhdmpnYV92dkpQamdhVGpnYTdqZ3JfamdxVGpnNWZqZ1l6amdZTGpnb3ZqZ0kzamdaUGpnYWpqZ3BMbmtJYm9wNlBqZ1pmamdvampnWVkmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT01NCZ0eHQtY2xpcD1lbGxpcHNpcyZ0eHQtYWxpZ249Y2VudGVyJTJDbWlkZGxlJnM9ZjBlMTk4YmY3MGI1OTUxMGFiYjY2MDU4Y2UyNzBjMjA&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RSGwxZEc5eWFYTmhiZyZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPTgxODZjNmQyOWMyMjMwNjA0NDYxZjBhZTI0ODQ3YzI4&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=89a25d7904361f72e827fd2ef63a5fb3"><meta property="og:description" content="

はじめに

C#を始めとするオブジェクト指向言語には「インターフェイス」という機能があります。
これを使うと良い設計になるというのはよく言われていますが、具体的にインターフェイスを使うとどう良いことがあるのか、というのは実感しづら..."><meta content="https://qiita.com/yutorisan/items/d28386f168f2f3ab166d" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,オブジェクト指向,初心者,interface,ポリモーフィズム" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-3bd8f9ae-e843-4d87-8551-9ae1e8cb77dd"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2Fyutorisan%2Fitems%2Fd28386f168f2f3ab166d">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2Fyutorisan%2Fitems%2Fd28386f168f2f3ab166d">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-3bd8f9ae-e843-4d87-8551-9ae1e8cb77dd">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2020-09-09T02:03:42.000+09:00","dateModified":"2020-09-15T22:52:46.000+09:00","headline":"【C#】インターフェイスの利点が理解できない人は「インターフェイスには３つのタイプがある」ことを理解しよう","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND00NENRUXlQamdKSGpncVRqZzdQamdyX2pnN3pqZzVYamdxZmpncVRqZ3JuamdhN2xpS25uZ3JuamdZem5rSWJvcDZQamdhZmpnWTNqZ2FyamdZVGt1cnJqZ2FfamdJempncVRqZzdQamdyX2pnN3pqZzVYamdxZmpncVRqZ3JuamdhdmpnYV92dkpQamdhVGpnYTdqZ3JfamdxVGpnNWZqZ1l6amdZTGpnb3ZqZ0kzamdaUGpnYWpqZ3BMbmtJYm9wNlBqZ1pmamdvampnWVkmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT01NCZ0eHQtY2xpcD1lbGxpcHNpcyZ0eHQtYWxpZ249Y2VudGVyJTJDbWlkZGxlJnM9ZjBlMTk4YmY3MGI1OTUxMGFiYjY2MDU4Y2UyNzBjMjA\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RSGwxZEc5eWFYTmhiZyZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPTgxODZjNmQyOWMyMjMwNjA0NDYxZjBhZTI0ODQ3YzI4\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=89a25d7904361f72e827fd2ef63a5fb3","mainEntityOfPage":"https://qiita.com/yutorisan/items/d28386f168f2f3ab166d","author":{"@type":"Person","address":"","email":null,"identifier":"yutorisan","name":"yutorisan","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fpbs.twimg.com%2Fprofile_images%2F1274400166120812544%2FDAWcpHec_bigger.jpg?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=754be610f489085be0fdfc48de5585a9","url":"https://qiita.com/yutorisan","description":"C#が好きです","memberOf":[{"@type":"Organization","address":"オンライン@Slack","legalName":"Unityゲーム開発者ギルド","image":"https://s3-ap-northeast-1.amazonaws.com/qiita-organization-image/5e3ba3bb442371003e6b5d4618ef627b9b478357/original.jpg?1570216541","logo":"https://s3-ap-northeast-1.amazonaws.com/qiita-organization-image/f7eb993765ddcdb2c5e6890556c43ea3de8fbfb7/original.jpg?1570215690","identifier":"unity-game-dev-guild","description":"趣味・仕事問わずUnityでゲームを作っている開発者のみで構成されるオンラインコミュニティです。Unityでゲームを開発・運用するにあたって必要なあらゆる知見を共有することを目的とします。"}]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://zine.qiita.com/interview/202107-line-growth-technology/?utm_source=qiita&amp;utm_medium=header-banner">LINEグループの成長を担うLINE Growth Technologyのこれまでとこれから</a><a target="_blank" id="header_text_message_2" href="https://zine.qiita.com/interview/202107-line-growth-technology/?utm_source=qiita&amp;utm_medium=header-banner">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"yutorisan","type":"items","id":"d28386f168f2f3ab166d"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"LINEグループの成長を担うLINE Growth Technologyのこれまでとこれから","url":"https://zine.qiita.com/interview/202107-line-growth-technology/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"yutorisan","type":"items","id":"d28386f168f2f3ab166d"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":1,"pos_id":"header_text_message_1","message":"LINEグループの成長を担うLINE Growth Technologyのこれまでとこれから","url":"https://zine.qiita.com/interview/202107-line-growth-technology/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"yutorisan","type":"items","id":"d28386f168f2f3ab166d"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":1,"pos_id":"header_text_message_2","message":"LINEグループの成長を担うLINE Growth Technologyのこれまでとこれから","url":"https://zine.qiita.com/interview/202107-line-growth-technology/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/yutorisan/items/d28386f168f2f3ab166d","location":"/yutorisan/items/d28386f168f2f3ab166d","scheme":"https","host":"qiita.com","port":null,"pathname":"/yutorisan/items/d28386f168f2f3ab166d","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"Q5zwzZPzTd8MB9FqxnxM2FEukJMiYJiOaXpONpJJokba6JDoLr3FNSdxwYhMWCMWRTqCoEMziupDb2iYKxy2/g==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-0a190009-a34a-4e16-b2f2-474a10f3b38c"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/yutorisan/items/d28386f168f2f3ab166d/likers" class="css-1iupg5d">1180</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">1099</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/d28386f168f2f3ab166d/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/yutorisan/items/d28386f168f2f3ab166d/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/yutorisan/items/d28386f168f2f3ab166d/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/yutorisan/items/d28386f168f2f3ab166d/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/yutorisan/items/d28386f168f2f3ab166d.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/yutorisan"><img class="css-100alwu eyfquo10" src="https://pbs.twimg.com/profile_images/1274400166120812544/DAWcpHec_bigger.jpg" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/yutorisan" class="css-10ougpm">@<!-- -->yutorisan</a><div class="css-1ay9vb9"><span><meta content="2020-09-08T17:03:42Z"/><time dateTime="2020-09-15T13:52:46Z" class="css-m19uds">updated at 2020-09-15</time></span></div></div></div></div></div><h1 class="css-cgzq40">【C#】インターフェイスの利点が理解できない人は「インターフェイスには３つのタイプがある」ことを理解しよう</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/%e3%82%aa%e3%83%96%e3%82%b8%e3%82%a7%e3%82%af%e3%83%88%e6%8c%87%e5%90%91" class="css-4czcte">オブジェクト指向</a><a href="/tags/%e5%88%9d%e5%bf%83%e8%80%85" class="css-4czcte">初心者</a><a href="/tags/interface" class="css-4czcte">interface</a><a href="/tags/%e3%83%9d%e3%83%aa%e3%83%a2%e3%83%bc%e3%83%95%e3%82%a3%e3%82%ba%e3%83%a0" class="css-4czcte">ポリモーフィズム</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div>
<h2>
<span id="はじめに" class="fragment"></span><a href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB"><i class="fa fa-link"></i></a>はじめに</h2>

<p>C#を始めとするオブジェクト指向言語には「インターフェイス」という機能があります。<br>
これを使うと良い設計になるというのはよく言われていますが、具体的にインターフェイスを使うとどう良いことがあるのか、というのは実感しづらい人も多いと思います。</p>

<p>僕もC#学びたての頃はほんとうにインターフェイスの利点が理解できず苦しみました。しかし、この記事で説明する「<strong>インターフェイスには３つのタイプがある</strong>」ことを理解して以来、<strong>もうインターフェイスが便利すぎて、インターフェイスなしではコーディングできない体質になってしまいました</strong>。</p>

<p>そこでこの記事では、インターフェイスを使う利点がいまいち理解できていない人が、インターフェイスを使いたくて使いたくて仕方がなくなるようにすることを目的として書きました。</p>

<p>注意点として、僕はC#の開発者でもなければ指導者でもないので、あくまで個人的な意見として参考にしていただけるとうれしいです。<br>
間違っていたり、意見がお有りの方は、ぜひコメントでお知らせください。</p>

<h2>
<span id="インターフェイスについてよくある間違い" class="fragment"></span><a href="#%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6%E3%82%88%E3%81%8F%E3%81%82%E3%82%8B%E9%96%93%E9%81%95%E3%81%84"><i class="fa fa-link"></i></a>インターフェイスについて「よくある間違い」</h2>

<p>インターフェイスについて、以下のような間違いがよくされています。</p>

<ul>
<li>インターフェイスは、ポリモーフィズムを実現するためだけに存在する</li>
<li>インターフェイスは、複数のクラスに実装しないと意味がない</li>
</ul>

<p>僕もC#学びたての頃はよくこのような勘違いをしていて、そのせいでまったく理解が進みませんでした。<br>
しかし、これらは間違いです。</p>

<p>インターフェイスは、<strong>これによってポリモーフィズムが実現されなくても大きな意味がある</strong>し、<strong>たった一つのクラスにしか実装されないインターフェイスにも、重要な意味があります</strong>。</p>

<p>これらの混乱が生じる原因として、一言に「インターフェイス」と言っても<strong>３つのタイプが存在する</strong>からではないかと考えました。</p>

<h3>
<span id="３つのタイプのインターフェイス" class="fragment"></span><a href="#%EF%BC%93%E3%81%A4%E3%81%AE%E3%82%BF%E3%82%A4%E3%83%97%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9"><i class="fa fa-link"></i></a>３つのタイプのインターフェイス</h3>

<p>インターフェイスは、以下の３つのタイプに分けられます。</p>

<p><strong>1. 疎結合を目的としたインターフェイス<br>
2. クラスの機能を保証することを目的としたインターフェイス<br>
3. クラスへの安全なアクセスを提供することを目的としたインターフェイス</strong></p>

<p>コードだけを見ていると、<strong>どのインターフェイスも同じように使われているように見えますが、実はその目的は全く異なる</strong>ことがあるわけです。</p>

<h3>
<span id="よくあるインターフェイスの説明は分かりづらい" class="fragment"></span><a href="#%E3%82%88%E3%81%8F%E3%81%82%E3%82%8B%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E3%81%AE%E8%AA%AC%E6%98%8E%E3%81%AF%E5%88%86%E3%81%8B%E3%82%8A%E3%81%A5%E3%82%89%E3%81%84"><i class="fa fa-link"></i></a>よくあるインターフェイスの説明は分かりづらい</h3>

<p>また、インターフェイスの説明は分かりづらいものが多すぎます。<br>
「C# インターフェイス　とは」などで調べると出てくるよくある説明に次のようなものがあります。</p>

<p>「<strong>インターフェイスは、実装するクラスにメソッドの実装を強制するものです</strong>」</p>

<p>これがよくわからないんですよね。<br>
メソッドの実装を強制されるとどんないいことがあるのかわかりません。</p>

<p>また、「インターフェイス」という名前からも想像がつかない機能というか。<br>
<strong>なぜ「メソッドの実装を強制する」という機能に「インターフェイス」という名前が付けられているのかわかりません</strong>。</p>

<p>これは、上記の<strong>「インターフェイスは、実装するクラスにメソッドの実装を強制するものです」という説明が、インターフェイスの本質を説明したものではない</strong>から、混乱が生じるんだと思います。</p>

<h2>
<span id="じゃあインターフェイスの本質ってなに" class="fragment"></span><a href="#%E3%81%98%E3%82%83%E3%81%82%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E3%81%AE%E6%9C%AC%E8%B3%AA%E3%81%A3%E3%81%A6%E3%81%AA%E3%81%AB"><i class="fa fa-link"></i></a>じゃあインターフェイスの本質ってなに</h2>

<p>インターフェイスとは「インターフェイス」です。<br>
「ユーザーインターフェイス」とかの「インターフェイス」と同じ意味です。</p>

<p>では何のインターフェイスかというと、<strong>クラスのインターフェイス</strong>です。<br>
もっと言うと、「<strong>クラスにアクセスするためのインターフェイス</strong>」といえます。</p>

<p>「クラスにアクセスするためのインターフェイス？別にインターフェイスがなくても普通に<code>インスタンス名.メンバ名</code>でアクセスできるが？」と思うかもしれません。<br>
ところが、インターフェイスがないと大きな問題となる場合がたくさんあります。</p>

<h3>
<span id="qiitapostクラスで考えてみる" class="fragment"></span><a href="#qiitapost%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%A7%E8%80%83%E3%81%88%E3%81%A6%E3%81%BF%E3%82%8B"><i class="fa fa-link"></i></a>QiitaPostクラスで考えてみる</h3>

<p>例えば以下のような、<strong>Qiitaの記事</strong>を表す<code>QiitaPost</code>クラスを考えてみます。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code>
<span class="k">class</span> <span class="nc">QiitaPost</span> 
<span class="p">{</span>
    <span class="k">private</span> <span class="kt">string</span> <span class="n">m_title</span><span class="p">;</span>
    <span class="k">private</span> <span class="kt">string</span> <span class="n">m_text</span><span class="p">;</span>

    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// タイトルと本文を入力して、記事を新規作成します。</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="c1">/// &lt;param name="title"&gt;記事タイトル&lt;/param&gt;</span>
    <span class="c1">/// &lt;param name="text"&gt;記事本文&lt;/param&gt;</span>
    <span class="k">public</span> <span class="nf">QiitaPost</span><span class="p">(</span><span class="kt">string</span> <span class="n">title</span><span class="p">,</span> <span class="kt">string</span> <span class="n">text</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="n">m_title</span> <span class="p">=</span> <span class="n">title</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="n">m_text</span> <span class="p">=</span> <span class="n">text</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// 記事のURL</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="k">public</span> <span class="n">Uri</span> <span class="n">PostURL</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// 記事タイトル</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Title</span> <span class="p">=&gt;</span> <span class="n">m_title</span><span class="p">;</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// 記事本文</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Text</span> <span class="p">=&gt;</span> <span class="n">m_text</span><span class="p">;</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// LGTM数</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">LGTMCount</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">private</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// ストック数</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">StockCount</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">private</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// LGTMする</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">LGTM</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="p">++</span><span class="n">LGTMCount</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// ストックする</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">Stock</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="p">++</span><span class="n">StockCount</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// 記事を削除する</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">Delete</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">m_title</span> <span class="p">=</span> <span class="kt">string</span><span class="p">.</span><span class="n">Empty</span><span class="p">;</span>
        <span class="n">m_text</span> <span class="p">=</span> <span class="kt">string</span><span class="p">.</span><span class="n">Empty</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<h4>
<span id="qiitaの記事を書く人" class="fragment"></span><a href="#qiita%E3%81%AE%E8%A8%98%E4%BA%8B%E3%82%92%E6%9B%B8%E3%81%8F%E4%BA%BA"><i class="fa fa-link"></i></a>Qiitaの記事を書く人</h4>

<p>Qiitaはまず記事がなきゃ始まりません。<br>
記事を書く人がこの<code>QiitaPost</code>クラスのインスタンスを生成しました。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code>
<span class="c1">//Qiitaの記事を書いた！</span>
<span class="n">QiitaPost</span> <span class="n">post</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">QiitaPost</span><span class="p">(</span><span class="s">"タイトル"</span><span class="p">,</span> <span class="s">"本文"</span><span class="p">);</span>
</code></pre></div></div>

<p>これをQiitaのサーバーにアップロードします。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="c1">//Qiitaのサーバーに記事をアップロードした！</span>
<span class="n">QiitaServer</span><span class="p">.</span><span class="nf">Upload</span><span class="p">(</span><span class="n">post</span><span class="p">);</span>
</code></pre></div></div>

<p>これで晴れてみんなに読んでもらえます。</p>

<h4>
<span id="qiitaの記事を読む人" class="fragment"></span><a href="#qiita%E3%81%AE%E8%A8%98%E4%BA%8B%E3%82%92%E8%AA%AD%E3%82%80%E4%BA%BA"><i class="fa fa-link"></i></a>Qiitaの記事を読む人</h4>

<p>Qiitaの記事を読む人は、<code>QiitaServer</code>から記事を取得してタイトルと本文を確認します。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="c1">//Qiita記事を取得</span>
<span class="n">QiitaPost</span> <span class="n">downloadedPost</span> <span class="p">=</span> <span class="n">QiitaServer</span><span class="p">.</span><span class="nf">Download</span><span class="p">(</span><span class="s">"https://~"</span><span class="p">);</span>
<span class="c1">//取得した記事のタイトルと本文を読む</span>
<span class="kt">string</span> <span class="n">title</span> <span class="p">=</span> <span class="n">downloadedPost</span><span class="p">.</span><span class="n">Title</span><span class="p">;</span>
<span class="kt">string</span> <span class="n">text</span> <span class="p">=</span> <span class="n">downloadedPost</span><span class="p">.</span><span class="n">Text</span><span class="p">;</span>
<span class="c1">//記事をLGTMする</span>
<span class="n">downloadedPost</span><span class="p">.</span><span class="nf">LGTM</span><span class="p">();</span>
</code></pre></div></div>

<p>記事を読んだあとに良かったと思ったのでLGTMもしちゃいました。</p>

<h4>
<span id="問題点" class="fragment"></span><a href="#%E5%95%8F%E9%A1%8C%E7%82%B9"><i class="fa fa-link"></i></a>問題点</h4>

<p>さて、この<code>QiitaPost</code>クラスの問題点は、次のようなことができてしまう点です。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="c1">//Qiita記事を取得</span>
<span class="n">QiitaPost</span> <span class="n">downloadedPost</span> <span class="p">=</span> <span class="n">QiitaServer</span><span class="p">.</span><span class="nf">Download</span><span class="p">(</span><span class="s">"https://~"</span><span class="p">);</span>
<span class="c1">//取得した記事のタイトルと本文を読む</span>
<span class="kt">string</span> <span class="n">title</span> <span class="p">=</span> <span class="n">downloadedPost</span><span class="p">.</span><span class="n">Title</span><span class="p">;</span>
<span class="kt">string</span> <span class="n">text</span> <span class="p">=</span> <span class="n">downloadedPost</span><span class="p">.</span><span class="n">Text</span><span class="p">;</span>
<span class="c1">//記事をLGTMする</span>
<span class="n">downloadedPost</span><span class="p">.</span><span class="nf">LGTM</span><span class="p">();</span>

<span class="c1">//勝手に人の書いた記事を消す！！</span>
<span class="n">downloadedPost</span><span class="p">.</span><span class="nf">Delete</span><span class="p">();</span>
</code></pre></div></div>

<p>なんと、読み手が勝手に人の書いた記事を消せてしまいます。<br>
そりゃそうですよね、何しろ<code>QiitaPost</code>クラスには<code>Delete</code>メソッドが<code>public</code>で定義されているのですから…。</p>

<p>また、次のような問題も発生します。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="c1">//記事を書く</span>
<span class="n">QiitaPost</span> <span class="n">post</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">QiitaPost</span><span class="p">(</span><span class="s">"タイトル"</span><span class="p">,</span> <span class="s">"本文"</span><span class="p">);</span>
<span class="c1">//記事をアップロードする</span>
<span class="n">QiitaServer</span><span class="p">.</span><span class="nf">Upload</span><span class="p">(</span><span class="n">post</span><span class="p">);</span>
<span class="c1">//自分の記事にLGTMする！！</span>
<span class="n">post</span><span class="p">.</span><span class="nf">LGTM</span><span class="p">();</span>
</code></pre></div></div>

<p>自分の記事に自分でLGTMできちゃいます。</p>

<h3>
<span id="なぜこのような問題が起きるのか" class="fragment"></span><a href="#%E3%81%AA%E3%81%9C%E3%81%93%E3%81%AE%E3%82%88%E3%81%86%E3%81%AA%E5%95%8F%E9%A1%8C%E3%81%8C%E8%B5%B7%E3%81%8D%E3%82%8B%E3%81%AE%E3%81%8B"><i class="fa fa-link"></i></a>なぜこのような問題が起きるのか？</h3>

<p>なぜこのような問題が起きるのかというと、ズバリ「<strong><code>QiitaPost</code>クラスにアクセスするための適切なインターフェイスが定義されていないから</strong>」に尽きると思います。</p>

<p>確かに、インターフェイスがなくても<code>QiitaPost</code>クラス自体には<code>インスタンス名.メンバ名</code>でアクセスできます。<br>
アクセスできますというか、<strong>誰でも彼でもフリーでアクセスし放題</strong>です。</p>

<p>自販機で言えば、<strong>「売上金をすべて排出する」ボタンが客が触れられる場所に配置してあるようなもの</strong>です。<br>
普通の自販機は客用のインターフェイスと管理者用のインターフェイスが完全に分けられ、客は「売上金をすべて排出する」ボタンを押すことはできません。</p>

<p>それと同じで、クラスにも使用者に応じて適切なインターフェイスが定義されていないと、あとあと問題が発生することがあります。</p>

<p>これが、C#の「インターフェイス」の本質的な意味です。<br>
…と僕は思います。</p>

<h2>
<span id="qiitapostクラスにインターフェイスを定義してみる" class="fragment"></span><a href="#qiitapost%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AB%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B"><i class="fa fa-link"></i></a>QiitaPostクラスにインターフェイスを定義してみる</h2>

<p>では、実際に<code>QiitaPost</code>クラスのインターフェイスを定義して、先ほどの問題が発生しないようにしてみます。</p>

<p>記事を投稿する人には次の機能が必要でしょうか。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code>
<span class="c1">/// &lt;summary&gt;</span>
<span class="c1">/// 記事投稿者用のQiitaPostインターフェイス</span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="k">interface</span> <span class="nc">IAuthorQiitaPost</span>
<span class="p">{</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// LGTM数を取得する</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="kt">int</span> <span class="n">LGTMCount</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// ストック数を取得する</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="kt">int</span> <span class="n">StockCount</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// 記事を削除する</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="k">void</span> <span class="nf">Delete</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>

<p>記事を閲覧する人には次のようなインターフェイスを用意しました。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code>
<span class="c1">/// &lt;summary&gt;</span>
<span class="c1">/// 記事閲覧者用のQiitaPostインターフェイス</span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="k">interface</span> <span class="nc">IReaderQiitaPost</span>
<span class="p">{</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// 記事タイトルを取得する</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="kt">string</span> <span class="n">Title</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// 記事の本文を取得する</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="kt">string</span> <span class="n">Text</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// LGTM数を取得する</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="kt">int</span> <span class="n">LGTMCount</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// ストック数を取得する</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="kt">int</span> <span class="n">StockCount</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// 記事にLGTMする</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="k">void</span> <span class="nf">LGTM</span><span class="p">();</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// 記事をストックする</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="k">void</span> <span class="nf">Stock</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>

<p>おっと、ここで被っているメンバがありますね。<br>
被っているメンバは更に抽象的な<code>IQiitaPost</code>インターフェイスにまとめてしまいましょう。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code>
<span class="k">interface</span> <span class="nc">IQiitaPost</span>
<span class="p">{</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// LGTM数を取得する</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="kt">int</span> <span class="n">LGTMCount</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// ストック数を取得する</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="kt">int</span> <span class="n">StockCount</span><span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>それに伴って、<code>IAuthorQiitaPost</code>インターフェイスと<code>IReaderQiitaPost</code>インターフェイスも次のように変更します。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="c1">/// &lt;summary&gt;</span>
<span class="c1">/// 記事投稿者用のQiitaPostインターフェイス</span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="k">interface</span> <span class="nc">IAuthorQiitaPost</span> <span class="p">:</span> <span class="n">IQiitaPost</span>
<span class="p">{</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// 記事を削除する</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="k">void</span> <span class="nf">Delete</span><span class="p">();</span>
<span class="p">}</span>
<span class="c1">/// &lt;summary&gt;</span>
<span class="c1">/// 記事閲覧者用のQiitaPostインターフェイス</span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="k">interface</span> <span class="nc">IReaderQiitaPost</span> <span class="p">:</span> <span class="n">IQiitaPost</span>
<span class="p">{</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// 記事タイトルを取得する</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="kt">string</span> <span class="n">Title</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// 記事の本文を取得する</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="kt">string</span> <span class="n">Text</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// 記事にLGTMする</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="k">void</span> <span class="nf">LGTM</span><span class="p">();</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// 記事をストックする</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="k">void</span> <span class="nf">Stock</span><span class="p">();</span>
<span class="p">}</span>

</code></pre></div></div>

<p>とてもすっきりしました。</p>

<h3>
<span id="qiitapostクラスにインターフェイスを実装する" class="fragment"></span><a href="#qiitapost%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AB%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E3%82%92%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>QiitaPostクラスにインターフェイスを実装する</h3>

<p>では早速、作成したインターフェイスをQiitaPostクラスに実装させます。<br>
といっても、すでに内部実装はされているのでクラス定義のところにインターフェイス名を書くだけですね。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code>
<span class="k">class</span> <span class="nc">QiitaPost</span> <span class="p">:</span> <span class="n">IAuthorQiitaPost</span><span class="p">,</span> <span class="n">IReaderQiitaPost</span>
<span class="p">{</span>
    <span class="c1">//~略~</span>
<span class="p">}</span>
</code></pre></div></div>

<p>今回はインターフェイスに定義されたすべてのメンバが、すでに<code>QiitaPost</code>クラスに実装されているのでエラーが出ませんが、一つでも実装されていないメンバがあるとコンパイルエラーになります。<br>
これが冒頭で説明した「インターフェイスは、実装するクラスにメソッドの実装を強制するものです」という説明に通じるわけですね。</p>

<h3>
<span id="qiitapostクラスにインターフェイスを通じてアクセスさせる" class="fragment"></span><a href="#qiitapost%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AB%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E3%82%92%E9%80%9A%E3%81%98%E3%81%A6%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%81%95%E3%81%9B%E3%82%8B"><i class="fa fa-link"></i></a>QiitaPostクラスにインターフェイスを通じてアクセスさせる</h3>

<p>それでは、インターフェイスを作成したので、「Qiitaの記事を作成する人」と「Qiitaの記事を読む人」にはQiitaPostクラスに直接アクセスするのをやめてもらい、きちんとインターフェイス経由でアクセスしてもらいましょう。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code>
<span class="c1">//記事を書く</span>
<span class="n">IAuthorQiitaPost</span> <span class="n">post</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">QiitaPost</span><span class="p">(</span><span class="s">"タイトル"</span><span class="p">,</span> <span class="s">"本文"</span><span class="p">);</span>
<span class="c1">//記事をアップロードする</span>
<span class="n">QiitaServer</span><span class="p">.</span><span class="nf">Upload</span><span class="p">(</span><span class="n">post</span><span class="p">);</span>
<span class="c1">//自分の記事にLGTMできない〜〜〜</span>
<span class="c1">//post.LGTM();</span>
</code></pre></div></div>

<p><code>post</code>を<code>IAuthorQiitaPost</code>型で定義していますので、自分で自分の記事にLGTMできません。<br>
なぜなら、<code>IAuthorQiitaPost</code>インターフェイスのメンバに、<code>LGTM</code>メソッドが存在しないからです。</p>

<p>これで、記事を書いた人は自分でLGTMするとか余計なことができなくなり、おかしな使い方をされることはなくなりました。</p>

<p>続いて、記事を読む人にもインターフェイス経由で読んでもらいます。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="c1">//Qiita記事を取得</span>
<span class="n">IReaderQiitaPost</span> <span class="n">downloadedPost</span> <span class="p">=</span> <span class="n">QiitaServer</span><span class="p">.</span><span class="nf">Download</span><span class="p">(</span><span class="s">"https://~"</span><span class="p">);</span>
<span class="c1">//取得した記事のタイトルと本文を読む</span>
<span class="kt">string</span> <span class="n">title</span> <span class="p">=</span> <span class="n">downloadedPost</span><span class="p">.</span><span class="n">Title</span><span class="p">;</span>
<span class="kt">string</span> <span class="n">text</span> <span class="p">=</span> <span class="n">downloadedPost</span><span class="p">.</span><span class="n">Text</span><span class="p">;</span>
<span class="c1">//記事をLGTMする</span>
<span class="n">downloadedPost</span><span class="p">.</span><span class="nf">LGTM</span><span class="p">();</span>

<span class="c1">//勝手に人の書いた記事を消せない〜〜〜</span>
<span class="c1">//downloadedPost.Delete();</span>
</code></pre></div></div>

<p>きちんと読む人専用の<code>IReaderQiitaPost</code>インターフェイス経由で読んでもらうことで、勝手に人の記事を消すなどという酷いことはできなくなりました。</p>

<p>このように、<strong>クラスを作るときには「誰に、どのように使ってほしいか」を意識した上で、適切にインターフェイスを用意することがとても重要です</strong>。<br>
適切なインターフェイスを用意し、使う側がきちんと然るべきインターフェイス経由でクラスにアクセスするようにすることで、想定外の使い方をされて不具合が発生することを防ぐことができます。</p>

<h3>
<span id="クラスを作る前にインターフェイスから作る" class="fragment"></span><a href="#%E3%82%AF%E3%83%A9%E3%82%B9%E3%82%92%E4%BD%9C%E3%82%8B%E5%89%8D%E3%81%AB%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E3%81%8B%E3%82%89%E4%BD%9C%E3%82%8B"><i class="fa fa-link"></i></a>クラスを作る前にインターフェイスから作る</h3>

<p>もっと言えば、クラスを作成する前にまずインターフェイスから設計することが好ましいと思います。</p>

<p>クラスの使い手と使い方を意識して、まずクラスのインターフェイスを作ります。<br>
それが終わったあとに、クラスに実装させて、エラーが出なくなるまで内部の実装を書くという流れを心がけると、うっかりクラスに直接アクセスされてしまった！なんてことが少なくなると思います。</p>

<p>また、インターフェイスの設計は、クラス内部でどうやって実装しようかなどと考えることもなく、必要な機能をただ列挙していくだけなので、必要な機能を抜かりなく記述することができるというメリットもあります。</p>

<p>たとえば、今回の例だと<code>IAuthorQiitaPost</code>インターフェイスを設計するときに、「あれ、削除するだけじゃなくて編集する機能もいるな」と気づきやすくなると思います。</p>

<h2>
<span id="インターフェイスの３タイプ解説" class="fragment"></span><a href="#%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E3%81%AE%EF%BC%93%E3%82%BF%E3%82%A4%E3%83%97%E8%A7%A3%E8%AA%AC"><i class="fa fa-link"></i></a>インターフェイスの「３タイプ」解説</h2>

<p>さて、ここからが本題です。<br>
タイトルで、「インターフェイスには目的に応じて３つのタイプがある」と書きました。<br>
もう一度書くと次の３タイプです。</p>

<p><strong>1. 疎結合を目的としたインターフェイス<br>
2. クラスの機能を保証することを目的としたインターフェイス<br>
3. クラスへの安全なアクセスを提供することを目的としたインターフェイス</strong></p>

<p>前項で扱ったインターフェイスは、このうちどれにあたるでしょうか？</p>

<p>もうおわかりですね、「3.クラスへの安全なアクセスを提供することを目的としたインターフェイス」にあたります。</p>

<p>では、他の２つはどんなインターフェイスなのかを解説していきます。</p>

<h3>
<span id="1-疎結合を目的としたインターフェイス" class="fragment"></span><a href="#1-%E7%96%8E%E7%B5%90%E5%90%88%E3%82%92%E7%9B%AE%E7%9A%84%E3%81%A8%E3%81%97%E3%81%9F%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9"><i class="fa fa-link"></i></a>1. 疎結合を目的としたインターフェイス</h3>

<p>１つ目は疎結合を目的として作られるインターフェイスです。<br>
例えば次のようなものがあります。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code>
<span class="c1">//疎結合を目的として作られたインターフェイス</span>
<span class="k">interface</span> <span class="nc">ITextReader</span>
<span class="p">{</span>
    <span class="kt">string</span> <span class="nf">Read</span><span class="p">(</span><span class="kt">string</span> <span class="n">path</span><span class="p">);</span>
<span class="p">}</span> 
<span class="k">class</span> <span class="nc">TextReader</span> <span class="p">:</span> <span class="n">ITextReader</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="nf">Read</span><span class="p">(</span><span class="kt">string</span> <span class="n">path</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">//テキストファイルを読み込んだ結果を返す処理</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>この例の<code>ITestReader</code>インターフェイスは、<strong>疎結合を目的として作られたインターフェイス</strong>です。</p>

<h4>
<span id="利点1クラスへの結合を弱くして変更に強くなる" class="fragment"></span><a href="#%E5%88%A9%E7%82%B91%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%B8%E3%81%AE%E7%B5%90%E5%90%88%E3%82%92%E5%BC%B1%E3%81%8F%E3%81%97%E3%81%A6%E5%A4%89%E6%9B%B4%E3%81%AB%E5%BC%B7%E3%81%8F%E3%81%AA%E3%82%8B"><i class="fa fa-link"></i></a>利点1.クラスへの結合を弱くして変更に強くなる</h4>

<p><a href="https://camo.qiitausercontent.com/22d8418963452a91c3f3b8d1db9c24fed32098a5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3639373833302f33653366313737652d363930352d326363352d346466372d3066376531313932393932322e706e67" target="_blank" rel="nofollow noopener"><img width="400" alt="image.png" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F3e3f177e-6905-2cc5-4df7-0f7e11929922.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=2a403b49f70eee97ec6f07dc8e44a4b2" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/697830/3e3f177e-6905-2cc5-4df7-0f7e11929922.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F3e3f177e-6905-2cc5-4df7-0f7e11929922.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=6f490278e8acdea045acb64b1f8509a5 1x" loading="lazy"></a></p>

<p>使い手が、クラスに直接アクセスせずにインターフェイス経由でアクセスさせることで、クラス同士の結合度を下げることが目的です。<br>
このようにしておくことで、たとえ<code>TextReader</code>クラスに変更が生じたとしても、<code>TextReader</code>クラスが<code>ITextReader</code>インターフェイスを実装している限り、<code>User</code>側の変更は不要になります。</p>

<h4>
<span id="利点2クラスへの結合が弱いので機能追加も容易になる" class="fragment"></span><a href="#%E5%88%A9%E7%82%B92%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%B8%E3%81%AE%E7%B5%90%E5%90%88%E3%81%8C%E5%BC%B1%E3%81%84%E3%81%AE%E3%81%A7%E6%A9%9F%E8%83%BD%E8%BF%BD%E5%8A%A0%E3%82%82%E5%AE%B9%E6%98%93%E3%81%AB%E3%81%AA%E3%82%8B"><i class="fa fa-link"></i></a>利点2.クラスへの結合が弱いので機能追加も容易になる</h4>

<p>例えば、実際にテキストファイルを読み込むのではなく、デバッグ用に用意したダミーデータを読み込ませたいとします。<br>
このとき、<code>ITextReader</code>インターフェイスがあるおかげで、以下のようにすることができます。</p>

<p><a href="https://camo.qiitausercontent.com/455fd518908499f6ccffc0493622fa3674d83ee8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3639373833302f31663561383838622d656535392d653335302d363461612d3533616135643565313462612e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F1f5a888b-ee59-e350-64aa-53aa5d5e14ba.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=287a0f324f99396f076477c9665754bf" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/697830/1f5a888b-ee59-e350-64aa-53aa5d5e14ba.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F1f5a888b-ee59-e350-64aa-53aa5d5e14ba.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=ff5c019ca874dadff5a84c08828e4b1a 1x" loading="lazy"></a></p>

<p><code>ITextReader</code>インターフェイスを実装した<code>DebugTextReader</code>クラス新たに登場しています。<br>
しかし、ユーザー側はあくまで<code>ITextReader</code>インターフェイスにアクセスしています。</p>

<p>User側はただ<code>ITextReader</code>だけを知っていて、その参照先が具体的にどのクラスなのかは知りませんから、これまた<code>User</code>側の変更は不要になるのです。</p>

<h4>
<span id="このタイプのインターフェイスがないと変更がダイレクトに影響する" class="fragment"></span><a href="#%E3%81%93%E3%81%AE%E3%82%BF%E3%82%A4%E3%83%97%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E3%81%8C%E3%81%AA%E3%81%84%E3%81%A8%E5%A4%89%E6%9B%B4%E3%81%8C%E3%83%80%E3%82%A4%E3%83%AC%E3%82%AF%E3%83%88%E3%81%AB%E5%BD%B1%E9%9F%BF%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>このタイプのインターフェイスがないと変更がダイレクトに影響する</h4>

<p>以下のように、インターフェイスを用意せずにクラス同士をダイレクトにアクセスさせると、<strong><code>User</code>クラスが<code>TextReader</code>クラスの変更の影響をダイレクトに受けるようになります</strong>。<br>
<a href="https://camo.qiitausercontent.com/e96c5580d086c161b0882c7c3f7e10e329b4fbe7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3639373833302f32336635383637632d313437372d303130632d383233302d6135356439323839363234332e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F23f5867c-1477-010c-8230-a55d92896243.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=b1d0b8823b9c4a5f8a711eb386fc6f66" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/697830/23f5867c-1477-010c-8230-a55d92896243.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F23f5867c-1477-010c-8230-a55d92896243.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=322a291aed13ef48a634f6393418a7eb 1x" loading="lazy"></a></p>

<p>例えば、<code>TextReader</code>クラスの<code>Read</code>メソッドの名前が<code>Load</code>に変わったとします。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">class</span> <span class="nc">TextReader</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="nf">Load</span><span class="p">(</span><span class="kt">string</span> <span class="n">path</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">//テキストファイルを読み込んだ結果を返す処理</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<p>これだけで、<code>TextReader</code>クラスを使っている<code>User</code>側は<code>Read</code>→<code>Load</code>への変更を余儀なくされます。<br>
一つのクラスなら良いですが、これがたくさんのクラスから依存されていた場合、影響するすべてのコードを変更しなければなりません。</p>

<p>このようなことにならないよう、インターフェイスを用意しておくことで、<code>TextReader</code>クラスは必ず<code>ITextReader</code>インターフェイスに準拠した実装にならなければなりません。<br>
つまり、<strong><code>ITextReader</code>クラスを実装してさえいれば、<code>ITextReader</code>インターフェイス経由でアクセスしている他のクラスへの影響はまったくなくなる</strong>のです。</p>

<p>どうでしょう。このタイプのインターフェイスの利点がおわかりいただけたでしょうか。</p>

<h4>
<span id="理想は1クラスにつき少なくとも1インターフェイス" class="fragment"></span><a href="#%E7%90%86%E6%83%B3%E3%81%AF1%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AB%E3%81%A4%E3%81%8D%E5%B0%91%E3%81%AA%E3%81%8F%E3%81%A8%E3%82%821%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9"><i class="fa fa-link"></i></a>理想は1クラスにつき少なくとも1インターフェイス</h4>

<p><strong>どのようなクラスにも必ずアクセス用のインターフェイスを用意しておくことが理想</strong>と思います。<br>
面倒と思わずに、インターフェイスを用意しておくだけで、万が一の変更があったときに大いに役立ってくれるでしょう。</p>

<h3>
<span id="2-クラスの機能を保証することを目的としたインターフェイス" class="fragment"></span><a href="#2-%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AE%E6%A9%9F%E8%83%BD%E3%82%92%E4%BF%9D%E8%A8%BC%E3%81%99%E3%82%8B%E3%81%93%E3%81%A8%E3%82%92%E7%9B%AE%E7%9A%84%E3%81%A8%E3%81%97%E3%81%9F%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9"><i class="fa fa-link"></i></a>2. クラスの機能を保証することを目的としたインターフェイス</h3>

<p>続いて、「クラスの機能を保証することを目的としたインターフェイス」について説明します。</p>

<p>このタイプのインターフェイスは、記事の序盤で「よくあるインターフェイスの説明」として挙げた<strong>「インターフェイスは、実装するクラスにメソッドの実装を強制するもの」という説明を受けたとしても最も納得しやすいタイプ</strong>です。</p>

<p>要は、<strong>インターフェイスを実装したクラスは、そのインターフェイスに定義されたメソッドは必ず実装されるのだから、特定の機能があることが保証されますよ</strong>、ということですね。</p>

<p>このタイプのインターフェイスとして、有名なものがいくつかありますので列挙します。</p>

<table>
<thead>
<tr>
<th>インターフェイス</th>
<th>保証する機能</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>IEnumerable</code></td>
<td>foreachで回すことができる</td>
</tr>
<tr>
<td><code>IEqautable</code></td>
<td>値の等価性を評価することができる</td>
</tr>
<tr>
<td><code>IDisposable</code></td>
<td>明示的にメモリを開放することができる</td>
</tr>
<tr>
<td><code>IObservable</code></td>
<td>クラスからの通知を受け取ることができる</td>
</tr>
</tbody>
</table>

<p>例えば、<code>IEnumerable&lt;T&gt;</code>インターフェイスを実装したクラスは、<code>IEnumerator&lt;T&gt;</code>を返す<code>GetEnumerator()</code>メソッドの実装を強制されるので、foreachステートメントで回すことができることが保証されます。<br>
<code>IEquatable&lt;T&gt;</code>インターフェイスを実装したクラスは、<code>bool Equals(T other)</code>メソッドの実装を強制されるので、他のオブジェクトとの等価性を比較できることが保証されます。</p>

<p>このように、<strong>クラスに一定の機能があることを保証するために使われるインターフェイス</strong>が、このタイプです。</p>

<p>また、クラスの使い手側も、「あ、このクラスは<code>IEnumerable</code>だからforeachで回せるな」「このクラスは<code>IDisposable</code>だから使い終わったら<code>Dispose</code>しなくちゃいけないんだな」などと、<strong>クラスの定義を見ただけでそのクラスの性質を簡単に理解できることも利点の一つ</strong>ですね。</p>

<h4>
<span id="もちろんポリモーフィズムによる利点も" class="fragment"></span><a href="#%E3%82%82%E3%81%A1%E3%82%8D%E3%82%93%E3%83%9D%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%95%E3%82%A3%E3%82%BA%E3%83%A0%E3%81%AB%E3%82%88%E3%82%8B%E5%88%A9%E7%82%B9%E3%82%82"><i class="fa fa-link"></i></a>もちろんポリモーフィズムによる利点も</h4>

<p>もちろん、利点はそれだけではなく、ポリモーフィズムを利用した利点もあります。</p>

<p>例えば<code>IEnumerable&lt;T&gt;</code>インターフェイスは、<code>List&lt;T&gt;</code>, <code>Dictionary&lt;TKey, TValue&gt;</code>, <code>T[]</code>など、様々なクラスが実装しているので、<code>IEnumerable&lt;T&gt;</code>型の変数には、それを実装した様々なクラスを受けることができます。</p>

<p>例えばメソッドの引数として、<code>IEnumerable</code>で受けておけば、使う側はそこに代入できるインスタンスの選択肢が大幅に増えるわけです。<br>
逆に、メソッドの引数を<code>List</code>などの具象クラスにしてしまうと、使う側は<code>List</code>のインスタンスしか代入できなくなってしまいます。<sup id="fnref1"><a href="#fn1" title="もちろん、メソッド内でListの固有メソッドを使う場合は素直にListで受けるべきです。">1</a></sup></p>

<p>このように、ポリモーフィズムによるメリットも享受することができます。</p>

<h3>
<span id="3-クラスへの安全なアクセスを提供することを目的としたインターフェイス" class="fragment"></span><a href="#3-%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%B8%E3%81%AE%E5%AE%89%E5%85%A8%E3%81%AA%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%82%92%E6%8F%90%E4%BE%9B%E3%81%99%E3%82%8B%E3%81%93%E3%81%A8%E3%82%92%E7%9B%AE%E7%9A%84%E3%81%A8%E3%81%97%E3%81%9F%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9"><i class="fa fa-link"></i></a>3. クラスへの安全なアクセスを提供することを目的としたインターフェイス</h3>

<p>最後に、記事中盤でも解説した「クラスへの安全なアクセスを提供することを目的としたインターフェイス」です。</p>

<p>このインターフェイスの利点はもうお分かりいただけたと思うので、このタイプで有名なインターフェイスを紹介します。</p>

<table>
<thead>
<tr>
<th>インターフェイス</th>
<th>提供するアクセス</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>IReadOnlyList</code></td>
<td>
<code>List</code>を読み取り専用で提供する</td>
</tr>
<tr>
<td><code>IReadOnlyCollection</code></td>
<td>
<code>IReadOnlyList</code>から更にインデクサによるアクセスを削除</td>
</tr>
<tr>
<td><code>IReadOnlyReactiveProperty</code></td>
<td>購読と値の読み取りだけができる<code>ReactiveProperty</code>
</td>
</tr>
</tbody>
</table>

<p>見ての通り、ただ単にアクセスを制限させるものばかりですね。<br>
しかし、これが非常に重要な役割を持ちます。</p>

<p><code>List</code>をそのまま渡すのではなく、<code>IReadOnlyList</code>として渡すだけで、渡した先で勝手に書き換えられる危険性が<del>皆無</del><sup id="fnref2"><a href="#fn2" title="[2020/09/10追記]@htsign さんにご指摘いただきました。IReadOnlyListとして渡しても、IListにキャストされてしまえば普通に追加削除可能なので、危険性が「皆無」というわけではないようです。ただ、IReadOnlyListとあからさまに「リードオンリーなリスト」をわざわざ書き換え可能となるようにキャストするというのは、あまり考えられない行為と思いますので、IReadOnlyListとして渡す有用性は十分にあると感じます。もし本当に書き換えられるのを阻止したい場合、ImmutableListもしくはReadOnlyCollectionを使えば実現可能です。">2</a></sup><sup id="fnref3"><a href="#fn3" title="[2020/09/15追記]自分なりに理解してImmutableList&lt;T&gt;とReadOnlyCollection&lt;T&gt;の記事書きました。よろしければどうぞ。">3</a></sup>になりますから、これを使わない手はありません。<br>
詳しくは下記記事で詳しく解説されているので、参考にしてください。自分も大変お世話になった記事です。<br>
<a href="https://qiita.com/lobin-z0x50/items/248db6d0629c7abe47dd" class="autolink" id="reference-a6360eba4a2fa4250b72">https://qiita.com/lobin-z0x50/items/248db6d0629c7abe47dd</a></p>

<h2>
<span id="最後に" class="fragment"></span><a href="#%E6%9C%80%E5%BE%8C%E3%81%AB"><i class="fa fa-link"></i></a>最後に</h2>

<p>以上、「インターフェイス」の本質的な意味と、それからインターフェイスの３つのタイプを解説しました。</p>

<p>すごく長くなってしまいましたが、一口に「インターフェイス」と言っても、目的に応じて３つのタイプが有ることをご理解いただけたでしょうか。<br>
インターフェイスの利点があまり良くわかっていない方も、「インターフェイスには３つのタイプがある」ことを意識するだけで、ぐっと理解度が深まると思います。</p>

<p>ただ、冒頭でも書きましたがこの記事の内容は一個人の持論です。<br>
もし説明がおかしい、間違っている等の他、ご意見ご感想などありましたら、ぜひぜひコメントください。すごく喜んで返信します。</p>

<div class="footnotes">
<hr>
<ol>

<li id="fn1">
<p>もちろん、メソッド内で<code>List</code>の固有メソッドを使う場合は素直に<code>List</code>で受けるべきです。 <a href="#fnref1">↩</a></p>
</li>

<li id="fn2">
<p>[2020/09/10追記]<a href="/htsign" class="user-mention js-hovercard" title="htsign" data-hovercard-target-type="user" data-hovercard-target-name="htsign">@htsign</a> さんにご指摘いただきました。<code>IReadOnlyList</code>として渡しても、<code>IList</code>にキャストされてしまえば普通に追加削除可能なので、危険性が「皆無」というわけではないようです。ただ、<code>IReadOnlyList</code>とあからさまに「リードオンリーなリスト」をわざわざ書き換え可能となるようにキャストするというのは、あまり考えられない行為と思いますので、<code>IReadOnlyList</code>として渡す有用性は十分にあると感じます。もし本当に書き換えられるのを阻止したい場合、<code>ImmutableList</code>もしくは<code>ReadOnlyCollection</code>を使えば実現可能です。 <a href="#fnref2">↩</a></p>
</li>

<li id="fn3">
<p>[2020/09/15追記]自分なりに理解して<code>ImmutableList&lt;T&gt;</code>と<code>ReadOnlyCollection&lt;T&gt;</code>の<a href="https://qiita.com/yutorisan/items/3f5fdb1495be03e56d3c" id="reference-9ac0d18179e1be4c14e2">記事書きました</a>。よろしければどうぞ。 <a href="#fnref3">↩</a></p>
</li>

</ol>
</div>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2Fyutorisan%2Fitems%2Fd28386f168f2f3ab166d&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2Fyutorisan%2Fitems%2Fd28386f168f2f3ab166d&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/yutorisan/items/d28386f168f2f3ab166d/likers" class="css-1iupg5d">1180</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">1099</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/d28386f168f2f3ab166d/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/yutorisan/items/d28386f168f2f3ab166d/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/yutorisan/items/d28386f168f2f3ab166d/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/yutorisan/items/d28386f168f2f3ab166d/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/yutorisan/items/d28386f168f2f3ab166d.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-0a190009-a34a-4e16-b2f2-474a10f3b38c">{"authorAnalyticsTrackingId":"UA-135447292-3","organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-a315859a-f1d4-4a7f-80fe-e2ac6b185e4e"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-a315859a-f1d4-4a7f-80fe-e2ac6b185e4e">{}</script>
      
<div id="LoginModal-react-component-9f349ee4-89fa-498d-9230-bd8105504075"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-9f349ee4-89fa-498d-9230-bd8105504075">{}</script>
      
<div id="StockModal-react-component-60c97c2c-bbca-4cd8-a00b-68cdac939db1"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-60c97c2c-bbca-4cd8-a00b-68cdac939db1">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;xpJIGMhDO+isy4+cZnoJUbwVdRLKIddspFZ2MHZfrk1f5ig9dQ2zAoe9n37sXmafqAFnIatyxQiOQ1Cezwq69Q==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\n\u003ch2\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\n\u003cp\u003eC#を始めとするオブジェクト指向言語には「インターフェイス」という機能があります。\u003cbr\u003e\nこれを使うと良い設計になるというのはよく言われていますが、具体的にインターフェイスを使うとどう良いことがあるのか、というのは実感しづらい人も多いと思います。\u003c/p\u003e\n\n\u003cp\u003e僕もC#学びたての頃はほんとうにインターフェイスの利点が理解できず苦しみました。しかし、この記事で説明する「\u003cstrong\u003eインターフェイスには３つのタイプがある\u003c/strong\u003e」ことを理解して以来、\u003cstrong\u003eもうインターフェイスが便利すぎて、インターフェイスなしではコーディングできない体質になってしまいました\u003c/strong\u003e。\u003c/p\u003e\n\n\u003cp\u003eそこでこの記事では、インターフェイスを使う利点がいまいち理解できていない人が、インターフェイスを使いたくて使いたくて仕方がなくなるようにすることを目的として書きました。\u003c/p\u003e\n\n\u003cp\u003e注意点として、僕はC#の開発者でもなければ指導者でもないので、あくまで個人的な意見として参考にしていただけるとうれしいです。\u003cbr\u003e\n間違っていたり、意見がお有りの方は、ぜひコメントでお知らせください。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"インターフェイスについてよくある間違い\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6%E3%82%88%E3%81%8F%E3%81%82%E3%82%8B%E9%96%93%E9%81%95%E3%81%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eインターフェイスについて「よくある間違い」\u003c/h2\u003e\n\n\u003cp\u003eインターフェイスについて、以下のような間違いがよくされています。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eインターフェイスは、ポリモーフィズムを実現するためだけに存在する\u003c/li\u003e\n\u003cli\u003eインターフェイスは、複数のクラスに実装しないと意味がない\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e僕もC#学びたての頃はよくこのような勘違いをしていて、そのせいでまったく理解が進みませんでした。\u003cbr\u003e\nしかし、これらは間違いです。\u003c/p\u003e\n\n\u003cp\u003eインターフェイスは、\u003cstrong\u003eこれによってポリモーフィズムが実現されなくても大きな意味がある\u003c/strong\u003eし、\u003cstrong\u003eたった一つのクラスにしか実装されないインターフェイスにも、重要な意味があります\u003c/strong\u003e。\u003c/p\u003e\n\n\u003cp\u003eこれらの混乱が生じる原因として、一言に「インターフェイス」と言っても\u003cstrong\u003e３つのタイプが存在する\u003c/strong\u003eからではないかと考えました。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"３つのタイプのインターフェイス\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%EF%BC%93%E3%81%A4%E3%81%AE%E3%82%BF%E3%82%A4%E3%83%97%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e３つのタイプのインターフェイス\u003c/h3\u003e\n\n\u003cp\u003eインターフェイスは、以下の３つのタイプに分けられます。\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003e1. 疎結合を目的としたインターフェイス\u003cbr\u003e\n2. クラスの機能を保証することを目的としたインターフェイス\u003cbr\u003e\n3. クラスへの安全なアクセスを提供することを目的としたインターフェイス\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003eコードだけを見ていると、\u003cstrong\u003eどのインターフェイスも同じように使われているように見えますが、実はその目的は全く異なる\u003c/strong\u003eことがあるわけです。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"よくあるインターフェイスの説明は分かりづらい\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%88%E3%81%8F%E3%81%82%E3%82%8B%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E3%81%AE%E8%AA%AC%E6%98%8E%E3%81%AF%E5%88%86%E3%81%8B%E3%82%8A%E3%81%A5%E3%82%89%E3%81%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eよくあるインターフェイスの説明は分かりづらい\u003c/h3\u003e\n\n\u003cp\u003eまた、インターフェイスの説明は分かりづらいものが多すぎます。\u003cbr\u003e\n「C# インターフェイス　とは」などで調べると出てくるよくある説明に次のようなものがあります。\u003c/p\u003e\n\n\u003cp\u003e「\u003cstrong\u003eインターフェイスは、実装するクラスにメソッドの実装を強制するものです\u003c/strong\u003e」\u003c/p\u003e\n\n\u003cp\u003eこれがよくわからないんですよね。\u003cbr\u003e\nメソッドの実装を強制されるとどんないいことがあるのかわかりません。\u003c/p\u003e\n\n\u003cp\u003eまた、「インターフェイス」という名前からも想像がつかない機能というか。\u003cbr\u003e\n\u003cstrong\u003eなぜ「メソッドの実装を強制する」という機能に「インターフェイス」という名前が付けられているのかわかりません\u003c/strong\u003e。\u003c/p\u003e\n\n\u003cp\u003eこれは、上記の\u003cstrong\u003e「インターフェイスは、実装するクラスにメソッドの実装を強制するものです」という説明が、インターフェイスの本質を説明したものではない\u003c/strong\u003eから、混乱が生じるんだと思います。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"じゃあインターフェイスの本質ってなに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%98%E3%82%83%E3%81%82%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E3%81%AE%E6%9C%AC%E8%B3%AA%E3%81%A3%E3%81%A6%E3%81%AA%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eじゃあインターフェイスの本質ってなに\u003c/h2\u003e\n\n\u003cp\u003eインターフェイスとは「インターフェイス」です。\u003cbr\u003e\n「ユーザーインターフェイス」とかの「インターフェイス」と同じ意味です。\u003c/p\u003e\n\n\u003cp\u003eでは何のインターフェイスかというと、\u003cstrong\u003eクラスのインターフェイス\u003c/strong\u003eです。\u003cbr\u003e\nもっと言うと、「\u003cstrong\u003eクラスにアクセスするためのインターフェイス\u003c/strong\u003e」といえます。\u003c/p\u003e\n\n\u003cp\u003e「クラスにアクセスするためのインターフェイス？別にインターフェイスがなくても普通に\u003ccode\u003eインスタンス名.メンバ名\u003c/code\u003eでアクセスできるが？」と思うかもしれません。\u003cbr\u003e\nところが、インターフェイスがないと大きな問題となる場合がたくさんあります。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"qiitapostクラスで考えてみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#qiitapost%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%A7%E8%80%83%E3%81%88%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eQiitaPostクラスで考えてみる\u003c/h3\u003e\n\n\u003cp\u003e例えば以下のような、\u003cstrong\u003eQiitaの記事\u003c/strong\u003eを表す\u003ccode\u003eQiitaPost\u003c/code\u003eクラスを考えてみます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eQiitaPost\u003c/span\u003e \n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003em_title\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003em_text\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// タイトルと本文を入力して、記事を新規作成します。\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"title\"\u0026gt;記事タイトル\u0026lt;/param\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"text\"\u0026gt;記事本文\u0026lt;/param\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003eQiitaPost\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003em_title\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003em_text\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// 記事のURL\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eUri\u003c/span\u003e \u003cspan class=\"n\"\u003ePostURL\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// 記事タイトル\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eTitle\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003em_title\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// 記事本文\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eText\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003em_text\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// LGTM数\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eLGTMCount\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// ストック数\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eStockCount\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// LGTMする\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eLGTM\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e++\u003c/span\u003e\u003cspan class=\"n\"\u003eLGTMCount\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// ストックする\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eStock\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e++\u003c/span\u003e\u003cspan class=\"n\"\u003eStockCount\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// 記事を削除する\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eDelete\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003em_title\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEmpty\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"n\"\u003em_text\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEmpty\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"qiitaの記事を書く人\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#qiita%E3%81%AE%E8%A8%98%E4%BA%8B%E3%82%92%E6%9B%B8%E3%81%8F%E4%BA%BA\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eQiitaの記事を書く人\u003c/h4\u003e\n\n\u003cp\u003eQiitaはまず記事がなきゃ始まりません。\u003cbr\u003e\n記事を書く人がこの\u003ccode\u003eQiitaPost\u003c/code\u003eクラスのインスタンスを生成しました。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\n\u003cspan class=\"c1\"\u003e//Qiitaの記事を書いた！\u003c/span\u003e\n\u003cspan class=\"n\"\u003eQiitaPost\u003c/span\u003e \u003cspan class=\"n\"\u003epost\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eQiitaPost\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"タイトル\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"本文\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこれをQiitaのサーバーにアップロードします。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e//Qiitaのサーバーに記事をアップロードした！\u003c/span\u003e\n\u003cspan class=\"n\"\u003eQiitaServer\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eUpload\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003epost\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこれで晴れてみんなに読んでもらえます。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"qiitaの記事を読む人\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#qiita%E3%81%AE%E8%A8%98%E4%BA%8B%E3%82%92%E8%AA%AD%E3%82%80%E4%BA%BA\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eQiitaの記事を読む人\u003c/h4\u003e\n\n\u003cp\u003eQiitaの記事を読む人は、\u003ccode\u003eQiitaServer\u003c/code\u003eから記事を取得してタイトルと本文を確認します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e//Qiita記事を取得\u003c/span\u003e\n\u003cspan class=\"n\"\u003eQiitaPost\u003c/span\u003e \u003cspan class=\"n\"\u003edownloadedPost\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eQiitaServer\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eDownload\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"https://~\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e//取得した記事のタイトルと本文を読む\u003c/span\u003e\n\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003etitle\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003edownloadedPost\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTitle\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003etext\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003edownloadedPost\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eText\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e//記事をLGTMする\u003c/span\u003e\n\u003cspan class=\"n\"\u003edownloadedPost\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLGTM\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e記事を読んだあとに良かったと思ったのでLGTMもしちゃいました。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"問題点\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%95%8F%E9%A1%8C%E7%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e問題点\u003c/h4\u003e\n\n\u003cp\u003eさて、この\u003ccode\u003eQiitaPost\u003c/code\u003eクラスの問題点は、次のようなことができてしまう点です。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e//Qiita記事を取得\u003c/span\u003e\n\u003cspan class=\"n\"\u003eQiitaPost\u003c/span\u003e \u003cspan class=\"n\"\u003edownloadedPost\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eQiitaServer\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eDownload\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"https://~\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e//取得した記事のタイトルと本文を読む\u003c/span\u003e\n\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003etitle\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003edownloadedPost\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTitle\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003etext\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003edownloadedPost\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eText\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e//記事をLGTMする\u003c/span\u003e\n\u003cspan class=\"n\"\u003edownloadedPost\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLGTM\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e//勝手に人の書いた記事を消す！！\u003c/span\u003e\n\u003cspan class=\"n\"\u003edownloadedPost\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eDelete\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eなんと、読み手が勝手に人の書いた記事を消せてしまいます。\u003cbr\u003e\nそりゃそうですよね、何しろ\u003ccode\u003eQiitaPost\u003c/code\u003eクラスには\u003ccode\u003eDelete\u003c/code\u003eメソッドが\u003ccode\u003epublic\u003c/code\u003eで定義されているのですから…。\u003c/p\u003e\n\n\u003cp\u003eまた、次のような問題も発生します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e//記事を書く\u003c/span\u003e\n\u003cspan class=\"n\"\u003eQiitaPost\u003c/span\u003e \u003cspan class=\"n\"\u003epost\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eQiitaPost\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"タイトル\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"本文\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e//記事をアップロードする\u003c/span\u003e\n\u003cspan class=\"n\"\u003eQiitaServer\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eUpload\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003epost\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e//自分の記事にLGTMする！！\u003c/span\u003e\n\u003cspan class=\"n\"\u003epost\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLGTM\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e自分の記事に自分でLGTMできちゃいます。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"なぜこのような問題が起きるのか\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AA%E3%81%9C%E3%81%93%E3%81%AE%E3%82%88%E3%81%86%E3%81%AA%E5%95%8F%E9%A1%8C%E3%81%8C%E8%B5%B7%E3%81%8D%E3%82%8B%E3%81%AE%E3%81%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eなぜこのような問題が起きるのか？\u003c/h3\u003e\n\n\u003cp\u003eなぜこのような問題が起きるのかというと、ズバリ「\u003cstrong\u003e\u003ccode\u003eQiitaPost\u003c/code\u003eクラスにアクセスするための適切なインターフェイスが定義されていないから\u003c/strong\u003e」に尽きると思います。\u003c/p\u003e\n\n\u003cp\u003e確かに、インターフェイスがなくても\u003ccode\u003eQiitaPost\u003c/code\u003eクラス自体には\u003ccode\u003eインスタンス名.メンバ名\u003c/code\u003eでアクセスできます。\u003cbr\u003e\nアクセスできますというか、\u003cstrong\u003e誰でも彼でもフリーでアクセスし放題\u003c/strong\u003eです。\u003c/p\u003e\n\n\u003cp\u003e自販機で言えば、\u003cstrong\u003e「売上金をすべて排出する」ボタンが客が触れられる場所に配置してあるようなもの\u003c/strong\u003eです。\u003cbr\u003e\n普通の自販機は客用のインターフェイスと管理者用のインターフェイスが完全に分けられ、客は「売上金をすべて排出する」ボタンを押すことはできません。\u003c/p\u003e\n\n\u003cp\u003eそれと同じで、クラスにも使用者に応じて適切なインターフェイスが定義されていないと、あとあと問題が発生することがあります。\u003c/p\u003e\n\n\u003cp\u003eこれが、C#の「インターフェイス」の本質的な意味です。\u003cbr\u003e\n…と僕は思います。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"qiitapostクラスにインターフェイスを定義してみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#qiitapost%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AB%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eQiitaPostクラスにインターフェイスを定義してみる\u003c/h2\u003e\n\n\u003cp\u003eでは、実際に\u003ccode\u003eQiitaPost\u003c/code\u003eクラスのインターフェイスを定義して、先ほどの問題が発生しないようにしてみます。\u003c/p\u003e\n\n\u003cp\u003e記事を投稿する人には次の機能が必要でしょうか。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\n\u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e/// 記事投稿者用のQiitaPostインターフェイス\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n\u003cspan class=\"k\"\u003einterface\u003c/span\u003e \u003cspan class=\"nc\"\u003eIAuthorQiitaPost\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// LGTM数を取得する\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eLGTMCount\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// ストック数を取得する\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eStockCount\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// 記事を削除する\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eDelete\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e記事を閲覧する人には次のようなインターフェイスを用意しました。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\n\u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e/// 記事閲覧者用のQiitaPostインターフェイス\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n\u003cspan class=\"k\"\u003einterface\u003c/span\u003e \u003cspan class=\"nc\"\u003eIReaderQiitaPost\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// 記事タイトルを取得する\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eTitle\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// 記事の本文を取得する\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eText\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// LGTM数を取得する\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eLGTMCount\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// ストック数を取得する\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eStockCount\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// 記事にLGTMする\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eLGTM\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// 記事をストックする\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eStock\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eおっと、ここで被っているメンバがありますね。\u003cbr\u003e\n被っているメンバは更に抽象的な\u003ccode\u003eIQiitaPost\u003c/code\u003eインターフェイスにまとめてしまいましょう。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\n\u003cspan class=\"k\"\u003einterface\u003c/span\u003e \u003cspan class=\"nc\"\u003eIQiitaPost\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// LGTM数を取得する\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eLGTMCount\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// ストック数を取得する\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eStockCount\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eそれに伴って、\u003ccode\u003eIAuthorQiitaPost\u003c/code\u003eインターフェイスと\u003ccode\u003eIReaderQiitaPost\u003c/code\u003eインターフェイスも次のように変更します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e/// 記事投稿者用のQiitaPostインターフェイス\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n\u003cspan class=\"k\"\u003einterface\u003c/span\u003e \u003cspan class=\"nc\"\u003eIAuthorQiitaPost\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eIQiitaPost\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// 記事を削除する\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eDelete\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e/// 記事閲覧者用のQiitaPostインターフェイス\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n\u003cspan class=\"k\"\u003einterface\u003c/span\u003e \u003cspan class=\"nc\"\u003eIReaderQiitaPost\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eIQiitaPost\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// 記事タイトルを取得する\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eTitle\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// 記事の本文を取得する\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eText\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// 記事にLGTMする\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eLGTM\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// 記事をストックする\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eStock\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eとてもすっきりしました。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"qiitapostクラスにインターフェイスを実装する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#qiitapost%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AB%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E3%82%92%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eQiitaPostクラスにインターフェイスを実装する\u003c/h3\u003e\n\n\u003cp\u003eでは早速、作成したインターフェイスをQiitaPostクラスに実装させます。\u003cbr\u003e\nといっても、すでに内部実装はされているのでクラス定義のところにインターフェイス名を書くだけですね。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eQiitaPost\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eIAuthorQiitaPost\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eIReaderQiitaPost\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e//~略~\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e今回はインターフェイスに定義されたすべてのメンバが、すでに\u003ccode\u003eQiitaPost\u003c/code\u003eクラスに実装されているのでエラーが出ませんが、一つでも実装されていないメンバがあるとコンパイルエラーになります。\u003cbr\u003e\nこれが冒頭で説明した「インターフェイスは、実装するクラスにメソッドの実装を強制するものです」という説明に通じるわけですね。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"qiitapostクラスにインターフェイスを通じてアクセスさせる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#qiitapost%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AB%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E3%82%92%E9%80%9A%E3%81%98%E3%81%A6%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%81%95%E3%81%9B%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eQiitaPostクラスにインターフェイスを通じてアクセスさせる\u003c/h3\u003e\n\n\u003cp\u003eそれでは、インターフェイスを作成したので、「Qiitaの記事を作成する人」と「Qiitaの記事を読む人」にはQiitaPostクラスに直接アクセスするのをやめてもらい、きちんとインターフェイス経由でアクセスしてもらいましょう。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\n\u003cspan class=\"c1\"\u003e//記事を書く\u003c/span\u003e\n\u003cspan class=\"n\"\u003eIAuthorQiitaPost\u003c/span\u003e \u003cspan class=\"n\"\u003epost\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eQiitaPost\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"タイトル\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"本文\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e//記事をアップロードする\u003c/span\u003e\n\u003cspan class=\"n\"\u003eQiitaServer\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eUpload\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003epost\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e//自分の記事にLGTMできない〜〜〜\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e//post.LGTM();\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003epost\u003c/code\u003eを\u003ccode\u003eIAuthorQiitaPost\u003c/code\u003e型で定義していますので、自分で自分の記事にLGTMできません。\u003cbr\u003e\nなぜなら、\u003ccode\u003eIAuthorQiitaPost\u003c/code\u003eインターフェイスのメンバに、\u003ccode\u003eLGTM\u003c/code\u003eメソッドが存在しないからです。\u003c/p\u003e\n\n\u003cp\u003eこれで、記事を書いた人は自分でLGTMするとか余計なことができなくなり、おかしな使い方をされることはなくなりました。\u003c/p\u003e\n\n\u003cp\u003e続いて、記事を読む人にもインターフェイス経由で読んでもらいます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e//Qiita記事を取得\u003c/span\u003e\n\u003cspan class=\"n\"\u003eIReaderQiitaPost\u003c/span\u003e \u003cspan class=\"n\"\u003edownloadedPost\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eQiitaServer\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eDownload\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"https://~\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e//取得した記事のタイトルと本文を読む\u003c/span\u003e\n\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003etitle\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003edownloadedPost\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTitle\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003etext\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003edownloadedPost\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eText\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e//記事をLGTMする\u003c/span\u003e\n\u003cspan class=\"n\"\u003edownloadedPost\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLGTM\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e//勝手に人の書いた記事を消せない〜〜〜\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e//downloadedPost.Delete();\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eきちんと読む人専用の\u003ccode\u003eIReaderQiitaPost\u003c/code\u003eインターフェイス経由で読んでもらうことで、勝手に人の記事を消すなどという酷いことはできなくなりました。\u003c/p\u003e\n\n\u003cp\u003eこのように、\u003cstrong\u003eクラスを作るときには「誰に、どのように使ってほしいか」を意識した上で、適切にインターフェイスを用意することがとても重要です\u003c/strong\u003e。\u003cbr\u003e\n適切なインターフェイスを用意し、使う側がきちんと然るべきインターフェイス経由でクラスにアクセスするようにすることで、想定外の使い方をされて不具合が発生することを防ぐことができます。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"クラスを作る前にインターフェイスから作る\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%AF%E3%83%A9%E3%82%B9%E3%82%92%E4%BD%9C%E3%82%8B%E5%89%8D%E3%81%AB%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E3%81%8B%E3%82%89%E4%BD%9C%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eクラスを作る前にインターフェイスから作る\u003c/h3\u003e\n\n\u003cp\u003eもっと言えば、クラスを作成する前にまずインターフェイスから設計することが好ましいと思います。\u003c/p\u003e\n\n\u003cp\u003eクラスの使い手と使い方を意識して、まずクラスのインターフェイスを作ります。\u003cbr\u003e\nそれが終わったあとに、クラスに実装させて、エラーが出なくなるまで内部の実装を書くという流れを心がけると、うっかりクラスに直接アクセスされてしまった！なんてことが少なくなると思います。\u003c/p\u003e\n\n\u003cp\u003eまた、インターフェイスの設計は、クラス内部でどうやって実装しようかなどと考えることもなく、必要な機能をただ列挙していくだけなので、必要な機能を抜かりなく記述することができるというメリットもあります。\u003c/p\u003e\n\n\u003cp\u003eたとえば、今回の例だと\u003ccode\u003eIAuthorQiitaPost\u003c/code\u003eインターフェイスを設計するときに、「あれ、削除するだけじゃなくて編集する機能もいるな」と気づきやすくなると思います。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"インターフェイスの３タイプ解説\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E3%81%AE%EF%BC%93%E3%82%BF%E3%82%A4%E3%83%97%E8%A7%A3%E8%AA%AC\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eインターフェイスの「３タイプ」解説\u003c/h2\u003e\n\n\u003cp\u003eさて、ここからが本題です。\u003cbr\u003e\nタイトルで、「インターフェイスには目的に応じて３つのタイプがある」と書きました。\u003cbr\u003e\nもう一度書くと次の３タイプです。\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003e1. 疎結合を目的としたインターフェイス\u003cbr\u003e\n2. クラスの機能を保証することを目的としたインターフェイス\u003cbr\u003e\n3. クラスへの安全なアクセスを提供することを目的としたインターフェイス\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003e前項で扱ったインターフェイスは、このうちどれにあたるでしょうか？\u003c/p\u003e\n\n\u003cp\u003eもうおわかりですね、「3.クラスへの安全なアクセスを提供することを目的としたインターフェイス」にあたります。\u003c/p\u003e\n\n\u003cp\u003eでは、他の２つはどんなインターフェイスなのかを解説していきます。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"1-疎結合を目的としたインターフェイス\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-%E7%96%8E%E7%B5%90%E5%90%88%E3%82%92%E7%9B%AE%E7%9A%84%E3%81%A8%E3%81%97%E3%81%9F%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. 疎結合を目的としたインターフェイス\u003c/h3\u003e\n\n\u003cp\u003e１つ目は疎結合を目的として作られるインターフェイスです。\u003cbr\u003e\n例えば次のようなものがあります。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\n\u003cspan class=\"c1\"\u003e//疎結合を目的として作られたインターフェイス\u003c/span\u003e\n\u003cspan class=\"k\"\u003einterface\u003c/span\u003e \u003cspan class=\"nc\"\u003eITextReader\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"nf\"\u003eRead\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003epath\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e \n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eTextReader\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eITextReader\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"nf\"\u003eRead\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003epath\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e//テキストファイルを読み込んだ結果を返す処理\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこの例の\u003ccode\u003eITestReader\u003c/code\u003eインターフェイスは、\u003cstrong\u003e疎結合を目的として作られたインターフェイス\u003c/strong\u003eです。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"利点1クラスへの結合を弱くして変更に強くなる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%88%A9%E7%82%B91%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%B8%E3%81%AE%E7%B5%90%E5%90%88%E3%82%92%E5%BC%B1%E3%81%8F%E3%81%97%E3%81%A6%E5%A4%89%E6%9B%B4%E3%81%AB%E5%BC%B7%E3%81%8F%E3%81%AA%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e利点1.クラスへの結合を弱くして変更に強くなる\u003c/h4\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/22d8418963452a91c3f3b8d1db9c24fed32098a5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3639373833302f33653366313737652d363930352d326363352d346466372d3066376531313932393932322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"400\" alt=\"image.png\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F3e3f177e-6905-2cc5-4df7-0f7e11929922.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2a403b49f70eee97ec6f07dc8e44a4b2\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/697830/3e3f177e-6905-2cc5-4df7-0f7e11929922.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F3e3f177e-6905-2cc5-4df7-0f7e11929922.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=6f490278e8acdea045acb64b1f8509a5 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e使い手が、クラスに直接アクセスせずにインターフェイス経由でアクセスさせることで、クラス同士の結合度を下げることが目的です。\u003cbr\u003e\nこのようにしておくことで、たとえ\u003ccode\u003eTextReader\u003c/code\u003eクラスに変更が生じたとしても、\u003ccode\u003eTextReader\u003c/code\u003eクラスが\u003ccode\u003eITextReader\u003c/code\u003eインターフェイスを実装している限り、\u003ccode\u003eUser\u003c/code\u003e側の変更は不要になります。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"利点2クラスへの結合が弱いので機能追加も容易になる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%88%A9%E7%82%B92%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%B8%E3%81%AE%E7%B5%90%E5%90%88%E3%81%8C%E5%BC%B1%E3%81%84%E3%81%AE%E3%81%A7%E6%A9%9F%E8%83%BD%E8%BF%BD%E5%8A%A0%E3%82%82%E5%AE%B9%E6%98%93%E3%81%AB%E3%81%AA%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e利点2.クラスへの結合が弱いので機能追加も容易になる\u003c/h4\u003e\n\n\u003cp\u003e例えば、実際にテキストファイルを読み込むのではなく、デバッグ用に用意したダミーデータを読み込ませたいとします。\u003cbr\u003e\nこのとき、\u003ccode\u003eITextReader\u003c/code\u003eインターフェイスがあるおかげで、以下のようにすることができます。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/455fd518908499f6ccffc0493622fa3674d83ee8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3639373833302f31663561383838622d656535392d653335302d363461612d3533616135643565313462612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F1f5a888b-ee59-e350-64aa-53aa5d5e14ba.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=287a0f324f99396f076477c9665754bf\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/697830/1f5a888b-ee59-e350-64aa-53aa5d5e14ba.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F1f5a888b-ee59-e350-64aa-53aa5d5e14ba.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ff5c019ca874dadff5a84c08828e4b1a 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003eITextReader\u003c/code\u003eインターフェイスを実装した\u003ccode\u003eDebugTextReader\u003c/code\u003eクラス新たに登場しています。\u003cbr\u003e\nしかし、ユーザー側はあくまで\u003ccode\u003eITextReader\u003c/code\u003eインターフェイスにアクセスしています。\u003c/p\u003e\n\n\u003cp\u003eUser側はただ\u003ccode\u003eITextReader\u003c/code\u003eだけを知っていて、その参照先が具体的にどのクラスなのかは知りませんから、これまた\u003ccode\u003eUser\u003c/code\u003e側の変更は不要になるのです。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"このタイプのインターフェイスがないと変更がダイレクトに影響する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%93%E3%81%AE%E3%82%BF%E3%82%A4%E3%83%97%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E3%81%8C%E3%81%AA%E3%81%84%E3%81%A8%E5%A4%89%E6%9B%B4%E3%81%8C%E3%83%80%E3%82%A4%E3%83%AC%E3%82%AF%E3%83%88%E3%81%AB%E5%BD%B1%E9%9F%BF%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eこのタイプのインターフェイスがないと変更がダイレクトに影響する\u003c/h4\u003e\n\n\u003cp\u003e以下のように、インターフェイスを用意せずにクラス同士をダイレクトにアクセスさせると、\u003cstrong\u003e\u003ccode\u003eUser\u003c/code\u003eクラスが\u003ccode\u003eTextReader\u003c/code\u003eクラスの変更の影響をダイレクトに受けるようになります\u003c/strong\u003e。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/e96c5580d086c161b0882c7c3f7e10e329b4fbe7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3639373833302f32336635383637632d313437372d303130632d383233302d6135356439323839363234332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F23f5867c-1477-010c-8230-a55d92896243.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b1d0b8823b9c4a5f8a711eb386fc6f66\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/697830/23f5867c-1477-010c-8230-a55d92896243.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F23f5867c-1477-010c-8230-a55d92896243.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=322a291aed13ef48a634f6393418a7eb 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e例えば、\u003ccode\u003eTextReader\u003c/code\u003eクラスの\u003ccode\u003eRead\u003c/code\u003eメソッドの名前が\u003ccode\u003eLoad\u003c/code\u003eに変わったとします。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eTextReader\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"nf\"\u003eLoad\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003epath\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e//テキストファイルを読み込んだ結果を返す処理\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこれだけで、\u003ccode\u003eTextReader\u003c/code\u003eクラスを使っている\u003ccode\u003eUser\u003c/code\u003e側は\u003ccode\u003eRead\u003c/code\u003e→\u003ccode\u003eLoad\u003c/code\u003eへの変更を余儀なくされます。\u003cbr\u003e\n一つのクラスなら良いですが、これがたくさんのクラスから依存されていた場合、影響するすべてのコードを変更しなければなりません。\u003c/p\u003e\n\n\u003cp\u003eこのようなことにならないよう、インターフェイスを用意しておくことで、\u003ccode\u003eTextReader\u003c/code\u003eクラスは必ず\u003ccode\u003eITextReader\u003c/code\u003eインターフェイスに準拠した実装にならなければなりません。\u003cbr\u003e\nつまり、\u003cstrong\u003e\u003ccode\u003eITextReader\u003c/code\u003eクラスを実装してさえいれば、\u003ccode\u003eITextReader\u003c/code\u003eインターフェイス経由でアクセスしている他のクラスへの影響はまったくなくなる\u003c/strong\u003eのです。\u003c/p\u003e\n\n\u003cp\u003eどうでしょう。このタイプのインターフェイスの利点がおわかりいただけたでしょうか。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"理想は1クラスにつき少なくとも1インターフェイス\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%90%86%E6%83%B3%E3%81%AF1%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AB%E3%81%A4%E3%81%8D%E5%B0%91%E3%81%AA%E3%81%8F%E3%81%A8%E3%82%821%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e理想は1クラスにつき少なくとも1インターフェイス\u003c/h4\u003e\n\n\u003cp\u003e\u003cstrong\u003eどのようなクラスにも必ずアクセス用のインターフェイスを用意しておくことが理想\u003c/strong\u003eと思います。\u003cbr\u003e\n面倒と思わずに、インターフェイスを用意しておくだけで、万が一の変更があったときに大いに役立ってくれるでしょう。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"2-クラスの機能を保証することを目的としたインターフェイス\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AE%E6%A9%9F%E8%83%BD%E3%82%92%E4%BF%9D%E8%A8%BC%E3%81%99%E3%82%8B%E3%81%93%E3%81%A8%E3%82%92%E7%9B%AE%E7%9A%84%E3%81%A8%E3%81%97%E3%81%9F%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. クラスの機能を保証することを目的としたインターフェイス\u003c/h3\u003e\n\n\u003cp\u003e続いて、「クラスの機能を保証することを目的としたインターフェイス」について説明します。\u003c/p\u003e\n\n\u003cp\u003eこのタイプのインターフェイスは、記事の序盤で「よくあるインターフェイスの説明」として挙げた\u003cstrong\u003e「インターフェイスは、実装するクラスにメソッドの実装を強制するもの」という説明を受けたとしても最も納得しやすいタイプ\u003c/strong\u003eです。\u003c/p\u003e\n\n\u003cp\u003e要は、\u003cstrong\u003eインターフェイスを実装したクラスは、そのインターフェイスに定義されたメソッドは必ず実装されるのだから、特定の機能があることが保証されますよ\u003c/strong\u003e、ということですね。\u003c/p\u003e\n\n\u003cp\u003eこのタイプのインターフェイスとして、有名なものがいくつかありますので列挙します。\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eインターフェイス\u003c/th\u003e\n\u003cth\u003e保証する機能\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eIEnumerable\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eforeachで回すことができる\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eIEqautable\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e値の等価性を評価することができる\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eIDisposable\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e明示的にメモリを開放することができる\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eIObservable\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eクラスからの通知を受け取ることができる\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003e例えば、\u003ccode\u003eIEnumerable\u0026lt;T\u0026gt;\u003c/code\u003eインターフェイスを実装したクラスは、\u003ccode\u003eIEnumerator\u0026lt;T\u0026gt;\u003c/code\u003eを返す\u003ccode\u003eGetEnumerator()\u003c/code\u003eメソッドの実装を強制されるので、foreachステートメントで回すことができることが保証されます。\u003cbr\u003e\n\u003ccode\u003eIEquatable\u0026lt;T\u0026gt;\u003c/code\u003eインターフェイスを実装したクラスは、\u003ccode\u003ebool Equals(T other)\u003c/code\u003eメソッドの実装を強制されるので、他のオブジェクトとの等価性を比較できることが保証されます。\u003c/p\u003e\n\n\u003cp\u003eこのように、\u003cstrong\u003eクラスに一定の機能があることを保証するために使われるインターフェイス\u003c/strong\u003eが、このタイプです。\u003c/p\u003e\n\n\u003cp\u003eまた、クラスの使い手側も、「あ、このクラスは\u003ccode\u003eIEnumerable\u003c/code\u003eだからforeachで回せるな」「このクラスは\u003ccode\u003eIDisposable\u003c/code\u003eだから使い終わったら\u003ccode\u003eDispose\u003c/code\u003eしなくちゃいけないんだな」などと、\u003cstrong\u003eクラスの定義を見ただけでそのクラスの性質を簡単に理解できることも利点の一つ\u003c/strong\u003eですね。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"もちろんポリモーフィズムによる利点も\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%82%E3%81%A1%E3%82%8D%E3%82%93%E3%83%9D%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%95%E3%82%A3%E3%82%BA%E3%83%A0%E3%81%AB%E3%82%88%E3%82%8B%E5%88%A9%E7%82%B9%E3%82%82\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eもちろんポリモーフィズムによる利点も\u003c/h4\u003e\n\n\u003cp\u003eもちろん、利点はそれだけではなく、ポリモーフィズムを利用した利点もあります。\u003c/p\u003e\n\n\u003cp\u003e例えば\u003ccode\u003eIEnumerable\u0026lt;T\u0026gt;\u003c/code\u003eインターフェイスは、\u003ccode\u003eList\u0026lt;T\u0026gt;\u003c/code\u003e, \u003ccode\u003eDictionary\u0026lt;TKey, TValue\u0026gt;\u003c/code\u003e, \u003ccode\u003eT[]\u003c/code\u003eなど、様々なクラスが実装しているので、\u003ccode\u003eIEnumerable\u0026lt;T\u0026gt;\u003c/code\u003e型の変数には、それを実装した様々なクラスを受けることができます。\u003c/p\u003e\n\n\u003cp\u003e例えばメソッドの引数として、\u003ccode\u003eIEnumerable\u003c/code\u003eで受けておけば、使う側はそこに代入できるインスタンスの選択肢が大幅に増えるわけです。\u003cbr\u003e\n逆に、メソッドの引数を\u003ccode\u003eList\u003c/code\u003eなどの具象クラスにしてしまうと、使う側は\u003ccode\u003eList\u003c/code\u003eのインスタンスしか代入できなくなってしまいます。\u003csup id=\"fnref1\"\u003e\u003ca href=\"#fn1\" title=\"もちろん、メソッド内でListの固有メソッドを使う場合は素直にListで受けるべきです。\"\u003e1\u003c/a\u003e\u003c/sup\u003e\u003c/p\u003e\n\n\u003cp\u003eこのように、ポリモーフィズムによるメリットも享受することができます。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"3-クラスへの安全なアクセスを提供することを目的としたインターフェイス\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3-%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%B8%E3%81%AE%E5%AE%89%E5%85%A8%E3%81%AA%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%82%92%E6%8F%90%E4%BE%9B%E3%81%99%E3%82%8B%E3%81%93%E3%81%A8%E3%82%92%E7%9B%AE%E7%9A%84%E3%81%A8%E3%81%97%E3%81%9F%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3. クラスへの安全なアクセスを提供することを目的としたインターフェイス\u003c/h3\u003e\n\n\u003cp\u003e最後に、記事中盤でも解説した「クラスへの安全なアクセスを提供することを目的としたインターフェイス」です。\u003c/p\u003e\n\n\u003cp\u003eこのインターフェイスの利点はもうお分かりいただけたと思うので、このタイプで有名なインターフェイスを紹介します。\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eインターフェイス\u003c/th\u003e\n\u003cth\u003e提供するアクセス\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eIReadOnlyList\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\n\u003ccode\u003eList\u003c/code\u003eを読み取り専用で提供する\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eIReadOnlyCollection\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\n\u003ccode\u003eIReadOnlyList\u003c/code\u003eから更にインデクサによるアクセスを削除\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eIReadOnlyReactiveProperty\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e購読と値の読み取りだけができる\u003ccode\u003eReactiveProperty\u003c/code\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003e見ての通り、ただ単にアクセスを制限させるものばかりですね。\u003cbr\u003e\nしかし、これが非常に重要な役割を持ちます。\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003eList\u003c/code\u003eをそのまま渡すのではなく、\u003ccode\u003eIReadOnlyList\u003c/code\u003eとして渡すだけで、渡した先で勝手に書き換えられる危険性が\u003cdel\u003e皆無\u003c/del\u003e\u003csup id=\"fnref2\"\u003e\u003ca href=\"#fn2\" title=\"[2020/09/10追記]@htsign さんにご指摘いただきました。IReadOnlyListとして渡しても、IListにキャストされてしまえば普通に追加削除可能なので、危険性が「皆無」というわけではないようです。ただ、IReadOnlyListとあからさまに「リードオンリーなリスト」をわざわざ書き換え可能となるようにキャストするというのは、あまり考えられない行為と思いますので、IReadOnlyListとして渡す有用性は十分にあると感じます。もし本当に書き換えられるのを阻止したい場合、ImmutableListもしくはReadOnlyCollectionを使えば実現可能です。\"\u003e2\u003c/a\u003e\u003c/sup\u003e\u003csup id=\"fnref3\"\u003e\u003ca href=\"#fn3\" title=\"[2020/09/15追記]自分なりに理解してImmutableList\u0026lt;T\u0026gt;とReadOnlyCollection\u0026lt;T\u0026gt;の記事書きました。よろしければどうぞ。\"\u003e3\u003c/a\u003e\u003c/sup\u003eになりますから、これを使わない手はありません。\u003cbr\u003e\n詳しくは下記記事で詳しく解説されているので、参考にしてください。自分も大変お世話になった記事です。\u003cbr\u003e\n\u003ca href=\"https://qiita.com/lobin-z0x50/items/248db6d0629c7abe47dd\" class=\"autolink\" id=\"reference-a6360eba4a2fa4250b72\"\u003ehttps://qiita.com/lobin-z0x50/items/248db6d0629c7abe47dd\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"最後に\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e最後に\u003c/h2\u003e\n\n\u003cp\u003e以上、「インターフェイス」の本質的な意味と、それからインターフェイスの３つのタイプを解説しました。\u003c/p\u003e\n\n\u003cp\u003eすごく長くなってしまいましたが、一口に「インターフェイス」と言っても、目的に応じて３つのタイプが有ることをご理解いただけたでしょうか。\u003cbr\u003e\nインターフェイスの利点があまり良くわかっていない方も、「インターフェイスには３つのタイプがある」ことを意識するだけで、ぐっと理解度が深まると思います。\u003c/p\u003e\n\n\u003cp\u003eただ、冒頭でも書きましたがこの記事の内容は一個人の持論です。\u003cbr\u003e\nもし説明がおかしい、間違っている等の他、ご意見ご感想などありましたら、ぜひぜひコメントください。すごく喜んで返信します。\u003c/p\u003e\n\n\u003cdiv class=\"footnotes\"\u003e\n\u003chr\u003e\n\u003col\u003e\n\n\u003cli id=\"fn1\"\u003e\n\u003cp\u003eもちろん、メソッド内で\u003ccode\u003eList\u003c/code\u003eの固有メソッドを使う場合は素直に\u003ccode\u003eList\u003c/code\u003eで受けるべきです。 \u003ca href=\"#fnref1\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn2\"\u003e\n\u003cp\u003e[2020/09/10追記]\u003ca href=\"/htsign\" class=\"user-mention js-hovercard\" title=\"htsign\" data-hovercard-target-type=\"user\" data-hovercard-target-name=\"htsign\"\u003e@htsign\u003c/a\u003e さんにご指摘いただきました。\u003ccode\u003eIReadOnlyList\u003c/code\u003eとして渡しても、\u003ccode\u003eIList\u003c/code\u003eにキャストされてしまえば普通に追加削除可能なので、危険性が「皆無」というわけではないようです。ただ、\u003ccode\u003eIReadOnlyList\u003c/code\u003eとあからさまに「リードオンリーなリスト」をわざわざ書き換え可能となるようにキャストするというのは、あまり考えられない行為と思いますので、\u003ccode\u003eIReadOnlyList\u003c/code\u003eとして渡す有用性は十分にあると感じます。もし本当に書き換えられるのを阻止したい場合、\u003ccode\u003eImmutableList\u003c/code\u003eもしくは\u003ccode\u003eReadOnlyCollection\u003c/code\u003eを使えば実現可能です。 \u003ca href=\"#fnref2\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn3\"\u003e\n\u003cp\u003e[2020/09/15追記]自分なりに理解して\u003ccode\u003eImmutableList\u0026lt;T\u0026gt;\u003c/code\u003eと\u003ccode\u003eReadOnlyCollection\u0026lt;T\u0026gt;\u003c/code\u003eの\u003ca href=\"https://qiita.com/yutorisan/items/3f5fdb1495be03e56d3c\" id=\"reference-9ac0d18179e1be4c14e2\"\u003e記事書きました\u003c/a\u003e。よろしければどうぞ。 \u003ca href=\"#fnref3\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003c/ol\u003e\n\u003c/div\u003e\n","createdAt":"2020-09-08T17:03:42Z","elapsedYearsFromLastModifiedAt":0,"encryptedId":"xPeNd9V1o+U+K7ymTmh770x1UCtOOduK0w==--XQFBkaZjTbeHfP5p--O5ggTKR7lq7zpAow3Qq9JA==","isBanned":false,"isDeprecated":false,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2020-09-15T13:52:46Z","likesCount":1180,"linkUrl":"https://qiita.com/yutorisan/items/d28386f168f2f3ab166d","organization":null,"originalId":1297260,"stockedCount":1099,"title":"【C#】インターフェイスの利点が理解できない人は「インターフェイスには３つのタイプがある」ことを理解しよう","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003eはじめに\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6%E3%82%88%E3%81%8F%E3%81%82%E3%82%8B%E9%96%93%E9%81%95%E3%81%84\"\u003eインターフェイスについて「よくある間違い」\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%EF%BC%93%E3%81%A4%E3%81%AE%E3%82%BF%E3%82%A4%E3%83%97%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9\"\u003e３つのタイプのインターフェイス\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%88%E3%81%8F%E3%81%82%E3%82%8B%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E3%81%AE%E8%AA%AC%E6%98%8E%E3%81%AF%E5%88%86%E3%81%8B%E3%82%8A%E3%81%A5%E3%82%89%E3%81%84\"\u003eよくあるインターフェイスの説明は分かりづらい\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%98%E3%82%83%E3%81%82%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E3%81%AE%E6%9C%AC%E8%B3%AA%E3%81%A3%E3%81%A6%E3%81%AA%E3%81%AB\"\u003eじゃあインターフェイスの本質ってなに\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#qiitapost%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%A7%E8%80%83%E3%81%88%E3%81%A6%E3%81%BF%E3%82%8B\"\u003eQiitaPostクラスで考えてみる\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#qiita%E3%81%AE%E8%A8%98%E4%BA%8B%E3%82%92%E6%9B%B8%E3%81%8F%E4%BA%BA\"\u003eQiitaの記事を書く人\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#qiita%E3%81%AE%E8%A8%98%E4%BA%8B%E3%82%92%E8%AA%AD%E3%82%80%E4%BA%BA\"\u003eQiitaの記事を読む人\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%95%8F%E9%A1%8C%E7%82%B9\"\u003e問題点\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%AA%E3%81%9C%E3%81%93%E3%81%AE%E3%82%88%E3%81%86%E3%81%AA%E5%95%8F%E9%A1%8C%E3%81%8C%E8%B5%B7%E3%81%8D%E3%82%8B%E3%81%AE%E3%81%8B\"\u003eなぜこのような問題が起きるのか？\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#qiitapost%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AB%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"\u003eQiitaPostクラスにインターフェイスを定義してみる\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#qiitapost%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AB%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E3%82%92%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B\"\u003eQiitaPostクラスにインターフェイスを実装する\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#qiitapost%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AB%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E3%82%92%E9%80%9A%E3%81%98%E3%81%A6%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%81%95%E3%81%9B%E3%82%8B\"\u003eQiitaPostクラスにインターフェイスを通じてアクセスさせる\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%AF%E3%83%A9%E3%82%B9%E3%82%92%E4%BD%9C%E3%82%8B%E5%89%8D%E3%81%AB%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E3%81%8B%E3%82%89%E4%BD%9C%E3%82%8B\"\u003eクラスを作る前にインターフェイスから作る\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E3%81%AE%EF%BC%93%E3%82%BF%E3%82%A4%E3%83%97%E8%A7%A3%E8%AA%AC\"\u003eインターフェイスの「３タイプ」解説\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#1-%E7%96%8E%E7%B5%90%E5%90%88%E3%82%92%E7%9B%AE%E7%9A%84%E3%81%A8%E3%81%97%E3%81%9F%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9\"\u003e1. 疎結合を目的としたインターフェイス\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%88%A9%E7%82%B91%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%B8%E3%81%AE%E7%B5%90%E5%90%88%E3%82%92%E5%BC%B1%E3%81%8F%E3%81%97%E3%81%A6%E5%A4%89%E6%9B%B4%E3%81%AB%E5%BC%B7%E3%81%8F%E3%81%AA%E3%82%8B\"\u003e利点1.クラスへの結合を弱くして変更に強くなる\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%88%A9%E7%82%B92%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%B8%E3%81%AE%E7%B5%90%E5%90%88%E3%81%8C%E5%BC%B1%E3%81%84%E3%81%AE%E3%81%A7%E6%A9%9F%E8%83%BD%E8%BF%BD%E5%8A%A0%E3%82%82%E5%AE%B9%E6%98%93%E3%81%AB%E3%81%AA%E3%82%8B\"\u003e利点2.クラスへの結合が弱いので機能追加も容易になる\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%93%E3%81%AE%E3%82%BF%E3%82%A4%E3%83%97%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9%E3%81%8C%E3%81%AA%E3%81%84%E3%81%A8%E5%A4%89%E6%9B%B4%E3%81%8C%E3%83%80%E3%82%A4%E3%83%AC%E3%82%AF%E3%83%88%E3%81%AB%E5%BD%B1%E9%9F%BF%E3%81%99%E3%82%8B\"\u003eこのタイプのインターフェイスがないと変更がダイレクトに影響する\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%90%86%E6%83%B3%E3%81%AF1%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AB%E3%81%A4%E3%81%8D%E5%B0%91%E3%81%AA%E3%81%8F%E3%81%A8%E3%82%821%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9\"\u003e理想は1クラスにつき少なくとも1インターフェイス\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#2-%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AE%E6%A9%9F%E8%83%BD%E3%82%92%E4%BF%9D%E8%A8%BC%E3%81%99%E3%82%8B%E3%81%93%E3%81%A8%E3%82%92%E7%9B%AE%E7%9A%84%E3%81%A8%E3%81%97%E3%81%9F%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9\"\u003e2. クラスの機能を保証することを目的としたインターフェイス\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%82%E3%81%A1%E3%82%8D%E3%82%93%E3%83%9D%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%95%E3%82%A3%E3%82%BA%E3%83%A0%E3%81%AB%E3%82%88%E3%82%8B%E5%88%A9%E7%82%B9%E3%82%82\"\u003eもちろんポリモーフィズムによる利点も\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#3-%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%B8%E3%81%AE%E5%AE%89%E5%85%A8%E3%81%AA%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%82%92%E6%8F%90%E4%BE%9B%E3%81%99%E3%82%8B%E3%81%93%E3%81%A8%E3%82%92%E7%9B%AE%E7%9A%84%E3%81%A8%E3%81%97%E3%81%9F%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9\"\u003e3. クラスへの安全なアクセスを提供することを目的としたインターフェイス\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\"\u003e最後に\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","totalPv":45256,"uuid":"d28386f168f2f3ab166d","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"KqM7o7bKlIM1o0ogXvOaUATQEvU0--xdH2tRSxl6gTR7Oh--Xe9ne3hK1dBSCwHnkNgS/w==","originalId":697830,"description":"C#が好きです","facebookUrl":null,"githubUrl":"https://github.com/yutorisan","isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"","profileImageUrl":"https://pbs.twimg.com/profile_images/1274400166120812544/DAWcpHec_bigger.jpg","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fpbs.twimg.com%2Fprofile_images%2F1274400166120812544%2FDAWcpHec_bigger.jpg?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=b517115d0e848c54aa4fe1fc93bfa0ff","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fpbs.twimg.com%2Fprofile_images%2F1274400166120812544%2FDAWcpHec_bigger.jpg?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=754be610f489085be0fdfc48de5585a9","urlName":"yutorisan","websiteUrl":"","twitterUrl":"https://twitter.com/yutorisan19","twitterUrlName":"yutorisan19","revealedOrganizations":{"edges":[{"node":{"encryptedId":"qJwdgO+TR24uMuzkMlIDIjPa6c3NukFtGsg=--85OgopHNwBnGfEhu--vjPo8zgnnQRGNIWFTCsSxg==","isBetaReleaseEnabled":false,"isFollowableByViewer":false,"isFollowedByViewer":false,"name":"Unityゲーム開発者ギルド","logoUrl":"https://s3-ap-northeast-1.amazonaws.com/qiita-organization-image/f7eb993765ddcdb2c5e6890556c43ea3de8fbfb7/original.jpg?1570215690","urlName":"unity-game-dev-guild","description":"趣味・仕事問わずUnityでゲームを作っている開発者のみで構成されるオンラインコミュニティです。Unityでゲームを開発・運用するにあたって必要なあらゆる知見を共有することを目的とします。","url":"https://unity-game-dev-guild.github.io/"}}]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"オブジェクト指向","urlName":"%e3%82%aa%e3%83%96%e3%82%b8%e3%82%a7%e3%82%af%e3%83%88%e6%8c%87%e5%90%91"},{"name":"初心者","urlName":"%e5%88%9d%e5%bf%83%e8%80%85"},{"name":"interface","urlName":"interface"},{"name":"ポリモーフィズム","urlName":"%e3%83%9d%e3%83%aa%e3%83%a2%e3%83%bc%e3%83%95%e3%82%a3%e3%82%ba%e3%83%a0"}],"followingLikers":{"edges":[]},"comments":{"totalCount":60}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
