<!DOCTYPE html><html><head><meta charset="utf-8" /><title>C# VisualStudioでprotoファイルからソースコードとAPI仕様書を生成する - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/mxProject/items/ee1c4d904c46d584b420" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="gsVk2zaZJgUYagmyoqaer01P7u/WhgIrUe2NPFRrZN6ZPE8bN2mhA2g9W7uLdl1xUK95udQUaZu+/MF4aQLGow==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta property="og:type" content="article"><meta property="og:title" content="C# VisualStudioでprotoファイルからソースコードとAPI仕様書を生成する - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1ReU1nVm1semRXRnNVM1IxWkdsdjQ0R25jSEp2ZEdfamc1WGpncUhqZ3FUamc2dmpnWXZqZ29uamdyM2pnN3pqZ3JuamdyUGpnN3pqZzRuamdhaEJVRW5rdTVYbXA1am1tN2pqZ3BMbmxKX21pSkRqZ1puamdvcyZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTU0JnR4dC1jbGlwPWVsbGlwc2lzJnR4dC1hbGlnbj1jZW50ZXIlMkNtaWRkbGUmcz1lNDQ3YTY1OTVhZThkNzJhZDg4YTI2MjdiODI2Nzc0YQ&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRzE0VUhKdmFtVmpkQSZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPTFlMTAyZDYxYThjZjk3MWFlYmI0MGM5YzRlNWVjYjJm&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=0b1661439bb7dee35632d9e84647d4d6"><meta property="og:description" content="

このドキュメントの内容

VisualStudio のプロジェクトテンプレートに「gRPCサービス」が追加され、gRPC を使ったアプリケーションの開発がしやすくなりましたが、このテンプレートはサービスアプリケーション用のものであ..."><meta content="https://qiita.com/mxProject/items/ee1c4d904c46d584b420" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,VisualStudio,ProtocolBuffers,gRPC" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-c2c51c1e-4292-49b0-a24b-89a38428ddc7"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2FmxProject%2Fitems%2Fee1c4d904c46d584b420">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2FmxProject%2Fitems%2Fee1c4d904c46d584b420">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-c2c51c1e-4292-49b0-a24b-89a38428ddc7">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2021-04-17T12:07:05.000+09:00","dateModified":"2021-04-17T12:07:05.000+09:00","headline":"C# VisualStudioでprotoファイルからソースコードとAPI仕様書を生成する","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1ReU1nVm1semRXRnNVM1IxWkdsdjQ0R25jSEp2ZEdfamc1WGpncUhqZ3FUamc2dmpnWXZqZ29uamdyM2pnN3pqZ3JuamdyUGpnN3pqZzRuamdhaEJVRW5rdTVYbXA1am1tN2pqZ3BMbmxKX21pSkRqZ1puamdvcyZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTU0JnR4dC1jbGlwPWVsbGlwc2lzJnR4dC1hbGlnbj1jZW50ZXIlMkNtaWRkbGUmcz1lNDQ3YTY1OTVhZThkNzJhZDg4YTI2MjdiODI2Nzc0YQ\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRzE0VUhKdmFtVmpkQSZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPTFlMTAyZDYxYThjZjk3MWFlYmI0MGM5YzRlNWVjYjJm\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=0b1661439bb7dee35632d9e84647d4d6","mainEntityOfPage":"https://qiita.com/mxProject/items/ee1c4d904c46d584b420","author":{"@type":"Person","address":"","email":null,"identifier":"mxProject","name":"mxProject","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F280969%2Fprofile-images%2F1536382732?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=2efedca10695876b4e283514f36501f2","url":"https://qiita.com/mxProject","description":"SIerでエンジニアをしています。最近は gRPC を調べています。\r\nこれまではブログサイトを利用していましたが、Qiitaに移ってきました。\r\n","memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://zine.qiita.com/interview/202107-hitachi-3/?utm_source=qiita&amp;utm_medium=header-banner">「作業者の負荷情報の見える化」に取り組む研究者が語る日立の魅力</a><a target="_blank" id="header_text_message_2" href="https://zine.qiita.com/interview/202107-hitachi-3/?utm_source=qiita&amp;utm_medium=header-banner">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"mxProject","type":"items","id":"ee1c4d904c46d584b420"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"「作業者の負荷情報の見える化」に取り組む研究者が語る日立の魅力","url":"https://zine.qiita.com/interview/202107-hitachi-3/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"mxProject","type":"items","id":"ee1c4d904c46d584b420"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":1,"pos_id":"header_text_message_1","message":"「作業者の負荷情報の見える化」に取り組む研究者が語る日立の魅力","url":"https://zine.qiita.com/interview/202107-hitachi-3/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"mxProject","type":"items","id":"ee1c4d904c46d584b420"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":1,"pos_id":"header_text_message_2","message":"「作業者の負荷情報の見える化」に取り組む研究者が語る日立の魅力","url":"https://zine.qiita.com/interview/202107-hitachi-3/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/mxProject/items/ee1c4d904c46d584b420","location":"/mxProject/items/ee1c4d904c46d584b420","scheme":"https","host":"qiita.com","port":null,"pathname":"/mxProject/items/ee1c4d904c46d584b420","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"ypmEvgq1UhQvZscRx2SbWJ3FE+cQslkphxdv0+nC5pjRYK9+C0XVEl8xlRjutFiGgCWEsRIgMploBiOX1KtE5Q==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-3a8d3f11-c854-4c8c-9e71-28c46907c729"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/mxProject/items/ee1c4d904c46d584b420/likers" class="css-1iupg5d">2</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">5</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/ee1c4d904c46d584b420/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/mxProject/items/ee1c4d904c46d584b420/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/mxProject/items/ee1c4d904c46d584b420/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/mxProject/items/ee1c4d904c46d584b420/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/mxProject/items/ee1c4d904c46d584b420.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/mxProject"><img class="css-100alwu eyfquo10" src="https://qiita-image-store.s3.amazonaws.com/0/280969/profile-images/1536382732" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/mxProject" class="css-10ougpm">@<!-- -->mxProject</a><div class="css-1ay9vb9"><time dateTime="2021-04-17T03:07:05Z" class="css-m19uds">posted at 2021-04-17</time></div></div></div></div></div><h1 class="css-cgzq40">C# VisualStudioでprotoファイルからソースコードとAPI仕様書を生成する</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/visualstudio" class="css-4czcte">VisualStudio</a><a href="/tags/protocolbuffers" class="css-4czcte">ProtocolBuffers</a><a href="/tags/grpc" class="css-4czcte">gRPC</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div>
<h2>
<span id="このドキュメントの内容" class="fragment"></span><a href="#%E3%81%93%E3%81%AE%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88%E3%81%AE%E5%86%85%E5%AE%B9"><i class="fa fa-link"></i></a>このドキュメントの内容</h2>

<p>VisualStudio のプロジェクトテンプレートに「gRPCサービス」が追加され、gRPC を使ったアプリケーションの開発がしやすくなりましたが、このテンプレートはサービスアプリケーション用のものであるため、ライブラリを作成したい場合には無駄な実装が含まれてしまいます。ライブラリ用のテンプレートで proto ファイルからソースコードを生成する方法を説明します。加えて、<code>proto-gen-doc</code> を利用してAPI仕様書を出力する方法も説明します。</p>

<h2>
<span id="環境" class="fragment"></span><a href="#%E7%92%B0%E5%A2%83"><i class="fa fa-link"></i></a>環境</h2>

<p>使用した環境は次の通りです。<br>
Microsoft Visual Studio Community 2019<br>
Version 16.8.2</p>

<p><code>Grpc.AspNetCore</code> のバージョンは 2.36.0 です。</p>

<h2>
<span id="手順" class="fragment"></span><a href="#%E6%89%8B%E9%A0%86"><i class="fa fa-link"></i></a>手順</h2>

<ol>
<li><p>テンプレート「クラスライブラリ(.NET Core)」を選択して新規プロジェクトを作成します。</p></li>
<li>
<p>プロジェクトのプロパティを開き、対象のフレームワークを次の中から選択します。<code>Grpc.AspNetCore</code> は .NET Standard  や .NET Framework をサポートしていません。</p>

<ul>
<li>.NET Core 3.0 </li>
<li>.NET Core 3.1</li>
<li>.NET 5</li>
</ul>
</li>
<li><p>NuGet で <code>Grpc.AspNetCore</code> をインストールします。</p></li>
<li><p>プロジェクト内に proto ファイルを配置するフォルダを作成します。フォルダを作成するのは管理しやすくするためだけであり、フォルダ名に規約はありません。</p></li>
<li><p>proto ファイルを追加します。アイテムテンプレートに proto はないようです。「テキストファイル」でよいと思います。拡張子を proto とするとソリューションエクスプローラー上のアイコンが変わりますので、ファイルの種類を認識しているとは考えられます。</p></li>
<li><p>ファイルのビルドアクションを「Protobuf compiler」に変更します。リストアップされるプロパティ群が Protobuf に対応したものに変わります。</p></li>
<li><p>proto ファイルに IDL を記述します。</p></li>
<li><p>プロジェクトをビルドまたはリビルドすると IDL からソースコードが生成されます。cs ファイルはプロジェクトには追加されず、プロジェクトの obj フォルダ配下に出力されます。「カスタムツールの実行」では生成されませんでした。</p></li>
<li><p>ライブラリを使用するアプリケーションの参照アセンブリに dll ファイルを追加します。</p></li>
</ol>

<h2>
<span id="partial-メンバーを追加するには" class="fragment"></span><a href="#partial-%E3%83%A1%E3%83%B3%E3%83%90%E3%83%BC%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%99%E3%82%8B%E3%81%AB%E3%81%AF"><i class="fa fa-link"></i></a>partial メンバーを追加するには</h2>

<p>生成されたクラスに対して partial メンバーを追加するには、いったんビルドした後で partial クラスを追加します。</p>

<h2>
<span id="grpctools-で生成されるソースコードとの違い" class="fragment"></span><a href="#grpctools-%E3%81%A7%E7%94%9F%E6%88%90%E3%81%95%E3%82%8C%E3%82%8B%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89%E3%81%A8%E3%81%AE%E9%81%95%E3%81%84"><i class="fa fa-link"></i></a>Grpc.Tools で生成されるソースコードとの違い</h2>

<p>全てのデータ型に対して確認してはいませんが、生成されるソースコードの実装は同じであるようです。<br>
<code>Grpc.AspNetCore</code> は <code>Grpc.Core</code> には依存していませんが、<code>Grpc.Core.Api</code> と <code>Grpc.Tools</code> を利用しています。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>Grpc.AspNetCore 2.36.0
  Google.Protobuf 3.15.5
  Grpc.AspNetCore.Server.ClientFactory 2.36.0
    Grpc.AspNetCore.Server 2.36.0
      Grpc.Net.Common 2.36.0
        Grpc.Core.Api 2.36.1
    Grpc.Net.ClientFactory 2.36.0
      Grpc.Net.Client 2.36.0
        Grpc.Net.Common 2.36.0
          Grpc.Core.Api 2.36.1
      Microsoft.Extensions.Http 3.0.3
  Grpc.Tools 2.36.1
</code></pre></div></div>

<h2>
<span id="proto-ファイルのインポート" class="fragment"></span><a href="#proto-%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E3%82%A4%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%88"><i class="fa fa-link"></i></a>proto ファイルのインポート</h2>

<p>ある proto ファイルの中で別のファイルに定義された型を参照するには、そのファイルをインポートする必要があります。</p>

<h3>
<span id="既知の型のインポート" class="fragment"></span><a href="#%E6%97%A2%E7%9F%A5%E3%81%AE%E5%9E%8B%E3%81%AE%E3%82%A4%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%88"><i class="fa fa-link"></i></a>既知の型のインポート</h3>

<p>Nuget でインストールされた Grpc.Tools (2.36.1) のパッケージフォルダ内には以下のファイルが組み込まれています。</p>

<ul>
<li>any.proto</li>
<li>api.proto</li>
<li>descriptor.proto</li>
<li>duration.proto</li>
<li>empty.proto</li>
<li>field_mask.proto</li>
<li>source_context.proto</li>
<li>struct.proto</li>
<li>timestamp.proto</li>
<li>type.proto</li>
<li>wrappers.proto</li>
</ul>

<p>これらのファイルをインポートするには import を記述すればよいです。</p>

<div class="code-frame" data-lang="proto">
<div class="code-lang"><span class="bold">sample.proto</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">import</span> <span class="s">"google/protobuf/timestamp.proto"</span><span class="p">;</span>

<span class="kd">message</span> <span class="nc">SampleMessage</span>
<span class="p">{</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">Time</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</div>

<h3>
<span id="独自の-proto-ファイルを無理やりパッケージフォルダに配置する" class="fragment"></span><a href="#%E7%8B%AC%E8%87%AA%E3%81%AE-proto-%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E7%84%A1%E7%90%86%E3%82%84%E3%82%8A%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%81%AB%E9%85%8D%E7%BD%AE%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>独自の proto ファイルを無理やりパッケージフォルダに配置する</h3>

<p>Grpc.Tools のパッケージフォルダに上記以外のファイルを配置してインポートすると、IDL 上のエラーにはならないものの生成されたソースコード内でコンパイルエラーが発生します。</p>

<p>次の GuidValue.proto を Grpc.Tools のパッケージフォルダに配置してインポートすると、</p>

<div class="code-frame" data-lang="proto">
<div class="code-lang"><span class="bold">GuidValue.proto</span></div>
<div class="highlight"><pre class="with-code"><code><span class="na">syntax</span> <span class="o">=</span> <span class="s">"proto3"</span><span class="p">;</span>
<span class="kn">package</span> <span class="nn">example</span><span class="o">.</span><span class="n">protobuf</span><span class="p">;</span>

<span class="kd">message</span> <span class="nc">GuidValue</span>
<span class="p">{</span>
  <span class="kt">string</span> <span class="na">Value</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</div>

<div class="code-frame" data-lang="proto">
<div class="code-lang"><span class="bold">sample.proto</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">import</span> <span class="s">"google/protobuf/timestamp.proto"</span><span class="p">;</span>
<span class="k">import</span> <span class="s">"google/protobuf/GuidValue.proto"</span><span class="p">;</span>

<span class="kd">message</span> <span class="nc">SampleMessage</span>
<span class="p">{</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">Time</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="n">example.protobuf.GuidValue</span> <span class="na">id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>次のような SampleMessage クラスのソースコードが生成されますが、Example.Protobuf.GuidValue クラスや Example.Protobuf.GuidValueReflection クラスが生成されず、コンパイルエラーになります。GuidValue.proto がプロジェクトに含まれていないためです。</p>

<div class="code-frame" data-lang="c#"><div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">sealed</span> <span class="k">partial</span> <span class="k">class</span> <span class="nc">SampleMessage</span> <span class="p">:</span> <span class="n">pb</span><span class="p">::</span><span class="n">IMessage</span><span class="p">&lt;</span><span class="n">SampleMessage</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="c1">/// &lt;summary&gt;Field number for the "id" field.&lt;/summary&gt;</span>
    <span class="k">public</span> <span class="k">const</span> <span class="kt">int</span> <span class="n">idFieldNumber</span> <span class="p">=</span> <span class="m">2</span><span class="p">;</span>
    <span class="k">private</span> <span class="k">global</span><span class="p">::</span><span class="n">Example</span><span class="p">.</span><span class="n">Protobuf</span><span class="p">.</span><span class="n">GuidValue</span> <span class="n">id_</span><span class="p">;</span>
    <span class="p">[</span><span class="k">global</span><span class="p">::</span><span class="n">System</span><span class="p">.</span><span class="n">Diagnostics</span><span class="p">.</span><span class="n">DebuggerNonUserCodeAttribute</span><span class="p">]</span>
    <span class="k">public</span> <span class="k">global</span><span class="p">::</span><span class="n">Example</span><span class="p">.</span><span class="n">Protobuf</span><span class="p">.</span><span class="n">GuidValue</span> <span class="n">id</span> <span class="p">{</span>
      <span class="k">get</span> <span class="p">{</span> <span class="k">return</span> <span class="n">id_</span><span class="p">;</span> <span class="p">}</span>
      <span class="k">set</span> <span class="p">{</span>
        <span class="n">id_</span> <span class="p">=</span> <span class="k">value</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3>
<span id="独自の-proto-ファイルをプロジェクト内に配置する" class="fragment"></span><a href="#%E7%8B%AC%E8%87%AA%E3%81%AE-proto-%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E5%86%85%E3%81%AB%E9%85%8D%E7%BD%AE%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>独自の proto ファイルをプロジェクト内に配置する</h3>

<p>前述の GuidValue.proto をプロジェクト内に配置します。</p>

<div class="code-frame" data-lang="console">
<div class="code-lang"><span class="bold">プロジェクト構成</span></div>
<div class="highlight"><pre class="with-code"><code><span class="go">ProjectRoot
  proto
    sample.proto
    GuidValue.proto
</span></code></pre></div>
</div>

<p>GuidValue.proto をインポートする場合、フォルダ名/ファイル名 で指定します。</p>

<div class="code-frame" data-lang="proto">
<div class="code-lang"><span class="bold">sample.proto</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">import</span> <span class="s">"google/protobuf/timestamp.proto"</span><span class="p">;</span>
<span class="k">import</span> <span class="s">"proto/GuidValue.proto"</span><span class="p">;</span>

<span class="kd">message</span> <span class="nc">SampleMessage</span>
<span class="p">{</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">Time</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="n">example.protobuf.GuidValue</span> <span class="na">ID</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>ソースコードが生成され、ビルドも成功します。</p>

<h3>
<span id="複数のプロジェクトで型を共用する" class="fragment"></span><a href="#%E8%A4%87%E6%95%B0%E3%81%AE%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%A7%E5%9E%8B%E3%82%92%E5%85%B1%E7%94%A8%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>複数のプロジェクトで型を共用する</h3>

<p>前述の GuidValue のような汎用的な型は、複数のプロジェクトで共用できると便利です。<br>
各プロジェクトに GuidValue.proto を含めると、それぞれのアセンブリに GuidValue 型が定義されます。それらのアセンブリを一つのプロジェクトから参照しようとすると、型の重複が発生してしまいます。<br>
共用したい型を定義したプロジェクトを作り、アセンブリを参照させることで型を共用できます。</p>

<ol>
<li><p>共用したい型を定義するプロジェクトを作成します。CommonLibrary.csproj とします。</p></li>
<li><p>CommonLibrary.csproj に GuidValue.proto を追加します。</p></li>
<li><p>CommonLibrary.csproj をビルドします。</p></li>
<li><p>GuidValue 型を使用するプロジェクトを作成します。SampleLibrary.csproj とします。</p></li>
<li><p>SampleLibrary.csproj の参照に CommonLibrary.dll を追加します。</p></li>
<li>
<p>SampleLibrary.csproj に GuidValue.proto を追加します。GuidValue 型を生成対象から除外するため、GuidValue.proto のプロパティを変更します。</p>

<ul>
<li>gRPC Stub Classes プロパティに Do not generate を設定します。</li>
<li>Compile Protobuf プロパティに false を設定します。</li>
</ul>
</li>
<li><p>SampleLibrary.csproj をビルドします。</p></li>
</ol>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">CommonLibrary.csproj</span></div>
<div class="highlight"><pre class="with-code"><code>CommonLibrary
  proto
    GuidValue.proto
</code></pre></div>
</div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">SampleLibrary.csproj</span></div>
<div class="highlight"><pre class="with-code"><code>SampleLibrary
  proto
    sample.proto
    GuidValue.proto  // sample.proto のソースコード生成のためにファイルを追加。コンパイル対象外にします。
</code></pre></div>
</div>

<p>なお、上記の手順では各プロジェクトに GuidValue.proto ファイルがコピーされます。リンクファイルとしてプロジェクトに追加できるとよいのですが、リンクファイルは Grpc.Tools から読み取ることができないようで「ファイルが見つからない」エラーが発生してしまいます。</p>

<h2>
<span id="api仕様書を出力する" class="fragment"></span><a href="#api%E4%BB%95%E6%A7%98%E6%9B%B8%E3%82%92%E5%87%BA%E5%8A%9B%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>API仕様書を出力する</h2>

<p>proto ファイルで定義した内容をドキュメントに出力できると便利です。<code>proto-gen-doc</code> を利用することが多いと思いますが、これをビルド時に呼び出す方法を紹介します。proto-gen-doc に対応していそうなライブラリを Nuget で探してみましたが見つかりませんでしたので、プロジェクトのビルド後イベントを利用することにしました。</p>

<ol>
<li><p><code>proto-gen-doc</code> を <a href="https://github.com/pseudomuto/protoc-gen-doc/releases" rel="nofollow noopener" target="_blank">GitHub</a> から入手し、適当なフォルダに展開します。</p></li>
<li><p>バッチファイル proto-gen-doc.bat を作成し、プロジェクトのビルド後イベントに次のコマンドを記述します。</p></li>
</ol>

<div class="code-frame" data-lang="bat">
<div class="code-lang"><span class="bold">ビルド後イベント</span></div>
<div class="highlight"><pre class="with-code"><code><span class="kd">proto</span><span class="na">-gen-doc</span>.bat $<span class="o">(</span><span class="kd">Protobuf_ProtocFullPath</span><span class="o">)</span> $<span class="o">(</span><span class="kd">Protobuf_StandardImportsPath</span><span class="o">)</span> $<span class="o">(</span><span class="kd">ProjectDir</span><span class="o">)</span>
</code></pre></div>
</div>

<div class="code-frame" data-lang="bat">
<div class="code-lang"><span class="bold">proto-gen-doc.bat</span></div>
<div class="highlight"><pre class="with-code"><code><span class="c">rem protoc.exe の絶対パス。</span>
<span class="c">rem プロジェクトが参照している Grpc.Tools に対応するパスがマクロ $(Protobuf_ProtocFullPath) によって引き渡されます。</span>
<span class="kd">set</span> <span class="kd">PROTOC</span><span class="o">=</span><span class="err">%</span><span class="m">1</span>

<span class="c">rem 標準サポートされているインクルードファイルの格納ディレクトリの絶対パス。</span>
<span class="c">rem プロジェクトが参照している Grpc.Tools に対応するパスがマクロ $(Protobuf_StandardImportsPath) によって引き渡されます。</span>
<span class="kd">set</span> <span class="kd">WELLKNOWN_PROTO_DIR</span><span class="o">=</span><span class="err">%</span><span class="m">2</span>

<span class="c">rem proto-gen-doc の格納ディレクトリ。</span>
<span class="c">rem マクロではサポートされていないため直接指定しています。</span>
<span class="kd">set</span> <span class="kd">PROTOC_GEN_DOC_DIR</span><span class="o">=</span><span class="kd">E</span>:\ProgramFiles\proto<span class="na">-gen-doc

</span><span class="c">rem proto-gen-doc の実行ファイル。</span>
<span class="kd">set</span> <span class="kd">PLUGIN_PROTOC_GEN_DOC</span><span class="o">=</span><span class="kd">protoc</span><span class="na">-gen-doc</span>.exe

<span class="c">rem proto-gen-doc のカスタムテンプレート。</span>
<span class="kd">set</span> <span class="kd">MARKDOWN_TEMPLATE</span><span class="o">=</span><span class="kd">CustomMarkdownTemplate</span>.tmpl

<span class="c">rem プロジェクトディレクトリの絶対パス。マクロ $(ProjectDir) によって引き渡されます。</span>
<span class="kd">set</span> <span class="kd">PROJECT_DIR</span><span class="o">=</span><span class="err">%</span><span class="m">3</span>

<span class="c">rem 出力対象の proto ファイル。</span>
<span class="c">rem プロジェクトディレクトリ配下の proto フォルダに格納されている proto ファイルを対象とします。</span>
<span class="kd">set</span> <span class="kd">PROTO_FILE</span><span class="o">=</span><span class="nv">%PROJECT_DIR%</span><span class="kd">proto</span>\<span class="o">*</span>.proto

<span class="c">rem ドキュメント出力先のパス。プロジェクトディレクトリ配下の doc フォルダとしました。</span>
<span class="kd">set</span> <span class="kd">OUT_DIR</span><span class="o">=</span><span class="nv">%PROJECT_DIR%</span><span class="kd">doc</span>

<span class="c">rem proto-gen-doc ディレクトリをカレントディレクトリに設定します。</span>
<span class="c">rem テンプレートファイルを絶対パスで指定する方法がわからず、</span>
<span class="c">rem 実行ファイルとテンプレートファイルを同じフォルダに配置し、</span>
<span class="c">rem カレントディレクトリにする方法をとりました。</span>
<span class="nb">cd</span> <span class="nv">%PROTOC_GEN_DOC_DIR%</span>

<span class="c">rem ドキュメント出力ディレクトリを生成します。</span>
<span class="k">if</span> <span class="ow">not</span> <span class="ow">exist</span> <span class="nv">%OUT_DIR%</span> <span class="nb">mkdir</span> <span class="nv">%OUT_DIR%</span>

<span class="c">rem 個々の proto ファイルごとにドキュメントを出力する場合</span>
<span class="k">for</span> <span class="na">/f </span><span class="s2">"usebackq tokens=* delims=0123456789 eol="</span> <span class="vm">%%i</span> <span class="k">in</span> <span class="o">(</span><span class="sb">`dir /B /S </span><span class="nv">%PROTO_FILE%</span><span class="sb">`</span><span class="o">)</span> <span class="k">do</span> <span class="o">(</span>

  <span class="c">rem html形式で出力します</span>
  <span class="k">call</span> <span class="nv">%PROTOC%</span> <span class="na">-I</span><span class="o">=</span><span class="nv">%WELLKNOWN_PROTO_DIR%</span> <span class="na">-I</span><span class="o">=</span><span class="nv">%PROJECT_DIR%</span> <span class="na">-I</span><span class="o">=</span><span class="vm">%%~dpi</span> <span class="na">--doc</span>_out<span class="o">=</span><span class="kd">html</span><span class="o">,</span><span class="vm">%%~ni</span>.html:<span class="nv">%OUT_DIR%</span> <span class="s2">"</span><span class="vm">%%i</span><span class="s2">"</span> <span class="na">--plugin</span><span class="o">=</span><span class="kd">protoc</span><span class="na">-gen-doc</span><span class="o">=</span><span class="s2">"</span><span class="nv">%PLUGIN_PROTOC_GEN_DOC%</span><span class="s2">"</span>

  <span class="c">rem markdown形式で出力します</span>
  <span class="k">call</span> <span class="nv">%PROTOC%</span> <span class="na">-I</span><span class="o">=</span><span class="nv">%WELLKNOWN_PROTO_DIR%</span> <span class="na">-I</span><span class="o">=</span><span class="nv">%PROJECT_DIR%</span> <span class="na">-I</span><span class="o">=</span><span class="vm">%%~dpi</span> <span class="na">--doc</span>_out<span class="o">=</span><span class="kd">markdown</span><span class="o">,</span><span class="vm">%%~ni</span>.md:<span class="nv">%OUT_DIR%</span> <span class="s2">"</span><span class="vm">%%i</span><span class="s2">"</span> <span class="na">--plugin</span><span class="o">=</span><span class="kd">protoc</span><span class="na">-gen-doc</span><span class="o">=</span><span class="s2">"</span><span class="nv">%PLUGIN_PROTOC_GEN_DOC%</span><span class="s2">"</span>

  <span class="c">rem カスタムテンプレートを使用して出力します</span>
  <span class="k">call</span> <span class="nv">%PROTOC%</span> <span class="na">-I</span><span class="o">=</span><span class="nv">%WELLKNOWN_PROTO_DIR%</span> <span class="na">-I</span><span class="o">=</span><span class="nv">%PROJECT_DIR%</span> <span class="na">-I</span><span class="o">=</span><span class="vm">%%~dpi</span> <span class="na">--doc</span>_out<span class="o">=</span><span class="nv">%MARKDOWN_TEMPLATE%</span><span class="o">,</span><span class="vm">%%~ni</span>.custom.md:<span class="nv">%OUT_DIR%</span> <span class="s2">"</span><span class="vm">%%i</span><span class="s2">"</span> <span class="na">--plugin</span><span class="o">=</span><span class="kd">protoc</span><span class="na">-gen-doc</span><span class="o">=</span><span class="s2">"</span><span class="nv">%PLUGIN_PROTOC_GEN_DOC%</span><span class="s2">"</span>

<span class="o">)</span>

<span class="c">rem 一つのドキュメントに出力する場合</span>

<span class="c">rem html形式で出力します</span>
<span class="k">call</span> <span class="nv">%PROTOC%</span> <span class="na">-I</span><span class="o">=</span><span class="nv">%WELLKNOWN_PROTO_DIR%</span> <span class="na">-I</span><span class="o">=</span><span class="nv">%PROJECT_DIR%</span> <span class="na">--doc</span>_out<span class="o">=</span><span class="kd">html</span><span class="o">,</span><span class="kd">all</span>.html:<span class="nv">%OUT_DIR%</span> <span class="nv">%PROTO_FILE%</span> <span class="na">--plugin</span><span class="o">=</span><span class="kd">protoc</span><span class="na">-gen-doc</span><span class="o">=</span><span class="s2">"</span><span class="nv">%PLUGIN_PROTOC_GEN_DOC%</span><span class="s2">"</span>

<span class="c">rem markdown形式で出力します</span>
<span class="k">call</span> <span class="nv">%PROTOC%</span> <span class="na">-I</span><span class="o">=</span><span class="nv">%WELLKNOWN_PROTO_DIR%</span> <span class="na">-I</span><span class="o">=</span><span class="nv">%PROJECT_DIR%</span> <span class="na">--doc</span>_out<span class="o">=</span><span class="kd">markdown</span><span class="o">,</span><span class="kd">all</span>.md:<span class="nv">%OUT_DIR%</span> <span class="nv">%PROTO_FILE%</span> <span class="na">--plugin</span><span class="o">=</span><span class="kd">protoc</span><span class="na">-gen-doc</span><span class="o">=</span><span class="s2">"</span><span class="nv">%PLUGIN_PROTOC_GEN_DOC%</span><span class="s2">"</span>

<span class="c">rem カスタムテンプレートを使用して出力します</span>
<span class="k">call</span> <span class="nv">%PROTOC%</span> <span class="na">-I</span><span class="o">=</span><span class="nv">%WELLKNOWN_PROTO_DIR%</span> <span class="na">-I</span><span class="o">=</span><span class="nv">%PROJECT_DIR%</span> <span class="na">--doc</span>_out<span class="o">=</span><span class="nv">%MARKDOWN_TEMPLATE%</span><span class="o">,</span><span class="kd">all</span>.custom.md:<span class="nv">%OUT_DIR%</span> <span class="nv">%PROTO_FILE%</span> <span class="na">--plugin</span><span class="o">=</span><span class="kd">protoc</span><span class="na">-gen-doc</span><span class="o">=</span><span class="s2">"</span><span class="nv">%PLUGIN_PROTOC_GEN_DOC%</span><span class="s2">"</span>
</code></pre></div>
</div>

<h2>
<span id="まとめ" class="fragment"></span><a href="#%E3%81%BE%E3%81%A8%E3%82%81"><i class="fa fa-link"></i></a>まとめ</h2>

<p>任意のプロジェクトテンプレートからも proto ファイルからのソースコードを生成することができることを確認しました。<br>
コマンドラインツールを使わずに Visual Studio 上の操作だけで処理できるのは便利ですが、できることは制限されるようです。</p>

<h2>
<span id="参考リンク" class="fragment"></span><a href="#%E5%8F%82%E8%80%83%E3%83%AA%E3%83%B3%E3%82%AF"><i class="fa fa-link"></i></a>参考リンク</h2>

<p><qiita-embed-ogp src="https://qiita.com/ayatothos/items/ea05a70856d8812c644e"></qiita-embed-ogp></p>

<p><qiita-embed-ogp src="https://coffee-nominagara.com/2018-07-17-114005"></qiita-embed-ogp></p>

<p><qiita-embed-ogp src="https://chromium.googlesource.com/external/github.com/grpc/grpc/+/HEAD/src/csharp/BUILD-INTEGRATION.md"></qiita-embed-ogp></p>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2FmxProject%2Fitems%2Fee1c4d904c46d584b420&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2FmxProject%2Fitems%2Fee1c4d904c46d584b420&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/mxProject/items/ee1c4d904c46d584b420/likers" class="css-1iupg5d">2</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">5</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/ee1c4d904c46d584b420/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/mxProject/items/ee1c4d904c46d584b420/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/mxProject/items/ee1c4d904c46d584b420/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/mxProject/items/ee1c4d904c46d584b420/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/mxProject/items/ee1c4d904c46d584b420.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-3a8d3f11-c854-4c8c-9e71-28c46907c729">{"authorAnalyticsTrackingId":null,"organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-d9811413-1b73-4690-83e0-74b352025559"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-d9811413-1b73-4690-83e0-74b352025559">{}</script>
      
<div id="LoginModal-react-component-5951dcf3-6768-4c4e-8b30-477ab563e61c"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-5951dcf3-6768-4c4e-8b30-477ab563e61c">{}</script>
      
<div id="StockModal-react-component-dc37c4c9-e1ed-4214-b742-b42c969849cb"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-dc37c4c9-e1ed-4214-b742-b42c969849cb">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;1eJ3g/KDaKKV8HYSLZPKVx9J+XfXJGIRV5JX1jtbpPvOG1xD83PvpOWnJBsEQwmJAqluIdW2CaG4gxuSBjIGhg==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\n\u003ch2\u003e\n\u003cspan id=\"このドキュメントの内容\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%93%E3%81%AE%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88%E3%81%AE%E5%86%85%E5%AE%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eこのドキュメントの内容\u003c/h2\u003e\n\n\u003cp\u003eVisualStudio のプロジェクトテンプレートに「gRPCサービス」が追加され、gRPC を使ったアプリケーションの開発がしやすくなりましたが、このテンプレートはサービスアプリケーション用のものであるため、ライブラリを作成したい場合には無駄な実装が含まれてしまいます。ライブラリ用のテンプレートで proto ファイルからソースコードを生成する方法を説明します。加えて、\u003ccode\u003eproto-gen-doc\u003c/code\u003e を利用してAPI仕様書を出力する方法も説明します。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"環境\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%92%B0%E5%A2%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e環境\u003c/h2\u003e\n\n\u003cp\u003e使用した環境は次の通りです。\u003cbr\u003e\nMicrosoft Visual Studio Community 2019\u003cbr\u003e\nVersion 16.8.2\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003eGrpc.AspNetCore\u003c/code\u003e のバージョンは 2.36.0 です。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"手順\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%89%8B%E9%A0%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e手順\u003c/h2\u003e\n\n\u003col\u003e\n\u003cli\u003e\u003cp\u003eテンプレート「クラスライブラリ(.NET Core)」を選択して新規プロジェクトを作成します。\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eプロジェクトのプロパティを開き、対象のフレームワークを次の中から選択します。\u003ccode\u003eGrpc.AspNetCore\u003c/code\u003e は .NET Standard  や .NET Framework をサポートしていません。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e.NET Core 3.0 \u003c/li\u003e\n\u003cli\u003e.NET Core 3.1\u003c/li\u003e\n\u003cli\u003e.NET 5\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eNuGet で \u003ccode\u003eGrpc.AspNetCore\u003c/code\u003e をインストールします。\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eプロジェクト内に proto ファイルを配置するフォルダを作成します。フォルダを作成するのは管理しやすくするためだけであり、フォルダ名に規約はありません。\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eproto ファイルを追加します。アイテムテンプレートに proto はないようです。「テキストファイル」でよいと思います。拡張子を proto とするとソリューションエクスプローラー上のアイコンが変わりますので、ファイルの種類を認識しているとは考えられます。\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eファイルのビルドアクションを「Protobuf compiler」に変更します。リストアップされるプロパティ群が Protobuf に対応したものに変わります。\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eproto ファイルに IDL を記述します。\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eプロジェクトをビルドまたはリビルドすると IDL からソースコードが生成されます。cs ファイルはプロジェクトには追加されず、プロジェクトの obj フォルダ配下に出力されます。「カスタムツールの実行」では生成されませんでした。\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eライブラリを使用するアプリケーションの参照アセンブリに dll ファイルを追加します。\u003c/p\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"partial-メンバーを追加するには\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#partial-%E3%83%A1%E3%83%B3%E3%83%90%E3%83%BC%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%99%E3%82%8B%E3%81%AB%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003epartial メンバーを追加するには\u003c/h2\u003e\n\n\u003cp\u003e生成されたクラスに対して partial メンバーを追加するには、いったんビルドした後で partial クラスを追加します。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"grpctools-で生成されるソースコードとの違い\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#grpctools-%E3%81%A7%E7%94%9F%E6%88%90%E3%81%95%E3%82%8C%E3%82%8B%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89%E3%81%A8%E3%81%AE%E9%81%95%E3%81%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGrpc.Tools で生成されるソースコードとの違い\u003c/h2\u003e\n\n\u003cp\u003e全てのデータ型に対して確認してはいませんが、生成されるソースコードの実装は同じであるようです。\u003cbr\u003e\n\u003ccode\u003eGrpc.AspNetCore\u003c/code\u003e は \u003ccode\u003eGrpc.Core\u003c/code\u003e には依存していませんが、\u003ccode\u003eGrpc.Core.Api\u003c/code\u003e と \u003ccode\u003eGrpc.Tools\u003c/code\u003e を利用しています。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003eGrpc.AspNetCore 2.36.0\n  Google.Protobuf 3.15.5\n  Grpc.AspNetCore.Server.ClientFactory 2.36.0\n    Grpc.AspNetCore.Server 2.36.0\n      Grpc.Net.Common 2.36.0\n        Grpc.Core.Api 2.36.1\n    Grpc.Net.ClientFactory 2.36.0\n      Grpc.Net.Client 2.36.0\n        Grpc.Net.Common 2.36.0\n          Grpc.Core.Api 2.36.1\n      Microsoft.Extensions.Http 3.0.3\n  Grpc.Tools 2.36.1\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"proto-ファイルのインポート\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#proto-%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E3%82%A4%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eproto ファイルのインポート\u003c/h2\u003e\n\n\u003cp\u003eある proto ファイルの中で別のファイルに定義された型を参照するには、そのファイルをインポートする必要があります。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"既知の型のインポート\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%97%A2%E7%9F%A5%E3%81%AE%E5%9E%8B%E3%81%AE%E3%82%A4%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e既知の型のインポート\u003c/h3\u003e\n\n\u003cp\u003eNuget でインストールされた Grpc.Tools (2.36.1) のパッケージフォルダ内には以下のファイルが組み込まれています。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eany.proto\u003c/li\u003e\n\u003cli\u003eapi.proto\u003c/li\u003e\n\u003cli\u003edescriptor.proto\u003c/li\u003e\n\u003cli\u003eduration.proto\u003c/li\u003e\n\u003cli\u003eempty.proto\u003c/li\u003e\n\u003cli\u003efield_mask.proto\u003c/li\u003e\n\u003cli\u003esource_context.proto\u003c/li\u003e\n\u003cli\u003estruct.proto\u003c/li\u003e\n\u003cli\u003etimestamp.proto\u003c/li\u003e\n\u003cli\u003etype.proto\u003c/li\u003e\n\u003cli\u003ewrappers.proto\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eこれらのファイルをインポートするには import を記述すればよいです。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"proto\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esample.proto\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"s\"\u003e\"google/protobuf/timestamp.proto\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003emessage\u003c/span\u003e \u003cspan class=\"nc\"\u003eSampleMessage\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"n\"\u003egoogle.protobuf.Timestamp\u003c/span\u003e \u003cspan class=\"na\"\u003eTime\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"独自の-proto-ファイルを無理やりパッケージフォルダに配置する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%8B%AC%E8%87%AA%E3%81%AE-proto-%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E7%84%A1%E7%90%86%E3%82%84%E3%82%8A%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%81%AB%E9%85%8D%E7%BD%AE%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e独自の proto ファイルを無理やりパッケージフォルダに配置する\u003c/h3\u003e\n\n\u003cp\u003eGrpc.Tools のパッケージフォルダに上記以外のファイルを配置してインポートすると、IDL 上のエラーにはならないものの生成されたソースコード内でコンパイルエラーが発生します。\u003c/p\u003e\n\n\u003cp\u003e次の GuidValue.proto を Grpc.Tools のパッケージフォルダに配置してインポートすると、\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"proto\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eGuidValue.proto\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003esyntax\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"proto3\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"kn\"\u003epackage\u003c/span\u003e \u003cspan class=\"nn\"\u003eexample\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eprotobuf\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003emessage\u003c/span\u003e \u003cspan class=\"nc\"\u003eGuidValue\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"na\"\u003eValue\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"proto\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esample.proto\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"s\"\u003e\"google/protobuf/timestamp.proto\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"s\"\u003e\"google/protobuf/GuidValue.proto\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003emessage\u003c/span\u003e \u003cspan class=\"nc\"\u003eSampleMessage\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"n\"\u003egoogle.protobuf.Timestamp\u003c/span\u003e \u003cspan class=\"na\"\u003eTime\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eexample.protobuf.GuidValue\u003c/span\u003e \u003cspan class=\"na\"\u003eid\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e次のような SampleMessage クラスのソースコードが生成されますが、Example.Protobuf.GuidValue クラスや Example.Protobuf.GuidValueReflection クラスが生成されず、コンパイルエラーになります。GuidValue.proto がプロジェクトに含まれていないためです。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003esealed\u003c/span\u003e \u003cspan class=\"k\"\u003epartial\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eSampleMessage\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003epb\u003c/span\u003e\u003cspan class=\"p\"\u003e::\u003c/span\u003e\u003cspan class=\"n\"\u003eIMessage\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eSampleMessage\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;Field number for the \"id\" field.\u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eidFieldNumber\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003eglobal\u003c/span\u003e\u003cspan class=\"p\"\u003e::\u003c/span\u003e\u003cspan class=\"n\"\u003eExample\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eProtobuf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eGuidValue\u003c/span\u003e \u003cspan class=\"n\"\u003eid_\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"k\"\u003eglobal\u003c/span\u003e\u003cspan class=\"p\"\u003e::\u003c/span\u003e\u003cspan class=\"n\"\u003eSystem\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDiagnostics\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDebuggerNonUserCodeAttribute\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eglobal\u003c/span\u003e\u003cspan class=\"p\"\u003e::\u003c/span\u003e\u003cspan class=\"n\"\u003eExample\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eProtobuf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eGuidValue\u003c/span\u003e \u003cspan class=\"n\"\u003eid\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"k\"\u003eget\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eid_\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n      \u003cspan class=\"k\"\u003eset\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eid_\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"独自の-proto-ファイルをプロジェクト内に配置する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%8B%AC%E8%87%AA%E3%81%AE-proto-%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E5%86%85%E3%81%AB%E9%85%8D%E7%BD%AE%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e独自の proto ファイルをプロジェクト内に配置する\u003c/h3\u003e\n\n\u003cp\u003e前述の GuidValue.proto をプロジェクト内に配置します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"console\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eプロジェクト構成\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"go\"\u003eProjectRoot\n  proto\n    sample.proto\n    GuidValue.proto\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eGuidValue.proto をインポートする場合、フォルダ名/ファイル名 で指定します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"proto\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esample.proto\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"s\"\u003e\"google/protobuf/timestamp.proto\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"s\"\u003e\"proto/GuidValue.proto\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003emessage\u003c/span\u003e \u003cspan class=\"nc\"\u003eSampleMessage\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"n\"\u003egoogle.protobuf.Timestamp\u003c/span\u003e \u003cspan class=\"na\"\u003eTime\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eexample.protobuf.GuidValue\u003c/span\u003e \u003cspan class=\"na\"\u003eID\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eソースコードが生成され、ビルドも成功します。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"複数のプロジェクトで型を共用する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A4%87%E6%95%B0%E3%81%AE%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%A7%E5%9E%8B%E3%82%92%E5%85%B1%E7%94%A8%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e複数のプロジェクトで型を共用する\u003c/h3\u003e\n\n\u003cp\u003e前述の GuidValue のような汎用的な型は、複数のプロジェクトで共用できると便利です。\u003cbr\u003e\n各プロジェクトに GuidValue.proto を含めると、それぞれのアセンブリに GuidValue 型が定義されます。それらのアセンブリを一つのプロジェクトから参照しようとすると、型の重複が発生してしまいます。\u003cbr\u003e\n共用したい型を定義したプロジェクトを作り、アセンブリを参照させることで型を共用できます。\u003c/p\u003e\n\n\u003col\u003e\n\u003cli\u003e\u003cp\u003e共用したい型を定義するプロジェクトを作成します。CommonLibrary.csproj とします。\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eCommonLibrary.csproj に GuidValue.proto を追加します。\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eCommonLibrary.csproj をビルドします。\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eGuidValue 型を使用するプロジェクトを作成します。SampleLibrary.csproj とします。\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eSampleLibrary.csproj の参照に CommonLibrary.dll を追加します。\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eSampleLibrary.csproj に GuidValue.proto を追加します。GuidValue 型を生成対象から除外するため、GuidValue.proto のプロパティを変更します。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003egRPC Stub Classes プロパティに Do not generate を設定します。\u003c/li\u003e\n\u003cli\u003eCompile Protobuf プロパティに false を設定します。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eSampleLibrary.csproj をビルドします。\u003c/p\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eCommonLibrary.csproj\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003eCommonLibrary\n  proto\n    GuidValue.proto\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eSampleLibrary.csproj\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003eSampleLibrary\n  proto\n    sample.proto\n    GuidValue.proto  // sample.proto のソースコード生成のためにファイルを追加。コンパイル対象外にします。\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eなお、上記の手順では各プロジェクトに GuidValue.proto ファイルがコピーされます。リンクファイルとしてプロジェクトに追加できるとよいのですが、リンクファイルは Grpc.Tools から読み取ることができないようで「ファイルが見つからない」エラーが発生してしまいます。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"api仕様書を出力する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#api%E4%BB%95%E6%A7%98%E6%9B%B8%E3%82%92%E5%87%BA%E5%8A%9B%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAPI仕様書を出力する\u003c/h2\u003e\n\n\u003cp\u003eproto ファイルで定義した内容をドキュメントに出力できると便利です。\u003ccode\u003eproto-gen-doc\u003c/code\u003e を利用することが多いと思いますが、これをビルド時に呼び出す方法を紹介します。proto-gen-doc に対応していそうなライブラリを Nuget で探してみましたが見つかりませんでしたので、プロジェクトのビルド後イベントを利用することにしました。\u003c/p\u003e\n\n\u003col\u003e\n\u003cli\u003e\u003cp\u003e\u003ccode\u003eproto-gen-doc\u003c/code\u003e を \u003ca href=\"https://github.com/pseudomuto/protoc-gen-doc/releases\" rel=\"nofollow noopener\" target=\"_blank\"\u003eGitHub\u003c/a\u003e から入手し、適当なフォルダに展開します。\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eバッチファイル proto-gen-doc.bat を作成し、プロジェクトのビルド後イベントに次のコマンドを記述します。\u003c/p\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"bat\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eビルド後イベント\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003eproto\u003c/span\u003e\u003cspan class=\"na\"\u003e-gen-doc\u003c/span\u003e.bat $\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003eProtobuf_ProtocFullPath\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e $\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003eProtobuf_StandardImportsPath\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e $\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003eProjectDir\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"bat\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eproto-gen-doc.bat\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"c\"\u003erem protoc.exe の絶対パス。\u003c/span\u003e\n\u003cspan class=\"c\"\u003erem プロジェクトが参照している Grpc.Tools に対応するパスがマクロ $(Protobuf_ProtocFullPath) によって引き渡されます。\u003c/span\u003e\n\u003cspan class=\"kd\"\u003eset\u003c/span\u003e \u003cspan class=\"kd\"\u003ePROTOC\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"err\"\u003e%\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003erem 標準サポートされているインクルードファイルの格納ディレクトリの絶対パス。\u003c/span\u003e\n\u003cspan class=\"c\"\u003erem プロジェクトが参照している Grpc.Tools に対応するパスがマクロ $(Protobuf_StandardImportsPath) によって引き渡されます。\u003c/span\u003e\n\u003cspan class=\"kd\"\u003eset\u003c/span\u003e \u003cspan class=\"kd\"\u003eWELLKNOWN_PROTO_DIR\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"err\"\u003e%\u003c/span\u003e\u003cspan class=\"m\"\u003e2\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003erem proto-gen-doc の格納ディレクトリ。\u003c/span\u003e\n\u003cspan class=\"c\"\u003erem マクロではサポートされていないため直接指定しています。\u003c/span\u003e\n\u003cspan class=\"kd\"\u003eset\u003c/span\u003e \u003cspan class=\"kd\"\u003ePROTOC_GEN_DOC_DIR\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"kd\"\u003eE\u003c/span\u003e:\\ProgramFiles\\proto\u003cspan class=\"na\"\u003e-gen-doc\n\n\u003c/span\u003e\u003cspan class=\"c\"\u003erem proto-gen-doc の実行ファイル。\u003c/span\u003e\n\u003cspan class=\"kd\"\u003eset\u003c/span\u003e \u003cspan class=\"kd\"\u003ePLUGIN_PROTOC_GEN_DOC\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"kd\"\u003eprotoc\u003c/span\u003e\u003cspan class=\"na\"\u003e-gen-doc\u003c/span\u003e.exe\n\n\u003cspan class=\"c\"\u003erem proto-gen-doc のカスタムテンプレート。\u003c/span\u003e\n\u003cspan class=\"kd\"\u003eset\u003c/span\u003e \u003cspan class=\"kd\"\u003eMARKDOWN_TEMPLATE\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"kd\"\u003eCustomMarkdownTemplate\u003c/span\u003e.tmpl\n\n\u003cspan class=\"c\"\u003erem プロジェクトディレクトリの絶対パス。マクロ $(ProjectDir) によって引き渡されます。\u003c/span\u003e\n\u003cspan class=\"kd\"\u003eset\u003c/span\u003e \u003cspan class=\"kd\"\u003ePROJECT_DIR\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"err\"\u003e%\u003c/span\u003e\u003cspan class=\"m\"\u003e3\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003erem 出力対象の proto ファイル。\u003c/span\u003e\n\u003cspan class=\"c\"\u003erem プロジェクトディレクトリ配下の proto フォルダに格納されている proto ファイルを対象とします。\u003c/span\u003e\n\u003cspan class=\"kd\"\u003eset\u003c/span\u003e \u003cspan class=\"kd\"\u003ePROTO_FILE\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e%PROJECT_DIR%\u003c/span\u003e\u003cspan class=\"kd\"\u003eproto\u003c/span\u003e\\\u003cspan class=\"o\"\u003e*\u003c/span\u003e.proto\n\n\u003cspan class=\"c\"\u003erem ドキュメント出力先のパス。プロジェクトディレクトリ配下の doc フォルダとしました。\u003c/span\u003e\n\u003cspan class=\"kd\"\u003eset\u003c/span\u003e \u003cspan class=\"kd\"\u003eOUT_DIR\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e%PROJECT_DIR%\u003c/span\u003e\u003cspan class=\"kd\"\u003edoc\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003erem proto-gen-doc ディレクトリをカレントディレクトリに設定します。\u003c/span\u003e\n\u003cspan class=\"c\"\u003erem テンプレートファイルを絶対パスで指定する方法がわからず、\u003c/span\u003e\n\u003cspan class=\"c\"\u003erem 実行ファイルとテンプレートファイルを同じフォルダに配置し、\u003c/span\u003e\n\u003cspan class=\"c\"\u003erem カレントディレクトリにする方法をとりました。\u003c/span\u003e\n\u003cspan class=\"nb\"\u003ecd\u003c/span\u003e \u003cspan class=\"nv\"\u003e%PROTOC_GEN_DOC_DIR%\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003erem ドキュメント出力ディレクトリを生成します。\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"ow\"\u003enot\u003c/span\u003e \u003cspan class=\"ow\"\u003eexist\u003c/span\u003e \u003cspan class=\"nv\"\u003e%OUT_DIR%\u003c/span\u003e \u003cspan class=\"nb\"\u003emkdir\u003c/span\u003e \u003cspan class=\"nv\"\u003e%OUT_DIR%\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003erem 個々の proto ファイルごとにドキュメントを出力する場合\u003c/span\u003e\n\u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"na\"\u003e/f \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"usebackq tokens=* delims=0123456789 eol=\"\u003c/span\u003e \u003cspan class=\"vm\"\u003e%%i\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"sb\"\u003e`dir /B /S \u003c/span\u003e\u003cspan class=\"nv\"\u003e%PROTO_FILE%\u003c/span\u003e\u003cspan class=\"sb\"\u003e`\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003edo\u003c/span\u003e \u003cspan class=\"o\"\u003e(\u003c/span\u003e\n\n  \u003cspan class=\"c\"\u003erem html形式で出力します\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ecall\u003c/span\u003e \u003cspan class=\"nv\"\u003e%PROTOC%\u003c/span\u003e \u003cspan class=\"na\"\u003e-I\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e%WELLKNOWN_PROTO_DIR%\u003c/span\u003e \u003cspan class=\"na\"\u003e-I\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e%PROJECT_DIR%\u003c/span\u003e \u003cspan class=\"na\"\u003e-I\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"vm\"\u003e%%~dpi\u003c/span\u003e \u003cspan class=\"na\"\u003e--doc\u003c/span\u003e_out\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"kd\"\u003ehtml\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\u003cspan class=\"vm\"\u003e%%~ni\u003c/span\u003e.html:\u003cspan class=\"nv\"\u003e%OUT_DIR%\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"vm\"\u003e%%i\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"na\"\u003e--plugin\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"kd\"\u003eprotoc\u003c/span\u003e\u003cspan class=\"na\"\u003e-gen-doc\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e%PLUGIN_PROTOC_GEN_DOC%\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\n\n  \u003cspan class=\"c\"\u003erem markdown形式で出力します\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ecall\u003c/span\u003e \u003cspan class=\"nv\"\u003e%PROTOC%\u003c/span\u003e \u003cspan class=\"na\"\u003e-I\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e%WELLKNOWN_PROTO_DIR%\u003c/span\u003e \u003cspan class=\"na\"\u003e-I\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e%PROJECT_DIR%\u003c/span\u003e \u003cspan class=\"na\"\u003e-I\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"vm\"\u003e%%~dpi\u003c/span\u003e \u003cspan class=\"na\"\u003e--doc\u003c/span\u003e_out\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"kd\"\u003emarkdown\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\u003cspan class=\"vm\"\u003e%%~ni\u003c/span\u003e.md:\u003cspan class=\"nv\"\u003e%OUT_DIR%\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"vm\"\u003e%%i\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"na\"\u003e--plugin\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"kd\"\u003eprotoc\u003c/span\u003e\u003cspan class=\"na\"\u003e-gen-doc\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e%PLUGIN_PROTOC_GEN_DOC%\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\n\n  \u003cspan class=\"c\"\u003erem カスタムテンプレートを使用して出力します\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ecall\u003c/span\u003e \u003cspan class=\"nv\"\u003e%PROTOC%\u003c/span\u003e \u003cspan class=\"na\"\u003e-I\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e%WELLKNOWN_PROTO_DIR%\u003c/span\u003e \u003cspan class=\"na\"\u003e-I\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e%PROJECT_DIR%\u003c/span\u003e \u003cspan class=\"na\"\u003e-I\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"vm\"\u003e%%~dpi\u003c/span\u003e \u003cspan class=\"na\"\u003e--doc\u003c/span\u003e_out\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e%MARKDOWN_TEMPLATE%\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\u003cspan class=\"vm\"\u003e%%~ni\u003c/span\u003e.custom.md:\u003cspan class=\"nv\"\u003e%OUT_DIR%\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"vm\"\u003e%%i\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"na\"\u003e--plugin\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"kd\"\u003eprotoc\u003c/span\u003e\u003cspan class=\"na\"\u003e-gen-doc\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e%PLUGIN_PROTOC_GEN_DOC%\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003erem 一つのドキュメントに出力する場合\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003erem html形式で出力します\u003c/span\u003e\n\u003cspan class=\"k\"\u003ecall\u003c/span\u003e \u003cspan class=\"nv\"\u003e%PROTOC%\u003c/span\u003e \u003cspan class=\"na\"\u003e-I\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e%WELLKNOWN_PROTO_DIR%\u003c/span\u003e \u003cspan class=\"na\"\u003e-I\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e%PROJECT_DIR%\u003c/span\u003e \u003cspan class=\"na\"\u003e--doc\u003c/span\u003e_out\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"kd\"\u003ehtml\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\u003cspan class=\"kd\"\u003eall\u003c/span\u003e.html:\u003cspan class=\"nv\"\u003e%OUT_DIR%\u003c/span\u003e \u003cspan class=\"nv\"\u003e%PROTO_FILE%\u003c/span\u003e \u003cspan class=\"na\"\u003e--plugin\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"kd\"\u003eprotoc\u003c/span\u003e\u003cspan class=\"na\"\u003e-gen-doc\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e%PLUGIN_PROTOC_GEN_DOC%\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003erem markdown形式で出力します\u003c/span\u003e\n\u003cspan class=\"k\"\u003ecall\u003c/span\u003e \u003cspan class=\"nv\"\u003e%PROTOC%\u003c/span\u003e \u003cspan class=\"na\"\u003e-I\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e%WELLKNOWN_PROTO_DIR%\u003c/span\u003e \u003cspan class=\"na\"\u003e-I\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e%PROJECT_DIR%\u003c/span\u003e \u003cspan class=\"na\"\u003e--doc\u003c/span\u003e_out\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"kd\"\u003emarkdown\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\u003cspan class=\"kd\"\u003eall\u003c/span\u003e.md:\u003cspan class=\"nv\"\u003e%OUT_DIR%\u003c/span\u003e \u003cspan class=\"nv\"\u003e%PROTO_FILE%\u003c/span\u003e \u003cspan class=\"na\"\u003e--plugin\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"kd\"\u003eprotoc\u003c/span\u003e\u003cspan class=\"na\"\u003e-gen-doc\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e%PLUGIN_PROTOC_GEN_DOC%\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003erem カスタムテンプレートを使用して出力します\u003c/span\u003e\n\u003cspan class=\"k\"\u003ecall\u003c/span\u003e \u003cspan class=\"nv\"\u003e%PROTOC%\u003c/span\u003e \u003cspan class=\"na\"\u003e-I\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e%WELLKNOWN_PROTO_DIR%\u003c/span\u003e \u003cspan class=\"na\"\u003e-I\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e%PROJECT_DIR%\u003c/span\u003e \u003cspan class=\"na\"\u003e--doc\u003c/span\u003e_out\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"nv\"\u003e%MARKDOWN_TEMPLATE%\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e\u003cspan class=\"kd\"\u003eall\u003c/span\u003e.custom.md:\u003cspan class=\"nv\"\u003e%OUT_DIR%\u003c/span\u003e \u003cspan class=\"nv\"\u003e%PROTO_FILE%\u003c/span\u003e \u003cspan class=\"na\"\u003e--plugin\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"kd\"\u003eprotoc\u003c/span\u003e\u003cspan class=\"na\"\u003e-gen-doc\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"nv\"\u003e%PLUGIN_PROTOC_GEN_DOC%\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"まとめ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eまとめ\u003c/h2\u003e\n\n\u003cp\u003e任意のプロジェクトテンプレートからも proto ファイルからのソースコードを生成することができることを確認しました。\u003cbr\u003e\nコマンドラインツールを使わずに Visual Studio 上の操作だけで処理できるのは便利ですが、できることは制限されるようです。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"参考リンク\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83%E3%83%AA%E3%83%B3%E3%82%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考リンク\u003c/h2\u003e\n\n\u003cp\u003e\u003cqiita-embed-ogp src=\"https://qiita.com/ayatothos/items/ea05a70856d8812c644e\"\u003e\u003c/qiita-embed-ogp\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003cqiita-embed-ogp src=\"https://coffee-nominagara.com/2018-07-17-114005\"\u003e\u003c/qiita-embed-ogp\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003cqiita-embed-ogp src=\"https://chromium.googlesource.com/external/github.com/grpc/grpc/+/HEAD/src/csharp/BUILD-INTEGRATION.md\"\u003e\u003c/qiita-embed-ogp\u003e\u003c/p\u003e\n","createdAt":"2021-04-17T03:07:05Z","elapsedYearsFromLastModifiedAt":0,"encryptedId":"GrwrXC00Mu67wf8JpOxZfcU2HeJbWBj1Xg==--GavH9fgeNyw7VFzd--vVRlVQn/KLivYHto6tQkDQ==","isBanned":false,"isDeprecated":false,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":false,"lastModifiedAt":"2021-04-17T03:07:05Z","likesCount":2,"linkUrl":"https://qiita.com/mxProject/items/ee1c4d904c46d584b420","organization":null,"originalId":1422465,"stockedCount":5,"title":"C# VisualStudioでprotoファイルからソースコードとAPI仕様書を生成する","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%93%E3%81%AE%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88%E3%81%AE%E5%86%85%E5%AE%B9\"\u003eこのドキュメントの内容\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%92%B0%E5%A2%83\"\u003e環境\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%89%8B%E9%A0%86\"\u003e手順\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#partial-%E3%83%A1%E3%83%B3%E3%83%90%E3%83%BC%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%99%E3%82%8B%E3%81%AB%E3%81%AF\"\u003epartial メンバーを追加するには\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#grpctools-%E3%81%A7%E7%94%9F%E6%88%90%E3%81%95%E3%82%8C%E3%82%8B%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89%E3%81%A8%E3%81%AE%E9%81%95%E3%81%84\"\u003eGrpc.Tools で生成されるソースコードとの違い\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#proto-%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E3%82%A4%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%88\"\u003eproto ファイルのインポート\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%97%A2%E7%9F%A5%E3%81%AE%E5%9E%8B%E3%81%AE%E3%82%A4%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%88\"\u003e既知の型のインポート\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%8B%AC%E8%87%AA%E3%81%AE-proto-%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E7%84%A1%E7%90%86%E3%82%84%E3%82%8A%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%81%AB%E9%85%8D%E7%BD%AE%E3%81%99%E3%82%8B\"\u003e独自の proto ファイルを無理やりパッケージフォルダに配置する\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%8B%AC%E8%87%AA%E3%81%AE-proto-%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E5%86%85%E3%81%AB%E9%85%8D%E7%BD%AE%E3%81%99%E3%82%8B\"\u003e独自の proto ファイルをプロジェクト内に配置する\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%A4%87%E6%95%B0%E3%81%AE%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%A7%E5%9E%8B%E3%82%92%E5%85%B1%E7%94%A8%E3%81%99%E3%82%8B\"\u003e複数のプロジェクトで型を共用する\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#api%E4%BB%95%E6%A7%98%E6%9B%B8%E3%82%92%E5%87%BA%E5%8A%9B%E3%81%99%E3%82%8B\"\u003eAPI仕様書を出力する\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"\u003eまとめ\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%8F%82%E8%80%83%E3%83%AA%E3%83%B3%E3%82%AF\"\u003e参考リンク\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","totalPv":1107,"uuid":"ee1c4d904c46d584b420","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"+RxmAP8TwLo1fogto+9i/tU8ph7P--tUolqxV0gEzDwmhT--dEp6SI6PvAvoILIxA2Iw5A==","originalId":280969,"description":"SIerでエンジニアをしています。最近は gRPC を調べています。\r\nこれまではブログサイトを利用していましたが、Qiitaに移ってきました。\r\n","facebookUrl":null,"githubUrl":"https://github.com/mxProject","isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"","profileImageUrl":"https://qiita-image-store.s3.amazonaws.com/0/280969/profile-images/1536382732","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F280969%2Fprofile-images%2F1536382732?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=89781c87f2b369926559acc5a0c170d9","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F280969%2Fprofile-images%2F1536382732?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=2efedca10695876b4e283514f36501f2","urlName":"mxProject","websiteUrl":"https://mxproj.blogspot.com/","twitterUrl":null,"twitterUrlName":null,"revealedOrganizations":{"edges":[]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"VisualStudio","urlName":"visualstudio"},{"name":"ProtocolBuffers","urlName":"protocolbuffers"},{"name":"gRPC","urlName":"grpc"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
