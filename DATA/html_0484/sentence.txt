名前を削って「今日からお前の名前は～だ」を生成するC#のプログラムを高速化する方法を検討している記事がある。C# で湯婆婆を実装してみる「性能のいい湯婆婆を目指して」これにもう一つアプローチを加えてみたい。文字列をたくさん連結する場合は、一般にStringBuilderを使うのがよいとされているが、一つの式で+でつなぐことができるならそうしたほうが速い。そうすると、+でつないだ文字列をすべて配列に格納してString.Concatを一回呼ぶコードが吐かれるからだ。ベンチマークは.NET Core 3.1 on AMD Ryzen 7 3800Xで。それでもZStringが最速なので、使える場合はZStringを使うべきかと。


