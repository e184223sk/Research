ARFoundationで平面を認識してあれこれできるのは知っていたので、
そのあれこれした平面を手軽にオンオフできる機能は無いのか調べました。
加えて、平面認識機能そのものをオンオフする手法が無いかも調べました。調べる前はARPlaneManagerにRemovePlaneやStopRecognitionなどが
実装されていることをイメージしてましたが見当たりませんでした。別の手段を取る必要があり、また思い出してたどり着くまでに時間がかかりそうなのでメモします。まず、Sessionそのものをリセットする手法です。これは非常に簡単で、ARSessionのResetを呼び出すだけです。ただし、この手法だと平面認識そのものがやり直しになってしまうので注意が必要です。ARPlaneManagerのtrackablesからARPlaneを取り出して全て非表示にします。
再利用したいときは逆の処理を行えばOKです。ここまでの処理だけだと、生成されたPlaneを非表示にできても新たにPlaneが生成されます。
下記のようにrequestedDetectionModeを変更することで
平面認識機能のアクティブをモードから切り替えることができます。タップした平面にオブジェクトを表示し、そのオブジェクトは常にユーザーの正面を向いている、、、
という内容を結構な頻度で実装するので備忘録として書き残しておきます。回転より先に座標の移動済ませておかないと望んだ位置に出てこないのでこの手法の場合は順番注意です。調べる前はARPlaneManagerにRemovePlaneやStopRecognitionなどが
実装されていることをイメージしてましたが見当たりませんでした。冒頭で述べたこの部分ですが、フォーラムで直接言質取ったとかではないので
もしこんなのあるよってご存じの方いらっしゃいましたら教えてください。Arfoundation How To Properly Remove Planes And Ref Points
Trackable Managers
AR-Foundation Clean Plane Detection
【Unity】ビルボードで常にカメラの方に向く木を作る
【Unity】ARFoundation入門～機能解説から平面検知の実装まで～


