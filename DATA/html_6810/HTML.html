<!DOCTYPE html><html><head><meta charset="utf-8" /><title>NUKE Build ノススメ - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/masakura/items/9fa0449ca18101def887" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="feur9n+kgeAYotC0bCf5dBpQCWtJ4zJxPB/w+PUaV9YAioMwi03l++rm1nPuqsD/KUaIpIKcyn8aqG/jGmIAgQ==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta property="og:type" content="article"><meta property="og:title" content="NUKE Build ノススメ - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1UbFZMUlNCQ2RXbHNaQ0RqZzQ3amdybmpncm5qZzZFJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NTQmdHh0LWNsaXA9ZWxsaXBzaXMmdHh0LWFsaWduPWNlbnRlciUyQ21pZGRsZSZzPTIyMjhkOGJiNjgwYjc5MTNlY2E3MGNkZTk0YzBlM2E4&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRzFoYzJGcmRYSmgmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT00NSZ0eHQtYWxpZ249cmlnaHQlMkNib3R0b20mcz1iMDA3YjA3ZDIzNjQwMmI2NjNiY2IzZjdiZTZiNDhlMA&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=42c7e74c672d8f39ec6c42dca61ffbc1"><meta property="og:description" content="

.NET Build tool あれこれ

前振りが面倒な人はNUKE の使い方からどうぞ!

.NET は昔からビルドツールをあまり必要としていません。実際には MSBuild を暗黙的に使っているのですが、意識して使うことはま..."><meta content="https://qiita.com/masakura/items/9fa0449ca18101def887" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,dotnet,nukebuild" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-1cab7810-81d3-43ed-9702-81fe3dad7e51"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2Fmasakura%2Fitems%2F9fa0449ca18101def887">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2Fmasakura%2Fitems%2F9fa0449ca18101def887">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-1cab7810-81d3-43ed-9702-81fe3dad7e51">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2021-02-18T20:43:53.000+09:00","dateModified":"2021-02-18T20:43:53.000+09:00","headline":"NUKE Build ノススメ","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1UbFZMUlNCQ2RXbHNaQ0RqZzQ3amdybmpncm5qZzZFJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NTQmdHh0LWNsaXA9ZWxsaXBzaXMmdHh0LWFsaWduPWNlbnRlciUyQ21pZGRsZSZzPTIyMjhkOGJiNjgwYjc5MTNlY2E3MGNkZTk0YzBlM2E4\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRzFoYzJGcmRYSmgmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT00NSZ0eHQtYWxpZ249cmlnaHQlMkNib3R0b20mcz1iMDA3YjA3ZDIzNjQwMmI2NjNiY2IzZjdiZTZiNDhlMA\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=42c7e74c672d8f39ec6c42dca61ffbc1","mainEntityOfPage":"https://qiita.com/masakura/items/9fa0449ca18101def887","author":{"@type":"Person","address":null,"email":null,"identifier":"masakura","name":"masakura","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F103982%2Fprofile-images%2F1473709167?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=6a0af9b76cbb2daabeb9bff91a5f0ff1","url":"https://qiita.com/masakura","description":null,"memberOf":[{"@type":"Organization","address":"東京都内（仙台市内、鹿児島市内、福岡市内）","legalName":"GitLab Japan","image":"https://s3-ap-northeast-1.amazonaws.com/qiita-organization-image/6d5b9b7b73a396288c95ee5527f5412f48d54d6a/original.jpg?1527581421","logo":"https://s3-ap-northeast-1.amazonaws.com/qiita-organization-image/42d66793f6dd0768a4a3ae70a2594abc63e7dd89/original.jpg?1527581391","identifier":"gitlab-jp","description":"Git/DevOpsツールチェーンプラットフォーム「GitLab」についての日本コミュニティ。"}]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://zine.qiita.com/interview/202107-hitachi/?utm_source=qiita&amp;utm_medium=header-banner">グループ会社出納業務の証票処理を70％自動化。日立のAI-OCR技術とは？</a><a target="_blank" id="header_text_message_2" href="https://zine.qiita.com/interview/202107-hitachi/?utm_source=qiita&amp;utm_medium=header-banner">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"masakura","type":"items","id":"9fa0449ca18101def887"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"グループ会社出納業務の証票処理を70％自動化。日立のAI-OCR技術とは？","url":"https://zine.qiita.com/interview/202107-hitachi/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"masakura","type":"items","id":"9fa0449ca18101def887"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":1,"pos_id":"header_text_message_1","message":"グループ会社出納業務の証票処理を70％自動化。日立のAI-OCR技術とは？","url":"https://zine.qiita.com/interview/202107-hitachi/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"masakura","type":"items","id":"9fa0449ca18101def887"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":1,"pos_id":"header_text_message_2","message":"グループ会社出納業務の証票処理を70％自動化。日立のAI-OCR技術とは？","url":"https://zine.qiita.com/interview/202107-hitachi/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/masakura/items/9fa0449ca18101def887","location":"/masakura/items/9fa0449ca18101def887","scheme":"https","host":"qiita.com","port":null,"pathname":"/masakura/items/9fa0449ca18101def887","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"zgOoUpVFKBKNdyHJdfI4AYUsmGf2btT8LihYf2LYvuWzYoCUYaxMCX8zJw73fwGKtjoZqD0RLPIIn8dkjaDpsg==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-20ba9192-1274-4adc-b412-6110945b0781"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/masakura/items/9fa0449ca18101def887/likers" class="css-1iupg5d">1</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">1</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/9fa0449ca18101def887/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/masakura/items/9fa0449ca18101def887/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/masakura/items/9fa0449ca18101def887/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/masakura/items/9fa0449ca18101def887/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/masakura/items/9fa0449ca18101def887.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/masakura"><img class="css-100alwu eyfquo10" src="https://qiita-image-store.s3.amazonaws.com/0/103982/profile-images/1473709167" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/masakura" class="css-10ougpm">@<!-- -->masakura</a><div class="css-1ay9vb9"><time dateTime="2021-02-18T11:43:53Z" class="css-m19uds">posted at 2021-02-18</time></div></div></div></div></div><h1 class="css-cgzq40">NUKE Build ノススメ</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/dotnet" class="css-4czcte">dotnet</a><a href="/tags/nukebuild" class="css-4czcte">nukebuild</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div>
<h1>
<span id="net-build-tool-あれこれ" class="fragment"></span><a href="#net-build-tool-%E3%81%82%E3%82%8C%E3%81%93%E3%82%8C"><i class="fa fa-link"></i></a>.NET Build tool あれこれ</h1>

<p>前振りが面倒な人は<a href="#nuke-%E3%81%AE%E4%BD%BF%E3%81%84%E6%96%B9">NUKE の使い方</a>からどうぞ!</p>

<p>.NET は昔からビルドツールをあまり必要としていません。実際には MSBuild を暗黙的に使っているのですが、意識して使うことはまれなのではないでしょうか?</p>

<p>自分は CI を多用するようになってからビルドツールを利用するようになりました。</p>

<ul>
<li>テストの前にテスト用のデータベースを作成したうえでマイグレーションをする</li>
<li>コード検査の結果を成型する</li>
<li>リリースタグに合わせてバージョン番号を埋め込む</li>
</ul>

<p>などなど。</p>

<p>最初のうちはコマンドを並べていただけだったのですが、コミットしてプッシュして、CI ジョブはいまた失敗! を繰り返すうちにいやになってきました。</p>

<p>コマンドがたくさんあると手元でテストするのも大変です。手元でテストしたコマンドを CI に設定するときにコピペミスなんかやってすごくいらいらします。</p>

<h2>
<span id="あれこれ" class="fragment"></span><a href="#%E3%81%82%E3%82%8C%E3%81%93%E3%82%8C"><i class="fa fa-link"></i></a>あれこれ</h2>

<h3>
<span id="シェルスクリプト" class="fragment"></span><a href="#%E3%82%B7%E3%82%A7%E3%83%AB%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88"><i class="fa fa-link"></i></a>シェルスクリプト</h3>

<p>個人的にはこれが一番好みです。コマンドを並べるのの延長線上ですし。</p>

<p>ですが、開発は Windows で、CI は Linux でとなっているとやりにくいんですね。</p>

<ul>
<li>Windows だと、書いたシェルスクリプトがそう簡単に試せない</li>
<li>Windows で Git リポジトリにシェルスクリプトを +x パーミッションどうやって与えるの?</li>
<li>複雑な処理になると、やっぱしんどい</li>
</ul>

<h3>
<span id="powershell" class="fragment"></span><a href="#powershell"><i class="fa fa-link"></i></a>PowerShell</h3>

<p>開発が Windows で CI も Windows の時はシェルスクリプトが使えないので、PowerShell を使いました。</p>

<p>.NET のクラスライブラリが使えるのはとてもいいです。シェルスクリプトだと、XML をパースして書き換えるとか、接続文字列を書き換えるとかちょっとしんどいんですね。</p>

<ul>
<li>PowerShell になじめない (おっさんだから? 新しいプログラム言語は覚えられるから違うと思うけど...)</li>
<li>Linux で動かない (わけじゃないけど、シェルスクリプトほど手軽ではない)</li>
<li>インスタンスメソッドと関数で挙動が違う</li>
<li>バックグラウンドでジョブを実行するだけでなんでこんなにくろうするんや...</li>
</ul>

<h3>
<span id="cake" class="fragment"></span><a href="#cake"><i class="fa fa-link"></i></a>Cake</h3>

<p>Windows でも Linux でも動くビルドツールということで、紹介してもらった <a href="https://cakebuild.net/" rel="nofollow noopener" target="_blank">Cake</a> も使いました。</p>

<p>検索すると PHP の方が出てくるので、<code>Cake Build</code> で検索するのをお勧めします。</p>

<p>Cake はほぼ C# でビルドスクリプトが書けます。Cake Script は (おそらく) C# のコードに変換され、ビルドされ、.NET 上で実行されます。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="kt">var</span> <span class="n">target</span> <span class="p">=</span> <span class="nf">Argument</span><span class="p">(</span><span class="s">"target"</span><span class="p">,</span> <span class="s">"Build"</span><span class="p">);</span>

<span class="nf">Task</span><span class="p">(</span><span class="s">"Build"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">Does</span><span class="p">(()</span> <span class="p">=&gt;</span>
    <span class="p">{</span>
        <span class="nf">DotNetCoreBuild</span><span class="p">(</span><span class="s">"."</span><span class="p">);</span>
    <span class="p">});</span>

<span class="nf">RunTask</span><span class="p">(</span><span class="n">target</span><span class="p">);</span>
</code></pre></div></div>

<p>公式・非公式を合わせると、様々なアドインが用意されていまして、かなり便利です。</p>

<p>でも、この Cake Script、Visual Studio や Rider のコード補完などの支援を得られないんですね。IDE の支援に頼っている身としてはかなり苦しい。</p>

<p>足りないアドインを Cake Script じゃなくて、アセンブリとして作れば IDE の支援が得られるのですが、そのアセンブリの管理がめんどくさいという!</p>

<h3>
<span id="nuke" class="fragment"></span><a href="#nuke"><i class="fa fa-link"></i></a>NUKE</h3>

<p>ひょんなことから発見したのが <a>NUKE</a> です。</p>

<p>使ってみてびっくり。Visual Studio のソリューションに <code>_build</code> って名前のプロジェクトと <code>Build.cs</code> が作られて、そのプロジェクトを実行するという強引さ!</p>

<p><a href="https://camo.qiitausercontent.com/2bbf6835866eb58b41fda66c28eff8f097eb4533/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130333938322f30656661656363382d373630612d346635362d643635662d6164653931353032393833342e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F103982%2F0efaecc8-760a-4f56-d65f-ade915029834.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=6cd59b9cf073013995d3fa3d7509c27b" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/103982/0efaecc8-760a-4f56-d65f-ade915029834.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F103982%2F0efaecc8-760a-4f56-d65f-ade915029834.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=a96d27075d14675c9df868936f099880 1x" loading="lazy"></a></p>

<p>普通の C# プロジェクトのなので、IDE のコード補完などの支援がバリバリ効きます!</p>

<p>シェルスクリプトほどお手軽ではありませんが、C# のコードを書く延長で書けるのはいいですね!</p>

<h2>
<span id="nuke-の使い方" class="fragment"></span><a href="#nuke-%E3%81%AE%E4%BD%BF%E3%81%84%E6%96%B9"><i class="fa fa-link"></i></a>NUKE の使い方</h2>

<h3>
<span id="セットアップ" class="fragment"></span><a href="#%E3%82%BB%E3%83%83%E3%83%88%E3%82%A2%E3%83%83%E3%83%97"><i class="fa fa-link"></i></a>セットアップ</h3>

<p>セットアップの前に、Visual Studio でプロジェクトを作りましょう!</p>

<p>コマンドでやりたい人はこんな感じで。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>$ mkdir app
$ cd app
$ dotnet new sln
$ dotnet new console --output ConsoleApp
$ dotnet sln add ConsoleApp
</code></pre></div></div>

<p>NUKE は .NET Tool 版がおすすめです。インストールしちゃいます。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>$ dotnet new tool-manifest
$ dotnet tool install Nuke.GlobalTool
</code></pre></div></div>

<p>続いてセットアップです。いろいろと聞かれますが、とりあえずデフォルトでよいでしょう。ただ、<code>GitVersion</code> は <code>No</code> を選んでください。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>$ dotnet nuke :setup:

NUKE Global Tool version 5.0.2 (Windows,.NETCoreApp,Version=v2.1)
Could not find root directory. Falling back to working directory.
How should the build project be named?
≫
￢  _build

...

Do you use GitVersion?
￢  No, custom versioning
Creating directory 'C:\Users\masakura\tmp\app\.\build'...
Creating directory 'C:\Users\masakura\tmp\app\source'...
Creating directory 'C:\Users\masakura\tmp\app\tests'...
</code></pre></div></div>

<p>ビルドスクリプトのプロジェクトができましたので、ビルドします。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>$ dotnet nuke build

...

═══════════════════════════════════════
Target             Status      Duration
───────────────────────────────────────
Restore            Executed        0:01
Compile            Executed        0:01
───────────────────────────────────────
Total                              0:03
═══════════════════════════════════════

Build succeeded on 2021/02/18 19:36:15. ＼（＾ᴗ＾）／
</code></pre></div></div>

<p>ビルドできました!</p>

<p>ところで、横長の顔文字って開発者って日本人なんでしょうか?</p>

<h3>
<span id="ビルドのカスタマイズ" class="fragment"></span><a href="#%E3%83%93%E3%83%AB%E3%83%89%E3%81%AE%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA"><i class="fa fa-link"></i></a>ビルドのカスタマイズ</h3>

<p>ビルドスクリプトのカスタマイズは <code>build</code> プロジェクトの <code>Build.cs</code> ファイルを修正します。</p>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">build/Build.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">class</span> <span class="nc">Build</span><span class="p">:</span> <span class="n">NukeBuild</span>
<span class="p">{</span>
    <span class="c1">// ...</span>

    <span class="n">Target</span> <span class="n">Restore</span> <span class="p">=&gt;</span> <span class="n">_</span> <span class="p">=&gt;</span> <span class="n">_</span>
        <span class="p">.</span><span class="nf">Executes</span><span class="p">(()</span> <span class="p">=&gt;</span>
        <span class="p">{</span>
            <span class="nf">DotNetRestore</span><span class="p">(</span><span class="n">s</span> <span class="p">=&gt;</span> <span class="n">s</span>
                <span class="p">.</span><span class="nf">SetProjectFile</span><span class="p">(</span><span class="n">Solution</span><span class="p">));</span>
        <span class="p">});</span>

    <span class="n">Target</span> <span class="n">Compile</span> <span class="p">=&gt;</span> <span class="n">_</span> <span class="p">=&gt;</span> <span class="n">_</span>
        <span class="p">.</span><span class="nf">DependsOn</span><span class="p">(</span><span class="n">Restore</span><span class="p">)</span>
        <span class="p">.</span><span class="nf">Executes</span><span class="p">(()</span> <span class="p">=&gt;</span>
        <span class="p">{</span>
            <span class="nf">DotNetBuild</span><span class="p">(</span><span class="n">s</span> <span class="p">=&gt;</span> <span class="n">s</span>
                <span class="p">.</span><span class="nf">SetProjectFile</span><span class="p">(</span><span class="n">Solution</span><span class="p">)</span>
                <span class="p">.</span><span class="nf">SetConfiguration</span><span class="p">(</span><span class="n">Configuration</span><span class="p">)</span>
                <span class="p">.</span><span class="nf">EnableNoRestore</span><span class="p">());</span>
        <span class="p">});</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p><code>=&gt; _ =&gt; _</code> なんて、??? ってな書き方を要求されますが、そういうもんだと思ってください。(<a href="https://nuke.build/docs/getting-started/faq.html#that-----looks-weird-can-it-be-changed" rel="nofollow noopener" target="_blank">FAQ</a> にも書かれているぐらい...)</p>

<p><code>dotnet nuke Restore</code> や <code>dotnet nuke Compile</code> でそれぞれのターゲットを実行できます。詳しくは <a href="https://nuke.build/docs/authoring-builds/fundamentals.html" rel="nofollow noopener" target="_blank">公式ドキュメント</a>を読んでいただければ。</p>

<p><code>DotNetBuild()</code> などの関数がタスクになります。タスクの一覧は <a href="https://nuke.build/api/Nuke.Common/Nuke.Common.ControlFlow.html" rel="nofollow noopener" target="_blank">API Reference</a> にあるクラスのうち、<code>Tasks</code> で終わるものです。Cake と比べると少なめです。</p>

<h3>
<span id="タスクを利用する" class="fragment"></span><a href="#%E3%82%BF%E3%82%B9%E3%82%AF%E3%82%92%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>タスクを利用する</h3>

<p><a href="https://www.jetbrains.com/resharper/features/command-line.html" rel="nofollow noopener" target="_blank">ReShaper Command Line Tools</a> を利用して、コード検査をしてみます。</p>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">build/Build.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">class</span> <span class="nc">Build</span> <span class="p">:</span> <span class="n">NukeBuild</span>
<span class="p">{</span>
    <span class="c1">// ...</span>

    <span class="n">Target</span> <span class="n">Lint</span> <span class="p">=&gt;</span> <span class="n">_</span> <span class="p">=&gt;</span> <span class="n">_</span>
        <span class="p">.</span><span class="nf">DependsOn</span><span class="p">(</span><span class="n">Compile</span><span class="p">)</span>
        <span class="p">.</span><span class="nf">Executes</span><span class="p">(()</span> <span class="p">=&gt;</span>
        <span class="p">{</span>
            <span class="nf">ReSharperInspectCode</span><span class="p">(</span><span class="n">s</span> <span class="p">=&gt;</span> <span class="n">s</span>
                <span class="p">.</span><span class="nf">SetTargetPath</span><span class="p">(</span><span class="s">"app.sln"</span><span class="p">)</span>
                <span class="p">.</span><span class="nf">SetOutput</span><span class="p">(</span><span class="s">"inspection-report.xml"</span><span class="p">));</span>
        <span class="p">});</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>そして、<code>dotnet nuke Lint</code> を実行します。と、エラーが出ます。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>$ dotnet nuke Lint

...

Assertion failed: Could not find package 'JetBrains.ReSharper.GlobalTools' using:
 - Project assets file 'C:\Users\masakura\tmp\app\build\obj\project.assets.json'
 - NuGet packages config 'C:\Users\masakura\tmp\app\build\_build.csproj'
Run 'nuke :fix' to add missing references.

...
</code></pre></div></div>

<p><code>dotnet nuke :fix</code> をしろと仰せなので、実行します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>$ dotnet nuke :fix

NUKE Global Tool version 5.0.2 (Windows,.NETCoreApp,Version=v2.1)
During last execution a package was found to be missing.
Which version of 'JetBrains.ReSharper.GlobalTools' should be added?
¬  2020.3.2 (latest release)
&gt; "C:\Program Files\dotnet\dotnet.exe" --info
Added 'JetBrains.ReSharper.GlobalTools' to 'C:\Users\masakura\tmp\app\build\_build.csproj'.
</code></pre></div></div>

<p>.NET Tools 版の ReSharper Command Line Tools を <code>_build</code> プロジェクトに取り込んでくれます。</p>

<p>もう一度 <code>dotnet nuke Lint</code> とすると今度は成功します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>$ dotnet nuke Lint

Build succeeded on 2021/02/18 20:18:43. ＼（＾ᴗ＾）／
</code></pre></div></div>

<p>残念ですけど、あくまで ReSharper Command Line Tools を実行するタスクなので、コードに問題があってもビルドは失敗しません...</p>

<p>が、レポートファイルを読み込んで問題があった時は <code>Fail()</code> を呼び出すようターゲットを書き換えればよいでしょう。</p>

<h3>
<span id="パラメーター" class="fragment"></span><a href="#%E3%83%91%E3%83%A9%E3%83%A1%E3%83%BC%E3%82%BF%E3%83%BC"><i class="fa fa-link"></i></a>パラメーター</h3>

<p>パラメーターは以下のように書きます。</p>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">build/Build.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">class</span> <span class="nc">Build</span><span class="p">:</span> <span class="n">NukeBUild</span>
<span class="p">{</span>
    <span class="p">[</span><span class="nf">Parameter</span><span class="p">(</span><span class="s">"Configuration to build - Default is 'Debug' (local) or 'Release' (server)"</span><span class="p">)]</span>
    <span class="k">readonly</span> <span class="n">Configuration</span> <span class="n">Configuration</span> <span class="p">=</span> <span class="n">IsLocalBuild</span> <span class="p">?</span> <span class="n">Configuration</span><span class="p">.</span><span class="n">Debug</span> <span class="p">:</span> <span class="n">Configuration</span><span class="p">.</span><span class="n">Release</span><span class="p">;</span>

    <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p><code>dotnet nuke --configuration Release</code> とすると、<code>Configuration</code> 変数に <code>Release</code> が入ります。</p>

<p><code>Compile</code> ターゲットで、<code>.SetConfiguration(Configuration)</code> としていますので、リリースビルドになるわけです。</p>

<p>何気に <code>IsLocalBuild</code> プロパティが便利でして。これ、開発者のパソコンでビルドされたかどうかを検出してくれます。つまり、CI でビルドされているときはリリースビルドになるんですね。＼（＾ᴗ＾）／</p>

<h3>
<span id="パス" class="fragment"></span><a href="#%E3%83%91%E3%82%B9"><i class="fa fa-link"></i></a>パス</h3>

<p>少し面白いなあと思ったのが、パス。ディレクトリとかファイルとか。</p>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">build/Build.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">class</span> <span class="nc">Build</span> <span class="p">:</span> <span class="n">NukeBuild</span>
<span class="p">{</span>
    <span class="c1">// ...</span>

    <span class="n">AbsolutePath</span> <span class="n">SourceDirectory</span> <span class="p">=&gt;</span> <span class="n">RootDirectory</span> <span class="p">/</span> <span class="s">"source"</span><span class="p">;</span>
    <span class="n">AbsolutePath</span> <span class="n">TestsDirectory</span> <span class="p">=&gt;</span> <span class="n">RootDirectory</span> <span class="p">/</span> <span class="s">"tests"</span><span class="p">;</span>
    <span class="n">AbsolutePath</span> <span class="n">OutputDirectory</span> <span class="p">=&gt;</span> <span class="n">RootDirectory</span> <span class="p">/</span> <span class="s">"output"</span><span class="p">;</span>

    <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>おペーレーターオーバーロードで <code>/</code> を上書きしてそれっぽく書けるようになっています。</p>

<h3>
<span id="外部ツールを呼び出す" class="fragment"></span><a href="#%E5%A4%96%E9%83%A8%E3%83%84%E3%83%BC%E3%83%AB%E3%82%92%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%99"><i class="fa fa-link"></i></a>外部ツールを呼び出す</h3>

<p><code>Lint</code> ターゲットで出力したレポートを Codeclimate 形式の JSON ファイルに変換します。</p>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">build/Build.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">class</span> <span class="nc">Build</span> <span class="p">:</span> <span class="n">NukeBuild</span>
<span class="p">{</span>
    <span class="c1">// ...</span>

    <span class="p">[</span><span class="nf">PackageExecutable</span><span class="p">(</span><span class="s">"resharper-to-codeclimate"</span><span class="p">,</span> <span class="s">"resharper-to-codeclimate.dll"</span><span class="p">)]</span>
    <span class="k">readonly</span> <span class="n">Tool</span> <span class="n">ReSharperToCodeClimate</span><span class="p">;</span>

    <span class="n">Target</span> <span class="n">Lint</span> <span class="p">=&gt;</span> <span class="n">_</span> <span class="p">=&gt;</span> <span class="n">_</span>
        <span class="p">.</span><span class="nf">DependsOn</span><span class="p">(</span><span class="n">Compile</span><span class="p">)</span>
        <span class="p">.</span><span class="nf">Executes</span><span class="p">(()</span> <span class="p">=&gt;</span>
        <span class="p">{</span>
            <span class="nf">ReSharperInspectCode</span><span class="p">(</span><span class="n">s</span> <span class="p">=&gt;</span> <span class="n">s</span>
                <span class="p">.</span><span class="nf">SetTargetPath</span><span class="p">(</span><span class="s">"app.sln"</span><span class="p">)</span>
                <span class="p">.</span><span class="nf">SetOutput</span><span class="p">(</span><span class="s">"inspection-report.xml"</span><span class="p">));</span>
            <span class="nf">ReSharperToCodeClimate</span><span class="p">(</span><span class="s">"inspection-report.xml inspection-report.json"</span><span class="p">);</span>
        <span class="p">});</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p><code>PackageExecutable</code> で NuGet にあるパッケージを実行することができます。ツールを追加したときは <code>dotnet :fix</code> を忘れないでください。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>$ dotnet nuke Lint

Build succeeded on 2021/02/18 20:31:53. ＼（＾ᴗ＾）／
</code></pre></div></div>

<p><code>inspection-report.json</code> ファイルができていると思います。＼（＾ᴗ＾）／</p>

<p>ほかにも、実行ファイルを呼び出すこともできます。詳しくは <a href="https://nuke.build/docs/authoring-builds/cli-tools.html" rel="nofollow noopener" target="_blank">Lightweight Integration</a> をご覧ください。</p>

<p>余談ですが、GitLab は Codeclimate 形式のレポートを Merge Request (GitHub の Pull Request) に表示する機能があります。興味がある方は <a href="https://docs.gitlab.com/ce/user/project/merge_requests/code_quality.html" rel="nofollow noopener" target="_blank">Code Quality</a> をどうぞ。何気に便利です。</p>

<h2>
<span id="使ってみて" class="fragment"></span><a href="#%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%BF%E3%81%A6"><i class="fa fa-link"></i></a>使ってみて</h2>

<p>シェルスクリプトなどと比べると、起動に少し時間がかかるのが残念ですが、とても書きやすいので満足しています。複雑な処理を書く時も C# のコードそのままですし、何といっても IDE のコード補完やコード検査にコード整形ががっつりききます。</p>

<p>ばりばりビルドスクリプトを書きたい人はおすすめです。</p>

<p>タスクが少ないのはあれですが、サクッと C# でコード書いちゃえばいいだけなので、あまり気になりませんし。</p>

<p><a href="https://gitversion.net/" rel="nofollow noopener" target="_blank">GitVersion</a> との連携も予想外に便利でした。またの機会に開設しようかと思います。</p>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2Fmasakura%2Fitems%2F9fa0449ca18101def887&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2Fmasakura%2Fitems%2F9fa0449ca18101def887&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/masakura/items/9fa0449ca18101def887/likers" class="css-1iupg5d">1</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">1</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/9fa0449ca18101def887/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/masakura/items/9fa0449ca18101def887/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/masakura/items/9fa0449ca18101def887/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/masakura/items/9fa0449ca18101def887/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/masakura/items/9fa0449ca18101def887.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-20ba9192-1274-4adc-b412-6110945b0781">{"authorAnalyticsTrackingId":null,"organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-72e49cd8-993b-403b-8358-6a992c1001d9"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-72e49cd8-993b-403b-8358-6a992c1001d9">{}</script>
      
<div id="LoginModal-react-component-1ffbdb93-1910-4200-8be1-c215e8838b0c"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-1ffbdb93-1910-4200-8be1-c215e8838b0c">{}</script>
      
<div id="StockModal-react-component-3621d9a2-c6c5-476b-b893-1f02343be07c"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-3621d9a2-c6c5-476b-b893-1f02343be07c">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;q+cZMzoQGV9zcPOxOwd2aimec+H3Zkybp2gaE17QfbLWhjH1zvl9RIE09Xa5ik/hGojyLjwZtJWB34UIsagq5Q==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\n\u003ch1\u003e\n\u003cspan id=\"net-build-tool-あれこれ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#net-build-tool-%E3%81%82%E3%82%8C%E3%81%93%E3%82%8C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e.NET Build tool あれこれ\u003c/h1\u003e\n\n\u003cp\u003e前振りが面倒な人は\u003ca href=\"#nuke-%E3%81%AE%E4%BD%BF%E3%81%84%E6%96%B9\"\u003eNUKE の使い方\u003c/a\u003eからどうぞ!\u003c/p\u003e\n\n\u003cp\u003e.NET は昔からビルドツールをあまり必要としていません。実際には MSBuild を暗黙的に使っているのですが、意識して使うことはまれなのではないでしょうか?\u003c/p\u003e\n\n\u003cp\u003e自分は CI を多用するようになってからビルドツールを利用するようになりました。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eテストの前にテスト用のデータベースを作成したうえでマイグレーションをする\u003c/li\u003e\n\u003cli\u003eコード検査の結果を成型する\u003c/li\u003e\n\u003cli\u003eリリースタグに合わせてバージョン番号を埋め込む\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eなどなど。\u003c/p\u003e\n\n\u003cp\u003e最初のうちはコマンドを並べていただけだったのですが、コミットしてプッシュして、CI ジョブはいまた失敗! を繰り返すうちにいやになってきました。\u003c/p\u003e\n\n\u003cp\u003eコマンドがたくさんあると手元でテストするのも大変です。手元でテストしたコマンドを CI に設定するときにコピペミスなんかやってすごくいらいらします。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"あれこれ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%82%E3%82%8C%E3%81%93%E3%82%8C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eあれこれ\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"シェルスクリプト\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B7%E3%82%A7%E3%83%AB%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eシェルスクリプト\u003c/h3\u003e\n\n\u003cp\u003e個人的にはこれが一番好みです。コマンドを並べるのの延長線上ですし。\u003c/p\u003e\n\n\u003cp\u003eですが、開発は Windows で、CI は Linux でとなっているとやりにくいんですね。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eWindows だと、書いたシェルスクリプトがそう簡単に試せない\u003c/li\u003e\n\u003cli\u003eWindows で Git リポジトリにシェルスクリプトを +x パーミッションどうやって与えるの?\u003c/li\u003e\n\u003cli\u003e複雑な処理になると、やっぱしんどい\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"powershell\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#powershell\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ePowerShell\u003c/h3\u003e\n\n\u003cp\u003e開発が Windows で CI も Windows の時はシェルスクリプトが使えないので、PowerShell を使いました。\u003c/p\u003e\n\n\u003cp\u003e.NET のクラスライブラリが使えるのはとてもいいです。シェルスクリプトだと、XML をパースして書き換えるとか、接続文字列を書き換えるとかちょっとしんどいんですね。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003ePowerShell になじめない (おっさんだから? 新しいプログラム言語は覚えられるから違うと思うけど...)\u003c/li\u003e\n\u003cli\u003eLinux で動かない (わけじゃないけど、シェルスクリプトほど手軽ではない)\u003c/li\u003e\n\u003cli\u003eインスタンスメソッドと関数で挙動が違う\u003c/li\u003e\n\u003cli\u003eバックグラウンドでジョブを実行するだけでなんでこんなにくろうするんや...\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"cake\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#cake\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eCake\u003c/h3\u003e\n\n\u003cp\u003eWindows でも Linux でも動くビルドツールということで、紹介してもらった \u003ca href=\"https://cakebuild.net/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eCake\u003c/a\u003e も使いました。\u003c/p\u003e\n\n\u003cp\u003e検索すると PHP の方が出てくるので、\u003ccode\u003eCake Build\u003c/code\u003e で検索するのをお勧めします。\u003c/p\u003e\n\n\u003cp\u003eCake はほぼ C# でビルドスクリプトが書けます。Cake Script は (おそらく) C# のコードに変換され、ビルドされ、.NET 上で実行されます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003etarget\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003eArgument\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"target\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Build\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n\u003cspan class=\"nf\"\u003eTask\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Build\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eDoes\u003c/span\u003e\u003cspan class=\"p\"\u003e(()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"nf\"\u003eDotNetCoreBuild\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\".\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n\u003cspan class=\"nf\"\u003eRunTask\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etarget\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e公式・非公式を合わせると、様々なアドインが用意されていまして、かなり便利です。\u003c/p\u003e\n\n\u003cp\u003eでも、この Cake Script、Visual Studio や Rider のコード補完などの支援を得られないんですね。IDE の支援に頼っている身としてはかなり苦しい。\u003c/p\u003e\n\n\u003cp\u003e足りないアドインを Cake Script じゃなくて、アセンブリとして作れば IDE の支援が得られるのですが、そのアセンブリの管理がめんどくさいという!\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"nuke\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#nuke\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eNUKE\u003c/h3\u003e\n\n\u003cp\u003eひょんなことから発見したのが \u003ca\u003eNUKE\u003c/a\u003e です。\u003c/p\u003e\n\n\u003cp\u003e使ってみてびっくり。Visual Studio のソリューションに \u003ccode\u003e_build\u003c/code\u003e って名前のプロジェクトと \u003ccode\u003eBuild.cs\u003c/code\u003e が作られて、そのプロジェクトを実行するという強引さ!\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/2bbf6835866eb58b41fda66c28eff8f097eb4533/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3130333938322f30656661656363382d373630612d346635362d643635662d6164653931353032393833342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F103982%2F0efaecc8-760a-4f56-d65f-ade915029834.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=6cd59b9cf073013995d3fa3d7509c27b\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/103982/0efaecc8-760a-4f56-d65f-ade915029834.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F103982%2F0efaecc8-760a-4f56-d65f-ade915029834.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=a96d27075d14675c9df868936f099880 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e普通の C# プロジェクトのなので、IDE のコード補完などの支援がバリバリ効きます!\u003c/p\u003e\n\n\u003cp\u003eシェルスクリプトほどお手軽ではありませんが、C# のコードを書く延長で書けるのはいいですね!\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"nuke-の使い方\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#nuke-%E3%81%AE%E4%BD%BF%E3%81%84%E6%96%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eNUKE の使い方\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"セットアップ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%BB%E3%83%83%E3%83%88%E3%82%A2%E3%83%83%E3%83%97\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eセットアップ\u003c/h3\u003e\n\n\u003cp\u003eセットアップの前に、Visual Studio でプロジェクトを作りましょう!\u003c/p\u003e\n\n\u003cp\u003eコマンドでやりたい人はこんな感じで。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e$ mkdir app\n$ cd app\n$ dotnet new sln\n$ dotnet new console --output ConsoleApp\n$ dotnet sln add ConsoleApp\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eNUKE は .NET Tool 版がおすすめです。インストールしちゃいます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e$ dotnet new tool-manifest\n$ dotnet tool install Nuke.GlobalTool\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e続いてセットアップです。いろいろと聞かれますが、とりあえずデフォルトでよいでしょう。ただ、\u003ccode\u003eGitVersion\u003c/code\u003e は \u003ccode\u003eNo\u003c/code\u003e を選んでください。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e$ dotnet nuke :setup:\n\nNUKE Global Tool version 5.0.2 (Windows,.NETCoreApp,Version=v2.1)\nCould not find root directory. Falling back to working directory.\nHow should the build project be named?\n≫\n￢  _build\n\n...\n\nDo you use GitVersion?\n￢  No, custom versioning\nCreating directory 'C:\\Users\\masakura\\tmp\\app\\.\\build'...\nCreating directory 'C:\\Users\\masakura\\tmp\\app\\source'...\nCreating directory 'C:\\Users\\masakura\\tmp\\app\\tests'...\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eビルドスクリプトのプロジェクトができましたので、ビルドします。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e$ dotnet nuke build\n\n...\n\n═══════════════════════════════════════\nTarget             Status      Duration\n───────────────────────────────────────\nRestore            Executed        0:01\nCompile            Executed        0:01\n───────────────────────────────────────\nTotal                              0:03\n═══════════════════════════════════════\n\nBuild succeeded on 2021/02/18 19:36:15. ＼（＾ᴗ＾）／\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eビルドできました!\u003c/p\u003e\n\n\u003cp\u003eところで、横長の顔文字って開発者って日本人なんでしょうか?\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"ビルドのカスタマイズ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%93%E3%83%AB%E3%83%89%E3%81%AE%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eビルドのカスタマイズ\u003c/h3\u003e\n\n\u003cp\u003eビルドスクリプトのカスタマイズは \u003ccode\u003ebuild\u003c/code\u003e プロジェクトの \u003ccode\u003eBuild.cs\u003c/code\u003e ファイルを修正します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ebuild/Build.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eBuild\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eNukeBuild\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// ...\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eTarget\u003c/span\u003e \u003cspan class=\"n\"\u003eRestore\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003e_\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003e_\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eExecutes\u003c/span\u003e\u003cspan class=\"p\"\u003e(()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eDotNetRestore\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003es\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003es\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetProjectFile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eSolution\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eTarget\u003c/span\u003e \u003cspan class=\"n\"\u003eCompile\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003e_\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003e_\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eDependsOn\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eRestore\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eExecutes\u003c/span\u003e\u003cspan class=\"p\"\u003e(()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eDotNetBuild\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003es\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003es\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetProjectFile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eSolution\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetConfiguration\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eConfiguration\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eEnableNoRestore\u003c/span\u003e\u003cspan class=\"p\"\u003e());\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003e=\u0026gt; _ =\u0026gt; _\u003c/code\u003e なんて、??? ってな書き方を要求されますが、そういうもんだと思ってください。(\u003ca href=\"https://nuke.build/docs/getting-started/faq.html#that-----looks-weird-can-it-be-changed\" rel=\"nofollow noopener\" target=\"_blank\"\u003eFAQ\u003c/a\u003e にも書かれているぐらい...)\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003edotnet nuke Restore\u003c/code\u003e や \u003ccode\u003edotnet nuke Compile\u003c/code\u003e でそれぞれのターゲットを実行できます。詳しくは \u003ca href=\"https://nuke.build/docs/authoring-builds/fundamentals.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003e公式ドキュメント\u003c/a\u003eを読んでいただければ。\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003eDotNetBuild()\u003c/code\u003e などの関数がタスクになります。タスクの一覧は \u003ca href=\"https://nuke.build/api/Nuke.Common/Nuke.Common.ControlFlow.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003eAPI Reference\u003c/a\u003e にあるクラスのうち、\u003ccode\u003eTasks\u003c/code\u003e で終わるものです。Cake と比べると少なめです。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"タスクを利用する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%BF%E3%82%B9%E3%82%AF%E3%82%92%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eタスクを利用する\u003c/h3\u003e\n\n\u003cp\u003e\u003ca href=\"https://www.jetbrains.com/resharper/features/command-line.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003eReShaper Command Line Tools\u003c/a\u003e を利用して、コード検査をしてみます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ebuild/Build.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eBuild\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eNukeBuild\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// ...\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eTarget\u003c/span\u003e \u003cspan class=\"n\"\u003eLint\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003e_\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003e_\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eDependsOn\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eCompile\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eExecutes\u003c/span\u003e\u003cspan class=\"p\"\u003e(()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eReSharperInspectCode\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003es\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003es\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetTargetPath\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"app.sln\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetOutput\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"inspection-report.xml\"\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eそして、\u003ccode\u003edotnet nuke Lint\u003c/code\u003e を実行します。と、エラーが出ます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e$ dotnet nuke Lint\n\n...\n\nAssertion failed: Could not find package 'JetBrains.ReSharper.GlobalTools' using:\n - Project assets file 'C:\\Users\\masakura\\tmp\\app\\build\\obj\\project.assets.json'\n - NuGet packages config 'C:\\Users\\masakura\\tmp\\app\\build\\_build.csproj'\nRun 'nuke :fix' to add missing references.\n\n...\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003edotnet nuke :fix\u003c/code\u003e をしろと仰せなので、実行します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e$ dotnet nuke :fix\n\nNUKE Global Tool version 5.0.2 (Windows,.NETCoreApp,Version=v2.1)\nDuring last execution a package was found to be missing.\nWhich version of 'JetBrains.ReSharper.GlobalTools' should be added?\n¬  2020.3.2 (latest release)\n\u0026gt; \"C:\\Program Files\\dotnet\\dotnet.exe\" --info\nAdded 'JetBrains.ReSharper.GlobalTools' to 'C:\\Users\\masakura\\tmp\\app\\build\\_build.csproj'.\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e.NET Tools 版の ReSharper Command Line Tools を \u003ccode\u003e_build\u003c/code\u003e プロジェクトに取り込んでくれます。\u003c/p\u003e\n\n\u003cp\u003eもう一度 \u003ccode\u003edotnet nuke Lint\u003c/code\u003e とすると今度は成功します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e$ dotnet nuke Lint\n\nBuild succeeded on 2021/02/18 20:18:43. ＼（＾ᴗ＾）／\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e残念ですけど、あくまで ReSharper Command Line Tools を実行するタスクなので、コードに問題があってもビルドは失敗しません...\u003c/p\u003e\n\n\u003cp\u003eが、レポートファイルを読み込んで問題があった時は \u003ccode\u003eFail()\u003c/code\u003e を呼び出すようターゲットを書き換えればよいでしょう。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"パラメーター\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%91%E3%83%A9%E3%83%A1%E3%83%BC%E3%82%BF%E3%83%BC\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eパラメーター\u003c/h3\u003e\n\n\u003cp\u003eパラメーターは以下のように書きます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ebuild/Build.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eBuild\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eNukeBUild\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003eParameter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Configuration to build - Default is 'Debug' (local) or 'Release' (server)\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"n\"\u003eConfiguration\u003c/span\u003e \u003cspan class=\"n\"\u003eConfiguration\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eIsLocalBuild\u003c/span\u003e \u003cspan class=\"p\"\u003e?\u003c/span\u003e \u003cspan class=\"n\"\u003eConfiguration\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDebug\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eConfiguration\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eRelease\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// ...\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003edotnet nuke --configuration Release\u003c/code\u003e とすると、\u003ccode\u003eConfiguration\u003c/code\u003e 変数に \u003ccode\u003eRelease\u003c/code\u003e が入ります。\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003eCompile\u003c/code\u003e ターゲットで、\u003ccode\u003e.SetConfiguration(Configuration)\u003c/code\u003e としていますので、リリースビルドになるわけです。\u003c/p\u003e\n\n\u003cp\u003e何気に \u003ccode\u003eIsLocalBuild\u003c/code\u003e プロパティが便利でして。これ、開発者のパソコンでビルドされたかどうかを検出してくれます。つまり、CI でビルドされているときはリリースビルドになるんですね。＼（＾ᴗ＾）／\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"パス\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%91%E3%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eパス\u003c/h3\u003e\n\n\u003cp\u003e少し面白いなあと思ったのが、パス。ディレクトリとかファイルとか。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ebuild/Build.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eBuild\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eNukeBuild\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// ...\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eAbsolutePath\u003c/span\u003e \u003cspan class=\"n\"\u003eSourceDirectory\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eRootDirectory\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"s\"\u003e\"source\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eAbsolutePath\u003c/span\u003e \u003cspan class=\"n\"\u003eTestsDirectory\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eRootDirectory\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"s\"\u003e\"tests\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eAbsolutePath\u003c/span\u003e \u003cspan class=\"n\"\u003eOutputDirectory\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eRootDirectory\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"s\"\u003e\"output\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// ...\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eおペーレーターオーバーロードで \u003ccode\u003e/\u003c/code\u003e を上書きしてそれっぽく書けるようになっています。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"外部ツールを呼び出す\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%A4%96%E9%83%A8%E3%83%84%E3%83%BC%E3%83%AB%E3%82%92%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e外部ツールを呼び出す\u003c/h3\u003e\n\n\u003cp\u003e\u003ccode\u003eLint\u003c/code\u003e ターゲットで出力したレポートを Codeclimate 形式の JSON ファイルに変換します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ebuild/Build.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eBuild\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eNukeBuild\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// ...\u003c/span\u003e\n\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003ePackageExecutable\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"resharper-to-codeclimate\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"resharper-to-codeclimate.dll\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"n\"\u003eTool\u003c/span\u003e \u003cspan class=\"n\"\u003eReSharperToCodeClimate\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eTarget\u003c/span\u003e \u003cspan class=\"n\"\u003eLint\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003e_\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003e_\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eDependsOn\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eCompile\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eExecutes\u003c/span\u003e\u003cspan class=\"p\"\u003e(()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eReSharperInspectCode\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003es\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003es\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetTargetPath\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"app.sln\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetOutput\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"inspection-report.xml\"\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eReSharperToCodeClimate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"inspection-report.xml inspection-report.json\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003ePackageExecutable\u003c/code\u003e で NuGet にあるパッケージを実行することができます。ツールを追加したときは \u003ccode\u003edotnet :fix\u003c/code\u003e を忘れないでください。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e$ dotnet nuke Lint\n\nBuild succeeded on 2021/02/18 20:31:53. ＼（＾ᴗ＾）／\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003einspection-report.json\u003c/code\u003e ファイルができていると思います。＼（＾ᴗ＾）／\u003c/p\u003e\n\n\u003cp\u003eほかにも、実行ファイルを呼び出すこともできます。詳しくは \u003ca href=\"https://nuke.build/docs/authoring-builds/cli-tools.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003eLightweight Integration\u003c/a\u003e をご覧ください。\u003c/p\u003e\n\n\u003cp\u003e余談ですが、GitLab は Codeclimate 形式のレポートを Merge Request (GitHub の Pull Request) に表示する機能があります。興味がある方は \u003ca href=\"https://docs.gitlab.com/ce/user/project/merge_requests/code_quality.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003eCode Quality\u003c/a\u003e をどうぞ。何気に便利です。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"使ってみて\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%BF%E3%81%A6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e使ってみて\u003c/h2\u003e\n\n\u003cp\u003eシェルスクリプトなどと比べると、起動に少し時間がかかるのが残念ですが、とても書きやすいので満足しています。複雑な処理を書く時も C# のコードそのままですし、何といっても IDE のコード補完やコード検査にコード整形ががっつりききます。\u003c/p\u003e\n\n\u003cp\u003eばりばりビルドスクリプトを書きたい人はおすすめです。\u003c/p\u003e\n\n\u003cp\u003eタスクが少ないのはあれですが、サクッと C# でコード書いちゃえばいいだけなので、あまり気になりませんし。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://gitversion.net/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eGitVersion\u003c/a\u003e との連携も予想外に便利でした。またの機会に開設しようかと思います。\u003c/p\u003e\n","createdAt":"2021-02-18T11:43:53Z","elapsedYearsFromLastModifiedAt":0,"encryptedId":"RORvY+TSqtY3frZ4CyzY3AcKIu56SU64hA==--sWGTOyTnsmHrxlEW--zyXMDeZMV+XeHrhStrjVUw==","isBanned":false,"isDeprecated":false,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":false,"lastModifiedAt":"2021-02-18T11:43:53Z","likesCount":1,"linkUrl":"https://qiita.com/masakura/items/9fa0449ca18101def887","organization":null,"originalId":1394376,"stockedCount":1,"title":"NUKE Build ノススメ","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#net-build-tool-%E3%81%82%E3%82%8C%E3%81%93%E3%82%8C\"\u003e.NET Build tool あれこれ\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%82%E3%82%8C%E3%81%93%E3%82%8C\"\u003eあれこれ\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%B7%E3%82%A7%E3%83%AB%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88\"\u003eシェルスクリプト\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#powershell\"\u003ePowerShell\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#cake\"\u003eCake\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#nuke\"\u003eNUKE\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#nuke-%E3%81%AE%E4%BD%BF%E3%81%84%E6%96%B9\"\u003eNUKE の使い方\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%BB%E3%83%83%E3%83%88%E3%82%A2%E3%83%83%E3%83%97\"\u003eセットアップ\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%93%E3%83%AB%E3%83%89%E3%81%AE%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA\"\u003eビルドのカスタマイズ\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%BF%E3%82%B9%E3%82%AF%E3%82%92%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B\"\u003eタスクを利用する\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%91%E3%83%A9%E3%83%A1%E3%83%BC%E3%82%BF%E3%83%BC\"\u003eパラメーター\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%91%E3%82%B9\"\u003eパス\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%A4%96%E9%83%A8%E3%83%84%E3%83%BC%E3%83%AB%E3%82%92%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%99\"\u003e外部ツールを呼び出す\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%BF%E3%81%A6\"\u003e使ってみて\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","totalPv":606,"uuid":"9fa0449ca18101def887","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"XTLJvwjSY+PbN6RtPn6BIJD/bu9i--47Rbk5uJlLEkAnae--mp+rEVyShpj4/JkhX8RIUw==","originalId":103982,"description":"","facebookUrl":null,"githubUrl":"https://github.com/masakura","isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"","profileImageUrl":"https://qiita-image-store.s3.amazonaws.com/0/103982/profile-images/1473709167","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F103982%2Fprofile-images%2F1473709167?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=a4322cbdbd29741fbbd608283d28118c","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F103982%2Fprofile-images%2F1473709167?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=6a0af9b76cbb2daabeb9bff91a5f0ff1","urlName":"masakura","websiteUrl":null,"twitterUrl":null,"twitterUrlName":null,"revealedOrganizations":{"edges":[{"node":{"encryptedId":"2ZIG7ePAxMKvonM2u43Thl1A0gpoFSU75xw=--B7peUIpfrIYSOf59--q34e2tMdavcIMuuokSLmNA==","isBetaReleaseEnabled":false,"isFollowableByViewer":false,"isFollowedByViewer":false,"name":"GitLab Japan","logoUrl":"https://s3-ap-northeast-1.amazonaws.com/qiita-organization-image/42d66793f6dd0768a4a3ae70a2594abc63e7dd89/original.jpg?1527581391","urlName":"gitlab-jp","description":"Git/DevOpsツールチェーンプラットフォーム「GitLab」についての日本コミュニティ。","url":"https://gitlab-jp.connpass.com/"}}]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"dotnet","urlName":"dotnet"},{"name":"nukebuild","urlName":"nukebuild"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
