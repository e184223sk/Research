<!DOCTYPE html><html><head><meta charset="utf-8" /><title>XamarinでAndroid WearのWatch Faceアプリを作ってみよう！（Vol.2 : プログラム作成編（Page-2）） - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/nia_tn1012/items/52b25bfa86c91baee16d" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="NBKpaOltkeGAT4oHXmrawdlus9j6/V6pDsl2HMKkdK7y5IaAdlwyocaX1oh5A2pv6r9AjJuzhn6E6HXMPH6Jkg==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta content="@nia_tn1012" name="twitter:creator" /><meta property="og:type" content="article"><meta property="og:title" content="XamarinでAndroid WearのWatch Faceアプリを作ってみよう！（Vol.2 : プログラム作成編（Page-2）） - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1XR0Z0WVhKcGJ1T0JwMEZ1WkhKdmFXUWdWMlZoY3VPQnJsZGhkR05vSUVaaFkyWGpncUxqZzVmamc2cmpncExrdlp6amdhUGpnYWJqZ2JfamdvampnWWJ2dklIdnZJaFdiMnd1TWlBNklPT0RsLU9EcmVPQ3NPT0RxZU9Eb09TOW5PYUlrT2UzcU8tOGlGQmhaMlV0TXUtOGllLThpUSZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTU0JnR4dC1jbGlwPWVsbGlwc2lzJnR4dC1hbGlnbj1jZW50ZXIlMkNtaWRkbGUmcz05ZjBiZTFmZDFkNmY3ZGU3ODViZGJmZTQ2NzljYWNjOQ&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRzVwWVY5MGJqRXdNVEkmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT00NSZ0eHQtYWxpZ249cmlnaHQlMkNib3R0b20mcz02MGU0MGQ4NTc4OTgzODQ0YjhhZWMzMzk2YzI2N2Q2Zg&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=9d8abd41b30c1a6fc0fc7b2e2e7daed8"><meta property="og:description" content="本記事は、Vol.2 : プログラム作成編（Page-1）の続きです。


3. Watch FaceのEngineクラスを作成（続き）

ここからは、AnalogWatchFaceEngineクラスのメソッドを実装していきます。

..."><meta content="https://qiita.com/nia_tn1012/items/52b25bfa86c91baee16d" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,Xamarin,Xamarin.Android,AndroidWear,WatchFace" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 1nzh4zz 38fzdi helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-1nzh4zz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 32px;background-color:#FBE69E;color:rgba(0,0,0,0.87);line-height:1.5;font-weight:600;}@media (max-width:770px){.css-1nzh4zz{padding:16px;}}.css-38fzdi{color:#CA832A;margin-right:4px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-a9f5a3a2-3438-46f6-8bec-c641e8fa2b68"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2Fnia_tn1012%2Fitems%2F52b25bfa86c91baee16d">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2Fnia_tn1012%2Fitems%2F52b25bfa86c91baee16d">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-a9f5a3a2-3438-46f6-8bec-c641e8fa2b68">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2016-12-20T16:44:12.000+09:00","dateModified":"2016-12-20T23:20:02.000+09:00","headline":"XamarinでAndroid WearのWatch Faceアプリを作ってみよう！（Vol.2 : プログラム作成編（Page-2））","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1XR0Z0WVhKcGJ1T0JwMEZ1WkhKdmFXUWdWMlZoY3VPQnJsZGhkR05vSUVaaFkyWGpncUxqZzVmamc2cmpncExrdlp6amdhUGpnYWJqZ2JfamdvampnWWJ2dklIdnZJaFdiMnd1TWlBNklPT0RsLU9EcmVPQ3NPT0RxZU9Eb09TOW5PYUlrT2UzcU8tOGlGQmhaMlV0TXUtOGllLThpUSZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTU0JnR4dC1jbGlwPWVsbGlwc2lzJnR4dC1hbGlnbj1jZW50ZXIlMkNtaWRkbGUmcz05ZjBiZTFmZDFkNmY3ZGU3ODViZGJmZTQ2NzljYWNjOQ\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRzVwWVY5MGJqRXdNVEkmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT00NSZ0eHQtYWxpZ249cmlnaHQlMkNib3R0b20mcz02MGU0MGQ4NTc4OTgzODQ0YjhhZWMzMzk2YzI2N2Q2Zg\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=9d8abd41b30c1a6fc0fc7b2e2e7daed8","mainEntityOfPage":"https://qiita.com/nia_tn1012/items/52b25bfa86c91baee16d","author":{"@type":"Person","address":"Kanagawa, Japan","email":null,"identifier":"nia_tn1012","name":"nia_tn1012","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F78881%2Fprofile-images%2F1629634397?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=061a85fe142ddfa4ed861b7ac57c74a9","url":"https://qiita.com/nia_tn1012","description":"湘南生まれのITエンジニア（サーバー・フロント・DB・インフラ（クラウド））です。主にC#、PHP、TypeScript、GO言語、Docker、gRPCを使っています。好物は紅茶とコーヒー、シラス丼、趣味は写真撮影と音ゲーです。よろしくお願いします！","memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://increments.connpass.com/event/211948/">【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup</a><a target="_blank" id="header_text_message_2" href="https://increments.connpass.com/event/211948/">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"nia_tn1012","type":"items","id":"52b25bfa86c91baee16d"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"nia_tn1012","type":"items","id":"52b25bfa86c91baee16d"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":2,"pos_id":"header_text_message_1","message":"【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"nia_tn1012","type":"items","id":"52b25bfa86c91baee16d"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":2,"pos_id":"header_text_message_2","message":"【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/nia_tn1012/items/52b25bfa86c91baee16d","location":"/nia_tn1012/items/52b25bfa86c91baee16d","scheme":"https","host":"qiita.com","port":null,"pathname":"/nia_tn1012/items/52b25bfa86c91baee16d","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"Y7L8TRePXUIyHdAXy+XWsRYhBH5D6666ncQqQqikIj+lRNOliL7+AnTFjJjsjGYfJfD3KiKldm0X5SmSVn7fAw==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-d988a1da-5acb-4558-8c91-7359dee5881c"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/nia_tn1012/items/52b25bfa86c91baee16d/likers" class="css-1iupg5d">1</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">1</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/52b25bfa86c91baee16d/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/nia_tn1012/items/52b25bfa86c91baee16d/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/nia_tn1012/items/52b25bfa86c91baee16d/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/nia_tn1012/items/52b25bfa86c91baee16d/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/nia_tn1012/items/52b25bfa86c91baee16d.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-1nzh4zz"><span class="fa fa-fw fa-warning css-38fzdi"></span><p>More than 3 years have passed since last update.</p></div><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/nia_tn1012"><img class="css-100alwu eyfquo10" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/78881/profile-images/1629634397" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/nia_tn1012" class="css-10ougpm">@<!-- -->nia_tn1012</a><div class="css-1ay9vb9"><span><meta content="2016-12-20T07:44:12Z"/><time dateTime="2016-12-20T14:20:02Z" class="css-m19uds">updated at 2016-12-20</time></span></div></div></div></div></div><h1 class="css-cgzq40">XamarinでAndroid WearのWatch Faceアプリを作ってみよう！（Vol.2 : プログラム作成編（Page-2））</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/xamarin" class="css-4czcte">Xamarin</a><a href="/tags/xamarin.android" class="css-4czcte">Xamarin.Android</a><a href="/tags/androidwear" class="css-4czcte">AndroidWear</a><a href="/tags/watchface" class="css-4czcte">WatchFace</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div><p>本記事は、<a href="http://qiita.com/nia_tn1012/items/1a4e712c1c0284fd5f49" id="reference-3e3797a92e8ac0bba652">Vol.2 : プログラム作成編（Page-1）</a>の続きです。</p>

<h1>
<span id="3-watch-faceのengineクラスを作成続き" class="fragment"></span><a href="#3-watch-face%E3%81%AEengine%E3%82%AF%E3%83%A9%E3%82%B9%E3%82%92%E4%BD%9C%E6%88%90%E7%B6%9A%E3%81%8D"><i class="fa fa-link"></i></a>3. Watch FaceのEngineクラスを作成（続き）</h1>

<p>ここからは、AnalogWatchFaceEngineクラスのメソッドを実装していきます。</p>

<h2>
<span id="35-oncreateメソッドのオーバーライド" class="fragment"></span><a href="#35-oncreate%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89"><i class="fa fa-link"></i></a>3.5. OnCreateメソッドのオーバーライド</h2>

<p><strong><a href="https://developer.android.com/reference/android/support/wearable/watchface/WatchFaceService.Engine.html#onCreate(android.view.SurfaceHolder)" rel="nofollow noopener" target="_blank">OnCreate</a></strong>メソッドは、AnalogWatchFaceEngineのインスタンスが生成された時に実行します。<br>
ここでは主に、以下の処理を行います。</p>

<ul>
<li>リソースから画像の読み込み</li>
<li>Paintなどのグラフィックスオブジェクトを生成</li>
<li>時刻を格納するオブジェクトの初期化</li>
<li>ウォッチフェイスのスタイル（ステータスアイコンややOK Googleの表示など）を設定</li>
</ul>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">OnCreateメソッドの実装</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnCreate</span><span class="p">(</span> <span class="n">ISurfaceHolder</span> <span class="n">holder</span> <span class="p">)</span> <span class="p">{</span>

    <span class="c1">// ウォッチフェイスのスタイルを設定します。</span>
    <span class="nf">SetWatchFaceStyle</span><span class="p">(</span>
        <span class="k">new</span> <span class="n">WatchFaceStyle</span><span class="p">.</span><span class="nf">Builder</span><span class="p">(</span> <span class="n">owner</span> <span class="p">)</span>
            <span class="c1">// ユーザーからのタップイベントを有効にするかどうか設定します。</span>
            <span class="c1">//   true  : 有効</span>
            <span class="c1">//   false : 無効（デフォルト）</span>
            <span class="c1">//.SetAcceptsTapEvents( true ) </span>
            <span class="c1">// 通知が来た時の通知カードの高さを設定します。</span>
            <span class="p">.</span><span class="nf">SetCardPeekMode</span><span class="p">(</span> <span class="n">WatchFaceStyle</span><span class="p">.</span><span class="n">PeekModeShort</span> <span class="p">)</span>
            <span class="c1">// 通知カード（small cardの表示時）の背景の表示方法を設定します。</span>
            <span class="c1">//   WatchFaceStyle.BackgroundVisibilityInterruptive : 一部の重要な通知に限り、表示します。（デフォルト）</span>
            <span class="c1">//   WatchFaceStyle.BackgroundVisibilityPersistent   : 通知カードの種類にかかわらず、表示します。</span>
            <span class="p">.</span><span class="nf">SetBackgroundVisibility</span><span class="p">(</span> <span class="n">WatchFaceStyle</span><span class="p">.</span><span class="n">BackgroundVisibilityInterruptive</span> <span class="p">)</span>
            <span class="c1">// システムUIのデジタル時計を表示するするかどうかを設定します。（使用している例として、デフォルトで用意されている「シンプル」があります。）</span>
            <span class="c1">//   true  : 表示</span>
            <span class="c1">//   false : 非表示（デフォルト）</span>
            <span class="p">.</span><span class="nf">SetShowSystemUiTime</span><span class="p">(</span> <span class="k">false</span> <span class="p">)</span>
            <span class="c1">// 設定したスタイル情報をビルドします。このメソッドは最後に呼び出します。</span>
            <span class="p">.</span><span class="nf">Build</span><span class="p">()</span>
    <span class="p">);</span>

    <span class="k">base</span><span class="p">.</span><span class="nf">OnCreate</span><span class="p">(</span> <span class="n">holder</span> <span class="p">);</span>

    <span class="kt">var</span> <span class="n">resources</span> <span class="p">=</span> <span class="n">owner</span><span class="p">.</span><span class="n">Resources</span><span class="p">;</span>

    <span class="c1">// 背景用のグラフィックスオブジェクトを生成します。</span>
    <span class="n">backgroundPaint</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Paint</span><span class="p">();</span>
    <span class="c1">// リソースから背景色を読み込みます。</span>
    <span class="n">backgroundPaint</span><span class="p">.</span><span class="n">Color</span> <span class="p">=</span> <span class="n">resources</span><span class="p">.</span><span class="nf">GetColor</span><span class="p">(</span> <span class="n">Resource</span><span class="p">.</span><span class="n">Color</span><span class="p">.</span><span class="n">background</span> <span class="p">);</span>

    <span class="c1">// 時針用のPaintグラフィックスオブジェクトを生成します。</span>
    <span class="n">hourHandPaint</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Paint</span><span class="p">();</span>
    <span class="n">hourHandPaint</span><span class="p">.</span><span class="n">Color</span> <span class="p">=</span> <span class="n">resources</span><span class="p">.</span><span class="nf">GetColor</span><span class="p">(</span> <span class="n">Resource</span><span class="p">.</span><span class="n">Color</span><span class="p">.</span><span class="n">analog_hands</span> <span class="p">);</span>
    <span class="c1">// 時針の幅を設定します。</span>
    <span class="n">hourHandPaint</span><span class="p">.</span><span class="n">StrokeWidth</span> <span class="p">=</span> <span class="n">resources</span><span class="p">.</span><span class="nf">GetDimension</span><span class="p">(</span> <span class="n">Resource</span><span class="p">.</span><span class="n">Dimension</span><span class="p">.</span><span class="n">hour_hand_stroke</span> <span class="p">);</span>
    <span class="c1">// アンチエイリアスを有効にします。</span>
    <span class="n">hourHandPaint</span><span class="p">.</span><span class="n">AntiAlias</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
    <span class="c1">// 線端の形は丸形を指定します。</span>
    <span class="n">hourHandPaint</span><span class="p">.</span><span class="n">StrokeCap</span> <span class="p">=</span> <span class="n">Paint</span><span class="p">.</span><span class="n">Cap</span><span class="p">.</span><span class="n">Round</span><span class="p">;</span>

    <span class="c1">// 分針用のPaintグラフィックスオブジェクトを生成します。</span>
    <span class="n">minuteHandPaint</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Paint</span><span class="p">();</span>
    <span class="n">minuteHandPaint</span><span class="p">.</span><span class="n">Color</span> <span class="p">=</span> <span class="n">hourHandPaint</span><span class="p">.</span><span class="n">Color</span><span class="p">;</span>
    <span class="n">minuteHandPaint</span><span class="p">.</span><span class="n">StrokeWidth</span> <span class="p">=</span> <span class="n">resources</span><span class="p">.</span><span class="nf">GetDimension</span><span class="p">(</span> <span class="n">Resource</span><span class="p">.</span><span class="n">Dimension</span><span class="p">.</span><span class="n">minute_hand_stroke</span> <span class="p">);</span>
    <span class="n">minuteHandPaint</span><span class="p">.</span><span class="n">AntiAlias</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
    <span class="n">minuteHandPaint</span><span class="p">.</span><span class="n">StrokeCap</span> <span class="p">=</span> <span class="n">Paint</span><span class="p">.</span><span class="n">Cap</span><span class="p">.</span><span class="n">Round</span><span class="p">;</span>

    <span class="c1">// 秒針用のPaintグラフィックスオブジェクトを生成します。</span>
    <span class="n">secondHandPaint</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Paint</span><span class="p">();</span>
    <span class="n">secondHandPaint</span><span class="p">.</span><span class="n">Color</span> <span class="p">=</span> <span class="n">resources</span><span class="p">.</span><span class="nf">GetColor</span><span class="p">(</span> <span class="n">Resource</span><span class="p">.</span><span class="n">Color</span><span class="p">.</span><span class="n">analog_second_hand</span> <span class="p">);</span>
    <span class="n">secondHandPaint</span><span class="p">.</span><span class="n">StrokeWidth</span> <span class="p">=</span> <span class="n">resources</span><span class="p">.</span><span class="nf">GetDimension</span><span class="p">(</span> <span class="n">Resource</span><span class="p">.</span><span class="n">Dimension</span><span class="p">.</span><span class="n">second_hand_stroke</span> <span class="p">);</span>
    <span class="n">secondHandPaint</span><span class="p">.</span><span class="n">AntiAlias</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
    <span class="n">secondHandPaint</span><span class="p">.</span><span class="n">StrokeCap</span> <span class="p">=</span> <span class="n">Paint</span><span class="p">.</span><span class="n">Cap</span><span class="p">.</span><span class="n">Round</span><span class="p">;</span>

    <span class="c1">// 時刻を格納するオブジェクトを生成します。</span>
    <span class="n">nowTime</span> <span class="p">=</span> <span class="n">Java</span><span class="p">.</span><span class="n">Util</span><span class="p">.</span><span class="n">Calendar</span><span class="p">.</span><span class="nf">GetInstance</span><span class="p">(</span> <span class="n">Java</span><span class="p">.</span><span class="n">Util</span><span class="p">.</span><span class="n">TimeZone</span><span class="p">.</span><span class="n">Default</span> <span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</div>

<h3>
<span id="351-無慈悲なdeprecation" class="fragment"></span><a href="#351-%E7%84%A1%E6%85%88%E6%82%B2%E3%81%AAdeprecation"><i class="fa fa-link"></i></a>3.5.1. 無慈悲なDeprecation</h3>

<p><strong>Android.Content.Res.Resources.<a href="">GetColor</a></strong>メソッドは、Android SDK Level 23以降では非推奨となっており、代わりに<strong>Android.Support.V4.Content.ContextCompat.<a href="">GetColor</a></strong>メソッドが推奨されています。</p>

<p>しかし、そのメソッドの戻り値はColor型でなく、<strong>ARGB値を格納したint型</strong>であり、PaintオブジェクトのColorプロパティ（Color型）に代入するには、一工夫が必要です。</p>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">リソースから背景色の読み込み</span></div>
<div class="highlight"><pre class="with-code"><code><span class="c1">// 非推奨となった方法</span>
<span class="n">backgroundPaint</span><span class="p">.</span><span class="n">Color</span> <span class="p">=</span> <span class="n">owner</span><span class="p">.</span><span class="n">Resources</span><span class="p">.</span><span class="nf">GetColor</span><span class="p">(</span> <span class="n">Resource</span><span class="p">.</span><span class="n">Color</span><span class="p">.</span><span class="n">background</span> <span class="p">);</span>

<span class="c1">// 代わりに推奨された方法</span>
<span class="kt">int</span> <span class="n">argb</span> <span class="p">=</span> <span class="n">ContextCompat</span><span class="p">.</span><span class="nf">GetColor</span><span class="p">(</span> <span class="n">owner</span><span class="p">,</span> <span class="n">Resource</span><span class="p">.</span><span class="n">Color</span><span class="p">.</span><span class="n">background</span> <span class="p">);</span>
<span class="n">backgroundPaint</span><span class="p">.</span><span class="n">Color</span> <span class="p">=</span> <span class="n">Color</span><span class="p">.</span><span class="nf">Argb</span><span class="p">(</span> <span class="p">(</span> <span class="n">argb</span> <span class="p">&gt;&gt;</span> <span class="m">24</span> <span class="p">)</span> <span class="p">&amp;</span> <span class="m">0xFF</span><span class="p">,</span> <span class="p">(</span> <span class="n">argb</span> <span class="p">&gt;&gt;</span> <span class="m">16</span> <span class="p">)</span> <span class="p">&amp;</span> <span class="m">0xFF</span><span class="p">,</span> <span class="p">(</span> <span class="n">argb</span> <span class="p">&gt;&gt;</span> <span class="m">8</span> <span class="p">)</span> <span class="p">&amp;</span> <span class="m">0xFF</span><span class="p">,</span> <span class="n">argb</span> <span class="p">&amp;</span> <span class="m">0xFF</span> <span class="p">);</span>

<span class="c1">// 注 : ContextCompat.GetColorメソッドの戻り値を、Paint.Colorプロパティに直接代入できません。</span>
<span class="n">backgroundPaint</span><span class="p">.</span><span class="n">Color</span> <span class="p">=</span> <span class="n">ContextCompat</span><span class="p">.</span><span class="nf">GetColor</span><span class="p">(</span> <span class="n">owner</span><span class="p">,</span> <span class="n">Resource</span><span class="p">.</span><span class="n">Color</span><span class="p">.</span><span class="n">background</span> <span class="p">);</span>
</code></pre></div>
</div>

<h2>
<span id="36-ondestroyメソッドのオーバーライド" class="fragment"></span><a href="#36-ondestroy%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89"><i class="fa fa-link"></i></a>3.6. OnDestroyメソッドのオーバーライド</h2>

<p><strong><a href="https://developer.android.com/reference/android/support/wearable/watchface/CanvasWatchFaceService.Engine.html#onDestroy()" rel="nofollow noopener" target="_blank">OnDestroy</a></strong>メソッドは、AnalogWatchFaceEngineのインスタンスが破棄される時<sup id="fnref1"><a href="#fn1" title="例えば、現在のウォッチフェイスから別のウォッチフェイスに切り替えた時に呼び出されます。">1</a></sup>に実行します。</p>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">OnDestroyメソッドの実装</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnDestroy</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// UpdateTimeHandlerにセットされているメッセージを削除します。</span>
    <span class="n">updateTimeHandler</span><span class="p">.</span><span class="nf">RemoveMessages</span><span class="p">(</span> <span class="n">MessageUpdateTime</span> <span class="p">);</span>

    <span class="k">base</span><span class="p">.</span><span class="nf">OnDestroy</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
</div>

<h2>
<span id="37-onapplywindowinsetsメソッドのオーバーライド" class="fragment"></span><a href="#37-onapplywindowinsets%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89"><i class="fa fa-link"></i></a>3.7. OnApplyWindowInsetsメソッドのオーバーライド</h2>

<p><strong><a href="https://developer.android.com/reference/android/service/wallpaper/WallpaperService.Engine.html#onApplyWindowInsets(android.view.WindowInsets)" rel="nofollow noopener" target="_blank">OnApplyWindowInsets</a></strong>メソッドは、現在の<strong><a href="https://developer.android.com/reference/android/view/WindowInsets.html" rel="nofollow noopener" target="_blank">WindowInsets</a></strong>を適用する時に実行します。</p>

<p>例えば、Android Wearデバイスの<strong>ウィンドウの形状（丸形 or 四角形）を判別</strong>する時に利用します。</p>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">OnApplyWindowInsetsメソッドの実装</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnApplyWindowInsets</span><span class="p">(</span> <span class="n">WindowInsets</span> <span class="n">insets</span> <span class="p">)</span> <span class="p">{</span>
    <span class="k">base</span><span class="p">.</span><span class="nf">OnApplyWindowInsets</span><span class="p">(</span> <span class="n">insets</span> <span class="p">);</span>

    <span class="c1">// Android Wearのウィンドウが丸形かどうかを判別します。</span>
    <span class="c1">//bool isRound = insets.IsRound;</span>
<span class="p">}</span>
</code></pre></div>
</div>

<h2>
<span id="38-onpropertieschangedメソッドのオーバーライド" class="fragment"></span><a href="#38-onpropertieschanged%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89"><i class="fa fa-link"></i></a>3.8. OnPropertiesChangedメソッドのオーバーライド</h2>

<p><strong><a href="https://developer.android.com/reference/android/support/wearable/watchface/WatchFaceService.Engine.html#onPropertiesChanged(android.os.Bundle)" rel="nofollow noopener" target="_blank">OnPropertiesChanged</a></strong>メソッドは、Android Wearデバイスのプロパティが定められた時に実行します。</p>

<p>主に、Low-Bit制限及び焼き付き防止を必要とするかどうかのフラグを設定します。</p>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">OnPropertiesChangedメソッドの実装</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnPropertiesChanged</span><span class="p">(</span> <span class="n">Bundle</span> <span class="n">properties</span> <span class="p">)</span> <span class="p">{</span>
    <span class="k">base</span><span class="p">.</span><span class="nf">OnPropertiesChanged</span><span class="p">(</span> <span class="n">properties</span> <span class="p">);</span>

    <span class="c1">// アンビエントモード時、Low-Bit制限を必要とするかどうかの値を取得します。</span>
    <span class="n">isRequiredLowBitAmbient</span> <span class="p">=</span> <span class="n">properties</span><span class="p">.</span><span class="nf">GetBoolean</span><span class="p">(</span> <span class="n">PropertyLowBitAmbient</span><span class="p">,</span> <span class="k">false</span> <span class="p">);</span>
    <span class="c1">// アンビエントモード時、焼き付き防止を必要とするかどうかの値を取得します。</span>
    <span class="n">isReqiredBurnInProtection</span> <span class="p">=</span> <span class="n">properties</span><span class="p">.</span><span class="nf">GetBoolean</span><span class="p">(</span> <span class="n">PropertyBurnInProtection</span><span class="p">,</span> <span class="k">false</span> <span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</div>

<h2>
<span id="39-ontimetickメソッドのオーバーライド" class="fragment"></span><a href="#39-ontimetick%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89"><i class="fa fa-link"></i></a>3.9. OnTimeTickメソッドのオーバーライド</h2>

<p><strong><a href="https://developer.android.com/reference/android/support/wearable/watchface/WatchFaceService.Engine.html#onTimeTick()" rel="nofollow noopener" target="_blank">OnTimeTick</a></strong>メソッドは、Android Wearのモードにかかわらず、1分ごとに実行します。</p>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">OnTimeTickメソッドの実装</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnTimeTick</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">base</span><span class="p">.</span><span class="nf">OnTimeTick</span><span class="p">();</span>

    <span class="c1">// ウォッチフェイスを再描画します。</span>
    <span class="nf">Invalidate</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
</div>

<h2>
<span id="310-onambientmodechangedメソッドのオーバーライド" class="fragment"></span><a href="#310-onambientmodechanged%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89"><i class="fa fa-link"></i></a>3.10. OnAmbientModeChangedメソッドのオーバーライド</h2>

<p><strong><a href="https://developer.android.com/reference/android/support/wearable/watchface/WatchFaceService.Engine.html#onAmbientModeChanged(boolean)" rel="nofollow noopener" target="_blank">OnAmbientModeChanged</a></strong>メソッドは、Android Wearデバイスで「インタラクティブモード」と「アンビエントモード」を切り替えた時に実行します。</p>

<p>引数のinAmbientModeから、アンビエントモードかどうかを判別します。</p>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">OnAmbientModeChangedメソッドの実装</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnAmbientModeChanged</span><span class="p">(</span> <span class="kt">bool</span> <span class="n">inAmbientMode</span> <span class="p">)</span> <span class="p">{</span>
    <span class="k">base</span><span class="p">.</span><span class="nf">OnAmbientModeChanged</span><span class="p">(</span> <span class="n">inAmbientMode</span> <span class="p">);</span>

    <span class="c1">// アンビエントモードが変更されたかどうかを判別します。</span>
    <span class="k">if</span><span class="p">(</span> <span class="n">isAmbient</span> <span class="p">!=</span> <span class="n">inAmbientMode</span> <span class="p">)</span> <span class="p">{</span>
        <span class="c1">// 現在のアンビエントモードをセットします。</span>
        <span class="n">isAmbient</span> <span class="p">=</span> <span class="n">inAmbientMode</span><span class="p">;</span>

        <span class="c1">// デバイスがLow-Bit制限を必要とするかどうかを判別します。</span>
        <span class="k">if</span><span class="p">(</span> <span class="n">isRequiredLowBitAmbient</span> <span class="p">)</span> <span class="p">{</span>
            <span class="kt">bool</span> <span class="n">antiAlias</span> <span class="p">=</span> <span class="p">!</span><span class="n">inAmbientMode</span><span class="p">;</span>

            <span class="c1">// アンビエントモードの時は、針のPaintオブジェクトのアンチエイリアスを無効にし、</span>
            <span class="c1">// そうでなければ有効にします。</span>
            <span class="n">hourHandPaint</span><span class="p">.</span><span class="n">AntiAlias</span> <span class="p">=</span> <span class="n">antiAlias</span><span class="p">;</span>
            <span class="n">minuteHandPaint</span><span class="p">.</span><span class="n">AntiAlias</span> <span class="p">=</span> <span class="n">antiAlias</span><span class="p">;</span>
            <span class="n">secondHandPaint</span><span class="p">.</span><span class="n">AntiAlias</span> <span class="p">=</span> <span class="n">antiAlias</span><span class="p">;</span>

            <span class="c1">// ウォッチフェイスを再描画します。</span>
            <span class="nf">Invalidate</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="c1">// タイマーを更新します。</span>
        <span class="nf">UpdateTimer</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">UpdateTimerメソッド</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">private</span> <span class="k">void</span> <span class="nf">UpdateTimer</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// UpdateTimeHandlerからMessageUpdateTimeメッセージを取り除きます。</span>
    <span class="n">updateTimeHandler</span><span class="p">.</span><span class="nf">RemoveMessages</span><span class="p">(</span> <span class="n">MessageUpdateTime</span> <span class="p">);</span>
    <span class="c1">// UpdateTimeHandlerを動作させるかどうかを判別します。</span>
    <span class="k">if</span><span class="p">(</span> <span class="n">ShouldTimerBeRunning</span> <span class="p">)</span> <span class="p">{</span>
        <span class="c1">// UpdateTimeHandlerにMessageUpdateTimeメッセージをセットします。</span>
        <span class="n">updateTimeHandler</span><span class="p">.</span><span class="nf">SendEmptyMessage</span><span class="p">(</span> <span class="n">MessageUpdateTime</span> <span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>

<h2>
<span id="311-oninterruptionfilterchangedメソッドのオーバーライド" class="fragment"></span><a href="#311-oninterruptionfilterchanged%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89"><i class="fa fa-link"></i></a>3.11. OnInterruptionFilterChangedメソッドのオーバーライド</h2>

<p><strong><a href="">OnInterruptionFilterChanged</a></strong>メソッドは、Interruptionフィルターが変更された時に実行します。</p>

<p>主に、Android Wearデバイスの通知のON / OFF状態を判別する時に利用します。</p>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">OnInterruptionFilterChangedメソッドの実装</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnInterruptionFilterChanged</span><span class="p">(</span> <span class="kt">int</span> <span class="n">interruptionFilter</span> <span class="p">)</span> <span class="p">{</span>
    <span class="k">base</span><span class="p">.</span><span class="nf">OnInterruptionFilterChanged</span><span class="p">(</span> <span class="n">interruptionFilter</span> <span class="p">);</span>

    <span class="c1">// InterruptionフィルターがInterruptionFilterNoneであるかどうか判別します。</span>
    <span class="kt">bool</span> <span class="n">inMuteMode</span> <span class="p">=</span> <span class="p">(</span> <span class="n">interruptionFilter</span> <span class="p">==</span> <span class="n">InterruptionFilterNone</span> <span class="p">);</span>

    <span class="c1">// ミュートモードが変更されたかどうか判別します。</span>
    <span class="k">if</span><span class="p">(</span> <span class="n">isMute</span> <span class="p">!=</span> <span class="n">inMuteMode</span> <span class="p">)</span> <span class="p">{</span>
        <span class="n">isMute</span> <span class="p">=</span> <span class="n">inMuteMode</span><span class="p">;</span>

        <span class="c1">// ウォッチフェイスを再描画します。</span>
        <span class="nf">Invalidate</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>

<table>
<thead>
<tr>
<th>InterruptionFilterの値</th>
<th>通知</th>
</tr>
</thead>
<tbody>
<tr>
<td>InterruptionFilterAll（1）</td>
<td>すべての通知を表示します。</td>
</tr>
<tr>
<td>InterruptionFilterPriority（2）</td>
<td>優先度の高い通知のみ表示します。</td>
</tr>
<tr>
<td>InterruptionFilterNone（3）</td>
<td>すべての通知を表示しません。</td>
</tr>
<tr>
<td>InterruptionFilterAlarm（4）</td>
<td>アラームの通知のみ表示します。</td>
</tr>
<tr>
<td>InterruptionFilterUnknown（0）</td>
<td>Interruptionフィルターが利用できません。</td>
</tr>
</tbody>
</table>

<h2>
<span id="312-ontapcommandメソッドのオーバーライド" class="fragment"></span><a href="#312-ontapcommand%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89"><i class="fa fa-link"></i></a>3.12. OnTapCommandメソッドのオーバーライド</h2>

<p><strong><a href="https://developer.android.com/reference/android/support/wearable/watchface/WatchFaceService.Engine.html#onTapCommand(int,%20int,%20int,%20long)" rel="nofollow noopener" target="_blank">OnTapCommand</a></strong>メソッドは、ユーザーが画面をタップした時に実行します。</p>

<blockquote>
<p>※このメソッドを実行するには、<strong><a href="https://developer.android.com/reference/android/support/wearable/watchface/WatchFaceStyle.html" rel="nofollow noopener" target="_blank">WatchFaceStyle</a>.<a href="https://developer.android.com/reference/android/support/wearable/watchface/WatchFaceStyle.Builder.html" rel="nofollow noopener" target="_blank">Builder</a></strong>にて、<strong><a href="https://developer.android.com/reference/android/support/wearable/watchface/WatchFaceStyle.Builder.html#setAcceptsTapEvents(boolean)" rel="nofollow noopener" target="_blank">SetAcceptsTapEvents</a></strong>メソッドの引数に<strong>true</strong>を指定し、タップイベントを有効にする必要があります。<br>
※このメソッドは、Android Wear 1.3以上に対応しています。</p>
</blockquote>

<table>
<thead>
<tr>
<th>引数</th>
<th>概要</th>
</tr>
</thead>
<tbody>
<tr>
<td>tapType</td>
<td>タップの種類</td>
</tr>
<tr>
<td>xValue</td>
<td>タップした位置のX座標</td>
</tr>
<tr>
<td>yValue</td>
<td>タップした位置のY座標</td>
</tr>
<tr>
<td>eventTime</td>
<td>タップイベントが発生している時間（ミリ秒）</td>
</tr>
</tbody>
</table>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">OnTapCommandメソッドの実装</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnTapCommand</span><span class="p">(</span> <span class="kt">int</span> <span class="n">tapType</span><span class="p">,</span> <span class="kt">int</span> <span class="n">xValue</span><span class="p">,</span> <span class="kt">int</span> <span class="n">yValue</span><span class="p">,</span> <span class="kt">long</span> <span class="n">eventTime</span> <span class="p">)</span> <span class="p">{</span>
    <span class="c1">// タップの種類を判別します。</span>
    <span class="k">switch</span><span class="p">(</span> <span class="n">tapType</span> <span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="n">TapTypeTouch</span><span class="p">:</span>
            <span class="c1">// TODO : ユーザーが画面をタッチした時の処理を入れます。</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="n">TapTypeTouchCancel</span><span class="p">:</span>
            <span class="c1">// TODO : ユーザーが画面をタッチしたまま、指を動かした時の処理を入れます。</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="n">TapTypeTap</span><span class="p">:</span>
            <span class="c1">// TODO : ユーザーがタップした時の処理を入れます。</span>
            <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>

<h2>
<span id="313-ondrawメソッドのオーバーライド" class="fragment"></span><a href="#313-ondraw%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89"><i class="fa fa-link"></i></a>3.13. OnDrawメソッドのオーバーライド</h2>

<p><strong><a href="https://developer.android.com/reference/android/support/wearable/watchface/CanvasWatchFaceService.Engine.html#onDraw(android.graphics.Canvas,%20android.graphics.Rect)" rel="nofollow noopener" target="_blank">OnDraw</a></strong>メソッドは、現在時刻を取得し、Watch Faceの画面を描画します。</p>

<blockquote>
<p>※このメソッド内の処理は、できるだけ短く終えるようにし、リソースの読み込みやグラフィックスオブジェクトの生成などは、なるべく<strong>OnCreate</strong>メソッドで行うようにします。</p>
</blockquote>

<table>
<thead>
<tr>
<th>引数</th>
<th>概要</th>
</tr>
</thead>
<tbody>
<tr>
<td>canvas</td>
<td>画面に描画するためのキャンパスオブジェクト</td>
</tr>
<tr>
<td>bounds</td>
<td>画面のサイズなどを格納するオブジェクト</td>
</tr>
</tbody>
</table>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">OnDrawメソッドの実装</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnDraw</span><span class="p">(</span> <span class="n">Canvas</span> <span class="n">canvas</span><span class="p">,</span> <span class="n">Rect</span> <span class="n">bounds</span> <span class="p">)</span> <span class="p">{</span>
    <span class="c1">// 中略</span>
<span class="p">}</span>
</code></pre></div>
</div>

<h3>
<span id="3131-現在時刻を取得" class="fragment"></span><a href="#3131-%E7%8F%BE%E5%9C%A8%E6%99%82%E5%88%BB%E3%82%92%E5%8F%96%E5%BE%97"><i class="fa fa-link"></i></a>3.13.1. 現在時刻を取得</h3>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">AndroidのTimeクラスの場合</span></div>
<div class="highlight"><pre class="with-code"><code><span class="n">nowTime</span><span class="p">.</span><span class="nf">SetToNow</span><span class="p">();</span>
</code></pre></div>
</div>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">JavaのCalendarクラスの場合</span></div>
<div class="highlight"><pre class="with-code"><code><span class="n">nowTime</span> <span class="p">=</span> <span class="n">Java</span><span class="p">.</span><span class="n">Util</span><span class="p">.</span><span class="n">Calendar</span><span class="p">.</span><span class="nf">GetInstance</span><span class="p">(</span> <span class="n">nowTime</span><span class="p">.</span><span class="n">TimeZone</span> <span class="p">);</span>
</code></pre></div>
</div>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">.NETのDateTime構造体の場合</span></div>
<div class="highlight"><pre class="with-code"><code><span class="n">nowTime</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Now</span><span class="p">;</span>
</code></pre></div>
</div>

<h3>
<span id="3132-背景を描画" class="fragment"></span><a href="#3132-%E8%83%8C%E6%99%AF%E3%82%92%E6%8F%8F%E7%94%BB"><i class="fa fa-link"></i></a>3.13.2. 背景を描画</h3>

<p>画面全体を背景色で塗りつぶし、前回描画した内容を上書きします。</p>

<p>インタラクティブモードの時は、リソースから読み込んだ背景色で描画し、アンビエントモードの時は、黒色で塗りつぶします。</p>

<p><strong><a href="https://developer.android.com/reference/android/graphics/Canvas.html#drawColor(int)" rel="nofollow noopener" target="_blank">DrawColor</a></strong>メソッドは、画面全体を指定した色で塗りつぶします。<br>
<strong><a href="https://developer.android.com/reference/android/graphics/Canvas.html#drawRect(float,%20float,%20float,%20float,%20android.graphics.Paint)" rel="nofollow noopener" target="_blank">DrawRect</a></strong>メソッドは、指定した左上と右下のXY座標とPaintオブジェクトからなる矩形を描画します。</p>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">背景を描画</span></div>
<div class="highlight"><pre class="with-code"><code><span class="c1">// アンビエントモードであるかどうか判別します。</span>
<span class="k">if</span><span class="p">(</span> <span class="n">IsInAmbientMode</span> <span class="p">)</span> <span class="p">{</span>
    <span class="c1">// アンビエントモードの時は、黒色で塗りつぶします。</span>
    <span class="n">canvas</span><span class="p">.</span><span class="nf">DrawColor</span><span class="p">(</span> <span class="n">Color</span><span class="p">.</span><span class="n">Black</span> <span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span> <span class="p">{</span>
    <span class="c1">// そうでない時は、背景画像を描画します。</span>
    <span class="n">canvas</span><span class="p">.</span><span class="nf">DrawRect</span><span class="p">(</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="n">canvas</span><span class="p">.</span><span class="n">Width</span><span class="p">,</span> <span class="n">canvas</span><span class="p">.</span><span class="n">Height</span><span class="p">,</span> <span class="n">backgroundPaint</span> <span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</div>

<h3>
<span id="3133-時針分針秒針を描画" class="fragment"></span><a href="#3133-%E6%99%82%E9%87%9D%E5%88%86%E9%87%9D%E7%A7%92%E9%87%9D%E3%82%92%E6%8F%8F%E7%94%BB"><i class="fa fa-link"></i></a>3.13.3. 時針、分針、秒針を描画</h3>

<p>秒針は、1秒あたり$2\pi / 60$ [rad]なので、$s$秒の時の秒針の角度$\theta_s$は、以下の式で求められます。</p>

<div class="code-frame" data-lang="math"><div class="highlight"><pre class="with-code"><code>\theta_s = s \times \pi / 30
</code></pre></div></div>

<p>分針も同様に、$m$分の時の分針の角度$\theta_m$は、以下の式で求められます。</p>

<div class="code-frame" data-lang="math"><div class="highlight"><pre class="with-code"><code>\theta_m = m \times \pi / 30
</code></pre></div></div>

<p>時針は、1時間あたり$2\pi / 6$ [rad]ですが、時の値$h$だけでなく分の値$m$も考慮して、角度$\theta_h$を求めていきます。</p>

<div class="code-frame" data-lang="math"><div class="highlight"><pre class="with-code"><code>\theta_h = ( ( h + m / 60 ) \times \pi / 6
</code></pre></div></div>

<p>12時の位置を基準に、現在の針の角度を$\theta$ [rad]、針の長さを$l$とすると、針の先端のXY座標は以下の式で求められます。</p>

<div class="code-frame" data-lang="math"><div class="highlight"><pre class="with-code"><code>x = l \times \sin( \theta )
</code></pre></div></div>

<div class="code-frame" data-lang="math"><div class="highlight"><pre class="with-code"><code>y = -l \times \cos( \theta )
</code></pre></div></div>

<p>あとは、<strong><a href="https://developer.android.com/reference/android/graphics/Canvas.html#drawLine(float,%20float,%20float,%20float,%20android.graphics.Paint)" rel="nofollow noopener" target="_blank">DrawLine</a></strong>メソッドで描画します。</p>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">時針、分針、秒針を描画</span></div>
<div class="highlight"><pre class="with-code"><code><span class="c1">// 中心のXY座標を求めます。</span>
<span class="kt">float</span> <span class="n">centerX</span> <span class="p">=</span> <span class="n">bounds</span><span class="p">.</span><span class="nf">Width</span><span class="p">()</span> <span class="p">/</span> <span class="m">2.0f</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">centerY</span> <span class="p">=</span> <span class="n">bounds</span><span class="p">.</span><span class="nf">Height</span><span class="p">()</span> <span class="p">/</span> <span class="m">2.0f</span><span class="p">;</span>

<span class="c1">// 針の長さを求めます。</span>
<span class="kt">float</span> <span class="n">hourHandLength</span> <span class="p">=</span> <span class="n">centerX</span> <span class="p">-</span> <span class="m">80</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">minuteHandLength</span> <span class="p">=</span> <span class="n">centerX</span> <span class="p">-</span> <span class="m">40</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">secondHandLength</span> <span class="p">=</span> <span class="n">centerX</span> <span class="p">-</span> <span class="m">20</span><span class="p">;</span>

<span class="c1">// 時針の先端のXY座標を求めます。</span>
<span class="kt">float</span> <span class="n">hourHandRotation</span> <span class="p">=</span> <span class="p">(</span> <span class="p">(</span> <span class="n">nowTime</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span> <span class="n">Java</span><span class="p">.</span><span class="n">Util</span><span class="p">.</span><span class="n">CalendarField</span><span class="p">.</span><span class="n">Hour</span> <span class="p">)</span> <span class="p">+</span> <span class="p">(</span> <span class="n">nowTime</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span> <span class="n">Java</span><span class="p">.</span><span class="n">Util</span><span class="p">.</span><span class="n">CalendarField</span><span class="p">.</span><span class="n">Minute</span> <span class="p">)</span> <span class="p">/</span> <span class="m">60f</span> <span class="p">)</span> <span class="p">)</span> <span class="p">/</span> <span class="m">6f</span> <span class="p">)</span> <span class="p">*</span> <span class="p">(</span> <span class="kt">float</span> <span class="p">)</span><span class="n">Math</span><span class="p">.</span><span class="n">PI</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">hourHandX</span> <span class="p">=</span> <span class="p">(</span> <span class="kt">float</span> <span class="p">)</span><span class="n">Math</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span> <span class="n">hourHandRotation</span> <span class="p">)</span> <span class="p">*</span> <span class="n">hourHandLength</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">hourHandY</span> <span class="p">=</span> <span class="p">(</span> <span class="kt">float</span> <span class="p">)-</span><span class="n">Math</span><span class="p">.</span><span class="nf">Cos</span><span class="p">(</span> <span class="n">hourHandRotation</span> <span class="p">)</span> <span class="p">*</span> <span class="n">hourHandLength</span><span class="p">;</span>
<span class="c1">// 時針を描画します。</span>
<span class="n">canvas</span><span class="p">.</span><span class="nf">DrawLine</span><span class="p">(</span> <span class="n">centerX</span><span class="p">,</span> <span class="n">centerY</span><span class="p">,</span> <span class="n">centerX</span> <span class="p">+</span> <span class="n">hourHandX</span><span class="p">,</span> <span class="n">centerY</span> <span class="p">+</span> <span class="n">hourHandY</span><span class="p">,</span> <span class="n">hourHandPaint</span> <span class="p">);</span>

<span class="c1">// 分針の先端のXY座標を求めます。</span>
<span class="kt">float</span> <span class="n">minuteHandRotation</span> <span class="p">=</span> <span class="n">nowTime</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span> <span class="n">Java</span><span class="p">.</span><span class="n">Util</span><span class="p">.</span><span class="n">CalendarField</span><span class="p">.</span><span class="n">Minute</span> <span class="p">)</span> <span class="p">/</span> <span class="m">30f</span> <span class="p">*</span> <span class="p">(</span> <span class="kt">float</span> <span class="p">)</span><span class="n">Math</span><span class="p">.</span><span class="n">PI</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">minuteHandX</span> <span class="p">=</span> <span class="p">(</span> <span class="kt">float</span> <span class="p">)</span><span class="n">Math</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span> <span class="n">minuteHandRotation</span> <span class="p">)</span> <span class="p">*</span> <span class="n">minuteHandLength</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">minuteHandY</span> <span class="p">=</span> <span class="p">(</span> <span class="kt">float</span> <span class="p">)-</span><span class="n">Math</span><span class="p">.</span><span class="nf">Cos</span><span class="p">(</span> <span class="n">minuteHandRotation</span> <span class="p">)</span> <span class="p">*</span> <span class="n">minuteHandLength</span><span class="p">;</span>
<span class="c1">// 分針を描画します。</span>
<span class="n">canvas</span><span class="p">.</span><span class="nf">DrawLine</span><span class="p">(</span> <span class="n">centerX</span><span class="p">,</span> <span class="n">centerY</span><span class="p">,</span> <span class="n">centerX</span> <span class="p">+</span> <span class="n">minuteHandX</span><span class="p">,</span> <span class="n">centerY</span> <span class="p">+</span> <span class="n">minuteHandY</span><span class="p">,</span> <span class="n">minuteHandPaint</span> <span class="p">);</span>

<span class="c1">// アンビエントモードでないかどうかを判別します。</span>
<span class="k">if</span><span class="p">(</span> <span class="p">!</span><span class="n">isAmbient</span> <span class="p">)</span> <span class="p">{</span>
    <span class="c1">// 秒針の先端のXY座標を求めます。</span>
    <span class="kt">float</span> <span class="n">secondHandRotation</span> <span class="p">=</span> <span class="n">nowTime</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span> <span class="n">Java</span><span class="p">.</span><span class="n">Util</span><span class="p">.</span><span class="n">CalendarField</span><span class="p">.</span><span class="n">Second</span> <span class="p">)</span> <span class="p">/</span> <span class="m">30f</span> <span class="p">*</span> <span class="p">(</span> <span class="kt">float</span> <span class="p">)</span><span class="n">Math</span><span class="p">.</span><span class="n">PI</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">secondHandX</span> <span class="p">=</span> <span class="p">(</span> <span class="kt">float</span> <span class="p">)</span><span class="n">Math</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span> <span class="n">secondHandRotation</span> <span class="p">)</span> <span class="p">*</span> <span class="n">secondHandLength</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">secondHandY</span> <span class="p">=</span> <span class="p">(</span> <span class="kt">float</span> <span class="p">)-</span><span class="n">Math</span><span class="p">.</span><span class="nf">Cos</span><span class="p">(</span> <span class="n">secondHandRotation</span> <span class="p">)</span> <span class="p">*</span> <span class="n">secondHandLength</span><span class="p">;</span>
    <span class="c1">// 分針を描画します。</span>
    <span class="n">canvas</span><span class="p">.</span><span class="nf">DrawLine</span><span class="p">(</span> <span class="n">centerX</span><span class="p">,</span> <span class="n">centerY</span><span class="p">,</span> <span class="n">centerX</span> <span class="p">+</span> <span class="n">secondHandX</span><span class="p">,</span> <span class="n">centerY</span> <span class="p">+</span> <span class="n">secondHandY</span><span class="p">,</span> <span class="n">secondHandPaint</span> <span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</div>

<h2>
<span id="314-onvisibilitychangedメソッドのオーバーライド" class="fragment"></span><a href="#314-onvisibilitychanged%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89"><i class="fa fa-link"></i></a>3.14. OnVisibilityChangedメソッドのオーバーライド</h2>

<p><strong><a href="https://developer.android.com/reference/android/support/wearable/watchface/WatchFaceService.Engine.html#onVisibilityChanged(boolean)" rel="nofollow noopener" target="_blank">OnVisibilityChanged</a></strong>メソッドは、Android Wearデバイスの画面の表示・非表示が切り替わった時に実行します。</p>

<blockquote>
<p>※Android Wearデバイスの設定で「常に画面表示」をOFFにした時、インタラクティブモードで一定時間が経つと、<strong>一旦アンビエントモードに移行してから画面を消灯</strong>します。従って、OnVisibilityChangedメソッドを実行する前にOnAmbientModeChangedメソッドを実行します。（逆に、画面消灯からインタラクティブモードへの移行では、OnVisibilityChangedメソッドの実行後にOnAmbientModeChangedメソッドを実行します。）</p>
</blockquote>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">OnVisibilityChangedメソッドの実装</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnVisibilityChanged</span><span class="p">(</span> <span class="kt">bool</span> <span class="n">visible</span> <span class="p">)</span> <span class="p">{</span>
    <span class="k">base</span><span class="p">.</span><span class="nf">OnVisibilityChanged</span><span class="p">(</span> <span class="n">visible</span> <span class="p">);</span>

    <span class="c1">// ウォッチフェイスの表示・非表示を判別します。</span>
    <span class="k">if</span><span class="p">(</span> <span class="n">visible</span> <span class="p">)</span> <span class="p">{</span>
        <span class="c1">// TimeZoneReceiverが未初期化の時、ここで初期化します。</span>
        <span class="k">if</span><span class="p">(</span> <span class="n">timeZoneReceiver</span> <span class="p">==</span> <span class="k">null</span> <span class="p">)</span> <span class="p">{</span>
            <span class="n">timeZoneReceiver</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TimeZoneReceiver</span><span class="p">(</span>
                <span class="n">intent</span> <span class="p">=&gt;</span> <span class="p">{</span>
                    <span class="n">nowTime</span><span class="p">.</span><span class="n">TimeZone</span> <span class="p">=</span> <span class="n">Java</span><span class="p">.</span><span class="n">Util</span><span class="p">.</span><span class="n">TimeZone</span><span class="p">.</span><span class="n">Default</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">);</span>
        <span class="p">}</span>
        <span class="k">if</span><span class="p">(</span> <span class="p">!</span><span class="n">timeZoneReceiverRegistered</span> <span class="p">)</span> <span class="p">{</span>
            <span class="c1">// タイムゾーン用のレシーバーを登録します。</span>
            <span class="kt">var</span> <span class="n">intentFilter</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">IntentFilter</span><span class="p">(</span> <span class="n">Intent</span><span class="p">.</span><span class="n">ActionTimezoneChanged</span> <span class="p">);</span>
            <span class="n">Application</span><span class="p">.</span><span class="n">Context</span><span class="p">.</span><span class="nf">RegisterReceiver</span><span class="p">(</span> <span class="n">timeZoneReceiver</span><span class="p">,</span> <span class="n">intentFilter</span> <span class="p">);</span>
            <span class="n">timeZoneReceiverRegistered</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">// ウォッチフェイスが描画されていない時にタイムゾーンが変化した場合の備え、現在タイムゾーンの時の現在時刻を取得します。</span>
        <span class="n">nowTime</span> <span class="p">=</span> <span class="n">Java</span><span class="p">.</span><span class="n">Util</span><span class="p">.</span><span class="n">Calendar</span><span class="p">.</span><span class="nf">GetInstance</span><span class="p">(</span> <span class="n">Java</span><span class="p">.</span><span class="n">Util</span><span class="p">.</span><span class="n">TimeZone</span><span class="p">.</span><span class="n">Default</span> <span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span> <span class="n">timeZoneReceiverRegistered</span> <span class="p">)</span> <span class="p">{</span>
            <span class="c1">// タイムゾーン用のレシーバーを登録解除します。</span>
            <span class="n">Application</span><span class="p">.</span><span class="n">Context</span><span class="p">.</span><span class="nf">UnregisterReceiver</span><span class="p">(</span> <span class="n">timeZoneReceiver</span> <span class="p">);</span>
            <span class="n">timeZoneReceiverRegistered</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
        <span class="p">}</span>

    <span class="p">}</span>

    <span class="c1">// タイマーの動作を更新します。</span>
    <span class="nf">UpdateTimer</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
</div>

<h1>
<span id="4-完成後のコード" class="fragment"></span><a href="#4-%E5%AE%8C%E6%88%90%E5%BE%8C%E3%81%AE%E3%82%B3%E3%83%BC%E3%83%89"><i class="fa fa-link"></i></a>4. 完成後のコード</h1>

<p>完成後のコードを以下に示します。</p>

<blockquote>
<p>※コメント付きのバージョンは<a href="">Gist</a>にて公開しています。</p>
</blockquote>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">MyWatchFace.cs（完成後）</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>

<span class="k">using</span> <span class="nn">Android.App</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.Content</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.Graphics</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.Graphics.Drawables</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.OS</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.Service.Wallpaper</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.Support.V4.Content</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.Support.Wearable.Watchface</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.Text.Format</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Android.Views</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">WatchFaceTest</span> <span class="p">{</span>

    <span class="p">[</span><span class="nf">Service</span><span class="p">(</span> <span class="n">Label</span> <span class="p">=</span> <span class="s">"@string/watch_name"</span><span class="p">,</span> <span class="n">Permission</span> <span class="p">=</span> <span class="s">"android.permission.BIND_WALLPAPER"</span> <span class="p">)]</span>
    <span class="p">[</span><span class="nf">MetaData</span><span class="p">(</span> <span class="s">"android.service.wallpaper"</span><span class="p">,</span> <span class="n">Resource</span> <span class="p">=</span> <span class="s">"@xml/watch_face"</span> <span class="p">)]</span>
    <span class="p">[</span><span class="nf">MetaData</span><span class="p">(</span> <span class="s">"com.google.android.wearable.watchface.preview"</span><span class="p">,</span> <span class="n">Resource</span> <span class="p">=</span> <span class="s">"@drawable/preview"</span> <span class="p">)]</span>
    <span class="p">[</span><span class="nf">MetaData</span><span class="p">(</span> <span class="s">"com.google.android.wearable.watchface.preview_circular"</span><span class="p">,</span> <span class="n">Resource</span> <span class="p">=</span> <span class="s">"@drawable/preview_circular"</span> <span class="p">)]</span>
    <span class="p">[</span><span class="nf">IntentFilter</span><span class="p">(</span> <span class="k">new</span><span class="p">[]</span> <span class="p">{</span> <span class="s">"android.service.wallpaper.WallpaperService"</span> <span class="p">},</span> <span class="n">Categories</span> <span class="p">=</span> <span class="k">new</span><span class="p">[]</span> <span class="p">{</span> <span class="s">"com.google.android.wearable.watchface.category.WATCH_FACE"</span> <span class="p">}</span> <span class="p">)]</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">AnalogWatchFaceService</span> <span class="p">:</span> <span class="n">CanvasWatchFaceService</span> <span class="p">{</span>

        <span class="k">private</span> <span class="k">static</span> <span class="k">readonly</span> <span class="kt">long</span> <span class="n">InteractiveUpdateRateMilliseconds</span> <span class="p">=</span> <span class="n">Java</span><span class="p">.</span><span class="n">Util</span><span class="p">.</span><span class="n">Concurrent</span><span class="p">.</span><span class="n">TimeUnit</span><span class="p">.</span><span class="n">Seconds</span><span class="p">.</span><span class="nf">ToMillis</span><span class="p">(</span> <span class="m">1</span> <span class="p">);</span>

        <span class="k">private</span> <span class="k">const</span> <span class="kt">int</span> <span class="n">MessageUpdateTime</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>

        <span class="k">public</span> <span class="k">override</span> <span class="n">WallpaperService</span><span class="p">.</span><span class="n">Engine</span> <span class="nf">OnCreateEngine</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="k">new</span> <span class="nf">AnalogWatchFaceEngine</span><span class="p">(</span> <span class="k">this</span> <span class="p">);</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="k">class</span> <span class="nc">AnalogWatchFaceEngine</span> <span class="p">:</span> <span class="n">CanvasWatchFaceService</span><span class="p">.</span><span class="n">Engine</span> <span class="p">{</span>

            <span class="k">private</span> <span class="n">CanvasWatchFaceService</span> <span class="n">owner</span><span class="p">;</span>

            <span class="k">private</span> <span class="k">readonly</span> <span class="n">Handler</span> <span class="n">updateTimeHandler</span><span class="p">;</span>

            <span class="k">private</span> <span class="n">Java</span><span class="p">.</span><span class="n">Util</span><span class="p">.</span><span class="n">Calendar</span> <span class="n">nowTime</span><span class="p">;</span>

            <span class="k">private</span> <span class="n">Paint</span> <span class="n">backgroundPaint</span><span class="p">;</span>

            <span class="k">private</span> <span class="n">Paint</span> <span class="n">hourHandPaint</span><span class="p">;</span>
            <span class="k">private</span> <span class="n">Paint</span> <span class="n">minuteHandPaint</span><span class="p">;</span>
            <span class="k">private</span> <span class="n">Paint</span> <span class="n">secondHandPaint</span><span class="p">;</span>

            <span class="k">private</span> <span class="kt">bool</span> <span class="n">isAmbient</span><span class="p">;</span>

            <span class="k">private</span> <span class="kt">bool</span> <span class="n">isRequiredLowBitAmbient</span><span class="p">;</span>

            <span class="k">private</span> <span class="kt">bool</span> <span class="n">isReqiredBurnInProtection</span><span class="p">;</span>

            <span class="k">private</span> <span class="kt">bool</span> <span class="n">isMute</span><span class="p">;</span>

            <span class="k">private</span> <span class="n">TimeZoneReceiver</span> <span class="n">timeZoneReceiver</span><span class="p">;</span>

            <span class="k">private</span> <span class="kt">bool</span> <span class="n">timeZoneReceiverRegistered</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>

            <span class="k">public</span> <span class="nf">AnalogWatchFaceEngine</span><span class="p">(</span> <span class="n">CanvasWatchFaceService</span> <span class="n">owner</span> <span class="p">)</span> <span class="p">:</span> <span class="k">base</span><span class="p">(</span> <span class="n">owner</span> <span class="p">)</span> <span class="p">{</span>
                <span class="k">this</span><span class="p">.</span><span class="n">owner</span> <span class="p">=</span> <span class="n">owner</span><span class="p">;</span>
                <span class="n">updateTimeHandler</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Handler</span><span class="p">(</span>
                    <span class="n">message</span> <span class="p">=&gt;</span> <span class="p">{</span>
                        <span class="k">switch</span><span class="p">(</span> <span class="n">message</span><span class="p">.</span><span class="n">What</span> <span class="p">)</span> <span class="p">{</span>
                            <span class="k">case</span> <span class="n">MessageUpdateTime</span><span class="p">:</span>
                                <span class="nf">Invalidate</span><span class="p">();</span>
                                <span class="k">if</span><span class="p">(</span> <span class="n">ShouldTimerBeRunning</span> <span class="p">)</span> <span class="p">{</span>
                                    <span class="kt">long</span> <span class="n">timeMillseconds</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">UtcNow</span><span class="p">.</span><span class="n">Ticks</span> <span class="p">/</span> <span class="n">TimeSpan</span><span class="p">.</span><span class="n">TicksPerMillisecond</span><span class="p">;</span>
                                    <span class="kt">long</span> <span class="n">delayMilliseconds</span> <span class="p">=</span> <span class="n">InteractiveUpdateRateMilliseconds</span> <span class="p">-</span> <span class="p">(</span> <span class="n">timeMillseconds</span> <span class="p">%</span> <span class="n">InteractiveUpdateRateMilliseconds</span> <span class="p">);</span>
                                    <span class="n">updateTimeHandler</span><span class="p">.</span><span class="nf">SendEmptyMessageDelayed</span><span class="p">(</span> <span class="n">MessageUpdateTime</span><span class="p">,</span> <span class="n">delayMilliseconds</span> <span class="p">);</span>
                                <span class="p">}</span>
                                <span class="k">break</span><span class="p">;</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                <span class="p">);</span>

                <span class="n">timeZoneReceiver</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TimeZoneReceiver</span><span class="p">(</span>
                    <span class="n">intent</span> <span class="p">=&gt;</span> <span class="p">{</span>
                        <span class="n">nowTime</span><span class="p">.</span><span class="n">TimeZone</span> <span class="p">=</span> <span class="n">Java</span><span class="p">.</span><span class="n">Util</span><span class="p">.</span><span class="n">TimeZone</span><span class="p">.</span><span class="n">Default</span><span class="p">;</span>
                    <span class="p">}</span>
                <span class="p">);</span>
            <span class="p">}</span>

            <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnCreate</span><span class="p">(</span> <span class="n">ISurfaceHolder</span> <span class="n">holder</span> <span class="p">)</span> <span class="p">{</span>

                <span class="nf">SetWatchFaceStyle</span><span class="p">(</span>
                    <span class="k">new</span> <span class="n">WatchFaceStyle</span><span class="p">.</span><span class="nf">Builder</span><span class="p">(</span> <span class="n">owner</span> <span class="p">)</span>
                        <span class="p">.</span><span class="nf">SetCardPeekMode</span><span class="p">(</span> <span class="n">WatchFaceStyle</span><span class="p">.</span><span class="n">PeekModeShort</span> <span class="p">)</span>
                        <span class="p">.</span><span class="nf">SetBackgroundVisibility</span><span class="p">(</span> <span class="n">WatchFaceStyle</span><span class="p">.</span><span class="n">BackgroundVisibilityInterruptive</span> <span class="p">)</span>
                        <span class="p">.</span><span class="nf">SetShowSystemUiTime</span><span class="p">(</span> <span class="k">false</span> <span class="p">)</span>
                        <span class="p">.</span><span class="nf">Build</span><span class="p">()</span>
                <span class="p">);</span>

                <span class="k">base</span><span class="p">.</span><span class="nf">OnCreate</span><span class="p">(</span> <span class="n">holder</span> <span class="p">);</span>

                <span class="kt">var</span> <span class="n">resources</span> <span class="p">=</span> <span class="n">owner</span><span class="p">.</span><span class="n">Resources</span><span class="p">;</span>

                <span class="n">backgroundPaint</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Paint</span><span class="p">();</span>
                <span class="n">backgroundPaint</span><span class="p">.</span><span class="n">Color</span> <span class="p">=</span> <span class="n">resources</span><span class="p">.</span><span class="nf">GetColor</span><span class="p">(</span> <span class="n">Resource</span><span class="p">.</span><span class="n">Color</span><span class="p">.</span><span class="n">background</span> <span class="p">);</span>

                <span class="n">hourHandPaint</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Paint</span><span class="p">();</span>
                <span class="n">hourHandPaint</span><span class="p">.</span><span class="n">Color</span> <span class="p">=</span> <span class="n">resources</span><span class="p">.</span><span class="nf">GetColor</span><span class="p">(</span> <span class="n">Resource</span><span class="p">.</span><span class="n">Color</span><span class="p">.</span><span class="n">analog_hands</span> <span class="p">);</span>
                <span class="n">hourHandPaint</span><span class="p">.</span><span class="n">StrokeWidth</span> <span class="p">=</span> <span class="n">resources</span><span class="p">.</span><span class="nf">GetDimension</span><span class="p">(</span> <span class="n">Resource</span><span class="p">.</span><span class="n">Dimension</span><span class="p">.</span><span class="n">hour_hand_stroke</span> <span class="p">);</span>
                <span class="n">hourHandPaint</span><span class="p">.</span><span class="n">AntiAlias</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
                <span class="n">hourHandPaint</span><span class="p">.</span><span class="n">StrokeCap</span> <span class="p">=</span> <span class="n">Paint</span><span class="p">.</span><span class="n">Cap</span><span class="p">.</span><span class="n">Round</span><span class="p">;</span>

                <span class="n">minuteHandPaint</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Paint</span><span class="p">();</span>
                <span class="n">minuteHandPaint</span><span class="p">.</span><span class="n">Color</span> <span class="p">=</span> <span class="n">hourHandPaint</span><span class="p">.</span><span class="n">Color</span><span class="p">;</span>
                <span class="n">minuteHandPaint</span><span class="p">.</span><span class="n">StrokeWidth</span> <span class="p">=</span> <span class="n">resources</span><span class="p">.</span><span class="nf">GetDimension</span><span class="p">(</span> <span class="n">Resource</span><span class="p">.</span><span class="n">Dimension</span><span class="p">.</span><span class="n">minute_hand_stroke</span> <span class="p">);</span>
                <span class="n">minuteHandPaint</span><span class="p">.</span><span class="n">AntiAlias</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
                <span class="n">minuteHandPaint</span><span class="p">.</span><span class="n">StrokeCap</span> <span class="p">=</span> <span class="n">Paint</span><span class="p">.</span><span class="n">Cap</span><span class="p">.</span><span class="n">Round</span><span class="p">;</span>

                <span class="n">secondHandPaint</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Paint</span><span class="p">();</span>
                <span class="n">secondHandPaint</span><span class="p">.</span><span class="n">Color</span> <span class="p">=</span> <span class="n">resources</span><span class="p">.</span><span class="nf">GetColor</span><span class="p">(</span> <span class="n">Resource</span><span class="p">.</span><span class="n">Color</span><span class="p">.</span><span class="n">analog_second_hand</span> <span class="p">);</span>
                <span class="n">secondHandPaint</span><span class="p">.</span><span class="n">StrokeWidth</span> <span class="p">=</span> <span class="n">resources</span><span class="p">.</span><span class="nf">GetDimension</span><span class="p">(</span> <span class="n">Resource</span><span class="p">.</span><span class="n">Dimension</span><span class="p">.</span><span class="n">second_hand_stroke</span> <span class="p">);</span>
                <span class="n">secondHandPaint</span><span class="p">.</span><span class="n">AntiAlias</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
                <span class="n">secondHandPaint</span><span class="p">.</span><span class="n">StrokeCap</span> <span class="p">=</span> <span class="n">Paint</span><span class="p">.</span><span class="n">Cap</span><span class="p">.</span><span class="n">Round</span><span class="p">;</span>

                <span class="n">nowTime</span> <span class="p">=</span> <span class="n">Java</span><span class="p">.</span><span class="n">Util</span><span class="p">.</span><span class="n">Calendar</span><span class="p">.</span><span class="nf">GetInstance</span><span class="p">(</span> <span class="n">Java</span><span class="p">.</span><span class="n">Util</span><span class="p">.</span><span class="n">TimeZone</span><span class="p">.</span><span class="n">Default</span> <span class="p">);</span>
            <span class="p">}</span>

            <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnDestroy</span><span class="p">()</span> <span class="p">{</span>
                <span class="n">updateTimeHandler</span><span class="p">.</span><span class="nf">RemoveMessages</span><span class="p">(</span> <span class="n">MessageUpdateTime</span> <span class="p">);</span>

                <span class="k">base</span><span class="p">.</span><span class="nf">OnDestroy</span><span class="p">();</span>
            <span class="p">}</span>

            <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnApplyWindowInsets</span><span class="p">(</span> <span class="n">WindowInsets</span> <span class="n">insets</span> <span class="p">)</span> <span class="p">{</span>
                <span class="k">base</span><span class="p">.</span><span class="nf">OnApplyWindowInsets</span><span class="p">(</span> <span class="n">insets</span> <span class="p">);</span>

                <span class="c1">//bool isRound = insets.IsRound;</span>
            <span class="p">}</span>

            <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnPropertiesChanged</span><span class="p">(</span> <span class="n">Bundle</span> <span class="n">properties</span> <span class="p">)</span> <span class="p">{</span>
                <span class="k">base</span><span class="p">.</span><span class="nf">OnPropertiesChanged</span><span class="p">(</span> <span class="n">properties</span> <span class="p">);</span>

                <span class="n">isRequiredLowBitAmbient</span> <span class="p">=</span> <span class="n">properties</span><span class="p">.</span><span class="nf">GetBoolean</span><span class="p">(</span> <span class="n">PropertyLowBitAmbient</span><span class="p">,</span> <span class="k">false</span> <span class="p">);</span>
                <span class="n">isReqiredBurnInProtection</span> <span class="p">=</span> <span class="n">properties</span><span class="p">.</span><span class="nf">GetBoolean</span><span class="p">(</span> <span class="n">PropertyBurnInProtection</span><span class="p">,</span> <span class="k">false</span> <span class="p">);</span>
            <span class="p">}</span>

            <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnTimeTick</span><span class="p">()</span> <span class="p">{</span>
                <span class="k">base</span><span class="p">.</span><span class="nf">OnTimeTick</span><span class="p">();</span>

                <span class="nf">Invalidate</span><span class="p">();</span>
            <span class="p">}</span>

            <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnAmbientModeChanged</span><span class="p">(</span> <span class="kt">bool</span> <span class="n">inAmbientMode</span> <span class="p">)</span> <span class="p">{</span>
                <span class="k">base</span><span class="p">.</span><span class="nf">OnAmbientModeChanged</span><span class="p">(</span> <span class="n">inAmbientMode</span> <span class="p">);</span>

                <span class="k">if</span><span class="p">(</span> <span class="n">isAmbient</span> <span class="p">!=</span> <span class="n">inAmbientMode</span> <span class="p">)</span> <span class="p">{</span>
                    <span class="n">isAmbient</span> <span class="p">=</span> <span class="n">inAmbientMode</span><span class="p">;</span>
                    <span class="k">if</span><span class="p">(</span> <span class="n">isRequiredLowBitAmbient</span> <span class="p">)</span> <span class="p">{</span>
                        <span class="kt">bool</span> <span class="n">antiAlias</span> <span class="p">=</span> <span class="p">!</span><span class="n">inAmbientMode</span><span class="p">;</span>

                        <span class="n">hourHandPaint</span><span class="p">.</span><span class="n">AntiAlias</span> <span class="p">=</span> <span class="n">antiAlias</span><span class="p">;</span>
                        <span class="n">minuteHandPaint</span><span class="p">.</span><span class="n">AntiAlias</span> <span class="p">=</span> <span class="n">antiAlias</span><span class="p">;</span>
                        <span class="n">secondHandPaint</span><span class="p">.</span><span class="n">AntiAlias</span> <span class="p">=</span> <span class="n">antiAlias</span><span class="p">;</span>
                        <span class="nf">Invalidate</span><span class="p">();</span>
                    <span class="p">}</span>
                    <span class="nf">UpdateTimer</span><span class="p">();</span>
                <span class="p">}</span>
            <span class="p">}</span>

            <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnInterruptionFilterChanged</span><span class="p">(</span> <span class="kt">int</span> <span class="n">interruptionFilter</span> <span class="p">)</span> <span class="p">{</span>
                <span class="k">base</span><span class="p">.</span><span class="nf">OnInterruptionFilterChanged</span><span class="p">(</span> <span class="n">interruptionFilter</span> <span class="p">);</span>

                <span class="kt">bool</span> <span class="n">inMuteMode</span> <span class="p">=</span> <span class="p">(</span> <span class="n">interruptionFilter</span> <span class="p">==</span> <span class="n">InterruptionFilterNone</span> <span class="p">);</span>

                <span class="k">if</span><span class="p">(</span> <span class="n">isMute</span> <span class="p">!=</span> <span class="n">inMuteMode</span> <span class="p">)</span> <span class="p">{</span>
                    <span class="n">isMute</span> <span class="p">=</span> <span class="n">inMuteMode</span><span class="p">;</span>

                    <span class="nf">Invalidate</span><span class="p">();</span>
                <span class="p">}</span>
            <span class="p">}</span>

            <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnTapCommand</span><span class="p">(</span> <span class="kt">int</span> <span class="n">tapType</span><span class="p">,</span> <span class="kt">int</span> <span class="n">xValue</span><span class="p">,</span> <span class="kt">int</span> <span class="n">yValue</span><span class="p">,</span> <span class="kt">long</span> <span class="n">eventTime</span> <span class="p">)</span> <span class="p">{</span>
                <span class="k">switch</span><span class="p">(</span> <span class="n">tapType</span> <span class="p">)</span> <span class="p">{</span>
                    <span class="k">case</span> <span class="n">TapTypeTouch</span><span class="p">:</span>
                        <span class="k">break</span><span class="p">;</span>
                    <span class="k">case</span> <span class="n">TapTypeTouchCancel</span><span class="p">:</span>
                        <span class="k">break</span><span class="p">;</span>
                    <span class="k">case</span> <span class="n">TapTypeTap</span><span class="p">:</span>
                        <span class="k">break</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>

            <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnDraw</span><span class="p">(</span> <span class="n">Canvas</span> <span class="n">canvas</span><span class="p">,</span> <span class="n">Rect</span> <span class="n">bounds</span> <span class="p">)</span> <span class="p">{</span>

                <span class="n">nowTime</span> <span class="p">=</span> <span class="n">Java</span><span class="p">.</span><span class="n">Util</span><span class="p">.</span><span class="n">Calendar</span><span class="p">.</span><span class="nf">GetInstance</span><span class="p">(</span> <span class="n">nowTime</span><span class="p">.</span><span class="n">TimeZone</span> <span class="p">);</span>

                <span class="k">if</span><span class="p">(</span> <span class="n">isAmbient</span> <span class="p">)</span> <span class="p">{</span>
                    <span class="n">canvas</span><span class="p">.</span><span class="nf">DrawColor</span><span class="p">(</span> <span class="n">Color</span><span class="p">.</span><span class="n">Black</span> <span class="p">);</span>
                <span class="p">}</span>
                <span class="k">else</span> <span class="p">{</span>
                    <span class="n">canvas</span><span class="p">.</span><span class="nf">DrawRect</span><span class="p">(</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="n">canvas</span><span class="p">.</span><span class="n">Width</span><span class="p">,</span> <span class="n">canvas</span><span class="p">.</span><span class="n">Height</span><span class="p">,</span> <span class="n">backgroundPaint</span> <span class="p">);</span>
                <span class="p">}</span>

                <span class="kt">float</span> <span class="n">centerX</span> <span class="p">=</span> <span class="n">bounds</span><span class="p">.</span><span class="nf">Width</span><span class="p">()</span> <span class="p">/</span> <span class="m">2.0f</span><span class="p">;</span>
                <span class="kt">float</span> <span class="n">centerY</span> <span class="p">=</span> <span class="n">bounds</span><span class="p">.</span><span class="nf">Height</span><span class="p">()</span> <span class="p">/</span> <span class="m">2.0f</span><span class="p">;</span>

                <span class="kt">float</span> <span class="n">hourHandLength</span> <span class="p">=</span> <span class="n">centerX</span> <span class="p">-</span> <span class="m">80</span><span class="p">;</span>
                <span class="kt">float</span> <span class="n">minuteHandLength</span> <span class="p">=</span> <span class="n">centerX</span> <span class="p">-</span> <span class="m">40</span><span class="p">;</span>
                <span class="kt">float</span> <span class="n">secondHandLength</span> <span class="p">=</span> <span class="n">centerX</span> <span class="p">-</span> <span class="m">20</span><span class="p">;</span>

                <span class="kt">float</span> <span class="n">hourHandRotation</span> <span class="p">=</span> <span class="p">(</span> <span class="p">(</span> <span class="n">nowTime</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span> <span class="n">Java</span><span class="p">.</span><span class="n">Util</span><span class="p">.</span><span class="n">CalendarField</span><span class="p">.</span><span class="n">Hour</span> <span class="p">)</span> <span class="p">+</span> <span class="p">(</span> <span class="n">nowTime</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span> <span class="n">Java</span><span class="p">.</span><span class="n">Util</span><span class="p">.</span><span class="n">CalendarField</span><span class="p">.</span><span class="n">Minute</span> <span class="p">)</span> <span class="p">/</span> <span class="m">60f</span> <span class="p">)</span> <span class="p">)</span> <span class="p">/</span> <span class="m">6f</span> <span class="p">)</span> <span class="p">*</span> <span class="p">(</span> <span class="kt">float</span> <span class="p">)</span><span class="n">Math</span><span class="p">.</span><span class="n">PI</span><span class="p">;</span>
                <span class="kt">float</span> <span class="n">hourHandX</span> <span class="p">=</span> <span class="p">(</span> <span class="kt">float</span> <span class="p">)</span><span class="n">Math</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span> <span class="n">hourHandRotation</span> <span class="p">)</span> <span class="p">*</span> <span class="n">hourHandLength</span><span class="p">;</span>
                <span class="kt">float</span> <span class="n">hourHandY</span> <span class="p">=</span> <span class="p">(</span> <span class="kt">float</span> <span class="p">)-</span><span class="n">Math</span><span class="p">.</span><span class="nf">Cos</span><span class="p">(</span> <span class="n">hourHandRotation</span> <span class="p">)</span> <span class="p">*</span> <span class="n">hourHandLength</span><span class="p">;</span>
                <span class="n">canvas</span><span class="p">.</span><span class="nf">DrawLine</span><span class="p">(</span> <span class="n">centerX</span><span class="p">,</span> <span class="n">centerY</span><span class="p">,</span> <span class="n">centerX</span> <span class="p">+</span> <span class="n">hourHandX</span><span class="p">,</span> <span class="n">centerY</span> <span class="p">+</span> <span class="n">hourHandY</span><span class="p">,</span> <span class="n">hourHandPaint</span> <span class="p">);</span>

                <span class="kt">float</span> <span class="n">minuteHandRotation</span> <span class="p">=</span> <span class="n">nowTime</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span> <span class="n">Java</span><span class="p">.</span><span class="n">Util</span><span class="p">.</span><span class="n">CalendarField</span><span class="p">.</span><span class="n">Minute</span> <span class="p">)</span> <span class="p">/</span> <span class="m">30f</span> <span class="p">*</span> <span class="p">(</span> <span class="kt">float</span> <span class="p">)</span><span class="n">Math</span><span class="p">.</span><span class="n">PI</span><span class="p">;</span>
                <span class="kt">float</span> <span class="n">minuteHandX</span> <span class="p">=</span> <span class="p">(</span> <span class="kt">float</span> <span class="p">)</span><span class="n">Math</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span> <span class="n">minuteHandRotation</span> <span class="p">)</span> <span class="p">*</span> <span class="n">minuteHandLength</span><span class="p">;</span>
                <span class="kt">float</span> <span class="n">minuteHandY</span> <span class="p">=</span> <span class="p">(</span> <span class="kt">float</span> <span class="p">)-</span><span class="n">Math</span><span class="p">.</span><span class="nf">Cos</span><span class="p">(</span> <span class="n">minuteHandRotation</span> <span class="p">)</span> <span class="p">*</span> <span class="n">minuteHandLength</span><span class="p">;</span>
                <span class="n">canvas</span><span class="p">.</span><span class="nf">DrawLine</span><span class="p">(</span> <span class="n">centerX</span><span class="p">,</span> <span class="n">centerY</span><span class="p">,</span> <span class="n">centerX</span> <span class="p">+</span> <span class="n">minuteHandX</span><span class="p">,</span> <span class="n">centerY</span> <span class="p">+</span> <span class="n">minuteHandY</span><span class="p">,</span> <span class="n">minuteHandPaint</span> <span class="p">);</span>

                <span class="k">if</span><span class="p">(</span> <span class="p">!</span><span class="n">isAmbient</span> <span class="p">)</span> <span class="p">{</span>
                    <span class="kt">float</span> <span class="n">secondHandRotation</span> <span class="p">=</span> <span class="n">nowTime</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span> <span class="n">Java</span><span class="p">.</span><span class="n">Util</span><span class="p">.</span><span class="n">CalendarField</span><span class="p">.</span><span class="n">Second</span> <span class="p">)</span> <span class="p">/</span> <span class="m">30f</span> <span class="p">*</span> <span class="p">(</span> <span class="kt">float</span> <span class="p">)</span><span class="n">Math</span><span class="p">.</span><span class="n">PI</span><span class="p">;</span>
                    <span class="kt">float</span> <span class="n">secondHandX</span> <span class="p">=</span> <span class="p">(</span> <span class="kt">float</span> <span class="p">)</span><span class="n">Math</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span> <span class="n">secondHandRotation</span> <span class="p">)</span> <span class="p">*</span> <span class="n">secondHandLength</span><span class="p">;</span>
                    <span class="kt">float</span> <span class="n">secondHandY</span> <span class="p">=</span> <span class="p">(</span> <span class="kt">float</span> <span class="p">)-</span><span class="n">Math</span><span class="p">.</span><span class="nf">Cos</span><span class="p">(</span> <span class="n">secondHandRotation</span> <span class="p">)</span> <span class="p">*</span> <span class="n">secondHandLength</span><span class="p">;</span>
                    <span class="n">canvas</span><span class="p">.</span><span class="nf">DrawLine</span><span class="p">(</span> <span class="n">centerX</span><span class="p">,</span> <span class="n">centerY</span><span class="p">,</span> <span class="n">centerX</span> <span class="p">+</span> <span class="n">secondHandX</span><span class="p">,</span> <span class="n">centerY</span> <span class="p">+</span> <span class="n">secondHandY</span><span class="p">,</span> <span class="n">secondHandPaint</span> <span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>

            <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnVisibilityChanged</span><span class="p">(</span> <span class="kt">bool</span> <span class="n">visible</span> <span class="p">)</span> <span class="p">{</span>
                <span class="k">base</span><span class="p">.</span><span class="nf">OnVisibilityChanged</span><span class="p">(</span> <span class="n">visible</span> <span class="p">);</span>

                <span class="k">if</span><span class="p">(</span> <span class="n">visible</span> <span class="p">)</span> <span class="p">{</span>
                    <span class="k">if</span><span class="p">(</span> <span class="n">timeZoneReceiver</span> <span class="p">==</span> <span class="k">null</span> <span class="p">)</span> <span class="p">{</span>
                        <span class="n">timeZoneReceiver</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TimeZoneReceiver</span><span class="p">(</span>
                            <span class="n">intent</span> <span class="p">=&gt;</span> <span class="p">{</span>
                                <span class="n">nowTime</span><span class="p">.</span><span class="n">TimeZone</span> <span class="p">=</span> <span class="n">Java</span><span class="p">.</span><span class="n">Util</span><span class="p">.</span><span class="n">TimeZone</span><span class="p">.</span><span class="n">Default</span><span class="p">;</span>
                            <span class="p">}</span>
                        <span class="p">);</span>
                    <span class="p">}</span>
                    <span class="k">if</span><span class="p">(</span> <span class="p">!</span><span class="n">timeZoneReceiverRegistered</span> <span class="p">)</span> <span class="p">{</span>
                        <span class="kt">var</span> <span class="n">intentFilter</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">IntentFilter</span><span class="p">(</span> <span class="n">Intent</span><span class="p">.</span><span class="n">ActionTimezoneChanged</span> <span class="p">);</span>
                        <span class="n">Application</span><span class="p">.</span><span class="n">Context</span><span class="p">.</span><span class="nf">RegisterReceiver</span><span class="p">(</span> <span class="n">timeZoneReceiver</span><span class="p">,</span> <span class="n">intentFilter</span> <span class="p">);</span>
                        <span class="n">timeZoneReceiverRegistered</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
                    <span class="p">}</span>

                    <span class="n">nowTime</span> <span class="p">=</span> <span class="n">Java</span><span class="p">.</span><span class="n">Util</span><span class="p">.</span><span class="n">Calendar</span><span class="p">.</span><span class="nf">GetInstance</span><span class="p">(</span> <span class="n">Java</span><span class="p">.</span><span class="n">Util</span><span class="p">.</span><span class="n">TimeZone</span><span class="p">.</span><span class="n">Default</span> <span class="p">);</span>
                <span class="p">}</span>
                <span class="k">else</span> <span class="p">{</span>
                    <span class="k">if</span><span class="p">(</span> <span class="n">timeZoneReceiverRegistered</span> <span class="p">)</span> <span class="p">{</span>
                        <span class="n">Application</span><span class="p">.</span><span class="n">Context</span><span class="p">.</span><span class="nf">UnregisterReceiver</span><span class="p">(</span> <span class="n">timeZoneReceiver</span> <span class="p">);</span>
                        <span class="n">timeZoneReceiverRegistered</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
                    <span class="p">}</span>

                <span class="p">}</span>

                <span class="nf">UpdateTimer</span><span class="p">();</span>
            <span class="p">}</span>

            <span class="k">private</span> <span class="k">void</span> <span class="nf">UpdateTimer</span><span class="p">()</span> <span class="p">{</span>
                <span class="n">updateTimeHandler</span><span class="p">.</span><span class="nf">RemoveMessages</span><span class="p">(</span> <span class="n">MessageUpdateTime</span> <span class="p">);</span>
                <span class="k">if</span><span class="p">(</span> <span class="n">ShouldTimerBeRunning</span> <span class="p">)</span> <span class="p">{</span>
                    <span class="n">updateTimeHandler</span><span class="p">.</span><span class="nf">SendEmptyMessage</span><span class="p">(</span> <span class="n">MessageUpdateTime</span> <span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>

            <span class="k">private</span> <span class="kt">bool</span> <span class="n">ShouldTimerBeRunning</span> <span class="p">=&gt;</span>
                <span class="n">IsVisible</span> <span class="p">&amp;&amp;</span> <span class="p">!</span><span class="n">IsInAmbientMode</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">TimeZoneReceiver</span> <span class="p">:</span> <span class="n">BroadcastReceiver</span> <span class="p">{</span>

        <span class="k">private</span> <span class="n">Action</span><span class="p">&lt;</span><span class="n">Intent</span><span class="p">&gt;</span> <span class="n">receiver</span><span class="p">;</span>

        <span class="k">public</span> <span class="nf">TimeZoneReceiver</span><span class="p">(</span> <span class="n">Action</span><span class="p">&lt;</span><span class="n">Intent</span><span class="p">&gt;</span> <span class="n">_receiver</span> <span class="p">)</span> <span class="p">{</span>
            <span class="n">receiver</span> <span class="p">=</span> <span class="n">_receiver</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnReceive</span><span class="p">(</span> <span class="n">Context</span> <span class="n">context</span><span class="p">,</span> <span class="n">Intent</span> <span class="n">intent</span> <span class="p">)</span> <span class="p">{</span>
            <span class="n">receiver</span><span class="p">?.</span><span class="nf">Invoke</span><span class="p">(</span> <span class="n">intent</span> <span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>Watch Faceアプリの基本的なプログラムの作成は以上です。お疲れ様でした。</p>

<p>今回作成したプログラムをエミュレーターやAndroid Wearデバイス上で実行すると、以下のようなアナログ時計を表示します。</p>

<p><a href="https://camo.qiitausercontent.com/8e77620cfa57c74b88378d4c91f6f564d7b56230/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f37383838312f64306133343439662d643330342d396366612d396465362d3464373530316464626532662e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F78881%2Fd0a3449f-d304-9cfa-9de6-4d7501ddbe2f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=f0dc042e2af9ed797a231ecbefedbf7d" alt="今回作成したアナログ時計" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/78881/d0a3449f-d304-9cfa-9de6-4d7501ddbe2f.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F78881%2Fd0a3449f-d304-9cfa-9de6-4d7501ddbe2f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=9aa3a7795c5c9c1b77c292fd597c6d4e 1x" loading="lazy"></a></p>

<h1>
<span id="next" class="fragment"></span><a href="#next"><i class="fa fa-link"></i></a>Next</h1>

<p>次回は、背景画像やアナログ針の画像を描画し、よりリッチなWatch Faceアプリを作っていこうと思います。</p>

<p>それでは、See you next!</p>

<h1>
<span id="参考サイト" class="fragment"></span><a href="#%E5%8F%82%E8%80%83%E3%82%B5%E3%82%A4%E3%83%88"><i class="fa fa-link"></i></a>参考サイト</h1>

<ul>
<li><a href="https://firespeed.org/diary.php?diary=kenz-1834" rel="nofollow noopener" target="_blank">Watch Faceを作る サンプルのコードを読み解く - FireSpeed</a></li>
<li>
<a href="http://qiita.com/eoppp/items/e6f2a0783810026e4d56" id="reference-a6c18f7ace9199e31344">Android Studioを使用して、とりあえず動くWatch faceを作る - Qiita</a> by <a href="/eoppp" class="user-mention js-hovercard" title="eoppp" data-hovercard-target-type="user" data-hovercard-target-name="eoppp">@eoppp</a>
</li>
<li>
<a href="https://github.com/googlesamples/android-wear-xamarin-watchface" rel="nofollow noopener" target="_blank">Xamarin Android WatchFace Sample - GitHub</a> by peterfriese, Redth</li>
</ul>

<h1>
<span id="xamarinでandroid-wearのwatch-faceアプリを作ってみようシリーズ一覧" class="fragment"></span><a href="#xamarin%E3%81%A7android-wear%E3%81%AEwatch-face%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E4%BD%9C%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%88%E3%81%86%E3%82%B7%E3%83%AA%E3%83%BC%E3%82%BA%E4%B8%80%E8%A6%A7"><i class="fa fa-link"></i></a>「XamarinでAndroid WearのWatch Faceアプリを作ってみよう！」シリーズ一覧</h1>

<ul>
<li><a href="http://qiita.com/nia_tn1012/items/fc5d7b2b263c73d8e0e5" id="reference-9a09d60be7678a0fd50e">Vol. 0 : 準備編</a></li>
<li>
<a href="http://qiita.com/nia_tn1012/items/2f790ca52ee839303952" id="reference-7f402c160b7136ab79a6">Vol. 1 : プロジェクト作成編</a>

<ul>
<li>（<a href="http://qiita.com/nia_tn1012/items/5f407f0a0b180482bb6c" id="reference-f349a34d5f26ddb99a4e">Vol.1x: Xamarin Studio向け</a>）</li>
</ul>
</li>
<li><strong>Vol.2 : プログラム作成編（ <a href="http://qiita.com/nia_tn1012/items/1a4e712c1c0284fd5f49">Page-1</a> / Page-2 ）</strong></li>
</ul>

<div class="footnotes">
<hr>
<ol>

<li id="fn1">
<p>例えば、現在のウォッチフェイスから別のウォッチフェイスに切り替えた時に呼び出されます。 <a href="#fnref1">↩</a></p>
</li>

</ol>
</div>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2Fnia_tn1012%2Fitems%2F52b25bfa86c91baee16d&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2Fnia_tn1012%2Fitems%2F52b25bfa86c91baee16d&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/nia_tn1012/items/52b25bfa86c91baee16d/likers" class="css-1iupg5d">1</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">1</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/52b25bfa86c91baee16d/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/nia_tn1012/items/52b25bfa86c91baee16d/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/nia_tn1012/items/52b25bfa86c91baee16d/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/nia_tn1012/items/52b25bfa86c91baee16d/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/nia_tn1012/items/52b25bfa86c91baee16d.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-d988a1da-5acb-4558-8c91-7359dee5881c">{"authorAnalyticsTrackingId":null,"organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-27045c55-617e-48ba-b0b2-babf53f02acd"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-27045c55-617e-48ba-b0b2-babf53f02acd">{}</script>
      
<div id="LoginModal-react-component-45553625-9276-4b78-b149-e394ca217281"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-45553625-9276-4b78-b149-e394ca217281">{}</script>
      
<div id="StockModal-react-component-c095ccb9-03ae-4a8e-86bf-ec292a4747cc"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-c095ccb9-03ae-4a8e-86bf-ec292a4747cc">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;iqnPoaynd8favM8vbwPMjqAUo9Jj4ZMTjoknfJKuRSlMX+BJM5bUh5xkk6BIanwgk8VQhgKvS8QEqCSsbHS4FQ==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\u003cp\u003e本記事は、\u003ca href=\"http://qiita.com/nia_tn1012/items/1a4e712c1c0284fd5f49\" id=\"reference-3e3797a92e8ac0bba652\"\u003eVol.2 : プログラム作成編（Page-1）\u003c/a\u003eの続きです。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"3-watch-faceのengineクラスを作成続き\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3-watch-face%E3%81%AEengine%E3%82%AF%E3%83%A9%E3%82%B9%E3%82%92%E4%BD%9C%E6%88%90%E7%B6%9A%E3%81%8D\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3. Watch FaceのEngineクラスを作成（続き）\u003c/h1\u003e\n\n\u003cp\u003eここからは、AnalogWatchFaceEngineクラスのメソッドを実装していきます。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"35-oncreateメソッドのオーバーライド\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#35-oncreate%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.5. OnCreateメソッドのオーバーライド\u003c/h2\u003e\n\n\u003cp\u003e\u003cstrong\u003e\u003ca href=\"https://developer.android.com/reference/android/support/wearable/watchface/WatchFaceService.Engine.html#onCreate(android.view.SurfaceHolder)\" rel=\"nofollow noopener\" target=\"_blank\"\u003eOnCreate\u003c/a\u003e\u003c/strong\u003eメソッドは、AnalogWatchFaceEngineのインスタンスが生成された時に実行します。\u003cbr\u003e\nここでは主に、以下の処理を行います。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eリソースから画像の読み込み\u003c/li\u003e\n\u003cli\u003ePaintなどのグラフィックスオブジェクトを生成\u003c/li\u003e\n\u003cli\u003e時刻を格納するオブジェクトの初期化\u003c/li\u003e\n\u003cli\u003eウォッチフェイスのスタイル（ステータスアイコンややOK Googleの表示など）を設定\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eOnCreateメソッドの実装\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnCreate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eISurfaceHolder\u003c/span\u003e \u003cspan class=\"n\"\u003eholder\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// ウォッチフェイスのスタイルを設定します。\u003c/span\u003e\n    \u003cspan class=\"nf\"\u003eSetWatchFaceStyle\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eWatchFaceStyle\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eBuilder\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eowner\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// ユーザーからのタップイベントを有効にするかどうか設定します。\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e//   true  : 有効\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e//   false : 無効（デフォルト）\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e//.SetAcceptsTapEvents( true ) \u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 通知が来た時の通知カードの高さを設定します。\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetCardPeekMode\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eWatchFaceStyle\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePeekModeShort\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 通知カード（small cardの表示時）の背景の表示方法を設定します。\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e//   WatchFaceStyle.BackgroundVisibilityInterruptive : 一部の重要な通知に限り、表示します。（デフォルト）\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e//   WatchFaceStyle.BackgroundVisibilityPersistent   : 通知カードの種類にかかわらず、表示します。\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetBackgroundVisibility\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eWatchFaceStyle\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eBackgroundVisibilityInterruptive\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// システムUIのデジタル時計を表示するするかどうかを設定します。（使用している例として、デフォルトで用意されている「シンプル」があります。）\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e//   true  : 表示\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e//   false : 非表示（デフォルト）\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetShowSystemUiTime\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"k\"\u003efalse\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 設定したスタイル情報をビルドします。このメソッドは最後に呼び出します。\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eBuild\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003ebase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eOnCreate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eholder\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003eresources\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eowner\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eResources\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// 背景用のグラフィックスオブジェクトを生成します。\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ebackgroundPaint\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003ePaint\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// リソースから背景色を読み込みます。\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ebackgroundPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eColor\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eresources\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetColor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eResource\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eColor\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ebackground\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// 時針用のPaintグラフィックスオブジェクトを生成します。\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ehourHandPaint\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003ePaint\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ehourHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eColor\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eresources\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetColor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eResource\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eColor\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eanalog_hands\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// 時針の幅を設定します。\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ehourHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStrokeWidth\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eresources\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetDimension\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eResource\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDimension\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ehour_hand_stroke\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// アンチエイリアスを有効にします。\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ehourHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAntiAlias\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// 線端の形は丸形を指定します。\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ehourHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStrokeCap\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ePaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCap\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eRound\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// 分針用のPaintグラフィックスオブジェクトを生成します。\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eminuteHandPaint\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003ePaint\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eminuteHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eColor\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ehourHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eColor\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eminuteHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStrokeWidth\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eresources\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetDimension\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eResource\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDimension\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eminute_hand_stroke\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eminuteHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAntiAlias\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eminuteHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStrokeCap\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ePaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCap\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eRound\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// 秒針用のPaintグラフィックスオブジェクトを生成します。\u003c/span\u003e\n    \u003cspan class=\"n\"\u003esecondHandPaint\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003ePaint\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"n\"\u003esecondHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eColor\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eresources\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetColor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eResource\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eColor\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eanalog_second_hand\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003esecondHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStrokeWidth\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eresources\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetDimension\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eResource\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDimension\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esecond_hand_stroke\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003esecondHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAntiAlias\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003esecondHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStrokeCap\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ePaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCap\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eRound\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// 時刻を格納するオブジェクトを生成します。\u003c/span\u003e\n    \u003cspan class=\"n\"\u003enowTime\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eJava\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUtil\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCalendar\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetInstance\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eJava\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUtil\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTimeZone\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDefault\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"351-無慈悲なdeprecation\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#351-%E7%84%A1%E6%85%88%E6%82%B2%E3%81%AAdeprecation\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.5.1. 無慈悲なDeprecation\u003c/h3\u003e\n\n\u003cp\u003e\u003cstrong\u003eAndroid.Content.Res.Resources.\u003ca href=\"\"\u003eGetColor\u003c/a\u003e\u003c/strong\u003eメソッドは、Android SDK Level 23以降では非推奨となっており、代わりに\u003cstrong\u003eAndroid.Support.V4.Content.ContextCompat.\u003ca href=\"\"\u003eGetColor\u003c/a\u003e\u003c/strong\u003eメソッドが推奨されています。\u003c/p\u003e\n\n\u003cp\u003eしかし、そのメソッドの戻り値はColor型でなく、\u003cstrong\u003eARGB値を格納したint型\u003c/strong\u003eであり、PaintオブジェクトのColorプロパティ（Color型）に代入するには、一工夫が必要です。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eリソースから背景色の読み込み\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e// 非推奨となった方法\u003c/span\u003e\n\u003cspan class=\"n\"\u003ebackgroundPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eColor\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eowner\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eResources\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetColor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eResource\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eColor\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ebackground\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// 代わりに推奨された方法\u003c/span\u003e\n\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eargb\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eContextCompat\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetColor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eowner\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eResource\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eColor\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ebackground\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"n\"\u003ebackgroundPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eColor\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eColor\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eArgb\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eargb\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e \u003cspan class=\"m\"\u003e24\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026amp;\u003c/span\u003e \u003cspan class=\"m\"\u003e0xFF\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eargb\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e \u003cspan class=\"m\"\u003e16\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026amp;\u003c/span\u003e \u003cspan class=\"m\"\u003e0xFF\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eargb\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e \u003cspan class=\"m\"\u003e8\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026amp;\u003c/span\u003e \u003cspan class=\"m\"\u003e0xFF\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eargb\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026amp;\u003c/span\u003e \u003cspan class=\"m\"\u003e0xFF\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// 注 : ContextCompat.GetColorメソッドの戻り値を、Paint.Colorプロパティに直接代入できません。\u003c/span\u003e\n\u003cspan class=\"n\"\u003ebackgroundPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eColor\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eContextCompat\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetColor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eowner\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eResource\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eColor\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ebackground\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"36-ondestroyメソッドのオーバーライド\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#36-ondestroy%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.6. OnDestroyメソッドのオーバーライド\u003c/h2\u003e\n\n\u003cp\u003e\u003cstrong\u003e\u003ca href=\"https://developer.android.com/reference/android/support/wearable/watchface/CanvasWatchFaceService.Engine.html#onDestroy()\" rel=\"nofollow noopener\" target=\"_blank\"\u003eOnDestroy\u003c/a\u003e\u003c/strong\u003eメソッドは、AnalogWatchFaceEngineのインスタンスが破棄される時\u003csup id=\"fnref1\"\u003e\u003ca href=\"#fn1\" title=\"例えば、現在のウォッチフェイスから別のウォッチフェイスに切り替えた時に呼び出されます。\"\u003e1\u003c/a\u003e\u003c/sup\u003eに実行します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eOnDestroyメソッドの実装\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnDestroy\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// UpdateTimeHandlerにセットされているメッセージを削除します。\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eupdateTimeHandler\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eRemoveMessages\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eMessageUpdateTime\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003ebase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eOnDestroy\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"37-onapplywindowinsetsメソッドのオーバーライド\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#37-onapplywindowinsets%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.7. OnApplyWindowInsetsメソッドのオーバーライド\u003c/h2\u003e\n\n\u003cp\u003e\u003cstrong\u003e\u003ca href=\"https://developer.android.com/reference/android/service/wallpaper/WallpaperService.Engine.html#onApplyWindowInsets(android.view.WindowInsets)\" rel=\"nofollow noopener\" target=\"_blank\"\u003eOnApplyWindowInsets\u003c/a\u003e\u003c/strong\u003eメソッドは、現在の\u003cstrong\u003e\u003ca href=\"https://developer.android.com/reference/android/view/WindowInsets.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003eWindowInsets\u003c/a\u003e\u003c/strong\u003eを適用する時に実行します。\u003c/p\u003e\n\n\u003cp\u003e例えば、Android Wearデバイスの\u003cstrong\u003eウィンドウの形状（丸形 or 四角形）を判別\u003c/strong\u003eする時に利用します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eOnApplyWindowInsetsメソッドの実装\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnApplyWindowInsets\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eWindowInsets\u003c/span\u003e \u003cspan class=\"n\"\u003einsets\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ebase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eOnApplyWindowInsets\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003einsets\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// Android Wearのウィンドウが丸形かどうかを判別します。\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e//bool isRound = insets.IsRound;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"38-onpropertieschangedメソッドのオーバーライド\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#38-onpropertieschanged%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.8. OnPropertiesChangedメソッドのオーバーライド\u003c/h2\u003e\n\n\u003cp\u003e\u003cstrong\u003e\u003ca href=\"https://developer.android.com/reference/android/support/wearable/watchface/WatchFaceService.Engine.html#onPropertiesChanged(android.os.Bundle)\" rel=\"nofollow noopener\" target=\"_blank\"\u003eOnPropertiesChanged\u003c/a\u003e\u003c/strong\u003eメソッドは、Android Wearデバイスのプロパティが定められた時に実行します。\u003c/p\u003e\n\n\u003cp\u003e主に、Low-Bit制限及び焼き付き防止を必要とするかどうかのフラグを設定します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eOnPropertiesChangedメソッドの実装\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnPropertiesChanged\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eBundle\u003c/span\u003e \u003cspan class=\"n\"\u003eproperties\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ebase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eOnPropertiesChanged\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eproperties\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// アンビエントモード時、Low-Bit制限を必要とするかどうかの値を取得します。\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eisRequiredLowBitAmbient\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eproperties\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetBoolean\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003ePropertyLowBitAmbient\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003efalse\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// アンビエントモード時、焼き付き防止を必要とするかどうかの値を取得します。\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eisReqiredBurnInProtection\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eproperties\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetBoolean\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003ePropertyBurnInProtection\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003efalse\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"39-ontimetickメソッドのオーバーライド\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#39-ontimetick%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.9. OnTimeTickメソッドのオーバーライド\u003c/h2\u003e\n\n\u003cp\u003e\u003cstrong\u003e\u003ca href=\"https://developer.android.com/reference/android/support/wearable/watchface/WatchFaceService.Engine.html#onTimeTick()\" rel=\"nofollow noopener\" target=\"_blank\"\u003eOnTimeTick\u003c/a\u003e\u003c/strong\u003eメソッドは、Android Wearのモードにかかわらず、1分ごとに実行します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eOnTimeTickメソッドの実装\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnTimeTick\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ebase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eOnTimeTick\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// ウォッチフェイスを再描画します。\u003c/span\u003e\n    \u003cspan class=\"nf\"\u003eInvalidate\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"310-onambientmodechangedメソッドのオーバーライド\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#310-onambientmodechanged%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.10. OnAmbientModeChangedメソッドのオーバーライド\u003c/h2\u003e\n\n\u003cp\u003e\u003cstrong\u003e\u003ca href=\"https://developer.android.com/reference/android/support/wearable/watchface/WatchFaceService.Engine.html#onAmbientModeChanged(boolean)\" rel=\"nofollow noopener\" target=\"_blank\"\u003eOnAmbientModeChanged\u003c/a\u003e\u003c/strong\u003eメソッドは、Android Wearデバイスで「インタラクティブモード」と「アンビエントモード」を切り替えた時に実行します。\u003c/p\u003e\n\n\u003cp\u003e引数のinAmbientModeから、アンビエントモードかどうかを判別します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eOnAmbientModeChangedメソッドの実装\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnAmbientModeChanged\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003einAmbientMode\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ebase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eOnAmbientModeChanged\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003einAmbientMode\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// アンビエントモードが変更されたかどうかを判別します。\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eisAmbient\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"n\"\u003einAmbientMode\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// 現在のアンビエントモードをセットします。\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eisAmbient\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003einAmbientMode\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e// デバイスがLow-Bit制限を必要とするかどうかを判別します。\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eisRequiredLowBitAmbient\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003eantiAlias\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e!\u003c/span\u003e\u003cspan class=\"n\"\u003einAmbientMode\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// アンビエントモードの時は、針のPaintオブジェクトのアンチエイリアスを無効にし、\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// そうでなければ有効にします。\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ehourHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAntiAlias\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eantiAlias\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eminuteHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAntiAlias\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eantiAlias\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003esecondHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAntiAlias\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eantiAlias\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// ウォッチフェイスを再描画します。\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eInvalidate\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e// タイマーを更新します。\u003c/span\u003e\n        \u003cspan class=\"nf\"\u003eUpdateTimer\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eUpdateTimerメソッド\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eUpdateTimer\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// UpdateTimeHandlerからMessageUpdateTimeメッセージを取り除きます。\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eupdateTimeHandler\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eRemoveMessages\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eMessageUpdateTime\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// UpdateTimeHandlerを動作させるかどうかを判別します。\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eShouldTimerBeRunning\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// UpdateTimeHandlerにMessageUpdateTimeメッセージをセットします。\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eupdateTimeHandler\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSendEmptyMessage\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eMessageUpdateTime\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"311-oninterruptionfilterchangedメソッドのオーバーライド\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#311-oninterruptionfilterchanged%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.11. OnInterruptionFilterChangedメソッドのオーバーライド\u003c/h2\u003e\n\n\u003cp\u003e\u003cstrong\u003e\u003ca href=\"\"\u003eOnInterruptionFilterChanged\u003c/a\u003e\u003c/strong\u003eメソッドは、Interruptionフィルターが変更された時に実行します。\u003c/p\u003e\n\n\u003cp\u003e主に、Android Wearデバイスの通知のON / OFF状態を判別する時に利用します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eOnInterruptionFilterChangedメソッドの実装\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnInterruptionFilterChanged\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003einterruptionFilter\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ebase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eOnInterruptionFilterChanged\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003einterruptionFilter\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// InterruptionフィルターがInterruptionFilterNoneであるかどうか判別します。\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003einMuteMode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003einterruptionFilter\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"n\"\u003eInterruptionFilterNone\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// ミュートモードが変更されたかどうか判別します。\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eisMute\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"n\"\u003einMuteMode\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eisMute\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003einMuteMode\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e// ウォッチフェイスを再描画します。\u003c/span\u003e\n        \u003cspan class=\"nf\"\u003eInvalidate\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eInterruptionFilterの値\u003c/th\u003e\n\u003cth\u003e通知\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003eInterruptionFilterAll（1）\u003c/td\u003e\n\u003ctd\u003eすべての通知を表示します。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eInterruptionFilterPriority（2）\u003c/td\u003e\n\u003ctd\u003e優先度の高い通知のみ表示します。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eInterruptionFilterNone（3）\u003c/td\u003e\n\u003ctd\u003eすべての通知を表示しません。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eInterruptionFilterAlarm（4）\u003c/td\u003e\n\u003ctd\u003eアラームの通知のみ表示します。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eInterruptionFilterUnknown（0）\u003c/td\u003e\n\u003ctd\u003eInterruptionフィルターが利用できません。\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"312-ontapcommandメソッドのオーバーライド\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#312-ontapcommand%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.12. OnTapCommandメソッドのオーバーライド\u003c/h2\u003e\n\n\u003cp\u003e\u003cstrong\u003e\u003ca href=\"https://developer.android.com/reference/android/support/wearable/watchface/WatchFaceService.Engine.html#onTapCommand(int,%20int,%20int,%20long)\" rel=\"nofollow noopener\" target=\"_blank\"\u003eOnTapCommand\u003c/a\u003e\u003c/strong\u003eメソッドは、ユーザーが画面をタップした時に実行します。\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003e※このメソッドを実行するには、\u003cstrong\u003e\u003ca href=\"https://developer.android.com/reference/android/support/wearable/watchface/WatchFaceStyle.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003eWatchFaceStyle\u003c/a\u003e.\u003ca href=\"https://developer.android.com/reference/android/support/wearable/watchface/WatchFaceStyle.Builder.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003eBuilder\u003c/a\u003e\u003c/strong\u003eにて、\u003cstrong\u003e\u003ca href=\"https://developer.android.com/reference/android/support/wearable/watchface/WatchFaceStyle.Builder.html#setAcceptsTapEvents(boolean)\" rel=\"nofollow noopener\" target=\"_blank\"\u003eSetAcceptsTapEvents\u003c/a\u003e\u003c/strong\u003eメソッドの引数に\u003cstrong\u003etrue\u003c/strong\u003eを指定し、タップイベントを有効にする必要があります。\u003cbr\u003e\n※このメソッドは、Android Wear 1.3以上に対応しています。\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e引数\u003c/th\u003e\n\u003cth\u003e概要\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003etapType\u003c/td\u003e\n\u003ctd\u003eタップの種類\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003exValue\u003c/td\u003e\n\u003ctd\u003eタップした位置のX座標\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eyValue\u003c/td\u003e\n\u003ctd\u003eタップした位置のY座標\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eeventTime\u003c/td\u003e\n\u003ctd\u003eタップイベントが発生している時間（ミリ秒）\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eOnTapCommandメソッドの実装\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnTapCommand\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003etapType\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003exValue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eyValue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003elong\u003c/span\u003e \u003cspan class=\"n\"\u003eeventTime\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// タップの種類を判別します。\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eswitch\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003etapType\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ecase\u003c/span\u003e \u003cspan class=\"n\"\u003eTapTypeTouch\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// TODO : ユーザーが画面をタッチした時の処理を入れます。\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ebreak\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ecase\u003c/span\u003e \u003cspan class=\"n\"\u003eTapTypeTouchCancel\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// TODO : ユーザーが画面をタッチしたまま、指を動かした時の処理を入れます。\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ebreak\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ecase\u003c/span\u003e \u003cspan class=\"n\"\u003eTapTypeTap\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// TODO : ユーザーがタップした時の処理を入れます。\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ebreak\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"313-ondrawメソッドのオーバーライド\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#313-ondraw%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.13. OnDrawメソッドのオーバーライド\u003c/h2\u003e\n\n\u003cp\u003e\u003cstrong\u003e\u003ca href=\"https://developer.android.com/reference/android/support/wearable/watchface/CanvasWatchFaceService.Engine.html#onDraw(android.graphics.Canvas,%20android.graphics.Rect)\" rel=\"nofollow noopener\" target=\"_blank\"\u003eOnDraw\u003c/a\u003e\u003c/strong\u003eメソッドは、現在時刻を取得し、Watch Faceの画面を描画します。\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003e※このメソッド内の処理は、できるだけ短く終えるようにし、リソースの読み込みやグラフィックスオブジェクトの生成などは、なるべく\u003cstrong\u003eOnCreate\u003c/strong\u003eメソッドで行うようにします。\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e引数\u003c/th\u003e\n\u003cth\u003e概要\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003ecanvas\u003c/td\u003e\n\u003ctd\u003e画面に描画するためのキャンパスオブジェクト\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ebounds\u003c/td\u003e\n\u003ctd\u003e画面のサイズなどを格納するオブジェクト\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eOnDrawメソッドの実装\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnDraw\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eCanvas\u003c/span\u003e \u003cspan class=\"n\"\u003ecanvas\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eRect\u003c/span\u003e \u003cspan class=\"n\"\u003ebounds\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// 中略\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"3131-現在時刻を取得\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3131-%E7%8F%BE%E5%9C%A8%E6%99%82%E5%88%BB%E3%82%92%E5%8F%96%E5%BE%97\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.13.1. 現在時刻を取得\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eAndroidのTimeクラスの場合\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"n\"\u003enowTime\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetToNow\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eJavaのCalendarクラスの場合\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"n\"\u003enowTime\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eJava\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUtil\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCalendar\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetInstance\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003enowTime\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTimeZone\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e.NETのDateTime構造体の場合\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"n\"\u003enowTime\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eDateTime\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eNow\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"3132-背景を描画\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3132-%E8%83%8C%E6%99%AF%E3%82%92%E6%8F%8F%E7%94%BB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.13.2. 背景を描画\u003c/h3\u003e\n\n\u003cp\u003e画面全体を背景色で塗りつぶし、前回描画した内容を上書きします。\u003c/p\u003e\n\n\u003cp\u003eインタラクティブモードの時は、リソースから読み込んだ背景色で描画し、アンビエントモードの時は、黒色で塗りつぶします。\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003e\u003ca href=\"https://developer.android.com/reference/android/graphics/Canvas.html#drawColor(int)\" rel=\"nofollow noopener\" target=\"_blank\"\u003eDrawColor\u003c/a\u003e\u003c/strong\u003eメソッドは、画面全体を指定した色で塗りつぶします。\u003cbr\u003e\n\u003cstrong\u003e\u003ca href=\"https://developer.android.com/reference/android/graphics/Canvas.html#drawRect(float,%20float,%20float,%20float,%20android.graphics.Paint)\" rel=\"nofollow noopener\" target=\"_blank\"\u003eDrawRect\u003c/a\u003e\u003c/strong\u003eメソッドは、指定した左上と右下のXY座標とPaintオブジェクトからなる矩形を描画します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e背景を描画\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e// アンビエントモードであるかどうか判別します。\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eIsInAmbientMode\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// アンビエントモードの時は、黒色で塗りつぶします。\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ecanvas\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eDrawColor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eColor\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eBlack\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eelse\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// そうでない時は、背景画像を描画します。\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ecanvas\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eDrawRect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecanvas\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eWidth\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecanvas\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eHeight\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ebackgroundPaint\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"3133-時針分針秒針を描画\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3133-%E6%99%82%E9%87%9D%E5%88%86%E9%87%9D%E7%A7%92%E9%87%9D%E3%82%92%E6%8F%8F%E7%94%BB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.13.3. 時針、分針、秒針を描画\u003c/h3\u003e\n\n\u003cp\u003e秒針は、1秒あたり$2\\pi / 60$ [rad]なので、$s$秒の時の秒針の角度$\\theta_s$は、以下の式で求められます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"math\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\\theta_s = s \\times \\pi / 30\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e分針も同様に、$m$分の時の分針の角度$\\theta_m$は、以下の式で求められます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"math\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\\theta_m = m \\times \\pi / 30\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e時針は、1時間あたり$2\\pi / 6$ [rad]ですが、時の値$h$だけでなく分の値$m$も考慮して、角度$\\theta_h$を求めていきます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"math\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\\theta_h = ( ( h + m / 60 ) \\times \\pi / 6\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e12時の位置を基準に、現在の針の角度を$\\theta$ [rad]、針の長さを$l$とすると、針の先端のXY座標は以下の式で求められます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"math\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003ex = l \\times \\sin( \\theta )\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"math\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003ey = -l \\times \\cos( \\theta )\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eあとは、\u003cstrong\u003e\u003ca href=\"https://developer.android.com/reference/android/graphics/Canvas.html#drawLine(float,%20float,%20float,%20float,%20android.graphics.Paint)\" rel=\"nofollow noopener\" target=\"_blank\"\u003eDrawLine\u003c/a\u003e\u003c/strong\u003eメソッドで描画します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e時針、分針、秒針を描画\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e// 中心のXY座標を求めます。\u003c/span\u003e\n\u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterX\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ebounds\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWidth\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e2.0f\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterY\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ebounds\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eHeight\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e2.0f\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// 針の長さを求めます。\u003c/span\u003e\n\u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003ehourHandLength\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterX\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e80\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eminuteHandLength\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterX\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e40\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003esecondHandLength\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterX\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e20\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// 時針の先端のXY座標を求めます。\u003c/span\u003e\n\u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003ehourHandRotation\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003enowTime\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGet\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eJava\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUtil\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCalendarField\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eHour\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003enowTime\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGet\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eJava\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUtil\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCalendarField\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eMinute\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e60f\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e6f\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePI\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003ehourHandX\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003ehourHandRotation\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ehourHandLength\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003ehourHandY\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"p\"\u003e)-\u003c/span\u003e\u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003ehourHandRotation\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ehourHandLength\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// 時針を描画します。\u003c/span\u003e\n\u003cspan class=\"n\"\u003ecanvas\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eDrawLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterY\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterX\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ehourHandX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterY\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ehourHandY\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ehourHandPaint\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// 分針の先端のXY座標を求めます。\u003c/span\u003e\n\u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eminuteHandRotation\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003enowTime\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGet\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eJava\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUtil\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCalendarField\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eMinute\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e30f\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePI\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eminuteHandX\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eminuteHandRotation\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eminuteHandLength\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eminuteHandY\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"p\"\u003e)-\u003c/span\u003e\u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eminuteHandRotation\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eminuteHandLength\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// 分針を描画します。\u003c/span\u003e\n\u003cspan class=\"n\"\u003ecanvas\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eDrawLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterY\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterX\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eminuteHandX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterY\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eminuteHandY\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eminuteHandPaint\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// アンビエントモードでないかどうかを判別します。\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"p\"\u003e!\u003c/span\u003e\u003cspan class=\"n\"\u003eisAmbient\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// 秒針の先端のXY座標を求めます。\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003esecondHandRotation\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003enowTime\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGet\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eJava\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUtil\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCalendarField\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSecond\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e30f\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePI\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003esecondHandX\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003esecondHandRotation\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003esecondHandLength\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003esecondHandY\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"p\"\u003e)-\u003c/span\u003e\u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003esecondHandRotation\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003esecondHandLength\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// 分針を描画します。\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ecanvas\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eDrawLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterY\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterX\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003esecondHandX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterY\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003esecondHandY\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003esecondHandPaint\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"314-onvisibilitychangedメソッドのオーバーライド\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#314-onvisibilitychanged%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.14. OnVisibilityChangedメソッドのオーバーライド\u003c/h2\u003e\n\n\u003cp\u003e\u003cstrong\u003e\u003ca href=\"https://developer.android.com/reference/android/support/wearable/watchface/WatchFaceService.Engine.html#onVisibilityChanged(boolean)\" rel=\"nofollow noopener\" target=\"_blank\"\u003eOnVisibilityChanged\u003c/a\u003e\u003c/strong\u003eメソッドは、Android Wearデバイスの画面の表示・非表示が切り替わった時に実行します。\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003e※Android Wearデバイスの設定で「常に画面表示」をOFFにした時、インタラクティブモードで一定時間が経つと、\u003cstrong\u003e一旦アンビエントモードに移行してから画面を消灯\u003c/strong\u003eします。従って、OnVisibilityChangedメソッドを実行する前にOnAmbientModeChangedメソッドを実行します。（逆に、画面消灯からインタラクティブモードへの移行では、OnVisibilityChangedメソッドの実行後にOnAmbientModeChangedメソッドを実行します。）\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eOnVisibilityChangedメソッドの実装\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnVisibilityChanged\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003evisible\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ebase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eOnVisibilityChanged\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003evisible\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// ウォッチフェイスの表示・非表示を判別します。\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003evisible\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// TimeZoneReceiverが未初期化の時、ここで初期化します。\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003etimeZoneReceiver\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003etimeZoneReceiver\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eTimeZoneReceiver\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eintent\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003enowTime\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTimeZone\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eJava\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUtil\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTimeZone\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDefault\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"p\"\u003e!\u003c/span\u003e\u003cspan class=\"n\"\u003etimeZoneReceiverRegistered\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// タイムゾーン用のレシーバーを登録します。\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003eintentFilter\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eIntentFilter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eIntent\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eActionTimezoneChanged\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eApplication\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eContext\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eRegisterReceiver\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003etimeZoneReceiver\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eintentFilter\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003etimeZoneReceiverRegistered\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e// ウォッチフェイスが描画されていない時にタイムゾーンが変化した場合の備え、現在タイムゾーンの時の現在時刻を取得します。\u003c/span\u003e\n        \u003cspan class=\"n\"\u003enowTime\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eJava\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUtil\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCalendar\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetInstance\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eJava\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUtil\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTimeZone\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDefault\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eelse\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003etimeZoneReceiverRegistered\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// タイムゾーン用のレシーバーを登録解除します。\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eApplication\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eContext\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eUnregisterReceiver\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003etimeZoneReceiver\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003etimeZoneReceiverRegistered\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// タイマーの動作を更新します。\u003c/span\u003e\n    \u003cspan class=\"nf\"\u003eUpdateTimer\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"4-完成後のコード\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#4-%E5%AE%8C%E6%88%90%E5%BE%8C%E3%81%AE%E3%82%B3%E3%83%BC%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e4. 完成後のコード\u003c/h1\u003e\n\n\u003cp\u003e完成後のコードを以下に示します。\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003e※コメント付きのバージョンは\u003ca href=\"\"\u003eGist\u003c/a\u003eにて公開しています。\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eMyWatchFace.cs（完成後）\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eAndroid.App\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eAndroid.Content\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eAndroid.Graphics\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eAndroid.Graphics.Drawables\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eAndroid.OS\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eAndroid.Service.Wallpaper\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eAndroid.Support.V4.Content\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eAndroid.Support.Wearable.Watchface\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eAndroid.Text.Format\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eAndroid.Views\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003enamespace\u003c/span\u003e \u003cspan class=\"nn\"\u003eWatchFaceTest\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003eService\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eLabel\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"@string/watch_name\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ePermission\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"android.permission.BIND_WALLPAPER\"\u003c/span\u003e \u003cspan class=\"p\"\u003e)]\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003eMetaData\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"s\"\u003e\"android.service.wallpaper\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eResource\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"@xml/watch_face\"\u003c/span\u003e \u003cspan class=\"p\"\u003e)]\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003eMetaData\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"s\"\u003e\"com.google.android.wearable.watchface.preview\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eResource\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"@drawable/preview\"\u003c/span\u003e \u003cspan class=\"p\"\u003e)]\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003eMetaData\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"s\"\u003e\"com.google.android.wearable.watchface.preview_circular\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eResource\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"@drawable/preview_circular\"\u003c/span\u003e \u003cspan class=\"p\"\u003e)]\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003eIntentFilter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"s\"\u003e\"android.service.wallpaper.WallpaperService\"\u003c/span\u003e \u003cspan class=\"p\"\u003e},\u003c/span\u003e \u003cspan class=\"n\"\u003eCategories\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"s\"\u003e\"com.google.android.wearable.watchface.category.WATCH_FACE\"\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"p\"\u003e)]\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eAnalogWatchFaceService\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eCanvasWatchFaceService\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"kt\"\u003elong\u003c/span\u003e \u003cspan class=\"n\"\u003eInteractiveUpdateRateMilliseconds\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eJava\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUtil\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eConcurrent\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTimeUnit\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSeconds\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToMillis\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eMessageUpdateTime\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"n\"\u003eWallpaperService\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEngine\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnCreateEngine\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eAnalogWatchFaceEngine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eAnalogWatchFaceEngine\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eCanvasWatchFaceService\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEngine\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eCanvasWatchFaceService\u003c/span\u003e \u003cspan class=\"n\"\u003eowner\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"n\"\u003eHandler\u003c/span\u003e \u003cspan class=\"n\"\u003eupdateTimeHandler\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eJava\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUtil\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCalendar\u003c/span\u003e \u003cspan class=\"n\"\u003enowTime\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003ePaint\u003c/span\u003e \u003cspan class=\"n\"\u003ebackgroundPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003ePaint\u003c/span\u003e \u003cspan class=\"n\"\u003ehourHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003ePaint\u003c/span\u003e \u003cspan class=\"n\"\u003eminuteHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003ePaint\u003c/span\u003e \u003cspan class=\"n\"\u003esecondHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003eisAmbient\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003eisRequiredLowBitAmbient\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003eisReqiredBurnInProtection\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003eisMute\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eTimeZoneReceiver\u003c/span\u003e \u003cspan class=\"n\"\u003etimeZoneReceiver\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003etimeZoneReceiverRegistered\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003eAnalogWatchFaceEngine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eCanvasWatchFaceService\u003c/span\u003e \u003cspan class=\"n\"\u003eowner\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"k\"\u003ebase\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eowner\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eowner\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eowner\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eupdateTimeHandler\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eHandler\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003emessage\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                        \u003cspan class=\"k\"\u003eswitch\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eWhat\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                            \u003cspan class=\"k\"\u003ecase\u003c/span\u003e \u003cspan class=\"n\"\u003eMessageUpdateTime\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                                \u003cspan class=\"nf\"\u003eInvalidate\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n                                \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eShouldTimerBeRunning\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                                    \u003cspan class=\"kt\"\u003elong\u003c/span\u003e \u003cspan class=\"n\"\u003etimeMillseconds\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eDateTime\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUtcNow\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTicks\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eTimeSpan\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTicksPerMillisecond\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                                    \u003cspan class=\"kt\"\u003elong\u003c/span\u003e \u003cspan class=\"n\"\u003edelayMilliseconds\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eInteractiveUpdateRateMilliseconds\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003etimeMillseconds\u003c/span\u003e \u003cspan class=\"p\"\u003e%\u003c/span\u003e \u003cspan class=\"n\"\u003eInteractiveUpdateRateMilliseconds\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                                    \u003cspan class=\"n\"\u003eupdateTimeHandler\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSendEmptyMessageDelayed\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eMessageUpdateTime\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003edelayMilliseconds\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                                \u003cspan class=\"k\"\u003ebreak\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n                \u003cspan class=\"n\"\u003etimeZoneReceiver\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eTimeZoneReceiver\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eintent\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003enowTime\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTimeZone\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eJava\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUtil\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTimeZone\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDefault\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnCreate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eISurfaceHolder\u003c/span\u003e \u003cspan class=\"n\"\u003eholder\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\n                \u003cspan class=\"nf\"\u003eSetWatchFaceStyle\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eWatchFaceStyle\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eBuilder\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eowner\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetCardPeekMode\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eWatchFaceStyle\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePeekModeShort\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetBackgroundVisibility\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eWatchFaceStyle\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eBackgroundVisibilityInterruptive\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetShowSystemUiTime\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"k\"\u003efalse\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                        \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eBuild\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n                \u003cspan class=\"k\"\u003ebase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eOnCreate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eholder\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n                \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003eresources\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eowner\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eResources\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n                \u003cspan class=\"n\"\u003ebackgroundPaint\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003ePaint\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ebackgroundPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eColor\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eresources\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetColor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eResource\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eColor\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ebackground\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n                \u003cspan class=\"n\"\u003ehourHandPaint\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003ePaint\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ehourHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eColor\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eresources\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetColor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eResource\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eColor\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eanalog_hands\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ehourHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStrokeWidth\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eresources\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetDimension\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eResource\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDimension\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ehour_hand_stroke\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ehourHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAntiAlias\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ehourHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStrokeCap\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ePaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCap\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eRound\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n                \u003cspan class=\"n\"\u003eminuteHandPaint\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003ePaint\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eminuteHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eColor\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ehourHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eColor\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eminuteHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStrokeWidth\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eresources\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetDimension\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eResource\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDimension\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eminute_hand_stroke\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eminuteHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAntiAlias\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eminuteHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStrokeCap\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ePaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCap\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eRound\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n                \u003cspan class=\"n\"\u003esecondHandPaint\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003ePaint\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n                \u003cspan class=\"n\"\u003esecondHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eColor\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eresources\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetColor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eResource\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eColor\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eanalog_second_hand\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003esecondHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStrokeWidth\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eresources\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetDimension\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eResource\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDimension\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esecond_hand_stroke\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003esecondHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAntiAlias\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003esecondHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStrokeCap\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ePaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCap\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eRound\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n                \u003cspan class=\"n\"\u003enowTime\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eJava\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUtil\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCalendar\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetInstance\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eJava\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUtil\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTimeZone\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDefault\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnDestroy\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eupdateTimeHandler\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eRemoveMessages\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eMessageUpdateTime\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n                \u003cspan class=\"k\"\u003ebase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eOnDestroy\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnApplyWindowInsets\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eWindowInsets\u003c/span\u003e \u003cspan class=\"n\"\u003einsets\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ebase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eOnApplyWindowInsets\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003einsets\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e//bool isRound = insets.IsRound;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnPropertiesChanged\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eBundle\u003c/span\u003e \u003cspan class=\"n\"\u003eproperties\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ebase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eOnPropertiesChanged\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eproperties\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n                \u003cspan class=\"n\"\u003eisRequiredLowBitAmbient\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eproperties\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetBoolean\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003ePropertyLowBitAmbient\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003efalse\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eisReqiredBurnInProtection\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eproperties\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetBoolean\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003ePropertyBurnInProtection\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003efalse\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnTimeTick\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ebase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eOnTimeTick\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n                \u003cspan class=\"nf\"\u003eInvalidate\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnAmbientModeChanged\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003einAmbientMode\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ebase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eOnAmbientModeChanged\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003einAmbientMode\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eisAmbient\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"n\"\u003einAmbientMode\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eisAmbient\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003einAmbientMode\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eisRequiredLowBitAmbient\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                        \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003eantiAlias\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e!\u003c/span\u003e\u003cspan class=\"n\"\u003einAmbientMode\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n                        \u003cspan class=\"n\"\u003ehourHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAntiAlias\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eantiAlias\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003eminuteHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAntiAlias\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eantiAlias\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003esecondHandPaint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAntiAlias\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eantiAlias\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                        \u003cspan class=\"nf\"\u003eInvalidate\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                    \u003cspan class=\"nf\"\u003eUpdateTimer\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnInterruptionFilterChanged\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003einterruptionFilter\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ebase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eOnInterruptionFilterChanged\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003einterruptionFilter\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n                \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003einMuteMode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003einterruptionFilter\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"n\"\u003eInterruptionFilterNone\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eisMute\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"n\"\u003einMuteMode\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eisMute\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003einMuteMode\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n                    \u003cspan class=\"nf\"\u003eInvalidate\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnTapCommand\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003etapType\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003exValue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eyValue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003elong\u003c/span\u003e \u003cspan class=\"n\"\u003eeventTime\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eswitch\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003etapType\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003ecase\u003c/span\u003e \u003cspan class=\"n\"\u003eTapTypeTouch\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                        \u003cspan class=\"k\"\u003ebreak\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003ecase\u003c/span\u003e \u003cspan class=\"n\"\u003eTapTypeTouchCancel\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                        \u003cspan class=\"k\"\u003ebreak\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003ecase\u003c/span\u003e \u003cspan class=\"n\"\u003eTapTypeTap\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                        \u003cspan class=\"k\"\u003ebreak\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnDraw\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eCanvas\u003c/span\u003e \u003cspan class=\"n\"\u003ecanvas\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eRect\u003c/span\u003e \u003cspan class=\"n\"\u003ebounds\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\n                \u003cspan class=\"n\"\u003enowTime\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eJava\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUtil\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCalendar\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetInstance\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003enowTime\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTimeZone\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eisAmbient\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003ecanvas\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eDrawColor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eColor\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eBlack\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eelse\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003ecanvas\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eDrawRect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecanvas\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eWidth\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecanvas\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eHeight\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ebackgroundPaint\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n                \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterX\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ebounds\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWidth\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e2.0f\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterY\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ebounds\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eHeight\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e2.0f\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n                \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003ehourHandLength\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterX\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e80\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eminuteHandLength\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterX\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e40\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003esecondHandLength\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterX\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e20\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n                \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003ehourHandRotation\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003enowTime\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGet\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eJava\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUtil\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCalendarField\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eHour\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003enowTime\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGet\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eJava\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUtil\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCalendarField\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eMinute\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e60f\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e6f\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePI\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003ehourHandX\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003ehourHandRotation\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ehourHandLength\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003ehourHandY\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"p\"\u003e)-\u003c/span\u003e\u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003ehourHandRotation\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ehourHandLength\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ecanvas\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eDrawLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterY\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterX\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ehourHandX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterY\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ehourHandY\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ehourHandPaint\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n                \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eminuteHandRotation\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003enowTime\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGet\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eJava\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUtil\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCalendarField\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eMinute\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e30f\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePI\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eminuteHandX\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eminuteHandRotation\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eminuteHandLength\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eminuteHandY\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"p\"\u003e)-\u003c/span\u003e\u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eminuteHandRotation\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eminuteHandLength\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ecanvas\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eDrawLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterY\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterX\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eminuteHandX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterY\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eminuteHandY\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eminuteHandPaint\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"p\"\u003e!\u003c/span\u003e\u003cspan class=\"n\"\u003eisAmbient\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003esecondHandRotation\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003enowTime\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGet\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eJava\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUtil\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCalendarField\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSecond\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e30f\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePI\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003esecondHandX\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003esecondHandRotation\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003esecondHandLength\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003esecondHandY\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"p\"\u003e)-\u003c/span\u003e\u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003esecondHandRotation\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003esecondHandLength\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003ecanvas\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eDrawLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterY\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterX\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003esecondHandX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecenterY\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003esecondHandY\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003esecondHandPaint\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnVisibilityChanged\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003evisible\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ebase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eOnVisibilityChanged\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003evisible\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003evisible\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003etimeZoneReceiver\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003etimeZoneReceiver\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eTimeZoneReceiver\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                            \u003cspan class=\"n\"\u003eintent\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                                \u003cspan class=\"n\"\u003enowTime\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTimeZone\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eJava\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUtil\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTimeZone\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDefault\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                        \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"p\"\u003e!\u003c/span\u003e\u003cspan class=\"n\"\u003etimeZoneReceiverRegistered\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                        \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003eintentFilter\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eIntentFilter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eIntent\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eActionTimezoneChanged\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003eApplication\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eContext\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eRegisterReceiver\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003etimeZoneReceiver\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eintentFilter\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003etimeZoneReceiverRegistered\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n                    \u003cspan class=\"n\"\u003enowTime\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eJava\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUtil\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCalendar\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetInstance\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eJava\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUtil\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTimeZone\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDefault\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eelse\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003etimeZoneReceiverRegistered\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003eApplication\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eContext\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eUnregisterReceiver\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003etimeZoneReceiver\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003etimeZoneReceiverRegistered\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n                \u003cspan class=\"nf\"\u003eUpdateTimer\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eUpdateTimer\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eupdateTimeHandler\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eRemoveMessages\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eMessageUpdateTime\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eShouldTimerBeRunning\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eupdateTimeHandler\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSendEmptyMessage\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eMessageUpdateTime\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003eShouldTimerBeRunning\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eIsVisible\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"p\"\u003e!\u003c/span\u003e\u003cspan class=\"n\"\u003eIsInAmbientMode\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eTimeZoneReceiver\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eBroadcastReceiver\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eAction\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eIntent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ereceiver\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003eTimeZoneReceiver\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eAction\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eIntent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003e_receiver\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ereceiver\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003e_receiver\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnReceive\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eContext\u003c/span\u003e \u003cspan class=\"n\"\u003econtext\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eIntent\u003c/span\u003e \u003cspan class=\"n\"\u003eintent\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ereceiver\u003c/span\u003e\u003cspan class=\"p\"\u003e?.\u003c/span\u003e\u003cspan class=\"nf\"\u003eInvoke\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eintent\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eWatch Faceアプリの基本的なプログラムの作成は以上です。お疲れ様でした。\u003c/p\u003e\n\n\u003cp\u003e今回作成したプログラムをエミュレーターやAndroid Wearデバイス上で実行すると、以下のようなアナログ時計を表示します。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/8e77620cfa57c74b88378d4c91f6f564d7b56230/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f37383838312f64306133343439662d643330342d396366612d396465362d3464373530316464626532662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F78881%2Fd0a3449f-d304-9cfa-9de6-4d7501ddbe2f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=f0dc042e2af9ed797a231ecbefedbf7d\" alt=\"今回作成したアナログ時計\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/78881/d0a3449f-d304-9cfa-9de6-4d7501ddbe2f.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F78881%2Fd0a3449f-d304-9cfa-9de6-4d7501ddbe2f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9aa3a7795c5c9c1b77c292fd597c6d4e 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"next\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#next\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eNext\u003c/h1\u003e\n\n\u003cp\u003e次回は、背景画像やアナログ針の画像を描画し、よりリッチなWatch Faceアプリを作っていこうと思います。\u003c/p\u003e\n\n\u003cp\u003eそれでは、See you next!\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"参考サイト\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83%E3%82%B5%E3%82%A4%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考サイト\u003c/h1\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://firespeed.org/diary.php?diary=kenz-1834\" rel=\"nofollow noopener\" target=\"_blank\"\u003eWatch Faceを作る サンプルのコードを読み解く - FireSpeed\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"http://qiita.com/eoppp/items/e6f2a0783810026e4d56\" id=\"reference-a6c18f7ace9199e31344\"\u003eAndroid Studioを使用して、とりあえず動くWatch faceを作る - Qiita\u003c/a\u003e by \u003ca href=\"/eoppp\" class=\"user-mention js-hovercard\" title=\"eoppp\" data-hovercard-target-type=\"user\" data-hovercard-target-name=\"eoppp\"\u003e@eoppp\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"https://github.com/googlesamples/android-wear-xamarin-watchface\" rel=\"nofollow noopener\" target=\"_blank\"\u003eXamarin Android WatchFace Sample - GitHub\u003c/a\u003e by peterfriese, Redth\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"xamarinでandroid-wearのwatch-faceアプリを作ってみようシリーズ一覧\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#xamarin%E3%81%A7android-wear%E3%81%AEwatch-face%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E4%BD%9C%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%88%E3%81%86%E3%82%B7%E3%83%AA%E3%83%BC%E3%82%BA%E4%B8%80%E8%A6%A7\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e「XamarinでAndroid WearのWatch Faceアプリを作ってみよう！」シリーズ一覧\u003c/h1\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"http://qiita.com/nia_tn1012/items/fc5d7b2b263c73d8e0e5\" id=\"reference-9a09d60be7678a0fd50e\"\u003eVol. 0 : 準備編\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"http://qiita.com/nia_tn1012/items/2f790ca52ee839303952\" id=\"reference-7f402c160b7136ab79a6\"\u003eVol. 1 : プロジェクト作成編\u003c/a\u003e\n\n\u003cul\u003e\n\u003cli\u003e（\u003ca href=\"http://qiita.com/nia_tn1012/items/5f407f0a0b180482bb6c\" id=\"reference-f349a34d5f26ddb99a4e\"\u003eVol.1x: Xamarin Studio向け\u003c/a\u003e）\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eVol.2 : プログラム作成編（ \u003ca href=\"http://qiita.com/nia_tn1012/items/1a4e712c1c0284fd5f49\"\u003ePage-1\u003c/a\u003e / Page-2 ）\u003c/strong\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cdiv class=\"footnotes\"\u003e\n\u003chr\u003e\n\u003col\u003e\n\n\u003cli id=\"fn1\"\u003e\n\u003cp\u003e例えば、現在のウォッチフェイスから別のウォッチフェイスに切り替えた時に呼び出されます。 \u003ca href=\"#fnref1\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003c/ol\u003e\n\u003c/div\u003e\n","createdAt":"2016-12-20T07:44:12Z","elapsedYearsFromLastModifiedAt":4,"encryptedId":"FSRBPQ2HT59gtFJjuRYxvuqhEle9qm5m--R2+KlRc4mj12XViG--vpDJg4DkWxXynfw/dmvyHA==","isBanned":false,"isDeprecated":true,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2016-12-20T14:20:02Z","likesCount":1,"linkUrl":"https://qiita.com/nia_tn1012/items/52b25bfa86c91baee16d","organization":null,"originalId":452746,"stockedCount":1,"title":"XamarinでAndroid WearのWatch Faceアプリを作ってみよう！（Vol.2 : プログラム作成編（Page-2））","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#3-watch-face%E3%81%AEengine%E3%82%AF%E3%83%A9%E3%82%B9%E3%82%92%E4%BD%9C%E6%88%90%E7%B6%9A%E3%81%8D\"\u003e3. Watch FaceのEngineクラスを作成（続き）\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#35-oncreate%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89\"\u003e3.5. OnCreateメソッドのオーバーライド\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#351-%E7%84%A1%E6%85%88%E6%82%B2%E3%81%AAdeprecation\"\u003e3.5.1. 無慈悲なDeprecation\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#36-ondestroy%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89\"\u003e3.6. OnDestroyメソッドのオーバーライド\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#37-onapplywindowinsets%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89\"\u003e3.7. OnApplyWindowInsetsメソッドのオーバーライド\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#38-onpropertieschanged%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89\"\u003e3.8. OnPropertiesChangedメソッドのオーバーライド\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#39-ontimetick%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89\"\u003e3.9. OnTimeTickメソッドのオーバーライド\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#310-onambientmodechanged%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89\"\u003e3.10. OnAmbientModeChangedメソッドのオーバーライド\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#311-oninterruptionfilterchanged%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89\"\u003e3.11. OnInterruptionFilterChangedメソッドのオーバーライド\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#312-ontapcommand%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89\"\u003e3.12. OnTapCommandメソッドのオーバーライド\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#313-ondraw%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89\"\u003e3.13. OnDrawメソッドのオーバーライド\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#3131-%E7%8F%BE%E5%9C%A8%E6%99%82%E5%88%BB%E3%82%92%E5%8F%96%E5%BE%97\"\u003e3.13.1. 現在時刻を取得\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#3132-%E8%83%8C%E6%99%AF%E3%82%92%E6%8F%8F%E7%94%BB\"\u003e3.13.2. 背景を描画\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#3133-%E6%99%82%E9%87%9D%E5%88%86%E9%87%9D%E7%A7%92%E9%87%9D%E3%82%92%E6%8F%8F%E7%94%BB\"\u003e3.13.3. 時針、分針、秒針を描画\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#314-onvisibilitychanged%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89\"\u003e3.14. OnVisibilityChangedメソッドのオーバーライド\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#4-%E5%AE%8C%E6%88%90%E5%BE%8C%E3%81%AE%E3%82%B3%E3%83%BC%E3%83%89\"\u003e4. 完成後のコード\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#next\"\u003eNext\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%8F%82%E8%80%83%E3%82%B5%E3%82%A4%E3%83%88\"\u003e参考サイト\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#xamarin%E3%81%A7android-wear%E3%81%AEwatch-face%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E4%BD%9C%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%88%E3%81%86%E3%82%B7%E3%83%AA%E3%83%BC%E3%82%BA%E4%B8%80%E8%A6%A7\"\u003e「XamarinでAndroid WearのWatch Faceアプリを作ってみよう！」シリーズ一覧\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","totalPv":3864,"uuid":"52b25bfa86c91baee16d","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"3irDMycGs5SXgLeKMQRv9iB82I0=--7BnKXC0MzqWA1b0p--tZtfT/Gh6X/+QKkD2+QU1Q==","originalId":78881,"description":"湘南生まれのITエンジニア（サーバー・フロント・DB・インフラ（クラウド））です。主にC#、PHP、TypeScript、GO言語、Docker、gRPCを使っています。好物は紅茶とコーヒー、シラス丼、趣味は写真撮影と音ゲーです。よろしくお願いします！","facebookUrl":null,"githubUrl":"https://github.com/Nia-TN1012","isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"Nia Tomonaka","profileImageUrl":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/78881/profile-images/1629634397","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F78881%2Fprofile-images%2F1629634397?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=3c7c69a0ded103615f6c84b391e17997","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F78881%2Fprofile-images%2F1629634397?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=061a85fe142ddfa4ed861b7ac57c74a9","urlName":"nia_tn1012","websiteUrl":"https://chronoir.net/","twitterUrl":"https://twitter.com/nia_tn1012","twitterUrlName":"nia_tn1012","revealedOrganizations":{"edges":[]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"Xamarin","urlName":"xamarin"},{"name":"Xamarin.Android","urlName":"xamarin.android"},{"name":"AndroidWear","urlName":"androidwear"},{"name":"WatchFace","urlName":"watchface"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
