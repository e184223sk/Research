もくじ
https://qiita.com/tera1707/items/4fda73d86eded283ec4fパフォーマンスモニタで見るような情報を、自前のプログラムの中で見ていろいろやりたい。
※自前のプログラムの中ではグラフ書いたりはしなくていいが、パフォーマンスに関する値だけほしい。

[Win+R]に「perfmon」と入れて出てきたウインドウで「パフォーマンスモニター」を選ぶと上記が開く。System.DiagnosticsのPerformanceCounterクラスを使う。1秒おきに、CPUの使用率などの情報を取り、画面に表示する。上のやり方で情報をとれることは分かったが、いったいどういう情報が取れるのか、また、取れる情報は「カウンターの追加」画面を見たら一覧が出てるっぽいが、一覧の中の項目それぞれが一体何なのか？(例えば「Process」の「Working Set」が一体なんなのか？)がわからず、調べるのに手間取った。そのときのメモ。パフォーマンスモニターで取れる情報(たぶん≒PerformanceCounterクラスで取れる情報)は、「カウンターの追加」の画面に一覧として出てる。
PerformanceCounterクラスには、マシン名、カテゴリ名、インスタンス名を指定するが、それぞれ下記のようにカウンターの追加画面には表示されている。

メモするまでもないかもだが、それぞれ下記のようなイメージ。なにげにハマった内容。パフォーマンスモニタに出てくる情報を取れることは分かったが、どんな情報をとれるのか、を知りたい。
MSDocsでその一覧を探したが、全然出てこない。
(いくつか、主だったところをいくつかわかりやすく紹介してくれているサイトはあった。下の「参照」に挙げている)結局一覧は見つけられなかったが、「カウンターの追加」の画面に「説明を表示する」というチェックがあり、それをチェックすると、説明がでてくることを発見。

わかりやすい説明ではないが、これを見てどういう内容かはだいたいわかりそう。
これでどういうカウンタがあるか調べることにした。PerformanceCounterクラス(MSDocs)パフォーマンスカウンタ一つ一つの項目の説明(別の、似た内容の説明?サーバーがどうとか言ってる...)
msdocs内を「Processor Time 」とかで調べるとでてきた内容。めちゃわかりやすいカウンタの説明private bytesとはなにか？を見たページカウンタ解説サンプルプログラム(CPU使用率の表示)


