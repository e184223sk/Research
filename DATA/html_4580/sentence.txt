以下が非常に詳しいです。.NET Core 3.1例えばWebAPIやアプリケーションのメタ情報として今のバージョンやビルドした日時やGitのハッシュ値が欲しくなる時があります。アップデート前後でアクセス数の変化を見たり、問題が入り始めた時にモジュールのバージョンやビルドの日時やコミットIDがわかると原因の特定がしやすくなります。C#(.Net)ではAssemblyInfoを利用すると色々埋め込んだり取得できるらしいですが、色々ある上に色々注意が必要でした。プロジェクトファイルを以下のようにしますコードから読むときはこんな感じにします。クラス名はビルドで生成される成果物(dll等)に埋め込まれるクラス名にします。AssemblyVersionAttribute で得られそうですが、nullになります。調べたところ、Assembly.GetName()を使えとのことでした。ToStringしていますが、Versionからはメジャーバージョン、マイナーバージョン等、細かく取ることもできます。Versionが1.2.3.4 のとき、特に何もしていない場合はInformationVersionも1.2.3.4になります。
しかしdotnet build /p:SourceRevisionId=asdf とすると、InformationVersionは1.2.3.4+asdfが得られるという感じです。CIのビルド時にチェックアウトしてきたGitのCommitIdを入れたりするとよさそうです。最近のCIサービスはGitのCommitIDぐらいは環境変数に入ってきます。Assemblyにはないようです。以下の記事で見た感じ、3つ方法がありそうです。１つ目と２つ目は、実行環境によってはうまくいかない場合があるようで、1つ目は私の環境ではうまくいきませんでした。３つ目のリソースファイルの埋め込み方は以下です。動作原理としても自然で確実のように思います。（厳密にバイナリが作られた日時ではないけど。）プロジェクトファイルにリソースファイルの場所を書くリソースファイルを用意する。開発時はダミーでもいいのでこんな風に用意しておきますAssembly.GetManifestResourceStreamを使って読み込む（実際は初回１回だけ読むとかしたほうが良いかもしれない）あとはProperties/BuildDate.txt をCI時に作ってやればよいという感じです。


