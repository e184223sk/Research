More than 1 year has passed since last update.以下2つのクラスをコピペします。
コメント書いているので長く見えますが、コード量はわずかです。
使い方は後ろで記述。静的変数Confing.Entryに対して配列の形式でアクセスします。出力機能としては以下になります
1. 配列の書式を使用したレコード参照: []を使用したアクセス
2. KeyとValueがペアになった形式。KeyもValueもstringに限定する。型を可変にするくらいなら自前で設定の塊を表現するクラスを作成してシリアライズした方が早い。
2. レコードの自動生成: キーがなかったら、その場で作成されます。
3. レコードの階層化: 子を配列で持つ入れ子構造です。
4. XML出力(変更可能): Save/Loadのシリアライザを変更すれば好きな書式で書き出せます。ConfigEntry::Childrenは値を入れるまで初期化していませんが、コンストラクタでnewしておくとすべてのレコードで"&lt;Children /&gt;"タグが生成されます。nugetでこのような形式の設定ファイルライブラリはたくさんある。
でも、本記事くらいのシンプルな機能だったらわざわざdll増やさなくても簡単に組み込めそう。
とりあえずちょっと保存したい、位ならこれで十分と思う。


