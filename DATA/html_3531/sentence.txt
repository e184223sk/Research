More than 1 year has passed since last update.Poly
Poly DeveloppersPolyはさまざまな3Dモデルや360°写真1をCCライセンスで提供しているオンラインライブラリです。
「無料ですぐ使えるモデル置いとくよ！　みんなでAR/VRコンテンツを開発していこうね！」というGoogle様のお慈悲です。
詳しいことは公式とかその周辺記事を漁ってみてください。Poly API を使ってみる
[Unity] GooglePolyを使ってローポリ3Dオブジェクトを検索/配置する
Poly toolkit for unity使った。Poly Toolkit for Unityエディタでロードしている記事はわりとあったんですが、ランタイムロードしている日本語の記事が見つからなかったので使った感触を書きます。2019/04/14時点の情報を元に書いてます。Unity QuickStart
クイックスタートに従って進めれば問題ありません。スクリーンショットつきの丁寧な説明なのですんなり行けると思います。
Troubleshootingのところにobsolete APIsを自動アップデートしてね！とか書いてありますが、これに驚いているようではGoogleのProductを使う「資格」はない。2Polyを使うすべてのシーンに置いておけと書いてあるPolyToolkitManagerのPrefabですが、PolyApi.Init();をAwakeで実行する以外何もしてない……。
いずれ機能が追加されるかもしれないですし、置いとけって書いてあるんだから置いておきましょう。おそらく公式が想定している手順であろう以下をコードでやっていきます。ついでにCallbackでつらいのでTaskに変換します。ログイン周りはめんどくさいのでパス。PolyRequestを継承した検索条件のstructを各検索APIに渡します。
検索結果のPolyListAssetsResult.nextPageTokenを渡せば次が検索できるので、検索条件はどこかの変数にとっておいて使いまわしましょう。普通の検索です。普通。ログインが前提。ユーザが投稿したモデル一覧が検索されます。ログイン中のユーザがお気に入りしたモデル一覧です。お気に入りはブラウザのサイトからできます。使うモデルがあらかじめわかっている場合はこちらを使います。ブラウザで見たときの末尾の文字列です。
サンプルやAPIから返ってくる識別子にはassets/がついていますが、別になくても動きます。それでいいのか。サムネイルを取得します。これをしないとPolyAsset.thumbnailTextureはnullのままです。
中ではPolyAsset.thumbnail.urlを読み込んでるだけです。とはいえPolyFetchThumbnailOptionsによるサイズ調整とかダウンロード処理のキューイングとかしてくれてるので使っておきましょう。ようやくモデルの読み込みです。PolyImportOptionsの各パラメータの意味はエディタ上でインポートするときの表示と突き合わせると理解しやすいです。Scaleをちゃんと調整しておかないとめっちゃでかいやつが出てきます。PolyApi.GenerateAttributionsはEditor上でインポートしておいたモデルの権利表記に加えてランタイムロードしたPolyAssetのListを渡せば全部まとめて権利表記文を書き出してくれるイカしたAPIです。
引数次第でどちらかだけ出す、なんてこともできます。
ただし第二引数List&lt;PolyAsset&gt; runtimeAssetsのデフォルトはnullですが中でnullチェックしないで触ってます。第二引数なしで蹴ると必ずぬるぽになるので適当にnewしたリストでも入れてあげましょう。ははは。3ちなみにひとつだけ知りたい、という場合はPolyAsset.AttributionInfoで取れます。「人気順にAnimalカテゴリからdogを検索して一番目のモデルをロードして権利表記も表示する」
メソッドをStartで実行してみます。出ました！　狐が。4
権利表記もちゃんと読み込めています。いままでのtask化したものをまとめてwrapper classにしました。使ってください。
gistはこちら。Android, iOSではcacheできない
https://github.com/googlevr/poly-toolkit-unity/issues/9
できなくはないらしい。
ていうかGoogle様！！！！！！これ主にARCoreとかARKitで使ってほしいやつですよね！！！？キャッシュはモバイルにこそ必要！！！！！なんでそこサポートしてないの！！？！？！？！！？！？！delegate使ってる 
delegateをどうやったらUniRxで扱えるかわからなかったのと、なんかdelegateは古くてダサいらしいからActionとか使ったほうが……と思ったんですがおそろしく深いところまでcallback渡しに行ってるのでそう簡単に手を入れられない。API制限
PolyもGCPの一部なので呼び出し回数に制限があります。おそらくPoly Toolkit for UnityもPoly APIをラップしただけのもののはずなので3000 queries-per-minute (QPM)が適応されるはず。でも「もっと！」っておねだりはできるっぽい。3Dモデル関連はぜんぜん詳しくないのですが、競合サービスと比べてランタイムロードできるのはけっこうな強みのような気がします。でもあんま更新されてなくてGoogle様これ飽きたのでは……？
わりと普通に勝てるサービスだと思うのでもっと頑張ってほしいな！おしまい。見てて面白かったモデル載せます。見てる感じえろいのは流石にフィルタリングしてるっぽいですが、後は著作権とかない無法の沃野と化してます。5
公式動画ですら1:00あたりにやべーやつが大地に立ってるしな！
私的にこういうLowPolyなモデル、特にGoogle様公式のモデルがほんと好きです。大好き。6
iframeの埋め込みが動かないっぽいのでリンクから見てください。Doggo DayDream
かわいい。Godzilla
手でコントローラ持ってるのがチャームポイント。Roadtrip
かわいい。アニメーションしてる。Ninja Droid WIP
ニンジャナンデ？　カワイイヤッター！Corgi-saurus Rex
見えなくはない。Turkey Attack!
Attack!360写真の方に家族写真投稿してるやついてめっちゃおもしろい。 ↩いつものことです。 ↩殺意すら感じる。 ↩ナンデ？ ↩往時のPlayStoreを思い出します。今もわりと無法ですが。 ↩Donut Countyとか大好き。 ↩


