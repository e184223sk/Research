More than 1 year has passed since last update.UnityでStartCoroutineメソッドを実行した際に、なぜかNullReferenceExceptionのエラーが発生して2時間ほどハマったので、その解決策をメモしておきます。結論から言うと、Update()メソッド以外のメソッドからコルーチン処理を実行する（StartCoroutineメソッドを実行する）場合は、そのコルーチン処理を呼び出すためのオブジェクトをnewで直接生成してはならないようです。StartCoroutineの使い方について解説している他の参考サイトなどでは、Update()メソッド内からStartCoroutineを実行している事例しか見当たらなかったため、今回のように他のメソッドから実行したい場合はどうすればよいのか悩みました。まず、Updateメソッド内からコルーチン処理を呼び出す事例を載せておきます。出力結果を確認すると、正常に実行できていました。次に、エラーが発生した事例を載せておきます。今回は、他のクラスからCallEventメソッドを呼び出して"Event"というコルーチン処理を実行しようとしています。しかし、実行結果はNullReferenceExceptionが発生してしまいました。
MonoBehaviour（及びそれを継承したEventManagerクラス）をnewで直接生成しているのがエラーの原因です。ではどうするのかと言うと、newではなくAddComponentメソッドを使ってオブジェクトを生成します。そのサンプルを載せておきます。はい、これでエラーなく正常に実行できました。


