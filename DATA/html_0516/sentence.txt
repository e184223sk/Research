リフレクションを利用して静的プロパティにアクセスしたいときってありますよね?
(publicではないプロパティを触りたいときなど)
ググるとやり方はいくらでも出てきますが，それにもかかわらず実際に書いてみると躓いてしまったので，記事として残しておこうと思います。ダラダラ書いてもしょうがないので例を示します。
ここでは，別アセンブリ内の静的クラスQiita.MyClassに定義されているPropの値を取得します。
当然ですが，Qiita.MyClassが定義されているアセンブリが参照に追加されている必要があります。最後のPropertyInfo.GetValueの呼び出し時にBindingFlags.Staticを渡さないとArgumentExceptionになってしまいます。
これがわからなかったので時間を溶かしてしまいました。
調べても書いてなかったんだもんPropertyInfo.GetValueの戻り値はobjectですが，dynamicで受けると適当な型として扱えます。怖いですが……。publicではないということには理由があるので，リフレクションで強引にアクセスしようとするのはやめましょう。
(パフォーマンス的にもよろしくない)


