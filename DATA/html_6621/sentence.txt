「ECSを使ってゲームを作りたい！」ということで、とりあえずECSでプレイヤーキャラクターを移動させるシステムを作ることにした。とりあえず、以下のコードを見てほしい。ただ、一見動きそうなこのコードには問題があって、移動の入力情報（m_MoveInput）には何も割り当てられていないのです。しかし、単純にnewすればいいというものでもなく、InputActionのコンストラクタは文字列ベースのハードコーディングになるので普段使いには適さない。Keyboard.currentなどのAPIを使う方法もあるが、これもしたくない。
とにかくハードコーディングはしたくない。では、m_MoveInputはどうやって設定すればいいのだろうか？InputSystemには、InputActionAssetからC#コードを生成する機能があります。
そして、生成されたクラスを使用することで、InputActionAssetで定義されたInputActionに対してコードから簡単にアプローチすることができるようになります。この方法の利点として、というところが挙げられます。以下からは実際の手順の解説です。今回はMoveというInputActionを定義しました。作成したInputActionAssetのGenerate C# Classを有効にする。すると、以下のようなコードが自動で生成されます。InputActionAssetから生成したクラスを使用し、最初のコードに少し手を加える。ECSでの入力について調べましたが、これがECSでの最適な入力の検出方法なんじゃないかなと思います。もし「もっと良い方法があるよ」という人がいれば、教えていただけると幸いです。


