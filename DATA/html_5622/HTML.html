<!DOCTYPE html><html><head><meta charset="utf-8" /><title>C# による OAuth 2.0 と OpenID Connect の実装 (Authlete) - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/TakahikoKawasaki/items/657ef040802f8524403a" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="aNjtUi1rcaJiBqIduH7HhOopy0UC10TlJRKccUBT2TwNWrjicuk/LplY4W/m5RsPw/F3ponzUC+sTuQksPi1lQ==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta content="@darutk" name="twitter:creator" /><meta property="og:type" content="article"><meta property="og:title" content="C# による OAuth 2.0 と OpenID Connect の実装 (Authlete) - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1ReU1nNDRHcjQ0S0k0NEtMSUU5QmRYUm9JREl1TUNEamdhZ2dUM0JsYmtsRUlFTnZibTVsWTNRZzQ0R3U1YTZmNktPRklDaEJkWFJvYkdWMFpTayZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTU0JnR4dC1jbGlwPWVsbGlwc2lzJnR4dC1hbGlnbj1jZW50ZXIlMkNtaWRkbGUmcz05ZDU5M2ViM2ZlNGZjZWM4NjUzMzI3NzE1YzAzN2Y3YQ&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRlJoYTJGb2FXdHZTMkYzWVhOaGEyayZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPWRiNTZjMDg3OTBmY2VmN2QxODcwYzRiOTdhZjcxY2Rl&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=b3b7abaccf872e60dbc1af45b28b8786"><meta property="og:description" content="

はじめに


OAuth 2.0 と OpenID Connect をサポートする認可サーバー兼 OpenID プロバイダーの C# 実装である『csharp-oauth-server』、及び、OpenID Connect Cor..."><meta content="https://qiita.com/TakahikoKawasaki/items/657ef040802f8524403a" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,OAuth,OpenID,openid_connect,Authlete" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 1nzh4zz 38fzdi helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-1nzh4zz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 32px;background-color:#FBE69E;color:rgba(0,0,0,0.87);line-height:1.5;font-weight:600;}@media (max-width:770px){.css-1nzh4zz{padding:16px;}}.css-38fzdi{color:#CA832A;margin-right:4px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-35f042dd-7846-4c39-b1b4-7ec2527354f4"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2FTakahikoKawasaki%2Fitems%2F657ef040802f8524403a">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2FTakahikoKawasaki%2Fitems%2F657ef040802f8524403a">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-35f042dd-7846-4c39-b1b4-7ec2527354f4">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2018-01-08T23:48:08.000+09:00","dateModified":"2018-01-09T16:06:32.000+09:00","headline":"C# による OAuth 2.0 と OpenID Connect の実装 (Authlete)","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1ReU1nNDRHcjQ0S0k0NEtMSUU5QmRYUm9JREl1TUNEamdhZ2dUM0JsYmtsRUlFTnZibTVsWTNRZzQ0R3U1YTZmNktPRklDaEJkWFJvYkdWMFpTayZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTU0JnR4dC1jbGlwPWVsbGlwc2lzJnR4dC1hbGlnbj1jZW50ZXIlMkNtaWRkbGUmcz05ZDU5M2ViM2ZlNGZjZWM4NjUzMzI3NzE1YzAzN2Y3YQ\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRlJoYTJGb2FXdHZTMkYzWVhOaGEyayZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPWRiNTZjMDg3OTBmY2VmN2QxODcwYzRiOTdhZjcxY2Rl\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=b3b7abaccf872e60dbc1af45b28b8786","mainEntityOfPage":"https://qiita.com/TakahikoKawasaki/items/657ef040802f8524403a","author":{"@type":"Person","address":"東京都","email":null,"identifier":"TakahikoKawasaki","name":"TakahikoKawasaki","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106044%2Fprofile-images%2F1473709810?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=d341613384409a2a99cdef924a30936a","url":"https://qiita.com/TakahikoKawasaki","description":"株式会社 Authlete の共同創業者。プログラマー兼代表取締役社長。","memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://zine.qiita.com/interview/202107-hitachi-3/?utm_source=qiita&amp;utm_medium=header-banner">「作業者の負荷情報の見える化」に取り組む研究者が語る日立の魅力</a><a target="_blank" id="header_text_message_2" href="https://zine.qiita.com/interview/202107-hitachi-3/?utm_source=qiita&amp;utm_medium=header-banner">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"TakahikoKawasaki","type":"items","id":"657ef040802f8524403a"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"「作業者の負荷情報の見える化」に取り組む研究者が語る日立の魅力","url":"https://zine.qiita.com/interview/202107-hitachi-3/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"TakahikoKawasaki","type":"items","id":"657ef040802f8524403a"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":1,"pos_id":"header_text_message_1","message":"「作業者の負荷情報の見える化」に取り組む研究者が語る日立の魅力","url":"https://zine.qiita.com/interview/202107-hitachi-3/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"TakahikoKawasaki","type":"items","id":"657ef040802f8524403a"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":1,"pos_id":"header_text_message_2","message":"「作業者の負荷情報の見える化」に取り組む研究者が語る日立の魅力","url":"https://zine.qiita.com/interview/202107-hitachi-3/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/TakahikoKawasaki/items/657ef040802f8524403a","location":"/TakahikoKawasaki/items/657ef040802f8524403a","scheme":"https","host":"qiita.com","port":null,"pathname":"/TakahikoKawasaki/items/657ef040802f8524403a","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"EehNxEbT0E4p8ALEyYAh+ZEsNxB0qA0a1Ie/eW0/g990ahh0GVGewtKuQbaXG/1yuPSL8/+MGdBd28csnZTvdg==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-f64db9c2-0c98-4269-8f1b-6b17dbf78672"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/TakahikoKawasaki/items/657ef040802f8524403a/likers" class="css-1iupg5d">10</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">17</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/657ef040802f8524403a/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/TakahikoKawasaki/items/657ef040802f8524403a/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/TakahikoKawasaki/items/657ef040802f8524403a/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/TakahikoKawasaki/items/657ef040802f8524403a/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/TakahikoKawasaki/items/657ef040802f8524403a.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-1nzh4zz"><span class="fa fa-fw fa-warning css-38fzdi"></span><p>More than 3 years have passed since last update.</p></div><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/TakahikoKawasaki"><img class="css-100alwu eyfquo10" src="https://qiita-image-store.s3.amazonaws.com/0/106044/profile-images/1473709810" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/TakahikoKawasaki" class="css-10ougpm">@<!-- -->TakahikoKawasaki</a><div class="css-1ay9vb9"><span><meta content="2018-01-08T14:48:08Z"/><time dateTime="2018-01-09T07:06:32Z" class="css-m19uds">updated at 2018-01-09</time></span></div></div></div></div></div><h1 class="css-cgzq40">C# による OAuth 2.0 と OpenID Connect の実装 (Authlete)</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/oauth" class="css-4czcte">OAuth</a><a href="/tags/openid" class="css-4czcte">OpenID</a><a href="/tags/openid_connect" class="css-4czcte">openid_connect</a><a href="/tags/authlete" class="css-4czcte">Authlete</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div>
<h1>
<span id="はじめに" class="fragment"></span><a href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB"><i class="fa fa-link"></i></a><strong>はじめに</strong>
</h1>

<p><a href="https://tools.ietf.org/html/rfc6749" rel="nofollow noopener" target="_blank">OAuth 2.0</a> と <a href="https://openid.net/connect/" rel="nofollow noopener" target="_blank">OpenID Connect</a> をサポートする認可サーバー兼 OpenID プロバイダーの C# 実装である『<a href="https://github.com/authlete/csharp-oauth-server" rel="nofollow noopener" target="_blank">csharp-oauth-server</a>』、及び、<a href="http://openid.net/specs/openid-connect-core-1_0.html" rel="nofollow noopener" target="_blank">OpenID Connect Core 1.0</a> の「<a href="http://openid.net/specs/openid-connect-core-1_0.html#UserInfo" rel="nofollow noopener" target="_blank">5.3. UserInfo Endpoint</a>」で定義されているユーザー情報エンドポイントの実装を含むリソースサーバーの C# 実装である『<a href="https://github.com/authlete/csharp-resource-server" rel="nofollow noopener" target="_blank">csharp-resource-server</a>』を紹介します。</p>

<p><sup>English version: <em>“<a href="https://medium.com/@darutk/oauth-2-0-and-openid-connect-implementation-in-c-authlete-8a8f9efc9361" rel="nofollow noopener" target="_blank">OAuth 2.0 and OpenID Connect implementation in C# (Authlete)</a>”</em></sup></p>

<h1>
<span id="1-アーキテクチャー" class="fragment"></span><a href="#1-%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E3%83%BC"><i class="fa fa-link"></i></a><strong>1. アーキテクチャー</strong>
</h1>

<p>csharp-oauth-server と csharp-resource-server は『<a href="https://github.com/authlete/authlete-csharp" rel="nofollow noopener" target="_blank">authlete-csharp</a>』ライブラリ（NuGet パッケージ 『<a href="https://www.nuget.org/packages/Authlete.Authlete" rel="nofollow noopener" target="_blank">Authlete.Authlete</a>』）を用いて書かれています。authlete-csharp ライブラリは <a href="https://www.authlete.com" rel="nofollow noopener" target="_blank">Authlete</a>（オースリート）というクラウドサービスが提供する <a href="https://docs.authlete.com/" rel="nofollow noopener" target="_blank">Web API</a> と通信するためのライブラリです。</p>

<p>Authlete は OAuth 2.0 と OpenID Connect を実装するのに必要な機能を Web API として提供するクラウドサービスです。特長的なのは、Authlete 自身は認可サーバーでも OpenID プロバイダーでもなく、あくまで認可サーバーや OpenID プロバイダーの後ろで動くバックエンドサービスだということです。</p>

<p><a href="https://camo.qiitausercontent.com/0a2faa43ae59817124d7f980e13c7b2a991b7ffc/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363034342f61656665646638632d396563382d383531612d376266652d3431636230633536376233662e706e67" target="_blank" rel="nofollow noopener"><img width="895" alt="relationship-between-frontend-server-and-authlete.png" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106044%2Faefedf8c-9ec8-851a-7bfe-41cb0c567b3f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d2d3ce34ee8358a374676f07d27360a7" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/106044/aefedf8c-9ec8-851a-7bfe-41cb0c567b3f.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106044%2Faefedf8c-9ec8-851a-7bfe-41cb0c567b3f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=5d6f17d1fea7639d721174d5a8462cfc 1x" loading="lazy"></a></p>

<p>このため、OAuth 2.0 と OpenID Connect のほとんどの部分は Authlete 内で実装されてはいるものの、それでもフロントエンドとして csharp-oauth-server のようなものが必要となります。 <a href="https://github.com/authlete/java-oauth-server" rel="nofollow noopener" target="_blank">java-oauth-server</a> や <a href="https://github.com/authlete/spring-oauth-server" rel="nofollow noopener" target="_blank">spring-oauth-server</a> もそのようなフロントエンド認可サーバーの実装例です。</p>

<p>Authlete のアーキテクチャーの利点については『<a href="https://qiita.com/TakahikoKawasaki/items/b2a4fc39e0c1a1949aab" id="reference-d0ab6e60280eaf9b7cb5">OAuth 2.0 / OIDC 実装の新アーキテクチャー</a>』をご参照ください。</p>

<h1>
<span id="2-前準備" class="fragment"></span><a href="#2-%E5%89%8D%E6%BA%96%E5%82%99"><i class="fa fa-link"></i></a><strong>2. 前準備</strong>
</h1>

<h3>
<span id="21-api-キーと-api-シークレット" class="fragment"></span><a href="#21-api-%E3%82%AD%E3%83%BC%E3%81%A8-api-%E3%82%B7%E3%83%BC%E3%82%AF%E3%83%AC%E3%83%83%E3%83%88"><i class="fa fa-link"></i></a><strong>2.1. API キーと API シークレット</strong>
</h3>

<p>csharp-oauth-server と csharp-resource-server を動かすには、Authlete サーバーと通信する際に要求される API キーと API シークレットが必要になります。Authlete の<a href="https://so.authlete.com/accounts/signup" rel="nofollow noopener" target="_blank">サインアップ</a>ページでアカウント登録をすると、自動的に API キーと API シークレットの組みが一つ生成されるので、API キーと<br>
 API シークレットの取得に必要な作業はアカウント登録作業のみです。詳細な手順は『<a href="https://qiita.com/TakahikoKawasaki/items/18d5b05dabe246fb239e" id="reference-b94b62dd86c012b6996a">Spring + OAuth 2.0 + OpenID Connect</a>』の「<a href="https://qiita.com/TakahikoKawasaki/items/18d5b05dabe246fb239e#31-authlete-api-%E3%81%AB%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%81%99%E3%82%8B%E3%81%9F%E3%82%81%E3%81%AE-api-%E3%82%AD%E3%83%BC" id="reference-b94b62dd86c012b6996a">3.1. Authlete API にアクセスするための API キー</a>」をご参照ください。</p>

<h3>
<span id="22-クライアント-id" class="fragment"></span><a href="#22-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88-id"><i class="fa fa-link"></i></a><strong>2.2. クライアント ID</strong>
</h3>

<p>認可サーバー csharp-oauth-server に対して認可リクエストを投げる際、OAuth 2.0 の仕様（<a href="https://tools.ietf.org/html/rfc6749" rel="nofollow noopener" target="_blank">RFC 6749</a>）により、クライアント ID が必要になります。Authlete にアカウント登録をすると、自動的にクライアントアプリケーションが一つ生成されるので、クライアント ID 取得についても、必要な作業はアカウント登録作業のみです。詳細な手順は『<a href="https://qiita.com/TakahikoKawasaki/items/18d5b05dabe246fb239e">Spring + OAuth 2.0 + OpenID Connect</a>』の「<a href="https://qiita.com/TakahikoKawasaki/items/18d5b05dabe246fb239e#32-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88-id" id="reference-b94b62dd86c012b6996a">3.2. クライアント ID</a>」をご参照ください。</p>

<h1>
<span id="3-実行" class="fragment"></span><a href="#3-%E5%AE%9F%E8%A1%8C"><i class="fa fa-link"></i></a><strong>3. 実行</strong>
</h1>

<h3>
<span id="31-認可サーバー起動" class="fragment"></span><a href="#31-%E8%AA%8D%E5%8F%AF%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E8%B5%B7%E5%8B%95"><i class="fa fa-link"></i></a><strong>3.1. 認可サーバー起動</strong>
</h3>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>$ git clone https://github.com/authlete/csharp-oauth-server
$ cd csharp-oauth-server/AuthorizationServer
$ vi authlete.properties
$ dotnet run
</code></pre></div></div>

<p>上記の手順により、<a href="http://localhost:5000/" rel="nofollow noopener" target="_blank">localhost:5000</a> で認可サーバーが起動します。</p>

<p><code>authlete.properties</code> は <code>csharp-oauth-server</code> が参照する設定ファイルです。このファイルに「2.1. API キーと API シークレット」で取得した API キーと API シークレットを設定してください。</p>

<h3>
<span id="32-リソースサーバー起動" class="fragment"></span><a href="#32-%E3%83%AA%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E8%B5%B7%E5%8B%95"><i class="fa fa-link"></i></a><strong>3.2. リソースサーバー起動</strong>
</h3>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>$ git clone https://github.com/authlete/csharp-resource-server
$ cd csharp-resource-server/ResourceServer
$ vi authlete.properties
$ dotnet run
</code></pre></div></div>

<p>上記の手順により、<a href="http://localhost:5001/" rel="nofollow noopener" target="_blank">localhost:5001</a> でリソースサーバーが起動します。</p>

<p><code>authlete.properties</code> は <code>csharp-resource-server</code> が参照する設定ファイルです。このファイルに「2.1. API キーと API シークレット」で取得した API キーと API シークレットを設定してください。</p>

<h3>
<span id="33-認可リクエスト" class="fragment"></span><a href="#33-%E8%AA%8D%E5%8F%AF%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88"><i class="fa fa-link"></i></a><strong>3.3. 認可リクエスト</strong>
</h3>

<p>csharp-oauth-server は <code>/api/authorization</code> で「<a href="https://tools.ietf.org/html/rfc6749#section-3.1" rel="nofollow noopener" target="_blank">認可エンドポイント</a>」を提供します。<a href="https://tools.ietf.org/html/rfc6749#section-4.2" rel="nofollow noopener" target="_blank">インプリシットフロー</a>（<code>response_type=token</code>）で認可リクエストをこのエンドポイントに投げてみましょう。下記の URL を Web ブラウザのアドレスバーに入力してください。<code>{クライアントID}</code> の箇所は「2.2. クライアント ID」で取得したクライアント ID で置き換えてください。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>http://localhost:5000/api/authorization?response_type=token&amp;client_id={クライアントID}
</code></pre></div></div>

<p>次のような認可画面が表示されます。</p>

<table>
<thead>
<tr>
<th style="text-align: center">認可画面</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center"><a href="https://camo.qiitausercontent.com/cdbdb6d59043e3e9836ff7d83d412b80be018b2b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363034342f39323433653664642d336433622d653663622d623438392d3965323562626233396639362e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106044%2F9243e6dd-3d3b-e6cb-b489-9e25bbb39f96.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=c0ebdd690a307d9760b83174382abc03" alt="charp-oauth-server_authorization-page.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/106044/9243e6dd-3d3b-e6cb-b489-9e25bbb39f96.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106044%2F9243e6dd-3d3b-e6cb-b489-9e25bbb39f96.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=1099ee19162220756918ba8aa66b426f 1x" loading="lazy"></a></td>
</tr>
</tbody>
</table>

<p>Login ID フィールドと Password フィールド<sup>※</sup>に、それぞれ <code>john</code>, <code>john</code> と入力し、Authorize ボタンを押してください。</p>

<p><sup>※: Login ID フィールドと Password フィールドが表示されない場合は認可リクエストの URL の末尾に <code>&amp;prompt=login</code> を追加してください。</sup></p>

<p>すると、Web ブラウザは（クライアントアプリケーションの設定をあなたが変更していなければ） <code>https://api.authlete.com/api/mock/redirection/{サービスAPIキー}</code> へとリダイレクトされ、認可リクエストの結果が表示されます。</p>

<table>
<thead>
<tr>
<th style="text-align: center">認可リクエストの結果</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center"><a href="https://camo.qiitausercontent.com/6e13a4743c3d45bc03953eb553a3208d6d2e4ef5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363034342f64336663633261372d646138362d366136622d653733652d6566353732653837653761662e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106044%2Fd3fcc2a7-da86-6a6b-e73e-ef572e87e7af.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=efd8ea4162b17ac6c624c0f925f57488" alt="authorization-request-result.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/106044/d3fcc2a7-da86-6a6b-e73e-ef572e87e7af.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106044%2Fd3fcc2a7-da86-6a6b-e73e-ef572e87e7af.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=3b60cdac9bf218a2f5164dd4b721912d 1x" loading="lazy"></a></td>
</tr>
</tbody>
</table>

<p>表示されている表の <code>access_token</code> の隣にある値が、今回の認可リクエストの結果として発行されたアクセストークンです。</p>

<h3>
<span id="34-api-コール" class="fragment"></span><a href="#34-api-%E3%82%B3%E3%83%BC%E3%83%AB"><i class="fa fa-link"></i></a><strong>3.4. API コール</strong>
</h3>

<p>認可リクエストの結果、アクセストークンが取得できたので、リソースサーバーに対して API コールをしてみましょう。</p>

<p><code>csharp-resource-server</code> は <code>/api/time</code> で簡単な API を提供しています。この API に、まず、アクセストークンをつけないでアクセスしてみます。リソースサーバーが返す HTTP ヘッダーの値を見るため、<code>-v</code> オプションをつけて curl コマンドを実行します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>$ curl -v http://localhost:5001/api/time
</code></pre></div></div>

<p>すると、HTTP ステータス <code>400 Bad Request</code> が返ってきます。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>*   Trying ::1...
* TCP_NODELAY set
* Connected to localhost (::1) port 5001 (#0)
&gt; GET /api/time HTTP/1.1
&gt; Host: localhost:5001
&gt; User-Agent: curl/7.54.0
&gt; Accept: */*
&gt; 
&lt; HTTP/1.1 400 Bad Request
&lt; Date: Mon, 08 Jan 2018 13:08:24 GMT
&lt; Server: Kestrel
&lt; Content-Length: 0
&lt; Cache-Control: no-store
&lt; Pragma: no-cache
&lt; WWW-Authenticate: Bearer error="invalid_token",error_description="[A057301] The request does not contain a valid access token.",error_uri="https://www.authlete.com/documents/apis/result_codes#A057301"
&lt; 
* Connection #0 to host localhost left intact
</code></pre></div></div>

<p><a href="https://tools.ietf.org/html/rfc6750" rel="nofollow noopener" target="_blank">RFC 6750</a>（The OAuth 2.0 Authorization Framework: Bearer Token Usage）の仕様により、エラーメッセージはレスポンスボディーではなく、<code>WWW-Authenticate</code> ヘッダーに書かれていることに注意してください。</p>

<p>次に、「3.3. 認可リクエスト」で取得したアクセストークンをつけて <code>/api/time</code> API を呼んでみます。なお、<code>/api/time</code> API は、RFC 6750 で定義されている 3 つの方法を全てサポートしているので、次のいずれの方法でもアクセストークンを受け付けることができます。</p>

<p>RFC 6750, <a href="https://tools.ietf.org/html/rfc6750#section-2.1" rel="nofollow noopener" target="_blank">2.1. Authorization Request Header Field</a></p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>$ curl -v http://localhost:5001/api/time \
       -H 'Authorization: Bearer pZ-NP9xuMOTf5Q_jafvXaWfq3czJp_-EHgDtF-ru90g'
</code></pre></div></div>

<p>RFC 6750, <a href="https://tools.ietf.org/html/rfc6750#section-2.2" rel="nofollow noopener" target="_blank">2.2. Form-Encoded Body Parameter</a></p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>$ curl -v http://localhost:5001/api/time \
       -d access_token=pZ-NP9xuMOTf5Q_jafvXaWfq3czJp_-EHgDtF-ru90g
</code></pre></div></div>

<p>RFC 6750, <a href="https://tools.ietf.org/html/rfc6750#section-2.3" rel="nofollow noopener" target="_blank">2.3. URI Query Parameter</a></p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>curl -v http://localhost:5001/api/time\?access_token=pZ-NP9xuMOTf5Q_jafvXaWfq3czJp_-EHgDtF-ru90g
</code></pre></div></div>

<p>さて、一番目の方法で API コールを実行すると、結果は次のようになります。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>*   Trying ::1...
* TCP_NODELAY set
* Connected to localhost (::1) port 5001 (#0)
&gt; GET /api/time HTTP/1.1
&gt; Host: localhost:5001
&gt; User-Agent: curl/7.54.0
&gt; Accept: */*
&gt; Authorization: Bearer pZ-NP9xuMOTf5Q_jafvXaWfq3czJp_-EHgDtF-ru90g
&gt; 
&lt; HTTP/1.1 200 OK
&lt; Date: Mon, 08 Jan 2018 13:27:56 GMT
&lt; Content-Type: application/json; charset=utf-8
&lt; Server: Kestrel
&lt; Content-Length: 151
&lt; Cache-Control: no-store
&lt; Pragma: no-cache
&lt; 
{
  "year":        2018,
  "month":       1,
  "day":         8,
  "hour":        13,
  "minute":      27,
  "second":      56,
  "millisecond": 341
}
* Connection #0 to host localhost left intact
</code></pre></div></div>

<p>HTTP ステータス <code>200 OK</code> で JSON が返ってきます。</p>

<h1>
<span id="おわりに" class="fragment"></span><a href="#%E3%81%8A%E3%82%8F%E3%82%8A%E3%81%AB"><i class="fa fa-link"></i></a><strong>おわりに</strong>
</h1>

<p>認可サーバーや OpenID プロバイダーの実装に利用可能な C# ライブラリはそれほど多くありませんが、<a href="https://github.com/authlete/authlete-csharp" rel="nofollow noopener" target="_blank">authlete-csharp</a> ライブラリ（<a href="https://www.nuget.org/packages/Authlete.Authlete" rel="nofollow noopener" target="_blank">Authlete.Authlete</a> NuGet パッケージ）の登場により、選択肢が一つ増えました。</p>

<p>authlete-csharp ライブラリは他のライブラリと異なり、バックエンドサービスとして <a href="https://www.authlete.com/" rel="nofollow noopener" target="_blank">Authlete</a> を利用します。（１）OAuth 2.0 と OpenID Connect<br>
 のロジックは Authlete 側で実装され、（２）アクセストークン等の関連データも Authlete 側のデータベースに保存され、（３）サーバーやクライアントの設定も GUI（<a href="https://www.authlete.com/documents/so_console" rel="nofollow noopener" target="_blank">Service Owner Console</a> &amp; <a href="https://www.authlete.com/documents/cd_console" rel="nofollow noopener" target="_blank">Developer Console</a>）でおこなえるため（他のライブラリのように設定自体をいちいちコーディングしなくてもよい）、フロントエンドの認可サーバーの実装はかなり簡単になります。</p>

<p>例えば、<a href="https://openid.net/specs/openid-connect-discovery-1_0.html" rel="nofollow noopener" target="_blank">OpenID Connect Discovery 1.0</a> で定義されている設定エンドポイントの実装（<a href="https://github.com/authlete/csharp-oauth-server/blob/master/AuthorizationServer/Controllers/ConfigurationController.cs" rel="nofollow noopener" target="_blank">ConfigurationController.cs</a>）は実質的に下記のコードだけで終わってしまいます。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">using</span> <span class="nn">System.Net.Http</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Threading.Tasks</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Microsoft.AspNetCore.Mvc</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Authlete.Api</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Authlete.Handler</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">AuthorizationServer.Controllers</span>
<span class="p">{</span>
    <span class="p">[</span><span class="nf">Route</span><span class="p">(</span><span class="s">".well-known/openid-configuration"</span><span class="p">)]</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">ConfigurationController</span> <span class="p">:</span> <span class="n">BaseController</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="nf">ConfigurationController</span><span class="p">(</span><span class="n">IAuthleteApi</span> <span class="n">api</span><span class="p">)</span> <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">api</span><span class="p">)</span>
        <span class="p">{</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="n">HttpGet</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">HttpResponseMessage</span><span class="p">&gt;</span> <span class="nf">Get</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// Call Authlete's /api/service/configuration API.</span>
            <span class="k">return</span> <span class="k">await</span> <span class="k">new</span> <span class="nf">ConfigurationRequestHandler</span><span class="p">(</span><span class="n">API</span><span class="p">).</span><span class="nf">Handle</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>上記の利点は C# に限った話ではありません。フロントサーバーを Java で実装しても（例：<a href="https://github.com/authlete/java-oauth-server" rel="nofollow noopener" target="_blank">java-oauth-server</a>）、同様の利点を得られます。ですので、どのプログラミング言語を使うかに関わらず、認可サーバー・OpenID プロバイダーの実装をおこなう際は <a href="https://www.authlete.com/" rel="nofollow noopener" target="_blank">Authlete</a> の利用を是非ご検討ください！</p>

<p><sub>注：この記事の筆者は Authlete 社の創業者です。</sub></p>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2FTakahikoKawasaki%2Fitems%2F657ef040802f8524403a&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2FTakahikoKawasaki%2Fitems%2F657ef040802f8524403a&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/TakahikoKawasaki/items/657ef040802f8524403a/likers" class="css-1iupg5d">10</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">17</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/657ef040802f8524403a/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/TakahikoKawasaki/items/657ef040802f8524403a/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/TakahikoKawasaki/items/657ef040802f8524403a/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/TakahikoKawasaki/items/657ef040802f8524403a/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/TakahikoKawasaki/items/657ef040802f8524403a.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-f64db9c2-0c98-4269-8f1b-6b17dbf78672">{"authorAnalyticsTrackingId":null,"organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-788ed227-a62b-4851-8a87-dab295eddd0a"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-788ed227-a62b-4851-8a87-dab295eddd0a">{}</script>
      
<div id="LoginModal-react-component-2fe02706-9060-4240-9fa2-799cd4db9522"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-2fe02706-9060-4240-9fa2-799cd4db9522">{}</script>
      
<div id="StockModal-react-component-38a96213-ebb7-4785-b85a-e0bd39986bfe"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-38a96213-ebb7-4785-b85a-e0bd39986bfe">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;/OAGvqKOn8ZeCKq3S+cewTGLyGmabqFLavZDAmjHj6SZYlMO/QzRSqVW6cUVfMJKGFN0ihFKtYHjqjtXmGzjDQ==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\n\u003ch1\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cstrong\u003eはじめに\u003c/strong\u003e\n\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"https://tools.ietf.org/html/rfc6749\" rel=\"nofollow noopener\" target=\"_blank\"\u003eOAuth 2.0\u003c/a\u003e と \u003ca href=\"https://openid.net/connect/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eOpenID Connect\u003c/a\u003e をサポートする認可サーバー兼 OpenID プロバイダーの C# 実装である『\u003ca href=\"https://github.com/authlete/csharp-oauth-server\" rel=\"nofollow noopener\" target=\"_blank\"\u003ecsharp-oauth-server\u003c/a\u003e』、及び、\u003ca href=\"http://openid.net/specs/openid-connect-core-1_0.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003eOpenID Connect Core 1.0\u003c/a\u003e の「\u003ca href=\"http://openid.net/specs/openid-connect-core-1_0.html#UserInfo\" rel=\"nofollow noopener\" target=\"_blank\"\u003e5.3. UserInfo Endpoint\u003c/a\u003e」で定義されているユーザー情報エンドポイントの実装を含むリソースサーバーの C# 実装である『\u003ca href=\"https://github.com/authlete/csharp-resource-server\" rel=\"nofollow noopener\" target=\"_blank\"\u003ecsharp-resource-server\u003c/a\u003e』を紹介します。\u003c/p\u003e\n\n\u003cp\u003e\u003csup\u003eEnglish version: \u003cem\u003e“\u003ca href=\"https://medium.com/@darutk/oauth-2-0-and-openid-connect-implementation-in-c-authlete-8a8f9efc9361\" rel=\"nofollow noopener\" target=\"_blank\"\u003eOAuth 2.0 and OpenID Connect implementation in C# (Authlete)\u003c/a\u003e”\u003c/em\u003e\u003c/sup\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"1-アーキテクチャー\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E3%83%BC\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cstrong\u003e1. アーキテクチャー\u003c/strong\u003e\n\u003c/h1\u003e\n\n\u003cp\u003ecsharp-oauth-server と csharp-resource-server は『\u003ca href=\"https://github.com/authlete/authlete-csharp\" rel=\"nofollow noopener\" target=\"_blank\"\u003eauthlete-csharp\u003c/a\u003e』ライブラリ（NuGet パッケージ 『\u003ca href=\"https://www.nuget.org/packages/Authlete.Authlete\" rel=\"nofollow noopener\" target=\"_blank\"\u003eAuthlete.Authlete\u003c/a\u003e』）を用いて書かれています。authlete-csharp ライブラリは \u003ca href=\"https://www.authlete.com\" rel=\"nofollow noopener\" target=\"_blank\"\u003eAuthlete\u003c/a\u003e（オースリート）というクラウドサービスが提供する \u003ca href=\"https://docs.authlete.com/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eWeb API\u003c/a\u003e と通信するためのライブラリです。\u003c/p\u003e\n\n\u003cp\u003eAuthlete は OAuth 2.0 と OpenID Connect を実装するのに必要な機能を Web API として提供するクラウドサービスです。特長的なのは、Authlete 自身は認可サーバーでも OpenID プロバイダーでもなく、あくまで認可サーバーや OpenID プロバイダーの後ろで動くバックエンドサービスだということです。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/0a2faa43ae59817124d7f980e13c7b2a991b7ffc/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363034342f61656665646638632d396563382d383531612d376266652d3431636230633536376233662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"895\" alt=\"relationship-between-frontend-server-and-authlete.png\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106044%2Faefedf8c-9ec8-851a-7bfe-41cb0c567b3f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d2d3ce34ee8358a374676f07d27360a7\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106044/aefedf8c-9ec8-851a-7bfe-41cb0c567b3f.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106044%2Faefedf8c-9ec8-851a-7bfe-41cb0c567b3f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=5d6f17d1fea7639d721174d5a8462cfc 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eこのため、OAuth 2.0 と OpenID Connect のほとんどの部分は Authlete 内で実装されてはいるものの、それでもフロントエンドとして csharp-oauth-server のようなものが必要となります。 \u003ca href=\"https://github.com/authlete/java-oauth-server\" rel=\"nofollow noopener\" target=\"_blank\"\u003ejava-oauth-server\u003c/a\u003e や \u003ca href=\"https://github.com/authlete/spring-oauth-server\" rel=\"nofollow noopener\" target=\"_blank\"\u003espring-oauth-server\u003c/a\u003e もそのようなフロントエンド認可サーバーの実装例です。\u003c/p\u003e\n\n\u003cp\u003eAuthlete のアーキテクチャーの利点については『\u003ca href=\"https://qiita.com/TakahikoKawasaki/items/b2a4fc39e0c1a1949aab\" id=\"reference-d0ab6e60280eaf9b7cb5\"\u003eOAuth 2.0 / OIDC 実装の新アーキテクチャー\u003c/a\u003e』をご参照ください。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"2-前準備\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-%E5%89%8D%E6%BA%96%E5%82%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cstrong\u003e2. 前準備\u003c/strong\u003e\n\u003c/h1\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"21-api-キーと-api-シークレット\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#21-api-%E3%82%AD%E3%83%BC%E3%81%A8-api-%E3%82%B7%E3%83%BC%E3%82%AF%E3%83%AC%E3%83%83%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cstrong\u003e2.1. API キーと API シークレット\u003c/strong\u003e\n\u003c/h3\u003e\n\n\u003cp\u003ecsharp-oauth-server と csharp-resource-server を動かすには、Authlete サーバーと通信する際に要求される API キーと API シークレットが必要になります。Authlete の\u003ca href=\"https://so.authlete.com/accounts/signup\" rel=\"nofollow noopener\" target=\"_blank\"\u003eサインアップ\u003c/a\u003eページでアカウント登録をすると、自動的に API キーと API シークレットの組みが一つ生成されるので、API キーと\u003cbr\u003e\n API シークレットの取得に必要な作業はアカウント登録作業のみです。詳細な手順は『\u003ca href=\"https://qiita.com/TakahikoKawasaki/items/18d5b05dabe246fb239e\" id=\"reference-b94b62dd86c012b6996a\"\u003eSpring + OAuth 2.0 + OpenID Connect\u003c/a\u003e』の「\u003ca href=\"https://qiita.com/TakahikoKawasaki/items/18d5b05dabe246fb239e#31-authlete-api-%E3%81%AB%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%81%99%E3%82%8B%E3%81%9F%E3%82%81%E3%81%AE-api-%E3%82%AD%E3%83%BC\" id=\"reference-b94b62dd86c012b6996a\"\u003e3.1. Authlete API にアクセスするための API キー\u003c/a\u003e」をご参照ください。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"22-クライアント-id\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#22-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88-id\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cstrong\u003e2.2. クライアント ID\u003c/strong\u003e\n\u003c/h3\u003e\n\n\u003cp\u003e認可サーバー csharp-oauth-server に対して認可リクエストを投げる際、OAuth 2.0 の仕様（\u003ca href=\"https://tools.ietf.org/html/rfc6749\" rel=\"nofollow noopener\" target=\"_blank\"\u003eRFC 6749\u003c/a\u003e）により、クライアント ID が必要になります。Authlete にアカウント登録をすると、自動的にクライアントアプリケーションが一つ生成されるので、クライアント ID 取得についても、必要な作業はアカウント登録作業のみです。詳細な手順は『\u003ca href=\"https://qiita.com/TakahikoKawasaki/items/18d5b05dabe246fb239e\"\u003eSpring + OAuth 2.0 + OpenID Connect\u003c/a\u003e』の「\u003ca href=\"https://qiita.com/TakahikoKawasaki/items/18d5b05dabe246fb239e#32-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88-id\" id=\"reference-b94b62dd86c012b6996a\"\u003e3.2. クライアント ID\u003c/a\u003e」をご参照ください。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"3-実行\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3-%E5%AE%9F%E8%A1%8C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cstrong\u003e3. 実行\u003c/strong\u003e\n\u003c/h1\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"31-認可サーバー起動\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#31-%E8%AA%8D%E5%8F%AF%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E8%B5%B7%E5%8B%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cstrong\u003e3.1. 認可サーバー起動\u003c/strong\u003e\n\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e$ git clone https://github.com/authlete/csharp-oauth-server\n$ cd csharp-oauth-server/AuthorizationServer\n$ vi authlete.properties\n$ dotnet run\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e上記の手順により、\u003ca href=\"http://localhost:5000/\" rel=\"nofollow noopener\" target=\"_blank\"\u003elocalhost:5000\u003c/a\u003e で認可サーバーが起動します。\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003eauthlete.properties\u003c/code\u003e は \u003ccode\u003ecsharp-oauth-server\u003c/code\u003e が参照する設定ファイルです。このファイルに「2.1. API キーと API シークレット」で取得した API キーと API シークレットを設定してください。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"32-リソースサーバー起動\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#32-%E3%83%AA%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E8%B5%B7%E5%8B%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cstrong\u003e3.2. リソースサーバー起動\u003c/strong\u003e\n\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e$ git clone https://github.com/authlete/csharp-resource-server\n$ cd csharp-resource-server/ResourceServer\n$ vi authlete.properties\n$ dotnet run\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e上記の手順により、\u003ca href=\"http://localhost:5001/\" rel=\"nofollow noopener\" target=\"_blank\"\u003elocalhost:5001\u003c/a\u003e でリソースサーバーが起動します。\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003eauthlete.properties\u003c/code\u003e は \u003ccode\u003ecsharp-resource-server\u003c/code\u003e が参照する設定ファイルです。このファイルに「2.1. API キーと API シークレット」で取得した API キーと API シークレットを設定してください。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"33-認可リクエスト\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#33-%E8%AA%8D%E5%8F%AF%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cstrong\u003e3.3. 認可リクエスト\u003c/strong\u003e\n\u003c/h3\u003e\n\n\u003cp\u003ecsharp-oauth-server は \u003ccode\u003e/api/authorization\u003c/code\u003e で「\u003ca href=\"https://tools.ietf.org/html/rfc6749#section-3.1\" rel=\"nofollow noopener\" target=\"_blank\"\u003e認可エンドポイント\u003c/a\u003e」を提供します。\u003ca href=\"https://tools.ietf.org/html/rfc6749#section-4.2\" rel=\"nofollow noopener\" target=\"_blank\"\u003eインプリシットフロー\u003c/a\u003e（\u003ccode\u003eresponse_type=token\u003c/code\u003e）で認可リクエストをこのエンドポイントに投げてみましょう。下記の URL を Web ブラウザのアドレスバーに入力してください。\u003ccode\u003e{クライアントID}\u003c/code\u003e の箇所は「2.2. クライアント ID」で取得したクライアント ID で置き換えてください。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003ehttp://localhost:5000/api/authorization?response_type=token\u0026amp;client_id={クライアントID}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e次のような認可画面が表示されます。\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align: center\"\u003e認可画面\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003ca href=\"https://camo.qiitausercontent.com/cdbdb6d59043e3e9836ff7d83d412b80be018b2b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363034342f39323433653664642d336433622d653663622d623438392d3965323562626233396639362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106044%2F9243e6dd-3d3b-e6cb-b489-9e25bbb39f96.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c0ebdd690a307d9760b83174382abc03\" alt=\"charp-oauth-server_authorization-page.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106044/9243e6dd-3d3b-e6cb-b489-9e25bbb39f96.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106044%2F9243e6dd-3d3b-e6cb-b489-9e25bbb39f96.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=1099ee19162220756918ba8aa66b426f 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003eLogin ID フィールドと Password フィールド\u003csup\u003e※\u003c/sup\u003eに、それぞれ \u003ccode\u003ejohn\u003c/code\u003e, \u003ccode\u003ejohn\u003c/code\u003e と入力し、Authorize ボタンを押してください。\u003c/p\u003e\n\n\u003cp\u003e\u003csup\u003e※: Login ID フィールドと Password フィールドが表示されない場合は認可リクエストの URL の末尾に \u003ccode\u003e\u0026amp;prompt=login\u003c/code\u003e を追加してください。\u003c/sup\u003e\u003c/p\u003e\n\n\u003cp\u003eすると、Web ブラウザは（クライアントアプリケーションの設定をあなたが変更していなければ） \u003ccode\u003ehttps://api.authlete.com/api/mock/redirection/{サービスAPIキー}\u003c/code\u003e へとリダイレクトされ、認可リクエストの結果が表示されます。\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align: center\"\u003e認可リクエストの結果\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003ca href=\"https://camo.qiitausercontent.com/6e13a4743c3d45bc03953eb553a3208d6d2e4ef5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130363034342f64336663633261372d646138362d366136622d653733652d6566353732653837653761662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106044%2Fd3fcc2a7-da86-6a6b-e73e-ef572e87e7af.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=efd8ea4162b17ac6c624c0f925f57488\" alt=\"authorization-request-result.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/106044/d3fcc2a7-da86-6a6b-e73e-ef572e87e7af.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106044%2Fd3fcc2a7-da86-6a6b-e73e-ef572e87e7af.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=3b60cdac9bf218a2f5164dd4b721912d 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003e表示されている表の \u003ccode\u003eaccess_token\u003c/code\u003e の隣にある値が、今回の認可リクエストの結果として発行されたアクセストークンです。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"34-api-コール\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#34-api-%E3%82%B3%E3%83%BC%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cstrong\u003e3.4. API コール\u003c/strong\u003e\n\u003c/h3\u003e\n\n\u003cp\u003e認可リクエストの結果、アクセストークンが取得できたので、リソースサーバーに対して API コールをしてみましょう。\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003ecsharp-resource-server\u003c/code\u003e は \u003ccode\u003e/api/time\u003c/code\u003e で簡単な API を提供しています。この API に、まず、アクセストークンをつけないでアクセスしてみます。リソースサーバーが返す HTTP ヘッダーの値を見るため、\u003ccode\u003e-v\u003c/code\u003e オプションをつけて curl コマンドを実行します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e$ curl -v http://localhost:5001/api/time\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eすると、HTTP ステータス \u003ccode\u003e400 Bad Request\u003c/code\u003e が返ってきます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e*   Trying ::1...\n* TCP_NODELAY set\n* Connected to localhost (::1) port 5001 (#0)\n\u0026gt; GET /api/time HTTP/1.1\n\u0026gt; Host: localhost:5001\n\u0026gt; User-Agent: curl/7.54.0\n\u0026gt; Accept: */*\n\u0026gt; \n\u0026lt; HTTP/1.1 400 Bad Request\n\u0026lt; Date: Mon, 08 Jan 2018 13:08:24 GMT\n\u0026lt; Server: Kestrel\n\u0026lt; Content-Length: 0\n\u0026lt; Cache-Control: no-store\n\u0026lt; Pragma: no-cache\n\u0026lt; WWW-Authenticate: Bearer error=\"invalid_token\",error_description=\"[A057301] The request does not contain a valid access token.\",error_uri=\"https://www.authlete.com/documents/apis/result_codes#A057301\"\n\u0026lt; \n* Connection #0 to host localhost left intact\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ca href=\"https://tools.ietf.org/html/rfc6750\" rel=\"nofollow noopener\" target=\"_blank\"\u003eRFC 6750\u003c/a\u003e（The OAuth 2.0 Authorization Framework: Bearer Token Usage）の仕様により、エラーメッセージはレスポンスボディーではなく、\u003ccode\u003eWWW-Authenticate\u003c/code\u003e ヘッダーに書かれていることに注意してください。\u003c/p\u003e\n\n\u003cp\u003e次に、「3.3. 認可リクエスト」で取得したアクセストークンをつけて \u003ccode\u003e/api/time\u003c/code\u003e API を呼んでみます。なお、\u003ccode\u003e/api/time\u003c/code\u003e API は、RFC 6750 で定義されている 3 つの方法を全てサポートしているので、次のいずれの方法でもアクセストークンを受け付けることができます。\u003c/p\u003e\n\n\u003cp\u003eRFC 6750, \u003ca href=\"https://tools.ietf.org/html/rfc6750#section-2.1\" rel=\"nofollow noopener\" target=\"_blank\"\u003e2.1. Authorization Request Header Field\u003c/a\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e$ curl -v http://localhost:5001/api/time \\\n       -H 'Authorization: Bearer pZ-NP9xuMOTf5Q_jafvXaWfq3czJp_-EHgDtF-ru90g'\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eRFC 6750, \u003ca href=\"https://tools.ietf.org/html/rfc6750#section-2.2\" rel=\"nofollow noopener\" target=\"_blank\"\u003e2.2. Form-Encoded Body Parameter\u003c/a\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e$ curl -v http://localhost:5001/api/time \\\n       -d access_token=pZ-NP9xuMOTf5Q_jafvXaWfq3czJp_-EHgDtF-ru90g\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eRFC 6750, \u003ca href=\"https://tools.ietf.org/html/rfc6750#section-2.3\" rel=\"nofollow noopener\" target=\"_blank\"\u003e2.3. URI Query Parameter\u003c/a\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003ecurl -v http://localhost:5001/api/time\\?access_token=pZ-NP9xuMOTf5Q_jafvXaWfq3czJp_-EHgDtF-ru90g\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eさて、一番目の方法で API コールを実行すると、結果は次のようになります。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e*   Trying ::1...\n* TCP_NODELAY set\n* Connected to localhost (::1) port 5001 (#0)\n\u0026gt; GET /api/time HTTP/1.1\n\u0026gt; Host: localhost:5001\n\u0026gt; User-Agent: curl/7.54.0\n\u0026gt; Accept: */*\n\u0026gt; Authorization: Bearer pZ-NP9xuMOTf5Q_jafvXaWfq3czJp_-EHgDtF-ru90g\n\u0026gt; \n\u0026lt; HTTP/1.1 200 OK\n\u0026lt; Date: Mon, 08 Jan 2018 13:27:56 GMT\n\u0026lt; Content-Type: application/json; charset=utf-8\n\u0026lt; Server: Kestrel\n\u0026lt; Content-Length: 151\n\u0026lt; Cache-Control: no-store\n\u0026lt; Pragma: no-cache\n\u0026lt; \n{\n  \"year\":        2018,\n  \"month\":       1,\n  \"day\":         8,\n  \"hour\":        13,\n  \"minute\":      27,\n  \"second\":      56,\n  \"millisecond\": 341\n}\n* Connection #0 to host localhost left intact\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eHTTP ステータス \u003ccode\u003e200 OK\u003c/code\u003e で JSON が返ってきます。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"おわりに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%8A%E3%82%8F%E3%82%8A%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cstrong\u003eおわりに\u003c/strong\u003e\n\u003c/h1\u003e\n\n\u003cp\u003e認可サーバーや OpenID プロバイダーの実装に利用可能な C# ライブラリはそれほど多くありませんが、\u003ca href=\"https://github.com/authlete/authlete-csharp\" rel=\"nofollow noopener\" target=\"_blank\"\u003eauthlete-csharp\u003c/a\u003e ライブラリ（\u003ca href=\"https://www.nuget.org/packages/Authlete.Authlete\" rel=\"nofollow noopener\" target=\"_blank\"\u003eAuthlete.Authlete\u003c/a\u003e NuGet パッケージ）の登場により、選択肢が一つ増えました。\u003c/p\u003e\n\n\u003cp\u003eauthlete-csharp ライブラリは他のライブラリと異なり、バックエンドサービスとして \u003ca href=\"https://www.authlete.com/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eAuthlete\u003c/a\u003e を利用します。（１）OAuth 2.0 と OpenID Connect\u003cbr\u003e\n のロジックは Authlete 側で実装され、（２）アクセストークン等の関連データも Authlete 側のデータベースに保存され、（３）サーバーやクライアントの設定も GUI（\u003ca href=\"https://www.authlete.com/documents/so_console\" rel=\"nofollow noopener\" target=\"_blank\"\u003eService Owner Console\u003c/a\u003e \u0026amp; \u003ca href=\"https://www.authlete.com/documents/cd_console\" rel=\"nofollow noopener\" target=\"_blank\"\u003eDeveloper Console\u003c/a\u003e）でおこなえるため（他のライブラリのように設定自体をいちいちコーディングしなくてもよい）、フロントエンドの認可サーバーの実装はかなり簡単になります。\u003c/p\u003e\n\n\u003cp\u003e例えば、\u003ca href=\"https://openid.net/specs/openid-connect-discovery-1_0.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003eOpenID Connect Discovery 1.0\u003c/a\u003e で定義されている設定エンドポイントの実装（\u003ca href=\"https://github.com/authlete/csharp-oauth-server/blob/master/AuthorizationServer/Controllers/ConfigurationController.cs\" rel=\"nofollow noopener\" target=\"_blank\"\u003eConfigurationController.cs\u003c/a\u003e）は実質的に下記のコードだけで終わってしまいます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Net.Http\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Threading.Tasks\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eMicrosoft.AspNetCore.Mvc\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eAuthlete.Api\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eAuthlete.Handler\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003enamespace\u003c/span\u003e \u003cspan class=\"nn\"\u003eAuthorizationServer.Controllers\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003eRoute\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\".well-known/openid-configuration\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eConfigurationController\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eBaseController\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003eConfigurationController\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eIAuthleteApi\u003c/span\u003e \u003cspan class=\"n\"\u003eapi\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"k\"\u003ebase\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eapi\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eHttpGet\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"n\"\u003eTask\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eHttpResponseMessage\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nf\"\u003eGet\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// Call Authlete's /api/service/configuration API.\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eConfigurationRequestHandler\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eAPI\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eHandle\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e上記の利点は C# に限った話ではありません。フロントサーバーを Java で実装しても（例：\u003ca href=\"https://github.com/authlete/java-oauth-server\" rel=\"nofollow noopener\" target=\"_blank\"\u003ejava-oauth-server\u003c/a\u003e）、同様の利点を得られます。ですので、どのプログラミング言語を使うかに関わらず、認可サーバー・OpenID プロバイダーの実装をおこなう際は \u003ca href=\"https://www.authlete.com/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eAuthlete\u003c/a\u003e の利用を是非ご検討ください！\u003c/p\u003e\n\n\u003cp\u003e\u003csub\u003e注：この記事の筆者は Authlete 社の創業者です。\u003c/sub\u003e\u003c/p\u003e\n","createdAt":"2018-01-08T14:48:08Z","elapsedYearsFromLastModifiedAt":3,"encryptedId":"02hfweEt+5YQVZE4D/+0O7GCFYAQyq0N--O4VCLt3xbQXKr5Ph--xsUOFHDQe4z20YrDlx0+vw==","isBanned":false,"isDeprecated":true,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2018-01-09T07:06:32Z","likesCount":10,"linkUrl":"https://qiita.com/TakahikoKawasaki/items/657ef040802f8524403a","organization":null,"originalId":598185,"stockedCount":17,"title":"C# による OAuth 2.0 と OpenID Connect の実装 (Authlete)","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003eはじめに\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#1-%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E3%83%BC\"\u003e1. アーキテクチャー\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#2-%E5%89%8D%E6%BA%96%E5%82%99\"\u003e2. 前準備\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#21-api-%E3%82%AD%E3%83%BC%E3%81%A8-api-%E3%82%B7%E3%83%BC%E3%82%AF%E3%83%AC%E3%83%83%E3%83%88\"\u003e2.1. API キーと API シークレット\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#22-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88-id\"\u003e2.2. クライアント ID\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cli\u003e\n\u003ca href=\"#3-%E5%AE%9F%E8%A1%8C\"\u003e3. 実行\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#31-%E8%AA%8D%E5%8F%AF%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E8%B5%B7%E5%8B%95\"\u003e3.1. 認可サーバー起動\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#32-%E3%83%AA%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E8%B5%B7%E5%8B%95\"\u003e3.2. リソースサーバー起動\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#33-%E8%AA%8D%E5%8F%AF%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88\"\u003e3.3. 認可リクエスト\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#34-api-%E3%82%B3%E3%83%BC%E3%83%AB\"\u003e3.4. API コール\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\n\n\u003cli\u003e\n\u003ca href=\"#%E3%81%8A%E3%82%8F%E3%82%8A%E3%81%AB\"\u003eおわりに\u003c/a\u003e\n\u003c/li\u003e\n\n","totalPv":12415,"uuid":"657ef040802f8524403a","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"Rm0kP8UfkdcIeFHYYogKHA2BaqLf--j6ns4tZ9Wpc+8kCP--uPUqsR5890UX9fJqPnE1qQ==","originalId":106044,"description":"株式会社 Authlete の共同創業者。プログラマー兼代表取締役社長。","facebookUrl":"https://facebook.com/takahiko.kawasaki.7","githubUrl":"https://github.com/TakahikoKawasaki","isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":false,"linkedinUrl":"https://www.linkedin.com/in/takahikokawasaki","name":"川崎 貴彦","profileImageUrl":"https://qiita-image-store.s3.amazonaws.com/0/106044/profile-images/1473709810","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106044%2Fprofile-images%2F1473709810?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=b47024b0f97cf705cf1625ffa5342554","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F106044%2Fprofile-images%2F1473709810?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=d341613384409a2a99cdef924a30936a","urlName":"TakahikoKawasaki","websiteUrl":"https://www.authlete.com/","twitterUrl":"https://twitter.com/darutk","twitterUrlName":"darutk","revealedOrganizations":{"edges":[]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"OAuth","urlName":"oauth"},{"name":"OpenID","urlName":"openid"},{"name":"openid_connect","urlName":"openid_connect"},{"name":"Authlete","urlName":"authlete"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
