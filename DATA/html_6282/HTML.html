<!DOCTYPE html><html><head><meta charset="utf-8" /><title>音声認識・合成音声・自動翻訳プログラムをC#で作ってGitHubでソース公開してみました - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/zufall/items/2e027a2bc996864fe4af" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="pKNfSsN/AKJQZpQ5xjR9PrvnSn/fsMvjkxW18ZC+19eYFyqAfLW1YxhcgrIkudAcNpycHesa7LKBaGT0nWaWrQ==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta property="og:type" content="article"><meta property="og:title" content="音声認識・合成音声・自動翻訳プログラムをC#で作ってGitHubでソース公開してみました - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND02Wi16NWFPdzZLcU42SzJZNDRPNzVaQ0k1b2lRNlotejVhT3c0NE83NkllcTVZdVY1Ny03NktpejQ0T1g0NE90NDRLdzQ0T3A0NE9nNDRLU1F5UGpnYWZrdlp6amdhUGpnYVpIYVhSSWRXTGpnYWZqZ3Izamc3empncm5saGF6cGxvdmpnWmZqZ2FiamdiX2pnYjdqZ1pmamdaOCZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTU0JnR4dC1jbGlwPWVsbGlwc2lzJnR4dC1hbGlnbj1jZW50ZXIlMkNtaWRkbGUmcz1lYTQ4NjhiOGJmY2U5NDg2Y2ZhZGEzZDY0MzMwZTAyOA&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RSHAxWm1Gc2JBJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NDUmdHh0LWFsaWduPXJpZ2h0JTJDYm90dG9tJnM9ZDgwMDI4YzFjZjMwODFhOGQxZTkyY2QwMDQxNjdmNTY&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=d57aa7bf3f052bede8416608aa87b0f0"><meta property="og:description" content="

概要 



GitHub - Kikisen-VC (音声認識・音声合成・翻訳・擬似VCツール)


音声認識・音声合成・翻訳・擬似VC用のツールをGitHubで公開してみました。
各所のサンプルをつまみ食いで参考にさせて頂いて..."><meta content="https://qiita.com/zufall/items/2e027a2bc996864fe4af" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,音声合成,音声認識,OpenJTalk,RealSense" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 1nzh4zz 38fzdi helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-1nzh4zz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 32px;background-color:#FBE69E;color:rgba(0,0,0,0.87);line-height:1.5;font-weight:600;}@media (max-width:770px){.css-1nzh4zz{padding:16px;}}.css-38fzdi{color:#CA832A;margin-right:4px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-6712aeb5-912b-44e4-9afb-fc60cf96e954"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2Fzufall%2Fitems%2F2e027a2bc996864fe4af">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2Fzufall%2Fitems%2F2e027a2bc996864fe4af">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-6712aeb5-912b-44e4-9afb-fc60cf96e954">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2017-06-19T19:35:27.000+09:00","dateModified":"2017-11-06T10:55:15.000+09:00","headline":"音声認識・合成音声・自動翻訳プログラムをC#で作ってGitHubでソース公開してみました","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND02Wi16NWFPdzZLcU42SzJZNDRPNzVaQ0k1b2lRNlotejVhT3c0NE83NkllcTVZdVY1Ny03NktpejQ0T1g0NE90NDRLdzQ0T3A0NE9nNDRLU1F5UGpnYWZrdlp6amdhUGpnYVpIYVhSSWRXTGpnYWZqZ3Izamc3empncm5saGF6cGxvdmpnWmZqZ2FiamdiX2pnYjdqZ1pmamdaOCZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTU0JnR4dC1jbGlwPWVsbGlwc2lzJnR4dC1hbGlnbj1jZW50ZXIlMkNtaWRkbGUmcz1lYTQ4NjhiOGJmY2U5NDg2Y2ZhZGEzZDY0MzMwZTAyOA\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RSHAxWm1Gc2JBJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NDUmdHh0LWFsaWduPXJpZ2h0JTJDYm90dG9tJnM9ZDgwMDI4YzFjZjMwODFhOGQxZTkyY2QwMDQxNjdmNTY\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=d57aa7bf3f052bede8416608aa87b0f0","mainEntityOfPage":"https://qiita.com/zufall/items/2e027a2bc996864fe4af","author":{"@type":"Person","address":null,"email":null,"identifier":"zufall","name":"zufall","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F29493197%3Fv%3D3?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=ea1307c7634f421f40bac1b92300886e","url":"https://qiita.com/zufall","description":null,"memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://zine.qiita.com/interview/202105-uzabase/?utm_source=qiita&amp;utm_medium=header-banner">自己組織化されたユーザベースSaaS Product Teamが面白い理由</a><a target="_blank" id="header_text_message_2" href="https://zine.qiita.com/interview/202105-uzabase/?utm_source=qiita&amp;utm_medium=header-banner">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"zufall","type":"items","id":"2e027a2bc996864fe4af"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"自己組織化されたユーザベースSaaS Product Teamが面白い理由","url":"https://zine.qiita.com/interview/202105-uzabase/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"zufall","type":"items","id":"2e027a2bc996864fe4af"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":0,"pos_id":"header_text_message_1","message":"自己組織化されたユーザベースSaaS Product Teamが面白い理由","url":"https://zine.qiita.com/interview/202105-uzabase/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"zufall","type":"items","id":"2e027a2bc996864fe4af"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":0,"pos_id":"header_text_message_2","message":"自己組織化されたユーザベースSaaS Product Teamが面白い理由","url":"https://zine.qiita.com/interview/202105-uzabase/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/zufall/items/2e027a2bc996864fe4af","location":"/zufall/items/2e027a2bc996864fe4af","scheme":"https","host":"qiita.com","port":null,"pathname":"/zufall/items/2e027a2bc996864fe4af","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"cdURKPIRByvY6UYcxBNeEeNzBquB5lRU1OOIYeE5yVNNYWTiTduy6pDTUJcmnvMzbgjQybVMcwXGnllk7OGIKQ==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-4b8a1409-b691-4bce-94a0-9778de01ccb7"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/zufall/items/2e027a2bc996864fe4af/likers" class="css-1iupg5d">24</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">23</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/2e027a2bc996864fe4af/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/zufall/items/2e027a2bc996864fe4af/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/zufall/items/2e027a2bc996864fe4af/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/zufall/items/2e027a2bc996864fe4af/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/zufall/items/2e027a2bc996864fe4af.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-1nzh4zz"><span class="fa fa-fw fa-warning css-38fzdi"></span><p>More than 3 years have passed since last update.</p></div><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/zufall"><img class="css-100alwu eyfquo10" src="https://avatars3.githubusercontent.com/u/29493197?v=3" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/zufall" class="css-10ougpm">@<!-- -->zufall</a><div class="css-1ay9vb9"><span><meta content="2017-06-19T10:35:27Z"/><time dateTime="2017-11-06T01:55:15Z" class="css-m19uds">updated at 2017-11-06</time></span></div></div></div></div></div><h1 class="css-cgzq40">音声認識・合成音声・自動翻訳プログラムをC#で作ってGitHubでソース公開してみました</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/%e9%9f%b3%e5%a3%b0%e5%90%88%e6%88%90" class="css-4czcte">音声合成</a><a href="/tags/%e9%9f%b3%e5%a3%b0%e8%aa%8d%e8%ad%98" class="css-4czcte">音声認識</a><a href="/tags/openjtalk" class="css-4czcte">OpenJTalk</a><a href="/tags/realsense" class="css-4czcte">RealSense</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div>
<h1>
<span id="概要-point_down" class="fragment"></span><a href="#%E6%A6%82%E8%A6%81-point_down"><i class="fa fa-link"></i></a>概要 <img alt=":point_down:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/1f447.png" title=":point_down:" width="20" loading="lazy">
</h1>

<blockquote>
<p><a href="https://github.com/zufall-upon/kikisen-vc" rel="nofollow noopener" target="_blank">GitHub - Kikisen-VC (音声認識・音声合成・翻訳・擬似VCツール)</a></p>
</blockquote>

<p>音声認識・音声合成・翻訳・擬似VC用のツールをGitHubで公開してみました。<br>
各所のサンプルをつまみ食いで参考にさせて頂いて組み立てた拙いソースですが、この分野に興味のある方の参考になれば幸いです。</p>

<h5>
<span id="20170620-該当ソースを添付して更新しました" class="fragment"></span><a href="#20170620-%E8%A9%B2%E5%BD%93%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%92%E6%B7%BB%E4%BB%98%E3%81%97%E3%81%A6%E6%9B%B4%E6%96%B0%E3%81%97%E3%81%BE%E3%81%97%E3%81%9F"><i class="fa fa-link"></i></a>2017.06.20 該当ソースを添付して更新しました。</h5>

<h5>
<span id="20170624-bingspeechapiに関する記述を追加しました" class="fragment"></span><a href="#20170624-bingspeechapi%E3%81%AB%E9%96%A2%E3%81%99%E3%82%8B%E8%A8%98%E8%BF%B0%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%97%E3%81%BE%E3%81%97%E3%81%9F"><i class="fa fa-link"></i></a>2017.06.24 BingSpeechAPIに関する記述を追加しました。</h5>

<h5>
<span id="20171105-intel-realsenseとopenjtalkに対応してみました" class="fragment"></span><a href="#20171105-intel-realsense%E3%81%A8openjtalk%E3%81%AB%E5%AF%BE%E5%BF%9C%E3%81%97%E3%81%A6%E3%81%BF%E3%81%BE%E3%81%97%E3%81%9F"><i class="fa fa-link"></i></a>2017.11.05 Intel RealsenseとOpenJTalkに対応してみました。</h5>

<h1>
<span id="苦労した点-frowning2" class="fragment"></span><a href="#%E8%8B%A6%E5%8A%B4%E3%81%97%E3%81%9F%E7%82%B9-frowning2"><i class="fa fa-link"></i></a>苦労した点 <img alt=":frowning2:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/2639.png" title=":frowning2:" width="20" loading="lazy">
</h1>

<h3>
<span id="googlecloudspeechapiのレスポンスが遅い" class="fragment"></span><a href="#googlecloudspeechapi%E3%81%AE%E3%83%AC%E3%82%B9%E3%83%9D%E3%83%B3%E3%82%B9%E3%81%8C%E9%81%85%E3%81%84"><i class="fa fa-link"></i></a>GoogleCloudSpeechAPIのレスポンスが遅い！</h3>

<p>「Uターン」、や「T字路」「okです」等、アルファベットを含む単語の認識がやたら遅かったので苦労しました。。</p>

<h5>
<span id="認識精度も返ってきてるのに気づくのが遅れた" class="fragment"></span><a href="#%E8%AA%8D%E8%AD%98%E7%B2%BE%E5%BA%A6%E3%82%82%E8%BF%94%E3%81%A3%E3%81%A6%E3%81%8D%E3%81%A6%E3%82%8B%E3%81%AE%E3%81%AB%E6%B0%97%E3%81%A5%E3%81%8F%E3%81%AE%E3%81%8C%E9%81%85%E3%82%8C%E3%81%9F"><i class="fa fa-link"></i></a><em>認識精度も返ってきてるのに気づくのが遅れた・・</em>
</h5>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">MainWindow.xaml.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="c1">// アルファベット混じりだと発声が遅れるので処置する</span>
<span class="k">if</span> <span class="p">(</span><span class="n">bContainAlpha</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// 信頼度がある程度以上ならば区切りと判断</span>
    <span class="k">if</span> <span class="p">(</span><span class="m">0.8</span> <span class="p">&lt;</span> <span class="n">note</span><span class="p">.</span><span class="n">Results</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">Stability</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">var</span> <span class="n">subtext</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="m">1</span> <span class="p">&lt;</span> <span class="n">note</span><span class="p">.</span><span class="n">Results</span><span class="p">.</span><span class="n">Count</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">subtext</span> <span class="p">=</span> <span class="n">note</span><span class="p">.</span><span class="n">Results</span><span class="p">[</span><span class="m">1</span><span class="p">].</span><span class="n">Alternatives</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">Transcript</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="m">0</span> <span class="p">&lt;</span> <span class="n">subtext</span><span class="p">.</span><span class="n">Length</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">subtext</span> <span class="p">=</span> <span class="n">Regex</span><span class="p">.</span><span class="nf">Replace</span><span class="p">(</span><span class="n">subtext</span><span class="p">,</span> <span class="s">@"\s"</span><span class="p">,</span> <span class="s">""</span><span class="p">);</span>
                <span class="n">speechtxt</span> <span class="p">+=</span> <span class="n">subtext</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">Dispatcher</span><span class="p">.</span><span class="nf">BeginInvoke</span><span class="p">((</span><span class="n">Action</span><span class="p">)(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
            <span class="nf">FuncVoicePlay</span><span class="p">(</span><span class="n">cmbOutputDevice</span><span class="p">.</span><span class="n">Items</span><span class="p">.</span><span class="nf">IndexOf</span><span class="p">(</span><span class="n">_OutputDevice</span><span class="p">),</span> <span class="n">speechtxt</span><span class="p">,</span> <span class="n">_SpeechAPI</span><span class="p">,</span> <span class="n">_say_msVolume</span><span class="p">,</span> <span class="n">_say_msPitch</span><span class="p">,</span> <span class="n">_say_msEmphasis</span><span class="p">,</span> <span class="n">_say_msRate</span><span class="p">,</span> <span class="n">_sayPitch</span><span class="p">,</span> <span class="n">_saySpeed</span><span class="p">,</span> <span class="n">_sayVolume</span><span class="p">,</span> <span class="n">_sayEmotion</span><span class="p">);</span>
        <span class="p">}));</span>
</code></pre></div>
</div>

<p>認識精度と推測単語がオブジェクトに含まれているのに結構最近まで気付かず、アルファベットを含んだ認識の場合はこっちを参照することで解決しています。これでレスポンスも上々！</p>

<h5>
<span id="バグってましたここexpressionless" class="fragment"></span><a href="#%E3%83%90%E3%82%B0%E3%81%A3%E3%81%A6%E3%81%BE%E3%81%97%E3%81%9F%E3%81%93%E3%81%93expressionless"><i class="fa fa-link"></i></a>→バグってましたここ<img alt=":expressionless:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/1f611.png" title=":expressionless:" width="20" loading="lazy">
</h5>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">MainWindow.xaml.cs</span></div>
<div class="highlight"><pre class="with-code"><code>    <span class="c1">// 信頼度がある程度以上ならば区切りと判断</span>
    <span class="k">if</span> <span class="p">(</span><span class="m">0.8</span> <span class="p">&lt;</span> <span class="n">note</span><span class="p">.</span><span class="n">Results</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">Stability</span><span class="p">)</span> <span class="p">{</span>
</code></pre></div>
</div>

<p>これ、Stabilityはfloat型で返ってくるんでこの比較式じゃダメなんですよ・・<br>
とりあえず動くようにはしましたが正しい修正方法は調べ中。</p>

<h3>
<span id="ループバック音声入力のサンプリングレートが特殊" class="fragment"></span><a href="#%E3%83%AB%E3%83%BC%E3%83%97%E3%83%90%E3%83%83%E3%82%AF%E9%9F%B3%E5%A3%B0%E5%85%A5%E5%8A%9B%E3%81%AE%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AA%E3%83%B3%E3%82%B0%E3%83%AC%E3%83%BC%E3%83%88%E3%81%8C%E7%89%B9%E6%AE%8A"><i class="fa fa-link"></i></a>ループバック音声入力のサンプリングレートが特殊！</h3>

<p>ループバックにはWasapiLoopbackCaptureを使ってるんですが、こいつが返してくるサウンドのサンプリングレートが特殊で、</p>

<blockquote>
<p>formatChannels       : 2<br>
Sample Rate    : 44100<br>
Precision      : 25-bit<br>
Sample Encoding: 32-bit Floating Point PCM</p>
</blockquote>

<p>みたいなものを音声認識APIが扱える形式にリサンプリングする必要がありました。</p>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">MainWindow.xaml.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="kt">byte</span><span class="p">[]</span> <span class="nf">Convert16</span><span class="p">(</span><span class="kt">byte</span><span class="p">[]</span> <span class="n">input</span><span class="p">,</span> <span class="kt">int</span> <span class="n">length</span><span class="p">,</span> <span class="n">WaveFormat</span> <span class="n">format</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">length</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span>
        <span class="k">return</span> <span class="k">new</span> <span class="kt">byte</span><span class="p">[</span><span class="m">0</span><span class="p">];</span>
    <span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">memStream</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MemoryStream</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="n">length</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">inputStream</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RawSourceWaveStream</span><span class="p">(</span><span class="n">memStream</span><span class="p">,</span> <span class="n">format</span><span class="p">))</span> <span class="p">{</span>
            <span class="kt">var</span> <span class="n">sampleStream</span> <span class="p">=</span> <span class="k">new</span> <span class="n">NAudio</span><span class="p">.</span><span class="n">Wave</span><span class="p">.</span><span class="n">SampleProviders</span><span class="p">.</span><span class="nf">WaveToSampleProvider</span><span class="p">(</span><span class="n">inputStream</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">resamplingProvider</span> <span class="p">=</span> <span class="k">new</span> <span class="n">NAudio</span><span class="p">.</span><span class="n">Wave</span><span class="p">.</span><span class="n">SampleProviders</span><span class="p">.</span><span class="nf">WdlResamplingSampleProvider</span><span class="p">(</span><span class="n">sampleStream</span><span class="p">,</span> <span class="n">resampler</span><span class="p">,</span> <span class="m">16000</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">ieeeToPCM</span> <span class="p">=</span> <span class="k">new</span> <span class="n">NAudio</span><span class="p">.</span><span class="n">Wave</span><span class="p">.</span><span class="n">SampleProviders</span><span class="p">.</span><span class="nf">SampleToWaveProvider16</span><span class="p">(</span><span class="n">resamplingProvider</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">sampleStreams</span> <span class="p">=</span> <span class="k">new</span> <span class="n">NAudio</span><span class="p">.</span><span class="n">Wave</span><span class="p">.</span><span class="nf">StereoToMonoProvider16</span><span class="p">(</span><span class="n">ieeeToPCM</span><span class="p">);</span>
            <span class="n">sampleStreams</span><span class="p">.</span><span class="n">RightVolume</span> <span class="p">=</span> <span class="m">0.5f</span><span class="p">;</span>
            <span class="n">sampleStreams</span><span class="p">.</span><span class="n">LeftVolume</span> <span class="p">=</span> <span class="m">0.5f</span><span class="p">;</span>
            <span class="k">return</span> <span class="nf">readStream</span><span class="p">(</span><span class="n">sampleStreams</span><span class="p">,</span> <span class="n">length</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">private</span> <span class="kt">byte</span><span class="p">[]</span> <span class="nf">readStream</span><span class="p">(</span><span class="n">IWaveProvider</span> <span class="n">waveStream</span><span class="p">,</span> <span class="kt">int</span> <span class="n">length</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">byte</span><span class="p">[]</span> <span class="n">buffer</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">byte</span><span class="p">[</span><span class="n">length</span><span class="p">];</span>
    <span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">stream</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MemoryStream</span><span class="p">())</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">read</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">((</span><span class="n">read</span> <span class="p">=</span> <span class="n">waveStream</span><span class="p">.</span><span class="nf">Read</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="n">length</span><span class="p">))</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">stream</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="n">read</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">stream</span><span class="p">.</span><span class="nf">ToArray</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// 匿名デリゲートだとエラーが出るので外だし</span>
<span class="k">void</span> <span class="nf">_ms_wi_DataAvailable</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">WaveInEventArgs</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">_ms_wloop</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">byte</span><span class="p">[]</span> <span class="n">output</span> <span class="p">=</span> <span class="nf">Convert16</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">Buffer</span><span class="p">,</span> <span class="n">e</span><span class="p">.</span><span class="n">BytesRecorded</span><span class="p">,</span> <span class="n">_ms_wloop</span><span class="p">.</span><span class="n">WaveFormat</span><span class="p">);</span>
            <span class="n">_ms_wloop_ss</span><span class="p">.</span><span class="nf">WriteLoop</span><span class="p">(</span><span class="n">output</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="n">output</span><span class="p">.</span><span class="n">Length</span><span class="p">);</span>
</code></pre></div>
</div>

<h5>
<span id="フフフフフとか返ってきて夜中怖い" class="fragment"></span><a href="#%E3%83%95%E3%83%95%E3%83%95%E3%83%95%E3%83%95%E3%81%A8%E3%81%8B%E8%BF%94%E3%81%A3%E3%81%A6%E3%81%8D%E3%81%A6%E5%A4%9C%E4%B8%AD%E6%80%96%E3%81%84"><i class="fa fa-link"></i></a><em>「フフフフフ」とか返ってきて夜中怖い！</em>
</h5>

<p>サンプリングレートが違うものを音声認識APIに渡すと、「FFFFFFFF」などとして認識されるようです。<br>
夜中にコーディングしててテスト中に「ふふふふふふふ」と認識文字列が表示されて無駄に怖い思いをしました。。<br>
参考記事を参照してリサンプリングに成功し、なんとかループバック音声認識の疎通に成功したときは嬉しかったです！</p>

<h3>
<span id="bingspeechapiを実装しました" class="fragment"></span><a href="#bingspeechapi%E3%82%92%E5%AE%9F%E8%A3%85%E3%81%97%E3%81%BE%E3%81%97%E3%81%9F"><i class="fa fa-link"></i></a>BingSpeechAPIを実装しました</h3>

<p>苦労した点は情報が少ないこと！stackoverflowにもほぼリアルタイムでの音声認識に関する情報がなく・・<br>
でも1記事あったのでそれをヒントにしてGoogleCloudSpeechAPIと同じやり方で実装してみました。<br>
すなおに動いてくれて助かった・・ところで、これって推測単語辞書機能ってあるんですかね？？</p>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">MainWindow.xaml.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="n">_micClient</span> <span class="p">=</span> <span class="n">SpeechRecognitionServiceFactory</span><span class="p">.</span><span class="nf">CreateDataClient</span><span class="p">(</span><span class="n">SpeechRecognitionMode</span><span class="p">.</span><span class="n">LongDictation</span><span class="p">,</span> <span class="n">_recog_lang_set</span><span class="p">,</span> <span class="n">_keyBingSAPI1</span><span class="p">);</span>

<span class="n">_micClient</span><span class="p">.</span><span class="n">OnPartialResponseReceived</span> <span class="p">+=</span> <span class="k">this</span><span class="p">.</span><span class="n">OnPartialResponseReceivedHandler</span><span class="p">;</span>
<span class="n">_micClient</span><span class="p">.</span><span class="n">OnResponseReceived</span> <span class="p">+=</span> <span class="k">this</span><span class="p">.</span><span class="n">OnMicDictationResponseReceivedHandler</span><span class="p">;</span>
<span class="n">_micClient</span><span class="p">.</span><span class="n">OnConversationError</span> <span class="p">+=</span> <span class="k">this</span><span class="p">.</span><span class="n">OnConversationErrorHandler</span><span class="p">;</span>
<span class="n">_micClient</span><span class="p">.</span><span class="nf">SendAudioFormat</span><span class="p">(</span><span class="n">SpeechAudioFormat</span><span class="p">.</span><span class="nf">create16BitPCMFormat</span><span class="p">(</span><span class="m">16000</span><span class="p">));</span>

<span class="kt">var</span> <span class="n">recorder</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RecordModel</span><span class="p">();</span>
<span class="n">recorder</span><span class="p">.</span><span class="n">RecordDataAvailabled</span> <span class="p">+=</span> <span class="p">(</span><span class="n">sender2</span><span class="p">,</span> <span class="n">e2</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="m">0</span> <span class="p">&lt;</span> <span class="n">e2</span><span class="p">.</span><span class="n">Length</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">try</span> <span class="p">{</span>
            <span class="k">lock</span> <span class="p">(</span><span class="n">recorder</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">_micClient</span><span class="p">.</span><span class="nf">SendAudio</span><span class="p">(</span><span class="n">e2</span><span class="p">.</span><span class="n">Buffer</span><span class="p">,</span> <span class="n">e2</span><span class="p">.</span><span class="n">Length</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">InvalidOperationException</span> <span class="n">w_e4</span><span class="p">)</span> <span class="p">{</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>
<span class="n">recorder</span><span class="p">.</span><span class="nf">Start</span><span class="p">();</span>

<span class="c1">// Bing Speech API1回14秒までなので、14秒まできたら打ち切る</span>
<span class="n">timer</span> <span class="p">=</span> <span class="k">new</span> <span class="n">System</span><span class="p">.</span><span class="n">Timers</span><span class="p">.</span><span class="nf">Timer</span><span class="p">(</span><span class="m">13800</span><span class="p">);</span>
<span class="n">timer</span><span class="p">.</span><span class="nf">Start</span><span class="p">();</span>
<span class="n">timer</span><span class="p">.</span><span class="n">Elapsed</span> <span class="p">+=</span> <span class="p">(</span><span class="n">sender2</span><span class="p">,</span> <span class="n">e2</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">recorder</span><span class="p">.</span><span class="nf">Stop</span><span class="p">();</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">TaskCanceledException</span> <span class="n">w_e4</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">}</span>
<span class="p">};</span>
<span class="k">do</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">Worker</span><span class="p">.</span><span class="n">CancellationPending</span> <span class="p">||</span> <span class="n">cToken</span><span class="p">.</span><span class="n">IsCancellationRequested</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">e</span><span class="p">.</span><span class="n">Cancel</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">Thread</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="n">Convert</span><span class="p">.</span><span class="nf">ToInt32</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="nf">Round</span><span class="p">(</span><span class="n">_threadwaitsec</span><span class="p">/</span><span class="m">4</span><span class="p">)));</span>
<span class="p">}</span> <span class="k">while</span> <span class="p">(!</span><span class="n">recorder</span><span class="p">.</span><span class="n">isStoped</span><span class="p">);</span>

<span class="n">timer</span><span class="p">.</span><span class="nf">Stop</span><span class="p">();</span>
<span class="n">timer</span><span class="p">.</span><span class="nf">Dispose</span><span class="p">();</span>
</code></pre></div>
</div>

<h1>
<span id="苦労している点-bow" class="fragment"></span><a href="#%E8%8B%A6%E5%8A%B4%E3%81%97%E3%81%A6%E3%81%84%E3%82%8B%E7%82%B9-bow"><i class="fa fa-link"></i></a>苦労している点 <img alt=":bow:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/1f647.png" title=":bow:" width="20" loading="lazy">
</h1>

<h3>
<span id="音声認識apiから帰ってきた文字列を二重にならないように確定して発声させるのが難しい" class="fragment"></span><a href="#%E9%9F%B3%E5%A3%B0%E8%AA%8D%E8%AD%98api%E3%81%8B%E3%82%89%E5%B8%B0%E3%81%A3%E3%81%A6%E3%81%8D%E3%81%9F%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E4%BA%8C%E9%87%8D%E3%81%AB%E3%81%AA%E3%82%89%E3%81%AA%E3%81%84%E3%82%88%E3%81%86%E3%81%AB%E7%A2%BA%E5%AE%9A%E3%81%97%E3%81%A6%E7%99%BA%E5%A3%B0%E3%81%95%E3%81%9B%E3%82%8B%E3%81%AE%E3%81%8C%E9%9B%A3%E3%81%97%E3%81%84"><i class="fa fa-link"></i></a>音声認識APIから帰ってきた文字列を二重にならないように確定して、発声させるのが難しい</h3>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">MainWindow.xaml.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="kt">var</span> <span class="n">speechtxt</span> <span class="p">=</span> <span class="n">outtext</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="m">0</span> <span class="p">&lt;</span> <span class="n">lastspeaktext</span><span class="p">.</span><span class="n">Length</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// 前回の発言内容とスペースを除去</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">speechtxt</span> <span class="p">=</span> <span class="n">speechtxt</span><span class="p">.</span><span class="nf">Substring</span><span class="p">(</span><span class="n">lastspeaktext</span><span class="p">.</span><span class="n">Length</span><span class="p">,</span> <span class="n">speechtxt</span><span class="p">.</span><span class="n">Length</span> <span class="p">-</span> <span class="n">lastspeaktext</span><span class="p">.</span><span class="n">Length</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">w_e4</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">speechtxt</span> <span class="p">=</span> <span class="n">speechtxt</span><span class="p">.</span><span class="nf">Replace</span><span class="p">(</span><span class="n">lastspeaktext</span><span class="p">,</span> <span class="s">""</span><span class="p">);</span>
        <span class="nf">FuncWriteLogFile</span><span class="p">(</span><span class="n">w_e4</span><span class="p">.</span><span class="nf">ToString</span><span class="p">());</span>
    <span class="p">}</span>
    <span class="n">speechtxt</span> <span class="p">=</span> <span class="n">Regex</span><span class="p">.</span><span class="nf">Replace</span><span class="p">(</span><span class="n">speechtxt</span><span class="p">,</span> <span class="s">@"\s"</span><span class="p">,</span> <span class="s">""</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>認識API、言語によって認識の癖が違うのでそれぞれの最適化に苦労してます。<br>
バッファのリストを作って、直近で確定した単語は消去してしまうのが最善かも？でもそのやり方は英語認識ではうまくいっていない模様。。<br>
GoogleCloudSpeechAPIは、たまに思い出したように過去の発言を一気に出力する癖があるようです。。</p>

<h3>
<span id="googlecloudspeechapiは外国語聞き取りと日本語聞き取りで帰ってくる文字列の癖が違う" class="fragment"></span><a href="#googlecloudspeechapi%E3%81%AF%E5%A4%96%E5%9B%BD%E8%AA%9E%E8%81%9E%E3%81%8D%E5%8F%96%E3%82%8A%E3%81%A8%E6%97%A5%E6%9C%AC%E8%AA%9E%E8%81%9E%E3%81%8D%E5%8F%96%E3%82%8A%E3%81%A7%E5%B8%B0%E3%81%A3%E3%81%A6%E3%81%8F%E3%82%8B%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E7%99%96%E3%81%8C%E9%81%95%E3%81%86"><i class="fa fa-link"></i></a>GoogleCloudSpeechAPIは外国語聞き取りと日本語聞き取りで帰ってくる文字列の癖が違う</h3>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">MainWindow.xaml.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="kt">var</span> <span class="n">speechtxt</span> <span class="p">=</span> <span class="n">outtext</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="m">0.8</span> <span class="p">&lt;</span> <span class="n">note</span><span class="p">.</span><span class="n">Results</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">Stability</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="m">0</span> <span class="p">&lt;</span> <span class="n">lastspeaktext</span><span class="p">.</span><span class="n">Length</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">}</span>
    <span class="kt">var</span> <span class="n">subtext</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="m">1</span> <span class="p">&lt;</span> <span class="n">note</span><span class="p">.</span><span class="n">Results</span><span class="p">.</span><span class="n">Count</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">subtext</span> <span class="p">=</span> <span class="n">note</span><span class="p">.</span><span class="n">Results</span><span class="p">[</span><span class="m">1</span><span class="p">].</span><span class="n">Alternatives</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">Transcript</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="m">0</span> <span class="p">&lt;</span> <span class="n">subtext</span><span class="p">.</span><span class="n">Length</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">speechtxt</span> <span class="p">+=</span> <span class="n">subtext</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="c1">// 前回の発言内容を除去</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="m">10</span> <span class="p">&lt;</span> <span class="n">lstLastspeaktext</span><span class="p">.</span><span class="n">Count</span><span class="p">)</span> <span class="n">lstLastspeaktext</span><span class="p">.</span><span class="nf">Clear</span><span class="p">();</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">tmpStr</span> <span class="k">in</span> <span class="n">lstLastspeaktext</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">speechtxt</span> <span class="p">=</span> <span class="n">speechtxt</span><span class="p">.</span><span class="nf">Replace</span><span class="p">(</span><span class="n">tmpStr</span><span class="p">,</span> <span class="s">""</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">w_e4</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">FuncWriteLogFile</span><span class="p">(</span><span class="n">w_e4</span><span class="p">.</span><span class="nf">ToString</span><span class="p">());</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>1個前で述べたものなんですが、英語の認識が難しいです。特に文脈の区切り方。</p>

<h4>
<span id="英語の文脈の区切りで翻訳させる方法が" class="fragment"></span><a href="#%E8%8B%B1%E8%AA%9E%E3%81%AE%E6%96%87%E8%84%88%E3%81%AE%E5%8C%BA%E5%88%87%E3%82%8A%E3%81%A7%E7%BF%BB%E8%A8%B3%E3%81%95%E3%81%9B%E3%82%8B%E6%96%B9%E6%B3%95%E3%81%8C"><i class="fa fa-link"></i></a><em>英語の文脈の区切りで翻訳させる方法が・・</em>
</h4>

<p>文脈の区切りが分かりません。。英語はまだ最低限読めるからチューニングしようもあるけど、中国語対応の段階になったらどうすれば・・</p>

<h3>
<span id="ループバック入力での自動翻訳発声は翻訳発声を認識させないようにするのが難しい" class="fragment"></span><a href="#%E3%83%AB%E3%83%BC%E3%83%97%E3%83%90%E3%83%83%E3%82%AF%E5%85%A5%E5%8A%9B%E3%81%A7%E3%81%AE%E8%87%AA%E5%8B%95%E7%BF%BB%E8%A8%B3%E7%99%BA%E5%A3%B0%E3%81%AF%E7%BF%BB%E8%A8%B3%E7%99%BA%E5%A3%B0%E3%82%92%E8%AA%8D%E8%AD%98%E3%81%95%E3%81%9B%E3%81%AA%E3%81%84%E3%82%88%E3%81%86%E3%81%AB%E3%81%99%E3%82%8B%E3%81%AE%E3%81%8C%E9%9B%A3%E3%81%97%E3%81%84"><i class="fa fa-link"></i></a>ループバック入力での自動翻訳発声は、翻訳発声を認識させないようにするのが難しい</h3>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">MainWindow.xaml.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="c1">// ループバックの場合</span>
<span class="n">MMDevice</span> <span class="n">outdevice</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
<span class="c1">// 既定の出力をキャプチャ、出力サウンドデバイスは別の場所で別途設定</span>
<span class="n">outdevice</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MMDeviceEnumerator</span><span class="p">().</span><span class="nf">GetDefaultAudioEndpoint</span><span class="p">(</span><span class="n">DataFlow</span><span class="p">.</span><span class="n">Render</span><span class="p">,</span> <span class="n">Role</span><span class="p">.</span><span class="n">Multimedia</span><span class="p">);</span> <span class="c1">// 既定の出力</span>
<span class="n">_ms_wloop</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">WasapiLoopbackCapture</span><span class="p">(</span><span class="n">outdevice</span><span class="p">);</span>
<span class="c1">//_ms_wloop = new WasapiLoopbackCapture(new MMDeviceEnumerator().GetDevice(MainWindow.MMDoutputDevice));</span>
<span class="c1">//WaveFormat format = new WaveFormat(8000, 16, 1);</span>
<span class="c1">//_ms_writer = new WaveFileWriter(Environment.CurrentDirectory + "\\kikisen-vc.wav", format);</span>
<span class="n">_ms_wloop</span><span class="p">.</span><span class="n">DataAvailable</span> <span class="p">+=</span> <span class="n">_ms_wi_DataAvailable</span><span class="p">;</span>
<span class="n">_ms_wloop</span><span class="p">.</span><span class="n">ShareMode</span> <span class="p">=</span> <span class="n">AudioClientShareMode</span><span class="p">.</span><span class="n">Shared</span><span class="p">;</span>
<span class="n">_ms_wloop_ss</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">SpeechStreamer</span><span class="p">(</span><span class="m">100000</span><span class="p">);</span>
</code></pre></div>
</div>

<p>英語音声→翻訳して日本語発声の流れで、既定の出力サウンドデバイスをキャプチャしているので翻訳がループすることがあります。。<br>
ゲームサウンドなどのキャプチャは雑音に強いGoogleCloudSpeechAPI以外は実用的じゃないようなんであれですが、このAPIは除外文字列的なのを設定できないんですかね。。<br>
他のスピーカーとかに翻訳を出力する形など、ユーザー側に対応してもらうのは最後の手段だと思ってますが、難しいです。</p>

<h3>
<span id="ms-desktop-haruka等のスピーチエンジンは頑張ってるがやっぱり少し違和感ある読み方" class="fragment"></span><a href="#ms-desktop-haruka%E7%AD%89%E3%81%AE%E3%82%B9%E3%83%94%E3%83%BC%E3%83%81%E3%82%A8%E3%83%B3%E3%82%B8%E3%83%B3%E3%81%AF%E9%A0%91%E5%BC%B5%E3%81%A3%E3%81%A6%E3%82%8B%E3%81%8C%E3%82%84%E3%81%A3%E3%81%B1%E3%82%8A%E5%B0%91%E3%81%97%E9%81%95%E5%92%8C%E6%84%9F%E3%81%82%E3%82%8B%E8%AA%AD%E3%81%BF%E6%96%B9"><i class="fa fa-link"></i></a>MS Desktop Haruka等のスピーチエンジンは、頑張ってるがやっぱり少し違和感ある読み方</h3>

<p>「エンジン音」「ヘリコプターの音」などは「おん」「おと」で読み分けて欲しいんですが、「おん」で統一されてしまう。<br>
無料で利用させて貰ってるエンジンなんで仕方ないと思いますが、、オマケなんでWindowsのメジャーバージョンアップ以外の機会での改善はされないんでしょうね。。</p>

<h3>
<span id="翻訳apiが有料のものしかない" class="fragment"></span><a href="#%E7%BF%BB%E8%A8%B3api%E3%81%8C%E6%9C%89%E6%96%99%E3%81%AE%E3%82%82%E3%81%AE%E3%81%97%E3%81%8B%E3%81%AA%E3%81%84"><i class="fa fa-link"></i></a>翻訳APIが有料のものしかない！</h3>

<p>ひと通り調べてみましたが、無料のものってないみたいですね。。<br>
エキサイト翻訳とか老舗のところは提供してないんでしょうか。<br>
会話キャプチャでは、翻訳APIの呼び出し回数がスゴいんで、まっとうなやり方でないとBANされそうです。。</p>

<h3>
<span id="uwpでしか使えないichiroayumiを使いたい" class="fragment"></span><a href="#uwp%E3%81%A7%E3%81%97%E3%81%8B%E4%BD%BF%E3%81%88%E3%81%AA%E3%81%84ichiroayumi%E3%82%92%E4%BD%BF%E3%81%84%E3%81%9F%E3%81%84"><i class="fa fa-link"></i></a>UWPでしか使えない「ichiro」「ayumi」を使いたい</h3>

<p>今回WPFで作りましたが、UWPアプリだと発声機能にこいつらが使えるみたいですね。<br>
軽く調べてみた感じ、UWPって音声入出力デバイスの指定周りが難しいみたいなんですがどうなんでしょう？</p>

<hr>

<h1>
<span id="参考記事-thumbsup" class="fragment"></span><a href="#%E5%8F%82%E8%80%83%E8%A8%98%E4%BA%8B-thumbsup"><i class="fa fa-link"></i></a>参考記事 <img alt=":thumbsup:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/1f44d.png" title=":thumbsup:" width="20" loading="lazy">
</h1>

<p>書ききれないほどあるんですが、特に参考にさせて頂いた記事を紹介させて頂きます。</p>

<ul>
<li>音声認識API系

<ul>
<li><a href="http://kmycode.hatenablog.jp/entry/2017/04/09/120203" rel="nofollow noopener" target="_blank">Google Cloud Speech APIでストリーミング音声認識してみる</a></li>
<li><a href="https://kiyo.space/memo-google-cloud-speech-api-csharp-streaming-grpc/" rel="nofollow noopener" target="_blank">Google Cloud Speech APIを使って.NET C#でStreamingしたときのメモ</a></li>
<li><a href="http://qiita.com/exliko/items/2fff77ddd3091469cb2b">C#での音声認識は、手軽く、精度もそこそこに、既存のマイクで行うことが出来る(霊的な引用を、あなたの心に届けよう)。</a></li>
<li><a href="http://d.hatena.ne.jp/rti7743/20111215/1323965483" rel="nofollow noopener" target="_blank">C# で日本語合成音声・音声認識をやってみよう</a></li>
<li><a href="http://neareal.com/2262/" rel="nofollow noopener" target="_blank">System.Speech でディクテーション(音声を文字列)にする</a></li>
</ul>
</li>
</ul>

<hr>

<ul>
<li>音声キャプチャ系

<ul>
<li><a href="http://blog.ume108.mobi/?p=1453" rel="nofollow noopener" target="_blank">NAudio ライブラリでオーディオを再生する（４）</a></li>
<li><a href="http://www.blakepell.com/2013-07-26-naudio-loopback-record-what-you-hear-through-the-speaker" rel="nofollow noopener" target="_blank">NAudio Loopback Record (record what you hear through the speaker)</a></li>
<li><a href="https://github.com/naudio/NAudio/issues/174" rel="nofollow noopener" target="_blank">WaveFormat cannot be set for WASAPI Loopback Capture </a></li>
<li><a href="http://markheath.net/post/fully-managed-input-driven-resampling-wdl" rel="nofollow noopener" target="_blank">Fully Managed Input Driven Resampling with NAudio in C#</a></li>
</ul>
</li>
</ul>

<hr>

<ul>
<li>翻訳API系

<ul>
<li><a href="http://qiita.com/kemayako/items/21fe36005e6e729aff77" id="reference-8343950abe20c8920689">Microsoft Translator APIを使ってみる</a></li>
<li><a href="https://stackoverflow.com/questions/2246017/using-google-translate-in-c-sharp" rel="nofollow noopener" target="_blank">Using Google Translate in C#</a></li>
</ul>
</li>
</ul>

<h1>
<span id="最後に-pray" class="fragment"></span><a href="#%E6%9C%80%E5%BE%8C%E3%81%AB-pray"><i class="fa fa-link"></i></a>最後に <img alt=":pray:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/1f64f.png" title=":pray:" width="20" loading="lazy">
</h1>

<p>コンセプト賛同者募集中です。。<br>
自分で実際にゲームに使いながらブラッシュアップしていきたいと思ってますが、生暖かい目で見られてる気がします。。（発声機能）</p>

<p>英語の翻訳聞き取りについても同様にゲームで使いながら進めていきますが、まずは翻訳周りになにか思い付き（ひらめき）がないと進まないかと思ってます。</p>

<p><del>出来るだけ無料で使えるものにしたいので、IntelRealsenseなどの取り込みのほうが先かな・・</del><br>
<del>どうやらIntelRealsenseSDKは有償配布になったようで、普通の方法ではDLできないみたいです。</del><br>
代わりにBingSpeechAPIを実装してみました。こっちのほうがクレカ登録とかない分、気軽に試せるかも。でも認識精度はGCSに比べるといまいちですね。。</p>

<p>Intel Realsenseは配布が再開されたようなので追加対応してみました。<br>
ただ、本当に情報が少ないですね・・単語辞書の対応ができてないです。ボキャブラリ用のファイルを追加すると謎のエラーが発生するようです。。情報がほしいです・・<br>
あと発声エンジンとしてOpenJTalkに対応してみました。コマンドラインでwav書き出しさせて、wav再生するだけの無理やりな実装ですが・・htsvoiceが結構活発に公開されてるようなので音声合成に幅がでました。ひどくはないですが遅延はありますが、、wav書き出しさせないで実現する方法も探る必要ありそうです。<br>
興味がある方はソースを見てみて下さい。</p>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2Fzufall%2Fitems%2F2e027a2bc996864fe4af&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2Fzufall%2Fitems%2F2e027a2bc996864fe4af&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/zufall/items/2e027a2bc996864fe4af/likers" class="css-1iupg5d">24</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">23</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/2e027a2bc996864fe4af/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/zufall/items/2e027a2bc996864fe4af/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/zufall/items/2e027a2bc996864fe4af/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/zufall/items/2e027a2bc996864fe4af/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/zufall/items/2e027a2bc996864fe4af.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-4b8a1409-b691-4bce-94a0-9778de01ccb7">{"authorAnalyticsTrackingId":"UA-68029426-4","organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-0528b665-d1a1-4097-9241-220c4b4d90b9"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-0528b665-d1a1-4097-9241-220c4b4d90b9">{}</script>
      
<div id="LoginModal-react-component-e258fddf-f16c-495e-83f1-3ddab80906e6"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-e258fddf-f16c-495e-83f1-3ddab80906e6">{}</script>
      
<div id="StockModal-react-component-9134232c-2df4-4d46-b004-42f870ba1263"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-9134232c-2df4-4d46-b004-42f870ba1263">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;SetBBrMx6myn6HsQ5K/85V+uI5HiB/wSJIUm1NmGyhF1XzTMDPtfre/SbZsGIlHH0tX189at20M2+PfR1F6Law==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\n\u003ch1\u003e\n\u003cspan id=\"概要-point_down\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%A6%82%E8%A6%81-point_down\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e概要 \u003cimg alt=\":point_down:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f447.png\" title=\":point_down:\" width=\"20\" loading=\"lazy\"\u003e\n\u003c/h1\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/zufall-upon/kikisen-vc\" rel=\"nofollow noopener\" target=\"_blank\"\u003eGitHub - Kikisen-VC (音声認識・音声合成・翻訳・擬似VCツール)\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003e音声認識・音声合成・翻訳・擬似VC用のツールをGitHubで公開してみました。\u003cbr\u003e\n各所のサンプルをつまみ食いで参考にさせて頂いて組み立てた拙いソースですが、この分野に興味のある方の参考になれば幸いです。\u003c/p\u003e\n\n\u003ch5\u003e\n\u003cspan id=\"20170620-該当ソースを添付して更新しました\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#20170620-%E8%A9%B2%E5%BD%93%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%92%E6%B7%BB%E4%BB%98%E3%81%97%E3%81%A6%E6%9B%B4%E6%96%B0%E3%81%97%E3%81%BE%E3%81%97%E3%81%9F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2017.06.20 該当ソースを添付して更新しました。\u003c/h5\u003e\n\n\u003ch5\u003e\n\u003cspan id=\"20170624-bingspeechapiに関する記述を追加しました\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#20170624-bingspeechapi%E3%81%AB%E9%96%A2%E3%81%99%E3%82%8B%E8%A8%98%E8%BF%B0%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%97%E3%81%BE%E3%81%97%E3%81%9F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2017.06.24 BingSpeechAPIに関する記述を追加しました。\u003c/h5\u003e\n\n\u003ch5\u003e\n\u003cspan id=\"20171105-intel-realsenseとopenjtalkに対応してみました\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#20171105-intel-realsense%E3%81%A8openjtalk%E3%81%AB%E5%AF%BE%E5%BF%9C%E3%81%97%E3%81%A6%E3%81%BF%E3%81%BE%E3%81%97%E3%81%9F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2017.11.05 Intel RealsenseとOpenJTalkに対応してみました。\u003c/h5\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"苦労した点-frowning2\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%8B%A6%E5%8A%B4%E3%81%97%E3%81%9F%E7%82%B9-frowning2\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e苦労した点 \u003cimg alt=\":frowning2:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/2639.png\" title=\":frowning2:\" width=\"20\" loading=\"lazy\"\u003e\n\u003c/h1\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"googlecloudspeechapiのレスポンスが遅い\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#googlecloudspeechapi%E3%81%AE%E3%83%AC%E3%82%B9%E3%83%9D%E3%83%B3%E3%82%B9%E3%81%8C%E9%81%85%E3%81%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGoogleCloudSpeechAPIのレスポンスが遅い！\u003c/h3\u003e\n\n\u003cp\u003e「Uターン」、や「T字路」「okです」等、アルファベットを含む単語の認識がやたら遅かったので苦労しました。。\u003c/p\u003e\n\n\u003ch5\u003e\n\u003cspan id=\"認識精度も返ってきてるのに気づくのが遅れた\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%AA%8D%E8%AD%98%E7%B2%BE%E5%BA%A6%E3%82%82%E8%BF%94%E3%81%A3%E3%81%A6%E3%81%8D%E3%81%A6%E3%82%8B%E3%81%AE%E3%81%AB%E6%B0%97%E3%81%A5%E3%81%8F%E3%81%AE%E3%81%8C%E9%81%85%E3%82%8C%E3%81%9F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cem\u003e認識精度も返ってきてるのに気づくのが遅れた・・\u003c/em\u003e\n\u003c/h5\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eMainWindow.xaml.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e// アルファベット混じりだと発声が遅れるので処置する\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ebContainAlpha\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// 信頼度がある程度以上ならば区切りと判断\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e0.8\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003enote\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eResults\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eStability\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003esubtext\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003enote\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eResults\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCount\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003esubtext\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003enote\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eResults\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eAlternatives\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eTranscript\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003esubtext\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003esubtext\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eRegex\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eReplace\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esubtext\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e@\"\\s\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003espeechtxt\u003c/span\u003e \u003cspan class=\"p\"\u003e+=\u003c/span\u003e \u003cspan class=\"n\"\u003esubtext\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eDispatcher\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eBeginInvoke\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"n\"\u003eAction\u003c/span\u003e\u003cspan class=\"p\"\u003e)(()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eFuncVoicePlay\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecmbOutputDevice\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eItems\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eIndexOf\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003e_OutputDevice\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"n\"\u003espeechtxt\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003e_SpeechAPI\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003e_say_msVolume\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003e_say_msPitch\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003e_say_msEmphasis\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003e_say_msRate\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003e_sayPitch\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003e_saySpeed\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003e_sayVolume\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003e_sayEmotion\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}));\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e認識精度と推測単語がオブジェクトに含まれているのに結構最近まで気付かず、アルファベットを含んだ認識の場合はこっちを参照することで解決しています。これでレスポンスも上々！\u003c/p\u003e\n\n\u003ch5\u003e\n\u003cspan id=\"バグってましたここexpressionless\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%90%E3%82%B0%E3%81%A3%E3%81%A6%E3%81%BE%E3%81%97%E3%81%9F%E3%81%93%E3%81%93expressionless\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e→バグってましたここ\u003cimg alt=\":expressionless:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f611.png\" title=\":expressionless:\" width=\"20\" loading=\"lazy\"\u003e\n\u003c/h5\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eMainWindow.xaml.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e    \u003cspan class=\"c1\"\u003e// 信頼度がある程度以上ならば区切りと判断\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e0.8\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003enote\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eResults\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eStability\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eこれ、Stabilityはfloat型で返ってくるんでこの比較式じゃダメなんですよ・・\u003cbr\u003e\nとりあえず動くようにはしましたが正しい修正方法は調べ中。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"ループバック音声入力のサンプリングレートが特殊\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AB%E3%83%BC%E3%83%97%E3%83%90%E3%83%83%E3%82%AF%E9%9F%B3%E5%A3%B0%E5%85%A5%E5%8A%9B%E3%81%AE%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AA%E3%83%B3%E3%82%B0%E3%83%AC%E3%83%BC%E3%83%88%E3%81%8C%E7%89%B9%E6%AE%8A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eループバック音声入力のサンプリングレートが特殊！\u003c/h3\u003e\n\n\u003cp\u003eループバックにはWasapiLoopbackCaptureを使ってるんですが、こいつが返してくるサウンドのサンプリングレートが特殊で、\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003eformatChannels       : 2\u003cbr\u003e\nSample Rate    : 44100\u003cbr\u003e\nPrecision      : 25-bit\u003cbr\u003e\nSample Encoding: 32-bit Floating Point PCM\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003eみたいなものを音声認識APIが扱える形式にリサンプリングする必要がありました。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eMainWindow.xaml.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003ebyte\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"nf\"\u003eConvert16\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003ebyte\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003einput\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003elength\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eWaveFormat\u003c/span\u003e \u003cspan class=\"n\"\u003eformat\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elength\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"kt\"\u003ebyte\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003ememStream\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eMemoryStream\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einput\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003elength\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003einputStream\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eRawSourceWaveStream\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ememStream\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eformat\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003esampleStream\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eNAudio\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eWave\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSampleProviders\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWaveToSampleProvider\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einputStream\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003eresamplingProvider\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eNAudio\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eWave\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSampleProviders\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWdlResamplingSampleProvider\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esampleStream\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eresampler\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e16000\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003eieeeToPCM\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eNAudio\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eWave\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSampleProviders\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSampleToWaveProvider16\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eresamplingProvider\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003esampleStreams\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eNAudio\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eWave\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eStereoToMonoProvider16\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eieeeToPCM\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003esampleStreams\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eRightVolume\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.5f\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003esampleStreams\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLeftVolume\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.5f\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nf\"\u003ereadStream\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esampleStreams\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003elength\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003ebyte\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"nf\"\u003ereadStream\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eIWaveProvider\u003c/span\u003e \u003cspan class=\"n\"\u003ewaveStream\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003elength\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003ebyte\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003ebuffer\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"kt\"\u003ebyte\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003elength\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003estream\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eMemoryStream\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eread\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ewhile\u003c/span\u003e \u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"n\"\u003eread\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ewaveStream\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eRead\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ebuffer\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003elength\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003estream\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWrite\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ebuffer\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eread\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003estream\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToArray\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// 匿名デリゲートだとエラーが出るので外だし\u003c/span\u003e\n\u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003e_ms_wi_DataAvailable\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eobject\u003c/span\u003e \u003cspan class=\"n\"\u003esender\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eWaveInEventArgs\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003etry\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003e_ms_wloop\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003ebyte\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003eoutput\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003eConvert16\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eBuffer\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eBytesRecorded\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003e_ms_wloop\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eWaveFormat\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003e_ms_wloop_ss\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLoop\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eoutput\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eoutput\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch5\u003e\n\u003cspan id=\"フフフフフとか返ってきて夜中怖い\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%95%E3%83%95%E3%83%95%E3%83%95%E3%83%95%E3%81%A8%E3%81%8B%E8%BF%94%E3%81%A3%E3%81%A6%E3%81%8D%E3%81%A6%E5%A4%9C%E4%B8%AD%E6%80%96%E3%81%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cem\u003e「フフフフフ」とか返ってきて夜中怖い！\u003c/em\u003e\n\u003c/h5\u003e\n\n\u003cp\u003eサンプリングレートが違うものを音声認識APIに渡すと、「FFFFFFFF」などとして認識されるようです。\u003cbr\u003e\n夜中にコーディングしててテスト中に「ふふふふふふふ」と認識文字列が表示されて無駄に怖い思いをしました。。\u003cbr\u003e\n参考記事を参照してリサンプリングに成功し、なんとかループバック音声認識の疎通に成功したときは嬉しかったです！\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"bingspeechapiを実装しました\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#bingspeechapi%E3%82%92%E5%AE%9F%E8%A3%85%E3%81%97%E3%81%BE%E3%81%97%E3%81%9F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eBingSpeechAPIを実装しました\u003c/h3\u003e\n\n\u003cp\u003e苦労した点は情報が少ないこと！stackoverflowにもほぼリアルタイムでの音声認識に関する情報がなく・・\u003cbr\u003e\nでも1記事あったのでそれをヒントにしてGoogleCloudSpeechAPIと同じやり方で実装してみました。\u003cbr\u003e\nすなおに動いてくれて助かった・・ところで、これって推測単語辞書機能ってあるんですかね？？\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eMainWindow.xaml.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"n\"\u003e_micClient\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eSpeechRecognitionServiceFactory\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCreateDataClient\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eSpeechRecognitionMode\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLongDictation\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003e_recog_lang_set\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003e_keyBingSAPI1\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003e_micClient\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eOnPartialResponseReceived\u003c/span\u003e \u003cspan class=\"p\"\u003e+=\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eOnPartialResponseReceivedHandler\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"n\"\u003e_micClient\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eOnResponseReceived\u003c/span\u003e \u003cspan class=\"p\"\u003e+=\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eOnMicDictationResponseReceivedHandler\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"n\"\u003e_micClient\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eOnConversationError\u003c/span\u003e \u003cspan class=\"p\"\u003e+=\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eOnConversationErrorHandler\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"n\"\u003e_micClient\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSendAudioFormat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eSpeechAudioFormat\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ecreate16BitPCMFormat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e16000\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n\n\u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003erecorder\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eRecordModel\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"n\"\u003erecorder\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eRecordDataAvailabled\u003c/span\u003e \u003cspan class=\"p\"\u003e+=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esender2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ee2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003ee2\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003etry\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003elock\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003erecorder\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003e_micClient\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSendAudio\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ee2\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eBuffer\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ee2\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003ecatch\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eInvalidOperationException\u003c/span\u003e \u003cspan class=\"n\"\u003ew_e4\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\u003cspan class=\"n\"\u003erecorder\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eStart\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// Bing Speech API1回14秒までなので、14秒まできたら打ち切る\u003c/span\u003e\n\u003cspan class=\"n\"\u003etimer\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eSystem\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTimers\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eTimer\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e13800\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"n\"\u003etimer\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eStart\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"n\"\u003etimer\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eElapsed\u003c/span\u003e \u003cspan class=\"p\"\u003e+=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esender2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ee2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003etry\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003erecorder\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eStop\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003ecatch\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eTaskCanceledException\u003c/span\u003e \u003cspan class=\"n\"\u003ew_e4\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\u003cspan class=\"k\"\u003edo\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eWorker\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCancellationPending\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"n\"\u003ecToken\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eIsCancellationRequested\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCancel\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ebreak\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eThread\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSleep\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eConvert\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToInt32\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eRound\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003e_threadwaitsec\u003c/span\u003e\u003cspan class=\"p\"\u003e/\u003c/span\u003e\u003cspan class=\"m\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e)));\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003ewhile\u003c/span\u003e \u003cspan class=\"p\"\u003e(!\u003c/span\u003e\u003cspan class=\"n\"\u003erecorder\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eisStoped\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003etimer\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eStop\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"n\"\u003etimer\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eDispose\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"苦労している点-bow\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%8B%A6%E5%8A%B4%E3%81%97%E3%81%A6%E3%81%84%E3%82%8B%E7%82%B9-bow\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e苦労している点 \u003cimg alt=\":bow:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f647.png\" title=\":bow:\" width=\"20\" loading=\"lazy\"\u003e\n\u003c/h1\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"音声認識apiから帰ってきた文字列を二重にならないように確定して発声させるのが難しい\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%9F%B3%E5%A3%B0%E8%AA%8D%E8%AD%98api%E3%81%8B%E3%82%89%E5%B8%B0%E3%81%A3%E3%81%A6%E3%81%8D%E3%81%9F%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E4%BA%8C%E9%87%8D%E3%81%AB%E3%81%AA%E3%82%89%E3%81%AA%E3%81%84%E3%82%88%E3%81%86%E3%81%AB%E7%A2%BA%E5%AE%9A%E3%81%97%E3%81%A6%E7%99%BA%E5%A3%B0%E3%81%95%E3%81%9B%E3%82%8B%E3%81%AE%E3%81%8C%E9%9B%A3%E3%81%97%E3%81%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e音声認識APIから帰ってきた文字列を二重にならないように確定して、発声させるのが難しい\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eMainWindow.xaml.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003espeechtxt\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eouttext\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003elastspeaktext\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// 前回の発言内容とスペースを除去\u003c/span\u003e\n    \u003cspan class=\"k\"\u003etry\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003espeechtxt\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003espeechtxt\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSubstring\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elastspeaktext\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003espeechtxt\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003elastspeaktext\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003ecatch\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eException\u003c/span\u003e \u003cspan class=\"n\"\u003ew_e4\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003espeechtxt\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003espeechtxt\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eReplace\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elastspeaktext\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"nf\"\u003eFuncWriteLogFile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ew_e4\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToString\u003c/span\u003e\u003cspan class=\"p\"\u003e());\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"n\"\u003espeechtxt\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eRegex\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eReplace\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003espeechtxt\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e@\"\\s\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e認識API、言語によって認識の癖が違うのでそれぞれの最適化に苦労してます。\u003cbr\u003e\nバッファのリストを作って、直近で確定した単語は消去してしまうのが最善かも？でもそのやり方は英語認識ではうまくいっていない模様。。\u003cbr\u003e\nGoogleCloudSpeechAPIは、たまに思い出したように過去の発言を一気に出力する癖があるようです。。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"googlecloudspeechapiは外国語聞き取りと日本語聞き取りで帰ってくる文字列の癖が違う\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#googlecloudspeechapi%E3%81%AF%E5%A4%96%E5%9B%BD%E8%AA%9E%E8%81%9E%E3%81%8D%E5%8F%96%E3%82%8A%E3%81%A8%E6%97%A5%E6%9C%AC%E8%AA%9E%E8%81%9E%E3%81%8D%E5%8F%96%E3%82%8A%E3%81%A7%E5%B8%B0%E3%81%A3%E3%81%A6%E3%81%8F%E3%82%8B%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E7%99%96%E3%81%8C%E9%81%95%E3%81%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGoogleCloudSpeechAPIは外国語聞き取りと日本語聞き取りで帰ってくる文字列の癖が違う\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eMainWindow.xaml.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003espeechtxt\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eouttext\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e0.8\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003enote\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eResults\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eStability\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003elastspeaktext\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003esubtext\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003enote\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eResults\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCount\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003esubtext\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003enote\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eResults\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eAlternatives\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eTranscript\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003esubtext\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003espeechtxt\u003c/span\u003e \u003cspan class=\"p\"\u003e+=\u003c/span\u003e \u003cspan class=\"n\"\u003esubtext\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// 前回の発言内容を除去\u003c/span\u003e\n    \u003cspan class=\"k\"\u003etry\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e10\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003elstLastspeaktext\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCount\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"n\"\u003elstLastspeaktext\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eClear\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eforeach\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003etmpStr\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003elstLastspeaktext\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003espeechtxt\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003espeechtxt\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eReplace\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etmpStr\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003ecatch\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eException\u003c/span\u003e \u003cspan class=\"n\"\u003ew_e4\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"nf\"\u003eFuncWriteLogFile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ew_e4\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToString\u003c/span\u003e\u003cspan class=\"p\"\u003e());\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e1個前で述べたものなんですが、英語の認識が難しいです。特に文脈の区切り方。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"英語の文脈の区切りで翻訳させる方法が\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%8B%B1%E8%AA%9E%E3%81%AE%E6%96%87%E8%84%88%E3%81%AE%E5%8C%BA%E5%88%87%E3%82%8A%E3%81%A7%E7%BF%BB%E8%A8%B3%E3%81%95%E3%81%9B%E3%82%8B%E6%96%B9%E6%B3%95%E3%81%8C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cem\u003e英語の文脈の区切りで翻訳させる方法が・・\u003c/em\u003e\n\u003c/h4\u003e\n\n\u003cp\u003e文脈の区切りが分かりません。。英語はまだ最低限読めるからチューニングしようもあるけど、中国語対応の段階になったらどうすれば・・\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"ループバック入力での自動翻訳発声は翻訳発声を認識させないようにするのが難しい\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AB%E3%83%BC%E3%83%97%E3%83%90%E3%83%83%E3%82%AF%E5%85%A5%E5%8A%9B%E3%81%A7%E3%81%AE%E8%87%AA%E5%8B%95%E7%BF%BB%E8%A8%B3%E7%99%BA%E5%A3%B0%E3%81%AF%E7%BF%BB%E8%A8%B3%E7%99%BA%E5%A3%B0%E3%82%92%E8%AA%8D%E8%AD%98%E3%81%95%E3%81%9B%E3%81%AA%E3%81%84%E3%82%88%E3%81%86%E3%81%AB%E3%81%99%E3%82%8B%E3%81%AE%E3%81%8C%E9%9B%A3%E3%81%97%E3%81%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eループバック入力での自動翻訳発声は、翻訳発声を認識させないようにするのが難しい\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eMainWindow.xaml.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e// ループバックの場合\u003c/span\u003e\n\u003cspan class=\"n\"\u003eMMDevice\u003c/span\u003e \u003cspan class=\"n\"\u003eoutdevice\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// 既定の出力をキャプチャ、出力サウンドデバイスは別の場所で別途設定\u003c/span\u003e\n\u003cspan class=\"n\"\u003eoutdevice\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eMMDeviceEnumerator\u003c/span\u003e\u003cspan class=\"p\"\u003e().\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetDefaultAudioEndpoint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eDataFlow\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eRender\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eRole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eMultimedia\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 既定の出力\u003c/span\u003e\n\u003cspan class=\"n\"\u003e_ms_wloop\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eWasapiLoopbackCapture\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eoutdevice\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e//_ms_wloop = new WasapiLoopbackCapture(new MMDeviceEnumerator().GetDevice(MainWindow.MMDoutputDevice));\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e//WaveFormat format = new WaveFormat(8000, 16, 1);\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e//_ms_writer = new WaveFileWriter(Environment.CurrentDirectory + \"\\\\kikisen-vc.wav\", format);\u003c/span\u003e\n\u003cspan class=\"n\"\u003e_ms_wloop\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDataAvailable\u003c/span\u003e \u003cspan class=\"p\"\u003e+=\u003c/span\u003e \u003cspan class=\"n\"\u003e_ms_wi_DataAvailable\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"n\"\u003e_ms_wloop\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eShareMode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAudioClientShareMode\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eShared\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"n\"\u003e_ms_wloop_ss\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eSpeechStreamer\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e100000\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e英語音声→翻訳して日本語発声の流れで、既定の出力サウンドデバイスをキャプチャしているので翻訳がループすることがあります。。\u003cbr\u003e\nゲームサウンドなどのキャプチャは雑音に強いGoogleCloudSpeechAPI以外は実用的じゃないようなんであれですが、このAPIは除外文字列的なのを設定できないんですかね。。\u003cbr\u003e\n他のスピーカーとかに翻訳を出力する形など、ユーザー側に対応してもらうのは最後の手段だと思ってますが、難しいです。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"ms-desktop-haruka等のスピーチエンジンは頑張ってるがやっぱり少し違和感ある読み方\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#ms-desktop-haruka%E7%AD%89%E3%81%AE%E3%82%B9%E3%83%94%E3%83%BC%E3%83%81%E3%82%A8%E3%83%B3%E3%82%B8%E3%83%B3%E3%81%AF%E9%A0%91%E5%BC%B5%E3%81%A3%E3%81%A6%E3%82%8B%E3%81%8C%E3%82%84%E3%81%A3%E3%81%B1%E3%82%8A%E5%B0%91%E3%81%97%E9%81%95%E5%92%8C%E6%84%9F%E3%81%82%E3%82%8B%E8%AA%AD%E3%81%BF%E6%96%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eMS Desktop Haruka等のスピーチエンジンは、頑張ってるがやっぱり少し違和感ある読み方\u003c/h3\u003e\n\n\u003cp\u003e「エンジン音」「ヘリコプターの音」などは「おん」「おと」で読み分けて欲しいんですが、「おん」で統一されてしまう。\u003cbr\u003e\n無料で利用させて貰ってるエンジンなんで仕方ないと思いますが、、オマケなんでWindowsのメジャーバージョンアップ以外の機会での改善はされないんでしょうね。。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"翻訳apiが有料のものしかない\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%BF%BB%E8%A8%B3api%E3%81%8C%E6%9C%89%E6%96%99%E3%81%AE%E3%82%82%E3%81%AE%E3%81%97%E3%81%8B%E3%81%AA%E3%81%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e翻訳APIが有料のものしかない！\u003c/h3\u003e\n\n\u003cp\u003eひと通り調べてみましたが、無料のものってないみたいですね。。\u003cbr\u003e\nエキサイト翻訳とか老舗のところは提供してないんでしょうか。\u003cbr\u003e\n会話キャプチャでは、翻訳APIの呼び出し回数がスゴいんで、まっとうなやり方でないとBANされそうです。。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"uwpでしか使えないichiroayumiを使いたい\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#uwp%E3%81%A7%E3%81%97%E3%81%8B%E4%BD%BF%E3%81%88%E3%81%AA%E3%81%84ichiroayumi%E3%82%92%E4%BD%BF%E3%81%84%E3%81%9F%E3%81%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eUWPでしか使えない「ichiro」「ayumi」を使いたい\u003c/h3\u003e\n\n\u003cp\u003e今回WPFで作りましたが、UWPアプリだと発声機能にこいつらが使えるみたいですね。\u003cbr\u003e\n軽く調べてみた感じ、UWPって音声入出力デバイスの指定周りが難しいみたいなんですがどうなんでしょう？\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"参考記事-thumbsup\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83%E8%A8%98%E4%BA%8B-thumbsup\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考記事 \u003cimg alt=\":thumbsup:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f44d.png\" title=\":thumbsup:\" width=\"20\" loading=\"lazy\"\u003e\n\u003c/h1\u003e\n\n\u003cp\u003e書ききれないほどあるんですが、特に参考にさせて頂いた記事を紹介させて頂きます。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e音声認識API系\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"http://kmycode.hatenablog.jp/entry/2017/04/09/120203\" rel=\"nofollow noopener\" target=\"_blank\"\u003eGoogle Cloud Speech APIでストリーミング音声認識してみる\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://kiyo.space/memo-google-cloud-speech-api-csharp-streaming-grpc/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eGoogle Cloud Speech APIを使って.NET C#でStreamingしたときのメモ\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"http://qiita.com/exliko/items/2fff77ddd3091469cb2b\"\u003eC#での音声認識は、手軽く、精度もそこそこに、既存のマイクで行うことが出来る(霊的な引用を、あなたの心に届けよう)。\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"http://d.hatena.ne.jp/rti7743/20111215/1323965483\" rel=\"nofollow noopener\" target=\"_blank\"\u003eC# で日本語合成音声・音声認識をやってみよう\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"http://neareal.com/2262/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eSystem.Speech でディクテーション(音声を文字列)にする\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003chr\u003e\n\n\u003cul\u003e\n\u003cli\u003e音声キャプチャ系\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"http://blog.ume108.mobi/?p=1453\" rel=\"nofollow noopener\" target=\"_blank\"\u003eNAudio ライブラリでオーディオを再生する（４）\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"http://www.blakepell.com/2013-07-26-naudio-loopback-record-what-you-hear-through-the-speaker\" rel=\"nofollow noopener\" target=\"_blank\"\u003eNAudio Loopback Record (record what you hear through the speaker)\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/naudio/NAudio/issues/174\" rel=\"nofollow noopener\" target=\"_blank\"\u003eWaveFormat cannot be set for WASAPI Loopback Capture \u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"http://markheath.net/post/fully-managed-input-driven-resampling-wdl\" rel=\"nofollow noopener\" target=\"_blank\"\u003eFully Managed Input Driven Resampling with NAudio in C#\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003chr\u003e\n\n\u003cul\u003e\n\u003cli\u003e翻訳API系\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"http://qiita.com/kemayako/items/21fe36005e6e729aff77\" id=\"reference-8343950abe20c8920689\"\u003eMicrosoft Translator APIを使ってみる\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://stackoverflow.com/questions/2246017/using-google-translate-in-c-sharp\" rel=\"nofollow noopener\" target=\"_blank\"\u003eUsing Google Translate in C#\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"最後に-pray\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB-pray\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e最後に \u003cimg alt=\":pray:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f64f.png\" title=\":pray:\" width=\"20\" loading=\"lazy\"\u003e\n\u003c/h1\u003e\n\n\u003cp\u003eコンセプト賛同者募集中です。。\u003cbr\u003e\n自分で実際にゲームに使いながらブラッシュアップしていきたいと思ってますが、生暖かい目で見られてる気がします。。（発声機能）\u003c/p\u003e\n\n\u003cp\u003e英語の翻訳聞き取りについても同様にゲームで使いながら進めていきますが、まずは翻訳周りになにか思い付き（ひらめき）がないと進まないかと思ってます。\u003c/p\u003e\n\n\u003cp\u003e\u003cdel\u003e出来るだけ無料で使えるものにしたいので、IntelRealsenseなどの取り込みのほうが先かな・・\u003c/del\u003e\u003cbr\u003e\n\u003cdel\u003eどうやらIntelRealsenseSDKは有償配布になったようで、普通の方法ではDLできないみたいです。\u003c/del\u003e\u003cbr\u003e\n代わりにBingSpeechAPIを実装してみました。こっちのほうがクレカ登録とかない分、気軽に試せるかも。でも認識精度はGCSに比べるといまいちですね。。\u003c/p\u003e\n\n\u003cp\u003eIntel Realsenseは配布が再開されたようなので追加対応してみました。\u003cbr\u003e\nただ、本当に情報が少ないですね・・単語辞書の対応ができてないです。ボキャブラリ用のファイルを追加すると謎のエラーが発生するようです。。情報がほしいです・・\u003cbr\u003e\nあと発声エンジンとしてOpenJTalkに対応してみました。コマンドラインでwav書き出しさせて、wav再生するだけの無理やりな実装ですが・・htsvoiceが結構活発に公開されてるようなので音声合成に幅がでました。ひどくはないですが遅延はありますが、、wav書き出しさせないで実現する方法も探る必要ありそうです。\u003cbr\u003e\n興味がある方はソースを見てみて下さい。\u003c/p\u003e\n","createdAt":"2017-06-19T10:35:27Z","elapsedYearsFromLastModifiedAt":3,"encryptedId":"aUhfo5FVWhEGW4HSWaQAUcrGSZ4+GwJj--Qll4mneQQKbov90s--6TzsN/hp8ZSEupd5Ys1dPA==","isBanned":false,"isDeprecated":true,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2017-11-06T01:55:15Z","likesCount":24,"linkUrl":"https://qiita.com/zufall/items/2e027a2bc996864fe4af","organization":null,"originalId":502491,"stockedCount":23,"title":"音声認識・合成音声・自動翻訳プログラムをC#で作ってGitHubでソース公開してみました","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%A6%82%E8%A6%81-point_down\"\u003e概要 :point_down:\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#20170620-%E8%A9%B2%E5%BD%93%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%92%E6%B7%BB%E4%BB%98%E3%81%97%E3%81%A6%E6%9B%B4%E6%96%B0%E3%81%97%E3%81%BE%E3%81%97%E3%81%9F\"\u003e2017.06.20 該当ソースを添付して更新しました。\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#20170624-bingspeechapi%E3%81%AB%E9%96%A2%E3%81%99%E3%82%8B%E8%A8%98%E8%BF%B0%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%97%E3%81%BE%E3%81%97%E3%81%9F\"\u003e2017.06.24 BingSpeechAPIに関する記述を追加しました。\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#20171105-intel-realsense%E3%81%A8openjtalk%E3%81%AB%E5%AF%BE%E5%BF%9C%E3%81%97%E3%81%A6%E3%81%BF%E3%81%BE%E3%81%97%E3%81%9F\"\u003e2017.11.05 Intel RealsenseとOpenJTalkに対応してみました。\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\n\n\n\n\u003cli\u003e\n\u003ca href=\"#%E8%8B%A6%E5%8A%B4%E3%81%97%E3%81%9F%E7%82%B9-frowning2\"\u003e苦労した点 :frowning2:\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#googlecloudspeechapi%E3%81%AE%E3%83%AC%E3%82%B9%E3%83%9D%E3%83%B3%E3%82%B9%E3%81%8C%E9%81%85%E3%81%84\"\u003eGoogleCloudSpeechAPIのレスポンスが遅い！\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%AA%8D%E8%AD%98%E7%B2%BE%E5%BA%A6%E3%82%82%E8%BF%94%E3%81%A3%E3%81%A6%E3%81%8D%E3%81%A6%E3%82%8B%E3%81%AE%E3%81%AB%E6%B0%97%E3%81%A5%E3%81%8F%E3%81%AE%E3%81%8C%E9%81%85%E3%82%8C%E3%81%9F\"\u003e認識精度も返ってきてるのに気づくのが遅れた・・\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%90%E3%82%B0%E3%81%A3%E3%81%A6%E3%81%BE%E3%81%97%E3%81%9F%E3%81%93%E3%81%93expressionless\"\u003e→バグってましたここ:expressionless:\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%AB%E3%83%BC%E3%83%97%E3%83%90%E3%83%83%E3%82%AF%E9%9F%B3%E5%A3%B0%E5%85%A5%E5%8A%9B%E3%81%AE%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AA%E3%83%B3%E3%82%B0%E3%83%AC%E3%83%BC%E3%83%88%E3%81%8C%E7%89%B9%E6%AE%8A\"\u003eループバック音声入力のサンプリングレートが特殊！\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%95%E3%83%95%E3%83%95%E3%83%95%E3%83%95%E3%81%A8%E3%81%8B%E8%BF%94%E3%81%A3%E3%81%A6%E3%81%8D%E3%81%A6%E5%A4%9C%E4%B8%AD%E6%80%96%E3%81%84\"\u003e「フフフフフ」とか返ってきて夜中怖い！\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\n\n\u003cli\u003e\n\u003ca href=\"#bingspeechapi%E3%82%92%E5%AE%9F%E8%A3%85%E3%81%97%E3%81%BE%E3%81%97%E3%81%9F\"\u003eBingSpeechAPIを実装しました\u003c/a\u003e\n\u003c/li\u003e\n\n\n\n\n\u003cli\u003e\n\u003ca href=\"#%E8%8B%A6%E5%8A%B4%E3%81%97%E3%81%A6%E3%81%84%E3%82%8B%E7%82%B9-bow\"\u003e苦労している点 :bow:\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E9%9F%B3%E5%A3%B0%E8%AA%8D%E8%AD%98api%E3%81%8B%E3%82%89%E5%B8%B0%E3%81%A3%E3%81%A6%E3%81%8D%E3%81%9F%E6%96%87%E5%AD%97%E5%88%97%E3%82%92%E4%BA%8C%E9%87%8D%E3%81%AB%E3%81%AA%E3%82%89%E3%81%AA%E3%81%84%E3%82%88%E3%81%86%E3%81%AB%E7%A2%BA%E5%AE%9A%E3%81%97%E3%81%A6%E7%99%BA%E5%A3%B0%E3%81%95%E3%81%9B%E3%82%8B%E3%81%AE%E3%81%8C%E9%9B%A3%E3%81%97%E3%81%84\"\u003e音声認識APIから帰ってきた文字列を二重にならないように確定して、発声させるのが難しい\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#googlecloudspeechapi%E3%81%AF%E5%A4%96%E5%9B%BD%E8%AA%9E%E8%81%9E%E3%81%8D%E5%8F%96%E3%82%8A%E3%81%A8%E6%97%A5%E6%9C%AC%E8%AA%9E%E8%81%9E%E3%81%8D%E5%8F%96%E3%82%8A%E3%81%A7%E5%B8%B0%E3%81%A3%E3%81%A6%E3%81%8F%E3%82%8B%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E7%99%96%E3%81%8C%E9%81%95%E3%81%86\"\u003eGoogleCloudSpeechAPIは外国語聞き取りと日本語聞き取りで帰ってくる文字列の癖が違う\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%8B%B1%E8%AA%9E%E3%81%AE%E6%96%87%E8%84%88%E3%81%AE%E5%8C%BA%E5%88%87%E3%82%8A%E3%81%A7%E7%BF%BB%E8%A8%B3%E3%81%95%E3%81%9B%E3%82%8B%E6%96%B9%E6%B3%95%E3%81%8C\"\u003e英語の文脈の区切りで翻訳させる方法が・・\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%AB%E3%83%BC%E3%83%97%E3%83%90%E3%83%83%E3%82%AF%E5%85%A5%E5%8A%9B%E3%81%A7%E3%81%AE%E8%87%AA%E5%8B%95%E7%BF%BB%E8%A8%B3%E7%99%BA%E5%A3%B0%E3%81%AF%E7%BF%BB%E8%A8%B3%E7%99%BA%E5%A3%B0%E3%82%92%E8%AA%8D%E8%AD%98%E3%81%95%E3%81%9B%E3%81%AA%E3%81%84%E3%82%88%E3%81%86%E3%81%AB%E3%81%99%E3%82%8B%E3%81%AE%E3%81%8C%E9%9B%A3%E3%81%97%E3%81%84\"\u003eループバック入力での自動翻訳発声は、翻訳発声を認識させないようにするのが難しい\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#ms-desktop-haruka%E7%AD%89%E3%81%AE%E3%82%B9%E3%83%94%E3%83%BC%E3%83%81%E3%82%A8%E3%83%B3%E3%82%B8%E3%83%B3%E3%81%AF%E9%A0%91%E5%BC%B5%E3%81%A3%E3%81%A6%E3%82%8B%E3%81%8C%E3%82%84%E3%81%A3%E3%81%B1%E3%82%8A%E5%B0%91%E3%81%97%E9%81%95%E5%92%8C%E6%84%9F%E3%81%82%E3%82%8B%E8%AA%AD%E3%81%BF%E6%96%B9\"\u003eMS Desktop Haruka等のスピーチエンジンは、頑張ってるがやっぱり少し違和感ある読み方\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%BF%BB%E8%A8%B3api%E3%81%8C%E6%9C%89%E6%96%99%E3%81%AE%E3%82%82%E3%81%AE%E3%81%97%E3%81%8B%E3%81%AA%E3%81%84\"\u003e翻訳APIが有料のものしかない！\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#uwp%E3%81%A7%E3%81%97%E3%81%8B%E4%BD%BF%E3%81%88%E3%81%AA%E3%81%84ichiroayumi%E3%82%92%E4%BD%BF%E3%81%84%E3%81%9F%E3%81%84\"\u003eUWPでしか使えない「ichiro」「ayumi」を使いたい\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\n\n\u003cli\u003e\n\u003ca href=\"#%E5%8F%82%E8%80%83%E8%A8%98%E4%BA%8B-thumbsup\"\u003e参考記事 :thumbsup:\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB-pray\"\u003e最後に :pray:\u003c/a\u003e\n\u003c/li\u003e\n\n","totalPv":6985,"uuid":"2e027a2bc996864fe4af","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"adhYRWtiFWpXrx9hvOk+ZXP01k1a--5q4v60e2J0oMWhkZ--ZREFf+rP5ArOl86UdyEQ3A==","originalId":187828,"description":"","facebookUrl":null,"githubUrl":"https://github.com/zufall-upon","isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"","profileImageUrl":"https://avatars3.githubusercontent.com/u/29493197?v=3","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F29493197%3Fv%3D3?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=cb3ab91849d1c2998b9b7576ecf28285","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F29493197%3Fv%3D3?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=ea1307c7634f421f40bac1b92300886e","urlName":"zufall","websiteUrl":null,"twitterUrl":null,"twitterUrlName":null,"revealedOrganizations":{"edges":[]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"音声合成","urlName":"%e9%9f%b3%e5%a3%b0%e5%90%88%e6%88%90"},{"name":"音声認識","urlName":"%e9%9f%b3%e5%a3%b0%e8%aa%8d%e8%ad%98"},{"name":"OpenJTalk","urlName":"openjtalk"},{"name":"RealSense","urlName":"realsense"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
