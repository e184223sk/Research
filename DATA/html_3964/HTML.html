<!DOCTYPE html><html><head><meta charset="utf-8" /><title>大学生が有料スマホゲームを作った全てを公開するよ（３）ゲームの構造・パズルとアクションの仕組み（前編） - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/shoi_ito/items/a2adf87dd783c8379178" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="CP2UYlYvjKP7vwcG925XLBiKSA/BrBmw5FAr1kLcdMI1oAvo4pzK4kwWJlE72wz9C0X9V0m9hNnr3zEZz052rg==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta content="@ItoShoi" name="twitter:creator" /><meta property="og:type" content="article"><meta property="og:title" content="大学生が有料スマホゲームを作った全てを公開するよ（３）ゲームの構造・パズルとアクションの仕組み（前編） - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND01YVNuNWEybTU1U2Y0NEdNNXB5SjVwYVo0NEs1NDRPZTQ0T2I0NEt5NDRPODQ0T2c0NEtTNUwyYzQ0R2o0NEdmNVlXbzQ0R200NEtTNVlXczZaYUw0NEdaNDRLTDQ0S0k3N3lJNzd5VDc3eUo0NEt5NDRPODQ0T2c0NEd1NXFlTDZZQ2c0NE83NDRPUjQ0SzY0NE9yNDRHbzQ0S2k0NEt2NDRLMzQ0T240NE96NDRHdTVMdVY1N1dFNDRHXzc3eUk1WW1ONTdlbzc3eUomdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT01NCZ0eHQtY2xpcD1lbGxpcHNpcyZ0eHQtYWxpZ249Y2VudGVyJTJDbWlkZGxlJnM9YTMyYWU1OGRhMjE5ZDBkMmY5ZTI5ODFmZDNkNWU2YTU&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RSE5vYjJsZmFYUnYmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT00NSZ0eHQtYWxpZ249cmlnaHQlMkNib3R0b20mcz01ZDBlZmMxNGYyZTA2NjAyOGRjODlkZWU5YzhiNDAyYQ&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=ce3cd90fad0f1a2626a231dd07da097e"><meta property="og:description" content="大学生が有料スマホゲームを作った全てを公開するよ（２）開発環境とゲームの構成
の続き。
第一回はこちら。
大学生が有料スマホゲームを作った全てを公開するよ（１）イントロダクション

今回は、メインのゲームシーンについて。
いわゆる、イ..."><meta content="https://qiita.com/shoi_ito/items/a2adf87dd783c8379178" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,Unity,初心者,ゲーム制作,Unity2D" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 1nzh4zz 38fzdi helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-1nzh4zz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 32px;background-color:#FBE69E;color:rgba(0,0,0,0.87);line-height:1.5;font-weight:600;}@media (max-width:770px){.css-1nzh4zz{padding:16px;}}.css-38fzdi{color:#CA832A;margin-right:4px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-aa515d65-093f-4094-bd97-f6a181fb7cca"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2Fshoi_ito%2Fitems%2Fa2adf87dd783c8379178">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2Fshoi_ito%2Fitems%2Fa2adf87dd783c8379178">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-aa515d65-093f-4094-bd97-f6a181fb7cca">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2019-01-27T05:05:21.000+09:00","dateModified":"2019-02-18T20:12:24.000+09:00","headline":"大学生が有料スマホゲームを作った全てを公開するよ（３）ゲームの構造・パズルとアクションの仕組み（前編）","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND01YVNuNWEybTU1U2Y0NEdNNXB5SjVwYVo0NEs1NDRPZTQ0T2I0NEt5NDRPODQ0T2c0NEtTNUwyYzQ0R2o0NEdmNVlXbzQ0R200NEtTNVlXczZaYUw0NEdaNDRLTDQ0S0k3N3lJNzd5VDc3eUo0NEt5NDRPODQ0T2c0NEd1NXFlTDZZQ2c0NE83NDRPUjQ0SzY0NE9yNDRHbzQ0S2k0NEt2NDRLMzQ0T240NE96NDRHdTVMdVY1N1dFNDRHXzc3eUk1WW1ONTdlbzc3eUomdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT01NCZ0eHQtY2xpcD1lbGxpcHNpcyZ0eHQtYWxpZ249Y2VudGVyJTJDbWlkZGxlJnM9YTMyYWU1OGRhMjE5ZDBkMmY5ZTI5ODFmZDNkNWU2YTU\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RSE5vYjJsZmFYUnYmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT00NSZ0eHQtYWxpZ249cmlnaHQlMkNib3R0b20mcz01ZDBlZmMxNGYyZTA2NjAyOGRjODlkZWU5YzhiNDAyYQ\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=ce3cd90fad0f1a2626a231dd07da097e","mainEntityOfPage":"https://qiita.com/shoi_ito/items/a2adf87dd783c8379178","author":{"@type":"Person","address":"Nagoya Japan","email":"tnvsba@gmail.com","identifier":"shoi_ito","name":"shoi_ito","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2Fprofile-images%2F1547524276?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=b537a1a697047279f532258d9fdc1be0","url":"https://qiita.com/shoi_ito","description":"Unityでゲームを作ってる大学生。\r\nUnityは高校生くらいで触り始めた。\r\nその時はJavaScriptだった。\r\nもう使えないけど...。\r\n今はC#でゲームを作っている。\r\nUnityしか動かせないけど。\r\nVRとかMRとかも興味があるけど、お金はない。","memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://zine.qiita.com/interview/202104-ga-technologies/?utm_source=qiita&amp;utm_medium=header-banner">「不動産取引をワンクリックで完結する」世界観へ。GA technologiesの取り組み</a><a target="_blank" id="header_text_message_2" href="https://zine.qiita.com/interview/202104-ga-technologies/?utm_source=qiita&amp;utm_medium=header-banner">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"shoi_ito","type":"items","id":"a2adf87dd783c8379178"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"「不動産取引をワンクリックで完結する」世界観へ。GA technologiesの取り組み","url":"https://zine.qiita.com/interview/202104-ga-technologies/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"shoi_ito","type":"items","id":"a2adf87dd783c8379178"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":0,"pos_id":"header_text_message_1","message":"「不動産取引をワンクリックで完結する」世界観へ。GA technologiesの取り組み","url":"https://zine.qiita.com/interview/202104-ga-technologies/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"shoi_ito","type":"items","id":"a2adf87dd783c8379178"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":0,"pos_id":"header_text_message_2","message":"「不動産取引をワンクリックで完結する」世界観へ。GA technologiesの取り組み","url":"https://zine.qiita.com/interview/202104-ga-technologies/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/shoi_ito/items/a2adf87dd783c8379178","location":"/shoi_ito/items/a2adf87dd783c8379178","scheme":"https","host":"qiita.com","port":null,"pathname":"/shoi_ito/items/a2adf87dd783c8379178","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"w+KJpCZAL4sE+sWB+OGHI7/QhDVnw+xScO/KPvFOYLD+vxYukvNpyrNT5NY0VNzyrB8xbe/ScTt/YNDxfNxi3A==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-3649da75-6bd0-4085-acc7-8eaf890f6b94"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/shoi_ito/items/a2adf87dd783c8379178/likers" class="css-1iupg5d">6</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">5</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/a2adf87dd783c8379178/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/shoi_ito/items/a2adf87dd783c8379178/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/shoi_ito/items/a2adf87dd783c8379178/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/shoi_ito/items/a2adf87dd783c8379178/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/shoi_ito/items/a2adf87dd783c8379178.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-1nzh4zz"><span class="fa fa-fw fa-warning css-38fzdi"></span><p>More than 1 year has passed since last update.</p></div><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/shoi_ito"><img class="css-100alwu eyfquo10" src="https://qiita-image-store.s3.amazonaws.com/0/343309/profile-images/1547524276" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/shoi_ito" class="css-10ougpm">@<!-- -->shoi_ito</a><div class="css-1ay9vb9"><span><meta content="2019-01-26T20:05:21Z"/><time dateTime="2019-02-18T11:12:24Z" class="css-m19uds">updated at 2019-02-18</time></span></div></div></div></div></div><h1 class="css-cgzq40">大学生が有料スマホゲームを作った全てを公開するよ（３）ゲームの構造・パズルとアクションの仕組み（前編）</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/unity" class="css-4czcte">Unity</a><a href="/tags/%e5%88%9d%e5%bf%83%e8%80%85" class="css-4czcte">初心者</a><a href="/tags/%e3%82%b2%e3%83%bc%e3%83%a0%e5%88%b6%e4%bd%9c" class="css-4czcte">ゲーム制作</a><a href="/tags/unity2d" class="css-4czcte">Unity2D</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div><p><a href="https://qiita.com/shoi_ito/items/b9acd13f5fe80536fd0d" id="reference-4c469e0e1caee17c070a">大学生が有料スマホゲームを作った全てを公開するよ（２）開発環境とゲームの構成</a><br>
の続き。<br>
第一回はこちら。<br>
<a href="https://qiita.com/shoi_ito/items/2234414af441e448a85e" id="reference-06232e4ae84ae867e475">大学生が有料スマホゲームを作った全てを公開するよ（１）イントロダクション</a></p>

<p>今回は、メインの<strong>ゲームシーン</strong>について。<br>
いわゆる、<strong>インゲーム</strong>と呼ばれる部分。<br>
逆に、メニュー画面とかは<strong>アウトゲーム</strong>って呼ばれる。<br>
pertica(この記事で紹介するゲーム)の場合は、<strong>パズル</strong>と<strong>アクションの仕組み</strong>を中心に解説していくよ。<br>
パズルと言っても<strong>謎解き</strong>みたいな感じだから、もしかしたらみんなのイメージとは少し違うかもしれない。</p>

<h1>
<span id="ちょっとずつunityも出てくる" class="fragment"></span><a href="#%E3%81%A1%E3%82%87%E3%81%A3%E3%81%A8%E3%81%9A%E3%81%A4unity%E3%82%82%E5%87%BA%E3%81%A6%E3%81%8F%E3%82%8B"><i class="fa fa-link"></i></a>ちょっとずつUnityも出てくる</h1>

<p>ここから先は、ちょっとずつ<strong>Unity</strong>の話になる。<br>
<strong>プログラミング</strong>も出てくるし、<br>
初めて見る人には結構難しいかもしれない。<br>
<strong>Unityがどんなものかの説明</strong>も書いてるから、<br>
なんとなーくでも理解してもらえると嬉しい。<br>
後でUnityを使うようになったら<strong>また見に来ても良いよ</strong>！</p>

<p>Unityを知っている人や、ゲームを作った事がある人は参考にしてみて。<br>
ボクはこうやってゲームを作ったよ。<br>
この記事だと、後になるほど技術的になるから記事の下の方を見ると面白いかも。<br>
これは前編で、後編はもっと技術的な話をするつもり。<br>
アドバイスも待ってます！</p>

<h1>
<span id="主要なゲームオブジェクト" class="fragment"></span><a href="#%E4%B8%BB%E8%A6%81%E3%81%AA%E3%82%B2%E3%83%BC%E3%83%A0%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88"><i class="fa fa-link"></i></a>主要なゲームオブジェクト</h1>

<p>前回の記事でも触れたけど、ゲームシーンは大きく３つの機能を持っている。</p>

<ul>
<li>メニューで選択したステージを生成する</li>
<li>ステージが遊べる</li>
<li>クリアしたら保存する</li>
</ul>

<p>この３つだ。<br>
そして、これを実現するために、<br>
このゲームは<strong>１０個の「部品」</strong>で出来ている。</p>

<p><a href="https://camo.qiitausercontent.com/dde7df49c3ace4fa2d68c87496de5f9f0bce1086/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3334333330392f37663565346633392d623061652d666332642d626662662d6635613734333533626534622e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F7f5e4f39-b0ae-fc2d-bfbf-f5a74353be4b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=617c6e4136383665681fa8b07dd51c2f" alt="pertica_Qiita説明.png" title="なぜかFireAlpacaで書いたよ" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/343309/7f5e4f39-b0ae-fc2d-bfbf-f5a74353be4b.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F7f5e4f39-b0ae-fc2d-bfbf-f5a74353be4b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=8f85c477486de70e026015d6f0a26ed1 1x" loading="lazy"></a></p>

<ol>
<li>プレイヤー [Player]</li>
<li>ブロック [Blocks]</li>
<li>敵 [Enemies]</li>
<li>アイテム [Items]</li>
<li>その他のステージオブジェクト [Others]</li>
<li>カメラ [Main Camera]</li>
<li>ゲームマネージャー [GameController]</li>
<li>デコードオブジェクト [DecodeObject]</li>
<li>UI（リトライボタン、戻るボタン） [UI Canvas]</li>
<li>BGM・SE [BGMSource, SESource]</li>
</ol>

<p>これらの<strong>「部品」</strong>を今後は、<strong>「ゲームオブジェクト」</strong>と呼ぶことにするよ。<br>
Unityの中でも同じ名前で呼ばれるんだ。<br>
でも長いから短く<strong>「オブジェクト」</strong>って言う時があるかも。</p>

<p>ちなみに、[ ]の中はUnityの中での名前だ。<br>
それぞれ説明するね。</p>

<h3>
<span id="プレイヤー" class="fragment"></span><a href="#%E3%83%97%E3%83%AC%E3%82%A4%E3%83%A4%E3%83%BC"><i class="fa fa-link"></i></a>プレイヤー</h3>

<p>ゲームを遊ぶ人が操作する<strong>キャラクター</strong>だ。</p>

<ul>
<li>タップした場所に弾を飛ばす</li>
<li>弾が当たったオブジェクトと入れ替わる</li>
<li>敵に触れたら死んでしまう</li>
</ul>

<p>この３つの機能を持っているよ。</p>

<h3>
<span id="ブロック" class="fragment"></span><a href="#%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF"><i class="fa fa-link"></i></a>ブロック</h3>

<p>基本的に<strong>四角くて動かない</strong>もの。<br>
壁のこと。<br>
マリオのブロックみたいな、四角くて動かないオブジェクトだ。</p>

<h3>
<span id="敵" class="fragment"></span><a href="#%E6%95%B5"><i class="fa fa-link"></i></a>敵</h3>

<p><strong>プレイヤー</strong>は<strong>敵</strong>に当たると<strong>死んでしまう</strong>。<br>
プレイヤーに対して<strong>攻撃をしてくる</strong>オブジェクトだ。<br>
マリオのクリボーとかノコノコと同じだ。</p>

<h3>
<span id="アイテム" class="fragment"></span><a href="#%E3%82%A2%E3%82%A4%E3%83%86%E3%83%A0"><i class="fa fa-link"></i></a>アイテム</h3>

<p>壁を出したり消したりする<strong>スイッチ</strong>とか、<strong>ワープホール</strong>とか。<br>
プレイヤーが道具として使うもの。<br>
壁と違って<strong>動く</strong>可能性があって、<strong>四角くない</strong>。<br>
マリオでいうと、キノコとかスターのことだ。</p>

<h3>
<span id="その他のステージオブジェクト" class="fragment"></span><a href="#%E3%81%9D%E3%81%AE%E4%BB%96%E3%81%AE%E3%82%B9%E3%83%86%E3%83%BC%E3%82%B8%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88"><i class="fa fa-link"></i></a>その他のステージオブジェクト</h3>

<p>今説明した「プレイヤー、ブロック、敵、アイテム」の事を、ボクは「<strong>ステージオブジェクト</strong>」と呼ぶことにしたんだ。<br>
でも<strong>背景の星</strong>とか、敵が出す<strong>レーザー</strong>なんかはその４つでは分類できない。<br>
だからブロック、敵、アイテムに分けにくいものを、例外として分類する為に「その他」を作ったんだ。<br>
これでステージオブジェクトは<strong>「プレイヤー、ブロック、敵、アイテム、その他」</strong>の<strong>５種類</strong>になった。</p>

<h3>
<span id="カメラ" class="fragment"></span><a href="#%E3%82%AB%E3%83%A1%E3%83%A9"><i class="fa fa-link"></i></a>カメラ</h3>

<p><strong>カメラ</strong>はスマホの画面に<strong>ゲームを映す機能</strong>をもってる。<br>
<strong>テレビ</strong>は<strong>ビデオカメラで撮影</strong>した映像を表示してるよね。<br>
あれと同じで、<strong>ゲームの中の出来事を撮影</strong>して<strong>スマホの画面に表示</strong>してくれるんだ。<br>
ズームしたり、カメラを複数使うことも出来るよ。</p>

<h3>
<span id="ゲームマネージャー" class="fragment"></span><a href="#%E3%82%B2%E3%83%BC%E3%83%A0%E3%83%9E%E3%83%8D%E3%83%BC%E3%82%B8%E3%83%A3%E3%83%BC"><i class="fa fa-link"></i></a>ゲームマネージャー</h3>

<p>ゲーム全体の<strong>管理をする</strong>オブジェクトだ。<br>
このゲーム(pertica)では、</p>

<ul>
<li>リセット</li>
<li>メニューに戻る</li>
<li>ステージオブジェクトを作る</li>
<li>フェードイン</li>
</ul>

<p>の４つの機能を担当している。</p>

<h3>
<span id="デコードオブジェクト" class="fragment"></span><a href="#%E3%83%87%E3%82%B3%E3%83%BC%E3%83%89%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88"><i class="fa fa-link"></i></a>デコードオブジェクト</h3>

<p>ゲームの最初に<strong>ステージを設置</strong>する機能を持ってる。<br>
perticaはパズルゲームだから、パズルのステージを用意しないといけない。<br>
ステージはたくさん欲しいよね。<br>
そしたらボクだけじゃなくて、友達にもステージを作ってもらった方が良さそうだ。<br>
友達がステージを作れるように、ボクは友達に<strong>「ステージを作るツール」</strong>を渡す。<br>
友達はステージを作ったら、<strong>「保存」</strong>ボタンを押す。<br>
そうすると、作ったステージが「どこに何があるか」を<strong>文字</strong>にした<strong>データ</strong>になるんだ。<br>
でも<strong>データ</strong>では遊ぶ事は出来ない。<br>
遊ぶ時には<strong>データ</strong>を実際に<strong>ステージ</strong>に変換しなきゃいけない。<br>
それをするのが、この<strong>デコードオブジェクト</strong>なんだ。<br>
ゲームが始まった瞬間に、「メニューで選んだステージの<strong>データ</strong>」から「<strong>ステージ</strong>」を作ってくれる、とっても賢いヤツなんだ。</p>

<h3>
<span id="ui" class="fragment"></span><a href="#ui"><i class="fa fa-link"></i></a>UI</h3>

<p><strong>リトライボタン</strong>とか、<strong>メニューに戻るボタン</strong>の事だ。<br>
UIっていうのは、人がゲームを操作するために必要な<strong>仲介人</strong>なんだ。<br>
「ゲームをもう一度やり直したい」とか、「メニューに戻りたい」と思うよね。<br>
UIに頼めば、それを実際にやってくれるんだ。<br>
頼む方法はボタンを押すだけだよ。</p>

<h3>
<span id="bgmse" class="fragment"></span><a href="#bgmse"><i class="fa fa-link"></i></a>BGM・SE</h3>

<p><strong>音</strong>を流す機能を持っている。<br>
BGMはゲーム中にずっとなってる<strong>音楽</strong><br>
SEは「弾を飛ばす音」「スイッチを押す音」みたいな<strong>効果音</strong>の事だ。</p>

<h1>
<span id="実装方法" class="fragment"></span><a href="#%E5%AE%9F%E8%A3%85%E6%96%B9%E6%B3%95"><i class="fa fa-link"></i></a>実装方法</h1>

<p>ゲームが何で出来てるかは何となく分かったかな？<br>
部品が「１０個」なのは多いと思った？<br>
それとも少ないと感じたかな。<br>
段々と技術的な話に入っていくよ。<br>
面白くなかったら飛ばして、最後のコメントだけ見ても良いよ。<br>
今回は、ちょっとした<strong>制作秘話</strong>も書いてみた。</p>

<p>ここからは、Unityを少し知っている人向けになると思う。<br>
でもUnityを知らない人にも楽しんでもらいたいから、<br>
簡単にUnityでの<strong>ゲームの考え方</strong>を書いてみるね。</p>

<h2>
<span id="unityの簡単な説明" class="fragment"></span><a href="#unity%E3%81%AE%E7%B0%A1%E5%8D%98%E3%81%AA%E8%AA%AC%E6%98%8E"><i class="fa fa-link"></i></a>Unityの簡単な説明</h2>

<p><a href="https://camo.qiitausercontent.com/fbebf6d4dfe53cde69d2ef83036e044f681c0b5c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3334333330392f39306435633037332d613537372d373039612d346535362d6464326535613539633731332e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F90d5c073-a577-709a-4e56-dd2e5a59c713.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=c9f785896afe007990b3b2fe93d46002" alt="_Unityの説明.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/343309/90d5c073-a577-709a-4e56-dd2e5a59c713.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F90d5c073-a577-709a-4e56-dd2e5a59c713.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=3c3c728d689a08700176d58ae7ff7173 1x" loading="lazy"></a></p>

<p>Unityでは<a href="https://qiita.com/shoi_ito/items/a2adf87dd783c8379178#%E4%B8%BB%E8%A6%81%E3%81%AA%E3%82%B2%E3%83%BC%E3%83%A0%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88" title="「Player2」になってるのは気にしないで">主要なゲームオブジェクト</a>で書いたような<strong>部品</strong>の事を<strong>ゲームオブジェクト</strong>と呼ぶって言ったね。<br>
それぞれの<strong>ゲームオブジェクト</strong>は、さらに<strong>コンポーネント</strong>と呼ばれるもっと<strong>「小さな部品」</strong>で出来てるんだ。</p>

<p><a href="https://camo.qiitausercontent.com/768d60c16928bc423b48b2c1d1585fb83a53023e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3334333330392f34303064636530612d356561332d333334372d316339352d3432326362643163613766322e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F400dce0a-5ea3-3347-1c95-422cbd1ca7f2.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=114799a5c74d21f329a9552425f5715a" alt="スクリーンショット 2019-01-22 13.46.46.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/343309/400dce0a-5ea3-3347-1c95-422cbd1ca7f2.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F400dce0a-5ea3-3347-1c95-422cbd1ca7f2.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=5673a9efa26c276a209384539da05aac 1x" loading="lazy"></a></p>

<p>例えば、ゲーム内の<strong>プレイヤー</strong>は</p>

<ul>
<li>今いる<strong>座標</strong>を定める部品 [Transform]</li>
<li>
<strong>見た目</strong>を決める部品 [Particle System]</li>
<li>
<strong>物理挙動</strong>を制御する部品 [Rigidbody 2D]</li>
<li>
<strong>当たり判定</strong>を調べる部品 [Circle Collider 2D]</li>
<li>
<strong>アニメーション</strong>を制御する部品 [Animator]</li>
<li>プレイヤーの<strong>動作(弾を飛ばす、移動するなど)</strong>を制御する部品 [Player(Script)]</li>
</ul>

<p>みたいな<strong>小さな部品(コンポーネント)</strong>で出来ている。<br>
このうち、<strong>上の５つ</strong>はUnityが用意してくれてるんだ。<br>
だから、ボクが作るのは<strong>一番下の一つ</strong>だけ。<br>
このゲーム特有の動きを決めるんだ。<br>
<strong>脳</strong>を作ると言っても良い。<br>
そして、この部品を作るために<strong>プログラミング</strong>を使うんだよ。</p>

<p>[ ]の中はUnityの中での呼び方で、<strong>Player(Script)</strong>はボクが作ったんだ。<br>
こういう<strong>プログラミング</strong>で、<strong>自分で作ったコンポーネント</strong>を今後は<strong>「スクリプト」</strong>と呼ぶよ。<br>
Unityの考え方では、<br>
「<strong>車</strong>の部品に<strong>タイヤ</strong>があって、<strong>タイヤ</strong>の部品に<strong>ネジ</strong>がある」みたいに<br>
「<strong>ゲーム</strong>の部品に<strong>プレイヤー</strong>があって、<strong>プレイヤー</strong>の部品に<strong>Player(Script)</strong>」があるんだ。</p>

<p>少し退屈かもしれないけど、このゲームのUnityでの実装の仕方を書き残しておくね。</p>

<h2>
<span id="プロジェクトツリー" class="fragment"></span><a href="#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%83%84%E3%83%AA%E3%83%BC"><i class="fa fa-link"></i></a>プロジェクトツリー</h2>

<p>メインシーンの説明の前に、Unityのプロジェクトのファイルツリーを書いておくよ。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>Assets
├─ Animation
├─ Data
├─ Image
├─ Material
├─ Music
├─ ParticleSystem
├─ Prefab
├─ Scene
└─ Script
</code></pre></div></div>

<p>主要なのはこんな感じ。<br>
さらに<strong>Resources</strong>って名前のフォルダを必要に応じてそれぞれのフォルダの下に作るんだ。</p>

<h2>
<span id="ゲームの仕組みを構造的に見る" class="fragment"></span><a href="#%E3%82%B2%E3%83%BC%E3%83%A0%E3%81%AE%E4%BB%95%E7%B5%84%E3%81%BF%E3%82%92%E6%A7%8B%E9%80%A0%E7%9A%84%E3%81%AB%E8%A6%8B%E3%82%8B"><i class="fa fa-link"></i></a>ゲームの仕組みを構造的に見る</h2>

<p><a href="https://camo.qiitausercontent.com/eb6312913102caac8d84075e159500576d3fd50a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3334333330392f37646465316434632d343939652d333431642d333366352d6332376338373334313039382e676966" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F7dde1d4c-499e-341d-33f5-c27c87341098.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=ab7c5965d2cc40d1a87c756ae10995c9" alt="ezgif.com-video-to-gif.gif" title="gifだからカクカクダァ" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/343309/7dde1d4c-499e-341d-33f5-c27c87341098.gif" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F7dde1d4c-499e-341d-33f5-c27c87341098.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=61205b0c6a7eadc5dec5972bcc141fc9 1x" loading="lazy"></a></p>

<p><a href="https://camo.qiitausercontent.com/df07846ebbca1bca5c00e2cc8c21802d6b8b519d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3334333330392f34643335633433382d343834302d333431302d653964342d3861626164613535633634342e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F4d35c438-4840-3410-e9d4-8abada55c644.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=929f80053f992bc702662fec52327a9d" alt="pertica_Qiita1.png" title="Draw.ioで書いたよ" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/343309/4d35c438-4840-3410-e9d4-8abada55c644.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F4d35c438-4840-3410-e9d4-8abada55c644.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=df65b826b3c755ea457bf8bc824e022a 1x" loading="lazy"></a></p>

<p>ここからゲームシーンの説明だ。<br>
Unity内のメインのゲームシーンは、DecodeStageと呼ばれるシーン名で管理している。<br>
このシーンが実行されると、まず<strong>DecodeObject</strong>がデータフォルダに入っているデータをもとに<strong>ステージを生成</strong>する。<br>
次に、<strong>Main Camera</strong>がゴールからプレイヤーに向かって<strong>移動</strong>。<br>
移動が完了すると、ゲームが始まる。<br>
プレイヤーは、キャラクターを操作して<strong>ゴールを目指す</strong>。<br>
ゴールにたどり着くとリザルトシーンに<strong>遷移して</strong>このシーンの役目は終わり。<br>
分かりにくいかもしれないけど、上の図を目で追って見て欲しい。</p>

<p>ここからは、<strong>１０個</strong>の<strong>ゲームオブジェクト</strong>について<strong>実装の概要</strong>を説明するよ。</p>

<p><a href="https://qiita.com/shoi_ito/items/a2adf87dd783c8379178#unity%E3%81%AE%E7%B0%A1%E5%8D%98%E3%81%AA%E8%AA%AC%E6%98%8E">Unityの簡単な説明</a>で書いたようにUnityは１つの<strong>ゲームオブジェクト</strong>がたくさんの<strong>コンポーネント</strong>から出来ている。<br>
<strong>前編</strong>の今回は、そのたくさんの<strong>コンポーネント</strong>のうちとても大事な<strong>「脳」</strong>の部分<strong>「スクリプト」</strong>を中心に解説するよ。<br>
<strong>「スクリプト」</strong>は<strong>プログラミング</strong>を使って<strong>ボクが作ったもの</strong>だったね。</p>

<h3>
<span id="プレイヤー-1" class="fragment"></span><a href="#%E3%83%97%E3%83%AC%E3%82%A4%E3%83%A4%E3%83%BC-1"><i class="fa fa-link"></i></a>プレイヤー</h3>

<p><a href="https://camo.qiitausercontent.com/762bf6449433fae0686f0cfb0a08991b9819d3f0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3334333330392f66353662326638312d656136372d643366362d663232322d3030313461333030393066372e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2Ff56b2f81-ea67-d3f6-f222-0014a30090f7.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=c5c1a51473ab7925985787ded309cd8f" alt="pertica_Qiita_Player.png" title="踊りは２種類あるよ。踊る意味はないよ。" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/343309/f56b2f81-ea67-d3f6-f222-0014a30090f7.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2Ff56b2f81-ea67-d3f6-f222-0014a30090f7.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=61a6ac0df01bd2074e939176bcebdb63 1x" loading="lazy"></a></p>

<p>プレイヤーの構造はこんな感じだ。<br>
そしてプレイヤーの持つスクリプトは</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">Player.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">void</span> <span class="nf">IdlingAnimation</span><span class="p">()</span>
  <span class="err">踊るアニメーションを行うよ</span>
  <span class="err">プレイヤーが一定時間何もしなかったときに使う。</span>

<span class="k">public</span> <span class="k">void</span> <span class="nf">Shift</span><span class="p">(</span><span class="n">GameObject</span> <span class="n">obj</span><span class="p">)</span>
  <span class="err">弾が当たったものと位置を入れ替える</span>
  <span class="err">飛ばした弾が当たった時に使う</span>

<span class="k">public</span> <span class="k">void</span> <span class="nf">Die</span><span class="p">()</span>
  <span class="err">プレイヤーが死ぬ時に使う</span>
   <span class="err">・死ぬ時のエフェクトを表示</span>
   <span class="err">・死んだ回数を保存</span>
   <span class="err">・プレイヤーのゲームオブジェクトを非アクティブにする</span>
  <span class="err">みたいな事をするよ</span>

<span class="k">public</span> <span class="k">void</span> <span class="nf">Fire</span><span class="p">()</span>
  <span class="err">タップした位置に弾を発射する</span>
  <span class="err">画面をタップした時に使う</span>

<span class="n">IEnumerator</span> <span class="nf">TypeAheadCoroutin</span><span class="p">()</span>
  <span class="err">先行入力を行う</span>
  <span class="err">弾のクールタイム中に画面がタップされた時に使う</span>
  <span class="err">クールタイムの終了を待って弾を発射する準備をする</span>
</code></pre></div>
</div>

<p>こんな感じ。<br>
「void IdlingAnimation()」とか「public void Shift(GameObject obj)」とかはその下に書いてある<strong>機能の名前</strong>だと思ってくれたら良い。<br>
プログラミングを触ったことが無い人は、分かりにくいよね。<br>
プログラミングを触ったことがある人にとっては、<strong>関数</strong>の事だ。<br>
日本語で書いてある説明を、UnityではC#っていう言葉を使って書くんだよ。</p>

<p>基本的に、先頭に<strong>public</strong>が書いてある関数は他のスクリプトから呼び出される。<br>
書いていないのは、自身の<strong>Update関数</strong>から呼ばれる。<br>
<strong>Update関数</strong>っていうのは、<strong>毎フレーム</strong>呼び出される関数のこと。<br>
<strong>フレーム</strong>っていうのは、ゲームの世界での<strong>時間</strong>みたいな感じだ。<br>
フレームは１秒に６０回くらい更新されるんだ。<br>
だから、Updateも１秒に６０回くらい呼び出される。<br>
Updateの中でif文で条件を書いて関数を呼び出すんだ。</p>

<h3>
<span id="ブロック-1" class="fragment"></span><a href="#%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF-1"><i class="fa fa-link"></i></a>ブロック</h3>

<p><a href="https://camo.qiitausercontent.com/bc53772b8bbd59a727869b76b3380a6b9bfcd7e4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3334333330392f32316564653935342d656164392d346632632d343734322d6664393566346434336566612e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F21ede954-ead9-4f2c-4742-fd95f4d43efa.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=f057993f83c80081995bc75e0df61be2" alt="iOS の画像 (1).png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/343309/21ede954-ead9-4f2c-4742-fd95f4d43efa.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F21ede954-ead9-4f2c-4742-fd95f4d43efa.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=fae3b41e423d1a818ce0240e743e8f85 1x" loading="lazy"></a><br>
<a href="https://camo.qiitausercontent.com/b336ab8a05898803ff75a8b80d05f2b74de11961/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3334333330392f66653531646139652d373336652d336230662d636563392d6333646335636132303864662e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2Ffe51da9e-736e-3b0f-cec9-c3dc5ca208df.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=373ef0506ea40082369db851eb01e48d" alt="iOS の画像 (2).png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/343309/fe51da9e-736e-3b0f-cec9-c3dc5ca208df.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2Ffe51da9e-736e-3b0f-cec9-c3dc5ca208df.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=7ef0ad7e59312e4b7525c33931116bb7 1x" loading="lazy"></a></p>

<p>ブロックは次の<strong>３種類</strong>だ。</p>

<h5>
<span id="通常の壁-wall" class="fragment"></span><a href="#%E9%80%9A%E5%B8%B8%E3%81%AE%E5%A3%81-wall"><i class="fa fa-link"></i></a>通常の壁 [Wall]</h5>

<p>四角いオブジェクトでどんなものがぶつかっても動かない。<br>
プレイヤーの放つ弾が壁に当たると、弾が<strong>消滅</strong>する。</p>

<h5>
<span id="反射壁-reflection-wall" class="fragment"></span><a href="#%E5%8F%8D%E5%B0%84%E5%A3%81-reflection-wall"><i class="fa fa-link"></i></a>反射壁 [Reflection Wall]</h5>

<p>四角いオブジェクトでどんなものがぶつかっても動かない。<br>
プレイヤーの放つ弾が壁に当たると、弾が<strong>跳ね返る</strong>。</p>

<h5>
<span id="スイッチ壁-switch-wall" class="fragment"></span><a href="#%E3%82%B9%E3%82%A4%E3%83%83%E3%83%81%E5%A3%81-switch-wall"><i class="fa fa-link"></i></a>スイッチ壁 [Switch Wall]</h5>

<p>レーザーのような見た目をしている。<br>
後で紹介する<strong>スイッチボタン</strong>によって、壁が<strong>出現している状態</strong>と<strong>消えている状態</strong>の２つが切り替わる。<br>
壁が<strong>出現している</strong>時の機能は<strong>通常の壁と一緒</strong>で、弾が当たるとその弾は消滅する。<br>
壁が<strong>消えている</strong>状態では、壁の機能は発揮せずに弾はそのまま<strong>通過</strong>するよ。</p>

<p>さて、それぞれが持つスクリプトを説明するよ。<br>
まずは<strong>通常の壁 [Wall]</strong>から。</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">Wall.cs</span></div>
<div class="highlight"><pre class="with-code"><code></code></pre></div>
</div>

<p>何もない。<br>
実際は少しはあるんだけど、エフェクトを出すとか名前をつけるくらいの簡単なものだけだ。<br>
<strong>通常の壁[Wall]</strong>はほとんど<strong>Unity</strong>の機能だけで出来ているんだ。<br>
次は<strong>反射壁 [Reflection Wall]</strong>。</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">ReflectionWall.cs</span></div>
<div class="highlight"><pre class="with-code"><code>
</code></pre></div>
</div>

<p>も、何も無い。<br>
反射するはずの壁が、反射するスクリプトを持っていない。<br>
実は、弾が反射するかどうかは壁ではなく、弾の方で処理しているんだ。</p>

<p>じゃあ最後、<strong>スイッチ壁 [Switch Wall]</strong></p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">SwitchWall.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">SetStats</span><span class="p">(</span><span class="kt">int</span><span class="p">[]</span> <span class="n">stats</span><span class="p">)</span>
  <span class="err">初期状態で表示か非表示かを設定する。</span>

<span class="k">public</span> <span class="k">void</span> <span class="nf">SwitchEnabled</span><span class="p">()</span>
  <span class="err">壁の表示非表示を切り替える。</span>
  <span class="err">スイッチボタンの状態が切り替わった時に使う。</span>
</code></pre></div>
</div>

<p>スイッチ壁はスイッチボタンが押されたときに、状態を変える。<br>
でも壁の状態を切り替える処理自体は、スイッチ壁の機能として用意しておくんだ。</p>

<h3>
<span id="敵-1" class="fragment"></span><a href="#%E6%95%B5-1"><i class="fa fa-link"></i></a>敵</h3>

<p><a href="https://camo.qiitausercontent.com/a029580903f69e9e06c5539e87ebd16dc4942ef7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3334333330392f37383365373038322d626337622d356335372d356666632d6161646534373864333232642e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F783e7082-bc7b-5c57-5ffc-aade478d322d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=680f8a03e84785ee3ea1b1273d754a28" alt="iOS の画像 (4).png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/343309/783e7082-bc7b-5c57-5ffc-aade478d322d.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F783e7082-bc7b-5c57-5ffc-aade478d322d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=38799626d0ac1627cebca4a3f5114695 1x" loading="lazy"></a></p>

<p>今のところ敵は<strong>２種類</strong>。<br>
名前は<strong>ドッグ[Dog]</strong>と<strong>ピッグ[Pig]</strong>だ。<br>
名前の由来は...まぁそのうち話すよ...。<br>
<strong>ドッグ</strong>は<strong>直線移動</strong>して、壁に当たったら<strong>反対向き</strong>になる。<br>
<strong>ピッグ</strong>もそれは同じだけど、２つの<strong>ピッグ</strong>の間には<strong>レーザー</strong>が出るんだ。<br>
<strong>ドッグ</strong>が持つスクリプトは、</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">Dog.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">SetStats</span><span class="p">(</span><span class="kt">int</span><span class="p">[]</span> <span class="n">stats</span><span class="p">)</span>
  <span class="err">最初の状態を決定する。</span>
  <span class="err">上下左右とその間の斜め、８種類のうち最初に移動する方向を設定する。</span>

<span class="k">void</span> <span class="nf">OnCollisionEnter2D</span><span class="p">(</span><span class="n">Collision2D</span> <span class="n">coll</span><span class="p">)</span>
  <span class="err">他のゲームオブジェクトとぶつかった時に使う。</span>
  <span class="err">ぶつかったゲームオブジェクトがプレイヤーだったらプレイヤーを倒す。</span>
</code></pre></div>
</div>

<p>そして、<strong>ピッグ</strong>はこれに<strong>加えて</strong></p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">Pig.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">void</span> <span class="nf">SetLinePosition</span><span class="p">()</span>
  <span class="err">レーザーの端っこの位置を決める。</span>
</code></pre></div>
</div>

<p>壁に当たったら<strong>向きを変える処理は書いていない</strong>んだ。<br>
そういうのは全部Unityにやってもらってる。</p>

<h3>
<span id="アイテム-1" class="fragment"></span><a href="#%E3%82%A2%E3%82%A4%E3%83%86%E3%83%A0-1"><i class="fa fa-link"></i></a>アイテム</h3>

<p><a href="https://camo.qiitausercontent.com/7a85b642e9046cfe56a09e69ddce946ba68d16c1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3334333330392f32363832383634322d303562652d313130372d646263642d3163336330366331323765642e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F26828642-05be-1107-dbcd-1c3c06c127ed.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=7033235ccca19ed2d6b5d8bd34f3f7fa" alt="iOS の画像.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/343309/26828642-05be-1107-dbcd-1c3c06c127ed.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F26828642-05be-1107-dbcd-1c3c06c127ed.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=24015ffdcd7d7c225e56ff5377660472 1x" loading="lazy"></a></p>

<p>アイテムは<strong>５種類</strong>。</p>

<ul>
<li>キューブ [Cube]</li>
<li>クリアーホール [Clear Hole]</li>
<li>スイッチボタン [Switch Wall Button]</li>
<li>ワープホール [Dimension Crack]</li>
<li>シフト弾 [Shift Bullet]</li>
</ul>

<p><strong>キューブ</strong>はその場で静止しているだけのゲームオブジェクト。<br>
<strong>クリアーホール</strong>はその位置にプレイヤーが到着すると、ゲームクリアー。<br>
要するに、ゴールの事だ。<br>
<strong>ワープホール</strong>は<strong>２つ１組</strong>で使う。<br>
プレイヤーの飛ばす<strong>弾</strong>や<strong>敵</strong>が片方のワープホールに入るともう片方のワープホールに<strong>瞬間移動</strong>するんだ。<br>
<strong>シフト弾</strong>はプレイヤーが発射する<strong>弾</strong>の事だよ。</p>

<p>順番に見ていこう。</p>

<p><strong>キューブ [Cube]</strong> のスクリプトは、</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">Cube.cs</span></div>
<div class="highlight"><pre class="with-code"><code>
</code></pre></div>
</div>

<p>何もない。<br>
これもUnityのコンポーネントだけで出来てる。</p>

<p><strong>クリアーホール [Clear Hole]</strong>が持つスクリプトは </p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">ClearHole.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">void</span> <span class="nf">OnTriggerEnter2D</span><span class="p">(</span><span class="n">Collider2D</span> <span class="n">coll</span><span class="p">)</span>
  <span class="err">データの保存、ゲームシーンの遷移をする。</span>
  <span class="err">プレイヤーが同じ位置に来た時に使う。</span>
</code></pre></div>
</div>

<p>クリアーした時のデータの保存もこの<strong>クリアーホール</strong>で行う。<br>
保存専用のゲームオブジェクトがあるわけでは無いんだ。</p>

<p><strong>スイッチボタン[Switch Wall Button]</strong>は、さっき紹介した<strong><a href="https://qiita.com/shoi_ito/items/a2adf87dd783c8379178#%E3%82%B9%E3%82%A4%E3%83%83%E3%83%81%E5%A3%81-switch-wall">スイッチ壁</a></strong>の状態を切り替える事が出来るんだ。<br>
スイッチボタンに敵の<strong>ドッグ</strong>か<strong>ピッグ</strong>がぶつかると、その<strong>スイッチボタン</strong>と繋がってる壁の状態が変わる。<br>
表示されてる壁は消えて、表示されてない壁が出現するんだ。</p>

<p>スイッチボタンはこんな感じのスクリプトを持ってる。</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">SwitchWallButton.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">void</span> <span class="nf">Switch</span><span class="p">()</span>
  <span class="err">繋がってるスイッチ壁の状態を切り替える。</span>
  <span class="err">敵がぶつかった時に使う。</span>
</code></pre></div>
</div>

<p>次は<strong>ワープホール[Dimension Crack]</strong></p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">DimensionCrack.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">void</span> <span class="nf">OnTriggerEnter2D</span><span class="p">(</span><span class="n">Collider2D</span> <span class="n">coll</span><span class="p">)</span>
  <span class="err">ステージオブジェクトがこのゲームオブジェクトに重なった時に使う。</span>

<span class="k">void</span> <span class="nf">SetVisible</span><span class="p">(</span><span class="n">Vector3</span> <span class="n">viewpos</span><span class="p">)</span>
  <span class="err">このゲームオブジェクトが現在カメラに写っているかの情報を更新する。</span>  

<span class="k">void</span> <span class="nf">SetPairDC</span><span class="p">()</span>
  <span class="err">現在このゲームオブジェクトと接続している</span><span class="n">DimensionCrack</span><span class="err">を更新する。</span>
</code></pre></div>
</div>

<p>ワープホールは開発中は、DimensionCrack(次元の亀裂）って呼んでる。<br>
クリアーホールもシーンをワープする感覚だから、ワープホールって名前だと分かりにくかったんだ。<br>
今回の説明では逆に、次元の亀裂って言ってもイメージ出来ないと思ったからワープホールって書いたよ。</p>

<p>最後は<strong>シフト弾[Shift Bullet]</strong>だ。<br>
シフト弾はプレイヤーが発射するエネルギーの玉の事だ。<br>
タップした方向に飛んでいって、<strong>「入れ替われるオブジェクト」</strong>にぶつかるとプレイヤーとぶつかったオブジェクトの<strong>位置を入れ替える</strong>。<br>
スクリプトを見てみよう。</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">ShiftBullet.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">void</span> <span class="nf">OnCollisionEnter2D</span><span class="p">(</span><span class="n">Collision2D</span> <span class="n">coll</span><span class="p">)</span>
  <span class="err">何かとぶつかった時に使われる。</span>
  <span class="err">ぶつかったオブジェクトが入れ替われるならプレイヤーの入れ替わる処理をする。</span>

<span class="n">IEnumerator</span> <span class="nf">DieCoroutine</span><span class="p">()</span>
  <span class="err">弾が発射されてからしばらくたつと弾を消滅させる。</span>

<span class="k">public</span> <span class="k">override</span> <span class="nf">Die</span><span class="p">()</span>
  <span class="err">弾を消滅させる。</span>
  <span class="err">弾が反射壁以外のものとぶつかった時に使う。</span>
</code></pre></div>
</div>

<p><strong>反射壁</strong>は反射する処理を書かないで、逆に壁に当たった時に弾が消える処理を書くことで実現してる。<br>
反射する機能はUnityが用意してくれてるからボクはそれを上手に使うだけで良いんだ。</p>

<h3>
<span id="その他のステージオブジェクト-1" class="fragment"></span><a href="#%E3%81%9D%E3%81%AE%E4%BB%96%E3%81%AE%E3%82%B9%E3%83%86%E3%83%BC%E3%82%B8%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88-1"><i class="fa fa-link"></i></a>その他のステージオブジェクト</h3>

<p><a href="https://camo.qiitausercontent.com/8a31fb1391fde79681bbd6ddbd024b8dae6ad569/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3334333330392f37333562653134302d666435662d326436392d313530362d3664356531663963323231332e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F735be140-fd5f-2d69-1506-6d5e1f9c2213.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=f08dfc9cce66d92dd5afbf2cd0426bf7" alt="iOS の画像 (5).png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/343309/735be140-fd5f-2d69-1506-6d5e1f9c2213.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F735be140-fd5f-2d69-1506-6d5e1f9c2213.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=8bbefda30ac4d4283d2ac587f316bffe 1x" loading="lazy"></a></p>

<p>「プレイヤー, ブロック, 敵, アイテム, その他」をステージオブジェクトと呼ぶって言ったね。<br>
その他のステージオブジェクトには、<strong>背景の星</strong>とか<strong>ピッグのレーザー[PigLazer]</strong>とか<strong>予測線</strong>[Prediction Line]がある。<br>
他にもあるけれど、それはこのゲームシーンでは登場しないから今度話すね。<br>
背景の星は、Unityのコンポーネントだけで出来てる。<br>
<strong>ピッグのレーザー</strong>は、</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">PigLazer.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">void</span> <span class="nf">OnTriggerEnter2D</span><span class="p">(</span><span class="n">Collider2D</span> <span class="n">coll</span><span class="p">)</span>
  <span class="err">プレイヤーにぶつかった時にプレイヤーを倒す。</span>
</code></pre></div>
</div>

<p>これだけのスクリプトを持ってる。<br>
予測線は、画面を長押ししたときに<strong>弾が飛ぶ軌道</strong>を<strong>赤い線</strong>で教えてくれる。</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">PredictionLine.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">void</span> <span class="nf">SetLine</span><span class="p">()</span>
  <span class="err">予測線の軌道を設定する。</span>
  <span class="err">予測線は、プレイヤーからタップした方向にに直進する。</span>
  <span class="err">予測線はものにあたるとその先までは貫通して表示されない。</span>
</code></pre></div>
</div>

<p>こんな感じのスクリプトだけで出来てる。</p>

<h3>
<span id="カメラ-main-camera" class="fragment"></span><a href="#%E3%82%AB%E3%83%A1%E3%83%A9-main-camera"><i class="fa fa-link"></i></a>カメラ [Main Camera]</h3>

<p>perticaでの<strong>カメラ</strong>は基本的にプレイヤーが<strong>画面の中心になるように追う</strong>事だ。<br>
でも<strong>ステージの始め</strong>は、ゴールを映して徐々にプレイヤーにカメラを動かす演出がいる。<br>
プレイヤーが<strong>入れ替わるとき</strong>にも、少し遅らせ気味にプレイヤーを追うように演出する。<br>
これを実装するために、ボクはこんな感じにいくつかの状態（ステート）で考えたよ。<br>
<a href="https://camo.qiitausercontent.com/f613ca50b0e8e1f7617125aff2df8a5afafa8ec0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3334333330392f38393362623732342d633565302d336130312d333030342d3739396435393934653236372e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F893bb724-c5e0-3a01-3004-799d5994e267.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=23e6ac6ea65dbe902333a8ca9bdd5f69" alt="pertica_Qiita_Camera.png" title="頑張れカメラマン" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/343309/893bb724-c5e0-3a01-3004-799d5994e267.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F893bb724-c5e0-3a01-3004-799d5994e267.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=c6458037c788122b59f8fea368ccb6a5 1x" loading="lazy"></a><br>
持ってるスクリプトは</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">MoveCamera.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">void</span> <span class="nf">SetState</span><span class="p">(</span><span class="n">CameraState</span> <span class="n">state</span><span class="p">)</span>
  <span class="err">状態</span><span class="p">(</span><span class="err">ステート）を切り替える関数</span>

<span class="k">void</span> <span class="nf">LookClearHole_Move</span><span class="p">()</span>
  <span class="err">ゴール</span><span class="p">(</span><span class="n">ClearHole</span><span class="p">)</span><span class="err">からプレイヤーの位置にカメラを移動させる。</span>
  <span class="err">ゲームの開始時に使う。</span>
  <span class="n">LookClearHole</span><span class="err">という状態</span><span class="p">(</span><span class="err">ステート</span><span class="p">)</span><span class="err">のときに使われる。</span>

<span class="k">void</span> <span class="nf">TracePlayer_Move</span><span class="p">()</span>
  <span class="err">プレイヤーのカメラの中心に捉えるように、プレイヤーを追いかけ続ける。</span>
  <span class="err">プレイヤーが静止しているときに使う。</span>
  <span class="n">TracePlayer</span><span class="err">という状態</span><span class="p">(</span><span class="err">ステート</span><span class="p">)</span><span class="err">のときに使われる。</span>

<span class="k">void</span> <span class="nf">GoToTarget_Move</span><span class="p">(</span><span class="n">GameObject</span> <span class="n">objTarget</span><span class="p">,</span> <span class="kt">float</span> <span class="n">speed</span><span class="p">)</span>
  <span class="err">プレイヤーの方向にゆっくりと移動する。</span>
  <span class="err">プレイヤーが入れ替わるときに使う。</span>
  <span class="n">GoToTarget</span><span class="err">という状態</span><span class="p">(</span><span class="err">ステート</span><span class="p">)</span><span class="err">のときに使われる。</span>
</code></pre></div>
</div>

<p>実はカメラの制御は結構難しい。<br>
良い演出が思いついても、難しくて実現できてないものもあるんだ。<br>
特に、ズームとかが入ってくると厄介で...。</p>

<h3>
<span id="ゲームマネージャー-1" class="fragment"></span><a href="#%E3%82%B2%E3%83%BC%E3%83%A0%E3%83%9E%E3%83%8D%E3%83%BC%E3%82%B8%E3%83%A3%E3%83%BC-1"><i class="fa fa-link"></i></a>ゲームマネージャー</h3>

<p>ゲーム全体の管理をすると言ったね。<br>
このオブジェクトはボクが作ったスクリプトだけで出来てる。</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">Main.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">void</span> <span class="nf">Reset</span><span class="p">(</span><span class="kt">float</span> <span class="n">WaitTime</span> <span class="p">=</span> <span class="m">1</span><span class="p">)</span>
  <span class="err">ステージをリセットする。</span>
  <span class="err">ゲームシーンを最初から読み込み直す。</span>
  <span class="err">リトライボタンを押したり、死んでしまったときに使うよ。</span>

<span class="k">public</span> <span class="k">void</span> <span class="nf">LoadMenu</span><span class="p">()</span>
  <span class="err">ゲームシーンを終了して、メニューシーンに移動する。</span>
  <span class="err">メニューボタンを押したときに使うよ。</span>

<span class="k">public</span> <span class="k">void</span> <span class="nf">FadeIn</span><span class="p">()</span>
  <span class="err">ゲームシーンを終わるときに、画面全体を徐々に暗くするよ。</span>
  <span class="err">ゲームをクリアーしたり、メニューに戻ったりするときに使う。</span>
</code></pre></div>
</div>

<p>と、</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">Tutorial.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">void</span> <span class="nf">Update</span><span class="p">()</span>
  <span class="err">ゲームを初めてプレイする場合、チュートリアルを表示する。</span>
</code></pre></div>
</div>

<p>主にこの２つのスクリプトだ。</p>

<p>初めてスクリプトを<strong>２つ</strong>もった<strong>ゲームオブジェクト</strong>が出てきたね。<br>
<strong>ゲームオブジェクト</strong>は２つどころか、<strong>スクリプト</strong>を<strong>いくつでも</strong>持てるんだ。</p>

<p>ゲーム全体を管理すると言ったけど、<br>
このゲームでは、ゲームマネージャーの仕事は少なめだね。</p>

<h3>
<span id="デコードオブジェクト-1" class="fragment"></span><a href="#%E3%83%87%E3%82%B3%E3%83%BC%E3%83%89%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88-1"><i class="fa fa-link"></i></a>デコードオブジェクト</h3>

<p>Dataフォルダに入っている、StageCodeDataという名前のステージの<strong>データ</strong>を元に実際に<strong>ステージを生成</strong>するよ。<br>
データの仕組みや構造については別の回で説明するね。<br>
デコードオブジェクトは<strong>スクリプトだけ</strong>で出来ているよ。<br>
ちなみに、これは先輩が作ってくれたんだ。</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">DecodeStageScript.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">void</span> <span class="nf">Awake</span><span class="p">()</span>
  <span class="err">メニュー画面で選択したステージのデータをロードする。</span>
  <span class="err">データを解読</span><span class="p">(</span><span class="err">デコード</span><span class="p">)</span><span class="err">して、対応するゲームオブジェクトを次々に生成していく。</span>
  <span class="err">生成したオブジェクトによっては、初期状態を指定する。</span>
</code></pre></div>
</div>

<h3>
<span id="ui-1" class="fragment"></span><a href="#ui-1"><i class="fa fa-link"></i></a>UI</h3>

<p>UIは、<strong>ボタン</strong>の事だったね。<br>
UIは基本的に<strong>スクリプトを持っていない</strong>んだ。<br>
これは<strong>全部</strong>Unityが用意してくれている<strong>コンポーネント</strong>で出来ている。<br>
ボタンを押すと、<a href="https://qiita.com/shoi_ito/items/a2adf87dd783c8379178#%E3%82%B2%E3%83%BC%E3%83%A0%E3%83%9E%E3%83%8D%E3%83%BC%E3%82%B8%E3%83%A3%E3%83%BC-1">ゲームマネージャー</a>が持ってるスクリプトの</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">Main.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">void</span> <span class="nf">Reset</span><span class="p">(</span><span class="kt">float</span> <span class="n">WaitTime</span> <span class="p">=</span> <span class="m">1</span><span class="p">)</span>
</code></pre></div>
</div>

<p>とか</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">Main.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">void</span> <span class="nf">LoadMenu</span><span class="p">()</span>
</code></pre></div>
</div>

<p>を使うように設定できるんだ。</p>

<h3>
<span id="bgmse-1" class="fragment"></span><a href="#bgmse-1"><i class="fa fa-link"></i></a>BGM・SE</h3>

<p><strong>音を鳴らす</strong>機能を持っていたね。<br>
これは、スクリプトを持っているよ。<br>
まず、SEは</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">SEPlayer.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">PlaySE</span><span class="p">(</span><span class="kt">string</span> <span class="n">keyname</span><span class="p">)</span>
  <span class="err">指定した</span><span class="n">SE</span><span class="err">を再生するよ。</span>
  <span class="err">流す</span><span class="n">SE</span><span class="err">は、事前に曲のファイルとキーワードを紐付ける必要がある。</span>
</code></pre></div>
</div>

<p>そして、BGMは</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">BGMPlayer.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">FadeinBGM</span><span class="p">(</span><span class="kt">string</span> <span class="n">keyname</span><span class="p">,</span><span class="kt">float</span> <span class="n">pertime</span><span class="p">=</span><span class="m">0.008f</span><span class="p">)</span>
  <span class="err">指定した</span><span class="n">BGM</span><span class="err">をフェードインしながら再生するよ。</span>
  <span class="err">曲が変わるときの違和感をなくすために、曲の入りで徐々に音を大きくするんだ。</span>
  <span class="err">流す</span><span class="n">BGM</span><span class="err">は、事前に曲のファイルとキーワードを紐付ける必要がある。</span>

<span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">FadeoutBGM</span><span class="p">(</span><span class="kt">float</span> <span class="n">pertime</span><span class="p">=</span><span class="m">0.009f</span><span class="p">)</span>
  <span class="err">指定した</span><span class="n">BGM</span><span class="err">をフェードアウトしながら終了するよ。</span>
  <span class="err">曲が変わるときの違和感をなくすために、曲の終わりで徐々に音を小さくするんだ。</span>
</code></pre></div>
</div>

<p>大事なのはこんな感じだ。</p>

<p>例えばプレイヤーが球を発射するときは音が鳴る。<br>
この時、SEPlayerのPlaySEを使うんだよ。</p>

<p>他にも、音を出したいときにはこのスクリプトを使って音を鳴らすんだ。<br>
ちなみに、これも先輩が作ってくれたよ。</p>

<h1>
<span id="まとめ" class="fragment"></span><a href="#%E3%81%BE%E3%81%A8%E3%82%81"><i class="fa fa-link"></i></a>まとめ</h1>

<p>ゲームは<strong>「１０個の部品」</strong>で出来ていた。<br>
さらに<strong>「１０個の部品」</strong>はもっと<strong>「小さな部品」</strong>で出来ている。<br>
Unityではこの<strong>「１０個の部品」</strong>を<strong>「ゲームオブジェクト」</strong>、<br>
<strong>「小さな部品」</strong>を<strong>「コンポーネント」</strong>と呼ぶ。</p>

<p><strong>「コンポーネント」</strong>はUnityが用意してくれているものと、自分で作るものがある。<br>
自分で作るコンポーネントの事を<strong>「スクリプト」</strong>と呼ぶことにしたね。</p>

<p><strong>「スクリプト」</strong>は大事な機能を持っていて<strong>「脳」</strong>みたいなものなんだ。<br>
だから今回は、そんなスクリプトについて説明したよ。<br>
実際には、パソコンが理解できるように<strong>C#</strong>という言葉を使って書くんだ。<br>
その言葉を書く作業が<strong>プログラミング</strong>だよ。</p>

<p>なんとなく分かったかな？</p>

<h1>
<span id="制作秘話" class="fragment"></span><a href="#%E5%88%B6%E4%BD%9C%E7%A7%98%E8%A9%B1"><i class="fa fa-link"></i></a>制作秘話</h1>

<p><strong>pertica</strong>の制作を初めて２ヶ月くらいたったある日。<br>
帰り道でボクが唐突に言った。</p>

<p>「先輩、重力を消しましょう」</p>

<p>先輩「？？？？？」</p>

<p>ボクが真顔で言うもんだから、ついに頭がおかしくなったかと思われた。</p>

<p>今のperticaは宇宙感のあるゲームで<strong>無重力</strong>だ。<br>
でも昔は<strong>重力</strong>があったんだよ。</p>

<p>昔のperticaは入れ替わった直後に重力で下に落ちたんだ。<br>
でもそれだと、画面の動きが目まぐるしくて落ち着いて遊べなかった。<br>
そこで、perticaでは重力をなくした方が良いんじゃないかと思ったんだ。</p>

<p>先輩はオーケーしてくれて、それから<strong>「無重力計画」</strong>が始まった。<br>
結構な変更だったから大変だったよ。<br>
先輩もよく付き合ってくれた、本当に感謝してる。</p>

<p>無重力にしたのが良かったのか悪かったのかは分からない。<br>
でも面白いゲームを作るために思い切って変えたことに後悔はしていないよ。</p>

<p>他にこんな話もある</p>

<p>メインシーンは「ゲームを作ろう」と思って最初に作り始めた部分だった。</p>

<p>「プレイヤー」「Dog」「通常の壁」「反射壁」「ClearHole」「ワープホール」「キューブ」「スイッチ壁」<br>
これは機能だけなら最初の<strong>１ヶ月くらい</strong>で出来たんだ。<br>
見た目とかは、適当な画像で代用してたけどね...。</p>

<p>実は最初の頃は「Cat」とか「Ojisan」とかもいたんだよ。<br>
その辺は今後「デザインについて」の記事も書くからその時に話そうかな。<br>
多分その記事は<strong>神回</strong>になるよ。</p>

<h1>
<span id="コメント" class="fragment"></span><a href="#%E3%82%B3%E3%83%A1%E3%83%B3%E3%83%88"><i class="fa fa-link"></i></a>コメント</h1>

<p>ここまで読んでくれてありがとう。</p>

<p>今回は、メインシーンについて触れた。<br>
少し文量が多かったね...。</p>

<p>Unityを知らない人にも、ゲームの仕組みが分かるように書いてみたんだけど、どうだったかな？</p>

<p>今このシリーズ記事の全体の構成をぼんやりと考えてるんだけど、多分全部で１０回くらいになると思う。</p>

<p>なるべくこのゲームを全部公開したいんだけど、どうすると上手く伝えられるかな。<br>
もし、気になる事とか書いてほしい事があったらコメントしてね。</p>

<p>そろそろ実物があった方が分かりやすいんじゃないかな？<br>
もし興味をもってくれたら、よろしくお願いします。<br>
perticaは下のリンクからインストール出来るよ。</p>

<ul>
<li><a href="https://itunes.apple.com/jp/app/id1445813632?mt=8&amp;ign-mpt=uo%3D4" rel="nofollow noopener" target="_blank">AppStore</a></li>
<li><a href="https://play.google.com/store/apps/details?id=tmy.jack.pertica" rel="nofollow noopener" target="_blank">Android</a></li>
</ul>

<p><a href="https://qiita.com/shoi_ito/items/2234414af441e448a85e">大学生が有料スマホゲームを作った全てを公開するよ（１）イントロダクション</a><br>
<a href="https://qiita.com/shoi_ito/private/b9acd13f5fe80536fd0d" id="reference-4c469e0e1caee17c070a">大学生が有料スマホゲームを作った全てを公開するよ（２）開発環境とゲームの構成</a><br>
<a href="https://qiita.com/shoi_ito/private/a2adf87dd783c8379178">大学生が有料スマホゲームを作った全てを公開するよ（３）ゲームの構造・パズルとアクションの仕組み（前編）</a><br>
<a href="https://qiita.com/shoi_ito/items/ed485d4f956959e6cd36" id="reference-4628f932abc464817f03">大学生が有料スマホゲームを作った全てを公開するよ（４）ゲームの成り立ち・パズルとアクションの仕組み（後編）</a></p>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2Fshoi_ito%2Fitems%2Fa2adf87dd783c8379178&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2Fshoi_ito%2Fitems%2Fa2adf87dd783c8379178&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/shoi_ito/items/a2adf87dd783c8379178/likers" class="css-1iupg5d">6</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">5</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/a2adf87dd783c8379178/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/shoi_ito/items/a2adf87dd783c8379178/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/shoi_ito/items/a2adf87dd783c8379178/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/shoi_ito/items/a2adf87dd783c8379178/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/shoi_ito/items/a2adf87dd783c8379178.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-3649da75-6bd0-4085-acc7-8eaf890f6b94">{"authorAnalyticsTrackingId":null,"organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-c2d4b4be-f485-4fd6-8943-ac938dfd9f77"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-c2d4b4be-f485-4fd6-8943-ac938dfd9f77">{}</script>
      
<div id="LoginModal-react-component-5e9081cd-ebb7-44b7-9942-b6b8678d3525"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-5e9081cd-ebb7-44b7-9942-b6b8678d3525">{}</script>
      
<div id="StockModal-react-component-3344dc78-cc89-4d66-b60c-4d9169ab425b"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-3344dc78-cc89-4d66-b60c-4d9169ab425b">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;Hy7X3i8pOSsbtg7J7d0quO0B/svCqErDFO+cV5TPAhYic0hUm5p/aqwfL54haHFp/s5Lk0q516obYIaYGV0Aeg==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\u003cp\u003e\u003ca href=\"https://qiita.com/shoi_ito/items/b9acd13f5fe80536fd0d\" id=\"reference-4c469e0e1caee17c070a\"\u003e大学生が有料スマホゲームを作った全てを公開するよ（２）開発環境とゲームの構成\u003c/a\u003e\u003cbr\u003e\nの続き。\u003cbr\u003e\n第一回はこちら。\u003cbr\u003e\n\u003ca href=\"https://qiita.com/shoi_ito/items/2234414af441e448a85e\" id=\"reference-06232e4ae84ae867e475\"\u003e大学生が有料スマホゲームを作った全てを公開するよ（１）イントロダクション\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e今回は、メインの\u003cstrong\u003eゲームシーン\u003c/strong\u003eについて。\u003cbr\u003e\nいわゆる、\u003cstrong\u003eインゲーム\u003c/strong\u003eと呼ばれる部分。\u003cbr\u003e\n逆に、メニュー画面とかは\u003cstrong\u003eアウトゲーム\u003c/strong\u003eって呼ばれる。\u003cbr\u003e\npertica(この記事で紹介するゲーム)の場合は、\u003cstrong\u003eパズル\u003c/strong\u003eと\u003cstrong\u003eアクションの仕組み\u003c/strong\u003eを中心に解説していくよ。\u003cbr\u003e\nパズルと言っても\u003cstrong\u003e謎解き\u003c/strong\u003eみたいな感じだから、もしかしたらみんなのイメージとは少し違うかもしれない。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"ちょっとずつunityも出てくる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%A1%E3%82%87%E3%81%A3%E3%81%A8%E3%81%9A%E3%81%A4unity%E3%82%82%E5%87%BA%E3%81%A6%E3%81%8F%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eちょっとずつUnityも出てくる\u003c/h1\u003e\n\n\u003cp\u003eここから先は、ちょっとずつ\u003cstrong\u003eUnity\u003c/strong\u003eの話になる。\u003cbr\u003e\n\u003cstrong\u003eプログラミング\u003c/strong\u003eも出てくるし、\u003cbr\u003e\n初めて見る人には結構難しいかもしれない。\u003cbr\u003e\n\u003cstrong\u003eUnityがどんなものかの説明\u003c/strong\u003eも書いてるから、\u003cbr\u003e\nなんとなーくでも理解してもらえると嬉しい。\u003cbr\u003e\n後でUnityを使うようになったら\u003cstrong\u003eまた見に来ても良いよ\u003c/strong\u003e！\u003c/p\u003e\n\n\u003cp\u003eUnityを知っている人や、ゲームを作った事がある人は参考にしてみて。\u003cbr\u003e\nボクはこうやってゲームを作ったよ。\u003cbr\u003e\nこの記事だと、後になるほど技術的になるから記事の下の方を見ると面白いかも。\u003cbr\u003e\nこれは前編で、後編はもっと技術的な話をするつもり。\u003cbr\u003e\nアドバイスも待ってます！\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"主要なゲームオブジェクト\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%B8%BB%E8%A6%81%E3%81%AA%E3%82%B2%E3%83%BC%E3%83%A0%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e主要なゲームオブジェクト\u003c/h1\u003e\n\n\u003cp\u003e前回の記事でも触れたけど、ゲームシーンは大きく３つの機能を持っている。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eメニューで選択したステージを生成する\u003c/li\u003e\n\u003cli\u003eステージが遊べる\u003c/li\u003e\n\u003cli\u003eクリアしたら保存する\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eこの３つだ。\u003cbr\u003e\nそして、これを実現するために、\u003cbr\u003e\nこのゲームは\u003cstrong\u003e１０個の「部品」\u003c/strong\u003eで出来ている。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/dde7df49c3ace4fa2d68c87496de5f9f0bce1086/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3334333330392f37663565346633392d623061652d666332642d626662662d6635613734333533626534622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F7f5e4f39-b0ae-fc2d-bfbf-f5a74353be4b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=617c6e4136383665681fa8b07dd51c2f\" alt=\"pertica_Qiita説明.png\" title=\"なぜかFireAlpacaで書いたよ\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/343309/7f5e4f39-b0ae-fc2d-bfbf-f5a74353be4b.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F7f5e4f39-b0ae-fc2d-bfbf-f5a74353be4b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=8f85c477486de70e026015d6f0a26ed1 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003col\u003e\n\u003cli\u003eプレイヤー [Player]\u003c/li\u003e\n\u003cli\u003eブロック [Blocks]\u003c/li\u003e\n\u003cli\u003e敵 [Enemies]\u003c/li\u003e\n\u003cli\u003eアイテム [Items]\u003c/li\u003e\n\u003cli\u003eその他のステージオブジェクト [Others]\u003c/li\u003e\n\u003cli\u003eカメラ [Main Camera]\u003c/li\u003e\n\u003cli\u003eゲームマネージャー [GameController]\u003c/li\u003e\n\u003cli\u003eデコードオブジェクト [DecodeObject]\u003c/li\u003e\n\u003cli\u003eUI（リトライボタン、戻るボタン） [UI Canvas]\u003c/li\u003e\n\u003cli\u003eBGM・SE [BGMSource, SESource]\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cp\u003eこれらの\u003cstrong\u003e「部品」\u003c/strong\u003eを今後は、\u003cstrong\u003e「ゲームオブジェクト」\u003c/strong\u003eと呼ぶことにするよ。\u003cbr\u003e\nUnityの中でも同じ名前で呼ばれるんだ。\u003cbr\u003e\nでも長いから短く\u003cstrong\u003e「オブジェクト」\u003c/strong\u003eって言う時があるかも。\u003c/p\u003e\n\n\u003cp\u003eちなみに、[ ]の中はUnityの中での名前だ。\u003cbr\u003e\nそれぞれ説明するね。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"プレイヤー\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%97%E3%83%AC%E3%82%A4%E3%83%A4%E3%83%BC\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eプレイヤー\u003c/h3\u003e\n\n\u003cp\u003eゲームを遊ぶ人が操作する\u003cstrong\u003eキャラクター\u003c/strong\u003eだ。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eタップした場所に弾を飛ばす\u003c/li\u003e\n\u003cli\u003e弾が当たったオブジェクトと入れ替わる\u003c/li\u003e\n\u003cli\u003e敵に触れたら死んでしまう\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eこの３つの機能を持っているよ。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"ブロック\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eブロック\u003c/h3\u003e\n\n\u003cp\u003e基本的に\u003cstrong\u003e四角くて動かない\u003c/strong\u003eもの。\u003cbr\u003e\n壁のこと。\u003cbr\u003e\nマリオのブロックみたいな、四角くて動かないオブジェクトだ。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"敵\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%95%B5\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e敵\u003c/h3\u003e\n\n\u003cp\u003e\u003cstrong\u003eプレイヤー\u003c/strong\u003eは\u003cstrong\u003e敵\u003c/strong\u003eに当たると\u003cstrong\u003e死んでしまう\u003c/strong\u003e。\u003cbr\u003e\nプレイヤーに対して\u003cstrong\u003e攻撃をしてくる\u003c/strong\u003eオブジェクトだ。\u003cbr\u003e\nマリオのクリボーとかノコノコと同じだ。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"アイテム\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A2%E3%82%A4%E3%83%86%E3%83%A0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eアイテム\u003c/h3\u003e\n\n\u003cp\u003e壁を出したり消したりする\u003cstrong\u003eスイッチ\u003c/strong\u003eとか、\u003cstrong\u003eワープホール\u003c/strong\u003eとか。\u003cbr\u003e\nプレイヤーが道具として使うもの。\u003cbr\u003e\n壁と違って\u003cstrong\u003e動く\u003c/strong\u003e可能性があって、\u003cstrong\u003e四角くない\u003c/strong\u003e。\u003cbr\u003e\nマリオでいうと、キノコとかスターのことだ。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"その他のステージオブジェクト\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%9D%E3%81%AE%E4%BB%96%E3%81%AE%E3%82%B9%E3%83%86%E3%83%BC%E3%82%B8%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eその他のステージオブジェクト\u003c/h3\u003e\n\n\u003cp\u003e今説明した「プレイヤー、ブロック、敵、アイテム」の事を、ボクは「\u003cstrong\u003eステージオブジェクト\u003c/strong\u003e」と呼ぶことにしたんだ。\u003cbr\u003e\nでも\u003cstrong\u003e背景の星\u003c/strong\u003eとか、敵が出す\u003cstrong\u003eレーザー\u003c/strong\u003eなんかはその４つでは分類できない。\u003cbr\u003e\nだからブロック、敵、アイテムに分けにくいものを、例外として分類する為に「その他」を作ったんだ。\u003cbr\u003e\nこれでステージオブジェクトは\u003cstrong\u003e「プレイヤー、ブロック、敵、アイテム、その他」\u003c/strong\u003eの\u003cstrong\u003e５種類\u003c/strong\u003eになった。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"カメラ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%AB%E3%83%A1%E3%83%A9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eカメラ\u003c/h3\u003e\n\n\u003cp\u003e\u003cstrong\u003eカメラ\u003c/strong\u003eはスマホの画面に\u003cstrong\u003eゲームを映す機能\u003c/strong\u003eをもってる。\u003cbr\u003e\n\u003cstrong\u003eテレビ\u003c/strong\u003eは\u003cstrong\u003eビデオカメラで撮影\u003c/strong\u003eした映像を表示してるよね。\u003cbr\u003e\nあれと同じで、\u003cstrong\u003eゲームの中の出来事を撮影\u003c/strong\u003eして\u003cstrong\u003eスマホの画面に表示\u003c/strong\u003eしてくれるんだ。\u003cbr\u003e\nズームしたり、カメラを複数使うことも出来るよ。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"ゲームマネージャー\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B2%E3%83%BC%E3%83%A0%E3%83%9E%E3%83%8D%E3%83%BC%E3%82%B8%E3%83%A3%E3%83%BC\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eゲームマネージャー\u003c/h3\u003e\n\n\u003cp\u003eゲーム全体の\u003cstrong\u003e管理をする\u003c/strong\u003eオブジェクトだ。\u003cbr\u003e\nこのゲーム(pertica)では、\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eリセット\u003c/li\u003e\n\u003cli\u003eメニューに戻る\u003c/li\u003e\n\u003cli\u003eステージオブジェクトを作る\u003c/li\u003e\n\u003cli\u003eフェードイン\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eの４つの機能を担当している。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"デコードオブジェクト\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%87%E3%82%B3%E3%83%BC%E3%83%89%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eデコードオブジェクト\u003c/h3\u003e\n\n\u003cp\u003eゲームの最初に\u003cstrong\u003eステージを設置\u003c/strong\u003eする機能を持ってる。\u003cbr\u003e\nperticaはパズルゲームだから、パズルのステージを用意しないといけない。\u003cbr\u003e\nステージはたくさん欲しいよね。\u003cbr\u003e\nそしたらボクだけじゃなくて、友達にもステージを作ってもらった方が良さそうだ。\u003cbr\u003e\n友達がステージを作れるように、ボクは友達に\u003cstrong\u003e「ステージを作るツール」\u003c/strong\u003eを渡す。\u003cbr\u003e\n友達はステージを作ったら、\u003cstrong\u003e「保存」\u003c/strong\u003eボタンを押す。\u003cbr\u003e\nそうすると、作ったステージが「どこに何があるか」を\u003cstrong\u003e文字\u003c/strong\u003eにした\u003cstrong\u003eデータ\u003c/strong\u003eになるんだ。\u003cbr\u003e\nでも\u003cstrong\u003eデータ\u003c/strong\u003eでは遊ぶ事は出来ない。\u003cbr\u003e\n遊ぶ時には\u003cstrong\u003eデータ\u003c/strong\u003eを実際に\u003cstrong\u003eステージ\u003c/strong\u003eに変換しなきゃいけない。\u003cbr\u003e\nそれをするのが、この\u003cstrong\u003eデコードオブジェクト\u003c/strong\u003eなんだ。\u003cbr\u003e\nゲームが始まった瞬間に、「メニューで選んだステージの\u003cstrong\u003eデータ\u003c/strong\u003e」から「\u003cstrong\u003eステージ\u003c/strong\u003e」を作ってくれる、とっても賢いヤツなんだ。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"ui\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#ui\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eUI\u003c/h3\u003e\n\n\u003cp\u003e\u003cstrong\u003eリトライボタン\u003c/strong\u003eとか、\u003cstrong\u003eメニューに戻るボタン\u003c/strong\u003eの事だ。\u003cbr\u003e\nUIっていうのは、人がゲームを操作するために必要な\u003cstrong\u003e仲介人\u003c/strong\u003eなんだ。\u003cbr\u003e\n「ゲームをもう一度やり直したい」とか、「メニューに戻りたい」と思うよね。\u003cbr\u003e\nUIに頼めば、それを実際にやってくれるんだ。\u003cbr\u003e\n頼む方法はボタンを押すだけだよ。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"bgmse\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#bgmse\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eBGM・SE\u003c/h3\u003e\n\n\u003cp\u003e\u003cstrong\u003e音\u003c/strong\u003eを流す機能を持っている。\u003cbr\u003e\nBGMはゲーム中にずっとなってる\u003cstrong\u003e音楽\u003c/strong\u003e\u003cbr\u003e\nSEは「弾を飛ばす音」「スイッチを押す音」みたいな\u003cstrong\u003e効果音\u003c/strong\u003eの事だ。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"実装方法\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85%E6%96%B9%E6%B3%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装方法\u003c/h1\u003e\n\n\u003cp\u003eゲームが何で出来てるかは何となく分かったかな？\u003cbr\u003e\n部品が「１０個」なのは多いと思った？\u003cbr\u003e\nそれとも少ないと感じたかな。\u003cbr\u003e\n段々と技術的な話に入っていくよ。\u003cbr\u003e\n面白くなかったら飛ばして、最後のコメントだけ見ても良いよ。\u003cbr\u003e\n今回は、ちょっとした\u003cstrong\u003e制作秘話\u003c/strong\u003eも書いてみた。\u003c/p\u003e\n\n\u003cp\u003eここからは、Unityを少し知っている人向けになると思う。\u003cbr\u003e\nでもUnityを知らない人にも楽しんでもらいたいから、\u003cbr\u003e\n簡単にUnityでの\u003cstrong\u003eゲームの考え方\u003c/strong\u003eを書いてみるね。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"unityの簡単な説明\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#unity%E3%81%AE%E7%B0%A1%E5%8D%98%E3%81%AA%E8%AA%AC%E6%98%8E\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eUnityの簡単な説明\u003c/h2\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/fbebf6d4dfe53cde69d2ef83036e044f681c0b5c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3334333330392f39306435633037332d613537372d373039612d346535362d6464326535613539633731332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F90d5c073-a577-709a-4e56-dd2e5a59c713.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c9f785896afe007990b3b2fe93d46002\" alt=\"_Unityの説明.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/343309/90d5c073-a577-709a-4e56-dd2e5a59c713.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F90d5c073-a577-709a-4e56-dd2e5a59c713.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=3c3c728d689a08700176d58ae7ff7173 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eUnityでは\u003ca href=\"https://qiita.com/shoi_ito/items/a2adf87dd783c8379178#%E4%B8%BB%E8%A6%81%E3%81%AA%E3%82%B2%E3%83%BC%E3%83%A0%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88\" title=\"「Player2」になってるのは気にしないで\"\u003e主要なゲームオブジェクト\u003c/a\u003eで書いたような\u003cstrong\u003e部品\u003c/strong\u003eの事を\u003cstrong\u003eゲームオブジェクト\u003c/strong\u003eと呼ぶって言ったね。\u003cbr\u003e\nそれぞれの\u003cstrong\u003eゲームオブジェクト\u003c/strong\u003eは、さらに\u003cstrong\u003eコンポーネント\u003c/strong\u003eと呼ばれるもっと\u003cstrong\u003e「小さな部品」\u003c/strong\u003eで出来てるんだ。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/768d60c16928bc423b48b2c1d1585fb83a53023e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3334333330392f34303064636530612d356561332d333334372d316339352d3432326362643163613766322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F400dce0a-5ea3-3347-1c95-422cbd1ca7f2.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=114799a5c74d21f329a9552425f5715a\" alt=\"スクリーンショット 2019-01-22 13.46.46.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/343309/400dce0a-5ea3-3347-1c95-422cbd1ca7f2.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F400dce0a-5ea3-3347-1c95-422cbd1ca7f2.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=5673a9efa26c276a209384539da05aac 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e例えば、ゲーム内の\u003cstrong\u003eプレイヤー\u003c/strong\u003eは\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e今いる\u003cstrong\u003e座標\u003c/strong\u003eを定める部品 [Transform]\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003e見た目\u003c/strong\u003eを決める部品 [Particle System]\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003e物理挙動\u003c/strong\u003eを制御する部品 [Rigidbody 2D]\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003e当たり判定\u003c/strong\u003eを調べる部品 [Circle Collider 2D]\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003eアニメーション\u003c/strong\u003eを制御する部品 [Animator]\u003c/li\u003e\n\u003cli\u003eプレイヤーの\u003cstrong\u003e動作(弾を飛ばす、移動するなど)\u003c/strong\u003eを制御する部品 [Player(Script)]\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eみたいな\u003cstrong\u003e小さな部品(コンポーネント)\u003c/strong\u003eで出来ている。\u003cbr\u003e\nこのうち、\u003cstrong\u003e上の５つ\u003c/strong\u003eはUnityが用意してくれてるんだ。\u003cbr\u003e\nだから、ボクが作るのは\u003cstrong\u003e一番下の一つ\u003c/strong\u003eだけ。\u003cbr\u003e\nこのゲーム特有の動きを決めるんだ。\u003cbr\u003e\n\u003cstrong\u003e脳\u003c/strong\u003eを作ると言っても良い。\u003cbr\u003e\nそして、この部品を作るために\u003cstrong\u003eプログラミング\u003c/strong\u003eを使うんだよ。\u003c/p\u003e\n\n\u003cp\u003e[ ]の中はUnityの中での呼び方で、\u003cstrong\u003ePlayer(Script)\u003c/strong\u003eはボクが作ったんだ。\u003cbr\u003e\nこういう\u003cstrong\u003eプログラミング\u003c/strong\u003eで、\u003cstrong\u003e自分で作ったコンポーネント\u003c/strong\u003eを今後は\u003cstrong\u003e「スクリプト」\u003c/strong\u003eと呼ぶよ。\u003cbr\u003e\nUnityの考え方では、\u003cbr\u003e\n「\u003cstrong\u003e車\u003c/strong\u003eの部品に\u003cstrong\u003eタイヤ\u003c/strong\u003eがあって、\u003cstrong\u003eタイヤ\u003c/strong\u003eの部品に\u003cstrong\u003eネジ\u003c/strong\u003eがある」みたいに\u003cbr\u003e\n「\u003cstrong\u003eゲーム\u003c/strong\u003eの部品に\u003cstrong\u003eプレイヤー\u003c/strong\u003eがあって、\u003cstrong\u003eプレイヤー\u003c/strong\u003eの部品に\u003cstrong\u003ePlayer(Script)\u003c/strong\u003e」があるんだ。\u003c/p\u003e\n\n\u003cp\u003e少し退屈かもしれないけど、このゲームのUnityでの実装の仕方を書き残しておくね。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"プロジェクトツリー\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%83%84%E3%83%AA%E3%83%BC\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eプロジェクトツリー\u003c/h2\u003e\n\n\u003cp\u003eメインシーンの説明の前に、Unityのプロジェクトのファイルツリーを書いておくよ。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003eAssets\n├─ Animation\n├─ Data\n├─ Image\n├─ Material\n├─ Music\n├─ ParticleSystem\n├─ Prefab\n├─ Scene\n└─ Script\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e主要なのはこんな感じ。\u003cbr\u003e\nさらに\u003cstrong\u003eResources\u003c/strong\u003eって名前のフォルダを必要に応じてそれぞれのフォルダの下に作るんだ。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"ゲームの仕組みを構造的に見る\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B2%E3%83%BC%E3%83%A0%E3%81%AE%E4%BB%95%E7%B5%84%E3%81%BF%E3%82%92%E6%A7%8B%E9%80%A0%E7%9A%84%E3%81%AB%E8%A6%8B%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eゲームの仕組みを構造的に見る\u003c/h2\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/eb6312913102caac8d84075e159500576d3fd50a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3334333330392f37646465316434632d343939652d333431642d333366352d6332376338373334313039382e676966\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F7dde1d4c-499e-341d-33f5-c27c87341098.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ab7c5965d2cc40d1a87c756ae10995c9\" alt=\"ezgif.com-video-to-gif.gif\" title=\"gifだからカクカクダァ\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/343309/7dde1d4c-499e-341d-33f5-c27c87341098.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F7dde1d4c-499e-341d-33f5-c27c87341098.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=61205b0c6a7eadc5dec5972bcc141fc9 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/df07846ebbca1bca5c00e2cc8c21802d6b8b519d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3334333330392f34643335633433382d343834302d333431302d653964342d3861626164613535633634342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F4d35c438-4840-3410-e9d4-8abada55c644.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=929f80053f992bc702662fec52327a9d\" alt=\"pertica_Qiita1.png\" title=\"Draw.ioで書いたよ\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/343309/4d35c438-4840-3410-e9d4-8abada55c644.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F4d35c438-4840-3410-e9d4-8abada55c644.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=df65b826b3c755ea457bf8bc824e022a 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eここからゲームシーンの説明だ。\u003cbr\u003e\nUnity内のメインのゲームシーンは、DecodeStageと呼ばれるシーン名で管理している。\u003cbr\u003e\nこのシーンが実行されると、まず\u003cstrong\u003eDecodeObject\u003c/strong\u003eがデータフォルダに入っているデータをもとに\u003cstrong\u003eステージを生成\u003c/strong\u003eする。\u003cbr\u003e\n次に、\u003cstrong\u003eMain Camera\u003c/strong\u003eがゴールからプレイヤーに向かって\u003cstrong\u003e移動\u003c/strong\u003e。\u003cbr\u003e\n移動が完了すると、ゲームが始まる。\u003cbr\u003e\nプレイヤーは、キャラクターを操作して\u003cstrong\u003eゴールを目指す\u003c/strong\u003e。\u003cbr\u003e\nゴールにたどり着くとリザルトシーンに\u003cstrong\u003e遷移して\u003c/strong\u003eこのシーンの役目は終わり。\u003cbr\u003e\n分かりにくいかもしれないけど、上の図を目で追って見て欲しい。\u003c/p\u003e\n\n\u003cp\u003eここからは、\u003cstrong\u003e１０個\u003c/strong\u003eの\u003cstrong\u003eゲームオブジェクト\u003c/strong\u003eについて\u003cstrong\u003e実装の概要\u003c/strong\u003eを説明するよ。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita.com/shoi_ito/items/a2adf87dd783c8379178#unity%E3%81%AE%E7%B0%A1%E5%8D%98%E3%81%AA%E8%AA%AC%E6%98%8E\"\u003eUnityの簡単な説明\u003c/a\u003eで書いたようにUnityは１つの\u003cstrong\u003eゲームオブジェクト\u003c/strong\u003eがたくさんの\u003cstrong\u003eコンポーネント\u003c/strong\u003eから出来ている。\u003cbr\u003e\n\u003cstrong\u003e前編\u003c/strong\u003eの今回は、そのたくさんの\u003cstrong\u003eコンポーネント\u003c/strong\u003eのうちとても大事な\u003cstrong\u003e「脳」\u003c/strong\u003eの部分\u003cstrong\u003e「スクリプト」\u003c/strong\u003eを中心に解説するよ。\u003cbr\u003e\n\u003cstrong\u003e「スクリプト」\u003c/strong\u003eは\u003cstrong\u003eプログラミング\u003c/strong\u003eを使って\u003cstrong\u003eボクが作ったもの\u003c/strong\u003eだったね。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"プレイヤー-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%97%E3%83%AC%E3%82%A4%E3%83%A4%E3%83%BC-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eプレイヤー\u003c/h3\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/762bf6449433fae0686f0cfb0a08991b9819d3f0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3334333330392f66353662326638312d656136372d643366362d663232322d3030313461333030393066372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2Ff56b2f81-ea67-d3f6-f222-0014a30090f7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c5c1a51473ab7925985787ded309cd8f\" alt=\"pertica_Qiita_Player.png\" title=\"踊りは２種類あるよ。踊る意味はないよ。\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/343309/f56b2f81-ea67-d3f6-f222-0014a30090f7.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2Ff56b2f81-ea67-d3f6-f222-0014a30090f7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=61a6ac0df01bd2074e939176bcebdb63 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eプレイヤーの構造はこんな感じだ。\u003cbr\u003e\nそしてプレイヤーの持つスクリプトは\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ePlayer.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eIdlingAnimation\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e踊るアニメーションを行うよ\u003c/span\u003e\n  \u003cspan class=\"err\"\u003eプレイヤーが一定時間何もしなかったときに使う。\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eShift\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eGameObject\u003c/span\u003e \u003cspan class=\"n\"\u003eobj\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e弾が当たったものと位置を入れ替える\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e飛ばした弾が当たった時に使う\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eDie\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n  \u003cspan class=\"err\"\u003eプレイヤーが死ぬ時に使う\u003c/span\u003e\n   \u003cspan class=\"err\"\u003e・死ぬ時のエフェクトを表示\u003c/span\u003e\n   \u003cspan class=\"err\"\u003e・死んだ回数を保存\u003c/span\u003e\n   \u003cspan class=\"err\"\u003e・プレイヤーのゲームオブジェクトを非アクティブにする\u003c/span\u003e\n  \u003cspan class=\"err\"\u003eみたいな事をするよ\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eFire\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n  \u003cspan class=\"err\"\u003eタップした位置に弾を発射する\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e画面をタップした時に使う\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eIEnumerator\u003c/span\u003e \u003cspan class=\"nf\"\u003eTypeAheadCoroutin\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e先行入力を行う\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e弾のクールタイム中に画面がタップされた時に使う\u003c/span\u003e\n  \u003cspan class=\"err\"\u003eクールタイムの終了を待って弾を発射する準備をする\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eこんな感じ。\u003cbr\u003e\n「void IdlingAnimation()」とか「public void Shift(GameObject obj)」とかはその下に書いてある\u003cstrong\u003e機能の名前\u003c/strong\u003eだと思ってくれたら良い。\u003cbr\u003e\nプログラミングを触ったことが無い人は、分かりにくいよね。\u003cbr\u003e\nプログラミングを触ったことがある人にとっては、\u003cstrong\u003e関数\u003c/strong\u003eの事だ。\u003cbr\u003e\n日本語で書いてある説明を、UnityではC#っていう言葉を使って書くんだよ。\u003c/p\u003e\n\n\u003cp\u003e基本的に、先頭に\u003cstrong\u003epublic\u003c/strong\u003eが書いてある関数は他のスクリプトから呼び出される。\u003cbr\u003e\n書いていないのは、自身の\u003cstrong\u003eUpdate関数\u003c/strong\u003eから呼ばれる。\u003cbr\u003e\n\u003cstrong\u003eUpdate関数\u003c/strong\u003eっていうのは、\u003cstrong\u003e毎フレーム\u003c/strong\u003e呼び出される関数のこと。\u003cbr\u003e\n\u003cstrong\u003eフレーム\u003c/strong\u003eっていうのは、ゲームの世界での\u003cstrong\u003e時間\u003c/strong\u003eみたいな感じだ。\u003cbr\u003e\nフレームは１秒に６０回くらい更新されるんだ。\u003cbr\u003e\nだから、Updateも１秒に６０回くらい呼び出される。\u003cbr\u003e\nUpdateの中でif文で条件を書いて関数を呼び出すんだ。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"ブロック-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eブロック\u003c/h3\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/bc53772b8bbd59a727869b76b3380a6b9bfcd7e4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3334333330392f32316564653935342d656164392d346632632d343734322d6664393566346434336566612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F21ede954-ead9-4f2c-4742-fd95f4d43efa.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=f057993f83c80081995bc75e0df61be2\" alt=\"iOS の画像 (1).png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/343309/21ede954-ead9-4f2c-4742-fd95f4d43efa.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F21ede954-ead9-4f2c-4742-fd95f4d43efa.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=fae3b41e423d1a818ce0240e743e8f85 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/b336ab8a05898803ff75a8b80d05f2b74de11961/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3334333330392f66653531646139652d373336652d336230662d636563392d6333646335636132303864662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2Ffe51da9e-736e-3b0f-cec9-c3dc5ca208df.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=373ef0506ea40082369db851eb01e48d\" alt=\"iOS の画像 (2).png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/343309/fe51da9e-736e-3b0f-cec9-c3dc5ca208df.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2Ffe51da9e-736e-3b0f-cec9-c3dc5ca208df.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=7ef0ad7e59312e4b7525c33931116bb7 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eブロックは次の\u003cstrong\u003e３種類\u003c/strong\u003eだ。\u003c/p\u003e\n\n\u003ch5\u003e\n\u003cspan id=\"通常の壁-wall\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%80%9A%E5%B8%B8%E3%81%AE%E5%A3%81-wall\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e通常の壁 [Wall]\u003c/h5\u003e\n\n\u003cp\u003e四角いオブジェクトでどんなものがぶつかっても動かない。\u003cbr\u003e\nプレイヤーの放つ弾が壁に当たると、弾が\u003cstrong\u003e消滅\u003c/strong\u003eする。\u003c/p\u003e\n\n\u003ch5\u003e\n\u003cspan id=\"反射壁-reflection-wall\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%8D%E5%B0%84%E5%A3%81-reflection-wall\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e反射壁 [Reflection Wall]\u003c/h5\u003e\n\n\u003cp\u003e四角いオブジェクトでどんなものがぶつかっても動かない。\u003cbr\u003e\nプレイヤーの放つ弾が壁に当たると、弾が\u003cstrong\u003e跳ね返る\u003c/strong\u003e。\u003c/p\u003e\n\n\u003ch5\u003e\n\u003cspan id=\"スイッチ壁-switch-wall\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B9%E3%82%A4%E3%83%83%E3%83%81%E5%A3%81-switch-wall\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eスイッチ壁 [Switch Wall]\u003c/h5\u003e\n\n\u003cp\u003eレーザーのような見た目をしている。\u003cbr\u003e\n後で紹介する\u003cstrong\u003eスイッチボタン\u003c/strong\u003eによって、壁が\u003cstrong\u003e出現している状態\u003c/strong\u003eと\u003cstrong\u003e消えている状態\u003c/strong\u003eの２つが切り替わる。\u003cbr\u003e\n壁が\u003cstrong\u003e出現している\u003c/strong\u003e時の機能は\u003cstrong\u003e通常の壁と一緒\u003c/strong\u003eで、弾が当たるとその弾は消滅する。\u003cbr\u003e\n壁が\u003cstrong\u003e消えている\u003c/strong\u003e状態では、壁の機能は発揮せずに弾はそのまま\u003cstrong\u003e通過\u003c/strong\u003eするよ。\u003c/p\u003e\n\n\u003cp\u003eさて、それぞれが持つスクリプトを説明するよ。\u003cbr\u003e\nまずは\u003cstrong\u003e通常の壁 [Wall]\u003c/strong\u003eから。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eWall.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e何もない。\u003cbr\u003e\n実際は少しはあるんだけど、エフェクトを出すとか名前をつけるくらいの簡単なものだけだ。\u003cbr\u003e\n\u003cstrong\u003e通常の壁[Wall]\u003c/strong\u003eはほとんど\u003cstrong\u003eUnity\u003c/strong\u003eの機能だけで出来ているんだ。\u003cbr\u003e\n次は\u003cstrong\u003e反射壁 [Reflection Wall]\u003c/strong\u003e。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eReflectionWall.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eも、何も無い。\u003cbr\u003e\n反射するはずの壁が、反射するスクリプトを持っていない。\u003cbr\u003e\n実は、弾が反射するかどうかは壁ではなく、弾の方で処理しているんだ。\u003c/p\u003e\n\n\u003cp\u003eじゃあ最後、\u003cstrong\u003eスイッチ壁 [Switch Wall]\u003c/strong\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eSwitchWall.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetStats\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003estats\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e初期状態で表示か非表示かを設定する。\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eSwitchEnabled\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e壁の表示非表示を切り替える。\u003c/span\u003e\n  \u003cspan class=\"err\"\u003eスイッチボタンの状態が切り替わった時に使う。\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eスイッチ壁はスイッチボタンが押されたときに、状態を変える。\u003cbr\u003e\nでも壁の状態を切り替える処理自体は、スイッチ壁の機能として用意しておくんだ。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"敵-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%95%B5-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e敵\u003c/h3\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/a029580903f69e9e06c5539e87ebd16dc4942ef7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3334333330392f37383365373038322d626337622d356335372d356666632d6161646534373864333232642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F783e7082-bc7b-5c57-5ffc-aade478d322d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=680f8a03e84785ee3ea1b1273d754a28\" alt=\"iOS の画像 (4).png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/343309/783e7082-bc7b-5c57-5ffc-aade478d322d.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F783e7082-bc7b-5c57-5ffc-aade478d322d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=38799626d0ac1627cebca4a3f5114695 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e今のところ敵は\u003cstrong\u003e２種類\u003c/strong\u003e。\u003cbr\u003e\n名前は\u003cstrong\u003eドッグ[Dog]\u003c/strong\u003eと\u003cstrong\u003eピッグ[Pig]\u003c/strong\u003eだ。\u003cbr\u003e\n名前の由来は...まぁそのうち話すよ...。\u003cbr\u003e\n\u003cstrong\u003eドッグ\u003c/strong\u003eは\u003cstrong\u003e直線移動\u003c/strong\u003eして、壁に当たったら\u003cstrong\u003e反対向き\u003c/strong\u003eになる。\u003cbr\u003e\n\u003cstrong\u003eピッグ\u003c/strong\u003eもそれは同じだけど、２つの\u003cstrong\u003eピッグ\u003c/strong\u003eの間には\u003cstrong\u003eレーザー\u003c/strong\u003eが出るんだ。\u003cbr\u003e\n\u003cstrong\u003eドッグ\u003c/strong\u003eが持つスクリプトは、\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eDog.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetStats\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003estats\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e最初の状態を決定する。\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e上下左右とその間の斜め、８種類のうち最初に移動する方向を設定する。\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnCollisionEnter2D\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eCollision2D\u003c/span\u003e \u003cspan class=\"n\"\u003ecoll\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e他のゲームオブジェクトとぶつかった時に使う。\u003c/span\u003e\n  \u003cspan class=\"err\"\u003eぶつかったゲームオブジェクトがプレイヤーだったらプレイヤーを倒す。\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eそして、\u003cstrong\u003eピッグ\u003c/strong\u003eはこれに\u003cstrong\u003e加えて\u003c/strong\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ePig.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetLinePosition\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n  \u003cspan class=\"err\"\u003eレーザーの端っこの位置を決める。\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e壁に当たったら\u003cstrong\u003e向きを変える処理は書いていない\u003c/strong\u003eんだ。\u003cbr\u003e\nそういうのは全部Unityにやってもらってる。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"アイテム-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A2%E3%82%A4%E3%83%86%E3%83%A0-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eアイテム\u003c/h3\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/7a85b642e9046cfe56a09e69ddce946ba68d16c1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3334333330392f32363832383634322d303562652d313130372d646263642d3163336330366331323765642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F26828642-05be-1107-dbcd-1c3c06c127ed.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7033235ccca19ed2d6b5d8bd34f3f7fa\" alt=\"iOS の画像.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/343309/26828642-05be-1107-dbcd-1c3c06c127ed.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F26828642-05be-1107-dbcd-1c3c06c127ed.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=24015ffdcd7d7c225e56ff5377660472 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eアイテムは\u003cstrong\u003e５種類\u003c/strong\u003e。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eキューブ [Cube]\u003c/li\u003e\n\u003cli\u003eクリアーホール [Clear Hole]\u003c/li\u003e\n\u003cli\u003eスイッチボタン [Switch Wall Button]\u003c/li\u003e\n\u003cli\u003eワープホール [Dimension Crack]\u003c/li\u003e\n\u003cli\u003eシフト弾 [Shift Bullet]\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003cstrong\u003eキューブ\u003c/strong\u003eはその場で静止しているだけのゲームオブジェクト。\u003cbr\u003e\n\u003cstrong\u003eクリアーホール\u003c/strong\u003eはその位置にプレイヤーが到着すると、ゲームクリアー。\u003cbr\u003e\n要するに、ゴールの事だ。\u003cbr\u003e\n\u003cstrong\u003eワープホール\u003c/strong\u003eは\u003cstrong\u003e２つ１組\u003c/strong\u003eで使う。\u003cbr\u003e\nプレイヤーの飛ばす\u003cstrong\u003e弾\u003c/strong\u003eや\u003cstrong\u003e敵\u003c/strong\u003eが片方のワープホールに入るともう片方のワープホールに\u003cstrong\u003e瞬間移動\u003c/strong\u003eするんだ。\u003cbr\u003e\n\u003cstrong\u003eシフト弾\u003c/strong\u003eはプレイヤーが発射する\u003cstrong\u003e弾\u003c/strong\u003eの事だよ。\u003c/p\u003e\n\n\u003cp\u003e順番に見ていこう。\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003eキューブ [Cube]\u003c/strong\u003e のスクリプトは、\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eCube.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e何もない。\u003cbr\u003e\nこれもUnityのコンポーネントだけで出来てる。\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003eクリアーホール [Clear Hole]\u003c/strong\u003eが持つスクリプトは \u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eClearHole.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnTriggerEnter2D\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eCollider2D\u003c/span\u003e \u003cspan class=\"n\"\u003ecoll\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"err\"\u003eデータの保存、ゲームシーンの遷移をする。\u003c/span\u003e\n  \u003cspan class=\"err\"\u003eプレイヤーが同じ位置に来た時に使う。\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eクリアーした時のデータの保存もこの\u003cstrong\u003eクリアーホール\u003c/strong\u003eで行う。\u003cbr\u003e\n保存専用のゲームオブジェクトがあるわけでは無いんだ。\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003eスイッチボタン[Switch Wall Button]\u003c/strong\u003eは、さっき紹介した\u003cstrong\u003e\u003ca href=\"https://qiita.com/shoi_ito/items/a2adf87dd783c8379178#%E3%82%B9%E3%82%A4%E3%83%83%E3%83%81%E5%A3%81-switch-wall\"\u003eスイッチ壁\u003c/a\u003e\u003c/strong\u003eの状態を切り替える事が出来るんだ。\u003cbr\u003e\nスイッチボタンに敵の\u003cstrong\u003eドッグ\u003c/strong\u003eか\u003cstrong\u003eピッグ\u003c/strong\u003eがぶつかると、その\u003cstrong\u003eスイッチボタン\u003c/strong\u003eと繋がってる壁の状態が変わる。\u003cbr\u003e\n表示されてる壁は消えて、表示されてない壁が出現するんだ。\u003c/p\u003e\n\n\u003cp\u003eスイッチボタンはこんな感じのスクリプトを持ってる。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eSwitchWallButton.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eSwitch\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e繋がってるスイッチ壁の状態を切り替える。\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e敵がぶつかった時に使う。\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e次は\u003cstrong\u003eワープホール[Dimension Crack]\u003c/strong\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eDimensionCrack.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnTriggerEnter2D\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eCollider2D\u003c/span\u003e \u003cspan class=\"n\"\u003ecoll\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"err\"\u003eステージオブジェクトがこのゲームオブジェクトに重なった時に使う。\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetVisible\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eVector3\u003c/span\u003e \u003cspan class=\"n\"\u003eviewpos\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"err\"\u003eこのゲームオブジェクトが現在カメラに写っているかの情報を更新する。\u003c/span\u003e  \n\n\u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetPairDC\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e現在このゲームオブジェクトと接続している\u003c/span\u003e\u003cspan class=\"n\"\u003eDimensionCrack\u003c/span\u003e\u003cspan class=\"err\"\u003eを更新する。\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eワープホールは開発中は、DimensionCrack(次元の亀裂）って呼んでる。\u003cbr\u003e\nクリアーホールもシーンをワープする感覚だから、ワープホールって名前だと分かりにくかったんだ。\u003cbr\u003e\n今回の説明では逆に、次元の亀裂って言ってもイメージ出来ないと思ったからワープホールって書いたよ。\u003c/p\u003e\n\n\u003cp\u003e最後は\u003cstrong\u003eシフト弾[Shift Bullet]\u003c/strong\u003eだ。\u003cbr\u003e\nシフト弾はプレイヤーが発射するエネルギーの玉の事だ。\u003cbr\u003e\nタップした方向に飛んでいって、\u003cstrong\u003e「入れ替われるオブジェクト」\u003c/strong\u003eにぶつかるとプレイヤーとぶつかったオブジェクトの\u003cstrong\u003e位置を入れ替える\u003c/strong\u003e。\u003cbr\u003e\nスクリプトを見てみよう。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eShiftBullet.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnCollisionEnter2D\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eCollision2D\u003c/span\u003e \u003cspan class=\"n\"\u003ecoll\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e何かとぶつかった時に使われる。\u003c/span\u003e\n  \u003cspan class=\"err\"\u003eぶつかったオブジェクトが入れ替われるならプレイヤーの入れ替わる処理をする。\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eIEnumerator\u003c/span\u003e \u003cspan class=\"nf\"\u003eDieCoroutine\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e弾が発射されてからしばらくたつと弾を消滅させる。\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"nf\"\u003eDie\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e弾を消滅させる。\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e弾が反射壁以外のものとぶつかった時に使う。\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e\u003cstrong\u003e反射壁\u003c/strong\u003eは反射する処理を書かないで、逆に壁に当たった時に弾が消える処理を書くことで実現してる。\u003cbr\u003e\n反射する機能はUnityが用意してくれてるからボクはそれを上手に使うだけで良いんだ。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"その他のステージオブジェクト-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%9D%E3%81%AE%E4%BB%96%E3%81%AE%E3%82%B9%E3%83%86%E3%83%BC%E3%82%B8%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eその他のステージオブジェクト\u003c/h3\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/8a31fb1391fde79681bbd6ddbd024b8dae6ad569/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3334333330392f37333562653134302d666435662d326436392d313530362d3664356531663963323231332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F735be140-fd5f-2d69-1506-6d5e1f9c2213.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=f08dfc9cce66d92dd5afbf2cd0426bf7\" alt=\"iOS の画像 (5).png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/343309/735be140-fd5f-2d69-1506-6d5e1f9c2213.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F735be140-fd5f-2d69-1506-6d5e1f9c2213.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=8bbefda30ac4d4283d2ac587f316bffe 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e「プレイヤー, ブロック, 敵, アイテム, その他」をステージオブジェクトと呼ぶって言ったね。\u003cbr\u003e\nその他のステージオブジェクトには、\u003cstrong\u003e背景の星\u003c/strong\u003eとか\u003cstrong\u003eピッグのレーザー[PigLazer]\u003c/strong\u003eとか\u003cstrong\u003e予測線\u003c/strong\u003e[Prediction Line]がある。\u003cbr\u003e\n他にもあるけれど、それはこのゲームシーンでは登場しないから今度話すね。\u003cbr\u003e\n背景の星は、Unityのコンポーネントだけで出来てる。\u003cbr\u003e\n\u003cstrong\u003eピッグのレーザー\u003c/strong\u003eは、\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ePigLazer.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnTriggerEnter2D\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eCollider2D\u003c/span\u003e \u003cspan class=\"n\"\u003ecoll\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"err\"\u003eプレイヤーにぶつかった時にプレイヤーを倒す。\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eこれだけのスクリプトを持ってる。\u003cbr\u003e\n予測線は、画面を長押ししたときに\u003cstrong\u003e弾が飛ぶ軌道\u003c/strong\u003eを\u003cstrong\u003e赤い線\u003c/strong\u003eで教えてくれる。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ePredictionLine.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetLine\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e予測線の軌道を設定する。\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e予測線は、プレイヤーからタップした方向にに直進する。\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e予測線はものにあたるとその先までは貫通して表示されない。\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eこんな感じのスクリプトだけで出来てる。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"カメラ-main-camera\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%AB%E3%83%A1%E3%83%A9-main-camera\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eカメラ [Main Camera]\u003c/h3\u003e\n\n\u003cp\u003eperticaでの\u003cstrong\u003eカメラ\u003c/strong\u003eは基本的にプレイヤーが\u003cstrong\u003e画面の中心になるように追う\u003c/strong\u003e事だ。\u003cbr\u003e\nでも\u003cstrong\u003eステージの始め\u003c/strong\u003eは、ゴールを映して徐々にプレイヤーにカメラを動かす演出がいる。\u003cbr\u003e\nプレイヤーが\u003cstrong\u003e入れ替わるとき\u003c/strong\u003eにも、少し遅らせ気味にプレイヤーを追うように演出する。\u003cbr\u003e\nこれを実装するために、ボクはこんな感じにいくつかの状態（ステート）で考えたよ。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/f613ca50b0e8e1f7617125aff2df8a5afafa8ec0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3334333330392f38393362623732342d633565302d336130312d333030342d3739396435393934653236372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F893bb724-c5e0-3a01-3004-799d5994e267.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=23e6ac6ea65dbe902333a8ca9bdd5f69\" alt=\"pertica_Qiita_Camera.png\" title=\"頑張れカメラマン\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/343309/893bb724-c5e0-3a01-3004-799d5994e267.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2F893bb724-c5e0-3a01-3004-799d5994e267.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c6458037c788122b59f8fea368ccb6a5 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n持ってるスクリプトは\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eMoveCamera.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetState\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eCameraState\u003c/span\u003e \u003cspan class=\"n\"\u003estate\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e状態\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"err\"\u003eステート）を切り替える関数\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eLookClearHole_Move\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n  \u003cspan class=\"err\"\u003eゴール\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eClearHole\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"err\"\u003eからプレイヤーの位置にカメラを移動させる。\u003c/span\u003e\n  \u003cspan class=\"err\"\u003eゲームの開始時に使う。\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eLookClearHole\u003c/span\u003e\u003cspan class=\"err\"\u003eという状態\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"err\"\u003eステート\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"err\"\u003eのときに使われる。\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eTracePlayer_Move\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n  \u003cspan class=\"err\"\u003eプレイヤーのカメラの中心に捉えるように、プレイヤーを追いかけ続ける。\u003c/span\u003e\n  \u003cspan class=\"err\"\u003eプレイヤーが静止しているときに使う。\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eTracePlayer\u003c/span\u003e\u003cspan class=\"err\"\u003eという状態\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"err\"\u003eステート\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"err\"\u003eのときに使われる。\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eGoToTarget_Move\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eGameObject\u003c/span\u003e \u003cspan class=\"n\"\u003eobjTarget\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003espeed\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"err\"\u003eプレイヤーの方向にゆっくりと移動する。\u003c/span\u003e\n  \u003cspan class=\"err\"\u003eプレイヤーが入れ替わるときに使う。\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eGoToTarget\u003c/span\u003e\u003cspan class=\"err\"\u003eという状態\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"err\"\u003eステート\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"err\"\u003eのときに使われる。\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e実はカメラの制御は結構難しい。\u003cbr\u003e\n良い演出が思いついても、難しくて実現できてないものもあるんだ。\u003cbr\u003e\n特に、ズームとかが入ってくると厄介で...。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"ゲームマネージャー-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B2%E3%83%BC%E3%83%A0%E3%83%9E%E3%83%8D%E3%83%BC%E3%82%B8%E3%83%A3%E3%83%BC-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eゲームマネージャー\u003c/h3\u003e\n\n\u003cp\u003eゲーム全体の管理をすると言ったね。\u003cbr\u003e\nこのオブジェクトはボクが作ったスクリプトだけで出来てる。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eMain.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eReset\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eWaitTime\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"err\"\u003eステージをリセットする。\u003c/span\u003e\n  \u003cspan class=\"err\"\u003eゲームシーンを最初から読み込み直す。\u003c/span\u003e\n  \u003cspan class=\"err\"\u003eリトライボタンを押したり、死んでしまったときに使うよ。\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eLoadMenu\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n  \u003cspan class=\"err\"\u003eゲームシーンを終了して、メニューシーンに移動する。\u003c/span\u003e\n  \u003cspan class=\"err\"\u003eメニューボタンを押したときに使うよ。\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eFadeIn\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n  \u003cspan class=\"err\"\u003eゲームシーンを終わるときに、画面全体を徐々に暗くするよ。\u003c/span\u003e\n  \u003cspan class=\"err\"\u003eゲームをクリアーしたり、メニューに戻ったりするときに使う。\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eと、\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eTutorial.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eUpdate\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n  \u003cspan class=\"err\"\u003eゲームを初めてプレイする場合、チュートリアルを表示する。\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e主にこの２つのスクリプトだ。\u003c/p\u003e\n\n\u003cp\u003e初めてスクリプトを\u003cstrong\u003e２つ\u003c/strong\u003eもった\u003cstrong\u003eゲームオブジェクト\u003c/strong\u003eが出てきたね。\u003cbr\u003e\n\u003cstrong\u003eゲームオブジェクト\u003c/strong\u003eは２つどころか、\u003cstrong\u003eスクリプト\u003c/strong\u003eを\u003cstrong\u003eいくつでも\u003c/strong\u003e持てるんだ。\u003c/p\u003e\n\n\u003cp\u003eゲーム全体を管理すると言ったけど、\u003cbr\u003e\nこのゲームでは、ゲームマネージャーの仕事は少なめだね。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"デコードオブジェクト-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%87%E3%82%B3%E3%83%BC%E3%83%89%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eデコードオブジェクト\u003c/h3\u003e\n\n\u003cp\u003eDataフォルダに入っている、StageCodeDataという名前のステージの\u003cstrong\u003eデータ\u003c/strong\u003eを元に実際に\u003cstrong\u003eステージを生成\u003c/strong\u003eするよ。\u003cbr\u003e\nデータの仕組みや構造については別の回で説明するね。\u003cbr\u003e\nデコードオブジェクトは\u003cstrong\u003eスクリプトだけ\u003c/strong\u003eで出来ているよ。\u003cbr\u003e\nちなみに、これは先輩が作ってくれたんだ。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eDecodeStageScript.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eAwake\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n  \u003cspan class=\"err\"\u003eメニュー画面で選択したステージのデータをロードする。\u003c/span\u003e\n  \u003cspan class=\"err\"\u003eデータを解読\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"err\"\u003eデコード\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"err\"\u003eして、対応するゲームオブジェクトを次々に生成していく。\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e生成したオブジェクトによっては、初期状態を指定する。\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"ui-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#ui-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eUI\u003c/h3\u003e\n\n\u003cp\u003eUIは、\u003cstrong\u003eボタン\u003c/strong\u003eの事だったね。\u003cbr\u003e\nUIは基本的に\u003cstrong\u003eスクリプトを持っていない\u003c/strong\u003eんだ。\u003cbr\u003e\nこれは\u003cstrong\u003e全部\u003c/strong\u003eUnityが用意してくれている\u003cstrong\u003eコンポーネント\u003c/strong\u003eで出来ている。\u003cbr\u003e\nボタンを押すと、\u003ca href=\"https://qiita.com/shoi_ito/items/a2adf87dd783c8379178#%E3%82%B2%E3%83%BC%E3%83%A0%E3%83%9E%E3%83%8D%E3%83%BC%E3%82%B8%E3%83%A3%E3%83%BC-1\"\u003eゲームマネージャー\u003c/a\u003eが持ってるスクリプトの\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eMain.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eReset\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eWaitTime\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eとか\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eMain.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eLoadMenu\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eを使うように設定できるんだ。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"bgmse-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#bgmse-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eBGM・SE\u003c/h3\u003e\n\n\u003cp\u003e\u003cstrong\u003e音を鳴らす\u003c/strong\u003e機能を持っていたね。\u003cbr\u003e\nこれは、スクリプトを持っているよ。\u003cbr\u003e\nまず、SEは\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eSEPlayer.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003ePlaySE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003ekeyname\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e指定した\u003c/span\u003e\u003cspan class=\"n\"\u003eSE\u003c/span\u003e\u003cspan class=\"err\"\u003eを再生するよ。\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e流す\u003c/span\u003e\u003cspan class=\"n\"\u003eSE\u003c/span\u003e\u003cspan class=\"err\"\u003eは、事前に曲のファイルとキーワードを紐付ける必要がある。\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eそして、BGMは\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eBGMPlayer.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eFadeinBGM\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003ekeyname\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003epertime\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"m\"\u003e0.008f\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e指定した\u003c/span\u003e\u003cspan class=\"n\"\u003eBGM\u003c/span\u003e\u003cspan class=\"err\"\u003eをフェードインしながら再生するよ。\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e曲が変わるときの違和感をなくすために、曲の入りで徐々に音を大きくするんだ。\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e流す\u003c/span\u003e\u003cspan class=\"n\"\u003eBGM\u003c/span\u003e\u003cspan class=\"err\"\u003eは、事前に曲のファイルとキーワードを紐付ける必要がある。\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eFadeoutBGM\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003epertime\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"m\"\u003e0.009f\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e指定した\u003c/span\u003e\u003cspan class=\"n\"\u003eBGM\u003c/span\u003e\u003cspan class=\"err\"\u003eをフェードアウトしながら終了するよ。\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e曲が変わるときの違和感をなくすために、曲の終わりで徐々に音を小さくするんだ。\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e大事なのはこんな感じだ。\u003c/p\u003e\n\n\u003cp\u003e例えばプレイヤーが球を発射するときは音が鳴る。\u003cbr\u003e\nこの時、SEPlayerのPlaySEを使うんだよ。\u003c/p\u003e\n\n\u003cp\u003e他にも、音を出したいときにはこのスクリプトを使って音を鳴らすんだ。\u003cbr\u003e\nちなみに、これも先輩が作ってくれたよ。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"まとめ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eまとめ\u003c/h1\u003e\n\n\u003cp\u003eゲームは\u003cstrong\u003e「１０個の部品」\u003c/strong\u003eで出来ていた。\u003cbr\u003e\nさらに\u003cstrong\u003e「１０個の部品」\u003c/strong\u003eはもっと\u003cstrong\u003e「小さな部品」\u003c/strong\u003eで出来ている。\u003cbr\u003e\nUnityではこの\u003cstrong\u003e「１０個の部品」\u003c/strong\u003eを\u003cstrong\u003e「ゲームオブジェクト」\u003c/strong\u003e、\u003cbr\u003e\n\u003cstrong\u003e「小さな部品」\u003c/strong\u003eを\u003cstrong\u003e「コンポーネント」\u003c/strong\u003eと呼ぶ。\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003e「コンポーネント」\u003c/strong\u003eはUnityが用意してくれているものと、自分で作るものがある。\u003cbr\u003e\n自分で作るコンポーネントの事を\u003cstrong\u003e「スクリプト」\u003c/strong\u003eと呼ぶことにしたね。\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003e「スクリプト」\u003c/strong\u003eは大事な機能を持っていて\u003cstrong\u003e「脳」\u003c/strong\u003eみたいなものなんだ。\u003cbr\u003e\nだから今回は、そんなスクリプトについて説明したよ。\u003cbr\u003e\n実際には、パソコンが理解できるように\u003cstrong\u003eC#\u003c/strong\u003eという言葉を使って書くんだ。\u003cbr\u003e\nその言葉を書く作業が\u003cstrong\u003eプログラミング\u003c/strong\u003eだよ。\u003c/p\u003e\n\n\u003cp\u003eなんとなく分かったかな？\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"制作秘話\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%88%B6%E4%BD%9C%E7%A7%98%E8%A9%B1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e制作秘話\u003c/h1\u003e\n\n\u003cp\u003e\u003cstrong\u003epertica\u003c/strong\u003eの制作を初めて２ヶ月くらいたったある日。\u003cbr\u003e\n帰り道でボクが唐突に言った。\u003c/p\u003e\n\n\u003cp\u003e「先輩、重力を消しましょう」\u003c/p\u003e\n\n\u003cp\u003e先輩「？？？？？」\u003c/p\u003e\n\n\u003cp\u003eボクが真顔で言うもんだから、ついに頭がおかしくなったかと思われた。\u003c/p\u003e\n\n\u003cp\u003e今のperticaは宇宙感のあるゲームで\u003cstrong\u003e無重力\u003c/strong\u003eだ。\u003cbr\u003e\nでも昔は\u003cstrong\u003e重力\u003c/strong\u003eがあったんだよ。\u003c/p\u003e\n\n\u003cp\u003e昔のperticaは入れ替わった直後に重力で下に落ちたんだ。\u003cbr\u003e\nでもそれだと、画面の動きが目まぐるしくて落ち着いて遊べなかった。\u003cbr\u003e\nそこで、perticaでは重力をなくした方が良いんじゃないかと思ったんだ。\u003c/p\u003e\n\n\u003cp\u003e先輩はオーケーしてくれて、それから\u003cstrong\u003e「無重力計画」\u003c/strong\u003eが始まった。\u003cbr\u003e\n結構な変更だったから大変だったよ。\u003cbr\u003e\n先輩もよく付き合ってくれた、本当に感謝してる。\u003c/p\u003e\n\n\u003cp\u003e無重力にしたのが良かったのか悪かったのかは分からない。\u003cbr\u003e\nでも面白いゲームを作るために思い切って変えたことに後悔はしていないよ。\u003c/p\u003e\n\n\u003cp\u003e他にこんな話もある\u003c/p\u003e\n\n\u003cp\u003eメインシーンは「ゲームを作ろう」と思って最初に作り始めた部分だった。\u003c/p\u003e\n\n\u003cp\u003e「プレイヤー」「Dog」「通常の壁」「反射壁」「ClearHole」「ワープホール」「キューブ」「スイッチ壁」\u003cbr\u003e\nこれは機能だけなら最初の\u003cstrong\u003e１ヶ月くらい\u003c/strong\u003eで出来たんだ。\u003cbr\u003e\n見た目とかは、適当な画像で代用してたけどね...。\u003c/p\u003e\n\n\u003cp\u003e実は最初の頃は「Cat」とか「Ojisan」とかもいたんだよ。\u003cbr\u003e\nその辺は今後「デザインについて」の記事も書くからその時に話そうかな。\u003cbr\u003e\n多分その記事は\u003cstrong\u003e神回\u003c/strong\u003eになるよ。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"コメント\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B3%E3%83%A1%E3%83%B3%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eコメント\u003c/h1\u003e\n\n\u003cp\u003eここまで読んでくれてありがとう。\u003c/p\u003e\n\n\u003cp\u003e今回は、メインシーンについて触れた。\u003cbr\u003e\n少し文量が多かったね...。\u003c/p\u003e\n\n\u003cp\u003eUnityを知らない人にも、ゲームの仕組みが分かるように書いてみたんだけど、どうだったかな？\u003c/p\u003e\n\n\u003cp\u003e今このシリーズ記事の全体の構成をぼんやりと考えてるんだけど、多分全部で１０回くらいになると思う。\u003c/p\u003e\n\n\u003cp\u003eなるべくこのゲームを全部公開したいんだけど、どうすると上手く伝えられるかな。\u003cbr\u003e\nもし、気になる事とか書いてほしい事があったらコメントしてね。\u003c/p\u003e\n\n\u003cp\u003eそろそろ実物があった方が分かりやすいんじゃないかな？\u003cbr\u003e\nもし興味をもってくれたら、よろしくお願いします。\u003cbr\u003e\nperticaは下のリンクからインストール出来るよ。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://itunes.apple.com/jp/app/id1445813632?mt=8\u0026amp;ign-mpt=uo%3D4\" rel=\"nofollow noopener\" target=\"_blank\"\u003eAppStore\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://play.google.com/store/apps/details?id=tmy.jack.pertica\" rel=\"nofollow noopener\" target=\"_blank\"\u003eAndroid\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita.com/shoi_ito/items/2234414af441e448a85e\"\u003e大学生が有料スマホゲームを作った全てを公開するよ（１）イントロダクション\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://qiita.com/shoi_ito/private/b9acd13f5fe80536fd0d\" id=\"reference-4c469e0e1caee17c070a\"\u003e大学生が有料スマホゲームを作った全てを公開するよ（２）開発環境とゲームの構成\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://qiita.com/shoi_ito/private/a2adf87dd783c8379178\"\u003e大学生が有料スマホゲームを作った全てを公開するよ（３）ゲームの構造・パズルとアクションの仕組み（前編）\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://qiita.com/shoi_ito/items/ed485d4f956959e6cd36\" id=\"reference-4628f932abc464817f03\"\u003e大学生が有料スマホゲームを作った全てを公開するよ（４）ゲームの成り立ち・パズルとアクションの仕組み（後編）\u003c/a\u003e\u003c/p\u003e\n","createdAt":"2019-01-26T20:05:21Z","elapsedYearsFromLastModifiedAt":2,"encryptedId":"Rk7qXeytttK1oj0AOPr+y9Dx8ZF/8C7V--Q3jP0bUbPrLVeP07--+z0+Tl1LAnDP6Ykegqy64Q==","isBanned":false,"isDeprecated":true,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2019-02-18T11:12:24Z","likesCount":6,"linkUrl":"https://qiita.com/shoi_ito/items/a2adf87dd783c8379178","organization":null,"originalId":774114,"stockedCount":5,"title":"大学生が有料スマホゲームを作った全てを公開するよ（３）ゲームの構造・パズルとアクションの仕組み（前編）","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%A1%E3%82%87%E3%81%A3%E3%81%A8%E3%81%9A%E3%81%A4unity%E3%82%82%E5%87%BA%E3%81%A6%E3%81%8F%E3%82%8B\"\u003eちょっとずつUnityも出てくる\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E4%B8%BB%E8%A6%81%E3%81%AA%E3%82%B2%E3%83%BC%E3%83%A0%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88\"\u003e主要なゲームオブジェクト\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%97%E3%83%AC%E3%82%A4%E3%83%A4%E3%83%BC\"\u003eプレイヤー\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF\"\u003eブロック\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%95%B5\"\u003e敵\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%A2%E3%82%A4%E3%83%86%E3%83%A0\"\u003eアイテム\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%9D%E3%81%AE%E4%BB%96%E3%81%AE%E3%82%B9%E3%83%86%E3%83%BC%E3%82%B8%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88\"\u003eその他のステージオブジェクト\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%AB%E3%83%A1%E3%83%A9\"\u003eカメラ\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%B2%E3%83%BC%E3%83%A0%E3%83%9E%E3%83%8D%E3%83%BC%E3%82%B8%E3%83%A3%E3%83%BC\"\u003eゲームマネージャー\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%87%E3%82%B3%E3%83%BC%E3%83%89%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88\"\u003eデコードオブジェクト\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#ui\"\u003eUI\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#bgmse\"\u003eBGM・SE\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cli\u003e\n\u003ca href=\"#%E5%AE%9F%E8%A3%85%E6%96%B9%E6%B3%95\"\u003e実装方法\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#unity%E3%81%AE%E7%B0%A1%E5%8D%98%E3%81%AA%E8%AA%AC%E6%98%8E\"\u003eUnityの簡単な説明\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%83%84%E3%83%AA%E3%83%BC\"\u003eプロジェクトツリー\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%B2%E3%83%BC%E3%83%A0%E3%81%AE%E4%BB%95%E7%B5%84%E3%81%BF%E3%82%92%E6%A7%8B%E9%80%A0%E7%9A%84%E3%81%AB%E8%A6%8B%E3%82%8B\"\u003eゲームの仕組みを構造的に見る\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%97%E3%83%AC%E3%82%A4%E3%83%A4%E3%83%BC-1\"\u003eプレイヤー\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF-1\"\u003eブロック\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E9%80%9A%E5%B8%B8%E3%81%AE%E5%A3%81-wall\"\u003e通常の壁 [Wall]\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%8F%8D%E5%B0%84%E5%A3%81-reflection-wall\"\u003e反射壁 [Reflection Wall]\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%B9%E3%82%A4%E3%83%83%E3%83%81%E5%A3%81-switch-wall\"\u003eスイッチ壁 [Switch Wall]\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%95%B5-1\"\u003e敵\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%A2%E3%82%A4%E3%83%86%E3%83%A0-1\"\u003eアイテム\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%9D%E3%81%AE%E4%BB%96%E3%81%AE%E3%82%B9%E3%83%86%E3%83%BC%E3%82%B8%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88-1\"\u003eその他のステージオブジェクト\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%AB%E3%83%A1%E3%83%A9-main-camera\"\u003eカメラ [Main Camera]\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%B2%E3%83%BC%E3%83%A0%E3%83%9E%E3%83%8D%E3%83%BC%E3%82%B8%E3%83%A3%E3%83%BC-1\"\u003eゲームマネージャー\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%87%E3%82%B3%E3%83%BC%E3%83%89%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88-1\"\u003eデコードオブジェクト\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#ui-1\"\u003eUI\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#bgmse-1\"\u003eBGM・SE\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\n\n\u003cli\u003e\n\u003ca href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"\u003eまとめ\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%88%B6%E4%BD%9C%E7%A7%98%E8%A9%B1\"\u003e制作秘話\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%B3%E3%83%A1%E3%83%B3%E3%83%88\"\u003eコメント\u003c/a\u003e\n\u003c/li\u003e\n\n","totalPv":2646,"uuid":"a2adf87dd783c8379178","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"sCV7LACEhZZQ0EMy7hjTzE4Pa7mV--Ci9DO957rg+E2+Wv--d2I1TIc+CRCmqmXuPjNWlw==","originalId":343309,"description":"Unityでゲームを作ってる大学生。\r\nUnityは高校生くらいで触り始めた。\r\nその時はJavaScriptだった。\r\nもう使えないけど...。\r\n今はC#でゲームを作っている。\r\nUnityしか動かせないけど。\r\nVRとかMRとかも興味があるけど、お金はない。","facebookUrl":null,"githubUrl":null,"isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"伊藤 彰為","profileImageUrl":"https://qiita-image-store.s3.amazonaws.com/0/343309/profile-images/1547524276","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2Fprofile-images%2F1547524276?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=7b845825c670ac56ab29c0954a91d162","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F343309%2Fprofile-images%2F1547524276?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=b537a1a697047279f532258d9fdc1be0","urlName":"shoi_ito","websiteUrl":"https://jack-web.herokuapp.com/","twitterUrl":"https://twitter.com/ItoShoi","twitterUrlName":"ItoShoi","revealedOrganizations":{"edges":[]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"Unity","urlName":"unity"},{"name":"初心者","urlName":"%e5%88%9d%e5%bf%83%e8%80%85"},{"name":"ゲーム制作","urlName":"%e3%82%b2%e3%83%bc%e3%83%a0%e5%88%b6%e4%bd%9c"},{"name":"Unity2D","urlName":"unity2d"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
