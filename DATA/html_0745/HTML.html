<!DOCTYPE html><html><head><meta charset="utf-8" /><title>Unityゲーム制作奮闘記 - 実装 - セーブシステム - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/BA-KAZU/items/917eae78de6ca2c223c4" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="Ht+sYFGkwZQRJS3S20wxpDApYZ9Voy6dTMLN6y7gP99Hyco0B4FJ7mWh8KMT3DIg7EUInqivPtVmmcRcpopGFw==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta property="og:type" content="article"><meta property="og:title" content="Unityゲーム制作奮闘記 - 実装 - セーブシステム - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1WVzVwZEhuamdyTGpnN3pqZzZEbGlMYmt2WnpscGE3cGw1am9xSmdnTFNEbHJwX29vNFVnTFNEamdydmpnN3pqZzViamdyZmpncm5qZzRiamc2QSZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTU0JnR4dC1jbGlwPWVsbGlwc2lzJnR4dC1hbGlnbj1jZW50ZXIlMkNtaWRkbGUmcz1iZTliYWYyMWE1OWFkOTFlZjUzNTg5NTNiZjUyZTZlYg&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRUpCTFV0QldsVSZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPTVjZjVjNzgzMTZkYjIwNGIwZTdiNzg0ZjgzMjQ3MDFj&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=d1222338ae676975f9c992dfa3cf06fa"><meta property="og:description" content="

はじめに

ゲーム開発に没頭するあまり、全く記事を書いてなかった事を思い出しました。
（下書きだけ書いて、ずっと放置してた…）

いや、ゲーム開発って本当大変ですね。
プライベート時間を殆ど献上しているにも関わらず、やってもやって..."><meta content="https://qiita.com/BA-KAZU/items/917eae78de6ca2c223c4" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,Unity" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-655c5eec-94db-4470-800f-7496bf230124"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2FBA-KAZU%2Fitems%2F917eae78de6ca2c223c4">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2FBA-KAZU%2Fitems%2F917eae78de6ca2c223c4">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-655c5eec-94db-4470-800f-7496bf230124">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2021-07-12T14:04:45.000+09:00","dateModified":"2021-07-13T09:18:28.000+09:00","headline":"Unityゲーム制作奮闘記 - 実装 - セーブシステム","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1WVzVwZEhuamdyTGpnN3pqZzZEbGlMYmt2WnpscGE3cGw1am9xSmdnTFNEbHJwX29vNFVnTFNEamdydmpnN3pqZzViamdyZmpncm5qZzRiamc2QSZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTU0JnR4dC1jbGlwPWVsbGlwc2lzJnR4dC1hbGlnbj1jZW50ZXIlMkNtaWRkbGUmcz1iZTliYWYyMWE1OWFkOTFlZjUzNTg5NTNiZjUyZTZlYg\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRUpCTFV0QldsVSZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPTVjZjVjNzgzMTZkYjIwNGIwZTdiNzg0ZjgzMjQ3MDFj\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=d1222338ae676975f9c992dfa3cf06fa","mainEntityOfPage":"https://qiita.com/BA-KAZU/items/917eae78de6ca2c223c4","author":{"@type":"Person","address":"","email":null,"identifier":"BA-KAZU","name":"BA-KAZU","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fs3-ap-northeast-1.amazonaws.com%2Fqiita-image-store%2F0%2F401336%2F92e8337cdd2254d1c0fee0abe8d8eb9f4be4d589%2Flarge.png%3F1578653425?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=e9bb7c9a795693647b32cc20ca2c7687","url":"https://qiita.com/BA-KAZU","description":"美容室に就職するも会社が倒産。\r\n気持ちを新たに28歳からIT業界へ。\r\n日々精進。現在はインフラがメインだが、色々なものに興味があるお年頃。\r\n","memberOf":[{"@type":"Organization","address":"福岡県福岡市中央区天神５丁目９番１３号NBF福岡ビル３階","legalName":"株式会社ソントレーゾ","image":"https://s3-ap-northeast-1.amazonaws.com/qiita-organization-image/cfce838aa8671010ac60111cfe66dc65a6b96825/original.jpg?1563256651","logo":"https://s3-ap-northeast-1.amazonaws.com/qiita-organization-image/4e22f784d36e1978b4512c572eea9491f185e9b5/original.jpg?1563256651","identifier":"sentreseau","description":"お客様の業務に最適なDXソリューションをご提案しています。"}]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://zine.qiita.com/interview/202106-uzabase-3/">経済情報で世界を変えていけているユーザベースの可能性</a><a target="_blank" id="header_text_message_2" href="https://zine.qiita.com/interview/202106-uzabase-3/">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"BA-KAZU","type":"items","id":"917eae78de6ca2c223c4"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"経済情報で世界を変えていけているユーザベースの可能性","url":"https://zine.qiita.com/interview/202106-uzabase-3/","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"BA-KAZU","type":"items","id":"917eae78de6ca2c223c4"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":0,"pos_id":"header_text_message_1","message":"経済情報で世界を変えていけているユーザベースの可能性","url":"https://zine.qiita.com/interview/202106-uzabase-3/","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"BA-KAZU","type":"items","id":"917eae78de6ca2c223c4"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":0,"pos_id":"header_text_message_2","message":"経済情報で世界を変えていけているユーザベースの可能性","url":"https://zine.qiita.com/interview/202106-uzabase-3/","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/BA-KAZU/items/917eae78de6ca2c223c4","location":"/BA-KAZU/items/917eae78de6ca2c223c4","scheme":"https","host":"qiita.com","port":null,"pathname":"/BA-KAZU/items/917eae78de6ca2c223c4","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"t4r7DHvv7f11S5MDu3Ee3KrUSSY+KTozzB2OaNIu57DunJ1YLcplhwHPTnJz4R1YdrggJ8MlKnvmRoffWkSeeA==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-0d30a571-8962-46cc-b00a-06bae628282d"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/BA-KAZU/items/917eae78de6ca2c223c4/likers" class="css-1iupg5d">1</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">1</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/917eae78de6ca2c223c4/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/BA-KAZU/items/917eae78de6ca2c223c4/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/BA-KAZU/items/917eae78de6ca2c223c4/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/BA-KAZU/items/917eae78de6ca2c223c4/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/BA-KAZU/items/917eae78de6ca2c223c4.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/BA-KAZU"><img class="css-100alwu eyfquo10" src="https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/401336/92e8337cdd2254d1c0fee0abe8d8eb9f4be4d589/large.png?1578653425" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/BA-KAZU" class="css-10ougpm">@<!-- -->BA-KAZU</a><div class="css-1ay9vb9"><span><meta content="2021-07-12T05:04:45Z"/><time dateTime="2021-07-13T00:18:28Z" class="css-m19uds">updated at 2021-07-13</time></span></div></div></div></div></div><h1 class="css-cgzq40">Unityゲーム制作奮闘記 - 実装 - セーブシステム</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/unity" class="css-4czcte">Unity</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div>
<h2>
<span id="はじめに" class="fragment"></span><a href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB"><i class="fa fa-link"></i></a>はじめに</h2>

<p>ゲーム開発に没頭するあまり、全く記事を書いてなかった事を思い出しました。<br>
（下書きだけ書いて、ずっと放置してた…）</p>

<p>いや、ゲーム開発って本当大変ですね。<br>
プライベート時間を殆ど献上しているにも関わらず、やってもやっても終わりませーん<br>
リリースを達成しているゲームクリエイターの先輩方は本当に偉大だと実感します。</p>

<p>と、前置きはこのくらいにして、<br>
前回記事にしたセーブシステムが最終的にどういう実装になったのか、記事にしたいと思います（端的に言えば、頑張ったアピールです笑）</p>

<h2>
<span id="1-データの実装" class="fragment"></span><a href="#1-%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E5%AE%9F%E8%A3%85"><i class="fa fa-link"></i></a>1. データの実装</h2>

<p>はい、セーブと言えばデータですね。<br>
一般的かはさておき、足りない頭で必死に考えた結果、<br>
データは最終的に、以下の3パターンに分類するという結論になりました。</p>

<table>
<thead>
<tr>
<th>No</th>
<th>データ</th>
<th>概要</th>
<th>例</th>
<th>セーブ対象</th>
<th>ロードタイミング</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>システム</td>
<td>ゲーム全体の<strong>可変</strong>設定</td>
<td>音量/速度</td>
<td>○</td>
<td>起動時</td>
</tr>
<tr>
<td>2</td>
<td>プレイ</td>
<td>ゲームプレイ中の断面</td>
<td>キャラステータス</td>
<td>○</td>
<td>コンティニュー時</td>
</tr>
<tr>
<td>3</td>
<td>内部</td>
<td>ゲーム全体の<strong>固定</strong>設定</td>
<td>フラグ/リスト</td>
<td>×</td>
<td>×(起動時に毎回初期化)</td>
</tr>
</tbody>
</table>

<p>No1と2に関しては前回の設計時から特に変わってません。<br>
もう少し詳しく書くと、以下のイメージです。</p>

<p><strong>&lt;システムデータ&gt;</strong><br>
<code>ゲーム全体の『可変』設定情報 = ゲーム全体に関わるフラグ/設定値</code><br>
→例えばセーブ画面が1~10まであったら、最後にセーブに使った画面は何番か、とかですね。<br>
コンティニュー時は最後にセーブに使った画面が真っ先に開く方が嬉しいですし。</p>

<p><strong>&lt;プレイデータ&gt;</strong><br>
<code>セーブを実行したタイミングの『プレイ中パラメータ情報』</code><br>
→Live2Dキャラの状態（表情とか）、キャラステータス、プレイ中のフラグ</p>

<p><strong>&lt;内部データ&gt;</strong><br>
そして、No3はゲーム内のパラメータを一元管理するために、新たに追加しました。<br>
これに書くのは、ゲーム全体の『固定』設定情報や、ゲーム起動時に『初期化されて問題ないフラグ』です。</p>

<p>・固定設定情報（エンディング一覧、キャラクタ一覧、アイテム一覧とか）<br>
・各種パラメータの設定（パラメータの最大値とか、パラメータの変化率とか）<br>
・処理実行中フラグ（起動中、ロード中、シナリオ/アニメーション再生中とか）</p>

<p>元々は色々なクラスのプロパティに分散され、記載されていたんですが、<br>
この手のフラグは他のクラスから参照するパターンも多いし、<br>
殆ど同じ内容のプロパティが各クラスに散見されるので、<br>
<strong>一箇所に纏めて管理しないとメンテナンス大変だなぁ。。</strong>という事で作成しました。</p>

<h2>
<span id="2-セーブ機能の実装" class="fragment"></span><a href="#2-%E3%82%BB%E3%83%BC%E3%83%96%E6%A9%9F%E8%83%BD%E3%81%AE%E5%AE%9F%E8%A3%85"><i class="fa fa-link"></i></a>2. セーブ機能の実装</h2>

<p>前回記事にした設計をそのまま実装しました。<br>
処理のイメージは以下の感じです。</p>

<h3>
<span id="システムデータ" class="fragment"></span><a href="#%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E3%83%87%E3%83%BC%E3%82%BF"><i class="fa fa-link"></i></a>システムデータ</h3>

<p>システムデータを記録するタイミングは以下のパターン（うろ覚え）<br>
<font color="Blue"><br>
1. config画面で設定を更新する度に保存<br>
2. プレイデータセーブ時に一緒に保存<br>
3. ゲームクリア時/ゲームオーバー時/画面遷移時などの節目で保存<br>
</font></p>

<p>処理自体は<strong>SystemDataクラスのインスタンス</strong>をJsonに変換してファイルとして書き出す。<br>
というシンプルなものです。<br>
<code>※コード自体は他の記事でもっと丁寧に書いてるので、そっちを見るのがおススメ！笑<br>
　ちなみに、下記コードはシステムデータとプレイデータの共通処理になってます。</code></p>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre><code>    <span class="k">public</span> <span class="kt">string</span> <span class="n">Path</span> <span class="p">=&gt;</span> <span class="n">Application</span><span class="p">.</span><span class="n">persistentDataPath</span> <span class="p">+</span> <span class="s">"/&lt;フォルダ&gt;"</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">void</span> <span class="nf">Save</span><span class="p">(</span><span class="kt">string</span> <span class="n">type</span><span class="p">,</span> <span class="kt">string</span> <span class="n">file</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">string</span> <span class="n">filePath</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">Path</span><span class="p">}</span><span class="s">/</span><span class="p">{</span><span class="n">file</span><span class="p">}</span><span class="s">"</span><span class="p">;</span>
        <span class="kt">string</span> <span class="n">jsonData</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">type</span> <span class="p">==</span> <span class="s">"play"</span><span class="p">){</span><span class="n">jsonData</span> <span class="p">=</span> <span class="n">JsonUtility</span><span class="p">.</span><span class="nf">ToJson</span><span class="p">(</span><span class="n">playData</span><span class="p">);}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">type</span> <span class="p">==</span> <span class="s">"system"</span><span class="p">){</span><span class="n">jsonData</span> <span class="p">=</span> <span class="n">JsonUtility</span><span class="p">.</span><span class="nf">ToJson</span><span class="p">(</span><span class="n">systemData</span><span class="p">);}</span> 
        <span class="k">else</span> <span class="p">{</span><span class="n">Debug</span><span class="p">.</span><span class="nf">LogError</span><span class="p">(</span><span class="s">"FileType not match"</span><span class="p">);</span><span class="k">return</span><span class="p">;}</span>

        <span class="k">if</span> <span class="p">(!</span><span class="n">Directory</span><span class="p">.</span><span class="nf">Exists</span><span class="p">(</span><span class="n">Path</span><span class="p">)){</span><span class="n">Directory</span><span class="p">.</span><span class="nf">CreateDirectory</span><span class="p">(</span><span class="n">Path</span><span class="p">);}</span>

        <span class="n">StreamWriter</span> <span class="n">writer</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamWriter</span><span class="p">(</span><span class="n">filePath</span><span class="p">,</span> <span class="k">false</span><span class="p">);</span> <span class="c1">//true追記、false上書き</span>
        <span class="n">writer</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">jsonData</span><span class="p">);</span>
        <span class="n">writer</span><span class="p">.</span><span class="nf">Flush</span><span class="p">();</span>
        <span class="n">writer</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span>
    <span class="p">}</span>
</code></pre></div></div>

<h3>
<span id="プレイデータ" class="fragment"></span><a href="#%E3%83%97%E3%83%AC%E3%82%A4%E3%83%87%E3%83%BC%E3%82%BF"><i class="fa fa-link"></i></a>プレイデータ</h3>

<p>設計で書きましたが、今回のセーブ画面はサムネイル方式です。<br>
なのでセーブ時にプレイ画面のスクリーンショットを取得しています。<br>
<font color="Blue"><br>
1. ゲーム画面の「SAVE」ボタンクリックをトリガーに以下を処理<br>
　①スクリーンショット取得<br>
　②セーブ画面への遷移<br>
</font><font color="Blue"><br>
2. セーブ画面の「SaveBox（imageオブジェクト）」のクリックをトリガーに以下を処理<br>
　③システムデータ更新<br>
　④SaveBoxに各種情報を表示<br>
　⑤システムデータ/プレイデータ保存<br>
</font></p>

<p><strong>①スクリーンショット取得</strong><br>
スクリーンショットを撮るだけながらScreenCaptureで一発です。<br>
ただ自分は取得した画像の解像度を落として、テキストに変換してます。<br>
（その方が一元管理しやすいかな…って事で）<br>
まぁ思った以上に画質が劣化するんですけどね笑</p>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre><code>    <span class="k">public</span> <span class="k">void</span> <span class="nf">ScreenShot</span><span class="p">(</span><span class="kt">int</span> <span class="n">width</span><span class="p">,</span> <span class="kt">int</span> <span class="n">height</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Texture2D</span> <span class="n">tex</span> <span class="p">=</span> <span class="n">ScreenCapture</span><span class="p">.</span><span class="nf">CaptureScreenshotAsTexture</span><span class="p">();</span>
        <span class="kt">var</span> <span class="n">rt</span> <span class="p">=</span> <span class="n">RenderTexture</span><span class="p">.</span><span class="nf">GetTemporary</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">);</span>
        <span class="n">Graphics</span><span class="p">.</span><span class="nf">Blit</span><span class="p">(</span><span class="n">tex</span><span class="p">,</span> <span class="n">rt</span><span class="p">);</span>        
        <span class="kt">var</span> <span class="n">preRT</span> <span class="p">=</span> <span class="n">RenderTexture</span><span class="p">.</span><span class="n">active</span><span class="p">;</span>
        <span class="n">RenderTexture</span><span class="p">.</span><span class="n">active</span> <span class="p">=</span> <span class="n">rt</span><span class="p">;</span>
        <span class="kt">var</span> <span class="n">ret</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Texture2D</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">);</span>
        <span class="n">ret</span><span class="p">.</span><span class="nf">ReadPixels</span><span class="p">(</span><span class="k">new</span> <span class="nf">Rect</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">),</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
        <span class="n">ret</span><span class="p">.</span><span class="nf">Apply</span><span class="p">();</span>
        <span class="n">RenderTexture</span><span class="p">.</span><span class="n">active</span> <span class="p">=</span> <span class="n">preRT</span><span class="p">;</span>
        <span class="n">tmpSaveImage</span> <span class="p">=</span> <span class="n">System</span><span class="p">.</span><span class="n">Convert</span><span class="p">.</span><span class="nf">ToBase64String</span><span class="p">(</span><span class="n">ret</span><span class="p">.</span><span class="nf">EncodeToPNG</span><span class="p">());</span>
    <span class="p">}</span>
</code></pre></div></div>

<p><strong>②セーブ画面への遷移</strong><br>
これは単純にゲーム内の時間を止めて、セーブ画面オブジェクトをアクティブにしてるだけ</p>

<p><strong>③システムデータ更新</strong><br>
更新するデータ＝SaveBoxに表示する概要情報です。<br>
例えば、保存日時や進行状況、サムネイル画像とか<br>
何で保存しているかと言えば、<strong>ゲーム起動時にセーブ画面を最新状態に戻すため</strong>です。</p>

<p>ちなみに設計で詳しく書きましたが、プレイデータはID（数値）で管理していて、<br>
IDをキーに「システムデータ内のSave一覧（概要）情報」「セーブ画面のSaveBoxオブジェクト」を紐づけてます。</p>

<p>なので、<strong>SaveBoxの『ID=1』がクリックされたら、システムデータ内に『ID=1』としてセーブの概要情報保存 ＋ プレイデータを『ID=1』として保存</strong>という処理になります。(ロードも同じで『ID=1』がクリックされたら『ID=1』のプレイデータをロードという流れです)</p>

<p><strong>④SaveBoxに各種情報を表示</strong><br>
SaveBoxに上記で保存した概要情報=保存日時や進行状況、サムネイル画像を反映します。<br>
まぁこれはオブジェクト内のTxtやImageを更新するだけです。</p>

<p>なお前述の通り、画像はテキストに変換してるので、ここで画像に戻す必要があります。</p>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre><code>        <span class="kt">var</span> <span class="n">img</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Texture2D</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">);</span>
        <span class="kt">byte</span><span class="p">[]</span> <span class="n">bytes</span> <span class="p">=</span> <span class="n">System</span><span class="p">.</span><span class="n">Convert</span><span class="p">.</span><span class="nf">FromBase64String</span><span class="p">(&lt;</span><span class="err">画像テキスト</span><span class="p">&gt;);</span>
        <span class="n">img</span><span class="p">.</span><span class="nf">LoadImage</span><span class="p">(</span><span class="n">bytes</span><span class="p">);</span>
</code></pre></div></div>

<p><strong>⑤システムデータ/プレイデータ保存</strong><br>
処理自体は↑のシステムデータ保存、に記載したメソッドを使ってます。</p>

<p>かなりざっくりとした記載になりましたが、上記でサムネイル方式のセーブ機能が作れます。<br>
方法は他にも色々あると思いますが、大事なのは実装方法というより、データの考え方な気がします。</p>

<h2>
<span id="3-ロード機能の実装" class="fragment"></span><a href="#3-%E3%83%AD%E3%83%BC%E3%83%89%E6%A9%9F%E8%83%BD%E3%81%AE%E5%AE%9F%E8%A3%85"><i class="fa fa-link"></i></a>3. ロード機能の実装</h2>

<p>ロード機能はSaveの逆です。<br>
保存したJsonをデシリアライズする、ですね。<br>
※ちなみにシステムデータは、起動時に存在しなければ新規作成するように記述してます。</p>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre><code>    <span class="k">public</span> <span class="kt">string</span> <span class="n">Path</span> <span class="p">=&gt;</span> <span class="n">Application</span><span class="p">.</span><span class="n">persistentDataPath</span> <span class="p">+</span> <span class="s">"/&lt;フォルダ&gt;"</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">void</span> <span class="nf">Load</span><span class="p">(</span><span class="kt">string</span> <span class="n">type</span><span class="p">,</span> <span class="kt">string</span> <span class="n">file</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">string</span> <span class="n">filePath</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">Path</span><span class="p">}</span><span class="s">/</span><span class="p">{</span><span class="n">file</span><span class="p">}</span><span class="s">"</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(!</span><span class="n">File</span><span class="p">.</span><span class="nf">Exists</span><span class="p">(</span><span class="n">filePath</span><span class="p">)){</span><span class="n">Debug</span><span class="p">.</span><span class="nf">LogError</span><span class="p">(</span><span class="s">"Not Found"</span><span class="p">);</span><span class="k">return</span><span class="p">;}</span>

        <span class="n">StreamReader</span> <span class="n">reader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">filePath</span><span class="p">);</span>
        <span class="kt">string</span> <span class="n">jsonData</span> <span class="p">=</span> <span class="n">reader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">type</span> <span class="p">==</span> <span class="s">"play"</span><span class="p">){</span><span class="n">playData</span> <span class="p">=</span> <span class="n">JsonUtility</span><span class="p">.</span><span class="n">FromJson</span><span class="p">&lt;</span><span class="n">PlayData</span><span class="p">&gt;(</span><span class="n">jsonData</span><span class="p">);}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">type</span> <span class="p">==</span> <span class="s">"system"</span><span class="p">){</span><span class="n">systemData</span> <span class="p">=</span> <span class="n">JsonUtility</span><span class="p">.</span><span class="n">FromJson</span><span class="p">&lt;</span><span class="n">SystemData</span><span class="p">&gt;(</span><span class="n">jsonData</span><span class="p">);}</span> 
        <span class="k">else</span> <span class="p">{</span><span class="n">Debug</span><span class="p">.</span><span class="nf">LogError</span><span class="p">(</span><span class="s">"FileType not match"</span><span class="p">);</span><span class="k">return</span><span class="p">;}</span>

        <span class="n">reader</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span>
    <span class="p">}</span>
</code></pre></div></div>

<p>動作タイミングは「システムデータは<strong>起動時</strong>」「プレイデータはロード画面で<strong>SaveBoxがクリックされた時</strong>」にしています。<br>
今回の実装で肝なのは、ゲーム起動時に「セーブ画面に表示する概要情報」を「システムデータに保存されている情報に更新」するという部分でしょうか。処理自体はSave処理の時と同様で、SaveBoxオブジェクトの内容を更新するだけですけどね。</p>

<p>ロード処理はこんなモノなのですが、個人的に書いておきたい事があります。<br>
それは<strong>ロード時にプレイ画面の断面に戻す処理</strong>の苦労です。（苦労したから書いておきたい）</p>

<p>基本的には、必要な情報を保存しておいて、それ通りに画面を更新するだけなんですが、問題なのは<strong>Live2d</strong>なんですよね。<br>
※今回のゲームはLive2dを使ってるのです。</p>

<p>自分が知る限り、Live2dを使ったゲームで「プレイ断面を保存する」ようなモノってあまり無いんですよね。<br>
それはゲームのジャンルだったり、モデルの作り、使い方もあると思いますが、少なくとも自分のゲームは「保存時のLive2dパラメータに戻す」必要があるんです。</p>

<p>例えば表情とか。セーブ時は泣いてたキャラクターが、ロードしたら笑ってた、とか…違和感半端ないですからね…</p>

<p>これが頭を悩ませるポイントでした。。<br>
まぁ基本的には以下のパターンになると思われます。</p>

<p>①expression機能を使う　<br>
②モーションブレンドを使用し、ブレンド率を記録しておき、ロード時に戻す<br>
③モデルのパラメータを直接書き換える</p>

<p>個人的には③がベストだったんですが、落とし穴がありまして…<br>
モデルのパラメータを直接書き換えるには「LateUpdateメソッド」を使う必要があるみたいなんですが、これってLateUpdateを止めた瞬間、パラメータが巻き戻るんですよね…（ずっとメソッドを動かして固定し続けないといけないのだろうか…）<br>
<strong>ただ、メソッドを常時動かしてパラメータを固定すると、アニメーション時に対象のパラメータが動かなくなります。</strong><br>
パラメータがLateUpdateでひたすら上書きされ続けるので、アニメーションを再生しても即座に上書きされ、対象のパラメータが動きません笑</p>

<p>まず教訓なのは、<strong>Unityから直接操作するパラメータとアニメーションで使うパラメータは別にしておくべき。</strong>なんでしょうね…。一旦は②と③の併用でなんとかなってますが、もうちょっと考えないとダメそう…（Live2d周りは悩みが尽きません…）</p>

<h2>
<span id="おわりに" class="fragment"></span><a href="#%E3%81%8A%E3%82%8F%E3%82%8A%E3%81%AB"><i class="fa fa-link"></i></a>おわりに</h2>

<p>かなりザックリとした記事になりましたが、サムネイル方式のセーブシステムをどう実装したかを書いてみました。<br>
Unityで、この方式のセーブ実装は殆ど情報が無いので、何かしら参考になる部分があれば良いな…くらいの気落ちです。</p>

<p>まぁこれが最適な方法なのかは正直わかりません！笑<br>
『必死に方法を模索して、自分の思う機能を実装出来た』という達成感だけは凄く感じています（）</p>

<p>さて、ゲーム作りは本当に大変ですが、リリースに向けて最後まで全力で走りぬくぞー！<br>
（同志の皆さんも同じような苦労をしてるんだと思うと、本当に頭が上がりません…）</p>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2FBA-KAZU%2Fitems%2F917eae78de6ca2c223c4&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2FBA-KAZU%2Fitems%2F917eae78de6ca2c223c4&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/BA-KAZU/items/917eae78de6ca2c223c4/likers" class="css-1iupg5d">1</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">1</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/917eae78de6ca2c223c4/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/BA-KAZU/items/917eae78de6ca2c223c4/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/BA-KAZU/items/917eae78de6ca2c223c4/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/BA-KAZU/items/917eae78de6ca2c223c4/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/BA-KAZU/items/917eae78de6ca2c223c4.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-0d30a571-8962-46cc-b00a-06bae628282d">{"authorAnalyticsTrackingId":null,"organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-bd1b2c0d-b0c8-4c1b-ad8e-b9bba4e7ba70"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-bd1b2c0d-b0c8-4c1b-ad8e-b9bba4e7ba70">{}</script>
      
<div id="LoginModal-react-component-28cd5120-460a-4a99-ab4e-be441664a453"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-28cd5120-460a-4a99-ab4e-be441664a453">{}</script>
      
<div id="StockModal-react-component-e49f4738-f55a-4472-b75f-3d6bca725fa2"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-e49f4738-f55a-4472-b75f-3d6bca725fa2">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;0CrMJdaEX3CIA5QFekByZdUnlMWieRV4iRtlfJ84IFiJPKpxgKHXCvyHSXSy0HHhCUv9xF91BTCjQGzLF1JZkA==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\n\u003ch2\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\n\u003cp\u003eゲーム開発に没頭するあまり、全く記事を書いてなかった事を思い出しました。\u003cbr\u003e\n（下書きだけ書いて、ずっと放置してた…）\u003c/p\u003e\n\n\u003cp\u003eいや、ゲーム開発って本当大変ですね。\u003cbr\u003e\nプライベート時間を殆ど献上しているにも関わらず、やってもやっても終わりませーん\u003cbr\u003e\nリリースを達成しているゲームクリエイターの先輩方は本当に偉大だと実感します。\u003c/p\u003e\n\n\u003cp\u003eと、前置きはこのくらいにして、\u003cbr\u003e\n前回記事にしたセーブシステムが最終的にどういう実装になったのか、記事にしたいと思います（端的に言えば、頑張ったアピールです笑）\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"1-データの実装\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E5%AE%9F%E8%A3%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. データの実装\u003c/h2\u003e\n\n\u003cp\u003eはい、セーブと言えばデータですね。\u003cbr\u003e\n一般的かはさておき、足りない頭で必死に考えた結果、\u003cbr\u003e\nデータは最終的に、以下の3パターンに分類するという結論になりました。\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eNo\u003c/th\u003e\n\u003cth\u003eデータ\u003c/th\u003e\n\u003cth\u003e概要\u003c/th\u003e\n\u003cth\u003e例\u003c/th\u003e\n\u003cth\u003eセーブ対象\u003c/th\u003e\n\u003cth\u003eロードタイミング\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e1\u003c/td\u003e\n\u003ctd\u003eシステム\u003c/td\u003e\n\u003ctd\u003eゲーム全体の\u003cstrong\u003e可変\u003c/strong\u003e設定\u003c/td\u003e\n\u003ctd\u003e音量/速度\u003c/td\u003e\n\u003ctd\u003e○\u003c/td\u003e\n\u003ctd\u003e起動時\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e2\u003c/td\u003e\n\u003ctd\u003eプレイ\u003c/td\u003e\n\u003ctd\u003eゲームプレイ中の断面\u003c/td\u003e\n\u003ctd\u003eキャラステータス\u003c/td\u003e\n\u003ctd\u003e○\u003c/td\u003e\n\u003ctd\u003eコンティニュー時\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e3\u003c/td\u003e\n\u003ctd\u003e内部\u003c/td\u003e\n\u003ctd\u003eゲーム全体の\u003cstrong\u003e固定\u003c/strong\u003e設定\u003c/td\u003e\n\u003ctd\u003eフラグ/リスト\u003c/td\u003e\n\u003ctd\u003e×\u003c/td\u003e\n\u003ctd\u003e×(起動時に毎回初期化)\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003eNo1と2に関しては前回の設計時から特に変わってません。\u003cbr\u003e\nもう少し詳しく書くと、以下のイメージです。\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003e\u0026lt;システムデータ\u0026gt;\u003c/strong\u003e\u003cbr\u003e\n\u003ccode\u003eゲーム全体の『可変』設定情報 = ゲーム全体に関わるフラグ/設定値\u003c/code\u003e\u003cbr\u003e\n→例えばセーブ画面が1~10まであったら、最後にセーブに使った画面は何番か、とかですね。\u003cbr\u003e\nコンティニュー時は最後にセーブに使った画面が真っ先に開く方が嬉しいですし。\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003e\u0026lt;プレイデータ\u0026gt;\u003c/strong\u003e\u003cbr\u003e\n\u003ccode\u003eセーブを実行したタイミングの『プレイ中パラメータ情報』\u003c/code\u003e\u003cbr\u003e\n→Live2Dキャラの状態（表情とか）、キャラステータス、プレイ中のフラグ\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003e\u0026lt;内部データ\u0026gt;\u003c/strong\u003e\u003cbr\u003e\nそして、No3はゲーム内のパラメータを一元管理するために、新たに追加しました。\u003cbr\u003e\nこれに書くのは、ゲーム全体の『固定』設定情報や、ゲーム起動時に『初期化されて問題ないフラグ』です。\u003c/p\u003e\n\n\u003cp\u003e・固定設定情報（エンディング一覧、キャラクタ一覧、アイテム一覧とか）\u003cbr\u003e\n・各種パラメータの設定（パラメータの最大値とか、パラメータの変化率とか）\u003cbr\u003e\n・処理実行中フラグ（起動中、ロード中、シナリオ/アニメーション再生中とか）\u003c/p\u003e\n\n\u003cp\u003e元々は色々なクラスのプロパティに分散され、記載されていたんですが、\u003cbr\u003e\nこの手のフラグは他のクラスから参照するパターンも多いし、\u003cbr\u003e\n殆ど同じ内容のプロパティが各クラスに散見されるので、\u003cbr\u003e\n\u003cstrong\u003e一箇所に纏めて管理しないとメンテナンス大変だなぁ。。\u003c/strong\u003eという事で作成しました。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"2-セーブ機能の実装\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-%E3%82%BB%E3%83%BC%E3%83%96%E6%A9%9F%E8%83%BD%E3%81%AE%E5%AE%9F%E8%A3%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. セーブ機能の実装\u003c/h2\u003e\n\n\u003cp\u003e前回記事にした設計をそのまま実装しました。\u003cbr\u003e\n処理のイメージは以下の感じです。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"システムデータ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E3%83%87%E3%83%BC%E3%82%BF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eシステムデータ\u003c/h3\u003e\n\n\u003cp\u003eシステムデータを記録するタイミングは以下のパターン（うろ覚え）\u003cbr\u003e\n\u003cfont color=\"Blue\"\u003e\u003cbr\u003e\n1. config画面で設定を更新する度に保存\u003cbr\u003e\n2. プレイデータセーブ時に一緒に保存\u003cbr\u003e\n3. ゲームクリア時/ゲームオーバー時/画面遷移時などの節目で保存\u003cbr\u003e\n\u003c/font\u003e\u003c/p\u003e\n\n\u003cp\u003e処理自体は\u003cstrong\u003eSystemDataクラスのインスタンス\u003c/strong\u003eをJsonに変換してファイルとして書き出す。\u003cbr\u003e\nというシンプルなものです。\u003cbr\u003e\n\u003ccode\u003e※コード自体は他の記事でもっと丁寧に書いてるので、そっちを見るのがおススメ！笑\u003cbr\u003e\n　ちなみに、下記コードはシステムデータとプレイデータの共通処理になってます。\u003c/code\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003ePath\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eApplication\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epersistentDataPath\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e\"/\u0026lt;フォルダ\u0026gt;\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eSave\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003efile\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003efilePath\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003ePath\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e/\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003efile\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003ejsonData\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etype\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"s\"\u003e\"play\"\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e\u003cspan class=\"n\"\u003ejsonData\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eJsonUtility\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToJson\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eplayData\u003c/span\u003e\u003cspan class=\"p\"\u003e);}\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eelse\u003c/span\u003e \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etype\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"s\"\u003e\"system\"\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e\u003cspan class=\"n\"\u003ejsonData\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eJsonUtility\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToJson\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esystemData\u003c/span\u003e\u003cspan class=\"p\"\u003e);}\u003c/span\u003e \n        \u003cspan class=\"k\"\u003eelse\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003eDebug\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLogError\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"FileType not match\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;}\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(!\u003c/span\u003e\u003cspan class=\"n\"\u003eDirectory\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eExists\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ePath\u003c/span\u003e\u003cspan class=\"p\"\u003e)){\u003c/span\u003e\u003cspan class=\"n\"\u003eDirectory\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCreateDirectory\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ePath\u003c/span\u003e\u003cspan class=\"p\"\u003e);}\u003c/span\u003e\n\n        \u003cspan class=\"n\"\u003eStreamWriter\u003c/span\u003e \u003cspan class=\"n\"\u003ewriter\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eStreamWriter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efilePath\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"c1\"\u003e//true追記、false上書き\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ewriter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ejsonData\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ewriter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFlush\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ewriter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eClose\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"プレイデータ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%97%E3%83%AC%E3%82%A4%E3%83%87%E3%83%BC%E3%82%BF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eプレイデータ\u003c/h3\u003e\n\n\u003cp\u003e設計で書きましたが、今回のセーブ画面はサムネイル方式です。\u003cbr\u003e\nなのでセーブ時にプレイ画面のスクリーンショットを取得しています。\u003cbr\u003e\n\u003cfont color=\"Blue\"\u003e\u003cbr\u003e\n1. ゲーム画面の「SAVE」ボタンクリックをトリガーに以下を処理\u003cbr\u003e\n　①スクリーンショット取得\u003cbr\u003e\n　②セーブ画面への遷移\u003cbr\u003e\n\u003c/font\u003e\u003cfont color=\"Blue\"\u003e\u003cbr\u003e\n2. セーブ画面の「SaveBox（imageオブジェクト）」のクリックをトリガーに以下を処理\u003cbr\u003e\n　③システムデータ更新\u003cbr\u003e\n　④SaveBoxに各種情報を表示\u003cbr\u003e\n　⑤システムデータ/プレイデータ保存\u003cbr\u003e\n\u003c/font\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003e①スクリーンショット取得\u003c/strong\u003e\u003cbr\u003e\nスクリーンショットを撮るだけながらScreenCaptureで一発です。\u003cbr\u003e\nただ自分は取得した画像の解像度を落として、テキストに変換してます。\u003cbr\u003e\n（その方が一元管理しやすいかな…って事で）\u003cbr\u003e\nまぁ思った以上に画質が劣化するんですけどね笑\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eScreenShot\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ewidth\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eheight\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eTexture2D\u003c/span\u003e \u003cspan class=\"n\"\u003etex\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eScreenCapture\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCaptureScreenshotAsTexture\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003ert\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eRenderTexture\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetTemporary\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ewidth\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eheight\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eGraphics\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eBlit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etex\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ert\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e        \n        \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003epreRT\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eRenderTexture\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eactive\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eRenderTexture\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eactive\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ert\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003eret\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eTexture2D\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ewidth\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eheight\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eret\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eReadPixels\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eRect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ewidth\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eheight\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eret\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eApply\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eRenderTexture\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eactive\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003epreRT\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"n\"\u003etmpSaveImage\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eSystem\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eConvert\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToBase64String\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eret\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eEncodeToPNG\u003c/span\u003e\u003cspan class=\"p\"\u003e());\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003cstrong\u003e②セーブ画面への遷移\u003c/strong\u003e\u003cbr\u003e\nこれは単純にゲーム内の時間を止めて、セーブ画面オブジェクトをアクティブにしてるだけ\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003e③システムデータ更新\u003c/strong\u003e\u003cbr\u003e\n更新するデータ＝SaveBoxに表示する概要情報です。\u003cbr\u003e\n例えば、保存日時や進行状況、サムネイル画像とか\u003cbr\u003e\n何で保存しているかと言えば、\u003cstrong\u003eゲーム起動時にセーブ画面を最新状態に戻すため\u003c/strong\u003eです。\u003c/p\u003e\n\n\u003cp\u003eちなみに設計で詳しく書きましたが、プレイデータはID（数値）で管理していて、\u003cbr\u003e\nIDをキーに「システムデータ内のSave一覧（概要）情報」「セーブ画面のSaveBoxオブジェクト」を紐づけてます。\u003c/p\u003e\n\n\u003cp\u003eなので、\u003cstrong\u003eSaveBoxの『ID=1』がクリックされたら、システムデータ内に『ID=1』としてセーブの概要情報保存 ＋ プレイデータを『ID=1』として保存\u003c/strong\u003eという処理になります。(ロードも同じで『ID=1』がクリックされたら『ID=1』のプレイデータをロードという流れです)\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003e④SaveBoxに各種情報を表示\u003c/strong\u003e\u003cbr\u003e\nSaveBoxに上記で保存した概要情報=保存日時や進行状況、サムネイル画像を反映します。\u003cbr\u003e\nまぁこれはオブジェクト内のTxtやImageを更新するだけです。\u003c/p\u003e\n\n\u003cp\u003eなお前述の通り、画像はテキストに変換してるので、ここで画像に戻す必要があります。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e        \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003eimg\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eTexture2D\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003ebyte\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003ebytes\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eSystem\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eConvert\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFromBase64String\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u0026lt;\u003c/span\u003e\u003cspan class=\"err\"\u003e画像テキスト\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;);\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eimg\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLoadImage\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ebytes\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003cstrong\u003e⑤システムデータ/プレイデータ保存\u003c/strong\u003e\u003cbr\u003e\n処理自体は↑のシステムデータ保存、に記載したメソッドを使ってます。\u003c/p\u003e\n\n\u003cp\u003eかなりざっくりとした記載になりましたが、上記でサムネイル方式のセーブ機能が作れます。\u003cbr\u003e\n方法は他にも色々あると思いますが、大事なのは実装方法というより、データの考え方な気がします。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"3-ロード機能の実装\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3-%E3%83%AD%E3%83%BC%E3%83%89%E6%A9%9F%E8%83%BD%E3%81%AE%E5%AE%9F%E8%A3%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3. ロード機能の実装\u003c/h2\u003e\n\n\u003cp\u003eロード機能はSaveの逆です。\u003cbr\u003e\n保存したJsonをデシリアライズする、ですね。\u003cbr\u003e\n※ちなみにシステムデータは、起動時に存在しなければ新規作成するように記述してます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003ePath\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eApplication\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epersistentDataPath\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e\"/\u0026lt;フォルダ\u0026gt;\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eLoad\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003efile\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003efilePath\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003ePath\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e/\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003efile\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(!\u003c/span\u003e\u003cspan class=\"n\"\u003eFile\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eExists\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efilePath\u003c/span\u003e\u003cspan class=\"p\"\u003e)){\u003c/span\u003e\u003cspan class=\"n\"\u003eDebug\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLogError\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Not Found\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;}\u003c/span\u003e\n\n        \u003cspan class=\"n\"\u003eStreamReader\u003c/span\u003e \u003cspan class=\"n\"\u003ereader\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eStreamReader\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efilePath\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003ejsonData\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ereader\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eReadToEnd\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etype\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"s\"\u003e\"play\"\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e\u003cspan class=\"n\"\u003eplayData\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eJsonUtility\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFromJson\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003ePlayData\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;(\u003c/span\u003e\u003cspan class=\"n\"\u003ejsonData\u003c/span\u003e\u003cspan class=\"p\"\u003e);}\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eelse\u003c/span\u003e \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etype\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"s\"\u003e\"system\"\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e\u003cspan class=\"n\"\u003esystemData\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eJsonUtility\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFromJson\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eSystemData\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;(\u003c/span\u003e\u003cspan class=\"n\"\u003ejsonData\u003c/span\u003e\u003cspan class=\"p\"\u003e);}\u003c/span\u003e \n        \u003cspan class=\"k\"\u003eelse\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003eDebug\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLogError\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"FileType not match\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;}\u003c/span\u003e\n\n        \u003cspan class=\"n\"\u003ereader\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eClose\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e動作タイミングは「システムデータは\u003cstrong\u003e起動時\u003c/strong\u003e」「プレイデータはロード画面で\u003cstrong\u003eSaveBoxがクリックされた時\u003c/strong\u003e」にしています。\u003cbr\u003e\n今回の実装で肝なのは、ゲーム起動時に「セーブ画面に表示する概要情報」を「システムデータに保存されている情報に更新」するという部分でしょうか。処理自体はSave処理の時と同様で、SaveBoxオブジェクトの内容を更新するだけですけどね。\u003c/p\u003e\n\n\u003cp\u003eロード処理はこんなモノなのですが、個人的に書いておきたい事があります。\u003cbr\u003e\nそれは\u003cstrong\u003eロード時にプレイ画面の断面に戻す処理\u003c/strong\u003eの苦労です。（苦労したから書いておきたい）\u003c/p\u003e\n\n\u003cp\u003e基本的には、必要な情報を保存しておいて、それ通りに画面を更新するだけなんですが、問題なのは\u003cstrong\u003eLive2d\u003c/strong\u003eなんですよね。\u003cbr\u003e\n※今回のゲームはLive2dを使ってるのです。\u003c/p\u003e\n\n\u003cp\u003e自分が知る限り、Live2dを使ったゲームで「プレイ断面を保存する」ようなモノってあまり無いんですよね。\u003cbr\u003e\nそれはゲームのジャンルだったり、モデルの作り、使い方もあると思いますが、少なくとも自分のゲームは「保存時のLive2dパラメータに戻す」必要があるんです。\u003c/p\u003e\n\n\u003cp\u003e例えば表情とか。セーブ時は泣いてたキャラクターが、ロードしたら笑ってた、とか…違和感半端ないですからね…\u003c/p\u003e\n\n\u003cp\u003eこれが頭を悩ませるポイントでした。。\u003cbr\u003e\nまぁ基本的には以下のパターンになると思われます。\u003c/p\u003e\n\n\u003cp\u003e①expression機能を使う　\u003cbr\u003e\n②モーションブレンドを使用し、ブレンド率を記録しておき、ロード時に戻す\u003cbr\u003e\n③モデルのパラメータを直接書き換える\u003c/p\u003e\n\n\u003cp\u003e個人的には③がベストだったんですが、落とし穴がありまして…\u003cbr\u003e\nモデルのパラメータを直接書き換えるには「LateUpdateメソッド」を使う必要があるみたいなんですが、これってLateUpdateを止めた瞬間、パラメータが巻き戻るんですよね…（ずっとメソッドを動かして固定し続けないといけないのだろうか…）\u003cbr\u003e\n\u003cstrong\u003eただ、メソッドを常時動かしてパラメータを固定すると、アニメーション時に対象のパラメータが動かなくなります。\u003c/strong\u003e\u003cbr\u003e\nパラメータがLateUpdateでひたすら上書きされ続けるので、アニメーションを再生しても即座に上書きされ、対象のパラメータが動きません笑\u003c/p\u003e\n\n\u003cp\u003eまず教訓なのは、\u003cstrong\u003eUnityから直接操作するパラメータとアニメーションで使うパラメータは別にしておくべき。\u003c/strong\u003eなんでしょうね…。一旦は②と③の併用でなんとかなってますが、もうちょっと考えないとダメそう…（Live2d周りは悩みが尽きません…）\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"おわりに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%8A%E3%82%8F%E3%82%8A%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eおわりに\u003c/h2\u003e\n\n\u003cp\u003eかなりザックリとした記事になりましたが、サムネイル方式のセーブシステムをどう実装したかを書いてみました。\u003cbr\u003e\nUnityで、この方式のセーブ実装は殆ど情報が無いので、何かしら参考になる部分があれば良いな…くらいの気落ちです。\u003c/p\u003e\n\n\u003cp\u003eまぁこれが最適な方法なのかは正直わかりません！笑\u003cbr\u003e\n『必死に方法を模索して、自分の思う機能を実装出来た』という達成感だけは凄く感じています（）\u003c/p\u003e\n\n\u003cp\u003eさて、ゲーム作りは本当に大変ですが、リリースに向けて最後まで全力で走りぬくぞー！\u003cbr\u003e\n（同志の皆さんも同じような苦労をしてるんだと思うと、本当に頭が上がりません…）\u003c/p\u003e\n","createdAt":"2021-07-12T05:04:45Z","elapsedYearsFromLastModifiedAt":0,"encryptedId":"4ZbiwLhv7g+BxlMV7MD1/DA7wdMM/8zI5A==--JK/MgXtYxyw6v+fH--ooj3yrB1k7y//a07lY2r0Q==","isBanned":false,"isDeprecated":false,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2021-07-13T00:18:28Z","likesCount":1,"linkUrl":"https://qiita.com/BA-KAZU/items/917eae78de6ca2c223c4","organization":null,"originalId":1460471,"stockedCount":1,"title":"Unityゲーム制作奮闘記 - 実装 - セーブシステム","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003eはじめに\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#1-%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E5%AE%9F%E8%A3%85\"\u003e1. データの実装\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#2-%E3%82%BB%E3%83%BC%E3%83%96%E6%A9%9F%E8%83%BD%E3%81%AE%E5%AE%9F%E8%A3%85\"\u003e2. セーブ機能の実装\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E3%83%87%E3%83%BC%E3%82%BF\"\u003eシステムデータ\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%97%E3%83%AC%E3%82%A4%E3%83%87%E3%83%BC%E3%82%BF\"\u003eプレイデータ\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#3-%E3%83%AD%E3%83%BC%E3%83%89%E6%A9%9F%E8%83%BD%E3%81%AE%E5%AE%9F%E8%A3%85\"\u003e3. ロード機能の実装\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%8A%E3%82%8F%E3%82%8A%E3%81%AB\"\u003eおわりに\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","totalPv":1061,"uuid":"917eae78de6ca2c223c4","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"QzPl9gzK97c4uVvMJOW7C1OJ3BkV--6yyrqKXUgN3dGbQY--vcrb8uRZoN6WjXAMV4ddEQ==","originalId":401336,"description":"美容室に就職するも会社が倒産。\r\n気持ちを新たに28歳からIT業界へ。\r\n日々精進。現在はインフラがメインだが、色々なものに興味があるお年頃。\r\n","facebookUrl":null,"githubUrl":null,"isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"","profileImageUrl":"https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/401336/92e8337cdd2254d1c0fee0abe8d8eb9f4be4d589/large.png?1578653425","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fs3-ap-northeast-1.amazonaws.com%2Fqiita-image-store%2F0%2F401336%2F92e8337cdd2254d1c0fee0abe8d8eb9f4be4d589%2Flarge.png%3F1578653425?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=b5ef3b3dd93c58a54f7eaf5a8d6e36a7","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fs3-ap-northeast-1.amazonaws.com%2Fqiita-image-store%2F0%2F401336%2F92e8337cdd2254d1c0fee0abe8d8eb9f4be4d589%2Flarge.png%3F1578653425?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=e9bb7c9a795693647b32cc20ca2c7687","urlName":"BA-KAZU","websiteUrl":"","twitterUrl":null,"twitterUrlName":null,"revealedOrganizations":{"edges":[{"node":{"encryptedId":"zfyWVGOfV6K/pj90zzItBi8q5Axw8PHKSXI=--+9ZKrvYhLuufk6ht--DWVoRmMQcDbteG2eplRrsQ==","isBetaReleaseEnabled":false,"isFollowableByViewer":false,"isFollowedByViewer":false,"name":"株式会社ソントレーゾ","logoUrl":"https://s3-ap-northeast-1.amazonaws.com/qiita-organization-image/4e22f784d36e1978b4512c572eea9491f185e9b5/original.jpg?1563256651","urlName":"sentreseau","description":"お客様の業務に最適なDXソリューションをご提案しています。","url":"http://sentreseau.com/"}}]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"Unity","urlName":"unity"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
