More than 5 years have passed since last update.前回は ASP.NET Core で Nancy するためのプロジェクト作成とかGETリクエストしたら JSON とか JSONP を返すとかやりました。今回は GETリクエストされたら View を返してみます。wwwroot フォルダに index.html を作成します。次はモジュールで 前回作成した "Hello World!" してたやつを View を返すように変更します。この状態で実行すると HTTP 500 で内部サーバエラーになります。デフォルトの状態だとルートパスがプロジェクトの実行ディレクトリになっていますが ASP.NET Core のプロジェクトではビルド時にHTMLファイルがここに出力されないのでそんなファイルは見つからないよと言われてしまいます。今回は wwwroot フォルダ下を見てもらいたいのでルートパスを変更します。まずは Nancy.IRootPathProvider インターフェイスを継承したクラスを作成します。GetRootPath() メソッドで wwwroot フォルダを ルートパスとして返すようにしています。次は Nancy.DefaultNancyBootstrapper クラスを継承したクラスを作成します。RootPathProvider プロパティをオーバーライドして先ほど作成した RootPathProvider のインスタンスを返すようにします。最後に Startup.cs の UseNancy しているところで作成した Bootstrapperを使うようにします。実行すると 先ほど作成したHTMLファイルの内容が表示されます。


