<!DOCTYPE html><html><head><meta charset="utf-8" /><title>日本測地系⇔世界測地系座標変換ソフト TKY2JGD をC#に - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/taedookim/items/86a4ace582a0053ee9fc" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="CY2S7K1bP+Onca3pUWcmi+SAnvH0jat72sRTODDTkdxoAG71nMVNsRVP1pbiX335JaSohqKtTV2XH6QqgeePGA==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta content="@taedookim" name="twitter:creator" /><meta property="og:type" content="article"><meta property="og:title" content="日本測地系⇔世界測地系座標変換ソフト TKY2JGD をC#に - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND01cGVsNXB5czVyaXM1Wnl3NTdPNzRvZVU1TGlXNTVXTTVyaXM1Wnl3NTdPNzVicW41cWlaNWFTSjVvLWI0NEs5NDRPVjQ0T0lJRlJMV1RKS1IwUWc0NEtTUXlQamdhcyZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTU0JnR4dC1jbGlwPWVsbGlwc2lzJnR4dC1hbGlnbj1jZW50ZXIlMkNtaWRkbGUmcz1mMGQ2ZWZiMDYwZWQ4MmUzOTlhMjFmZGFiMTkzMjQ2ZA&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RSFJoWldSdmIydHBiUSZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPWUxNjA1ZWI2YmM5YTA1MjBiYTY1YmQyYzlkM2JhZmJi&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=09fb5fc29edd71a372c5a59c48de1a35"><meta property="og:description" content="

　TKY2JGDとは。

キーワードをたどってこのページを読まれている方はご存知の方がほとんどだとは思いますが、国土地理院が配布する日本測地系という座標系の緯度・経度を、現在業界標準で使われている世界測地系という緯度・経度の座標系..."><meta content="https://qiita.com/taedookim/items/86a4ace582a0053ee9fc" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,TKY2JGD" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 1nzh4zz 38fzdi helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-1nzh4zz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 32px;background-color:#FBE69E;color:rgba(0,0,0,0.87);line-height:1.5;font-weight:600;}@media (max-width:770px){.css-1nzh4zz{padding:16px;}}.css-38fzdi{color:#CA832A;margin-right:4px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-7d8846ac-5205-4b51-b1fb-a488a0d90af1"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2Ftaedookim%2Fitems%2F86a4ace582a0053ee9fc">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2Ftaedookim%2Fitems%2F86a4ace582a0053ee9fc">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-7d8846ac-5205-4b51-b1fb-a488a0d90af1">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2020-03-24T14:12:40.000+09:00","dateModified":"2020-03-24T14:12:40.000+09:00","headline":"日本測地系⇔世界測地系座標変換ソフト TKY2JGD をC#に","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND01cGVsNXB5czVyaXM1Wnl3NTdPNzRvZVU1TGlXNTVXTTVyaXM1Wnl3NTdPNzVicW41cWlaNWFTSjVvLWI0NEs5NDRPVjQ0T0lJRlJMV1RKS1IwUWc0NEtTUXlQamdhcyZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTU0JnR4dC1jbGlwPWVsbGlwc2lzJnR4dC1hbGlnbj1jZW50ZXIlMkNtaWRkbGUmcz1mMGQ2ZWZiMDYwZWQ4MmUzOTlhMjFmZGFiMTkzMjQ2ZA\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RSFJoWldSdmIydHBiUSZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPWUxNjA1ZWI2YmM5YTA1MjBiYTY1YmQyYzlkM2JhZmJi\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=09fb5fc29edd71a372c5a59c48de1a35","mainEntityOfPage":"https://qiita.com/taedookim/items/86a4ace582a0053ee9fc","author":{"@type":"Person","address":"Kumamoto, Japan","email":null,"identifier":"taedookim","name":"taedookim","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F45794%2Fprofile-images%2F1473690415?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=838a09e400956e198073898c680da733","url":"https://qiita.com/taedookim","description":"専門学校卒業後、SE -\u003e 大学入学 -\u003e NPO法人 -\u003e 新聞社（記者職） -\u003e 新聞社（デジタル部門） -\u003e SE -\u003e SE（今ここ）と、いろいろフラフラした経歴です。\r\n小さい組織での勤務経験が多いので、設計からテスト、バックエンドからフロントまでと、一通り大抵の工程をかじっていますが、一点特化の能力が無いな〜というのが最近の悩み。","memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://increments.connpass.com/event/211948/">「AirPods Pro」を抽選でプレゼント！Qiita エンジニアフェスタ 2021 Online Meetupを9/9(木)に開催</a><a target="_blank" id="header_text_message_2" href="https://increments.connpass.com/event/211948/">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"taedookim","type":"items","id":"86a4ace582a0053ee9fc"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"「AirPods Pro」を抽選でプレゼント！Qiita エンジニアフェスタ 2021 Online Meetupを9/9(木)に開催","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"taedookim","type":"items","id":"86a4ace582a0053ee9fc"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":0,"pos_id":"header_text_message_1","message":"「AirPods Pro」を抽選でプレゼント！Qiita エンジニアフェスタ 2021 Online Meetupを9/9(木)に開催","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"taedookim","type":"items","id":"86a4ace582a0053ee9fc"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":0,"pos_id":"header_text_message_2","message":"「AirPods Pro」を抽選でプレゼント！Qiita エンジニアフェスタ 2021 Online Meetupを9/9(木)に開催","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/taedookim/items/86a4ace582a0053ee9fc","location":"/taedookim/items/86a4ace582a0053ee9fc","scheme":"https","host":"qiita.com","port":null,"pathname":"/taedookim/items/86a4ace582a0053ee9fc","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"xYZIMMOr2zj/fGwyO5tQ2WN6YqUKtTjVsL1RWJiPi52kC7Qp8jWpak1CF02Iowurol5U0lyV3vP9ZqZKKbuVWQ==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-e8af1705-0ad9-4885-814a-82a07ee72f02"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/taedookim/items/86a4ace582a0053ee9fc/likers" class="css-1iupg5d">1</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">2</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/86a4ace582a0053ee9fc/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/taedookim/items/86a4ace582a0053ee9fc/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/taedookim/items/86a4ace582a0053ee9fc/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/taedookim/items/86a4ace582a0053ee9fc/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/taedookim/items/86a4ace582a0053ee9fc.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-1nzh4zz"><span class="fa fa-fw fa-warning css-38fzdi"></span><p>More than 1 year has passed since last update.</p></div><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/taedookim"><img class="css-100alwu eyfquo10" src="https://qiita-image-store.s3.amazonaws.com/0/45794/profile-images/1473690415" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/taedookim" class="css-10ougpm">@<!-- -->taedookim</a><div class="css-1ay9vb9"><time dateTime="2020-03-24T05:12:40Z" class="css-m19uds">posted at 2020-03-24</time></div></div></div></div></div><h1 class="css-cgzq40">日本測地系⇔世界測地系座標変換ソフト TKY2JGD をC#に</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/tky2jgd" class="css-4czcte">TKY2JGD</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div>
<h2>
<span id="tky2jgdとは" class="fragment"></span><a href="#tky2jgd%E3%81%A8%E3%81%AF"><i class="fa fa-link"></i></a>　TKY2JGDとは。</h2>

<p>キーワードをたどってこのページを読まれている方はご存知の方がほとんどだとは思いますが、国土地理院が配布する日本測地系という座標系の緯度・経度を、現在業界標準で使われている世界測地系という緯度・経度の座標系に変換する機能を提供するソフトウェアです。<br>
<a href="https://www.gsi.go.jp/sokuchikijun/tky2jgd.html" class="autolink" rel="nofollow noopener" target="_blank">https://www.gsi.go.jp/sokuchikijun/tky2jgd.html</a><br>
元々フリーウェアとして上記サイト上で配布されていたのですが、元のソースがVBで1990年代のソフトウェアということですでにかなり古くなっており、脆弱性が見つかったことでバイナリの配布はすでに終了し、現在はソースコードの配布と、Web版の利用のみ続けられている状況です。<br>
<a href="https://vldb.gsi.go.jp/sokuchi/surveycalc/tky2jgd/main.html" class="autolink" rel="nofollow noopener" target="_blank">https://vldb.gsi.go.jp/sokuchi/surveycalc/tky2jgd/main.html</a></p>

<h2>
<span id="なぜcに" class="fragment"></span><a href="#%E3%81%AA%E3%81%9Cc%E3%81%AB"><i class="fa fa-link"></i></a>なぜC#に？</h2>

<p>私がかかわっているプロジェクトで上記ソフトウェアを利用しているのですが、Web版でも一括変換機能が提供されているものの1度に2万件までという制限があり、配布されていた実行ファイルを利用して処理を行っていました。<br>
ところが、このローカル版の配布が終了。また配布されているソースのプロジェクトがVB5.0で開発されていたものということで実行環境も古くなっており、Windows10では動作しないという状況になりました。</p>

<p>ご存知の通り、先日Window7のサポートが終了したことで、社内マシンをWindows10環境に入れ替える必要が出てきたことから、Windows10対応のツールを作成する必要が出てきたため、配布されているソースをもとにC#に置き換える対応を実施したものです。<br>
同種のことでお困りの方がいるかなとGitHubでの公開も考えたのですが</p>

<ul>
<li>おそらく需要は日本国内だけ</li>
<li>社内向けツールのため（下の前提条件にも書いていますが）公開対象は動作するプロジェクト全体ではなく、TKY2JGDから置き換えた1ファイルのみ</li>
</ul>

<p>と考えたことから、こちらに張っておけば、必要な方には届くだろうと判断し、こちらにソースコードを貼ることで公開としました。<br>
ご利用の際には適宜、ご自身のプロジェクト内に取り込む形で修正・改修を行ってご利用ください。</p>

<h3>
<span id="なお自分が利用する範囲内で計算結果が従来のソフトウェアと変わらないことの確認は行っていますが計算結果の正当性や本コードを利用して発生する不利益に対するいかなる補償もいたしかねますのでご利用の際は自己責任においてご利用いただきますようご承知ください" class="fragment"></span><a href="#%E3%81%AA%E3%81%8A%E8%87%AA%E5%88%86%E3%81%8C%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B%E7%AF%84%E5%9B%B2%E5%86%85%E3%81%A7%E8%A8%88%E7%AE%97%E7%B5%90%E6%9E%9C%E3%81%8C%E5%BE%93%E6%9D%A5%E3%81%AE%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E3%81%A8%E5%A4%89%E3%82%8F%E3%82%89%E3%81%AA%E3%81%84%E3%81%93%E3%81%A8%E3%81%AE%E7%A2%BA%E8%AA%8D%E3%81%AF%E8%A1%8C%E3%81%A3%E3%81%A6%E3%81%84%E3%81%BE%E3%81%99%E3%81%8C%E8%A8%88%E7%AE%97%E7%B5%90%E6%9E%9C%E3%81%AE%E6%AD%A3%E5%BD%93%E6%80%A7%E3%82%84%E6%9C%AC%E3%82%B3%E3%83%BC%E3%83%89%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6%E7%99%BA%E7%94%9F%E3%81%99%E3%82%8B%E4%B8%8D%E5%88%A9%E7%9B%8A%E3%81%AB%E5%AF%BE%E3%81%99%E3%82%8B%E3%81%84%E3%81%8B%E3%81%AA%E3%82%8B%E8%A3%9C%E5%84%9F%E3%82%82%E3%81%84%E3%81%9F%E3%81%97%E3%81%8B%E3%81%AD%E3%81%BE%E3%81%99%E3%81%AE%E3%81%A7%E3%81%94%E5%88%A9%E7%94%A8%E3%81%AE%E9%9A%9B%E3%81%AF%E8%87%AA%E5%B7%B1%E8%B2%AC%E4%BB%BB%E3%81%AB%E3%81%8A%E3%81%84%E3%81%A6%E3%81%94%E5%88%A9%E7%94%A8%E3%81%84%E3%81%9F%E3%81%A0%E3%81%8D%E3%81%BE%E3%81%99%E3%82%88%E3%81%86%E3%81%94%E6%89%BF%E7%9F%A5%E3%81%8F%E3%81%A0%E3%81%95%E3%81%84"><i class="fa fa-link"></i></a>なお、自分が利用する範囲内で計算結果が従来のソフトウェアと変わらないことの確認は行っていますが、計算結果の正当性や、本コードを利用して発生する不利益に対するいかなる補償もいたしかねますので、ご利用の際は自己責任においてご利用いただきますよう、ご承知ください。</h3>

<h2>
<span id="前提条件" class="fragment"></span><a href="#%E5%89%8D%E6%8F%90%E6%9D%A1%E4%BB%B6"><i class="fa fa-link"></i></a>前提条件</h2>

<p>今回、私の業務に沿った対応のみ行っており、以下のような形で置き換えを行っています。</p>

<ul>
<li>私は元々、座標空間系の処理を専門とする者ではないため、座標計算の正当性については判断がついていません。このため、座標処理の部分についてはVBの計算式をC#に置き換えるということだけに注力しました。（結果が、旧来のソフトウェアの変換結果と同じ値になることをもって正と判断しています）</li>
<li>修正対象としたのは、元のプロジェクトの中で座標変換のコア計算を行っている <strong>modTky2jgd.bas</strong> のみです。</li>
<li>各メソッド冒頭には、C#の標準（と思われる）形式に書き直した形で元々記載されていたコメントを記述しています。また[]内に、VBで利用されていた元のメソッド名を記載していますので、処理内容を確認する際にご利用ください。</li>
<li>処理ロジック部分については、例えば <code>文字列を走査して文字数をカウントしながら分割処理を行っているような箇所は Splitメソッドに置き換える</code> など、できるだけわかりやすい形への置き換えを行ったつもりです。</li>
<li>各部分のコメントについても処理内容の正当性が判断つかないため、（一部手直しはしているもののの）基本的には元ソースにあったものをそのまま残しています。</li>
<li>変数名、メソッド名のコーディングルールはある程度VBからC#向けのものに置き換えました。ただ、そもそもC#もあまり得意ではないため、あまりC#らしからぬコーディングになっている箇所が多々あるかと思いますがお目こぼしいただければと思います。</li>
<li>元のソースでは、ソフトウェアのフォームオブジェクトにテキストボックスが配置され、各種数値が入力されていたことから、その入力値が適正かどうか判断するロジックが入っていましたが、これらの処理は不要（あらかじめチェック済みの前提）としています。</li>
<li>元のソースでは、画面上でいくつか設定を行い、その設定値に合わせて動的に入力・出力を判断していましたが、今回、私のプロジェクトで必要だったのが <code>緯度経度</code>  <code>ファイル一括</code> <code>出力ファイルに入力値を出力する</code> の設定だったため、 <strong>これらのロジック以外の部分は検証は行っておりません</strong> 。（パラメータを定数として設定しているため、Visual Studioでソースを読み込むと <code>到達できないコード</code> がみつかるのもそのためです）。</li>
<li>変換に必要な地域パラメータファイルは、国土地理院の配布サイトから取得してください。このファイルの現状では、全国版の <code>TKY2JGD.par</code> ファイルを、同一プログラム内のリソースとして保存してあるものを読み込むようにしていますが、特定地域のみにしたり、またプロジェクト内に保存せずに動的リソースとして読み込むような場合は、コンストラクタ部分と <code>readParameters()</code> メソッド内の処理を適宜書き換えてお使いください。</li>
<li>ソース内の <code>MainForm mainForm</code> <code>CommonUtils</code> <code>ConstString</code> 当たりは、私が作成しているプロジェクト部分になります。画面表示やログ出力、メッセージ用の文字列定数等々となりますので、適宜書き換えてご利用ください。</li>
</ul>

<p>ということで、置き換え後のファイルがこちらになります。</p>

<p><details><summary>Tky2jgd.cs</summary><div>

<div class="code-frame" data-lang="C#">
<div class="code-lang"><span class="bold">tky2jgd.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="cm">/***
 * Original Program TKY2JGD https://www.gsi.go.jp/sokuchikijun/tky2jgd_download.html
 * witten by (C) Mikio TOBITA 飛田幹男，国土地理院
 * with Visual Basic 5.0
 * 
 * convert to C# authering by Tezuka Yasuto 手塚泰斗
 * 2020-03-24
 * 
 ***/</span>

<span class="k">using</span> <span class="nn">MeiboConverter</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.IO</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Reflection</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Windows.Forms</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">Tky2jgd</span>
<span class="p">{</span>

    <span class="k">class</span> <span class="nc">Tky2jgd</span>
    <span class="p">{</span>
        <span class="k">private</span> <span class="n">MainForm</span> <span class="n">mainForm</span><span class="p">;</span>

        <span class="k">private</span> <span class="k">readonly</span> <span class="kt">string</span> <span class="n">inFileName</span><span class="p">;</span>  <span class="c1">// 入力ファイル名，出力ファイル名</span>
        <span class="k">private</span> <span class="k">readonly</span> <span class="kt">string</span> <span class="n">outFileName</span><span class="p">;</span> <span class="c1">// 入力ファイル名，出力ファイル名</span>
        <span class="k">private</span> <span class="k">readonly</span> <span class="kt">string</span> <span class="n">parFileName</span><span class="p">;</span>  <span class="c1">// 変換パラメータファイルのフルパス名</span>
        <span class="k">private</span> <span class="k">readonly</span> <span class="kt">string</span> <span class="n">parVersion</span><span class="p">;</span>  <span class="c1">// 返還パラメータファイルのVersion番号</span>

        <span class="c1">// パラメータファイル読み込み</span>
        <span class="k">private</span> <span class="kt">long</span><span class="p">[]</span> <span class="n">paramMeshCode</span><span class="p">;</span>  <span class="c1">//1行1ｸﾞﾘｯﾄﾞ型ﾃﾞｰﾀ変換ﾊﾟﾗﾒｰﾀを格納</span>
        <span class="k">private</span> <span class="kt">float</span><span class="p">[]</span> <span class="n">paramDiffBeta</span><span class="p">;</span>  <span class="c1">//1行1ｸﾞﾘｯﾄﾞ型ﾃﾞｰﾀ変換ﾊﾟﾗﾒｰﾀを格納</span>
        <span class="k">private</span> <span class="kt">float</span><span class="p">[]</span> <span class="n">paramDiffLambda</span><span class="p">;</span>  <span class="c1">//1行1ｸﾞﾘｯﾄﾞ型ﾃﾞｰﾀ変換ﾊﾟﾗﾒｰﾀを格納</span>
        <span class="k">private</span> <span class="k">struct</span> <span class="nc">MeshCode</span>
        <span class="p">{</span>
            <span class="k">public</span> <span class="kt">int</span> <span class="n">FirstMeshCode</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>    <span class="c1">//１次メッシュコード　4桁 ex.5438</span>
            <span class="k">public</span> <span class="kt">int</span> <span class="n">SecondMeshCode</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>    <span class="c1">//２次メッシュコード　2桁 ex.23</span>
            <span class="k">public</span> <span class="kt">int</span> <span class="n">ThridMeshCode</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>    <span class="c1">//３次メッシュコード　2桁 ex.45</span>
            <span class="k">public</span> <span class="kt">long</span> <span class="n">FullMeshCode</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span> <span class="c1">//すべて                 ex.54382345</span>
            <span class="k">public</span> <span class="kt">string</span> <span class="n">FormedMeshCode</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span> <span class="c1">//正式な形式の文字列型    ex."5438-23-45"</span>
            <span class="k">public</span> <span class="kt">double</span> <span class="n">ModLat</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>  <span class="c1">//余り。3次メッシュの左下（南西角）点からどれくらいずれているか。0(西端)以上1(東端)未満</span>
            <span class="k">public</span> <span class="kt">double</span> <span class="n">ModLon</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>  <span class="c1">//余り。3次メッシュの左下（南西角）点からどれくらいずれているか。0(南端)以上1(北端)未満</span>
        <span class="p">}</span>
        <span class="k">private</span> <span class="k">struct</span> <span class="nc">TranPara</span>  <span class="c1">//座標変換パラメータ緯度差，経度差の構造体を定義</span>
        <span class="p">{</span>
            <span class="k">public</span> <span class="kt">double</span> <span class="n">DiffBeta</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
            <span class="k">public</span> <span class="kt">double</span> <span class="n">DiffLambda</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="k">static</span> <span class="k">readonly</span> <span class="kt">double</span> <span class="n">PI</span> <span class="p">=</span> <span class="m">3.14159265358979</span><span class="p">;</span>       <span class="c1">// 円周率</span>
        <span class="k">private</span> <span class="k">static</span> <span class="k">readonly</span> <span class="kt">double</span> <span class="n">DoublePI</span> <span class="p">=</span> <span class="m">6.28318530717959</span><span class="p">;</span> <span class="c1">// 円周率*2</span>
        <span class="k">private</span> <span class="k">static</span> <span class="k">readonly</span> <span class="kt">double</span> <span class="n">HalfPI</span> <span class="p">=</span> <span class="m">1.5707963267949</span><span class="p">;</span>    <span class="c1">// 円周率/2</span>
        <span class="k">private</span> <span class="k">static</span> <span class="k">readonly</span> <span class="kt">double</span> <span class="n">RadToDeg</span> <span class="p">=</span> <span class="m">57.2957795130823</span><span class="p">;</span> <span class="c1">//ラジアンを度にするため掛ける数</span>
        <span class="k">private</span> <span class="k">static</span> <span class="k">readonly</span> <span class="kt">double</span> <span class="n">DegToRad</span> <span class="p">=</span> <span class="m">1.74532925199433E-02</span><span class="p">;</span> <span class="c1">//度をラジアンにするため掛ける数</span>
        <span class="k">private</span> <span class="k">static</span> <span class="k">readonly</span> <span class="kt">double</span> <span class="n">ROBYO</span> <span class="p">=</span> <span class="m">206264.806247</span><span class="p">;</span>          <span class="c1">//3600*180/PI</span>

        <span class="k">private</span> <span class="k">struct</span> <span class="nc">EllipParam</span>  <span class="c1">//楕円体パラメータの構造体を定義</span>
        <span class="p">{</span>
            <span class="k">public</span> <span class="kt">double</span> <span class="n">Axix</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>   <span class="c1">//semimajor axix in meter</span>
            <span class="k">public</span> <span class="kt">double</span> <span class="n">Flattening1</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>  <span class="c1">//reciprocal flattening</span>
            <span class="k">public</span> <span class="kt">double</span> <span class="n">Flattening</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>   <span class="c1">//flattening</span>
            <span class="k">public</span> <span class="kt">double</span> <span class="n">Eccentricity</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>   <span class="c1">//squared eccentricity</span>
            <span class="k">public</span> <span class="kt">string</span> <span class="n">Namec</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>   <span class="c1">//ellipsoid name</span>
        <span class="p">}</span>
        <span class="k">private</span> <span class="n">EllipParam</span><span class="p">[]</span> <span class="n">ellipObj</span><span class="p">;</span>   <span class="c1">// EP[0]はBessel楕円体=日本測地系，EP[1]はGRS-80楕円体=世界測地系</span>

        <span class="k">private</span> <span class="k">static</span> <span class="k">readonly</span> <span class="kt">bool</span> <span class="n">allThreeParamFlag</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>  <span class="c1">//すべて3parameterによる計算を行うかどうか。今回はfalse固定</span>
        <span class="k">private</span> <span class="k">static</span> <span class="k">readonly</span> <span class="kt">bool</span> <span class="n">inputOutFlag</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>   <span class="c1">//出力ファイルに入力情報を記録するかのフラグ。元々は画面で切り替えできるが今回は true 固定</span>
        <span class="k">private</span> <span class="k">static</span> <span class="k">readonly</span> <span class="kt">bool</span> <span class="n">inputOptR3Flag</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span> <span class="c1">//設定画面の設定 「地域ごとのパラメータ」が無かったら、「3パラメータ」で変換する。今回はfalse固定</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// コンストラクタ</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="targetDir"&gt;入力ファイル、出力ファイルのフォルダパス&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="thisForm"&gt;表示している画面フォーム。各種情報を表示する際の操作に使用&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="inFile"&gt;入力ファイル。デフォルトは既存プログラムに従いzahyou.in&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="outFile"&gt;出力ファイル。デフォルトは既存プログラムに従いzahyou.out&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="parmFile"&gt;パラメータファイル。デフォルトは既存プログラムの全国版でTKY2JGD.par。リソースから読み込んで処理する場合は指定は不要&lt;/param&gt;</span>
        <span class="k">public</span> <span class="nf">Tky2jgd</span><span class="p">(</span> <span class="kt">string</span> <span class="n">targetDir</span><span class="p">,</span> <span class="n">MainForm</span> <span class="n">thisForm</span><span class="p">,</span> <span class="kt">string</span> <span class="n">inFile</span> <span class="p">=</span> <span class="s">"\\zahyou.in"</span><span class="p">,</span> <span class="kt">string</span> <span class="n">outFile</span><span class="p">=</span> <span class="s">"\\zahyou.out"</span><span class="p">,</span> <span class="kt">string</span> <span class="n">parmFile</span><span class="p">=</span> <span class="s">"\\TKY2JGD.par"</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// ファイル名関連の固定値設定</span>
            <span class="n">inFileName</span> <span class="p">=</span> <span class="n">targetDir</span><span class="p">+</span> <span class="n">inFile</span><span class="p">;</span>
            <span class="n">outFileName</span> <span class="p">=</span> <span class="n">targetDir</span><span class="p">+</span> <span class="n">outFile</span><span class="p">;</span>
            <span class="n">parFileName</span> <span class="p">=</span> <span class="n">Application</span><span class="p">.</span><span class="n">StartupPath</span> <span class="p">+</span> <span class="n">parmFile</span><span class="p">;</span>
            <span class="c1">//楕円体ﾊﾟﾗﾒｰﾀの設定</span>
            <span class="c1">//楕円体パラメータ。0：ベッセル楕円体，1：GRS-80楕円体</span>
            <span class="n">ellipObj</span> <span class="p">=</span> <span class="k">new</span> <span class="n">EllipParam</span><span class="p">[</span><span class="m">2</span><span class="p">];</span>
            <span class="n">ellipObj</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">Axix</span> <span class="p">=</span> <span class="m">6377397.155</span><span class="p">;</span>
            <span class="n">ellipObj</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">Flattening1</span> <span class="p">=</span> <span class="m">299.152813</span><span class="p">;</span>
            <span class="n">ellipObj</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">Namec</span> <span class="p">=</span> <span class="s">"Bessel"</span><span class="p">;</span>
            <span class="n">ellipObj</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">Flattening</span> <span class="p">=</span> <span class="m">1.0</span> <span class="p">/</span> <span class="n">ellipObj</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">Flattening1</span><span class="p">;</span>
            <span class="n">ellipObj</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">Eccentricity</span> <span class="p">=</span> <span class="p">(</span><span class="m">2.0</span> <span class="p">*</span> <span class="n">ellipObj</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">Flattening1</span> <span class="p">-</span> <span class="m">1.0</span><span class="p">)</span> <span class="p">/</span> <span class="n">ellipObj</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">Flattening1</span> <span class="p">/</span> <span class="n">ellipObj</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">Flattening1</span><span class="p">;</span>  <span class="c1">//=e*e (squared e);</span>
            <span class="n">ellipObj</span><span class="p">[</span><span class="m">1</span><span class="p">].</span><span class="n">Axix</span> <span class="p">=</span> <span class="m">6378137.0</span><span class="p">;</span>
            <span class="n">ellipObj</span><span class="p">[</span><span class="m">1</span><span class="p">].</span><span class="n">Flattening1</span> <span class="p">=</span> <span class="m">298.257222101</span><span class="p">;</span>
            <span class="n">ellipObj</span><span class="p">[</span><span class="m">1</span><span class="p">].</span><span class="n">Namec</span> <span class="p">=</span> <span class="s">"GRS-80"</span><span class="p">;</span>
            <span class="n">ellipObj</span><span class="p">[</span><span class="m">1</span><span class="p">].</span><span class="n">Flattening</span> <span class="p">=</span> <span class="m">1.0</span> <span class="p">/</span> <span class="n">ellipObj</span><span class="p">[</span><span class="m">1</span><span class="p">].</span><span class="n">Flattening1</span><span class="p">;</span>
            <span class="n">ellipObj</span><span class="p">[</span><span class="m">1</span><span class="p">].</span><span class="n">Eccentricity</span> <span class="p">=</span> <span class="p">(</span><span class="m">2.0</span> <span class="p">*</span> <span class="n">ellipObj</span><span class="p">[</span><span class="m">1</span><span class="p">].</span><span class="n">Flattening1</span> <span class="p">-</span> <span class="m">1.0</span><span class="p">)</span> <span class="p">/</span> <span class="n">ellipObj</span><span class="p">[</span><span class="m">1</span><span class="p">].</span><span class="n">Flattening1</span> <span class="p">/</span> <span class="n">ellipObj</span><span class="p">[</span><span class="m">1</span><span class="p">].</span><span class="n">Flattening1</span><span class="p">;</span>  <span class="c1">//=e*e (squared e)</span>

            <span class="n">mainForm</span> <span class="p">=</span> <span class="n">thisForm</span><span class="p">;</span>
            <span class="c1">// パラメータファイルの読み込み</span>
            <span class="n">parVersion</span> <span class="p">=</span> <span class="nf">ReadParamFile</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// 地域ごとパラメータファイル(TKY2JGD.par)の読み込み</span>
        <span class="c1">/// 読み込みに成功したら""でなく，Versionを返す</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;returns&gt;&lt;/returns&gt;</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="nf">ReadParamFile</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// 1行1ｸﾞﾘｯﾄﾞ型ﾊﾟﾗﾒｰﾀﾌｧｲﾙを読み込みます。</span>
            <span class="c1">// ﾌｧｲﾙ形式例２（２行抜粋）：</span>
            <span class="c1">// 3次ﾒｯｼｭｺｰﾄﾞ  dB(")    dL(")</span>
            <span class="c1">// 46305526  12.74179  -8.18083</span>
            <span class="c1">// 46305624  12.75169  -8.20710</span>
            <span class="kt">long</span> <span class="n">lineCount</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="kt">string</span> <span class="n">firstLine</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
            <span class="kt">string</span> <span class="n">secondLine</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>

            <span class="c1">// リソースの中に保存した TKY2JGD.par ファイルを使う場合のロジック</span>
            <span class="kt">var</span> <span class="n">paramFile</span> <span class="p">=</span> <span class="n">MeiboConverter</span><span class="p">.</span><span class="n">Properties</span><span class="p">.</span><span class="n">Resources</span><span class="p">.</span><span class="n">TKY2JGD</span><span class="p">;</span>
            <span class="kt">string</span> <span class="n">paramLines</span> <span class="p">=</span> <span class="n">Encoding</span><span class="p">.</span><span class="nf">GetEncoding</span><span class="p">(</span><span class="s">"shift_jis"</span><span class="p">).</span><span class="nf">GetString</span><span class="p">(</span><span class="n">paramFile</span><span class="p">);</span>
            <span class="kt">string</span><span class="p">[]</span> <span class="n">lineArray</span> <span class="p">=</span> <span class="n">paramLines</span><span class="p">.</span><span class="nf">Split</span><span class="p">(</span><span class="sc">'\n'</span><span class="p">);</span>
            <span class="n">paramMeshCode</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">long</span><span class="p">[</span><span class="n">lineArray</span><span class="p">.</span><span class="n">Length</span><span class="p">];</span>
            <span class="n">paramDiffBeta</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">float</span><span class="p">[</span><span class="n">lineArray</span><span class="p">.</span><span class="n">Length</span><span class="p">];</span>
            <span class="n">paramDiffLambda</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">float</span><span class="p">[</span><span class="n">lineArray</span><span class="p">.</span><span class="n">Length</span><span class="p">];</span>
            <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">line</span> <span class="k">in</span> <span class="n">lineArray</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">switch</span> <span class="p">(</span><span class="n">lineCount</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="k">case</span> <span class="m">0</span><span class="p">:</span>
                        <span class="n">firstLine</span> <span class="p">=</span> <span class="n">line</span><span class="p">;</span>
                        <span class="k">break</span><span class="p">;</span>
                    <span class="k">case</span> <span class="m">1</span><span class="p">:</span>
                        <span class="n">secondLine</span> <span class="p">=</span> <span class="n">line</span><span class="p">;</span>
                        <span class="k">break</span><span class="p">;</span>
                    <span class="k">default</span><span class="p">:</span>
                        <span class="k">if</span> <span class="p">(</span><span class="n">line</span><span class="p">.</span><span class="n">Length</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span>
                        <span class="p">{</span>
                            <span class="k">continue</span><span class="p">;</span>
                        <span class="p">}</span>
                        <span class="c1">// parファイルの読み込み行。Debug用処理だが有効にしていると処理にかなり時間がかかるのでコメント</span>
                        <span class="c1">// line.DebugLog(nameof(line));</span>

                        <span class="kt">string</span><span class="p">[]</span> <span class="n">param_array</span> <span class="p">=</span> <span class="n">line</span><span class="p">.</span><span class="nf">Replace</span><span class="p">(</span><span class="s">"   "</span><span class="p">,</span> <span class="s">" "</span><span class="p">).</span><span class="nf">Replace</span><span class="p">(</span><span class="s">"  "</span><span class="p">,</span> <span class="s">" "</span><span class="p">).</span><span class="nf">Split</span><span class="p">(</span><span class="sc">' '</span><span class="p">);</span>
                        <span class="n">paramMeshCode</span><span class="p">[</span><span class="n">lineCount</span> <span class="p">-</span> <span class="m">2</span><span class="p">]</span> <span class="p">=</span> <span class="kt">long</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="n">param_array</span><span class="p">[</span><span class="m">0</span><span class="p">]);</span>
                        <span class="n">paramDiffBeta</span><span class="p">[</span><span class="n">lineCount</span> <span class="p">-</span> <span class="m">2</span><span class="p">]</span> <span class="p">=</span> <span class="kt">float</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="n">param_array</span><span class="p">[</span><span class="m">1</span><span class="p">]);</span>
                        <span class="n">paramDiffLambda</span><span class="p">[</span><span class="n">lineCount</span> <span class="p">-</span> <span class="m">2</span><span class="p">]</span> <span class="p">=</span> <span class="kt">float</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="n">param_array</span><span class="p">[</span><span class="m">2</span><span class="p">]);</span>

                        <span class="k">if</span> <span class="p">(</span><span class="n">lineCount</span> <span class="p">%</span> <span class="m">10000</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span>
                        <span class="p">{</span>
                            <span class="n">mainForm</span><span class="p">.</span><span class="nf">AddProgressValue</span><span class="p">(</span><span class="m">1</span><span class="p">);</span>
                            <span class="n">mainForm</span><span class="p">.</span><span class="nf">SetProcessMsg</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="n">ConstString</span><span class="p">.</span><span class="n">Process</span><span class="p">.</span><span class="n">MsgReadParamFile</span><span class="p">,</span> <span class="n">lineCount</span><span class="p">));</span>
                        <span class="p">}</span>
                        <span class="k">break</span><span class="p">;</span>
                <span class="p">}</span>

                <span class="n">lineCount</span> <span class="p">+=</span> <span class="m">1</span><span class="p">;</span>

            <span class="p">}</span>

            <span class="cm">/** TKY2JGD.par ファイルを、どこかのフォルダから動的に読み込む場合はこちらのロジックを使う
            StreamReader paramf = new StreamReader(parfilename);
            try
            {
                FileInfo fi = new FileInfo(parfilename);
                //ファイルのサイズを取得
                long filesize = fi.Length;

                // プログレスバーのMax値は，ﾌｧｲﾙの大きさ(in Bytes)とする。
                //frmParaFile1.ProgressBar1.Max = filesize / (double)128; // for ProgressBar
                // frmParaFile1.lblLine = string.Format(filesize.ToString(), "###,###,###") + " Bytes";

                first_line = paramf.ReadLine();
                second_line = paramf.ReadLine();
                while (paramf.Peek() != -1)
                {
                    string line = paramf.ReadLine();
                    line_count += 1;

                    string[] line_array = line.Split(' ');
                    MC[line_count] = long.Parse(line_array[0]);
                    dB1[line_count] = float.Parse(line_array[1]);
                    dL1[line_count] = float.Parse(line_array[2]);
                    if ((line_count % 2000 == 0))
                    {
                        mainForm.setProcessMsg(ConstString.Process.msgReadParamFile);
                        //frmParaFile1.ProgressBar1.Value = filesize;
                        if ((BreakFlag))
                        {
                            BreakFlag = false;
                            return "";
                        }
                    }
                }

            }
            catch (Exception e)
            {
                CommonUtils.logWrite(string.Format(ConstString.Error.fileNotExist, parfilename));
                MessageBox.Show(
                    ConstString.Error.fatalMsg,
                    string.Format(ConstString.Error.fatalTitle),
                    MessageBoxButtons.OK,
                    MessageBoxIcon.Error
                    );
            }
            finally
            {
                paramf.Close();
            }
            **/</span>

            <span class="c1">// parファイルの1行目からVersion番号を取り出す。20～28カラムです。</span>
            <span class="k">return</span> <span class="n">firstLine</span><span class="p">.</span><span class="nf">Substring</span><span class="p">(</span><span class="m">19</span><span class="p">,</span> <span class="m">9</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// 順方向の座標変換をﾌｧｲﾙ一括処理します[BLFile()]</span>
        <span class="c1">/// 座標変換後の緯度経度をdmsフォーマット（度分秒形式）で出力します。</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">FileConvertBatch</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Assembly</span> <span class="n">assembly</span> <span class="p">=</span> <span class="n">Assembly</span><span class="p">.</span><span class="nf">GetExecutingAssembly</span><span class="p">();</span>
            <span class="n">AssemblyName</span> <span class="n">asmName</span> <span class="p">=</span> <span class="n">assembly</span><span class="p">.</span><span class="nf">GetName</span><span class="p">();</span>
            <span class="n">Version</span> <span class="n">app_version</span> <span class="p">=</span> <span class="n">asmName</span><span class="p">.</span><span class="n">Version</span><span class="p">;</span>

            <span class="c1">// 詳細表示をしない設定とします</span>
            <span class="c1">//frmAdv.chkDetail.Value = 0;</span>
            <span class="c1">// 処理中止ボタンを表示</span>
            <span class="c1">//frmFile.cmdBreak.Visible = true;</span>

            <span class="n">StreamReader</span> <span class="n">reader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">inFileName</span><span class="p">);</span>
            <span class="k">try</span>
            <span class="p">{</span>
                <span class="n">StreamWriter</span> <span class="n">writer</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamWriter</span><span class="p">(</span><span class="n">outFileName</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="n">Encoding</span><span class="p">.</span><span class="nf">GetEncoding</span><span class="p">(</span><span class="s">"shift_jis"</span><span class="p">));</span>
                <span class="n">writer</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">$"このファイル</span><span class="p">{</span><span class="n">Path</span><span class="p">.</span><span class="nf">GetFileNameWithoutExtension</span><span class="p">(</span><span class="n">outFileName</span><span class="p">)}</span><span class="s">は，プログラムTKY2JGD Ver.</span><span class="p">{</span><span class="n">app_version</span><span class="p">}</span><span class="s">が</span><span class="p">{</span><span class="n">Path</span><span class="p">.</span><span class="nf">GetFileNameWithoutExtension</span><span class="p">(</span><span class="n">inFileName</span><span class="p">)}</span><span class="s">を読み込んで計算処理したものです。"</span><span class="p">);</span>
                <span class="n">writer</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"使用した変換パラメータファイルは，"</span> <span class="p">+</span> <span class="n">Path</span><span class="p">.</span><span class="nf">GetFileNameWithoutExtension</span><span class="p">(</span><span class="n">parFileName</span><span class="p">)</span> <span class="p">+</span> <span class="s">" "</span> <span class="p">+</span> <span class="n">parVersion</span> <span class="p">+</span> <span class="s">"です。"</span><span class="p">);</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">inputOutFlag</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="n">writer</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"次に示すように，各行の最初の２つの数字が入力した日本測地系の緯度，経度，次の２つが変換されたJGD2000系の緯度，経度を表しています。"</span><span class="p">);</span>
                    <span class="n">writer</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"    日本測地系（入力値）              JGD2000系（計算値）"</span><span class="p">);</span>
                    <span class="n">writer</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"    緯度            経度            緯度            経度"</span><span class="p">);</span>
                    <span class="n">writer</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"ddmmss.sssss   dddmmss.sssss    ddmmss.sssss   dddmmss.sssss"</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="k">else</span>
                <span class="p">{</span>
                    <span class="n">writer</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"次に示すように，各行の最初の２つの数字が，変換されたJGD2000系の緯度，経度を表しています。"</span><span class="p">);</span>
                    <span class="n">writer</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"       JGD2000系（計算値）"</span><span class="p">);</span>
                    <span class="n">writer</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"     緯度            経度"</span><span class="p">);</span>
                    <span class="n">writer</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">" ddmmss.sssss   dddmmss.sssss"</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="n">writer</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"行末に「3parameters」があるものは，地域毎のパラメータがなかったか3パラメータで変換するよう設定されていたため，「東京大正」三角点における3パラメータで変換したものです。"</span><span class="p">);</span>
                <span class="n">writer</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"また，「-9999.」がある行は，変換されなかった行です。"</span><span class="p">);</span>
                <span class="n">writer</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"以上のどちらでもない行は，「地域毎の変換パラメータ」で変換された行です。"</span><span class="p">);</span>
                <span class="n">writer</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"ただし，コメント行や数値の形式が不正な行は，変換されずにそのまま出力されます。"</span><span class="p">);</span>
                <span class="n">writer</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span>

                <span class="kt">long</span> <span class="n">lineCount</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
                <span class="k">while</span> <span class="p">(</span><span class="n">reader</span><span class="p">.</span><span class="nf">Peek</span><span class="p">()</span> <span class="p">!=</span> <span class="p">-</span><span class="m">1</span><span class="p">)</span>        <span class="c1">// 行ごとの処理</span>
                <span class="p">{</span>
                    <span class="kt">string</span> <span class="n">lines</span> <span class="p">=</span> <span class="n">reader</span><span class="p">.</span><span class="nf">ReadLine</span><span class="p">();</span>     <span class="c1">//行を変数に読み込みます。</span>
<span class="cp">#if DEBUG
</span>                    <span class="n">CommonUtils</span><span class="p">.</span><span class="nf">LogWrite</span><span class="p">(</span><span class="s">"読み込みLINE ==&gt; ["</span><span class="p">+</span> <span class="n">lines</span> <span class="p">+</span> <span class="s">"]"</span><span class="p">);</span>
<span class="cp">#endif
</span>                    <span class="c1">//改行(CR/LF)だけの行または#から始まる行（コメント）行の場合、そのままの内容を出力</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">lines</span><span class="p">.</span><span class="n">Length</span> <span class="p">==</span> <span class="m">0</span> <span class="p">||</span> <span class="n">lines</span><span class="p">.</span><span class="nf">StartsWith</span><span class="p">(</span><span class="s">"#"</span><span class="p">))</span>
                    <span class="p">{</span>
                        <span class="n">writer</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">lines</span><span class="p">);</span>
                        <span class="n">lineCount</span> <span class="p">+=</span> <span class="m">1</span><span class="p">;</span>
                        <span class="k">continue</span><span class="p">;</span>
                    <span class="p">}</span>

                    <span class="kt">string</span><span class="p">[]</span> <span class="n">lineArray</span> <span class="p">=</span> <span class="n">lines</span><span class="p">.</span><span class="nf">Split</span><span class="p">(</span><span class="sc">' '</span><span class="p">);</span>
                    <span class="c1">// 半角スペースで分割し、要素数が２または3以外（3はコメント）の行があったらフォーマット不正で終了</span>
                    <span class="k">if</span><span class="p">(</span> <span class="n">lineArray</span><span class="p">.</span><span class="n">Length</span> <span class="p">!=</span> <span class="m">2</span> <span class="p">&amp;&amp;</span> <span class="n">lineArray</span><span class="p">.</span><span class="n">Length</span> <span class="p">!=</span> <span class="m">3</span><span class="p">)</span>
                    <span class="p">{</span>
                        <span class="n">CommonUtils</span><span class="p">.</span><span class="nf">LogWrite</span><span class="p">(</span> <span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="n">ConstString</span><span class="p">.</span><span class="n">Error</span><span class="p">.</span><span class="n">FormatFailedLatLon</span><span class="p">,</span> <span class="n">lineCount</span><span class="p">,</span> <span class="n">lines</span><span class="p">)</span> <span class="p">);</span>
                        <span class="k">throw</span> <span class="k">new</span> <span class="nf">Exception</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="n">ConstString</span><span class="p">.</span><span class="n">Error</span><span class="p">.</span><span class="n">FormatFailedLatLon</span><span class="p">,</span> <span class="n">lineCount</span><span class="p">,</span> <span class="n">lines</span><span class="p">));</span>
                    <span class="p">}</span>
                    <span class="c1">// コメント要素が無かった場合は空白を設定</span>
                    <span class="k">if</span><span class="p">(</span> <span class="n">lineArray</span><span class="p">.</span><span class="n">Length</span> <span class="p">==</span> <span class="m">2</span><span class="p">)</span>
                    <span class="p">{</span>
                        <span class="n">Array</span><span class="p">.</span><span class="nf">Resize</span><span class="p">(</span><span class="k">ref</span> <span class="n">lineArray</span><span class="p">,</span> <span class="n">lineArray</span><span class="p">.</span><span class="n">Length</span> <span class="p">+</span> <span class="m">1</span><span class="p">);</span>
                        <span class="n">lineArray</span><span class="p">[</span><span class="m">2</span><span class="p">]</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
                    <span class="p">}</span>
                    <span class="nf">ConvertTkyToJgd</span><span class="p">(</span><span class="n">lineArray</span><span class="p">);</span>
                    <span class="n">lineCount</span> <span class="p">+=</span> <span class="m">1</span><span class="p">;</span>

                    <span class="k">if</span><span class="p">(</span> <span class="n">lineCount</span><span class="p">%</span><span class="m">10</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span>
                    <span class="p">{</span>
                        <span class="n">mainForm</span><span class="p">.</span><span class="nf">SetProcessMsg</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="n">ConstString</span><span class="p">.</span><span class="n">Process</span><span class="p">.</span><span class="n">MsgFamilySplitting</span><span class="p">,</span> <span class="n">lineCount</span><span class="p">));</span>
                        <span class="n">mainForm</span><span class="p">.</span><span class="nf">AddProgressValue</span><span class="p">(</span><span class="m">10</span><span class="p">);</span>
                    <span class="p">}</span>

                <span class="p">}</span>

            <span class="p">}</span>
            <span class="k">catch</span><span class="p">(</span><span class="n">Exception</span> <span class="n">e</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="kt">string</span> <span class="n">Msg</span> <span class="p">=</span> <span class="n">e</span><span class="p">.</span><span class="n">Message</span><span class="p">;</span>
                <span class="n">CommonUtils</span><span class="p">.</span><span class="nf">LogWrite</span><span class="p">(</span><span class="n">Msg</span><span class="p">);</span>
                <span class="n">MessageBox</span><span class="p">.</span><span class="nf">Show</span><span class="p">(</span>
                    <span class="n">Msg</span><span class="p">,</span>
                    <span class="n">mainForm</span><span class="p">.</span><span class="n">ProductName</span><span class="p">,</span>
                    <span class="n">MessageBoxButtons</span><span class="p">.</span><span class="n">OK</span><span class="p">,</span>
                    <span class="n">MessageBoxIcon</span><span class="p">.</span><span class="n">Error</span><span class="p">);</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="nf">Exception</span><span class="p">(</span><span class="n">ConstString</span><span class="p">.</span><span class="n">Error</span><span class="p">.</span><span class="n">ErrorEndConvert</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">finally</span>
            <span class="p">{</span>
                <span class="n">reader</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span>
            <span class="p">}</span>

        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// 位置データ(緯度，経度)を読み込みます。[LatLonOnly]</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="inputLatLon"&gt;入力された緯度・経度の文字列&lt;/param&gt;</span>
        <span class="k">private</span> <span class="k">void</span> <span class="nf">ConvertTkyToJgd</span><span class="p">(</span> <span class="kt">string</span><span class="p">[]</span> <span class="n">inputLatLon</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="n">inputLatLon</span><span class="p">.</span><span class="nf">DebugLog</span><span class="p">(</span><span class="k">nameof</span><span class="p">(</span><span class="n">inputLatLon</span><span class="p">));</span>

            <span class="kt">string</span> <span class="n">outLat</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
            <span class="kt">string</span> <span class="n">outLon</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">x1</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">y1</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">x2</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">y2</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">sign</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="kt">string</span> <span class="n">signString</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">degree</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">minute</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">second</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>

            <span class="c1">// 3ﾊﾟﾗﾒｰﾀで変換したことの印</span>
            <span class="kt">string</span> <span class="n">threeParaMark</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>

            <span class="kt">double</span> <span class="n">lat</span> <span class="p">=</span> <span class="n">Convert</span><span class="p">.</span><span class="nf">ToDouble</span><span class="p">(</span><span class="n">inputLatLon</span><span class="p">[</span><span class="m">0</span><span class="p">]);</span>
            <span class="kt">double</span> <span class="n">lon</span> <span class="p">=</span> <span class="n">Convert</span><span class="p">.</span><span class="nf">ToDouble</span><span class="p">(</span><span class="n">inputLatLon</span><span class="p">[</span><span class="m">1</span><span class="p">]);</span>

            <span class="c1">// 計算開始</span>
            <span class="c1">// 順方向（日本測地系からJGD2000）変換</span>
            <span class="c1">// （１）緯度，経度を度分秒形式を度にし，</span>
            <span class="c1">// （２）パラメータを参照し，bilinear補間法により補間し，</span>
            <span class="c1">// （３）補間した，dL,dBを実用成果のL,Bに加える。</span>
            <span class="c1">// （４）結果をテキストボックスに書き込む。</span>

            <span class="c1">// （１）緯度，経度を度分秒形式を度にし，</span>
            <span class="nf">DmsToDeg</span><span class="p">(</span><span class="n">lat</span><span class="p">,</span> <span class="k">ref</span> <span class="n">y1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">sign</span><span class="p">,</span> <span class="k">ref</span> <span class="n">degree</span><span class="p">,</span> <span class="k">ref</span> <span class="n">minute</span><span class="p">,</span> <span class="k">ref</span> <span class="n">second</span><span class="p">);</span>
            <span class="nf">DmsToDeg</span><span class="p">(</span><span class="n">lon</span><span class="p">,</span> <span class="k">ref</span> <span class="n">x1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">sign</span><span class="p">,</span> <span class="k">ref</span> <span class="n">degree</span><span class="p">,</span> <span class="k">ref</span> <span class="n">minute</span><span class="p">,</span> <span class="k">ref</span> <span class="n">second</span><span class="p">);</span>
            <span class="c1">// (A) もし，「すべて3ﾊﾟﾗﾒｰﾀで変換」なら</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">allThreeParamFlag</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="nf">Tokyo97toITRF94</span><span class="p">(</span><span class="n">y1</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">y2</span><span class="p">,</span> <span class="k">ref</span> <span class="n">x2</span><span class="p">);</span>
                <span class="n">threeParaMark</span> <span class="p">=</span> <span class="s">" 3parameters"</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">else</span>
            <span class="p">{</span>
                <span class="c1">// （２）パラメータを参照し，bilinear補間法により補間し，</span>
                <span class="n">TranPara</span> <span class="n">tranPara</span> <span class="p">=</span> <span class="nf">Bilinear1</span><span class="p">(</span><span class="n">y1</span><span class="p">,</span> <span class="n">x1</span><span class="p">);</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">tranPara</span><span class="p">.</span><span class="n">DiffLambda</span> <span class="p">==</span> <span class="p">-</span><span class="m">9999.0</span> <span class="p">||</span> <span class="n">tranPara</span><span class="p">.</span><span class="n">DiffBeta</span> <span class="p">==</span> <span class="p">-</span><span class="m">9999.0</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">inputOptR3Flag</span><span class="p">)</span>
                    <span class="p">{</span>
                        <span class="nf">Tokyo97toITRF94</span><span class="p">(</span><span class="n">y1</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">y2</span><span class="p">,</span> <span class="k">ref</span> <span class="n">x2</span><span class="p">);</span>
                        <span class="n">threeParaMark</span> <span class="p">=</span> <span class="s">" 3parameters"</span><span class="p">;</span>
                    <span class="p">}</span>
                    <span class="k">else</span>
                    <span class="p">{</span>
                        <span class="n">threeParaMark</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
                        <span class="nf">WriteOutFile</span><span class="p">(</span> <span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="p">,</span> <span class="n">outLat</span><span class="p">,</span> <span class="n">outLon</span><span class="p">,</span> <span class="n">inputLatLon</span><span class="p">[</span><span class="m">2</span><span class="p">],</span> <span class="n">threeParaMark</span> <span class="p">);</span>
                        <span class="k">return</span><span class="p">;</span>
                    <span class="p">}</span>
                <span class="p">}</span>
                <span class="k">else</span>
                <span class="p">{</span>
                    <span class="c1">// （３）補間した，dL,dBを実用成果のL,Bに加える</span>
                    <span class="n">x2</span> <span class="p">=</span> <span class="n">x1</span> <span class="p">+</span> <span class="n">tranPara</span><span class="p">.</span><span class="n">DiffLambda</span> <span class="p">/</span> <span class="m">3600.0</span><span class="p">;</span>
                    <span class="n">y2</span> <span class="p">=</span> <span class="n">y1</span> <span class="p">+</span> <span class="n">tranPara</span><span class="p">.</span><span class="n">DiffBeta</span> <span class="p">/</span> <span class="m">3600.0</span><span class="p">;</span>
                    <span class="n">threeParaMark</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="c1">// （４）結果をファイルに書き込む。</span>
            <span class="nf">DegToDms</span><span class="p">(</span><span class="n">y2</span><span class="p">,</span> <span class="k">ref</span> <span class="n">degree</span><span class="p">,</span> <span class="k">ref</span> <span class="n">minute</span><span class="p">,</span> <span class="k">ref</span> <span class="n">second</span><span class="p">,</span> <span class="k">ref</span> <span class="n">signString</span><span class="p">);</span>
            <span class="n">outLat</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">signString</span><span class="p">}{</span><span class="n">degree</span><span class="p">,</span><span class="m">2</span><span class="p">}{</span><span class="n">minute</span><span class="p">:</span><span class="n">D2</span><span class="p">}{</span><span class="n">second</span><span class="p">:</span><span class="m">00.00000</span><span class="p">}</span><span class="s">"</span><span class="p">;</span>
            <span class="nf">DegToDms</span><span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="k">ref</span> <span class="n">degree</span><span class="p">,</span> <span class="k">ref</span> <span class="n">minute</span><span class="p">,</span> <span class="k">ref</span> <span class="n">second</span><span class="p">,</span> <span class="k">ref</span> <span class="n">signString</span><span class="p">);</span>
            <span class="n">outLon</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">signString</span><span class="p">}{</span><span class="n">degree</span><span class="p">,</span><span class="m">2</span><span class="p">}{</span><span class="n">minute</span><span class="p">:</span><span class="n">D2</span><span class="p">}{</span><span class="n">second</span><span class="p">:</span><span class="m">00.00000</span><span class="p">}</span><span class="s">"</span><span class="p">;</span>
<span class="cp">#if DEBUG
</span>            <span class="n">CommonUtils</span><span class="p">.</span><span class="nf">LogWrite</span><span class="p">(</span><span class="s">$"変換後緯度・経度 ==&gt; [</span><span class="p">{</span><span class="n">outLat</span><span class="p">}</span><span class="s">,</span><span class="p">{</span><span class="n">outLon</span><span class="p">}</span><span class="s">]"</span><span class="p">);</span>
<span class="cp">#endif
</span>            <span class="nf">WriteOutFile</span><span class="p">(</span> <span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="p">,</span> <span class="n">outLat</span><span class="p">,</span> <span class="n">outLon</span><span class="p">,</span> <span class="n">inputLatLon</span><span class="p">[</span><span class="m">2</span><span class="p">],</span> <span class="n">threeParaMark</span> <span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// 結果を出力ファイルに書き出します。[Kekka]</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="lat"&gt;緯度&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="lon"&gt;経度&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="latout"&gt;出力用にフォーマットを整えた緯度文字列&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="lonout"&gt;出力用にフォーマットを整えた経度文字列&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="comments"&gt;コメント&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="markThreePara"&gt;3パラメータ変換したか否かのマーク文字列&lt;/param&gt;</span>
        <span class="k">private</span> <span class="k">void</span> <span class="nf">WriteOutFile</span><span class="p">(</span>
            <span class="kt">double</span> <span class="n">lat</span><span class="p">,</span>
            <span class="kt">double</span> <span class="n">lon</span><span class="p">,</span>
            <span class="kt">string</span> <span class="n">latout</span><span class="p">,</span>
            <span class="kt">string</span> <span class="n">lonout</span><span class="p">,</span>
            <span class="kt">string</span> <span class="n">comments</span><span class="p">,</span>
            <span class="kt">string</span> <span class="n">markThreePara</span>
            <span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">string</span> <span class="n">out_line</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">inputOutFlag</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="c1">// dms</span>
                <span class="kt">string</span> <span class="n">latin</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">lat</span><span class="p">:</span><span class="m">000000.00000</span><span class="p">}</span><span class="s">"</span><span class="p">;</span>
                <span class="kt">string</span> <span class="n">lonin</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">lon</span><span class="p">:</span><span class="m">000000.00000</span><span class="p">}</span><span class="s">"</span><span class="p">;</span>
                <span class="n">out_line</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">latin</span><span class="p">}</span><span class="s"> </span><span class="p">{</span><span class="n">lonin</span><span class="p">}</span><span class="s"> </span><span class="p">{</span><span class="n">latout</span><span class="p">}</span><span class="s"> </span><span class="p">{</span><span class="n">lonout</span><span class="p">}</span><span class="s"> </span><span class="p">{</span><span class="n">comments</span><span class="p">}{</span><span class="n">markThreePara</span><span class="p">}</span><span class="s">\n"</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">else</span>
            <span class="p">{</span>
                <span class="n">out_line</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">latout</span><span class="p">}</span><span class="s"> </span><span class="p">{</span><span class="n">lonout</span><span class="p">}</span><span class="s"> </span><span class="p">{</span><span class="n">comments</span><span class="p">}{</span><span class="n">markThreePara</span><span class="p">}</span><span class="s">\n"</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">File</span><span class="p">.</span><span class="nf">AppendAllText</span><span class="p">(</span><span class="n">outFileName</span><span class="p">,</span> <span class="n">out_line</span><span class="p">,</span> <span class="n">Encoding</span><span class="p">.</span><span class="nf">GetEncoding</span><span class="p">(</span><span class="s">"shift_jis"</span><span class="p">));</span>

        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// Bilinear interpolationをする準備とBilinear interpolationのcall</span>
        <span class="c1">/// 1行1グリッド型変換パラメータファイル対応｡</span>
        <span class="c1">/// 1行にdB,dLの2つの変換ﾊﾟﾗﾒｰﾀがあるので，緯度，経度，同時に補間計算を行う。</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="lat"&gt;緯度 or y 単位は度&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="lon"&gt;経度 or x 単位は度&lt;/param&gt;</span>
        <span class="c1">/// &lt;returns&gt;&lt;/returns&gt;</span>
        <span class="k">private</span> <span class="n">TranPara</span> <span class="nf">Bilinear1</span><span class="p">(</span><span class="kt">double</span> <span class="n">lat</span><span class="p">,</span> <span class="kt">double</span> <span class="n">lon</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">MeshCode</span> <span class="n">eastMC</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MeshCode</span><span class="p">();</span>
            <span class="n">MeshCode</span> <span class="n">northMC</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MeshCode</span><span class="p">();</span>
            <span class="n">MeshCode</span> <span class="n">northEastMC</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MeshCode</span><span class="p">();</span>
            <span class="n">TranPara</span> <span class="n">rtnTmpPara</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TranPara</span><span class="p">();</span>

            <span class="c1">// from Ver.1.3.78 2001/11/22</span>
            <span class="c1">// マイナスの緯度（南緯），経度（西経）等日本の領土外は標準地域メッシュコードが定義されていない場所では，</span>
            <span class="c1">// 地域毎の変換パラメータがないので，直ちにOutsideにとぶ。</span>
            <span class="c1">// この判定がなかったVer.1.3.77では，メッシュコードを検索に行ってしまい。見つかってしまうバグがあった。</span>
            <span class="c1">// なお，このバグは日本領土内では結果にまったく影響しない。</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">lat</span> <span class="p">&lt;</span> <span class="m">20</span> <span class="p">||</span> <span class="n">lat</span> <span class="p">&gt;</span> <span class="m">46</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">rtnTmpPara</span><span class="p">.</span><span class="n">DiffBeta</span> <span class="p">=</span> <span class="p">-</span><span class="m">9999.0</span><span class="p">;</span>
                <span class="n">rtnTmpPara</span><span class="p">.</span><span class="n">DiffLambda</span> <span class="p">=</span> <span class="p">-</span><span class="m">9999.0</span><span class="p">;</span>
                <span class="k">return</span> <span class="n">rtnTmpPara</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">lon</span> <span class="p">&lt;</span> <span class="m">120</span> <span class="p">||</span> <span class="n">lon</span> <span class="p">&gt;</span> <span class="m">154</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">rtnTmpPara</span><span class="p">.</span><span class="n">DiffBeta</span> <span class="p">=</span> <span class="p">-</span><span class="m">9999.0</span><span class="p">;</span>
                <span class="n">rtnTmpPara</span><span class="p">.</span><span class="n">DiffLambda</span> <span class="p">=</span> <span class="p">-</span><span class="m">9999.0</span><span class="p">;</span>
                <span class="k">return</span> <span class="n">rtnTmpPara</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="c1">// lat,lonからMesh Codeを作成。</span>
            <span class="c1">// lat,lonを含むメッシュのﾒｯｼｭｺｰﾄﾞを計算</span>
            <span class="n">MeshCode</span> <span class="n">originMC</span> <span class="p">=</span> <span class="nf">LatLon2MeshCode</span><span class="p">(</span><span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="p">);</span>
            <span class="c1">// MC0の東，北，東北隣のﾒｯｼｭｺｰﾄﾞを計算</span>
            <span class="nf">AdjacentMeshCode</span><span class="p">(</span> <span class="n">originMC</span><span class="p">,</span> <span class="k">ref</span> <span class="n">eastMC</span><span class="p">,</span> <span class="k">ref</span> <span class="n">northMC</span><span class="p">,</span> <span class="k">ref</span> <span class="n">northEastMC</span><span class="p">);</span>

            <span class="c1">// parameter search。1行1ｸﾞﾘｯﾄﾞ型。データファイルの座標系つまり旧東京測地系(=旧日本測地系)で。</span>
            <span class="c1">// 4つの内最初の1つは，ﾊﾟﾗﾒｰﾀﾌｧｲﾙの最初からサーチするが，他の3つはそれ以降順番に探すのみ。</span>
            <span class="c1">// ﾊﾟﾗﾒｰﾀﾌｧｲﾙは低緯度から高緯度に，同じ緯度なら，低経度から高経度の順番に並ぶべき。</span>
            <span class="c1">// メッシュコードの小さい順ではない。</span>

            <span class="c1">// 原点検索</span>
            <span class="kt">int</span> <span class="n">search_result</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="n">search_result</span> <span class="p">=</span> <span class="n">Array</span><span class="p">.</span><span class="nf">IndexOf</span><span class="p">(</span><span class="n">paramMeshCode</span><span class="p">,</span> <span class="n">originMC</span><span class="p">.</span><span class="n">FullMeshCode</span><span class="p">);</span>
            <span class="k">if</span><span class="p">(</span> <span class="n">search_result</span> <span class="p">==</span> <span class="p">-</span><span class="m">1</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">rtnTmpPara</span><span class="p">.</span><span class="n">DiffBeta</span> <span class="p">=</span> <span class="p">-</span><span class="m">9999.0</span><span class="p">;</span>
                <span class="n">rtnTmpPara</span><span class="p">.</span><span class="n">DiffLambda</span> <span class="p">=</span> <span class="p">-</span><span class="m">9999.0</span><span class="p">;</span>
                <span class="k">return</span> <span class="n">rtnTmpPara</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="kt">long</span> <span class="n">paramSuff00</span> <span class="p">=</span> <span class="n">search_result</span><span class="p">;</span>

            <span class="c1">// 東隣</span>
            <span class="n">search_result</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="n">search_result</span> <span class="p">=</span> <span class="n">Array</span><span class="p">.</span><span class="nf">IndexOf</span><span class="p">(</span><span class="n">paramMeshCode</span><span class="p">,</span> <span class="n">eastMC</span><span class="p">.</span><span class="n">FullMeshCode</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">search_result</span> <span class="p">==</span> <span class="p">-</span><span class="m">1</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">rtnTmpPara</span><span class="p">.</span><span class="n">DiffBeta</span> <span class="p">=</span> <span class="p">-</span><span class="m">9999.0</span><span class="p">;</span>
                <span class="n">rtnTmpPara</span><span class="p">.</span><span class="n">DiffLambda</span> <span class="p">=</span> <span class="p">-</span><span class="m">9999.0</span><span class="p">;</span>
                <span class="k">return</span> <span class="n">rtnTmpPara</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="kt">long</span> <span class="n">paramSuff10</span> <span class="p">=</span> <span class="n">search_result</span><span class="p">;</span>

            <span class="c1">// 北隣</span>
            <span class="n">search_result</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="n">search_result</span> <span class="p">=</span> <span class="n">Array</span><span class="p">.</span><span class="nf">IndexOf</span><span class="p">(</span><span class="n">paramMeshCode</span><span class="p">,</span> <span class="n">northMC</span><span class="p">.</span><span class="n">FullMeshCode</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">search_result</span> <span class="p">==</span> <span class="p">-</span><span class="m">1</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">rtnTmpPara</span><span class="p">.</span><span class="n">DiffBeta</span> <span class="p">=</span> <span class="p">-</span><span class="m">9999.0</span><span class="p">;</span>
                <span class="n">rtnTmpPara</span><span class="p">.</span><span class="n">DiffLambda</span> <span class="p">=</span> <span class="p">-</span><span class="m">9999.0</span><span class="p">;</span>
                <span class="k">return</span> <span class="n">rtnTmpPara</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="kt">long</span> <span class="n">paramSuff01</span> <span class="p">=</span> <span class="n">search_result</span><span class="p">;</span>

            <span class="c1">// 北東隣</span>
            <span class="n">search_result</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="n">search_result</span> <span class="p">=</span> <span class="n">Array</span><span class="p">.</span><span class="nf">IndexOf</span><span class="p">(</span><span class="n">paramMeshCode</span><span class="p">,</span> <span class="n">northEastMC</span><span class="p">.</span><span class="n">FullMeshCode</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">search_result</span> <span class="p">==</span> <span class="p">-</span><span class="m">1</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">rtnTmpPara</span><span class="p">.</span><span class="n">DiffBeta</span> <span class="p">=</span> <span class="p">-</span><span class="m">9999.0</span><span class="p">;</span>
                <span class="n">rtnTmpPara</span><span class="p">.</span><span class="n">DiffLambda</span> <span class="p">=</span> <span class="p">-</span><span class="m">9999.0</span><span class="p">;</span>
                <span class="k">return</span> <span class="n">rtnTmpPara</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="kt">long</span> <span class="n">paramSuff11</span> <span class="p">=</span> <span class="n">search_result</span><span class="p">;</span>

            <span class="c1">// 変換ﾊﾟﾗﾒｰﾀの代入</span>
            <span class="c1">// 00=原点、10=東隣、01=北隣、11=北東隣</span>
            <span class="kt">double</span> <span class="n">dB00</span> <span class="p">=</span> <span class="n">paramDiffBeta</span><span class="p">[</span><span class="n">paramSuff00</span><span class="p">];</span>
            <span class="kt">double</span> <span class="n">dB10</span> <span class="p">=</span> <span class="n">paramDiffBeta</span><span class="p">[</span><span class="n">paramSuff10</span><span class="p">];</span>
            <span class="kt">double</span> <span class="n">dB01</span> <span class="p">=</span> <span class="n">paramDiffBeta</span><span class="p">[</span><span class="n">paramSuff01</span><span class="p">];</span>
            <span class="kt">double</span> <span class="n">dB11</span> <span class="p">=</span> <span class="n">paramDiffBeta</span><span class="p">[</span><span class="n">paramSuff11</span><span class="p">];</span>
            <span class="kt">double</span> <span class="n">dL00</span> <span class="p">=</span> <span class="n">paramDiffLambda</span><span class="p">[</span><span class="n">paramSuff00</span><span class="p">];</span>
            <span class="kt">double</span> <span class="n">dL10</span> <span class="p">=</span> <span class="n">paramDiffLambda</span><span class="p">[</span><span class="n">paramSuff10</span><span class="p">];</span>
            <span class="kt">double</span> <span class="n">dL01</span> <span class="p">=</span> <span class="n">paramDiffLambda</span><span class="p">[</span><span class="n">paramSuff01</span><span class="p">];</span>
            <span class="kt">double</span> <span class="n">dL11</span> <span class="p">=</span> <span class="n">paramDiffLambda</span><span class="p">[</span><span class="n">paramSuff11</span><span class="p">];</span>

            <span class="c1">// bilinear補間。データファイルの座標系つまり日本測地系で。</span>
            <span class="c1">// 結果は，緯度，経度のJGD2000－日本測地系,または，Tokyo97-日本測地系</span>
            <span class="c1">// ModLat，ModLonは0以上1未満</span>
            <span class="n">rtnTmpPara</span><span class="p">.</span><span class="n">DiffBeta</span> <span class="p">=</span> <span class="nf">Interpol</span><span class="p">(</span><span class="n">dB00</span><span class="p">,</span> <span class="n">dB10</span><span class="p">,</span> <span class="n">dB01</span><span class="p">,</span> <span class="n">dB11</span><span class="p">,</span> <span class="n">originMC</span><span class="p">.</span><span class="n">ModLon</span><span class="p">,</span> <span class="n">originMC</span><span class="p">.</span><span class="n">ModLat</span><span class="p">);</span>
            <span class="n">rtnTmpPara</span><span class="p">.</span><span class="n">DiffLambda</span> <span class="p">=</span> <span class="nf">Interpol</span><span class="p">(</span><span class="n">dL00</span><span class="p">,</span> <span class="n">dL10</span><span class="p">,</span> <span class="n">dL01</span><span class="p">,</span> <span class="n">dL11</span><span class="p">,</span> <span class="n">originMC</span><span class="p">.</span><span class="n">ModLon</span><span class="p">,</span> <span class="n">originMC</span><span class="p">.</span><span class="n">ModLat</span><span class="p">);</span>
            <span class="c1">// grid点でのデータの表示。データファイルの座標系つまり日本測地系で。</span>

            <span class="k">return</span> <span class="n">rtnTmpPara</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">// </span>
        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// Bilinear interpolation [interpol1]</span>
        <span class="c1">/// X0to1, Y0to1は0以上1未満</span>
        <span class="c1">/// </span>
        <span class="c1">/// Y↑</span>
        <span class="c1">/// u3   u4</span>
        <span class="c1">/// </span>
        <span class="c1">/// u1   u2  → X</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="u1"&gt;原点&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="u2"&gt;東隣&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="u3"&gt;北隣&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="u4"&gt;北東隣&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="x0to1"&gt;x座標の移動距離&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="y0to1"&gt;y座標の移動距離&lt;/param&gt;</span>
        <span class="c1">/// &lt;returns&gt;&lt;/returns&gt;</span>
        <span class="k">public</span> <span class="kt">double</span> <span class="nf">Interpol</span><span class="p">(</span><span class="kt">double</span> <span class="n">u1</span><span class="p">,</span> <span class="kt">double</span> <span class="n">u2</span><span class="p">,</span> <span class="kt">double</span> <span class="n">u3</span><span class="p">,</span> <span class="kt">double</span> <span class="n">u4</span><span class="p">,</span> <span class="kt">double</span> <span class="n">x0to1</span><span class="p">,</span> <span class="kt">double</span> <span class="n">y0to1</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">double</span> <span class="n">origin</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">valueX</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">valueY</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">valueXY</span><span class="p">;</span>
            <span class="n">origin</span> <span class="p">=</span> <span class="n">u1</span><span class="p">;</span>
            <span class="n">valueX</span> <span class="p">=</span> <span class="n">u2</span> <span class="p">-</span> <span class="n">u1</span><span class="p">;</span>
            <span class="n">valueY</span> <span class="p">=</span> <span class="n">u3</span> <span class="p">-</span> <span class="n">u1</span><span class="p">;</span>
            <span class="n">valueXY</span> <span class="p">=</span> <span class="n">u4</span> <span class="p">-</span> <span class="n">u2</span> <span class="p">-</span> <span class="n">u3</span> <span class="p">+</span> <span class="n">u1</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">rtn</span> <span class="p">=</span> <span class="n">origin</span> <span class="p">+</span> <span class="n">valueX</span> <span class="p">*</span> <span class="n">x0to1</span> <span class="p">+</span> <span class="n">valueY</span> <span class="p">*</span> <span class="n">y0to1</span> <span class="p">+</span> <span class="n">valueXY</span> <span class="p">*</span> <span class="n">x0to1</span> <span class="p">*</span> <span class="n">y0to1</span><span class="p">;</span>
            <span class="k">return</span> <span class="n">rtn</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// XYからXYへの順方向（旧日本測地系から日本測地系2000へ）の変換を行います[doXyInterpol1]</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="convflag"&gt;地域ごとのパラメータで変換するか否かのフラグ&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="inLat"&gt;入力緯度&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="inLon"&gt;入力経度&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="inX"&gt;入力x&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="inY"&gt;入力y&lt;/param&gt;</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">ForwardXYInterpol</span><span class="p">(</span><span class="kt">bool</span> <span class="n">convflag</span><span class="p">,</span> <span class="kt">double</span> <span class="n">inLat</span><span class="p">,</span> <span class="kt">double</span> <span class="n">inLon</span><span class="p">,</span> <span class="kt">double</span> <span class="n">inX</span><span class="p">,</span> <span class="kt">double</span> <span class="n">inY</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// 平面直角座標値XY（旧日本測地系）をテキストボックスから読み込み緯度経度BL（旧日本測地系）に換算しテキストボックスに書き込む</span>
            <span class="nf">CalcXYToBL</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="n">inLat</span><span class="p">,</span> <span class="n">inLon</span><span class="p">,</span> <span class="n">inX</span><span class="p">,</span> <span class="n">inY</span><span class="p">);</span>  <span class="c1">// Bessel楕円体=日本測地系</span>
            <span class="c1">// テキストボックスのBL（旧日本測地系）を座標変換しBL（JGD2000系）としテキストボックスみ書き込む</span>
            <span class="nf">ForwardInterpol</span><span class="p">(</span><span class="n">convflag</span><span class="p">,</span> <span class="n">inLat</span><span class="p">,</span> <span class="n">inLon</span><span class="p">);</span>
            <span class="c1">// 「『地域毎のﾊﾟﾗﾒｰﾀ』で変換する。そのパラメータがない所は変換しない｡」を選択し，そのパラメータがなかったので変換されなかった場合は，これ以上計算しない。変換結果のテキストボックスに既に”-9999.”が入っている。</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">convflag</span> <span class="p">==</span> <span class="k">true</span><span class="p">)</span>
                <span class="c1">// 緯度経度BL（JGD2000系）をテキストボックスから読み込み平面直角座標値XY（JGD2000系）に換算しテキストボックスに書き込む</span>
                <span class="nf">CalcBLToXY</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="n">inX</span><span class="p">,</span> <span class="n">inY</span><span class="p">);</span><span class="c1">// GRS80楕円体=世界測地系</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// XYからXYへの逆方向（日本測地系2000から旧日本測地系へ）の変換を行います[doXyInterpol2]</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="convflag"&gt;地域ごとのパラメータで変換するか否かのフラグ&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="inLat"&gt;入力緯度&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="inLon"&gt;入力経度&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="inX"&gt;入力x&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="inY"&gt;入力y&lt;/param&gt;</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">ReverseXYInterpol</span><span class="p">(</span><span class="kt">bool</span> <span class="n">convflag</span><span class="p">,</span> <span class="kt">double</span> <span class="n">inLat</span><span class="p">,</span> <span class="kt">double</span> <span class="n">inLon</span><span class="p">,</span> <span class="kt">double</span> <span class="n">inX</span><span class="p">,</span> <span class="kt">double</span> <span class="n">inY</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// 平面直角座標値XY（JGD2000系）をテキストボックスから読み込み緯度経度BL（JGD2000系）に換算しテキストボックスに書き込む</span>
            <span class="nf">CalcXYToBL</span><span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="n">inLat</span><span class="p">,</span> <span class="n">inLon</span><span class="p">,</span> <span class="n">inX</span><span class="p">,</span> <span class="n">inY</span><span class="p">);</span>  <span class="c1">// GRS80楕円体=世界測地系</span>
            <span class="c1">// テキストボックスのBL（JGD2000系）を座標変換しBL（旧日本測地系）としテキストボックスみ書き込む</span>
            <span class="nf">ReverseInterpol</span><span class="p">(</span><span class="n">convflag</span><span class="p">,</span> <span class="n">inLat</span><span class="p">,</span> <span class="n">inLon</span><span class="p">);</span>
            <span class="c1">// 「『地域毎のﾊﾟﾗﾒｰﾀ』で変換する。そのパラメータがない所は変換しない｡」を選択し，そのパラメータがなかったので変換されなかった場合は，これ以上計算しない。</span>
            <span class="c1">// 変換結果のテキストボックスに既に”-9999.”が入っている。</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">convflag</span> <span class="p">==</span> <span class="k">true</span><span class="p">)</span>
                <span class="c1">// 緯度経度BL（旧日本測地系）をテキストボックスから読み込み平面直角座標値XY（旧日本測地系）に換算しテキストボックスに書き込む</span>
                <span class="nf">CalcBLToXY</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="n">inX</span><span class="p">,</span> <span class="n">inY</span><span class="p">);</span><span class="c1">// Bessel楕円体=日本測地系</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// 「精密測地網一次基準点測量計算式」を導入し多くの項を採用。[doCalcBl2xyFile]</span>
        <span class="c1">/// TKY2JGDではGRS80楕円体専門で利用。とはいってもどちらでも使える。called by XYFile</span>
        <span class="c1">/// doCalcBl2xyのﾌｧｲﾙ一括処理用の値渡し版。ただし，ファイルのオープン，読み，書き，クローズは行わない。</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="preCalc"&gt;True（最初に呼ばれるとき）なら関係変数を計算しstatic変数に代入し，Falseなら計算しない。&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="ellipSuffix"&gt;楕円体配列の添え字：0=Bessel楕円体=日本測地系, 1=GRS80楕円体=世界測地系&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="inB"&gt;緯度　単位は度&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="inL"&gt;経度　単位は度&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="outX"&gt;出力する平面直角座標X&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="outY"&gt;出力する平面直角座標Y&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="inLat"&gt;緯度&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="inLon"&gt;経度&lt;/param&gt;</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">CalcBLToXYFile</span><span class="p">(</span><span class="kt">bool</span> <span class="n">preCalc</span><span class="p">,</span> <span class="kt">int</span> <span class="n">ellipSuffix</span><span class="p">,</span> <span class="kt">double</span> <span class="n">inB</span><span class="p">,</span> <span class="kt">double</span> <span class="n">inL</span><span class="p">,</span> <span class="kt">double</span> <span class="n">outX</span><span class="p">,</span> <span class="kt">double</span> <span class="n">outY</span><span class="p">,</span> <span class="kt">double</span> <span class="n">inLat</span><span class="p">,</span> <span class="kt">double</span> <span class="n">inLon</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">double</span> <span class="n">meridianCoefficiant</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>       <span class="c1">//系番号，基準子午線の縮尺係数</span>
            <span class="kt">double</span> <span class="n">originBeta</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>       <span class="c1">//原点の緯度，経度。基本的にradian</span>
            <span class="kt">double</span> <span class="n">originLambda</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>       <span class="c1">//原点の緯度，経度。基本的にradian</span>
            <span class="kt">double</span> <span class="n">inBetaRadian</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>       <span class="c1">// 入力される緯度，経度。基本的にradian</span>
            <span class="kt">double</span> <span class="n">inLambdaRadian</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>       <span class="c1">// 入力される緯度，経度。基本的にradian</span>
            <span class="kt">int</span> <span class="n">deg</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">menuite</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">second</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">sign</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">gamma</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>                <span class="c1">// =γ 子午線収差角。radian</span>
            <span class="kt">double</span> <span class="n">meridianScale</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>                  <span class="c1">// 縮尺係数</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">preCalc</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="c1">// 基準子午線の縮尺係数</span>
                <span class="n">meridianCoefficiant</span> <span class="p">=</span> <span class="m">0.9999</span><span class="p">;</span>

                <span class="c1">// コンボボックスから座標系，座標系原点緯度，経度の読み取り</span>
                <span class="kt">double</span> <span class="n">cB1</span> <span class="p">=</span> <span class="n">inLat</span><span class="p">;</span> <span class="c1">//原点の緯度，経度。c = combo box</span>
                <span class="kt">double</span> <span class="n">cL1</span> <span class="p">=</span> <span class="n">inLon</span><span class="p">;</span> <span class="c1">//原点の緯度，経度。c = combo box</span>
                <span class="nf">DmsToDeg</span><span class="p">(</span><span class="n">cB1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">originBeta</span><span class="p">,</span> <span class="k">ref</span> <span class="n">sign</span><span class="p">,</span> <span class="k">ref</span> <span class="n">deg</span><span class="p">,</span> <span class="k">ref</span> <span class="n">menuite</span><span class="p">,</span> <span class="k">ref</span> <span class="n">second</span><span class="p">);</span>
                <span class="nf">DmsToDeg</span><span class="p">(</span><span class="n">cL1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">originLambda</span><span class="p">,</span> <span class="k">ref</span> <span class="n">sign</span><span class="p">,</span> <span class="k">ref</span> <span class="n">deg</span><span class="p">,</span> <span class="k">ref</span> <span class="n">menuite</span><span class="p">,</span> <span class="k">ref</span> <span class="n">second</span><span class="p">);</span>
                <span class="n">originBeta</span> <span class="p">=</span> <span class="n">originBeta</span> <span class="p">*</span> <span class="n">DegToRad</span><span class="p">;</span>
                <span class="n">originLambda</span> <span class="p">=</span> <span class="n">originLambda</span> <span class="p">*</span> <span class="n">DegToRad</span><span class="p">;</span> <span class="c1">// 座標系原点の経度(rad)</span>
            <span class="p">}</span>

            <span class="k">try</span>
            <span class="p">{</span>

                <span class="n">inBetaRadian</span> <span class="p">=</span> <span class="n">inB</span> <span class="p">*</span> <span class="n">DegToRad</span><span class="p">;</span>
                <span class="n">inLambdaRadian</span> <span class="p">=</span> <span class="n">inL</span> <span class="p">*</span> <span class="n">DegToRad</span><span class="p">;</span> <span class="c1">// 変換したい経度(rad)</span>

                <span class="c1">// 本計算 EP(0)はBessel楕円体=日本測地系，EP(1)はGRS-80楕円体=世界測地系</span>
                <span class="nf">CalcBLToXY</span><span class="p">(</span><span class="n">preCalc</span><span class="p">,</span> <span class="n">inBetaRadian</span><span class="p">,</span> <span class="n">inLambdaRadian</span><span class="p">,</span> <span class="n">originBeta</span><span class="p">,</span> <span class="n">originLambda</span><span class="p">,</span> <span class="n">meridianCoefficiant</span><span class="p">,</span> <span class="n">ellipObj</span><span class="p">[</span><span class="n">ellipSuffix</span><span class="p">],</span> <span class="k">ref</span> <span class="n">outX</span><span class="p">,</span> <span class="k">ref</span> <span class="n">outY</span><span class="p">,</span> <span class="k">ref</span> <span class="n">gamma</span><span class="p">,</span> <span class="k">ref</span> <span class="n">meridianScale</span><span class="p">);</span>
                <span class="k">return</span><span class="p">;</span>                                <span class="c1">// エラー処理ルーチンが実行されないように Sub を終了します。</span>

            <span class="p">}</span>
            <span class="k">catch</span> <span class="p">(</span><span class="n">OverflowException</span> <span class="p">)</span>
            <span class="p">{</span>
                <span class="n">CommonUtils</span><span class="p">.</span><span class="nf">LogWrite</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="n">ConstString</span><span class="p">.</span><span class="n">Error</span><span class="p">.</span><span class="n">FailedLatLon</span><span class="p">,</span> <span class="n">MethodBase</span><span class="p">.</span><span class="nf">GetCurrentMethod</span><span class="p">().</span><span class="n">Name</span><span class="p">,</span> <span class="n">inBetaRadian</span> <span class="p">+</span> <span class="s">":"</span> <span class="p">+</span> <span class="n">inLambdaRadian</span><span class="p">));</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">e</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">CommonUtils</span><span class="p">.</span><span class="nf">LogWrite</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="n">ConstString</span><span class="p">.</span><span class="n">Error</span><span class="p">.</span><span class="n">ExceptionError</span><span class="p">,</span> <span class="n">MethodBase</span><span class="p">.</span><span class="nf">GetCurrentMethod</span><span class="p">().</span><span class="n">Name</span><span class="p">,</span> <span class="n">e</span><span class="p">.</span><span class="n">Message</span><span class="p">));</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// 緯度,経度を平面直角座標X,Yに換算します。[doCalcBl2xy]</span>
        <span class="c1">/// 「精密測地網一次基準点測量計算式」を導入し多くの項を採用。</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="ellipSuffix"&gt;楕円体配列の添え字：0=Bessel楕円体=日本測地系, 1=GRS80楕円体=世界測地系&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="inX"&gt;平面直角座標値，原点での北向き成分(meter)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="inY"&gt;平面直角座標値，原点での東向き成分(meter)&lt;/param&gt;</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">CalcBLToXY</span><span class="p">(</span><span class="kt">int</span> <span class="n">ellipSuffix</span><span class="p">,</span> <span class="kt">double</span> <span class="n">inX</span><span class="p">,</span> <span class="kt">double</span> <span class="n">inY</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">double</span> <span class="n">meridianCoefficiant</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>   <span class="c1">// 系番号，基準子午線の縮尺係数 ex.0.9999(X,Y), 0.9996(UTM)</span>
            <span class="kt">double</span> <span class="n">originBeta</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>     <span class="c1">// 原点の緯度，経度。基本的にradian</span>
            <span class="kt">double</span> <span class="n">originLambda</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>     <span class="c1">// 原点の緯度，経度。基本的にradian</span>
            <span class="kt">double</span> <span class="n">inBetaRadian</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>       <span class="c1">// 入力される緯度，経度。基本的にradian</span>
            <span class="kt">double</span> <span class="n">inLambdaRadian</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>       <span class="c1">// 入力される緯度，経度。基本的にradian</span>
            <span class="kt">int</span> <span class="n">degree</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">minute</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">second</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">sign</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="kt">string</span> <span class="n">signStr</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">x</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>       <span class="c1">// 求められる平面直角座標X,Y</span>
            <span class="kt">double</span> <span class="n">y</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>       <span class="c1">// 求められる平面直角座標X,Y</span>
            <span class="kt">double</span> <span class="n">gamma</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>                <span class="c1">// =γ 子午線収差角。radian</span>
            <span class="kt">double</span> <span class="n">gammaDeg</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>             <span class="c1">// 真北方向角。deg</span>
            <span class="kt">double</span> <span class="n">meridianScale</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>                  <span class="c1">// 縮尺係数</span>

            <span class="c1">// この計算は変換の第３段階なので緯度経度入力値のﾁｪｯｸは不要</span>

            <span class="c1">// 基準子午線の縮尺係数</span>
            <span class="n">meridianCoefficiant</span> <span class="p">=</span> <span class="m">0.9999</span><span class="p">;</span>

            <span class="k">try</span>
            <span class="p">{</span>
                <span class="c1">// 入力</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">ellipSuffix</span> <span class="p">==</span> <span class="m">1</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="nf">DmsToDeg</span><span class="p">(</span><span class="n">inX</span><span class="p">,</span> <span class="k">ref</span> <span class="n">inBetaRadian</span><span class="p">,</span> <span class="k">ref</span> <span class="n">sign</span><span class="p">,</span> <span class="k">ref</span> <span class="n">degree</span><span class="p">,</span> <span class="k">ref</span> <span class="n">minute</span><span class="p">,</span> <span class="k">ref</span> <span class="n">second</span><span class="p">);</span>
                    <span class="nf">DmsToDeg</span><span class="p">(</span><span class="n">inY</span><span class="p">,</span> <span class="k">ref</span> <span class="n">inLambdaRadian</span><span class="p">,</span> <span class="k">ref</span> <span class="n">sign</span><span class="p">,</span> <span class="k">ref</span> <span class="n">degree</span><span class="p">,</span> <span class="k">ref</span> <span class="n">minute</span><span class="p">,</span> <span class="k">ref</span> <span class="n">second</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="k">else</span>
                <span class="p">{</span>
                    <span class="nf">DmsToDeg</span><span class="p">(</span><span class="n">inX</span><span class="p">,</span> <span class="k">ref</span> <span class="n">inBetaRadian</span><span class="p">,</span> <span class="k">ref</span> <span class="n">sign</span><span class="p">,</span> <span class="k">ref</span> <span class="n">degree</span><span class="p">,</span> <span class="k">ref</span> <span class="n">minute</span><span class="p">,</span> <span class="k">ref</span> <span class="n">second</span><span class="p">);</span>
                    <span class="nf">DmsToDeg</span><span class="p">(</span><span class="n">inY</span><span class="p">,</span> <span class="k">ref</span> <span class="n">inLambdaRadian</span><span class="p">,</span> <span class="k">ref</span> <span class="n">sign</span><span class="p">,</span> <span class="k">ref</span> <span class="n">degree</span><span class="p">,</span> <span class="k">ref</span> <span class="n">minute</span><span class="p">,</span> <span class="k">ref</span> <span class="n">second</span><span class="p">);</span>
                <span class="p">}</span>

                <span class="c1">// degからradianへ換算</span>
                <span class="n">inBetaRadian</span> <span class="p">=</span> <span class="n">inBetaRadian</span> <span class="p">*</span> <span class="n">DegToRad</span><span class="p">;</span> <span class="c1">// 変換したい緯度(rad)</span>
                <span class="n">inLambdaRadian</span> <span class="p">=</span> <span class="n">inLambdaRadian</span> <span class="p">*</span> <span class="n">DegToRad</span><span class="p">;</span> <span class="c1">// 変換したい経度(rad)</span>
                <span class="c1">// コンボボックスから座標系，座標系原点緯度，経度(in DMS format)の読み取り</span>
                <span class="kt">double</span> <span class="n">cB1</span> <span class="p">=</span> <span class="n">inX</span><span class="p">;</span>
                <span class="kt">double</span> <span class="n">cL1</span> <span class="p">=</span> <span class="n">inY</span><span class="p">;</span>
                <span class="nf">DmsToDeg</span><span class="p">(</span><span class="n">cB1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">originBeta</span><span class="p">,</span> <span class="k">ref</span> <span class="n">sign</span><span class="p">,</span> <span class="k">ref</span> <span class="n">degree</span><span class="p">,</span> <span class="k">ref</span> <span class="n">minute</span><span class="p">,</span> <span class="k">ref</span> <span class="n">second</span><span class="p">);</span>
                <span class="nf">DmsToDeg</span><span class="p">(</span><span class="n">cL1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">originLambda</span><span class="p">,</span> <span class="k">ref</span> <span class="n">sign</span><span class="p">,</span> <span class="k">ref</span> <span class="n">degree</span><span class="p">,</span> <span class="k">ref</span> <span class="n">minute</span><span class="p">,</span> <span class="k">ref</span> <span class="n">second</span><span class="p">);</span>
                <span class="n">originBeta</span> <span class="p">=</span> <span class="n">originBeta</span> <span class="p">*</span> <span class="n">DegToRad</span><span class="p">;</span> <span class="c1">// 座標系原点の緯度(rad)</span>
                <span class="n">originLambda</span> <span class="p">=</span> <span class="n">originLambda</span> <span class="p">*</span> <span class="n">DegToRad</span><span class="p">;</span> <span class="c1">// 座標系原点の経度(rad)</span>

                <span class="c1">// 本計算 EP(0)はBessel楕円体=日本測地系，EP(1)はGRS-80楕円体=世界測地系</span>
                <span class="c1">// True：楕円体，座標系に関わる変数の計算を行う</span>
                <span class="nf">CalcBLToXY</span><span class="p">(</span><span class="k">true</span><span class="p">,</span> <span class="n">inBetaRadian</span><span class="p">,</span> <span class="n">inLambdaRadian</span><span class="p">,</span> <span class="n">originBeta</span><span class="p">,</span> <span class="n">originLambda</span><span class="p">,</span> <span class="n">meridianCoefficiant</span><span class="p">,</span> <span class="n">ellipObj</span><span class="p">[</span><span class="n">ellipSuffix</span><span class="p">],</span> <span class="k">ref</span> <span class="n">x</span><span class="p">,</span> <span class="k">ref</span> <span class="n">y</span><span class="p">,</span> <span class="k">ref</span> <span class="n">gamma</span><span class="p">,</span> <span class="k">ref</span> <span class="n">meridianScale</span><span class="p">);</span>

                <span class="c1">// Ｘ，Ｙの計算 in meter</span>
                <span class="kt">string</span> <span class="n">outX</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">x</span><span class="p">:</span><span class="err">######</span><span class="p">.</span><span class="m">0000</span><span class="p">}</span><span class="s">"</span><span class="p">;</span>
                <span class="kt">string</span> <span class="n">outY</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">y</span><span class="p">:</span><span class="err">######</span><span class="p">.</span><span class="m">0000</span><span class="p">}</span><span class="s">"</span><span class="p">;</span>

                <span class="c1">// 子午線収差角Gamma(rad)から，真北方向角(degree)へ</span>
                <span class="n">gammaDeg</span> <span class="p">=</span> <span class="p">-(</span><span class="n">gamma</span> <span class="p">*</span> <span class="n">RadToDeg</span><span class="p">);</span>
                <span class="nf">DegToDmsNotZero3</span><span class="p">(</span><span class="n">gammaDeg</span><span class="p">,</span> <span class="k">ref</span> <span class="n">degree</span><span class="p">,</span> <span class="k">ref</span> <span class="n">minute</span><span class="p">,</span> <span class="k">ref</span> <span class="n">second</span><span class="p">,</span> <span class="k">ref</span> <span class="n">signStr</span><span class="p">);</span>
                <span class="kt">string</span> <span class="n">outDeg</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">signStr</span><span class="p">}{</span><span class="n">degree</span><span class="p">:</span><span class="err">###</span><span class="p">}{</span><span class="n">minute</span><span class="p">:</span><span class="m">00</span><span class="p">}{</span><span class="n">second</span><span class="p">:</span><span class="m">00.000</span><span class="p">}</span><span class="s">"</span><span class="p">;</span>

                <span class="c1">// 縮尺係数  cf.旧成果表は小数点以下６桁</span>
                <span class="kt">string</span> <span class="n">outParam</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">meridianScale</span><span class="p">:</span><span class="err">#</span><span class="p">.</span><span class="m">00000000</span><span class="p">}</span><span class="s">"</span><span class="p">;</span>

                <span class="c1">// outX,outY,outDeg,outParam に出力データが格納されているので、呼び出しもとで使えるように調整を。</span>
                <span class="k">return</span><span class="p">;</span>

            <span class="p">}</span>
            <span class="k">catch</span><span class="p">(</span> <span class="n">OverflowException</span> <span class="p">)</span>
            <span class="p">{</span>
                <span class="n">CommonUtils</span><span class="p">.</span><span class="nf">LogWrite</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="n">ConstString</span><span class="p">.</span><span class="n">Error</span><span class="p">.</span><span class="n">FailedLatLon</span><span class="p">,</span> <span class="n">MethodBase</span><span class="p">.</span><span class="nf">GetCurrentMethod</span><span class="p">().</span><span class="n">Name</span><span class="p">,</span> <span class="n">inBetaRadian</span> <span class="p">+</span> <span class="s">":"</span> <span class="p">+</span> <span class="n">inLambdaRadian</span><span class="p">));</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">e</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">CommonUtils</span><span class="p">.</span><span class="nf">LogWrite</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="n">ConstString</span><span class="p">.</span><span class="n">Error</span><span class="p">.</span><span class="n">ExceptionError</span><span class="p">,</span> <span class="n">MethodBase</span><span class="p">.</span><span class="nf">GetCurrentMethod</span><span class="p">().</span><span class="n">Name</span><span class="p">,</span> <span class="n">e</span><span class="p">.</span><span class="n">Message</span><span class="p">));</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// called by picCalc1_click, calls Bilinear[doInterpol1]</span>
        <span class="c1">/// 順方向（日本測地系からJGD2000）変換。"1"は順方向の意味。</span>
        <span class="c1">/// （１）テキストボックスからデータを読み込み，</span>
        <span class="c1">/// （２）パラメータを参照し，bilinear補間法により補間し，</span>
        <span class="c1">/// （３）補間した，dL,dBを実用成果のL,Bに加える。</span>
        <span class="c1">/// （４）結果をテキストボックスに書き込む。</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="convflag"&gt;地域ごとのパラメータで変換するか否かのフラグ&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="inBeta"&gt;緯度&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="inLambda"&gt;経度&lt;/param&gt;</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">ForwardInterpol</span><span class="p">(</span><span class="kt">bool</span> <span class="n">convflag</span><span class="p">,</span> <span class="kt">double</span> <span class="n">inBeta</span><span class="p">,</span> <span class="kt">double</span> <span class="n">inLambda</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">int</span> <span class="n">sign</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="kt">string</span> <span class="n">signStr</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">degree</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">minute</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">second</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="c1">// Y:緯度，X:経度　（度）</span>
            <span class="kt">double</span> <span class="n">x1</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">y1</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">x2</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">y2</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">diffLambda</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">diffBeta</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="n">TranPara</span> <span class="n">tranPara</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TranPara</span><span class="p">();</span>

            <span class="c1">//出力系</span>
            <span class="kt">string</span> <span class="n">outStatus</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
            <span class="kt">string</span> <span class="n">outLat</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
            <span class="kt">string</span> <span class="n">outLon</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>

            <span class="c1">// （１）テキストボックスからデータを読み込み，度分秒形式を度にし，</span>
            <span class="nf">DmsToDeg</span><span class="p">(</span><span class="n">inBeta</span><span class="p">,</span> <span class="k">ref</span> <span class="n">y1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">sign</span><span class="p">,</span> <span class="k">ref</span> <span class="n">degree</span><span class="p">,</span> <span class="k">ref</span> <span class="n">minute</span><span class="p">,</span> <span class="k">ref</span> <span class="n">second</span><span class="p">);</span>
            <span class="c1">// 日本の領土外ならMessageBoxを表示</span>
            <span class="c1">// 緯度のチェック</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">sign</span> <span class="p">&lt;</span> <span class="m">0</span> <span class="p">||</span> <span class="n">degree</span> <span class="p">&lt;</span> <span class="m">20</span> <span class="p">||</span> <span class="n">degree</span> <span class="p">&gt;</span> <span class="m">46</span><span class="p">)</span>
                <span class="n">MessageBox</span><span class="p">.</span><span class="nf">Show</span><span class="p">(</span>
                    <span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="n">ConstString</span><span class="p">.</span><span class="n">Warning</span><span class="p">.</span><span class="n">LatLonOutofJapan</span><span class="p">,</span> <span class="s">$"</span><span class="p">{(</span><span class="n">sign</span> <span class="p">*</span> <span class="n">degree</span><span class="p">):</span><span class="err">#</span><span class="m">0</span><span class="err">度</span><span class="p">}{</span><span class="n">minute</span><span class="p">:</span><span class="m">00</span><span class="err">分</span><span class="p">}{</span><span class="n">second</span><span class="p">:</span><span class="m">00.</span><span class="err">###秒</span><span class="p">}</span><span class="s">"</span><span class="p">),</span>
                    <span class="n">mainForm</span><span class="p">.</span><span class="n">ProductName</span><span class="p">,</span>
                    <span class="n">MessageBoxButtons</span><span class="p">.</span><span class="n">OK</span><span class="p">,</span>
                    <span class="n">MessageBoxIcon</span><span class="p">.</span><span class="n">Warning</span>
                    <span class="p">);</span>
            <span class="nf">DmsToDeg</span><span class="p">(</span><span class="n">inLambda</span><span class="p">,</span> <span class="k">ref</span> <span class="n">x1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">sign</span><span class="p">,</span> <span class="k">ref</span> <span class="n">degree</span><span class="p">,</span> <span class="k">ref</span> <span class="n">minute</span><span class="p">,</span> <span class="k">ref</span> <span class="n">second</span><span class="p">);</span>
            <span class="c1">//経度のチェック</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">sign</span> <span class="p">&lt;</span> <span class="m">0</span> <span class="p">||</span> <span class="n">degree</span> <span class="p">&lt;</span> <span class="m">120</span> <span class="p">||</span> <span class="n">degree</span> <span class="p">&gt;</span> <span class="m">154</span><span class="p">)</span>
                <span class="n">MessageBox</span><span class="p">.</span><span class="nf">Show</span><span class="p">(</span>
                    <span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="n">ConstString</span><span class="p">.</span><span class="n">Warning</span><span class="p">.</span><span class="n">LatLonOutofJapan</span><span class="p">,</span> <span class="s">$"</span><span class="p">{(</span><span class="n">sign</span> <span class="p">*</span> <span class="n">degree</span><span class="p">):</span><span class="err">#</span><span class="m">0</span><span class="err">度</span><span class="p">}{</span><span class="n">minute</span><span class="p">:</span><span class="m">00</span><span class="err">分</span><span class="p">}{</span><span class="n">second</span><span class="p">:</span><span class="m">00.</span><span class="err">###秒</span><span class="p">}</span><span class="s">"</span><span class="p">),</span>
                    <span class="n">mainForm</span><span class="p">.</span><span class="n">ProductName</span><span class="p">,</span>
                    <span class="n">MessageBoxButtons</span><span class="p">.</span><span class="n">OK</span><span class="p">,</span>
                    <span class="n">MessageBoxIcon</span><span class="p">.</span><span class="n">Warning</span>
                    <span class="p">);</span>
            <span class="c1">// (A) もし，「すべて3ﾊﾟﾗﾒｰﾀで変換」なら</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">allThreeParamFlag</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="nf">Tokyo97toITRF94</span><span class="p">(</span><span class="n">y1</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">y2</span><span class="p">,</span> <span class="k">ref</span> <span class="n">x2</span><span class="p">);</span>
                <span class="n">outStatus</span> <span class="p">=</span> <span class="s">"「東京大正」三角点における「3ﾊﾟﾗﾒｰﾀ」で変換しました。\r\n日本測地系から世界測地系へ（→右方向に）変換しました。"</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">else</span>
            <span class="p">{</span>
                <span class="c1">//「地域毎のﾊﾟﾗﾒｰﾀで変換」を試みる</span>
                <span class="c1">// （２）パラメータを参照し，bilinear補間法により補間し，</span>
                <span class="n">tranPara</span> <span class="p">=</span> <span class="nf">Bilinear1</span><span class="p">(</span><span class="n">y1</span><span class="p">,</span> <span class="n">x1</span><span class="p">);</span>
                <span class="n">diffBeta</span> <span class="p">=</span> <span class="n">tranPara</span><span class="p">.</span><span class="n">DiffBeta</span><span class="p">;</span>
                <span class="n">diffLambda</span> <span class="p">=</span> <span class="n">tranPara</span><span class="p">.</span><span class="n">DiffLambda</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">diffLambda</span> <span class="p">==</span> <span class="p">-</span><span class="m">9999.0</span> <span class="p">||</span> <span class="n">diffBeta</span> <span class="p">==</span> <span class="p">-</span><span class="m">9999.0</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="c1">//「地域毎のﾊﾟﾗﾒｰﾀ」がなかったら</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">inputOptR3Flag</span><span class="p">)</span>
                    <span class="p">{</span>
                        <span class="c1">//「3ﾊﾟﾗﾒｰﾀ」で変換する</span>
                        <span class="nf">Tokyo97toITRF94</span><span class="p">(</span><span class="n">y1</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">y2</span><span class="p">,</span> <span class="k">ref</span> <span class="n">x2</span><span class="p">);</span>
                        <span class="n">convflag</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
                        <span class="n">outStatus</span> <span class="p">=</span> <span class="s">"「地域毎の変換ﾊﾟﾗﾒｰﾀ」がなかったので，「東京大正」三角点における「3ﾊﾟﾗﾒｰﾀ」で変換しました。\r\n日本測地系から世界測地系へ（→右方向に）変換しました。"</span><span class="p">;</span>
                    <span class="p">}</span>
                    <span class="k">else</span>
                    <span class="c1">// 変換はしない。「『地域毎のﾊﾟﾗﾒｰﾀ』で変換する。そのパラメータがない所は変換しない｡」を選択した場合の処理。</span>
                    <span class="p">{</span>
                        <span class="c1">// 変換はしないログ出力して終了</span>
                        <span class="n">CommonUtils</span><span class="p">.</span><span class="nf">LogWrite</span><span class="p">(</span><span class="n">ConstString</span><span class="p">.</span><span class="n">Warning</span><span class="p">.</span><span class="n">NoConvert</span><span class="p">);</span>
                        <span class="k">return</span><span class="p">;</span>
                    <span class="p">}</span>
                <span class="p">}</span>
                <span class="k">else</span>
                <span class="p">{</span>
                    <span class="c1">//「地域毎のﾊﾟﾗﾒｰﾀ」があったので変換する</span>
                    <span class="c1">// （３）補間した，dL,dBを実用成果のL,Bに加える</span>
                    <span class="n">x2</span> <span class="p">=</span> <span class="n">x1</span> <span class="p">+</span> <span class="n">diffLambda</span> <span class="p">/</span> <span class="m">3600.0</span><span class="p">;</span>
                    <span class="n">y2</span> <span class="p">=</span> <span class="n">y1</span> <span class="p">+</span> <span class="n">diffBeta</span> <span class="p">/</span> <span class="m">3600.0</span><span class="p">;</span>
                    <span class="n">convflag</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
                    <span class="n">outStatus</span> <span class="p">=</span> <span class="s">"「地域毎の変換ﾊﾟﾗﾒｰﾀ」で変換しました。\r\n日本測地系から世界測地系へ（→右方向に）変換しました。"</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="c1">// （４）結果をテキストボックスに書き込む。</span>
            <span class="nf">DegToDms</span><span class="p">(</span><span class="n">y2</span><span class="p">,</span> <span class="k">ref</span> <span class="n">degree</span><span class="p">,</span> <span class="k">ref</span> <span class="n">minute</span><span class="p">,</span> <span class="k">ref</span> <span class="n">second</span><span class="p">,</span> <span class="k">ref</span> <span class="n">signStr</span><span class="p">);</span>
            <span class="n">outLat</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">signStr</span><span class="p">}{</span><span class="n">degree</span><span class="p">:</span><span class="err">#</span><span class="m">0</span><span class="p">}{</span><span class="n">minute</span><span class="p">:</span><span class="m">00</span><span class="p">}{</span><span class="n">second</span><span class="p">:</span><span class="m">00.00000</span><span class="p">}</span><span class="s">"</span><span class="p">;</span>
            <span class="nf">DegToDms</span><span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="k">ref</span> <span class="n">degree</span><span class="p">,</span> <span class="k">ref</span> <span class="n">minute</span><span class="p">,</span> <span class="k">ref</span> <span class="n">second</span><span class="p">,</span> <span class="k">ref</span> <span class="n">signStr</span><span class="p">);</span>
            <span class="n">outLon</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">signStr</span><span class="p">}{</span><span class="n">degree</span><span class="p">:</span><span class="err">#</span><span class="m">0</span><span class="p">}{</span><span class="n">minute</span><span class="p">:</span><span class="m">00</span><span class="p">}{</span><span class="n">second</span><span class="p">:</span><span class="m">00.00000</span><span class="p">}</span><span class="s">"</span><span class="p">;</span>
            <span class="c1">// outStaus, outLat, outLon に出力値が入っているので呼び出し下で受け取れるように調整を。</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// called by picCalc2_click, calls Bilinear</span>
        <span class="c1">/// 逆方向（JGD2000から日本測地系）変換。"2"は逆方向の意味。</span>
        <span class="c1">/// ２段階によるIteration(反復計算)により，パラメータファイル参照の緯度経度を日本測地系にする</span>
        <span class="c1">/// （１）テキストボックスからデータを読み込み，</span>
        <span class="c1">/// （２）パラメータを参照し，bilinear補間法により補間し，</span>
        <span class="c1">/// （３）補間した，dL,dBを実用成果のL,Bに加える。</span>
        <span class="c1">/// （４）結果をテキストボックスに書き込む。</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="convflag"&gt;地域ごとのパラメータで変換するか否かのフラグ&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="inBeta"&gt;緯度&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="inLabmda"&gt;経度&lt;/param&gt;</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">ReverseInterpol</span><span class="p">(</span><span class="kt">bool</span> <span class="n">convflag</span><span class="p">,</span> <span class="kt">double</span> <span class="n">inBeta</span><span class="p">,</span> <span class="kt">double</span> <span class="n">inLabmda</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">int</span> <span class="n">sign</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="kt">string</span> <span class="n">signStr</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">degree</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">minute</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">second</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">x1</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">y1</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">x2</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">y2</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">diffLambda</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">diffBeta</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">tempLambda</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">tempBeta</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>

            <span class="c1">//出力系</span>
            <span class="kt">string</span> <span class="n">outStatus</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
            <span class="kt">string</span> <span class="n">outLat</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
            <span class="kt">string</span> <span class="n">outLon</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>

            <span class="c1">// （１）テキストボックスからデータを読み込み，度分秒形式を度にし，</span>
            <span class="nf">DmsToDeg</span><span class="p">(</span><span class="n">inBeta</span><span class="p">,</span> <span class="k">ref</span> <span class="n">y1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">sign</span><span class="p">,</span> <span class="k">ref</span> <span class="n">degree</span><span class="p">,</span> <span class="k">ref</span> <span class="n">minute</span><span class="p">,</span> <span class="k">ref</span> <span class="n">second</span><span class="p">);</span>
            <span class="c1">// 日本の領土外ならMessageBoxを表示</span>
            <span class="c1">// 緯度のチェック</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">sign</span> <span class="p">&lt;</span> <span class="m">0</span> <span class="p">||</span> <span class="n">degree</span> <span class="p">&lt;</span> <span class="m">20</span> <span class="p">||</span> <span class="n">degree</span> <span class="p">&gt;</span> <span class="m">46</span><span class="p">)</span>
                <span class="n">MessageBox</span><span class="p">.</span><span class="nf">Show</span><span class="p">(</span>
                    <span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="n">ConstString</span><span class="p">.</span><span class="n">Warning</span><span class="p">.</span><span class="n">LatLonOutofJapan</span><span class="p">,</span> <span class="s">$"</span><span class="p">{(</span><span class="n">sign</span> <span class="p">*</span> <span class="n">degree</span><span class="p">):</span><span class="err">#</span><span class="m">0</span><span class="err">度</span><span class="p">}{</span><span class="n">minute</span><span class="p">:</span><span class="m">00</span><span class="err">分</span><span class="p">}{</span><span class="n">second</span><span class="p">:</span><span class="m">00.</span><span class="err">###秒</span><span class="p">}</span><span class="s">"</span><span class="p">),</span>
                    <span class="n">mainForm</span><span class="p">.</span><span class="n">ProductName</span><span class="p">,</span>
                    <span class="n">MessageBoxButtons</span><span class="p">.</span><span class="n">OK</span><span class="p">,</span>
                    <span class="n">MessageBoxIcon</span><span class="p">.</span><span class="n">Warning</span>
                    <span class="p">);</span>
            <span class="nf">DmsToDeg</span><span class="p">(</span><span class="n">inLabmda</span><span class="p">,</span> <span class="k">ref</span> <span class="n">x1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">sign</span><span class="p">,</span> <span class="k">ref</span> <span class="n">degree</span><span class="p">,</span> <span class="k">ref</span> <span class="n">minute</span><span class="p">,</span> <span class="k">ref</span> <span class="n">second</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">sign</span> <span class="p">&lt;</span> <span class="m">0</span> <span class="p">||</span> <span class="n">degree</span> <span class="p">&lt;</span> <span class="m">120</span> <span class="p">||</span> <span class="n">degree</span> <span class="p">&gt;</span> <span class="m">154</span><span class="p">)</span>
                <span class="n">MessageBox</span><span class="p">.</span><span class="nf">Show</span><span class="p">(</span>
                    <span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="n">ConstString</span><span class="p">.</span><span class="n">Warning</span><span class="p">.</span><span class="n">LatLonOutofJapan</span><span class="p">,</span> <span class="s">$"</span><span class="p">{(</span><span class="n">sign</span> <span class="p">*</span> <span class="n">degree</span><span class="p">):</span><span class="err">#</span><span class="m">0</span><span class="err">度</span><span class="p">}{</span><span class="n">minute</span><span class="p">:</span><span class="m">00</span><span class="err">分</span><span class="p">}{</span><span class="n">second</span><span class="p">:</span><span class="m">00.</span><span class="err">###秒</span><span class="p">}</span><span class="s">"</span><span class="p">),</span>
                    <span class="n">mainForm</span><span class="p">.</span><span class="n">ProductName</span><span class="p">,</span>
                    <span class="n">MessageBoxButtons</span><span class="p">.</span><span class="n">OK</span><span class="p">,</span>
                    <span class="n">MessageBoxIcon</span><span class="p">.</span><span class="n">Warning</span>
                    <span class="p">);</span>
            <span class="c1">// (A) もし，「すべて3ﾊﾟﾗﾒｰﾀで変換」なら</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">allThreeParamFlag</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="nf">ITRF94toTokyo97</span><span class="p">(</span><span class="n">y1</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">y2</span><span class="p">,</span> <span class="k">ref</span> <span class="n">x2</span><span class="p">);</span>
                <span class="n">convflag</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
                <span class="n">outStatus</span> <span class="p">=</span> <span class="s">"「東京大正」三角点における「3ﾊﾟﾗﾒｰﾀ」で変換しました。\r\n世界測地系から日本測地系へ（←左方向に）変換しました。"</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">else</span>
            <span class="p">{</span>
                <span class="c1">//「地域毎のﾊﾟﾗﾒｰﾀで変換」を試みる</span>
                <span class="c1">// （２）パラメータを参照し，bilinear補間法により補間し，</span>
                <span class="c1">// (2-1)第一段階｛パラメータを参照しにいく緯度，経度は仮の値である。｝</span>
                <span class="n">tempLambda</span> <span class="p">=</span> <span class="n">x1</span> <span class="p">+</span> <span class="m">12.0</span> <span class="p">/</span> <span class="m">3600.0</span><span class="p">;</span>    <span class="c1">// 平均値を用いてJGD2000系を日本測地系へ</span>
                <span class="n">tempBeta</span> <span class="p">=</span> <span class="n">y1</span> <span class="p">-</span> <span class="m">12.0</span> <span class="p">/</span> <span class="m">3600.0</span><span class="p">;</span>    <span class="c1">// 平均値を用いてJGD2000系を日本測地系へ</span>
                <span class="n">TranPara</span> <span class="n">tranPara</span> <span class="p">=</span> <span class="nf">Bilinear1</span><span class="p">(</span><span class="n">tempBeta</span><span class="p">,</span> <span class="n">tempLambda</span><span class="p">);</span>
                <span class="n">diffBeta</span> <span class="p">=</span> <span class="n">tranPara</span><span class="p">.</span><span class="n">DiffBeta</span><span class="p">;</span>
                <span class="n">diffLambda</span> <span class="p">=</span> <span class="n">tranPara</span><span class="p">.</span><span class="n">DiffLambda</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">diffLambda</span> <span class="p">==</span> <span class="p">-</span><span class="m">9999.0</span> <span class="p">||</span> <span class="n">diffBeta</span> <span class="p">==</span> <span class="p">-</span><span class="m">9999.0</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="c1">//「地域毎のﾊﾟﾗﾒｰﾀ」がなかったら</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">inputOptR3Flag</span><span class="p">)</span>
                    <span class="p">{</span>
                        <span class="c1">//「3ﾊﾟﾗﾒｰﾀ」で変換する</span>
                        <span class="nf">ITRF94toTokyo97</span><span class="p">(</span><span class="n">y1</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">y2</span><span class="p">,</span> <span class="k">ref</span> <span class="n">x2</span><span class="p">);</span>
                        <span class="n">convflag</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
                        <span class="n">outStatus</span> <span class="p">=</span> <span class="s">"「地域毎の変換ﾊﾟﾗﾒｰﾀ」がなかったので，「東京大正」三角点における「3ﾊﾟﾗﾒｰﾀ」で変換しました。\r\n世界測地系から日本測地系へ（←左方向に）変換しました。"</span><span class="p">;</span>
                    <span class="p">}</span>
                    <span class="k">else</span>
                    <span class="p">{</span>
                        <span class="c1">// 変換はしないログ出力して終了</span>
                        <span class="n">CommonUtils</span><span class="p">.</span><span class="nf">LogWrite</span><span class="p">(</span><span class="n">ConstString</span><span class="p">.</span><span class="n">Warning</span><span class="p">.</span><span class="n">NoConvert</span><span class="p">);</span>
                        <span class="k">return</span><span class="p">;</span>
                    <span class="p">}</span>

                <span class="p">}</span>
                <span class="k">else</span>
                <span class="p">{</span>
                    <span class="c1">//「地域毎のﾊﾟﾗﾒｰﾀ」があったので変換する</span>
                    <span class="c1">// （３）補間した，-dL,-dBを実用成果のL,Bに加える</span>
                    <span class="c1">// (3-1)第一段階</span>
                    <span class="n">tempLambda</span> <span class="p">=</span> <span class="n">x1</span> <span class="p">-</span> <span class="n">diffLambda</span> <span class="p">/</span> <span class="m">3600.0</span><span class="p">;</span>
                    <span class="n">tempBeta</span> <span class="p">=</span> <span class="n">y1</span> <span class="p">-</span> <span class="n">diffBeta</span> <span class="p">/</span> <span class="m">3600.0</span><span class="p">;</span>
                    <span class="c1">// (2-2)第二段階｛パラメータを参照しにいく緯度，経度はほぼ真の日本測地系の値である。｝</span>
                    <span class="n">tranPara</span> <span class="p">=</span> <span class="nf">Bilinear1</span><span class="p">(</span><span class="n">tempBeta</span><span class="p">,</span> <span class="n">tempLambda</span><span class="p">);</span>
                    <span class="n">diffBeta</span> <span class="p">=</span> <span class="n">tranPara</span><span class="p">.</span><span class="n">DiffBeta</span><span class="p">;</span>
                    <span class="n">diffLambda</span> <span class="p">=</span> <span class="n">tranPara</span><span class="p">.</span><span class="n">DiffLambda</span><span class="p">;</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">diffLambda</span> <span class="p">==</span> <span class="p">-</span><span class="m">9999.0</span> <span class="p">||</span> <span class="n">diffBeta</span> <span class="p">==</span> <span class="p">-</span><span class="m">9999.0</span><span class="p">)</span>
                    <span class="p">{</span>
                        <span class="c1">// 変換はしないログ出力して終了</span>
                        <span class="n">CommonUtils</span><span class="p">.</span><span class="nf">LogWrite</span><span class="p">(</span><span class="n">ConstString</span><span class="p">.</span><span class="n">Warning</span><span class="p">.</span><span class="n">NoConvert</span><span class="p">);</span>
                        <span class="k">return</span><span class="p">;</span>
                    <span class="p">}</span>
                    <span class="c1">// （３）補間した，-dL,-dBを実用成果のL,Bに加える</span>
                    <span class="c1">// (3-1)第二段階</span>
                    <span class="n">x2</span> <span class="p">=</span> <span class="n">x1</span> <span class="p">-</span> <span class="n">diffLambda</span> <span class="p">/</span> <span class="m">3600.0</span><span class="p">;</span>
                    <span class="n">y2</span> <span class="p">=</span> <span class="n">y1</span> <span class="p">-</span> <span class="n">diffBeta</span> <span class="p">/</span> <span class="m">3600.0</span><span class="p">;</span>
                    <span class="n">convflag</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
                    <span class="n">outStatus</span> <span class="p">=</span> <span class="s">"「地域毎の変換ﾊﾟﾗﾒｰﾀ」で変換しました。\r\n世界測地系から日本測地系へ（←左方向に）変換しました。"</span><span class="p">;</span>
                <span class="p">}</span>                          <span class="c1">// 「地域毎のﾊﾟﾗﾒｰﾀ」があるかないかの判断おしまい</span>
            <span class="p">}</span>                            <span class="c1">// 「3ﾊﾟﾗﾒｰﾀ」か「地域毎のﾊﾟﾗﾒｰﾀ」かの判断おしまい</span>
            <span class="c1">// （４）結果をテキストボックスに書き込む。</span>
            <span class="nf">DegToDms</span><span class="p">(</span><span class="n">y2</span><span class="p">,</span> <span class="k">ref</span> <span class="n">degree</span><span class="p">,</span> <span class="k">ref</span> <span class="n">minute</span><span class="p">,</span> <span class="k">ref</span> <span class="n">second</span><span class="p">,</span> <span class="k">ref</span> <span class="n">signStr</span><span class="p">);</span>
            <span class="n">outLat</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">signStr</span><span class="p">}{</span><span class="n">degree</span><span class="p">:</span><span class="err">#</span><span class="m">0</span><span class="p">}{</span><span class="n">minute</span><span class="p">:</span><span class="m">00</span><span class="p">}{</span><span class="n">second</span><span class="p">:</span><span class="m">00.00000</span><span class="p">}</span><span class="s">"</span><span class="p">;</span>
            <span class="nf">DegToDms</span><span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="k">ref</span> <span class="n">degree</span><span class="p">,</span> <span class="k">ref</span> <span class="n">minute</span><span class="p">,</span> <span class="k">ref</span> <span class="n">second</span><span class="p">,</span> <span class="k">ref</span> <span class="n">signStr</span><span class="p">);</span>
            <span class="n">outLon</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">signStr</span><span class="p">}{</span><span class="n">degree</span><span class="p">:</span><span class="err">#</span><span class="m">0</span><span class="p">}{</span><span class="n">minute</span><span class="p">:</span><span class="m">00</span><span class="p">}{</span><span class="n">second</span><span class="p">:</span><span class="m">00.00000</span><span class="p">}</span><span class="s">"</span><span class="p">;</span>
            <span class="c1">// outStaus, outLat, outLon に出力値が入っているので呼び出し下で受け取れるように調整を。</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// DMS(DDDMMSS.SSS)をdegreeにする。</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="inDMS"&gt;DMS形式の入力座標&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="deg"&gt;度数表示の出力&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="sign"&gt;符号 + or -&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="degree"&gt;度&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="minute"&gt;分&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="second"&gt;秒&lt;/param&gt;</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">DmsToDeg</span><span class="p">(</span><span class="kt">double</span> <span class="n">inDMS</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">double</span> <span class="n">deg</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">int</span> <span class="n">sign</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">int</span> <span class="n">degree</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">int</span> <span class="n">minute</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">double</span> <span class="n">second</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">sign</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sign</span><span class="p">(</span><span class="n">inDMS</span><span class="p">);</span>

            <span class="c1">// N88BASICの場合,小さな数を足さないと、1000.つまり10'を入力したとき、9'99.99"</span>
            <span class="c1">// が入力されたと解釈されてしまい、40秒のずれが生じてしまう。</span>
            <span class="c1">// Quick BASICとVisual Basicでは大丈夫。以上，1991,1992年</span>
            <span class="c1">// しかし、1992/9/29の調査によると，QBでも、90100.を入力すると、分の計算で，</span>
            <span class="c1">// 0.010と解釈してほしいところ，0.00999999999...と解釈されることから，</span>
            <span class="c1">// 以下のように、小さい数を加える。このこれより大きくても小さくてもなかなか</span>
            <span class="c1">// うまくいかい。この問題は，100.の場合は起こらない。　飛田幹男 &gt;&gt;Ver.2.1</span>
            <span class="c1">// また，7/18/1993 TRN93作成時に、334000. を入力するとだめ。そこで、Ver.2.2.</span>
            <span class="kt">double</span> <span class="n">tmpDMS</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Abs</span><span class="p">(</span><span class="n">inDMS</span> <span class="p">/</span> <span class="m">10000.0</span><span class="p">)</span> <span class="p">+</span> <span class="m">0.0000000000001</span><span class="p">;</span>
            <span class="n">degree</span> <span class="p">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">tmpDMS</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">absoluteMS</span> <span class="p">=</span> <span class="p">(</span><span class="n">tmpDMS</span> <span class="p">-</span> <span class="n">degree</span><span class="p">)</span> <span class="p">*</span> <span class="m">100.0</span><span class="p">;</span>
            <span class="n">minute</span> <span class="p">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">absoluteMS</span><span class="p">;</span>
            <span class="n">second</span> <span class="p">=</span> <span class="p">(</span><span class="n">absoluteMS</span> <span class="p">-</span> <span class="n">minute</span><span class="p">)</span> <span class="p">*</span> <span class="m">100.0</span><span class="p">;</span>
            <span class="n">deg</span> <span class="p">=</span> <span class="p">(</span><span class="n">degree</span> <span class="p">+</span> <span class="p">(</span><span class="n">minute</span> <span class="p">+</span> <span class="n">second</span> <span class="p">/</span> <span class="m">60.0</span><span class="p">)</span> <span class="p">/</span> <span class="m">60.0</span><span class="p">)</span> <span class="p">*</span> <span class="n">sign</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// degreeをDMS(DDDMMSS.SSS)にする。</span>
        <span class="c1">/// このサブプログラムは，秒の小数点以下「５桁」の場合に「60.00000」秒にならないようになっている。</span>
        <span class="c1">/// deg(度)を符号SNSとD,AM,Sにする。</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="inDegree"&gt;緯度、経度(arcsec)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="degree"&gt;度&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="minute"&gt;分&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="second"&gt;秒&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="signStr"&gt;符号文字列 " " or "-"&lt;/param&gt;</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">DegToDms</span><span class="p">(</span><span class="kt">double</span> <span class="n">inDegree</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">int</span> <span class="n">degree</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">int</span> <span class="n">minute</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">double</span> <span class="n">second</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">string</span> <span class="n">signStr</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sign</span><span class="p">(</span><span class="n">inDegree</span><span class="p">)</span> <span class="p">&lt;</span> <span class="m">0</span><span class="p">)</span>
                <span class="n">signStr</span> <span class="p">=</span> <span class="s">"-"</span><span class="p">;</span>
            <span class="k">else</span>
                <span class="n">signStr</span> <span class="p">=</span> <span class="s">" "</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">adeg</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Abs</span><span class="p">(</span><span class="n">inDegree</span><span class="p">)</span> <span class="p">+</span> <span class="m">0.00000000001</span><span class="p">;</span>
            <span class="n">degree</span> <span class="p">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">adeg</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">absoluteMinute</span> <span class="p">=</span> <span class="p">(</span><span class="n">adeg</span> <span class="p">-</span> <span class="n">degree</span><span class="p">)</span> <span class="p">*</span> <span class="m">60.0</span><span class="p">;</span>
            <span class="n">minute</span> <span class="p">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">absoluteMinute</span><span class="p">;</span>
            <span class="n">second</span> <span class="p">=</span> <span class="p">(</span><span class="n">absoluteMinute</span> <span class="p">-</span> <span class="n">minute</span><span class="p">)</span> <span class="p">*</span> <span class="m">60.0</span><span class="p">;</span>

            <span class="c1">// 注意：下のFormat括弧内の"00.000000"の小数点以下の0の数は実際に出力するときの数に合わせること。</span>
            <span class="c1">// 1495960.000000を避け，1500000.000000になるように</span>
            <span class="k">if</span> <span class="p">(</span> <span class="s">$"</span><span class="p">{</span><span class="n">second</span><span class="p">:</span><span class="m">00.00000</span><span class="p">}</span><span class="s">"</span><span class="p">.</span><span class="nf">Substring</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">2</span><span class="p">)</span> <span class="p">==</span> <span class="s">"60"</span> <span class="p">)</span>
            <span class="p">{</span>
                <span class="n">second</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
                <span class="n">minute</span> <span class="p">=</span> <span class="n">minute</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">minute</span> <span class="p">==</span> <span class="m">60</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="n">minute</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
                    <span class="n">degree</span> <span class="p">=</span> <span class="n">degree</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// degreeをDMS(DDDMMSS.SSS)にする。</span>
        <span class="c1">/// このサブプログラムは，秒の小数点以下「３桁」の場合に「60.000」秒にならないようになっている。</span>
        <span class="c1">/// deg(度)を符号SNSとD,AM,Sにする。</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="inDeg"&gt;緯度、経度(arcsec)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="degree"&gt;度&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="minute"&gt;分&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="second"&gt;秒&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="signStr"&gt;符号 " " or "-"&lt;/param&gt;</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">DegToDmsNotZero3</span><span class="p">(</span><span class="kt">double</span> <span class="n">inDeg</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">int</span> <span class="n">degree</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">int</span> <span class="n">minute</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">double</span> <span class="n">second</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">string</span> <span class="n">signStr</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">int</span> <span class="n">sign</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sign</span><span class="p">(</span><span class="n">inDeg</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">sign</span> <span class="p">&lt;</span> <span class="m">0</span><span class="p">)</span>
                <span class="n">signStr</span> <span class="p">=</span> <span class="s">"-"</span><span class="p">;</span>
            <span class="k">else</span>
                <span class="n">signStr</span> <span class="p">=</span> <span class="s">" "</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">adeg</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Abs</span><span class="p">(</span><span class="n">inDeg</span><span class="p">)</span> <span class="p">+</span> <span class="m">0.00000000001</span><span class="p">;</span>
            <span class="n">degree</span> <span class="p">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">adeg</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">absoluteMinute</span> <span class="p">=</span> <span class="p">(</span><span class="n">adeg</span> <span class="p">-</span> <span class="n">degree</span><span class="p">)</span> <span class="p">*</span> <span class="m">60.0</span><span class="p">;</span>
            <span class="n">minute</span> <span class="p">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">absoluteMinute</span><span class="p">;</span>
            <span class="n">second</span> <span class="p">=</span> <span class="p">(</span><span class="n">absoluteMinute</span> <span class="p">-</span> <span class="n">minute</span><span class="p">)</span> <span class="p">*</span> <span class="m">60.0</span><span class="p">;</span>

            <span class="c1">// 注意：下のFormat括弧内の"00.000000"の小数点以下の0の数は実際に出力するときの数に合わせること。</span>
            <span class="c1">// 1495960.000000を避け，1500000.000000になるように</span>
            <span class="k">if</span> <span class="p">(</span> <span class="s">$"</span><span class="p">{</span><span class="n">second</span><span class="p">:</span><span class="m">00.000</span><span class="p">}</span><span class="s">"</span><span class="p">.</span><span class="nf">Substring</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">2</span><span class="p">)</span> <span class="p">==</span> <span class="s">"60"</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">second</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
                <span class="n">minute</span> <span class="p">=</span> <span class="n">minute</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">minute</span> <span class="p">==</span> <span class="m">60</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="n">minute</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
                    <span class="n">degree</span> <span class="p">=</span> <span class="n">degree</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// 緯度,経度を平面直角座標X,Yに換算します。called by doCalcBl2xy,doCalcBl2xyFile</span>
        <span class="c1">/// 「精密測地網一次基準点測量計算式」を導入し多くの項を採用。</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="preCalc"&gt;&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="inBeta"&gt;入力された緯度&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="inLambda"&gt;入力された経度&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="beta"&gt;座標系原点の緯度&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="lambda"&gt;座標系原点の経度&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="meridianCoefficiant"&gt;基準子午線の縮尺係数 ex.0.9999(X,Y), 0.9996(UTM)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="EP"&gt;楕円体のパラメータ入り構造体&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="X"&gt;平面直角座標値，原点での北向き成分(meter)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="Y"&gt;平面直角座標値，原点での東向き成分(meter)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="gamma"&gt;子午線収差角(radian),これのマイナスが真北方向角&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="outMeridian"&gt;縮尺係数の出力&lt;/param&gt;</span>
        <span class="k">private</span> <span class="k">void</span> <span class="nf">CalcBLToXY</span><span class="p">(</span>
            <span class="kt">bool</span> <span class="n">preCalc</span><span class="p">,</span>
            <span class="kt">double</span> <span class="n">inBeta</span><span class="p">,</span>
            <span class="kt">double</span> <span class="n">inLambda</span><span class="p">,</span>
            <span class="kt">double</span> <span class="n">beta</span><span class="p">,</span>
            <span class="kt">double</span> <span class="n">lambda</span><span class="p">,</span>
            <span class="kt">double</span> <span class="n">meridianCoefficiant</span><span class="p">,</span>
            <span class="n">EllipParam</span> <span class="n">EP</span><span class="p">,</span>
            <span class="k">ref</span> <span class="kt">double</span> <span class="n">X</span><span class="p">,</span>
            <span class="k">ref</span> <span class="kt">double</span> <span class="n">Y</span><span class="p">,</span>
            <span class="k">ref</span> <span class="kt">double</span> <span class="n">gamma</span><span class="p">,</span>
            <span class="k">ref</span> <span class="kt">double</span> <span class="n">outMeridian</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">double</span> <span class="n">AEE</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">CEE</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">Ep2</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>

            <span class="kt">double</span> <span class="n">e2</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">e4</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">e6</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">e8</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">e10</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">e12</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">e14</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">e16</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>

            <span class="kt">double</span> <span class="n">AJ</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">BJ</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">CJ</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">DJ</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">EJ</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">FJ</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">GJ</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">HJ</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">IJ</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>

            <span class="kt">double</span> <span class="n">S0</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>

            <span class="kt">double</span> <span class="n">dL</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">DL2</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">DL4</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">DL6</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">S</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>      <span class="c1">// 赤道から求点までの子午線長の計算</span>
            <span class="kt">double</span> <span class="n">COS2</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">Eta2phi</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">Mphi</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">Nphi</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>  <span class="c1">// phi(=B)の関数</span>
            <span class="kt">double</span> <span class="n">T</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">T2</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">T4</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">T6</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>

            <span class="n">dL</span> <span class="p">=</span> <span class="n">inLambda</span> <span class="p">-</span> <span class="n">lambda</span><span class="p">;</span>    <span class="c1">// Δλ</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">preCalc</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">e2</span> <span class="p">=</span> <span class="n">EP</span><span class="p">.</span><span class="n">Eccentricity</span><span class="p">;</span>
                <span class="n">e4</span> <span class="p">=</span> <span class="n">e2</span> <span class="p">*</span> <span class="n">e2</span><span class="p">;</span>
                <span class="n">e6</span> <span class="p">=</span> <span class="n">e4</span> <span class="p">*</span> <span class="n">e2</span><span class="p">;</span>
                <span class="n">e8</span> <span class="p">=</span> <span class="n">e4</span> <span class="p">*</span> <span class="n">e4</span><span class="p">;</span>
                <span class="n">e10</span> <span class="p">=</span> <span class="n">e8</span> <span class="p">*</span> <span class="n">e2</span><span class="p">;</span>
                <span class="n">e12</span> <span class="p">=</span> <span class="n">e8</span> <span class="p">*</span> <span class="n">e4</span><span class="p">;</span>
                <span class="n">e14</span> <span class="p">=</span> <span class="n">e8</span> <span class="p">*</span> <span class="n">e6</span><span class="p">;</span>
                <span class="n">e16</span> <span class="p">=</span> <span class="n">e8</span> <span class="p">*</span> <span class="n">e8</span><span class="p">;</span>

                <span class="c1">// 定数項</span>
                <span class="n">AEE</span> <span class="p">=</span> <span class="n">EP</span><span class="p">.</span><span class="n">Axix</span> <span class="p">*</span> <span class="p">(</span><span class="m">1.0</span> <span class="p">-</span> <span class="n">EP</span><span class="p">.</span><span class="n">Eccentricity</span><span class="p">);</span>      <span class="c1">// a(1-e2)</span>
                <span class="n">CEE</span> <span class="p">=</span> <span class="n">EP</span><span class="p">.</span><span class="n">Axix</span> <span class="p">/</span> <span class="p">(</span><span class="kt">double</span><span class="p">)</span><span class="n">Math</span><span class="p">.</span><span class="nf">Sqrt</span><span class="p">(</span><span class="m">1.0</span> <span class="p">-</span> <span class="n">EP</span><span class="p">.</span><span class="n">Eccentricity</span><span class="p">);</span>   <span class="c1">// C=a*Math.Sqrt(1+e'2)=a/Math.Sqrt(1-e2)</span>
                <span class="n">Ep2</span> <span class="p">=</span> <span class="n">EP</span><span class="p">.</span><span class="n">Eccentricity</span> <span class="p">/</span> <span class="p">(</span><span class="kt">double</span><span class="p">)(</span><span class="m">1.0</span> <span class="p">-</span> <span class="n">EP</span><span class="p">.</span><span class="n">Eccentricity</span><span class="p">);</span>      <span class="c1">// e'2 (e prime 2) Eta2phiを計算するため</span>

                <span class="c1">// 「緯度を与えて赤道からの子午線弧長を求める計算」のための９つの係数を求める。</span>
                <span class="c1">// 「精密測地網一次基準点測量計算式」P55,P56より。係数チェック済み1999/10/19。</span>
                <span class="n">AJ</span> <span class="p">=</span> <span class="m">4927697775.0</span> <span class="p">/</span> <span class="m">7516192768.0</span> <span class="p">*</span> <span class="n">e16</span><span class="p">;</span>
                <span class="n">AJ</span> <span class="p">=</span> <span class="n">AJ</span> <span class="p">+</span> <span class="m">19324305.0</span> <span class="p">/</span> <span class="m">29360128.0</span> <span class="p">*</span> <span class="n">e14</span><span class="p">;</span>
                <span class="n">AJ</span> <span class="p">=</span> <span class="n">AJ</span> <span class="p">+</span> <span class="m">693693.0</span> <span class="p">/</span> <span class="m">1048576.0</span> <span class="p">*</span> <span class="n">e12</span><span class="p">;</span>
                <span class="n">AJ</span> <span class="p">=</span> <span class="n">AJ</span> <span class="p">+</span> <span class="m">43659.0</span> <span class="p">/</span> <span class="m">65536.0</span> <span class="p">*</span> <span class="n">e10</span><span class="p">;</span>
                <span class="n">AJ</span> <span class="p">=</span> <span class="n">AJ</span> <span class="p">+</span> <span class="m">11025.0</span> <span class="p">/</span> <span class="m">16384.0</span> <span class="p">*</span> <span class="n">e8</span><span class="p">;</span>
                <span class="n">AJ</span> <span class="p">=</span> <span class="n">AJ</span> <span class="p">+</span> <span class="m">175.0</span> <span class="p">/</span> <span class="m">256.0</span> <span class="p">*</span> <span class="n">e6</span><span class="p">;</span>
                <span class="n">AJ</span> <span class="p">=</span> <span class="n">AJ</span> <span class="p">+</span> <span class="m">45.0</span> <span class="p">/</span> <span class="m">64.0</span> <span class="p">*</span> <span class="n">e4</span><span class="p">;</span>
                <span class="n">AJ</span> <span class="p">=</span> <span class="n">AJ</span> <span class="p">+</span> <span class="m">3.0</span> <span class="p">/</span> <span class="m">4.0</span> <span class="p">*</span> <span class="n">e2</span><span class="p">;</span>
                <span class="n">AJ</span> <span class="p">=</span> <span class="n">AJ</span> <span class="p">+</span> <span class="m">1.0</span><span class="p">;</span>
                <span class="n">BJ</span> <span class="p">=</span> <span class="m">547521975.0</span> <span class="p">/</span> <span class="m">469762048.0</span> <span class="p">*</span> <span class="n">e16</span><span class="p">;</span>
                <span class="n">BJ</span> <span class="p">=</span> <span class="n">BJ</span> <span class="p">+</span> <span class="m">135270135.0</span> <span class="p">/</span> <span class="m">117440512.0</span> <span class="p">*</span> <span class="n">e14</span><span class="p">;</span>
                <span class="n">BJ</span> <span class="p">=</span> <span class="n">BJ</span> <span class="p">+</span> <span class="m">297297.0</span> <span class="p">/</span> <span class="m">262144.0</span> <span class="p">*</span> <span class="n">e12</span><span class="p">;</span>
                <span class="n">BJ</span> <span class="p">=</span> <span class="n">BJ</span> <span class="p">+</span> <span class="m">72765.0</span> <span class="p">/</span> <span class="m">65536.0</span> <span class="p">*</span> <span class="n">e10</span><span class="p">;</span>
                <span class="n">BJ</span> <span class="p">=</span> <span class="n">BJ</span> <span class="p">+</span> <span class="m">2205.0</span> <span class="p">/</span> <span class="m">2048.0</span> <span class="p">*</span> <span class="n">e8</span><span class="p">;</span>
                <span class="n">BJ</span> <span class="p">=</span> <span class="n">BJ</span> <span class="p">+</span> <span class="m">525.0</span> <span class="p">/</span> <span class="m">512.0</span> <span class="p">*</span> <span class="n">e6</span><span class="p">;</span>
                <span class="n">BJ</span> <span class="p">=</span> <span class="n">BJ</span> <span class="p">+</span> <span class="m">15.0</span> <span class="p">/</span> <span class="m">16.0</span> <span class="p">*</span> <span class="n">e4</span><span class="p">;</span>
                <span class="n">BJ</span> <span class="p">=</span> <span class="n">BJ</span> <span class="p">+</span> <span class="m">3.0</span> <span class="p">/</span> <span class="m">4.0</span> <span class="p">*</span> <span class="n">e2</span><span class="p">;</span>
                <span class="n">CJ</span> <span class="p">=</span> <span class="m">766530765.0</span> <span class="p">/</span> <span class="m">939524096.0</span> <span class="p">*</span> <span class="n">e16</span><span class="p">;</span>
                <span class="c1">// CJ = CJ + 45090045.0 / 5870256.0 * e14 精密測地網一次基準点測量作業規定の誤りによるバグ</span>
                <span class="n">CJ</span> <span class="p">=</span> <span class="n">CJ</span> <span class="p">+</span> <span class="m">45090045.0</span> <span class="p">/</span> <span class="m">58720256.0</span> <span class="p">*</span> <span class="n">e14</span><span class="p">;</span>
                <span class="n">CJ</span> <span class="p">=</span> <span class="n">CJ</span> <span class="p">+</span> <span class="m">1486485.0</span> <span class="p">/</span> <span class="m">2097152.0</span> <span class="p">*</span> <span class="n">e12</span><span class="p">;</span>
                <span class="n">CJ</span> <span class="p">=</span> <span class="n">CJ</span> <span class="p">+</span> <span class="m">10395.0</span> <span class="p">/</span> <span class="m">16384.0</span> <span class="p">*</span> <span class="n">e10</span><span class="p">;</span>
                <span class="n">CJ</span> <span class="p">=</span> <span class="n">CJ</span> <span class="p">+</span> <span class="m">2205.0</span> <span class="p">/</span> <span class="m">4096.0</span> <span class="p">*</span> <span class="n">e8</span><span class="p">;</span>
                <span class="n">CJ</span> <span class="p">=</span> <span class="n">CJ</span> <span class="p">+</span> <span class="m">105.0</span> <span class="p">/</span> <span class="m">256.0</span> <span class="p">*</span> <span class="n">e6</span><span class="p">;</span>
                <span class="n">CJ</span> <span class="p">=</span> <span class="n">CJ</span> <span class="p">+</span> <span class="m">15.0</span> <span class="p">/</span> <span class="m">64.0</span> <span class="p">*</span> <span class="n">e4</span><span class="p">;</span>
                <span class="n">DJ</span> <span class="p">=</span> <span class="m">209053845.0</span> <span class="p">/</span> <span class="m">469762048.0</span> <span class="p">*</span> <span class="n">e16</span><span class="p">;</span>
                <span class="n">DJ</span> <span class="p">=</span> <span class="n">DJ</span> <span class="p">+</span> <span class="m">45090045.0</span> <span class="p">/</span> <span class="m">117440512.0</span> <span class="p">*</span> <span class="n">e14</span><span class="p">;</span>
                <span class="n">DJ</span> <span class="p">=</span> <span class="n">DJ</span> <span class="p">+</span> <span class="m">165165.0</span> <span class="p">/</span> <span class="m">524288.0</span> <span class="p">*</span> <span class="n">e12</span><span class="p">;</span>
                <span class="n">DJ</span> <span class="p">=</span> <span class="n">DJ</span> <span class="p">+</span> <span class="m">31185.0</span> <span class="p">/</span> <span class="m">131072.0</span> <span class="p">*</span> <span class="n">e10</span><span class="p">;</span>
                <span class="n">DJ</span> <span class="p">=</span> <span class="n">DJ</span> <span class="p">+</span> <span class="m">315.0</span> <span class="p">/</span> <span class="m">2048.0</span> <span class="p">*</span> <span class="n">e8</span><span class="p">;</span>
                <span class="n">DJ</span> <span class="p">=</span> <span class="n">DJ</span> <span class="p">+</span> <span class="m">35.0</span> <span class="p">/</span> <span class="m">512.0</span> <span class="p">*</span> <span class="n">e6</span><span class="p">;</span>
                <span class="n">EJ</span> <span class="p">=</span> <span class="m">348423075.0</span> <span class="p">/</span> <span class="m">1879048192.0</span> <span class="p">*</span> <span class="n">e16</span><span class="p">;</span>
                <span class="n">EJ</span> <span class="p">=</span> <span class="n">EJ</span> <span class="p">+</span> <span class="m">4099095.0</span> <span class="p">/</span> <span class="m">29360128.0</span> <span class="p">*</span> <span class="n">e14</span><span class="p">;</span>
                <span class="n">EJ</span> <span class="p">=</span> <span class="n">EJ</span> <span class="p">+</span> <span class="m">99099.0</span> <span class="p">/</span> <span class="m">1048576.0</span> <span class="p">*</span> <span class="n">e12</span><span class="p">;</span>
                <span class="n">EJ</span> <span class="p">=</span> <span class="n">EJ</span> <span class="p">+</span> <span class="m">3465.0</span> <span class="p">/</span> <span class="m">65536.0</span> <span class="p">*</span> <span class="n">e10</span><span class="p">;</span>
                <span class="n">EJ</span> <span class="p">=</span> <span class="n">EJ</span> <span class="p">+</span> <span class="m">315.0</span> <span class="p">/</span> <span class="m">16384.0</span> <span class="p">*</span> <span class="n">e8</span><span class="p">;</span>
                <span class="n">FJ</span> <span class="p">=</span> <span class="m">26801775.0</span> <span class="p">/</span> <span class="m">469762048.0</span> <span class="p">*</span> <span class="n">e16</span><span class="p">;</span>
                <span class="n">FJ</span> <span class="p">=</span> <span class="n">FJ</span> <span class="p">+</span> <span class="m">4099095.0</span> <span class="p">/</span> <span class="m">117440512.0</span> <span class="p">*</span> <span class="n">e14</span><span class="p">;</span>
                <span class="n">FJ</span> <span class="p">=</span> <span class="n">FJ</span> <span class="p">+</span> <span class="m">9009.0</span> <span class="p">/</span> <span class="m">524288.0</span> <span class="p">*</span> <span class="n">e12</span><span class="p">;</span>
                <span class="n">FJ</span> <span class="p">=</span> <span class="n">FJ</span> <span class="p">+</span> <span class="m">693.0</span> <span class="p">/</span> <span class="m">131072.0</span> <span class="p">*</span> <span class="n">e10</span><span class="p">;</span>
                <span class="n">GJ</span> <span class="p">=</span> <span class="m">11486475.0</span> <span class="p">/</span> <span class="m">939524096.0</span> <span class="p">*</span> <span class="n">e16</span><span class="p">;</span>
                <span class="n">GJ</span> <span class="p">=</span> <span class="n">GJ</span> <span class="p">+</span> <span class="m">315315.0</span> <span class="p">/</span> <span class="m">58720256.0</span> <span class="p">*</span> <span class="n">e14</span><span class="p">;</span>
                <span class="n">GJ</span> <span class="p">=</span> <span class="n">GJ</span> <span class="p">+</span> <span class="m">3003.0</span> <span class="p">/</span> <span class="m">2097152.0</span> <span class="p">*</span> <span class="n">e12</span><span class="p">;</span>
                <span class="n">HJ</span> <span class="p">=</span> <span class="m">765765.0</span> <span class="p">/</span> <span class="m">469762048.0</span> <span class="p">*</span> <span class="n">e16</span><span class="p">;</span>
                <span class="n">HJ</span> <span class="p">=</span> <span class="n">HJ</span> <span class="p">+</span> <span class="m">45045.0</span> <span class="p">/</span> <span class="m">117440512.0</span> <span class="p">*</span> <span class="n">e14</span><span class="p">;</span>
                <span class="n">IJ</span> <span class="p">=</span> <span class="m">765765.0</span> <span class="p">/</span> <span class="m">7516192768.0</span> <span class="p">*</span> <span class="n">e16</span><span class="p">;</span>
                <span class="c1">// 赤道から座標系原点までの子午線長の計算</span>
                <span class="nf">MeridS</span><span class="p">(</span><span class="n">beta</span><span class="p">,</span> <span class="n">AEE</span><span class="p">,</span> <span class="n">AJ</span><span class="p">,</span> <span class="n">BJ</span><span class="p">,</span> <span class="n">CJ</span><span class="p">,</span> <span class="n">DJ</span><span class="p">,</span> <span class="n">EJ</span><span class="p">,</span> <span class="n">FJ</span><span class="p">,</span> <span class="n">GJ</span><span class="p">,</span> <span class="n">HJ</span><span class="p">,</span> <span class="n">IJ</span><span class="p">,</span> <span class="k">ref</span> <span class="n">S0</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="c1">// 何度も使う式を変数に代入</span>
            <span class="n">T</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Tan</span><span class="p">(</span><span class="n">inBeta</span><span class="p">);</span>
            <span class="n">T2</span> <span class="p">=</span> <span class="n">T</span> <span class="p">*</span> <span class="n">T</span><span class="p">;</span> <span class="n">T4</span> <span class="p">=</span> <span class="n">T2</span> <span class="p">*</span> <span class="n">T2</span><span class="p">;</span> <span class="n">T6</span> <span class="p">=</span> <span class="n">T4</span> <span class="p">*</span> <span class="n">T2</span><span class="p">;</span>
            <span class="n">COS2</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Cos</span><span class="p">(</span><span class="n">inBeta</span><span class="p">)</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Cos</span><span class="p">(</span><span class="n">inBeta</span><span class="p">);</span>
            <span class="n">Eta2phi</span> <span class="p">=</span> <span class="n">Ep2</span> <span class="p">*</span> <span class="n">COS2</span><span class="p">;</span>                  <span class="c1">// =η1*η1</span>
            <span class="n">Mphi</span> <span class="p">=</span> <span class="n">CEE</span> <span class="p">/</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sqrt</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">((</span><span class="m">1.0</span> <span class="p">+</span> <span class="n">Eta2phi</span><span class="p">),</span> <span class="m">3.0</span><span class="p">));</span> <span class="c1">// 「精密測地網一次基準点測量計算式」P52のM(phi)</span>
            <span class="n">Nphi</span> <span class="p">=</span> <span class="n">CEE</span> <span class="p">/</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sqrt</span><span class="p">(</span><span class="m">1.0</span> <span class="p">+</span> <span class="n">Eta2phi</span><span class="p">);</span>        <span class="c1">// 「精密測地網一次基準点測量計算式」P52のN(phi)</span>
            <span class="n">DL2</span> <span class="p">=</span> <span class="n">dL</span> <span class="p">*</span> <span class="n">dL</span><span class="p">;</span> <span class="n">DL4</span> <span class="p">=</span> <span class="n">DL2</span> <span class="p">*</span> <span class="n">DL2</span><span class="p">;</span> <span class="n">DL6</span> <span class="p">=</span> <span class="n">DL4</span> <span class="p">*</span> <span class="n">DL2</span><span class="p">;</span>

            <span class="c1">// 赤道から求点までの子午線長の計算</span>
            <span class="nf">MeridS</span><span class="p">(</span><span class="n">inBeta</span><span class="p">,</span> <span class="n">AEE</span><span class="p">,</span> <span class="n">AJ</span><span class="p">,</span> <span class="n">BJ</span><span class="p">,</span> <span class="n">CJ</span><span class="p">,</span> <span class="n">DJ</span><span class="p">,</span> <span class="n">EJ</span><span class="p">,</span> <span class="n">FJ</span><span class="p">,</span> <span class="n">GJ</span><span class="p">,</span> <span class="n">HJ</span><span class="p">,</span> <span class="n">IJ</span><span class="p">,</span> <span class="k">ref</span> <span class="n">S</span><span class="p">);</span>

            <span class="c1">// Ｘ，Ｙの計算 in meter</span>
            <span class="c1">// 「精密測地網一次基準点測量計算式」P52,53のx,yを求める式より</span>
            <span class="n">X</span> <span class="p">=</span> <span class="p">-(-</span><span class="m">1385.0</span> <span class="p">+</span> <span class="m">3111.0</span> <span class="p">*</span> <span class="n">T2</span> <span class="p">-</span> <span class="m">543.0</span> <span class="p">*</span> <span class="n">T4</span> <span class="p">+</span> <span class="n">T6</span><span class="p">)</span> <span class="p">*</span> <span class="n">DL6</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">COS2</span><span class="p">,</span> <span class="m">3.0</span><span class="p">)</span> <span class="p">/</span> <span class="m">40320.0</span><span class="p">;</span>
            <span class="n">X</span> <span class="p">=</span> <span class="n">X</span> <span class="p">-</span> <span class="p">(-</span><span class="m">61.0</span> <span class="p">+</span> <span class="m">58.0</span> <span class="p">*</span> <span class="n">T2</span> <span class="p">-</span> <span class="n">T4</span> <span class="p">-</span> <span class="m">270.0</span> <span class="p">*</span> <span class="n">Eta2phi</span> <span class="p">+</span> <span class="m">330.0</span> <span class="p">*</span> <span class="n">T2</span> <span class="p">*</span> <span class="n">Eta2phi</span><span class="p">)</span> <span class="p">*</span> <span class="n">DL4</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">COS2</span><span class="p">,</span> <span class="m">2.0</span><span class="p">)</span> <span class="p">/</span> <span class="m">720.0</span><span class="p">;</span>
            <span class="n">X</span> <span class="p">=</span> <span class="n">X</span> <span class="p">+</span> <span class="p">(</span><span class="m">5.0</span> <span class="p">-</span> <span class="n">T2</span> <span class="p">+</span> <span class="m">9.0</span> <span class="p">*</span> <span class="n">Eta2phi</span> <span class="p">+</span> <span class="m">4.0</span> <span class="p">*</span> <span class="n">Eta2phi</span> <span class="p">*</span> <span class="n">Eta2phi</span><span class="p">)</span> <span class="p">*</span> <span class="n">DL2</span> <span class="p">*</span> <span class="n">COS2</span> <span class="p">/</span> <span class="m">24.0</span><span class="p">;</span>
            <span class="n">X</span> <span class="p">=</span> <span class="n">X</span> <span class="p">+</span> <span class="m">1.0</span> <span class="p">/</span> <span class="m">2.0</span><span class="p">;</span>
            <span class="n">X</span> <span class="p">=</span> <span class="n">X</span> <span class="p">*</span> <span class="n">Nphi</span> <span class="p">*</span> <span class="n">COS2</span> <span class="p">*</span> <span class="n">T</span> <span class="p">*</span> <span class="n">DL2</span><span class="p">;</span>
            <span class="n">X</span> <span class="p">=</span> <span class="n">X</span> <span class="p">+</span> <span class="n">S</span> <span class="p">-</span> <span class="n">S0</span><span class="p">;</span>
            <span class="n">X</span> <span class="p">=</span> <span class="n">X</span> <span class="p">*</span> <span class="n">meridianCoefficiant</span><span class="p">;</span>
            <span class="n">Y</span> <span class="p">=</span> <span class="p">-(-</span><span class="m">61.0</span> <span class="p">+</span> <span class="m">479.0</span> <span class="p">*</span> <span class="n">T2</span> <span class="p">-</span> <span class="m">179.0</span> <span class="p">*</span> <span class="n">T4</span> <span class="p">+</span> <span class="n">T6</span><span class="p">)</span> <span class="p">*</span> <span class="n">DL6</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">COS2</span><span class="p">,</span> <span class="m">3.0</span><span class="p">)</span> <span class="p">/</span> <span class="m">5040.0</span><span class="p">;</span>
            <span class="n">Y</span> <span class="p">=</span> <span class="n">Y</span> <span class="p">-</span> <span class="p">(-</span><span class="m">5.0</span> <span class="p">+</span> <span class="m">18.0</span> <span class="p">*</span> <span class="n">T2</span> <span class="p">-</span> <span class="n">T4</span> <span class="p">-</span> <span class="m">14.0</span> <span class="p">*</span> <span class="n">Eta2phi</span> <span class="p">+</span> <span class="m">58.0</span> <span class="p">*</span> <span class="n">T2</span> <span class="p">*</span> <span class="n">Eta2phi</span><span class="p">)</span> <span class="p">*</span> <span class="n">DL4</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">COS2</span><span class="p">,</span> <span class="m">2.0</span><span class="p">)</span> <span class="p">/</span> <span class="m">120.0</span><span class="p">;</span>
            <span class="n">Y</span> <span class="p">=</span> <span class="n">Y</span> <span class="p">-</span> <span class="p">(-</span><span class="m">1.0</span> <span class="p">+</span> <span class="n">T2</span> <span class="p">-</span> <span class="n">Eta2phi</span><span class="p">)</span> <span class="p">*</span> <span class="n">DL2</span> <span class="p">*</span> <span class="n">COS2</span> <span class="p">/</span> <span class="m">6.0</span><span class="p">;</span>
            <span class="n">Y</span> <span class="p">=</span> <span class="n">Y</span> <span class="p">+</span> <span class="m">1.0</span><span class="p">;</span>
            <span class="n">Y</span> <span class="p">=</span> <span class="n">Y</span> <span class="p">*</span> <span class="n">Nphi</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Cos</span><span class="p">(</span><span class="n">inBeta</span><span class="p">)</span> <span class="p">*</span> <span class="n">dL</span><span class="p">;</span>
            <span class="n">Y</span> <span class="p">=</span> <span class="n">Y</span> <span class="p">*</span> <span class="n">meridianCoefficiant</span><span class="p">;</span>

            <span class="c1">// 子午線収差角　これのマイナスが真北方向角(rad)</span>
            <span class="c1">// 「精密測地網一次基準点測量計算式」P53のγを求める式より</span>
            <span class="n">gamma</span> <span class="p">=</span> <span class="n">COS2</span> <span class="p">*</span> <span class="n">COS2</span> <span class="p">*</span> <span class="p">(</span><span class="m">2.0</span> <span class="p">-</span> <span class="n">T2</span><span class="p">)</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">dL</span><span class="p">,</span> <span class="m">4.0</span><span class="p">)</span> <span class="p">/</span> <span class="m">15.0</span><span class="p">;</span>
            <span class="n">gamma</span> <span class="p">=</span> <span class="n">gamma</span> <span class="p">+</span> <span class="n">COS2</span> <span class="p">*</span> <span class="p">(</span><span class="m">1.0</span> <span class="p">+</span> <span class="m">3.0</span> <span class="p">*</span> <span class="n">Eta2phi</span> <span class="p">+</span> <span class="m">2.0</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">Eta2phi</span><span class="p">,</span> <span class="m">2.0</span><span class="p">))</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">dL</span><span class="p">,</span> <span class="m">2.0</span><span class="p">)</span> <span class="p">/</span> <span class="m">3.0</span><span class="p">;</span>
            <span class="n">gamma</span> <span class="p">=</span> <span class="n">gamma</span> <span class="p">+</span> <span class="m">1.0</span><span class="p">;</span>
            <span class="n">gamma</span> <span class="p">=</span> <span class="n">gamma</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Cos</span><span class="p">(</span><span class="n">inBeta</span><span class="p">)</span> <span class="p">*</span> <span class="n">T</span> <span class="p">*</span> <span class="n">dL</span><span class="p">;</span>

            <span class="c1">// 縮尺係数の計算 「精密測地網一次基準点測量計算式」P51のmを求める式より</span>
            <span class="n">outMeridian</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="m">4.0</span><span class="p">)</span> <span class="p">/</span> <span class="p">(</span><span class="m">24.0</span> <span class="p">*</span> <span class="n">Mphi</span> <span class="p">*</span> <span class="n">Mphi</span> <span class="p">*</span> <span class="n">Nphi</span> <span class="p">*</span> <span class="n">Nphi</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">meridianCoefficiant</span><span class="p">,</span> <span class="m">4.0</span><span class="p">));</span>
            <span class="n">outMeridian</span> <span class="p">=</span> <span class="n">outMeridian</span> <span class="p">+</span> <span class="n">Y</span> <span class="p">*</span> <span class="n">Y</span> <span class="p">/</span> <span class="p">(</span><span class="m">2.0</span> <span class="p">*</span> <span class="n">Mphi</span> <span class="p">*</span> <span class="n">Nphi</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">meridianCoefficiant</span><span class="p">,</span> <span class="m">2.0</span><span class="p">));</span>
            <span class="n">outMeridian</span> <span class="p">=</span> <span class="n">outMeridian</span> <span class="p">+</span> <span class="m">1.0</span><span class="p">;</span>
            <span class="n">outMeridian</span> <span class="p">=</span> <span class="n">outMeridian</span> <span class="p">*</span> <span class="n">meridianCoefficiant</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// X,YをB,Lに換算します。called by XYFile</span>
        <span class="c1">/// このサブプログラムが複数回呼ばれることを想定すると，楕円体パラメータと座標系が変更されずに</span>
        <span class="c1">/// 呼ばれた場合，2回目以降，関係変数をダブって計算するのは無駄なので，</span>
        <span class="c1">/// PreCalcがTrue（最初に呼ばれるとき）なら関係変数を計算しstatic変数に代入し，Falseなら計算しない。</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="PreCalc"&gt;既に計算済みの場合、false&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="ellipSuffix"&gt;楕円体配列の添え字：0=Bessel楕円体=日本測地系, 1=GRS80楕円体=世界測地系&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="X"&gt;平面直角座標&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="Y"&gt;平面直角座標&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="Bout"&gt;度単位の緯度&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="Lout"&gt;度単位の経度&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="inX"&gt;平面直角座標 入力値&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="inY"&gt;平面直角座標 入力値&lt;/param&gt;</span>
        <span class="k">private</span> <span class="k">void</span> <span class="nf">DoCalcXy2blFile</span><span class="p">(</span><span class="kt">bool</span> <span class="n">PreCalc</span><span class="p">,</span> <span class="kt">int</span> <span class="n">ellipSuffix</span><span class="p">,</span> <span class="kt">double</span> <span class="n">X</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Y</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">double</span> <span class="n">Bout</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">double</span> <span class="n">Lout</span><span class="p">,</span> <span class="kt">double</span> <span class="n">inX</span><span class="p">,</span> <span class="kt">double</span> <span class="n">inY</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">const</span> <span class="kt">double</span> <span class="n">M0</span> <span class="p">=</span> <span class="m">0.9999</span><span class="p">;</span>       <span class="c1">//系番号，基準子午線の縮尺係数</span>
            <span class="kt">double</span> <span class="n">cB1</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>      <span class="c1">//原点の緯度，経度。c = combo box</span>
            <span class="kt">double</span> <span class="n">cL1</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>      <span class="c1">//原点の緯度，経度。c = combo box</span>
            <span class="kt">double</span> <span class="n">B1</span><span class="p">=</span><span class="m">0.0</span><span class="p">;</span>       <span class="c1">//原点の緯度，経度。基本的にradian</span>
            <span class="kt">double</span> <span class="n">L1</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>       <span class="c1">//原点の緯度，経度。基本的にradian</span>

            <span class="kt">double</span> <span class="n">AEE</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">CEE</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">Ep2</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="n">EllipParam</span> <span class="n">EPs</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">EllipParam</span><span class="p">();</span>

            <span class="kt">double</span> <span class="n">AJ</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">BJ</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">CJ</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">DJ</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">EJ</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">FJ</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">GJ</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">HJ</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">IJ</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>

            <span class="kt">double</span> <span class="n">e2</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">e4</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">e6</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">e8</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">e10</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">e12</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">e14</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">e16</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>

            <span class="kt">double</span> <span class="n">B</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>       <span class="c1">// 求める緯度，経度。基本的にradian</span>
            <span class="kt">double</span> <span class="n">L</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>       <span class="c1">// 求める緯度，経度。基本的にradian</span>
            <span class="kt">int</span> <span class="n">D</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">AM</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">S</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">SN</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">S0</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>                   <span class="c1">// 赤道から座標原点までの子午線弧長</span>
            <span class="kt">double</span> <span class="n">M</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">Eta2</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>         <span class="c1">// phi1の関数</span>
            <span class="kt">double</span> <span class="n">M1</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>         <span class="c1">// phi1の関数</span>
            <span class="kt">double</span> <span class="n">N1</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>         <span class="c1">// phi1の関数</span>
            <span class="kt">double</span> <span class="n">T</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">T2</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">T4</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">T6</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">S1</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">phi1</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">oldphi1</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">icountphi1</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">Bunsi</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">Bunbo</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">YM0</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">N1CosPhi1</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">PreCalc</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="c1">// 楕円体ﾊﾟﾗﾒｰﾀの代入</span>
                <span class="n">EPs</span><span class="p">.</span><span class="n">Axix</span> <span class="p">=</span> <span class="n">ellipObj</span><span class="p">[</span><span class="n">ellipSuffix</span><span class="p">].</span><span class="n">Axix</span><span class="p">;</span>
                <span class="n">EPs</span><span class="p">.</span><span class="n">Flattening1</span> <span class="p">=</span> <span class="n">ellipObj</span><span class="p">[</span><span class="n">ellipSuffix</span><span class="p">].</span><span class="n">Flattening1</span><span class="p">;</span>
                <span class="n">EPs</span><span class="p">.</span><span class="n">Flattening</span> <span class="p">=</span> <span class="n">ellipObj</span><span class="p">[</span><span class="n">ellipSuffix</span><span class="p">].</span><span class="n">Flattening</span><span class="p">;</span>
                <span class="n">EPs</span><span class="p">.</span><span class="n">Eccentricity</span> <span class="p">=</span> <span class="n">ellipObj</span><span class="p">[</span><span class="n">ellipSuffix</span><span class="p">].</span><span class="n">Eccentricity</span><span class="p">;</span>
                <span class="n">EPs</span><span class="p">.</span><span class="n">Namec</span> <span class="p">=</span> <span class="n">ellipObj</span><span class="p">[</span><span class="n">ellipSuffix</span><span class="p">].</span><span class="n">Namec</span><span class="p">;</span>
                <span class="n">e2</span> <span class="p">=</span> <span class="n">EPs</span><span class="p">.</span><span class="n">Eccentricity</span><span class="p">;</span>
                <span class="n">e4</span> <span class="p">=</span> <span class="n">e2</span> <span class="p">*</span> <span class="n">e2</span><span class="p">;</span>
                <span class="n">e6</span> <span class="p">=</span> <span class="n">e4</span> <span class="p">*</span> <span class="n">e2</span><span class="p">;</span>
                <span class="n">e8</span> <span class="p">=</span> <span class="n">e4</span> <span class="p">*</span> <span class="n">e4</span><span class="p">;</span>
                <span class="n">e10</span> <span class="p">=</span> <span class="n">e8</span> <span class="p">*</span> <span class="n">e2</span><span class="p">;</span>
                <span class="n">e12</span> <span class="p">=</span> <span class="n">e8</span> <span class="p">*</span> <span class="n">e4</span><span class="p">;</span>
                <span class="n">e14</span> <span class="p">=</span> <span class="n">e8</span> <span class="p">*</span> <span class="n">e6</span><span class="p">;</span>
                <span class="n">e16</span> <span class="p">=</span> <span class="n">e8</span> <span class="p">*</span> <span class="n">e8</span><span class="p">;</span>

                <span class="c1">// 定数項 the same as bl2xy</span>
                <span class="n">AEE</span> <span class="p">=</span> <span class="n">EPs</span><span class="p">.</span><span class="n">Axix</span> <span class="p">*</span> <span class="p">(</span><span class="m">1.0</span> <span class="p">-</span> <span class="n">EPs</span><span class="p">.</span><span class="n">Eccentricity</span><span class="p">);</span>      <span class="c1">// a(1-e2)</span>
                <span class="n">CEE</span> <span class="p">=</span> <span class="n">EPs</span><span class="p">.</span><span class="n">Axix</span> <span class="p">/</span> <span class="p">(</span><span class="kt">double</span><span class="p">)</span><span class="n">Math</span><span class="p">.</span><span class="nf">Sqrt</span><span class="p">(</span><span class="m">1.0</span> <span class="p">-</span> <span class="n">EPs</span><span class="p">.</span><span class="n">Eccentricity</span><span class="p">);</span>   <span class="c1">// C=a*Math.Sqrt(1+e'2)=a/Math.Sqrt(1-e2)</span>
                <span class="n">Ep2</span> <span class="p">=</span> <span class="n">EPs</span><span class="p">.</span><span class="n">Eccentricity</span> <span class="p">/</span> <span class="p">(</span><span class="kt">double</span><span class="p">)(</span><span class="m">1.0</span> <span class="p">-</span> <span class="n">EPs</span><span class="p">.</span><span class="n">Eccentricity</span><span class="p">);</span>      <span class="c1">// e'2 (e prime 2) Eta2を計算するため</span>

                <span class="c1">// 「緯度を与えて赤道からの子午線弧長を求める計算」のための９つの係数を求める。</span>
                <span class="c1">// 「精密測地網一次基準点測量計算式」P55,P56より。係数チェック済み1999/10/19。</span>
                <span class="n">AJ</span> <span class="p">=</span> <span class="m">4927697775.0</span> <span class="p">/</span> <span class="m">7516192768.0</span> <span class="p">*</span> <span class="n">e16</span><span class="p">;</span>
                <span class="n">AJ</span> <span class="p">=</span> <span class="n">AJ</span> <span class="p">+</span> <span class="m">19324305.0</span> <span class="p">/</span> <span class="m">29360128.0</span> <span class="p">*</span> <span class="n">e14</span><span class="p">;</span>
                <span class="n">AJ</span> <span class="p">=</span> <span class="n">AJ</span> <span class="p">+</span> <span class="m">693693.0</span> <span class="p">/</span> <span class="m">1048576.0</span> <span class="p">*</span> <span class="n">e12</span><span class="p">;</span>
                <span class="n">AJ</span> <span class="p">=</span> <span class="n">AJ</span> <span class="p">+</span> <span class="m">43659.0</span> <span class="p">/</span> <span class="m">65536.0</span> <span class="p">*</span> <span class="n">e10</span><span class="p">;</span>
                <span class="n">AJ</span> <span class="p">=</span> <span class="n">AJ</span> <span class="p">+</span> <span class="m">11025.0</span> <span class="p">/</span> <span class="m">16384.0</span> <span class="p">*</span> <span class="n">e8</span><span class="p">;</span>
                <span class="n">AJ</span> <span class="p">=</span> <span class="n">AJ</span> <span class="p">+</span> <span class="m">175.0</span> <span class="p">/</span> <span class="m">256.0</span> <span class="p">*</span> <span class="n">e6</span><span class="p">;</span>
                <span class="n">AJ</span> <span class="p">=</span> <span class="n">AJ</span> <span class="p">+</span> <span class="m">45.0</span> <span class="p">/</span> <span class="m">64.0</span> <span class="p">*</span> <span class="n">e4</span><span class="p">;</span>
                <span class="n">AJ</span> <span class="p">=</span> <span class="n">AJ</span> <span class="p">+</span> <span class="m">3.0</span> <span class="p">/</span> <span class="m">4.0</span> <span class="p">*</span> <span class="n">e2</span><span class="p">;</span>
                <span class="n">AJ</span> <span class="p">=</span> <span class="n">AJ</span> <span class="p">+</span> <span class="m">1.0</span><span class="p">;</span>
                <span class="n">BJ</span> <span class="p">=</span> <span class="m">547521975.0</span> <span class="p">/</span> <span class="m">469762048.0</span> <span class="p">*</span> <span class="n">e16</span><span class="p">;</span>
                <span class="n">BJ</span> <span class="p">=</span> <span class="n">BJ</span> <span class="p">+</span> <span class="m">135270135.0</span> <span class="p">/</span> <span class="m">117440512.0</span> <span class="p">*</span> <span class="n">e14</span><span class="p">;</span>
                <span class="n">BJ</span> <span class="p">=</span> <span class="n">BJ</span> <span class="p">+</span> <span class="m">297297.0</span> <span class="p">/</span> <span class="m">262144.0</span> <span class="p">*</span> <span class="n">e12</span><span class="p">;</span>
                <span class="n">BJ</span> <span class="p">=</span> <span class="n">BJ</span> <span class="p">+</span> <span class="m">72765.0</span> <span class="p">/</span> <span class="m">65536.0</span> <span class="p">*</span> <span class="n">e10</span><span class="p">;</span>
                <span class="n">BJ</span> <span class="p">=</span> <span class="n">BJ</span> <span class="p">+</span> <span class="m">2205.0</span> <span class="p">/</span> <span class="m">2048.0</span> <span class="p">*</span> <span class="n">e8</span><span class="p">;</span>
                <span class="n">BJ</span> <span class="p">=</span> <span class="n">BJ</span> <span class="p">+</span> <span class="m">525.0</span> <span class="p">/</span> <span class="m">512.0</span> <span class="p">*</span> <span class="n">e6</span><span class="p">;</span>
                <span class="n">BJ</span> <span class="p">=</span> <span class="n">BJ</span> <span class="p">+</span> <span class="m">15.0</span> <span class="p">/</span> <span class="m">16.0</span> <span class="p">*</span> <span class="n">e4</span><span class="p">;</span>
                <span class="n">BJ</span> <span class="p">=</span> <span class="n">BJ</span> <span class="p">+</span> <span class="m">3.0</span> <span class="p">/</span> <span class="m">4.0</span> <span class="p">*</span> <span class="n">e2</span><span class="p">;</span>
                <span class="n">CJ</span> <span class="p">=</span> <span class="m">766530765.0</span> <span class="p">/</span> <span class="m">939524096.0</span> <span class="p">*</span> <span class="n">e16</span><span class="p">;</span>
                <span class="c1">// CJ = CJ + 45090045.0 / 5870256.0 * e14 精密測地網一次基準点測量作業規定の誤りによるバグ</span>
                <span class="n">CJ</span> <span class="p">=</span> <span class="n">CJ</span> <span class="p">+</span> <span class="m">45090045.0</span> <span class="p">/</span> <span class="m">58720256.0</span> <span class="p">*</span> <span class="n">e14</span><span class="p">;</span>
                <span class="n">CJ</span> <span class="p">=</span> <span class="n">CJ</span> <span class="p">+</span> <span class="m">1486485.0</span> <span class="p">/</span> <span class="m">2097152.0</span> <span class="p">*</span> <span class="n">e12</span><span class="p">;</span>
                <span class="n">CJ</span> <span class="p">=</span> <span class="n">CJ</span> <span class="p">+</span> <span class="m">10395.0</span> <span class="p">/</span> <span class="m">16384.0</span> <span class="p">*</span> <span class="n">e10</span><span class="p">;</span>
                <span class="n">CJ</span> <span class="p">=</span> <span class="n">CJ</span> <span class="p">+</span> <span class="m">2205.0</span> <span class="p">/</span> <span class="m">4096.0</span> <span class="p">*</span> <span class="n">e8</span><span class="p">;</span>
                <span class="n">CJ</span> <span class="p">=</span> <span class="n">CJ</span> <span class="p">+</span> <span class="m">105.0</span> <span class="p">/</span> <span class="m">256.0</span> <span class="p">*</span> <span class="n">e6</span><span class="p">;</span>
                <span class="n">CJ</span> <span class="p">=</span> <span class="n">CJ</span> <span class="p">+</span> <span class="m">15.0</span> <span class="p">/</span> <span class="m">64.0</span> <span class="p">*</span> <span class="n">e4</span><span class="p">;</span>
                <span class="n">DJ</span> <span class="p">=</span> <span class="m">209053845.0</span> <span class="p">/</span> <span class="m">469762048.0</span> <span class="p">*</span> <span class="n">e16</span><span class="p">;</span>
                <span class="n">DJ</span> <span class="p">=</span> <span class="n">DJ</span> <span class="p">+</span> <span class="m">45090045.0</span> <span class="p">/</span> <span class="m">117440512.0</span> <span class="p">*</span> <span class="n">e14</span><span class="p">;</span>
                <span class="n">DJ</span> <span class="p">=</span> <span class="n">DJ</span> <span class="p">+</span> <span class="m">165165.0</span> <span class="p">/</span> <span class="m">524288.0</span> <span class="p">*</span> <span class="n">e12</span><span class="p">;</span>
                <span class="n">DJ</span> <span class="p">=</span> <span class="n">DJ</span> <span class="p">+</span> <span class="m">31185.0</span> <span class="p">/</span> <span class="m">131072.0</span> <span class="p">*</span> <span class="n">e10</span><span class="p">;</span>
                <span class="n">DJ</span> <span class="p">=</span> <span class="n">DJ</span> <span class="p">+</span> <span class="m">315.0</span> <span class="p">/</span> <span class="m">2048.0</span> <span class="p">*</span> <span class="n">e8</span><span class="p">;</span>
                <span class="n">DJ</span> <span class="p">=</span> <span class="n">DJ</span> <span class="p">+</span> <span class="m">35.0</span> <span class="p">/</span> <span class="m">512.0</span> <span class="p">*</span> <span class="n">e6</span><span class="p">;</span>
                <span class="n">EJ</span> <span class="p">=</span> <span class="m">348423075.0</span> <span class="p">/</span> <span class="m">1879048192.0</span> <span class="p">*</span> <span class="n">e16</span><span class="p">;</span>
                <span class="n">EJ</span> <span class="p">=</span> <span class="n">EJ</span> <span class="p">+</span> <span class="m">4099095.0</span> <span class="p">/</span> <span class="m">29360128.0</span> <span class="p">*</span> <span class="n">e14</span><span class="p">;</span>
                <span class="n">EJ</span> <span class="p">=</span> <span class="n">EJ</span> <span class="p">+</span> <span class="m">99099.0</span> <span class="p">/</span> <span class="m">1048576.0</span> <span class="p">*</span> <span class="n">e12</span><span class="p">;</span>
                <span class="n">EJ</span> <span class="p">=</span> <span class="n">EJ</span> <span class="p">+</span> <span class="m">3465.0</span> <span class="p">/</span> <span class="m">65536.0</span> <span class="p">*</span> <span class="n">e10</span><span class="p">;</span>
                <span class="n">EJ</span> <span class="p">=</span> <span class="n">EJ</span> <span class="p">+</span> <span class="m">315.0</span> <span class="p">/</span> <span class="m">16384.0</span> <span class="p">*</span> <span class="n">e8</span><span class="p">;</span>
                <span class="n">FJ</span> <span class="p">=</span> <span class="m">26801775.0</span> <span class="p">/</span> <span class="m">469762048.0</span> <span class="p">*</span> <span class="n">e16</span><span class="p">;</span>
                <span class="n">FJ</span> <span class="p">=</span> <span class="n">FJ</span> <span class="p">+</span> <span class="m">4099095.0</span> <span class="p">/</span> <span class="m">117440512.0</span> <span class="p">*</span> <span class="n">e14</span><span class="p">;</span>
                <span class="n">FJ</span> <span class="p">=</span> <span class="n">FJ</span> <span class="p">+</span> <span class="m">9009.0</span> <span class="p">/</span> <span class="m">524288.0</span> <span class="p">*</span> <span class="n">e12</span><span class="p">;</span>
                <span class="n">FJ</span> <span class="p">=</span> <span class="n">FJ</span> <span class="p">+</span> <span class="m">693.0</span> <span class="p">/</span> <span class="m">131072.0</span> <span class="p">*</span> <span class="n">e10</span><span class="p">;</span>
                <span class="n">GJ</span> <span class="p">=</span> <span class="m">11486475.0</span> <span class="p">/</span> <span class="m">939524096.0</span> <span class="p">*</span> <span class="n">e16</span><span class="p">;</span>
                <span class="n">GJ</span> <span class="p">=</span> <span class="n">GJ</span> <span class="p">+</span> <span class="m">315315.0</span> <span class="p">/</span> <span class="m">58720256.0</span> <span class="p">*</span> <span class="n">e14</span><span class="p">;</span>
                <span class="n">GJ</span> <span class="p">=</span> <span class="n">GJ</span> <span class="p">+</span> <span class="m">3003.0</span> <span class="p">/</span> <span class="m">2097152.0</span> <span class="p">*</span> <span class="n">e12</span><span class="p">;</span>
                <span class="n">HJ</span> <span class="p">=</span> <span class="m">765765.0</span> <span class="p">/</span> <span class="m">469762048.0</span> <span class="p">*</span> <span class="n">e16</span><span class="p">;</span>
                <span class="n">HJ</span> <span class="p">=</span> <span class="n">HJ</span> <span class="p">+</span> <span class="m">45045.0</span> <span class="p">/</span> <span class="m">117440512.0</span> <span class="p">*</span> <span class="n">e14</span><span class="p">;</span>
                <span class="n">IJ</span> <span class="p">=</span> <span class="m">765765.0</span> <span class="p">/</span> <span class="m">7516192768.0</span> <span class="p">*</span> <span class="n">e16</span><span class="p">;</span>

                <span class="c1">// 座標系番号，緯度，経度の読みとり</span>
                <span class="n">cB1</span> <span class="p">=</span> <span class="n">inX</span><span class="p">;</span>  <span class="c1">// 原点緯度</span>
                <span class="n">cL1</span> <span class="p">=</span> <span class="n">inY</span><span class="p">;</span> <span class="c1">// 原点経度</span>
                <span class="nf">DmsToDeg</span><span class="p">(</span><span class="n">cB1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">B1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">SN</span><span class="p">,</span> <span class="k">ref</span> <span class="n">D</span><span class="p">,</span> <span class="k">ref</span> <span class="n">AM</span><span class="p">,</span> <span class="k">ref</span> <span class="n">S</span><span class="p">);</span>
                <span class="nf">DmsToDeg</span><span class="p">(</span><span class="n">cL1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">L1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">SN</span><span class="p">,</span> <span class="k">ref</span> <span class="n">D</span><span class="p">,</span> <span class="k">ref</span> <span class="n">AM</span><span class="p">,</span> <span class="k">ref</span> <span class="n">S</span><span class="p">);</span>
                <span class="n">B1</span> <span class="p">=</span> <span class="n">B1</span> <span class="p">*</span> <span class="n">DegToRad</span><span class="p">;</span>
                <span class="n">L1</span> <span class="p">=</span> <span class="n">L1</span> <span class="p">*</span> <span class="n">DegToRad</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="k">try</span>
            <span class="p">{</span>
                <span class="c1">// 赤道からの子午線長の計算</span>
                <span class="nf">MeridS</span><span class="p">(</span><span class="n">B1</span><span class="p">,</span> <span class="n">AEE</span><span class="p">,</span> <span class="n">AJ</span><span class="p">,</span> <span class="n">BJ</span><span class="p">,</span> <span class="n">CJ</span><span class="p">,</span> <span class="n">DJ</span><span class="p">,</span> <span class="n">EJ</span><span class="p">,</span> <span class="n">FJ</span><span class="p">,</span> <span class="n">GJ</span><span class="p">,</span> <span class="n">HJ</span><span class="p">,</span> <span class="n">IJ</span><span class="p">,</span> <span class="k">ref</span> <span class="n">S0</span><span class="p">);</span> <span class="c1">// 赤道から座標原点までの子午線弧長</span>
                <span class="n">M</span> <span class="p">=</span> <span class="n">S0</span> <span class="p">+</span> <span class="n">X</span> <span class="p">/</span> <span class="n">M0</span><span class="p">;</span>  <span class="c1">// 「精密測地網一次基準点測量計算式」P57中段</span>

                <span class="c1">// Baileyの式による異性緯度（isometric latitude）phi1の計算。</span>
                <span class="c1">// 「精密測地網一次基準点測量計算式」P57の11.(1)の式から。</span>
                <span class="c1">// この式と「現代測量学１ 測量の数学的基礎」P102の式とは，Math.Cos(phi1)だけ異なる。</span>
                <span class="c1">// この式を導入したためベッセル楕円体以外で往復計算OKとなった。</span>
                <span class="n">icountphi1</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
                <span class="n">phi1</span> <span class="p">=</span> <span class="n">B1</span><span class="p">;</span>
                <span class="k">do</span>
                <span class="p">{</span>
                    <span class="n">icountphi1</span> <span class="p">=</span> <span class="n">icountphi1</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span>
                    <span class="n">oldphi1</span> <span class="p">=</span> <span class="n">phi1</span><span class="p">;</span>
                    <span class="nf">MeridS</span><span class="p">(</span><span class="n">phi1</span><span class="p">,</span> <span class="n">AEE</span><span class="p">,</span> <span class="n">AJ</span><span class="p">,</span> <span class="n">BJ</span><span class="p">,</span> <span class="n">CJ</span><span class="p">,</span> <span class="n">DJ</span><span class="p">,</span> <span class="n">EJ</span><span class="p">,</span> <span class="n">FJ</span><span class="p">,</span> <span class="n">GJ</span><span class="p">,</span> <span class="n">HJ</span><span class="p">,</span> <span class="n">IJ</span><span class="p">,</span> <span class="k">ref</span> <span class="n">S1</span><span class="p">);</span>
                    <span class="n">Bunsi</span> <span class="p">=</span> <span class="m">2.0</span> <span class="p">*</span> <span class="p">(</span><span class="n">S1</span> <span class="p">-</span> <span class="n">M</span><span class="p">)</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">((</span><span class="m">1.0</span> <span class="p">-</span> <span class="n">EPs</span><span class="p">.</span><span class="n">Eccentricity</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span><span class="n">phi1</span><span class="p">)</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span><span class="n">phi1</span><span class="p">)),</span> <span class="m">1.5</span><span class="p">);</span>
                    <span class="n">Bunbo</span> <span class="p">=</span> <span class="m">3.0</span> <span class="p">*</span> <span class="n">EPs</span><span class="p">.</span><span class="n">Eccentricity</span> <span class="p">*</span> <span class="p">(</span><span class="n">S1</span> <span class="p">-</span> <span class="n">M</span><span class="p">)</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span><span class="n">phi1</span><span class="p">)</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Cos</span><span class="p">(</span><span class="n">phi1</span><span class="p">)</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sqrt</span><span class="p">(</span><span class="m">1.0</span> <span class="p">-</span> <span class="n">EPs</span><span class="p">.</span><span class="n">Eccentricity</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span><span class="n">phi1</span><span class="p">)</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span><span class="n">phi1</span><span class="p">))</span> <span class="p">-</span> <span class="m">2.0</span> <span class="p">*</span> <span class="n">EPs</span><span class="p">.</span><span class="n">Axix</span> <span class="p">*</span> <span class="p">(</span><span class="m">1.0</span> <span class="p">-</span> <span class="n">EPs</span><span class="p">.</span><span class="n">Eccentricity</span><span class="p">);</span>
                    <span class="n">phi1</span> <span class="p">=</span> <span class="n">phi1</span> <span class="p">+</span> <span class="n">Bunsi</span> <span class="p">/</span> <span class="n">Bunbo</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">while</span> <span class="p">(!((</span><span class="n">Math</span><span class="p">.</span><span class="nf">Abs</span><span class="p">(</span><span class="n">phi1</span> <span class="p">-</span> <span class="n">oldphi1</span><span class="p">)</span> <span class="p">&lt;</span> <span class="m">0.00000000000001</span><span class="p">)</span> <span class="p">||</span> <span class="p">(</span><span class="n">icountphi1</span> <span class="p">&gt;</span> <span class="m">100</span><span class="p">)));</span> <span class="c1">// 赤道から点までの子午線弧長</span>
                <span class="c1">// 本では1e-12で十分　iterationの回数は４回</span>

                <span class="c1">// 本計算</span>
                <span class="c1">// 何度も使う式を変数に代入</span>
                <span class="n">YM0</span> <span class="p">=</span> <span class="n">Y</span> <span class="p">/</span> <span class="n">M0</span><span class="p">;</span>
                <span class="n">T</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Tan</span><span class="p">(</span><span class="n">phi1</span><span class="p">);</span>  <span class="c1">// 「精密測地網一次基準点測量計算式」P51のt1に等しい</span>
                <span class="n">T2</span> <span class="p">=</span> <span class="n">T</span> <span class="p">*</span> <span class="n">T</span><span class="p">;</span> <span class="n">T4</span> <span class="p">=</span> <span class="n">T2</span> <span class="p">*</span> <span class="n">T2</span><span class="p">;</span> <span class="n">T6</span> <span class="p">=</span> <span class="n">T4</span> <span class="p">*</span> <span class="n">T2</span><span class="p">;</span>
                <span class="n">Eta2</span> <span class="p">=</span> <span class="n">Ep2</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Cos</span><span class="p">(</span><span class="n">phi1</span><span class="p">)</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Cos</span><span class="p">(</span><span class="n">phi1</span><span class="p">);</span>     <span class="c1">// =η1*η1</span>
                <span class="n">M1</span> <span class="p">=</span> <span class="n">CEE</span> <span class="p">/</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sqrt</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">((</span><span class="m">1.0</span> <span class="p">+</span> <span class="n">Eta2</span><span class="p">),</span> <span class="m">3.0</span><span class="p">));</span>
                <span class="n">N1</span> <span class="p">=</span> <span class="n">CEE</span> <span class="p">/</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sqrt</span><span class="p">(</span><span class="m">1.0</span> <span class="p">+</span> <span class="n">Eta2</span><span class="p">);</span>
                <span class="n">N1CosPhi1</span> <span class="p">=</span> <span class="n">N1</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Cos</span><span class="p">(</span><span class="n">phi1</span><span class="p">);</span>

                <span class="c1">// 緯度Bの計算 「精密測地網一次基準点測量計算式」P51のphiを求める式より</span>
                <span class="n">B</span> <span class="p">=</span> <span class="p">((</span><span class="m">1385.0</span> <span class="p">+</span> <span class="m">3633.0</span> <span class="p">*</span> <span class="n">T2</span> <span class="p">+</span> <span class="m">4095</span> <span class="p">*</span> <span class="n">T4</span> <span class="p">+</span> <span class="m">1575.0</span> <span class="p">*</span> <span class="n">T6</span><span class="p">)</span> <span class="p">/</span> <span class="p">(</span><span class="m">40320.0</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">N1</span><span class="p">,</span> <span class="m">8.0</span><span class="p">)))</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">YM0</span><span class="p">,</span> <span class="m">8.0</span><span class="p">);</span>
                <span class="n">B</span> <span class="p">=</span> <span class="n">B</span> <span class="p">-</span> <span class="p">((</span><span class="m">61.0</span> <span class="p">+</span> <span class="m">90.0</span> <span class="p">*</span> <span class="n">T2</span> <span class="p">+</span> <span class="m">45</span> <span class="p">*</span> <span class="n">T4</span> <span class="p">+</span> <span class="m">107.0</span> <span class="p">*</span> <span class="n">Eta2</span> <span class="p">-</span> <span class="m">162.0</span> <span class="p">*</span> <span class="n">T2</span> <span class="p">*</span> <span class="n">Eta2</span> <span class="p">-</span> <span class="m">45.0</span> <span class="p">*</span> <span class="n">T4</span> <span class="p">*</span> <span class="n">Eta2</span><span class="p">)</span> <span class="p">/</span> <span class="p">(</span><span class="m">720.0</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">N1</span><span class="p">,</span> <span class="m">6.0</span><span class="p">)))</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">YM0</span><span class="p">,</span> <span class="m">6.0</span><span class="p">);</span>
                <span class="n">B</span> <span class="p">=</span> <span class="n">B</span> <span class="p">+</span> <span class="p">((</span><span class="m">5.0</span> <span class="p">+</span> <span class="m">3.0</span> <span class="p">*</span> <span class="n">T2</span> <span class="p">+</span> <span class="m">6.0</span> <span class="p">*</span> <span class="n">Eta2</span> <span class="p">-</span> <span class="m">6.0</span> <span class="p">*</span> <span class="n">T2</span> <span class="p">*</span> <span class="n">Eta2</span> <span class="p">-</span> <span class="m">3.0</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">Eta2</span><span class="p">,</span> <span class="m">2</span><span class="p">)</span> <span class="p">-</span> <span class="m">9.0</span> <span class="p">*</span> <span class="n">T2</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">Eta2</span><span class="p">,</span> <span class="m">2</span><span class="p">))</span> <span class="p">/</span> <span class="p">(</span><span class="m">24.0</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">N1</span><span class="p">,</span> <span class="m">4.0</span><span class="p">)))</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">YM0</span><span class="p">,</span> <span class="m">4.0</span><span class="p">);</span>
                <span class="n">B</span> <span class="p">=</span> <span class="n">B</span> <span class="p">-</span> <span class="p">((</span><span class="m">1.0</span> <span class="p">+</span> <span class="n">Eta2</span><span class="p">)</span> <span class="p">/</span> <span class="p">(</span><span class="m">2.0</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">N1</span><span class="p">,</span> <span class="m">2.0</span><span class="p">)))</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">YM0</span><span class="p">,</span> <span class="m">2.0</span><span class="p">);</span>
                <span class="n">B</span> <span class="p">=</span> <span class="n">B</span> <span class="p">*</span> <span class="n">T</span><span class="p">;</span>
                <span class="n">B</span> <span class="p">=</span> <span class="n">B</span> <span class="p">+</span> <span class="n">phi1</span><span class="p">;</span>

                <span class="c1">// 経度Lの計算 「精密測地網一次基準点測量計算式」P51のΔλを求める式より</span>
                <span class="n">L</span> <span class="p">=</span> <span class="p">-((</span><span class="m">61.0</span> <span class="p">+</span> <span class="m">662.0</span> <span class="p">*</span> <span class="n">T2</span> <span class="p">+</span> <span class="m">1320.0</span> <span class="p">*</span> <span class="n">T4</span> <span class="p">+</span> <span class="m">720.0</span> <span class="p">*</span> <span class="n">T6</span><span class="p">)</span> <span class="p">/</span> <span class="p">(</span><span class="m">5040.0</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">N1</span><span class="p">,</span> <span class="m">6.0</span><span class="p">)</span> <span class="p">*</span> <span class="n">N1CosPhi1</span><span class="p">))</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">YM0</span><span class="p">,</span> <span class="m">7.0</span><span class="p">);</span>
                <span class="n">L</span> <span class="p">=</span> <span class="n">L</span> <span class="p">+</span> <span class="p">((</span><span class="m">5.0</span> <span class="p">+</span> <span class="m">28.0</span> <span class="p">*</span> <span class="n">T2</span> <span class="p">+</span> <span class="m">24.0</span> <span class="p">*</span> <span class="n">T4</span> <span class="p">+</span> <span class="m">6.0</span> <span class="p">*</span> <span class="n">Eta2</span> <span class="p">+</span> <span class="m">8.0</span> <span class="p">*</span> <span class="n">T2</span> <span class="p">*</span> <span class="n">Eta2</span><span class="p">)</span> <span class="p">/</span> <span class="p">(</span><span class="m">120.0</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">N1</span><span class="p">,</span> <span class="m">4.0</span><span class="p">)</span> <span class="p">*</span> <span class="n">N1CosPhi1</span><span class="p">))</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">YM0</span><span class="p">,</span> <span class="m">5.0</span><span class="p">);</span>
                <span class="n">L</span> <span class="p">=</span> <span class="n">L</span> <span class="p">-</span> <span class="p">((</span><span class="m">1.0</span> <span class="p">+</span> <span class="m">2.0</span> <span class="p">*</span> <span class="n">T2</span> <span class="p">+</span> <span class="n">Eta2</span><span class="p">)</span> <span class="p">/</span> <span class="p">(</span><span class="m">6.0</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">N1</span><span class="p">,</span> <span class="m">2.0</span><span class="p">)</span> <span class="p">*</span> <span class="n">N1CosPhi1</span><span class="p">))</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">YM0</span><span class="p">,</span> <span class="m">3.0</span><span class="p">);</span>
                <span class="n">L</span> <span class="p">=</span> <span class="n">L</span> <span class="p">+</span> <span class="p">(</span><span class="m">1.0</span> <span class="p">/</span> <span class="n">N1CosPhi1</span><span class="p">)</span> <span class="p">*</span> <span class="n">YM0</span><span class="p">;</span>
                <span class="n">L</span> <span class="p">=</span> <span class="n">L</span> <span class="p">+</span> <span class="n">L1</span><span class="p">;</span>

                <span class="c1">// 縮尺係数と真北方向角の計算はファイル処理では不要</span>

                <span class="c1">// 出力</span>
                <span class="n">Bout</span> <span class="p">=</span> <span class="n">B</span> <span class="p">*</span> <span class="n">RadToDeg</span><span class="p">;</span>
                <span class="n">Lout</span> <span class="p">=</span> <span class="n">L</span> <span class="p">*</span> <span class="n">RadToDeg</span><span class="p">;</span>
                <span class="k">return</span><span class="p">;</span>                                <span class="c1">// エラー処理ルーチンが実行されないように Sub を終了します。</span>

            <span class="p">}</span>
            <span class="k">catch</span><span class="p">(</span><span class="n">OverflowException</span> <span class="n">oe</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">CommonUtils</span><span class="p">.</span><span class="nf">LogWrite</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="n">ConstString</span><span class="p">.</span><span class="n">Error</span><span class="p">.</span><span class="n">FailedXY</span><span class="p">,</span> <span class="n">MethodBase</span><span class="p">.</span><span class="nf">GetCurrentMethod</span><span class="p">().</span><span class="n">Name</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span><span class="n">L</span><span class="p">));</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">e</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">CommonUtils</span><span class="p">.</span><span class="nf">LogWrite</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="n">ConstString</span><span class="p">.</span><span class="n">Error</span><span class="p">.</span><span class="n">FailedXY</span><span class="p">,</span> <span class="n">MethodBase</span><span class="p">.</span><span class="nf">GetCurrentMethod</span><span class="p">().</span><span class="n">Name</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">L</span><span class="p">));</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// 平面直角座標X,Yを緯度,経度に換算します。</span>
        <span class="c1">/// 「精密測地網一次基準点測量計算式」を導入し多くの項を採用。</span>
        <span class="c1">/// NAD83 Datum Sheet Dataのアラスカの点で往復計算の経度差が0.00156秒あったのを0.00000秒にした。</span>
        <span class="c1">/// この計算は変換の第1段階なので緯度経度入力値のﾁｪｯｸが必要</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="ellipSuffix"&gt;楕円体配列の添え字：0=Bessel楕円体=日本測地系, 1=GRS80楕円体=世界測地系&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="inLat"&gt;入力緯度&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="inLon"&gt;入力経度&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="inX"&gt;入力X&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="inY"&gt;入力Y&lt;/param&gt;</span>
        <span class="k">private</span> <span class="k">void</span> <span class="nf">CalcXYToBL</span><span class="p">(</span><span class="kt">int</span> <span class="n">ellipSuffix</span><span class="p">,</span> <span class="kt">double</span> <span class="n">inLat</span><span class="p">,</span> <span class="kt">double</span> <span class="n">inLon</span><span class="p">,</span> <span class="kt">double</span> <span class="n">inX</span><span class="p">,</span> <span class="kt">double</span> <span class="n">inY</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">double</span> <span class="n">X</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>       <span class="c1">// 平面直角座標。入力値。meter</span>
            <span class="kt">double</span> <span class="n">Y</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>       <span class="c1">// 平面直角座標。入力値。meter</span>
            <span class="kt">double</span> <span class="n">cB1</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>   <span class="c1">// 原点の緯度，経度。c = combo box</span>
            <span class="kt">double</span> <span class="n">cL1</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>   <span class="c1">// 原点の緯度，経度。c = combo box</span>
            <span class="kt">double</span> <span class="n">betaOrigin</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>     <span class="c1">// 原点の緯度，経度。基本的にradian</span>
            <span class="kt">double</span> <span class="n">lambdaOrigin</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>     <span class="c1">// 原点の緯度，経度。基本的にradian</span>
            <span class="kt">double</span> <span class="n">beta</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>       <span class="c1">// 求める緯度，経度。基本的にradian</span>
            <span class="kt">double</span> <span class="n">lambda</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>       <span class="c1">// 求める緯度，経度。基本的にradian</span>
            <span class="kt">double</span> <span class="n">gamma</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>                <span class="c1">// =γ 子午線収差角。radian</span>

            <span class="kt">int</span> <span class="n">degree</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">minute</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">second</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">sign</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="kt">string</span> <span class="n">signString</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>

            <span class="kt">double</span> <span class="n">S0</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>                   <span class="c1">// 赤道から座標原点までの子午線弧長</span>
            <span class="kt">double</span> <span class="n">M</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">T4</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">T6</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">S1</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">phi1</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">oldphi1</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">icount</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">Bunsi</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">Bunbo</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>

            <span class="n">EllipParam</span> <span class="n">EPs</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">EllipParam</span><span class="p">();</span>

            <span class="c1">//出力系</span>
            <span class="kt">string</span> <span class="n">outX</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
            <span class="kt">string</span> <span class="n">outY</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
            <span class="kt">string</span> <span class="n">outLat</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
            <span class="kt">string</span> <span class="n">outLon</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
            <span class="kt">string</span> <span class="n">outDeg</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
            <span class="kt">string</span> <span class="n">outParam</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>

            <span class="c1">// 基準子午線の縮尺係数</span>
            <span class="kt">double</span> <span class="n">M0</span> <span class="p">=</span> <span class="m">0.9999</span><span class="p">;</span>

            <span class="c1">// 楕円体ﾊﾟﾗﾒｰﾀの代入</span>
            <span class="n">EPs</span><span class="p">.</span><span class="n">Axix</span> <span class="p">=</span> <span class="n">ellipObj</span><span class="p">[</span><span class="n">ellipSuffix</span><span class="p">].</span><span class="n">Axix</span><span class="p">;</span>
            <span class="n">EPs</span><span class="p">.</span><span class="n">Flattening1</span> <span class="p">=</span> <span class="n">ellipObj</span><span class="p">[</span><span class="n">ellipSuffix</span><span class="p">].</span><span class="n">Flattening1</span><span class="p">;</span>
            <span class="n">EPs</span><span class="p">.</span><span class="n">Flattening</span> <span class="p">=</span> <span class="n">ellipObj</span><span class="p">[</span><span class="n">ellipSuffix</span><span class="p">].</span><span class="n">Flattening</span><span class="p">;</span>
            <span class="n">EPs</span><span class="p">.</span><span class="n">Eccentricity</span> <span class="p">=</span> <span class="n">ellipObj</span><span class="p">[</span><span class="n">ellipSuffix</span><span class="p">].</span><span class="n">Eccentricity</span><span class="p">;</span>
            <span class="n">EPs</span><span class="p">.</span><span class="n">Namec</span> <span class="p">=</span> <span class="n">ellipObj</span><span class="p">[</span><span class="n">ellipSuffix</span><span class="p">].</span><span class="n">Namec</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">e2</span> <span class="p">=</span> <span class="n">EPs</span><span class="p">.</span><span class="n">Eccentricity</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">e4</span> <span class="p">=</span> <span class="n">e2</span> <span class="p">*</span> <span class="n">e2</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">e6</span> <span class="p">=</span> <span class="n">e4</span> <span class="p">*</span> <span class="n">e2</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">e8</span> <span class="p">=</span> <span class="n">e4</span> <span class="p">*</span> <span class="n">e4</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">e10</span> <span class="p">=</span> <span class="n">e8</span> <span class="p">*</span> <span class="n">e2</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">e12</span> <span class="p">=</span> <span class="n">e8</span> <span class="p">*</span> <span class="n">e4</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">e14</span> <span class="p">=</span> <span class="n">e8</span> <span class="p">*</span> <span class="n">e6</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">e16</span> <span class="p">=</span> <span class="n">e8</span> <span class="p">*</span> <span class="n">e8</span><span class="p">;</span>

            <span class="c1">// 定数項 the same as bl2xy</span>
            <span class="kt">double</span> <span class="n">AEE</span> <span class="p">=</span> <span class="n">EPs</span><span class="p">.</span><span class="n">Axix</span> <span class="p">*</span> <span class="p">(</span><span class="m">1.0</span> <span class="p">-</span> <span class="n">EPs</span><span class="p">.</span><span class="n">Eccentricity</span><span class="p">);</span>      <span class="c1">// a(1-e2)</span>
            <span class="kt">double</span> <span class="n">CEE</span> <span class="p">=</span> <span class="n">EPs</span><span class="p">.</span><span class="n">Axix</span> <span class="p">/</span> <span class="p">(</span><span class="kt">double</span><span class="p">)</span><span class="n">Math</span><span class="p">.</span><span class="nf">Sqrt</span><span class="p">(</span><span class="m">1.0</span> <span class="p">-</span> <span class="n">EPs</span><span class="p">.</span><span class="n">Eccentricity</span><span class="p">);</span>   <span class="c1">// C=a*Math.Sqrt(1+e'2)=a/Math.Sqrt(1-e2)</span>
            <span class="kt">double</span> <span class="n">Ep2</span> <span class="p">=</span> <span class="n">EPs</span><span class="p">.</span><span class="n">Eccentricity</span> <span class="p">/</span> <span class="p">(</span><span class="kt">double</span><span class="p">)(</span><span class="m">1.0</span> <span class="p">-</span> <span class="n">EPs</span><span class="p">.</span><span class="n">Eccentricity</span><span class="p">);</span>      <span class="c1">// e'2 (e prime 2) Eta2を計算するため</span>

            <span class="c1">// 「緯度を与えて赤道からの子午線弧長を求める計算」のための９つの係数を求める。</span>
            <span class="c1">// 「精密測地網一次基準点測量計算式」P55,P56より。係数チェック済み1999/10/19。</span>
            <span class="kt">double</span> <span class="n">AJ</span> <span class="p">=</span> <span class="m">4927697775.0</span> <span class="p">/</span> <span class="m">7516192768.0</span> <span class="p">*</span> <span class="n">e16</span><span class="p">;</span>
            <span class="n">AJ</span> <span class="p">=</span> <span class="n">AJ</span> <span class="p">+</span> <span class="m">19324305.0</span> <span class="p">/</span> <span class="m">29360128.0</span> <span class="p">*</span> <span class="n">e14</span><span class="p">;</span>
            <span class="n">AJ</span> <span class="p">=</span> <span class="n">AJ</span> <span class="p">+</span> <span class="m">693693.0</span> <span class="p">/</span> <span class="m">1048576.0</span> <span class="p">*</span> <span class="n">e12</span><span class="p">;</span>
            <span class="n">AJ</span> <span class="p">=</span> <span class="n">AJ</span> <span class="p">+</span> <span class="m">43659.0</span> <span class="p">/</span> <span class="m">65536.0</span> <span class="p">*</span> <span class="n">e10</span><span class="p">;</span>
            <span class="n">AJ</span> <span class="p">=</span> <span class="n">AJ</span> <span class="p">+</span> <span class="m">11025.0</span> <span class="p">/</span> <span class="m">16384.0</span> <span class="p">*</span> <span class="n">e8</span><span class="p">;</span>
            <span class="n">AJ</span> <span class="p">=</span> <span class="n">AJ</span> <span class="p">+</span> <span class="m">175.0</span> <span class="p">/</span> <span class="m">256.0</span> <span class="p">*</span> <span class="n">e6</span><span class="p">;</span>
            <span class="n">AJ</span> <span class="p">=</span> <span class="n">AJ</span> <span class="p">+</span> <span class="m">45.0</span> <span class="p">/</span> <span class="m">64.0</span> <span class="p">*</span> <span class="n">e4</span><span class="p">;</span>
            <span class="n">AJ</span> <span class="p">=</span> <span class="n">AJ</span> <span class="p">+</span> <span class="m">3.0</span> <span class="p">/</span> <span class="m">4.0</span> <span class="p">*</span> <span class="n">e2</span><span class="p">;</span>
            <span class="n">AJ</span> <span class="p">=</span> <span class="n">AJ</span> <span class="p">+</span> <span class="m">1.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">BJ</span> <span class="p">=</span> <span class="m">547521975.0</span> <span class="p">/</span> <span class="m">469762048.0</span> <span class="p">*</span> <span class="n">e16</span><span class="p">;</span>
            <span class="n">BJ</span> <span class="p">=</span> <span class="n">BJ</span> <span class="p">+</span> <span class="m">135270135.0</span> <span class="p">/</span> <span class="m">117440512.0</span> <span class="p">*</span> <span class="n">e14</span><span class="p">;</span>
            <span class="n">BJ</span> <span class="p">=</span> <span class="n">BJ</span> <span class="p">+</span> <span class="m">297297.0</span> <span class="p">/</span> <span class="m">262144.0</span> <span class="p">*</span> <span class="n">e12</span><span class="p">;</span>
            <span class="n">BJ</span> <span class="p">=</span> <span class="n">BJ</span> <span class="p">+</span> <span class="m">72765.0</span> <span class="p">/</span> <span class="m">65536.0</span> <span class="p">*</span> <span class="n">e10</span><span class="p">;</span>
            <span class="n">BJ</span> <span class="p">=</span> <span class="n">BJ</span> <span class="p">+</span> <span class="m">2205.0</span> <span class="p">/</span> <span class="m">2048.0</span> <span class="p">*</span> <span class="n">e8</span><span class="p">;</span>
            <span class="n">BJ</span> <span class="p">=</span> <span class="n">BJ</span> <span class="p">+</span> <span class="m">525.0</span> <span class="p">/</span> <span class="m">512.0</span> <span class="p">*</span> <span class="n">e6</span><span class="p">;</span>
            <span class="n">BJ</span> <span class="p">=</span> <span class="n">BJ</span> <span class="p">+</span> <span class="m">15.0</span> <span class="p">/</span> <span class="m">16.0</span> <span class="p">*</span> <span class="n">e4</span><span class="p">;</span>
            <span class="n">BJ</span> <span class="p">=</span> <span class="n">BJ</span> <span class="p">+</span> <span class="m">3.0</span> <span class="p">/</span> <span class="m">4.0</span> <span class="p">*</span> <span class="n">e2</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">CJ</span> <span class="p">=</span> <span class="m">766530765.0</span> <span class="p">/</span> <span class="m">939524096.0</span> <span class="p">*</span> <span class="n">e16</span><span class="p">;</span>
            <span class="c1">// CJ = CJ + 45090045.0 / 5870256.0 * e14 精密測地網一次基準点測量作業規定の誤りによるバグ</span>
            <span class="n">CJ</span> <span class="p">=</span> <span class="n">CJ</span> <span class="p">+</span> <span class="m">45090045.0</span> <span class="p">/</span> <span class="m">58720256.0</span> <span class="p">*</span> <span class="n">e14</span><span class="p">;</span>
            <span class="n">CJ</span> <span class="p">=</span> <span class="n">CJ</span> <span class="p">+</span> <span class="m">1486485.0</span> <span class="p">/</span> <span class="m">2097152.0</span> <span class="p">*</span> <span class="n">e12</span><span class="p">;</span>
            <span class="n">CJ</span> <span class="p">=</span> <span class="n">CJ</span> <span class="p">+</span> <span class="m">10395.0</span> <span class="p">/</span> <span class="m">16384.0</span> <span class="p">*</span> <span class="n">e10</span><span class="p">;</span>
            <span class="n">CJ</span> <span class="p">=</span> <span class="n">CJ</span> <span class="p">+</span> <span class="m">2205.0</span> <span class="p">/</span> <span class="m">4096.0</span> <span class="p">*</span> <span class="n">e8</span><span class="p">;</span>
            <span class="n">CJ</span> <span class="p">=</span> <span class="n">CJ</span> <span class="p">+</span> <span class="m">105.0</span> <span class="p">/</span> <span class="m">256.0</span> <span class="p">*</span> <span class="n">e6</span><span class="p">;</span>
            <span class="n">CJ</span> <span class="p">=</span> <span class="n">CJ</span> <span class="p">+</span> <span class="m">15.0</span> <span class="p">/</span> <span class="m">64.0</span> <span class="p">*</span> <span class="n">e4</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">DJ</span> <span class="p">=</span> <span class="m">209053845.0</span> <span class="p">/</span> <span class="m">469762048.0</span> <span class="p">*</span> <span class="n">e16</span><span class="p">;</span>
            <span class="n">DJ</span> <span class="p">=</span> <span class="n">DJ</span> <span class="p">+</span> <span class="m">45090045.0</span> <span class="p">/</span> <span class="m">117440512.0</span> <span class="p">*</span> <span class="n">e14</span><span class="p">;</span>
            <span class="n">DJ</span> <span class="p">=</span> <span class="n">DJ</span> <span class="p">+</span> <span class="m">165165.0</span> <span class="p">/</span> <span class="m">524288.0</span> <span class="p">*</span> <span class="n">e12</span><span class="p">;</span>
            <span class="n">DJ</span> <span class="p">=</span> <span class="n">DJ</span> <span class="p">+</span> <span class="m">31185.0</span> <span class="p">/</span> <span class="m">131072.0</span> <span class="p">*</span> <span class="n">e10</span><span class="p">;</span>
            <span class="n">DJ</span> <span class="p">=</span> <span class="n">DJ</span> <span class="p">+</span> <span class="m">315.0</span> <span class="p">/</span> <span class="m">2048.0</span> <span class="p">*</span> <span class="n">e8</span><span class="p">;</span>
            <span class="n">DJ</span> <span class="p">=</span> <span class="n">DJ</span> <span class="p">+</span> <span class="m">35.0</span> <span class="p">/</span> <span class="m">512.0</span> <span class="p">*</span> <span class="n">e6</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">EJ</span> <span class="p">=</span> <span class="m">348423075.0</span> <span class="p">/</span> <span class="m">1879048192.0</span> <span class="p">*</span> <span class="n">e16</span><span class="p">;</span>
            <span class="n">EJ</span> <span class="p">=</span> <span class="n">EJ</span> <span class="p">+</span> <span class="m">4099095.0</span> <span class="p">/</span> <span class="m">29360128.0</span> <span class="p">*</span> <span class="n">e14</span><span class="p">;</span>
            <span class="n">EJ</span> <span class="p">=</span> <span class="n">EJ</span> <span class="p">+</span> <span class="m">99099.0</span> <span class="p">/</span> <span class="m">1048576.0</span> <span class="p">*</span> <span class="n">e12</span><span class="p">;</span>
            <span class="n">EJ</span> <span class="p">=</span> <span class="n">EJ</span> <span class="p">+</span> <span class="m">3465.0</span> <span class="p">/</span> <span class="m">65536.0</span> <span class="p">*</span> <span class="n">e10</span><span class="p">;</span>
            <span class="n">EJ</span> <span class="p">=</span> <span class="n">EJ</span> <span class="p">+</span> <span class="m">315.0</span> <span class="p">/</span> <span class="m">16384.0</span> <span class="p">*</span> <span class="n">e8</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">FJ</span> <span class="p">=</span> <span class="m">26801775.0</span> <span class="p">/</span> <span class="m">469762048.0</span> <span class="p">*</span> <span class="n">e16</span><span class="p">;</span>
            <span class="n">FJ</span> <span class="p">=</span> <span class="n">FJ</span> <span class="p">+</span> <span class="m">4099095.0</span> <span class="p">/</span> <span class="m">117440512.0</span> <span class="p">*</span> <span class="n">e14</span><span class="p">;</span>
            <span class="n">FJ</span> <span class="p">=</span> <span class="n">FJ</span> <span class="p">+</span> <span class="m">9009.0</span> <span class="p">/</span> <span class="m">524288.0</span> <span class="p">*</span> <span class="n">e12</span><span class="p">;</span>
            <span class="n">FJ</span> <span class="p">=</span> <span class="n">FJ</span> <span class="p">+</span> <span class="m">693.0</span> <span class="p">/</span> <span class="m">131072.0</span> <span class="p">*</span> <span class="n">e10</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">GJ</span> <span class="p">=</span> <span class="m">11486475.0</span> <span class="p">/</span> <span class="m">939524096.0</span> <span class="p">*</span> <span class="n">e16</span><span class="p">;</span>
            <span class="n">GJ</span> <span class="p">=</span> <span class="n">GJ</span> <span class="p">+</span> <span class="m">315315.0</span> <span class="p">/</span> <span class="m">58720256.0</span> <span class="p">*</span> <span class="n">e14</span><span class="p">;</span>
            <span class="n">GJ</span> <span class="p">=</span> <span class="n">GJ</span> <span class="p">+</span> <span class="m">3003.0</span> <span class="p">/</span> <span class="m">2097152.0</span> <span class="p">*</span> <span class="n">e12</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">HJ</span> <span class="p">=</span> <span class="m">765765.0</span> <span class="p">/</span> <span class="m">469762048.0</span> <span class="p">*</span> <span class="n">e16</span><span class="p">;</span>
            <span class="n">HJ</span> <span class="p">=</span> <span class="n">HJ</span> <span class="p">+</span> <span class="m">45045.0</span> <span class="p">/</span> <span class="m">117440512.0</span> <span class="p">*</span> <span class="n">e14</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">IJ</span> <span class="p">=</span> <span class="m">765765.0</span> <span class="p">/</span> <span class="m">7516192768.0</span> <span class="p">*</span> <span class="n">e16</span><span class="p">;</span>

            <span class="c1">// 座標系番号，緯度，経度の読みとり</span>
            <span class="n">cB1</span> <span class="p">=</span> <span class="n">inX</span><span class="p">;</span>  <span class="c1">// 原点緯度</span>
            <span class="n">cL1</span> <span class="p">=</span> <span class="n">inY</span><span class="p">;</span> <span class="c1">// 原点経度</span>
            <span class="nf">DmsToDeg</span><span class="p">(</span><span class="n">cB1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">betaOrigin</span><span class="p">,</span> <span class="k">ref</span> <span class="n">sign</span><span class="p">,</span> <span class="k">ref</span> <span class="n">degree</span><span class="p">,</span> <span class="k">ref</span> <span class="n">minute</span><span class="p">,</span> <span class="k">ref</span> <span class="n">second</span><span class="p">);</span>
            <span class="nf">DmsToDeg</span><span class="p">(</span><span class="n">cL1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">lambdaOrigin</span><span class="p">,</span> <span class="k">ref</span> <span class="n">sign</span><span class="p">,</span> <span class="k">ref</span> <span class="n">degree</span><span class="p">,</span> <span class="k">ref</span> <span class="n">minute</span><span class="p">,</span> <span class="k">ref</span> <span class="n">second</span><span class="p">);</span>
            <span class="n">betaOrigin</span> <span class="p">=</span> <span class="n">betaOrigin</span> <span class="p">*</span> <span class="n">DegToRad</span><span class="p">;</span>
            <span class="n">lambdaOrigin</span> <span class="p">=</span> <span class="n">lambdaOrigin</span> <span class="p">*</span> <span class="n">DegToRad</span><span class="p">;</span>

            <span class="k">try</span>
            <span class="p">{</span>
                <span class="c1">// X,Yの入力</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">ellipSuffix</span> <span class="p">==</span> <span class="m">1</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="n">X</span> <span class="p">=</span> <span class="n">inLat</span><span class="p">;</span>
                    <span class="n">Y</span> <span class="p">=</span> <span class="n">inLon</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">else</span>
                <span class="p">{</span>
                    <span class="n">X</span> <span class="p">=</span> <span class="n">inLat</span><span class="p">;</span>
                    <span class="n">Y</span> <span class="p">=</span> <span class="n">inLon</span><span class="p">;</span>
                <span class="p">}</span>

                <span class="c1">// 赤道からの子午線長の計算</span>
                <span class="nf">MeridS</span><span class="p">(</span><span class="n">betaOrigin</span><span class="p">,</span> <span class="n">AEE</span><span class="p">,</span> <span class="n">AJ</span><span class="p">,</span> <span class="n">BJ</span><span class="p">,</span> <span class="n">CJ</span><span class="p">,</span> <span class="n">DJ</span><span class="p">,</span> <span class="n">EJ</span><span class="p">,</span> <span class="n">FJ</span><span class="p">,</span> <span class="n">GJ</span><span class="p">,</span> <span class="n">HJ</span><span class="p">,</span> <span class="n">IJ</span><span class="p">,</span> <span class="k">ref</span> <span class="n">S0</span><span class="p">);</span> <span class="c1">// 赤道から座標原点までの子午線弧長</span>
                <span class="n">M</span> <span class="p">=</span> <span class="n">S0</span> <span class="p">+</span> <span class="n">X</span> <span class="p">/</span> <span class="n">M0</span><span class="p">;</span>

                <span class="c1">// Baileyの式による異性緯度（isometric latitude）phi1の計算。</span>
                <span class="c1">// 「精密測地網一次基準点測量計算式」P57の11.(1)の式から。</span>
                <span class="c1">// この式と「現代測量学１ 測量の数学的基礎」P102の式とは，Math.Cos(phi1)だけ異なる。</span>
                <span class="c1">// この式を導入したためベッセル楕円体以外で往復計算OKとなった。</span>
                <span class="n">icount</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
                <span class="n">phi1</span> <span class="p">=</span> <span class="n">betaOrigin</span><span class="p">;</span>
                <span class="k">do</span>
                <span class="p">{</span>
                    <span class="n">icount</span> <span class="p">=</span> <span class="n">icount</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span>
                    <span class="n">oldphi1</span> <span class="p">=</span> <span class="n">phi1</span><span class="p">;</span>
                    <span class="nf">MeridS</span><span class="p">(</span><span class="n">phi1</span><span class="p">,</span> <span class="n">AEE</span><span class="p">,</span> <span class="n">AJ</span><span class="p">,</span> <span class="n">BJ</span><span class="p">,</span> <span class="n">CJ</span><span class="p">,</span> <span class="n">DJ</span><span class="p">,</span> <span class="n">EJ</span><span class="p">,</span> <span class="n">FJ</span><span class="p">,</span> <span class="n">GJ</span><span class="p">,</span> <span class="n">HJ</span><span class="p">,</span> <span class="n">IJ</span><span class="p">,</span> <span class="k">ref</span> <span class="n">S1</span><span class="p">);</span>
                    <span class="n">Bunsi</span> <span class="p">=</span> <span class="m">2.0</span> <span class="p">*</span> <span class="p">(</span><span class="n">S1</span> <span class="p">-</span> <span class="n">M</span><span class="p">)</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">((</span><span class="m">1.0</span> <span class="p">-</span> <span class="n">EPs</span><span class="p">.</span><span class="n">Eccentricity</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span><span class="n">phi1</span><span class="p">)</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span><span class="n">phi1</span><span class="p">)),</span> <span class="m">1.5</span><span class="p">);</span>
                    <span class="n">Bunbo</span> <span class="p">=</span> <span class="m">3.0</span> <span class="p">*</span> <span class="n">EPs</span><span class="p">.</span><span class="n">Eccentricity</span> <span class="p">*</span> <span class="p">(</span><span class="n">S1</span> <span class="p">-</span> <span class="n">M</span><span class="p">)</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span><span class="n">phi1</span><span class="p">)</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Cos</span><span class="p">(</span><span class="n">phi1</span><span class="p">)</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sqrt</span><span class="p">(</span><span class="m">1.0</span> <span class="p">-</span> <span class="n">EPs</span><span class="p">.</span><span class="n">Eccentricity</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span><span class="n">phi1</span><span class="p">)</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span><span class="n">phi1</span><span class="p">))</span> <span class="p">-</span> <span class="m">2.0</span> <span class="p">*</span> <span class="n">EPs</span><span class="p">.</span><span class="n">Axix</span> <span class="p">*</span> <span class="p">(</span><span class="m">1.0</span> <span class="p">-</span> <span class="n">EPs</span><span class="p">.</span><span class="n">Eccentricity</span><span class="p">);</span>
                    <span class="n">phi1</span> <span class="p">=</span> <span class="n">phi1</span> <span class="p">+</span> <span class="n">Bunsi</span> <span class="p">/</span> <span class="n">Bunbo</span><span class="p">;</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">icount</span> <span class="p">&gt;</span> <span class="m">100</span><span class="p">)</span>
                        <span class="n">MessageBox</span><span class="p">.</span><span class="nf">Show</span><span class="p">(</span><span class="s">"異性緯度を求めるのに収束しません。"</span><span class="p">,</span> <span class="n">Application</span><span class="p">.</span><span class="n">ProductName</span><span class="p">,</span> <span class="n">MessageBoxButtons</span><span class="p">.</span><span class="n">OK</span><span class="p">,</span> <span class="n">MessageBoxIcon</span><span class="p">.</span><span class="n">Error</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="k">while</span> <span class="p">(!((</span><span class="n">Math</span><span class="p">.</span><span class="nf">Abs</span><span class="p">(</span><span class="n">phi1</span> <span class="p">-</span> <span class="n">oldphi1</span><span class="p">)</span> <span class="p">&lt;</span> <span class="m">0.00000000000001</span><span class="p">)</span> <span class="p">||</span> <span class="p">(</span><span class="n">icount</span> <span class="p">&gt;</span> <span class="m">100</span><span class="p">)));</span> <span class="c1">// 赤道から点までの子午線弧長</span>
                <span class="c1">// 本では1e-12で十分　iterationの回数は４回</span>

                <span class="c1">// 何度も使う式を変数に代入</span>
                <span class="kt">double</span> <span class="n">YM0</span> <span class="p">=</span> <span class="n">Y</span> <span class="p">/</span> <span class="n">M0</span><span class="p">;</span>
                <span class="kt">double</span> <span class="n">T</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Tan</span><span class="p">(</span><span class="n">phi1</span><span class="p">);</span>  <span class="c1">// 「精密測地網一次基準点測量計算式」P51のt1に等しい</span>
                <span class="kt">double</span> <span class="n">T2</span> <span class="p">=</span> <span class="n">T</span> <span class="p">*</span> <span class="n">T</span><span class="p">;</span> <span class="n">T4</span> <span class="p">=</span> <span class="n">T2</span> <span class="p">*</span> <span class="n">T2</span><span class="p">;</span> <span class="n">T6</span> <span class="p">=</span> <span class="n">T4</span> <span class="p">*</span> <span class="n">T2</span><span class="p">;</span>
                <span class="kt">double</span> <span class="n">Eta2</span> <span class="p">=</span> <span class="n">Ep2</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Cos</span><span class="p">(</span><span class="n">phi1</span><span class="p">)</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Cos</span><span class="p">(</span><span class="n">phi1</span><span class="p">);</span>     <span class="c1">// =η1*η1</span>
                <span class="kt">double</span> <span class="n">M1</span> <span class="p">=</span> <span class="n">CEE</span> <span class="p">/</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sqrt</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">((</span><span class="m">1.0</span> <span class="p">+</span> <span class="n">Eta2</span><span class="p">),</span> <span class="m">3.0</span><span class="p">));</span>
                <span class="kt">double</span> <span class="n">N1</span> <span class="p">=</span> <span class="n">CEE</span> <span class="p">/</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sqrt</span><span class="p">(</span><span class="m">1.0</span> <span class="p">+</span> <span class="n">Eta2</span><span class="p">);</span>
                <span class="kt">double</span> <span class="n">N1CosPhi1</span> <span class="p">=</span> <span class="n">N1</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Cos</span><span class="p">(</span><span class="n">phi1</span><span class="p">);</span>

                <span class="c1">// 緯度Bの計算 「精密測地網一次基準点測量計算式」P51のphiを求める式より</span>
                <span class="n">beta</span> <span class="p">=</span> <span class="p">((</span><span class="m">1385.0</span> <span class="p">+</span> <span class="m">3633.0</span> <span class="p">*</span> <span class="n">T2</span> <span class="p">+</span> <span class="m">4095</span> <span class="p">*</span> <span class="n">T4</span> <span class="p">+</span> <span class="m">1575.0</span> <span class="p">*</span> <span class="n">T6</span><span class="p">)</span> <span class="p">/</span> <span class="p">(</span><span class="m">40320.0</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">N1</span><span class="p">,</span> <span class="m">8.0</span><span class="p">)))</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">YM0</span><span class="p">,</span> <span class="m">8.0</span><span class="p">);</span>
                <span class="n">beta</span> <span class="p">=</span> <span class="n">beta</span> <span class="p">-</span> <span class="p">((</span><span class="m">61.0</span> <span class="p">+</span> <span class="m">90.0</span> <span class="p">*</span> <span class="n">T2</span> <span class="p">+</span> <span class="m">45</span> <span class="p">*</span> <span class="n">T4</span> <span class="p">+</span> <span class="m">107.0</span> <span class="p">*</span> <span class="n">Eta2</span> <span class="p">-</span> <span class="m">162.0</span> <span class="p">*</span> <span class="n">T2</span> <span class="p">*</span> <span class="n">Eta2</span> <span class="p">-</span> <span class="m">45.0</span> <span class="p">*</span> <span class="n">T4</span> <span class="p">*</span> <span class="n">Eta2</span><span class="p">)</span> <span class="p">/</span> <span class="p">(</span><span class="m">720.0</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">N1</span><span class="p">,</span> <span class="m">6.0</span><span class="p">)))</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">YM0</span><span class="p">,</span> <span class="m">6.0</span><span class="p">);</span>
                <span class="n">beta</span> <span class="p">=</span> <span class="n">beta</span> <span class="p">+</span> <span class="p">((</span><span class="m">5.0</span> <span class="p">+</span> <span class="m">3.0</span> <span class="p">*</span> <span class="n">T2</span> <span class="p">+</span> <span class="m">6.0</span> <span class="p">*</span> <span class="n">Eta2</span> <span class="p">-</span> <span class="m">6.0</span> <span class="p">*</span> <span class="n">T2</span> <span class="p">*</span> <span class="n">Eta2</span> <span class="p">-</span> <span class="m">3.0</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">Eta2</span><span class="p">,</span> <span class="m">2</span><span class="p">)</span> <span class="p">-</span> <span class="m">9.0</span> <span class="p">*</span> <span class="n">T2</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">Eta2</span><span class="p">,</span> <span class="m">2</span><span class="p">))</span> <span class="p">/</span> <span class="p">(</span><span class="m">24.0</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">N1</span><span class="p">,</span> <span class="m">4.0</span><span class="p">)))</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">YM0</span><span class="p">,</span> <span class="m">4.0</span><span class="p">);</span>
                <span class="n">beta</span> <span class="p">=</span> <span class="n">beta</span> <span class="p">-</span> <span class="p">((</span><span class="m">1.0</span> <span class="p">+</span> <span class="n">Eta2</span><span class="p">)</span> <span class="p">/</span> <span class="p">(</span><span class="m">2.0</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">N1</span><span class="p">,</span> <span class="m">2.0</span><span class="p">)))</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">YM0</span><span class="p">,</span> <span class="m">2.0</span><span class="p">);</span>
                <span class="n">beta</span> <span class="p">=</span> <span class="n">beta</span> <span class="p">*</span> <span class="n">T</span><span class="p">;</span>
                <span class="n">beta</span> <span class="p">=</span> <span class="n">beta</span> <span class="p">+</span> <span class="n">phi1</span><span class="p">;</span>

                <span class="c1">// 経度Lの計算 「精密測地網一次基準点測量計算式」P51のΔλを求める式より</span>
                <span class="n">lambda</span> <span class="p">=</span> <span class="p">-((</span><span class="m">61.0</span> <span class="p">+</span> <span class="m">662.0</span> <span class="p">*</span> <span class="n">T2</span> <span class="p">+</span> <span class="m">1320.0</span> <span class="p">*</span> <span class="n">T4</span> <span class="p">+</span> <span class="m">720.0</span> <span class="p">*</span> <span class="n">T6</span><span class="p">)</span> <span class="p">/</span> <span class="p">(</span><span class="m">5040.0</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">N1</span><span class="p">,</span> <span class="m">6.0</span><span class="p">)</span> <span class="p">*</span> <span class="n">N1CosPhi1</span><span class="p">))</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">YM0</span><span class="p">,</span> <span class="m">7.0</span><span class="p">);</span>
                <span class="n">lambda</span> <span class="p">=</span> <span class="n">lambda</span> <span class="p">+</span> <span class="p">((</span><span class="m">5.0</span> <span class="p">+</span> <span class="m">28.0</span> <span class="p">*</span> <span class="n">T2</span> <span class="p">+</span> <span class="m">24.0</span> <span class="p">*</span> <span class="n">T4</span> <span class="p">+</span> <span class="m">6.0</span> <span class="p">*</span> <span class="n">Eta2</span> <span class="p">+</span> <span class="m">8.0</span> <span class="p">*</span> <span class="n">T2</span> <span class="p">*</span> <span class="n">Eta2</span><span class="p">)</span> <span class="p">/</span> <span class="p">(</span><span class="m">120.0</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">N1</span><span class="p">,</span> <span class="m">4.0</span><span class="p">)</span> <span class="p">*</span> <span class="n">N1CosPhi1</span><span class="p">))</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">YM0</span><span class="p">,</span> <span class="m">5.0</span><span class="p">);</span>
                <span class="n">lambda</span> <span class="p">=</span> <span class="n">lambda</span> <span class="p">-</span> <span class="p">((</span><span class="m">1.0</span> <span class="p">+</span> <span class="m">2.0</span> <span class="p">*</span> <span class="n">T2</span> <span class="p">+</span> <span class="n">Eta2</span><span class="p">)</span> <span class="p">/</span> <span class="p">(</span><span class="m">6.0</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">N1</span><span class="p">,</span> <span class="m">2.0</span><span class="p">)</span> <span class="p">*</span> <span class="n">N1CosPhi1</span><span class="p">))</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">YM0</span><span class="p">,</span> <span class="m">3.0</span><span class="p">);</span>
                <span class="n">lambda</span> <span class="p">=</span> <span class="n">lambda</span> <span class="p">+</span> <span class="p">(</span><span class="m">1.0</span> <span class="p">/</span> <span class="n">N1CosPhi1</span><span class="p">)</span> <span class="p">*</span> <span class="n">YM0</span><span class="p">;</span>
                <span class="n">lambda</span> <span class="p">=</span> <span class="n">lambda</span> <span class="p">+</span> <span class="n">lambdaOrigin</span><span class="p">;</span>

                <span class="c1">// 子午線収差角の計算 「精密測地網一次基準点測量計算式」P51のγを求める式より</span>
                <span class="n">gamma</span> <span class="p">=</span> <span class="p">((</span><span class="m">1.0</span> <span class="p">+</span> <span class="n">T2</span><span class="p">)</span> <span class="p">*</span> <span class="p">(</span><span class="m">2.0</span> <span class="p">+</span> <span class="m">3.0</span> <span class="p">*</span> <span class="n">T2</span><span class="p">)</span> <span class="p">/</span> <span class="p">(</span><span class="m">15.0</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">N1</span><span class="p">,</span> <span class="m">5.0</span><span class="p">)))</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">((</span><span class="n">Y</span> <span class="p">/</span> <span class="n">M0</span><span class="p">),</span> <span class="m">5.0</span><span class="p">);</span>
                <span class="n">gamma</span> <span class="p">=</span> <span class="n">gamma</span> <span class="p">-</span> <span class="p">((</span><span class="m">1.0</span> <span class="p">+</span> <span class="n">T2</span> <span class="p">-</span> <span class="n">Eta2</span><span class="p">)</span> <span class="p">/</span> <span class="p">(</span><span class="m">3.0</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">N1</span><span class="p">,</span> <span class="m">3.0</span><span class="p">)))</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">((</span><span class="n">Y</span> <span class="p">/</span> <span class="n">M0</span><span class="p">),</span> <span class="m">3.0</span><span class="p">);</span>
                <span class="n">gamma</span> <span class="p">=</span> <span class="n">gamma</span> <span class="p">+</span> <span class="p">(</span><span class="m">1.0</span> <span class="p">/</span> <span class="n">N1</span><span class="p">)</span> <span class="p">*</span> <span class="n">Y</span> <span class="p">/</span> <span class="n">M0</span><span class="p">;</span>
                <span class="n">gamma</span> <span class="p">=</span> <span class="n">gamma</span> <span class="p">*</span> <span class="n">T</span><span class="p">;</span>

                <span class="c1">// 縮尺係数の計算 「精密測地網一次基準点測量計算式」P51のmを求める式より</span>
                <span class="kt">double</span> <span class="n">Eta2phi</span> <span class="p">=</span> <span class="n">Ep2</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Cos</span><span class="p">(</span><span class="n">beta</span><span class="p">)</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Cos</span><span class="p">(</span><span class="n">beta</span><span class="p">);</span>     <span class="c1">// =η*η。Bはphiと同じ。</span>
                <span class="kt">double</span> <span class="n">Mphi</span> <span class="p">=</span> <span class="n">CEE</span> <span class="p">/</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sqrt</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">((</span><span class="m">1.0</span> <span class="p">+</span> <span class="n">Eta2phi</span><span class="p">),</span> <span class="m">3.0</span><span class="p">));</span>
                <span class="kt">double</span> <span class="n">Nphi</span> <span class="p">=</span> <span class="n">CEE</span> <span class="p">/</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sqrt</span><span class="p">(</span><span class="m">1.0</span> <span class="p">+</span> <span class="n">Eta2phi</span><span class="p">);</span>
                <span class="kt">double</span> <span class="n">MMM</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>                  <span class="c1">// 縮尺係数</span>
                <span class="n">MMM</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="m">4.0</span><span class="p">)</span> <span class="p">/</span> <span class="p">(</span><span class="m">24.0</span> <span class="p">*</span> <span class="n">Mphi</span> <span class="p">*</span> <span class="n">Mphi</span> <span class="p">*</span> <span class="n">Nphi</span> <span class="p">*</span> <span class="n">Nphi</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">M0</span><span class="p">,</span> <span class="m">4.0</span><span class="p">));</span>
                <span class="n">MMM</span> <span class="p">=</span> <span class="n">MMM</span> <span class="p">+</span> <span class="n">Y</span> <span class="p">*</span> <span class="n">Y</span> <span class="p">/</span> <span class="p">(</span><span class="m">2.0</span> <span class="p">*</span> <span class="n">Mphi</span> <span class="p">*</span> <span class="n">Nphi</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">M0</span><span class="p">,</span> <span class="m">2.0</span><span class="p">));</span>
                <span class="n">MMM</span> <span class="p">=</span> <span class="n">MMM</span> <span class="p">+</span> <span class="m">1.0</span><span class="p">;</span>
                <span class="n">MMM</span> <span class="p">=</span> <span class="n">MMM</span> <span class="p">*</span> <span class="n">M0</span><span class="p">;</span>

                <span class="c1">// 出力</span>
                <span class="kt">double</span> <span class="n">betaDeg</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span> <span class="c1">// 求める緯度，経度。基本的にdeg</span>
                <span class="n">betaDeg</span> <span class="p">=</span> <span class="n">beta</span> <span class="p">*</span> <span class="n">RadToDeg</span><span class="p">;</span>
                <span class="kt">double</span> <span class="n">lambdaDeg</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span> <span class="c1">// 求める緯度，経度。基本的にdeg</span>
                <span class="n">lambdaDeg</span> <span class="p">=</span> <span class="n">lambda</span> <span class="p">*</span> <span class="n">RadToDeg</span><span class="p">;</span>
                <span class="c1">// 子午線収差角Gamma(rad)から，真北方向角Gammadeg(degree)へ</span>
                <span class="kt">double</span> <span class="n">gammaDeg</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>             <span class="c1">// 真北方向角。deg</span>
                <span class="n">gammaDeg</span> <span class="p">=</span> <span class="p">-</span><span class="n">gamma</span> <span class="p">*</span> <span class="n">RadToDeg</span><span class="p">;</span>

                <span class="c1">//緯度、経度</span>
                <span class="nf">DegToDms</span><span class="p">(</span><span class="n">betaDeg</span><span class="p">,</span> <span class="k">ref</span> <span class="n">degree</span><span class="p">,</span> <span class="k">ref</span> <span class="n">minute</span><span class="p">,</span> <span class="k">ref</span> <span class="n">second</span><span class="p">,</span> <span class="k">ref</span> <span class="n">signString</span><span class="p">);</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">ellipSuffix</span> <span class="p">==</span> <span class="m">1</span><span class="p">)</span>
                    <span class="n">outLat</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">signString</span><span class="p">}{</span><span class="n">degree</span><span class="p">:</span><span class="err">###</span><span class="p">}{</span><span class="n">minute</span><span class="p">:</span><span class="m">00</span><span class="p">}{</span><span class="n">second</span><span class="p">:</span><span class="m">00.00000</span><span class="p">}</span><span class="s">"</span><span class="p">;</span>
                <span class="k">else</span>
                    <span class="n">outLon</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">signString</span><span class="p">}{</span><span class="n">degree</span><span class="p">:</span><span class="err">###</span><span class="p">}{</span><span class="n">minute</span><span class="p">:</span><span class="m">00</span><span class="p">}{</span><span class="n">second</span><span class="p">:</span><span class="m">00.00000</span><span class="p">}</span><span class="s">"</span><span class="p">;</span>

                <span class="c1">//X,Y</span>
                <span class="nf">DegToDms</span><span class="p">(</span><span class="n">lambdaDeg</span><span class="p">,</span> <span class="k">ref</span> <span class="n">degree</span><span class="p">,</span> <span class="k">ref</span> <span class="n">minute</span><span class="p">,</span> <span class="k">ref</span> <span class="n">second</span><span class="p">,</span> <span class="k">ref</span> <span class="n">signString</span><span class="p">);</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">ellipSuffix</span> <span class="p">==</span> <span class="m">1</span><span class="p">)</span>
                    <span class="n">outX</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">signString</span><span class="p">}{</span><span class="n">degree</span><span class="p">:</span><span class="err">###</span><span class="p">}{</span><span class="n">minute</span><span class="p">:</span><span class="m">00</span><span class="p">}{</span><span class="n">second</span><span class="p">:</span><span class="m">00.00000</span><span class="p">}</span><span class="s">"</span><span class="p">;</span>
                <span class="k">else</span>
                    <span class="n">outY</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">signString</span><span class="p">}{</span><span class="n">degree</span><span class="p">:</span><span class="err">###</span><span class="p">}{</span><span class="n">minute</span><span class="p">:</span><span class="m">00</span><span class="p">}{</span><span class="n">second</span><span class="p">:</span><span class="m">00.00000</span><span class="p">}</span><span class="s">"</span><span class="p">;</span>

                <span class="c1">//真北方向角</span>
                <span class="nf">DegToDmsNotZero3</span><span class="p">(</span><span class="n">gammaDeg</span><span class="p">,</span> <span class="k">ref</span> <span class="n">degree</span><span class="p">,</span> <span class="k">ref</span> <span class="n">minute</span><span class="p">,</span> <span class="k">ref</span> <span class="n">second</span><span class="p">,</span> <span class="k">ref</span> <span class="n">signString</span><span class="p">);</span>
                <span class="n">outDeg</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">signString</span><span class="p">}{</span><span class="n">degree</span><span class="p">:</span><span class="err">###</span><span class="p">}{</span><span class="n">minute</span><span class="p">:</span><span class="m">00</span><span class="p">}{</span><span class="n">second</span><span class="p">:</span><span class="m">00.000</span><span class="p">}</span><span class="s">"</span><span class="p">;</span>

                <span class="c1">//縮尺係数</span>
                <span class="n">outParam</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">MMM</span><span class="p">:</span><span class="err">#</span><span class="p">.</span><span class="m">00000000</span><span class="p">}</span><span class="s">"</span><span class="p">;</span> <span class="c1">// 成果表は小数点以下６桁</span>
                <span class="c1">// outLat, outLon, outX, outY, outDeg, outParam に出力値が入っているので呼び出し下で受け取れるように調整を。</span>
            <span class="p">}</span>
            <span class="k">catch</span> <span class="p">(</span><span class="n">OverflowException</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">CommonUtils</span><span class="p">.</span><span class="nf">LogWrite</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="n">ConstString</span><span class="p">.</span><span class="n">Error</span><span class="p">.</span><span class="n">FailedXY</span><span class="p">,</span> <span class="n">MethodBase</span><span class="p">.</span><span class="nf">GetCurrentMethod</span><span class="p">().</span><span class="n">Name</span><span class="p">,</span> <span class="n">beta</span><span class="p">,</span> <span class="n">lambda</span><span class="p">));</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">e</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">CommonUtils</span><span class="p">.</span><span class="nf">LogWrite</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="n">ConstString</span><span class="p">.</span><span class="n">Error</span><span class="p">.</span><span class="n">FailedXY</span><span class="p">,</span> <span class="n">MethodBase</span><span class="p">.</span><span class="nf">GetCurrentMethod</span><span class="p">().</span><span class="n">Name</span><span class="p">,</span> <span class="n">beta</span><span class="p">,</span> <span class="n">lambda</span><span class="p">));</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// 赤道から緯度Phiまでの子午線弧長を計算します。</span>
        <span class="c1">/// 「精密測地網一次基準点測量計算式」P55より</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="Phi"&gt;&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="AEE"&gt;&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="AJ"&gt;&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="BJ"&gt;&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="CJ"&gt;&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="DJ"&gt;&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="EJ"&gt;&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="FJ"&gt;&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="GJ"&gt;&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="HJ"&gt;&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="IJ"&gt;&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="SS"&gt;&lt;/param&gt;</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">MeridS</span><span class="p">(</span><span class="kt">double</span> <span class="n">Phi</span><span class="p">,</span> <span class="kt">double</span> <span class="n">AEE</span><span class="p">,</span> <span class="kt">double</span> <span class="n">AJ</span><span class="p">,</span> <span class="kt">double</span> <span class="n">BJ</span><span class="p">,</span> <span class="kt">double</span> <span class="n">CJ</span><span class="p">,</span> <span class="kt">double</span> <span class="n">DJ</span><span class="p">,</span> <span class="kt">double</span> <span class="n">EJ</span><span class="p">,</span> <span class="kt">double</span> <span class="n">FJ</span><span class="p">,</span> <span class="kt">double</span> <span class="n">GJ</span><span class="p">,</span> <span class="kt">double</span> <span class="n">HJ</span><span class="p">,</span> <span class="kt">double</span> <span class="n">IJ</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">double</span> <span class="n">SS</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">SS</span> <span class="p">=</span> <span class="n">IJ</span> <span class="p">/</span> <span class="m">16.0</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span><span class="m">16.0</span> <span class="p">*</span> <span class="n">Phi</span><span class="p">);</span>
            <span class="n">SS</span> <span class="p">=</span> <span class="n">SS</span> <span class="p">-</span> <span class="n">HJ</span> <span class="p">/</span> <span class="m">14.0</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span><span class="m">14.0</span> <span class="p">*</span> <span class="n">Phi</span><span class="p">);</span>
            <span class="n">SS</span> <span class="p">=</span> <span class="n">SS</span> <span class="p">+</span> <span class="n">GJ</span> <span class="p">/</span> <span class="m">12.0</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span><span class="m">12.0</span> <span class="p">*</span> <span class="n">Phi</span><span class="p">);</span>
            <span class="n">SS</span> <span class="p">=</span> <span class="n">SS</span> <span class="p">-</span> <span class="n">FJ</span> <span class="p">/</span> <span class="m">10.0</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span><span class="m">10.0</span> <span class="p">*</span> <span class="n">Phi</span><span class="p">);</span>
            <span class="n">SS</span> <span class="p">=</span> <span class="n">SS</span> <span class="p">+</span> <span class="n">EJ</span> <span class="p">/</span> <span class="m">8.0</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span><span class="m">8.0</span> <span class="p">*</span> <span class="n">Phi</span><span class="p">);</span>
            <span class="n">SS</span> <span class="p">=</span> <span class="n">SS</span> <span class="p">-</span> <span class="n">DJ</span> <span class="p">/</span> <span class="m">6.0</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span><span class="m">6.0</span> <span class="p">*</span> <span class="n">Phi</span><span class="p">);</span>
            <span class="n">SS</span> <span class="p">=</span> <span class="n">SS</span> <span class="p">+</span> <span class="n">CJ</span> <span class="p">/</span> <span class="m">4.0</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span><span class="m">4.0</span> <span class="p">*</span> <span class="n">Phi</span><span class="p">);</span>
            <span class="n">SS</span> <span class="p">=</span> <span class="n">SS</span> <span class="p">-</span> <span class="n">BJ</span> <span class="p">/</span> <span class="m">2.0</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span><span class="m">2.0</span> <span class="p">*</span> <span class="n">Phi</span><span class="p">);</span>
            <span class="n">SS</span> <span class="p">=</span> <span class="n">SS</span> <span class="p">+</span> <span class="n">AJ</span> <span class="p">*</span> <span class="n">Phi</span><span class="p">;</span>
            <span class="n">SS</span> <span class="p">=</span> <span class="n">AEE</span> <span class="p">*</span> <span class="n">SS</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// 「3ﾊﾟﾗﾒｰﾀによる」Tokyo97系からITRF94系への座標変換を行う。</span>
        <span class="c1">/// この変換では楕円体高Hはゼロとする。</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="B1"&gt;入力 緯度(度)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="L1"&gt;入力 経度(度)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="B2"&gt;出力 緯度(度)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="L2"&gt;出力 経度(度)&lt;/param&gt;</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">Tokyo97toITRF94</span><span class="p">(</span><span class="kt">double</span> <span class="n">B1</span><span class="p">,</span> <span class="kt">double</span> <span class="n">L1</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">double</span> <span class="n">B2</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">double</span> <span class="n">L2</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">double</span> <span class="n">Brad</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">ALrad</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span> <span class="c1">// 緯度，経度(radian)</span>
            <span class="kt">double</span> <span class="n">H</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>                     <span class="c1">// 楕円体高(m)</span>
            <span class="kt">double</span> <span class="n">X1</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">Y1</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">Z1</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">X2</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">Y2</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">Z2</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span> <span class="c1">// (m)</span>

            <span class="n">Brad</span> <span class="p">=</span> <span class="n">B1</span> <span class="p">*</span> <span class="n">DegToRad</span><span class="p">;</span>
            <span class="n">ALrad</span> <span class="p">=</span> <span class="n">L1</span> <span class="p">*</span> <span class="n">DegToRad</span><span class="p">;</span>

            <span class="c1">// 緯度，経度から三次元直交座標系(X,Y,Z)への換算</span>
            <span class="nf">BLHXYZcalc</span><span class="p">(</span><span class="n">Brad</span><span class="p">,</span> <span class="n">ALrad</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="k">ref</span> <span class="n">X1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">Y1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">Z1</span><span class="p">,</span> <span class="n">ellipObj</span><span class="p">[</span><span class="m">0</span><span class="p">]);</span> <span class="c1">// EP(0):Bessel楕円体=日本測地系</span>
            <span class="c1">// 三次元直交座標系(X,Y,Z)から三次元直交座標系(X,Y,Z)への座標変換</span>
            <span class="nf">Xyz2Xyz</span><span class="p">(</span><span class="n">X1</span><span class="p">,</span> <span class="n">Y1</span><span class="p">,</span> <span class="n">Z1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">X2</span><span class="p">,</span> <span class="k">ref</span> <span class="n">Y2</span><span class="p">,</span> <span class="k">ref</span> <span class="n">Z2</span><span class="p">);</span>
            <span class="c1">// 三次元直交座標系(X,Y,Z)から緯度，経度への換算</span>
            <span class="nf">XYZBLHcalc</span><span class="p">(</span><span class="n">X2</span><span class="p">,</span> <span class="n">Y2</span><span class="p">,</span> <span class="n">Z2</span><span class="p">,</span> <span class="k">ref</span> <span class="n">Brad</span><span class="p">,</span> <span class="k">ref</span> <span class="n">ALrad</span><span class="p">,</span> <span class="k">ref</span> <span class="n">H</span><span class="p">,</span> <span class="n">ellipObj</span><span class="p">[</span><span class="m">1</span><span class="p">]);</span> <span class="c1">// EP(1):GRS-80楕円体</span>

            <span class="n">B2</span> <span class="p">=</span> <span class="n">Brad</span> <span class="p">*</span> <span class="n">RadToDeg</span><span class="p">;</span>
            <span class="n">L2</span> <span class="p">=</span> <span class="n">ALrad</span> <span class="p">*</span> <span class="n">RadToDeg</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// 「3ﾊﾟﾗﾒｰﾀによる」ITRF94系からTokyo97系への座標変換を行う。</span>
        <span class="c1">/// この変換では楕円体高Hは，変換後の水平位置B2,L2を正確に元に戻すため，2ステップで変換する。</span>
        <span class="c1">/// (1)初期値はゼロとし一度変換したあと，(2)その時のH分だけ下駄を履かせ，もう一度変換する。</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="B1"&gt;入力 緯度(度)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="L1"&gt;入力 経度(度)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="B2"&gt;出力 緯度(度)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="L2"&gt;出力 経度(度)&lt;/param&gt;</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">ITRF94toTokyo97</span><span class="p">(</span><span class="kt">double</span> <span class="n">B1</span><span class="p">,</span> <span class="kt">double</span> <span class="n">L1</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">double</span> <span class="n">B2</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">double</span> <span class="n">L2</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">double</span> <span class="n">Brad1</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span> <span class="c1">// 緯度，経度(radian)</span>
            <span class="kt">double</span> <span class="n">ALrad1</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span> <span class="c1">// 緯度，経度(radian)</span>
            <span class="kt">double</span> <span class="n">Brad2</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span> <span class="c1">// 緯度，経度(radian)</span>
            <span class="kt">double</span> <span class="n">ALrad2</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span> <span class="c1">// 緯度，経度(radian)</span>
            <span class="kt">double</span> <span class="n">H</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>                       <span class="c1">// 楕円体高(m)</span>
            <span class="kt">double</span> <span class="n">X1</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">Y1</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">Z1</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">X2</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">Y2</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">Z2</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span> <span class="c1">// (m)</span>

            <span class="n">Brad1</span> <span class="p">=</span> <span class="n">B1</span> <span class="p">*</span> <span class="n">DegToRad</span><span class="p">;</span>
            <span class="n">ALrad1</span> <span class="p">=</span> <span class="n">L1</span> <span class="p">*</span> <span class="n">DegToRad</span><span class="p">;</span>

            <span class="c1">// (1)</span>
            <span class="c1">// 緯度，経度から三次元直交座標系(X,Y,Z)への換算</span>
            <span class="nf">BLHXYZcalc</span><span class="p">(</span><span class="n">Brad1</span><span class="p">,</span> <span class="n">ALrad1</span><span class="p">,</span> <span class="m">0.0</span><span class="p">,</span> <span class="k">ref</span> <span class="n">X1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">Y1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">Z1</span><span class="p">,</span> <span class="n">ellipObj</span><span class="p">[</span><span class="m">1</span><span class="p">]);</span>  <span class="c1">// EP(1):GRS-80楕円体=世界測地系</span>
            <span class="c1">// 三次元直交座標系(X,Y,Z)から三次元直交座標系(X,Y,Z)への座標変換</span>
            <span class="nf">Xyz2XyzR</span><span class="p">(</span><span class="n">X1</span><span class="p">,</span> <span class="n">Y1</span><span class="p">,</span> <span class="n">Z1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">X2</span><span class="p">,</span> <span class="k">ref</span> <span class="n">Y2</span><span class="p">,</span> <span class="k">ref</span> <span class="n">Z2</span><span class="p">);</span>
            <span class="c1">// 三次元直交座標系(X,Y,Z)から緯度，経度への換算</span>
            <span class="nf">XYZBLHcalc</span><span class="p">(</span><span class="n">X2</span><span class="p">,</span> <span class="n">Y2</span><span class="p">,</span> <span class="n">Z2</span><span class="p">,</span> <span class="k">ref</span> <span class="n">Brad2</span><span class="p">,</span> <span class="k">ref</span> <span class="n">ALrad2</span><span class="p">,</span> <span class="k">ref</span> <span class="n">H</span><span class="p">,</span> <span class="n">ellipObj</span><span class="p">[</span><span class="m">0</span><span class="p">]);</span> <span class="c1">// EP(0):Bessel楕円体=日本測地系</span>
            <span class="c1">// (2)</span>
            <span class="c1">// 緯度，経度から三次元直交座標系(X,Y,Z)への換算</span>
            <span class="nf">BLHXYZcalc</span><span class="p">(</span><span class="n">Brad1</span><span class="p">,</span> <span class="n">ALrad1</span><span class="p">,</span> <span class="p">-</span><span class="n">H</span><span class="p">,</span> <span class="k">ref</span> <span class="n">X1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">Y1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">Z1</span><span class="p">,</span> <span class="n">ellipObj</span><span class="p">[</span><span class="m">1</span><span class="p">]);</span>  <span class="c1">// EP(0):GRS-80楕円体=世界測地系</span>
            <span class="c1">// 三次元直交座標系(X,Y,Z)から三次元直交座標系(X,Y,Z)への座標変換</span>
            <span class="nf">Xyz2XyzR</span><span class="p">(</span><span class="n">X1</span><span class="p">,</span> <span class="n">Y1</span><span class="p">,</span> <span class="n">Z1</span><span class="p">,</span> <span class="k">ref</span> <span class="n">X2</span><span class="p">,</span> <span class="k">ref</span> <span class="n">Y2</span><span class="p">,</span> <span class="k">ref</span> <span class="n">Z2</span><span class="p">);</span>
            <span class="c1">// 三次元直交座標系(X,Y,Z)から緯度，経度への換算</span>
            <span class="nf">XYZBLHcalc</span><span class="p">(</span><span class="n">X2</span><span class="p">,</span> <span class="n">Y2</span><span class="p">,</span> <span class="n">Z2</span><span class="p">,</span> <span class="k">ref</span> <span class="n">Brad2</span><span class="p">,</span> <span class="k">ref</span> <span class="n">ALrad2</span><span class="p">,</span> <span class="k">ref</span> <span class="n">H</span><span class="p">,</span> <span class="n">ellipObj</span><span class="p">[</span><span class="m">0</span><span class="p">]);</span> <span class="c1">// EP(1):Bessel楕円体=日本測地系</span>

            <span class="n">B2</span> <span class="p">=</span> <span class="n">Brad2</span> <span class="p">*</span> <span class="n">RadToDeg</span><span class="p">;</span>
            <span class="n">L2</span> <span class="p">=</span> <span class="n">ALrad2</span> <span class="p">*</span> <span class="n">RadToDeg</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// Ver.1.2から，EllipPar Typeに対応</span>
        <span class="c1">/// B,L,HからX,Y,Zに変換する。 このとき楕円体を指定する必要あり。</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="Brad"&gt;緯度(RADIAN)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="ALrad"&gt;経度(RADIAN)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="H"&gt;高さ(m)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="X"&gt;３次元直交座標系(m)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="Y"&gt;３次元直交座標系(m)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="Z"&gt;３次元直交座標系(m)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="EP"&gt;計算に利用する楕円体定義&lt;/param&gt;</span>
        <span class="k">private</span> <span class="k">void</span> <span class="nf">BLHXYZcalc</span><span class="p">(</span><span class="kt">double</span> <span class="n">Brad</span><span class="p">,</span> <span class="kt">double</span> <span class="n">ALrad</span><span class="p">,</span> <span class="kt">double</span> <span class="n">H</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">double</span> <span class="n">X</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">double</span> <span class="n">Y</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">double</span> <span class="n">Z</span><span class="p">,</span> <span class="n">EllipParam</span> <span class="n">EP</span><span class="p">)</span> <span class="c1">// ________________________</span>
        <span class="p">{</span>
            <span class="kt">double</span> <span class="n">CB</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">CL</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">SB</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">SL</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">W</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">AN</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">a</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">FI</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">e</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>

            <span class="n">a</span> <span class="p">=</span> <span class="n">EP</span><span class="p">.</span><span class="n">Axix</span><span class="p">;</span>
            <span class="n">FI</span> <span class="p">=</span> <span class="n">EP</span><span class="p">.</span><span class="n">Flattening1</span><span class="p">;</span>
            <span class="n">e</span> <span class="p">=</span> <span class="n">EP</span><span class="p">.</span><span class="n">Eccentricity</span><span class="p">;</span>
            <span class="n">CB</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Cos</span><span class="p">(</span><span class="n">Brad</span><span class="p">);</span> <span class="n">SB</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span><span class="n">Brad</span><span class="p">);</span>
            <span class="n">CL</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Cos</span><span class="p">(</span><span class="n">ALrad</span><span class="p">);</span> <span class="n">SL</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span><span class="n">ALrad</span><span class="p">);</span>
            <span class="n">W</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sqrt</span><span class="p">(</span><span class="m">1.0</span> <span class="p">-</span> <span class="n">e</span> <span class="p">*</span> <span class="n">SB</span> <span class="p">*</span> <span class="n">SB</span><span class="p">);</span>
            <span class="n">AN</span> <span class="p">=</span> <span class="n">a</span> <span class="p">/</span> <span class="n">W</span><span class="p">;</span>
            <span class="n">X</span> <span class="p">=</span> <span class="p">(</span><span class="n">AN</span> <span class="p">+</span> <span class="n">H</span><span class="p">)</span> <span class="p">*</span> <span class="n">CB</span> <span class="p">*</span> <span class="n">CL</span><span class="p">;</span>
            <span class="n">Y</span> <span class="p">=</span> <span class="p">(</span><span class="n">AN</span> <span class="p">+</span> <span class="n">H</span><span class="p">)</span> <span class="p">*</span> <span class="n">CB</span> <span class="p">*</span> <span class="n">SL</span><span class="p">;</span>
            <span class="n">Z</span> <span class="p">=</span> <span class="p">(</span><span class="n">AN</span> <span class="p">*</span> <span class="p">(</span><span class="m">1.0</span> <span class="p">-</span> <span class="n">e</span><span class="p">)</span> <span class="p">+</span> <span class="n">H</span><span class="p">)</span> <span class="p">*</span> <span class="n">SB</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// Ver.2.2から，EllipPar Typeに対応</span>
        <span class="c1">/// X,Y.ZからB,L,Hに変換する。 このとき楕円体を指定する必要あり。</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="X"&gt;３次元直交座標系(m)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="Y"&gt;３次元直交座標系(m)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="Z"&gt;３次元直交座標系(m)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="Brad"&gt;緯度(RADIAN)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="ALrad"&gt;経度(RADIAN)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="H"&gt;高さ(m)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="EP"&gt;楕円体定数&lt;/param&gt;</span>
        <span class="k">private</span> <span class="k">void</span> <span class="nf">XYZBLHcalc</span><span class="p">(</span><span class="kt">double</span> <span class="n">X</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Y</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Z</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">double</span> <span class="n">Brad</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">double</span> <span class="n">ALrad</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">double</span> <span class="n">H</span><span class="p">,</span> <span class="n">EllipParam</span> <span class="n">EP</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">double</span> <span class="n">p2</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">p</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">r</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">myu</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">myus3</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">myuc3</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">a</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">FI</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">e</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>

            <span class="n">a</span> <span class="p">=</span> <span class="n">EP</span><span class="p">.</span><span class="n">Axix</span><span class="p">;</span>
            <span class="n">FI</span> <span class="p">=</span> <span class="n">EP</span><span class="p">.</span><span class="n">Flattening1</span><span class="p">;</span>
            <span class="n">e</span> <span class="p">=</span> <span class="n">EP</span><span class="p">.</span><span class="n">Eccentricity</span><span class="p">;</span>

            <span class="n">p2</span> <span class="p">=</span> <span class="n">X</span> <span class="p">*</span> <span class="n">X</span> <span class="p">+</span> <span class="n">Y</span> <span class="p">*</span> <span class="n">Y</span><span class="p">;</span>
            <span class="n">p</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sqrt</span><span class="p">(</span><span class="n">p2</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">p</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="c1">// エラー処理ルーチン。</span>
                <span class="n">MessageBox</span><span class="p">.</span><span class="nf">Show</span><span class="p">(</span>
                    <span class="s">"Warning: 座標値(X,Y,Z)を入力して下さい。"</span><span class="p">,</span>
                    <span class="n">mainForm</span><span class="p">.</span><span class="n">ProductName</span><span class="p">,</span>
                    <span class="n">MessageBoxButtons</span><span class="p">.</span><span class="n">OK</span><span class="p">,</span>
                    <span class="n">MessageBoxIcon</span><span class="p">.</span><span class="n">Error</span>
                    <span class="p">);</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">X</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span>
                <span class="n">ALrad</span> <span class="p">=</span> <span class="n">HalfPI</span><span class="p">;</span>
            <span class="k">else</span>
                <span class="n">ALrad</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Atan</span><span class="p">(</span><span class="n">Y</span> <span class="p">/</span> <span class="n">X</span><span class="p">);</span><span class="c1">// 経度</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">X</span> <span class="p">&lt;</span> <span class="m">0</span><span class="p">)</span>
                <span class="n">ALrad</span> <span class="p">=</span> <span class="n">ALrad</span> <span class="p">+</span> <span class="n">PI</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">ALrad</span> <span class="p">&gt;</span> <span class="n">PI</span><span class="p">)</span>
                <span class="n">ALrad</span> <span class="p">=</span> <span class="n">ALrad</span> <span class="p">-</span> <span class="n">DoublePI</span><span class="p">;</span>

            <span class="n">r</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sqrt</span><span class="p">(</span><span class="n">p2</span> <span class="p">+</span> <span class="n">Z</span> <span class="p">*</span> <span class="n">Z</span><span class="p">);</span>
            <span class="n">myu</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Atan</span><span class="p">((</span><span class="n">Z</span> <span class="p">/</span> <span class="n">p</span><span class="p">)</span> <span class="p">*</span> <span class="p">(</span><span class="m">1.0</span> <span class="p">-</span> <span class="p">(</span><span class="m">1.0</span> <span class="p">/</span> <span class="n">FI</span><span class="p">)</span> <span class="p">+</span> <span class="n">e</span> <span class="p">*</span> <span class="n">a</span> <span class="p">/</span> <span class="n">r</span><span class="p">));</span>
            <span class="n">myus3</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span><span class="n">myu</span><span class="p">);</span>
            <span class="n">myus3</span> <span class="p">=</span> <span class="n">myus3</span> <span class="p">*</span> <span class="n">myus3</span> <span class="p">*</span> <span class="n">myus3</span><span class="p">;</span>
            <span class="n">myuc3</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Cos</span><span class="p">(</span><span class="n">myu</span><span class="p">);</span>
            <span class="n">myuc3</span> <span class="p">=</span> <span class="n">myuc3</span> <span class="p">*</span> <span class="n">myuc3</span> <span class="p">*</span> <span class="n">myuc3</span><span class="p">;</span>
            <span class="n">Brad</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Atan</span><span class="p">((</span><span class="n">Z</span> <span class="p">*</span> <span class="p">(</span><span class="m">1.0</span> <span class="p">-</span> <span class="m">1.0</span> <span class="p">/</span> <span class="n">FI</span><span class="p">)</span> <span class="p">+</span> <span class="n">e</span> <span class="p">*</span> <span class="n">a</span> <span class="p">*</span> <span class="n">myus3</span><span class="p">)</span> <span class="p">/</span> <span class="p">((</span><span class="m">1.0</span> <span class="p">-</span> <span class="m">1.0</span> <span class="p">/</span> <span class="n">FI</span><span class="p">)</span> <span class="p">*</span> <span class="p">(</span><span class="n">p</span> <span class="p">-</span> <span class="n">e</span> <span class="p">*</span> <span class="n">a</span> <span class="p">*</span> <span class="n">myuc3</span><span class="p">)));</span>
            <span class="n">H</span> <span class="p">=</span> <span class="n">p</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Cos</span><span class="p">(</span><span class="n">Brad</span><span class="p">)</span> <span class="p">+</span> <span class="n">Z</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span><span class="n">Brad</span><span class="p">)</span> <span class="p">-</span> <span class="n">a</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sqrt</span><span class="p">(</span><span class="m">1.0</span> <span class="p">-</span> <span class="n">e</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span><span class="n">Brad</span><span class="p">)</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span><span class="n">Brad</span><span class="p">));</span>    <span class="c1">// 楕円体高</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// 座標変換をします。</span>
        <span class="c1">/// 変換ﾊﾟﾗﾒｰﾀは，Tokyo97からITRF94固定とします。TKY2JGD専用なので。</span>
        <span class="c1">/// |XS| |X| |T1| || D  -R3  R2||X|</span>
        <span class="c1">/// |YS|=|Y|+|T2|+| R3  D  -R1||Y|   cf. IERS ANNUAL REPORT FOR 1989</span>
        <span class="c1">/// |ZS| |Z| |T3| |-R2  R1  D ||Z|                             II-23</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="X1"&gt;３次元直交座標系での座標 (m)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="Y1"&gt;３次元直交座標系での座標 (m)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="Z1"&gt;３次元直交座標系での座標 (m)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="X2"&gt;３次元直交座標系での座標 (m)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="Y2"&gt;３次元直交座標系での座標 (m)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="Z2"&gt;３次元直交座標系での座標 (m)&lt;/param&gt;</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">Xyz2Xyz</span><span class="p">(</span><span class="kt">double</span> <span class="n">X1</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Y1</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Z1</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">double</span> <span class="n">X2</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">double</span> <span class="n">Y2</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">double</span> <span class="n">Z2</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">const</span> <span class="kt">double</span> <span class="n">T1</span> <span class="p">=</span> <span class="p">-</span><span class="m">14641.4</span><span class="p">;</span> <span class="c1">// X shift(cm)</span>
            <span class="k">const</span> <span class="kt">double</span> <span class="n">T2</span> <span class="p">=</span> <span class="m">50733.7</span><span class="p">;</span>  <span class="c1">// Y shift(cm)</span>
            <span class="k">const</span> <span class="kt">double</span> <span class="n">T3</span> <span class="p">=</span> <span class="m">68050.7</span><span class="p">;</span>  <span class="c1">// Z shift(cm)</span>
            <span class="kt">double</span> <span class="n">T1real</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>    <span class="c1">// X shift(m)</span>
            <span class="kt">double</span> <span class="n">T2real</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>    <span class="c1">// Y shift(m)</span>
            <span class="kt">double</span> <span class="n">T3real</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>    <span class="c1">// Z shift(m)</span>
            <span class="c1">// パラメータの代入　Tokyo97からITRF94へ</span>
            <span class="c1">// -14641.40   50733.70   68050.70    0.00    0.00    0.00    0.00       Tokyo97        ITRF94</span>
            <span class="c1">// 実際に使う変換パラメータの計算</span>
            <span class="n">T1real</span> <span class="p">=</span> <span class="n">T1</span> <span class="p">*</span> <span class="m">0.01</span><span class="p">;</span>                   <span class="c1">// cm to m</span>
            <span class="n">T2real</span> <span class="p">=</span> <span class="n">T2</span> <span class="p">*</span> <span class="m">0.01</span><span class="p">;</span>                   <span class="c1">// cm to m</span>
            <span class="n">T3real</span> <span class="p">=</span> <span class="n">T3</span> <span class="p">*</span> <span class="m">0.01</span><span class="p">;</span>                   <span class="c1">// cm to m</span>

            <span class="c1">// 一般的には７パラメータで次のように変換しますが，ここでは3パラメータなので不要な計算は省略します。</span>
            <span class="n">X2</span> <span class="p">=</span> <span class="n">X1</span> <span class="p">+</span> <span class="n">T1real</span><span class="p">;</span>
            <span class="n">Y2</span> <span class="p">=</span> <span class="n">Y1</span> <span class="p">+</span> <span class="n">T2real</span><span class="p">;</span>
            <span class="n">Z2</span> <span class="p">=</span> <span class="n">Z1</span> <span class="p">+</span> <span class="n">T3real</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// 座標変換をします。</span>
        <span class="c1">/// 逆方向変換 R:Reverse</span>
        <span class="c1">/// 変換ﾊﾟﾗﾒｰﾀは，ITRF94からTokyo97固定とします。TKY2JGD専用なので。</span>
        <span class="c1">/// 座標変換をします。</span>
        <span class="c1">/// |XS| |X| |T1| || D  -R3  R2||X|</span>
        <span class="c1">/// |YS|=|Y|+|T2|+| R3  D  -R1||Y|   cf. IERS ANNUAL REPORT FOR 1989</span>
        <span class="c1">/// |ZS| |Z| |T3| |-R2  R1  D ||Z|                             II-23</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="X1"&gt;３次元直交座標系での座標 (m)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="Y1"&gt;３次元直交座標系での座標 (m)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="Z1"&gt;３次元直交座標系での座標 (m)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="X2"&gt;３次元直交座標系での座標 (m)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="Y2"&gt;３次元直交座標系での座標 (m)&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="Z2"&gt;３次元直交座標系での座標 (m)&lt;/param&gt;</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">Xyz2XyzR</span><span class="p">(</span><span class="kt">double</span> <span class="n">X1</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Y1</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Z1</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">double</span> <span class="n">X2</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">double</span> <span class="n">Y2</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">double</span> <span class="n">Z2</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// パラメータの代入　ITRF94からTokyo97へ</span>
            <span class="c1">// -14641.40   50733.70   68050.70    0.00    0.00    0.00    0.00       Tokyo97        ITRF94</span>
            <span class="k">const</span> <span class="kt">double</span> <span class="n">T1</span> <span class="p">=</span> <span class="m">14641.4</span><span class="p">;</span>  <span class="c1">// X shift(cm)</span>
            <span class="k">const</span> <span class="kt">double</span> <span class="n">T2</span> <span class="p">=</span> <span class="p">-</span><span class="m">50733.7</span><span class="p">;</span> <span class="c1">// Y shift(cm)</span>
            <span class="k">const</span> <span class="kt">double</span> <span class="n">T3</span> <span class="p">=</span> <span class="p">-</span><span class="m">68050.7</span><span class="p">;</span> <span class="c1">// Z  shift(cm)</span>
            <span class="kt">double</span> <span class="n">T1real</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>    <span class="c1">// X shift(cm)</span>
            <span class="kt">double</span> <span class="n">T2real</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>    <span class="c1">// Y shift(cm)</span>
            <span class="kt">double</span> <span class="n">T3real</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>    <span class="c1">// Z shift(cm)</span>

            <span class="c1">// 実際に使う変換パラメータの計算</span>
            <span class="n">T1real</span> <span class="p">=</span> <span class="n">T1</span> <span class="p">*</span> <span class="m">0.01</span><span class="p">;</span>                   <span class="c1">// cm to m</span>
            <span class="n">T2real</span> <span class="p">=</span> <span class="n">T2</span> <span class="p">*</span> <span class="m">0.01</span><span class="p">;</span>                   <span class="c1">// cm to m</span>
            <span class="n">T3real</span> <span class="p">=</span> <span class="n">T3</span> <span class="p">*</span> <span class="m">0.01</span><span class="p">;</span>                   <span class="c1">// cm to m</span>

            <span class="c1">// 一般的には７パラメータで次のように変換しますが，ここでは3パラメータなので不要な計算は省略します。</span>
            <span class="n">X2</span> <span class="p">=</span> <span class="n">X1</span> <span class="p">+</span> <span class="n">T1real</span><span class="p">;</span>
            <span class="n">Y2</span> <span class="p">=</span> <span class="n">Y1</span> <span class="p">+</span> <span class="n">T2real</span><span class="p">;</span>
            <span class="n">Z2</span> <span class="p">=</span> <span class="n">Z1</span> <span class="p">+</span> <span class="n">T3real</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// 度単位の緯度lat,経度lonを受け取り，その点が含まれるﾒｯｼｭコードを返す関数</span>
        <span class="c1">/// もし境界線上の点が与えられると，その点は点の北や東のﾒｯｼｭに属すると解釈する</span>
        <span class="c1">/// Public Type MeshCode</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="lat"&gt;緯度&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="lon"&gt;経度&lt;/param&gt;</span>
        <span class="c1">/// &lt;returns&gt;&lt;/returns&gt;</span>
        <span class="k">private</span> <span class="n">MeshCode</span> <span class="nf">LatLon2MeshCode</span><span class="p">(</span><span class="kt">double</span> <span class="n">lat</span><span class="p">,</span> <span class="kt">double</span> <span class="n">lon</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">int</span> <span class="n">lat1</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="c1">// 1次メッシュコード</span>
            <span class="kt">int</span> <span class="n">lon1</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="c1">// 1次メッシュコード</span>
            <span class="kt">int</span> <span class="n">LatLon1</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="c1">// 1次メッシュコード</span>
            <span class="kt">int</span> <span class="n">lat2</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="c1">// 2次メッシュコード</span>
            <span class="kt">int</span> <span class="n">lon2</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="c1">// 2次メッシュコード</span>
            <span class="kt">int</span> <span class="n">latlon2</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="c1">// 2次メッシュコード</span>
            <span class="kt">int</span> <span class="n">lat3</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="c1">// 3次メッシュコード</span>
            <span class="kt">int</span> <span class="n">lon3</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="c1">// 3次メッシュコード</span>
            <span class="kt">int</span> <span class="n">latlon3</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="c1">// 3次メッシュコード</span>
            <span class="kt">double</span> <span class="n">ModLat</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="kt">double</span> <span class="n">ModLon</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
            <span class="n">MeshCode</span> <span class="n">rtn_mesh</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MeshCode</span><span class="p">();</span>

            <span class="c1">// 1次メッシュコード各2桁</span>
            <span class="n">lat1</span> <span class="p">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">lat</span> <span class="p">*</span> <span class="m">1.5</span><span class="p">);</span>           <span class="c1">// 36.0 -&gt; 54,  36.666 -&gt; 54</span>
            <span class="n">lon1</span> <span class="p">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">lon</span><span class="p">)</span> <span class="p">-</span> <span class="m">100</span><span class="p">;</span>           <span class="c1">// 138.0 -&gt; 38, 138.999 -&gt; 38</span>
            <span class="c1">// 2次メッシュコード各1桁</span>
            <span class="n">lat2</span> <span class="p">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="m">8.0</span> <span class="p">*</span> <span class="p">(</span><span class="m">1.5</span> <span class="p">*</span> <span class="n">lat</span> <span class="p">-</span> <span class="n">lat1</span><span class="p">));</span>  <span class="c1">// 36.0 -&gt; 0,  36.0833 -&gt; 0</span>
            <span class="n">lon2</span> <span class="p">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="m">8.0</span> <span class="p">*</span> <span class="p">(</span><span class="n">lon</span> <span class="p">-</span> <span class="p">(</span><span class="n">lon1</span> <span class="p">+</span> <span class="m">100</span><span class="p">)));</span> <span class="c1">// 138.0 -&gt; 0, 138.1249 -&gt; 0</span>
            <span class="c1">// 3次メッシュコード各1桁</span>
            <span class="n">lat3</span> <span class="p">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="m">10.0</span> <span class="p">*</span> <span class="p">(</span><span class="m">12.0</span> <span class="p">*</span> <span class="n">lat</span> <span class="p">-</span> <span class="m">8.0</span> <span class="p">*</span> <span class="n">lat1</span> <span class="p">-</span> <span class="n">lat2</span><span class="p">)</span> <span class="p">+</span> <span class="m">0.00000000001</span><span class="p">);</span>
            <span class="n">lon3</span> <span class="p">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="m">10.0</span> <span class="p">*</span> <span class="p">(</span><span class="m">8.0</span> <span class="p">*</span> <span class="p">(</span><span class="n">lon</span> <span class="p">-</span> <span class="p">(</span><span class="n">lon1</span> <span class="p">+</span> <span class="m">100</span><span class="p">))</span> <span class="p">-</span> <span class="n">lon2</span><span class="p">)</span> <span class="p">+</span> <span class="m">0.00000000001</span><span class="p">);</span>
            <span class="c1">// 上2行が微少量を加えるのは，lon=138.45のとき3次が5とならずに6となるように</span>

            <span class="c1">// Ver.2.1 to Ver.2.2 lat=36.0833333333333のときlat3=10になって，エラー画面が出るバグを解消。原因は微小量を加えたことの副作用。</span>
            <span class="c1">// 本来は微小量加算をやめるべきだが，以前の計算値との継続性を重視し，正しい緯(経)度同士の繰り上がり処理で対応する。2002/02/21</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">lat3</span> <span class="p">==</span> <span class="m">10</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">lat2</span> <span class="p">=</span> <span class="n">lat2</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span> <span class="n">lat3</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">lat2</span> <span class="p">==</span> <span class="m">8</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="n">lat1</span> <span class="p">=</span> <span class="n">lat1</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span> <span class="n">lat2</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">lon3</span> <span class="p">==</span> <span class="m">10</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">lon2</span> <span class="p">=</span> <span class="n">lon2</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span> <span class="n">lon3</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">lon2</span> <span class="p">==</span> <span class="m">8</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="n">lon1</span> <span class="p">=</span> <span class="n">lon1</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span> <span class="n">lon2</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>

            <span class="c1">// 3次メッシの左下（南西角）点から何度ずれているか？</span>
            <span class="n">ModLat</span> <span class="p">=</span> <span class="m">120.0</span> <span class="p">*</span> <span class="n">lat</span> <span class="p">-</span> <span class="m">80.0</span> <span class="p">*</span> <span class="n">lat1</span> <span class="p">-</span> <span class="m">10</span> <span class="p">*</span> <span class="n">lat2</span> <span class="p">-</span> <span class="n">lat3</span><span class="p">;</span> <span class="c1">// 余り。3次メッシの左下（南西角）点からどれくらいずれているか。0(西端)以上1(東端)未満</span>
            <span class="n">ModLon</span> <span class="p">=</span> <span class="m">80.0</span> <span class="p">*</span> <span class="p">(</span><span class="n">lon</span> <span class="p">-</span> <span class="p">(</span><span class="n">lon1</span> <span class="p">+</span> <span class="m">100</span><span class="p">))</span> <span class="p">-</span> <span class="m">10</span> <span class="p">*</span> <span class="n">lon2</span> <span class="p">-</span> <span class="n">lon3</span><span class="p">;</span> <span class="c1">// 余り。3次メッシの左下（南西角）点からどれくらいずれているか。0(南端)以上1(北端)未満</span>

            <span class="c1">// 計算値のチェック</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">lat2</span> <span class="p">&lt;</span> <span class="m">0</span> <span class="p">||</span> <span class="n">lat2</span> <span class="p">&gt;</span> <span class="m">7</span><span class="p">)</span>
                <span class="n">MessageBox</span><span class="p">.</span><span class="nf">Show</span><span class="p">(</span>
                    <span class="s">"緯度の2次メッシュコードが0-7の範囲にありません。 "</span> <span class="p">+</span> <span class="n">lat2</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(),</span>
                    <span class="n">mainForm</span><span class="p">.</span><span class="n">ProductName</span><span class="p">,</span>
                    <span class="n">MessageBoxButtons</span><span class="p">.</span><span class="n">OK</span><span class="p">,</span>
                    <span class="n">MessageBoxIcon</span><span class="p">.</span><span class="n">Error</span>
                    <span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">lon2</span> <span class="p">&lt;</span> <span class="m">0</span> <span class="p">||</span> <span class="n">lon2</span> <span class="p">&gt;</span> <span class="m">7</span><span class="p">)</span>
                <span class="n">MessageBox</span><span class="p">.</span><span class="nf">Show</span><span class="p">(</span>
                    <span class="s">"経度の2次メッシュコードが0-7の範囲にありません。 "</span> <span class="p">+</span> <span class="n">lon2</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(),</span>
                    <span class="n">mainForm</span><span class="p">.</span><span class="n">ProductName</span><span class="p">,</span>
                    <span class="n">MessageBoxButtons</span><span class="p">.</span><span class="n">OK</span><span class="p">,</span>
                    <span class="n">MessageBoxIcon</span><span class="p">.</span><span class="n">Error</span>
                    <span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">lat3</span> <span class="p">&lt;</span> <span class="m">0</span> <span class="p">||</span> <span class="n">lat3</span> <span class="p">&gt;</span> <span class="m">9</span><span class="p">)</span>
                <span class="n">MessageBox</span><span class="p">.</span><span class="nf">Show</span><span class="p">(</span>
                    <span class="s">"緯度の3次メッシュコードが0-9の範囲にありません。 "</span> <span class="p">+</span> <span class="n">lat3</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(),</span>
                    <span class="n">mainForm</span><span class="p">.</span><span class="n">ProductName</span><span class="p">,</span>
                    <span class="n">MessageBoxButtons</span><span class="p">.</span><span class="n">OK</span><span class="p">,</span>
                    <span class="n">MessageBoxIcon</span><span class="p">.</span><span class="n">Error</span>
                    <span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">lon3</span> <span class="p">&lt;</span> <span class="m">0</span> <span class="p">||</span> <span class="n">lon3</span> <span class="p">&gt;</span> <span class="m">9</span><span class="p">)</span>
                <span class="n">MessageBox</span><span class="p">.</span><span class="nf">Show</span><span class="p">(</span>
                    <span class="s">"経度の3次メッシュコードが0-9の範囲にありません。 "</span> <span class="p">+</span> <span class="n">lon3</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(),</span>
                    <span class="n">mainForm</span><span class="p">.</span><span class="n">ProductName</span><span class="p">,</span>
                    <span class="n">MessageBoxButtons</span><span class="p">.</span><span class="n">OK</span><span class="p">,</span>
                    <span class="n">MessageBoxIcon</span><span class="p">.</span><span class="n">Error</span>
                    <span class="p">);</span>

            <span class="c1">// 各メッシュコードの桁位置を調整し3次メッシュコードを合成する</span>
            <span class="n">LatLon1</span> <span class="p">=</span> <span class="n">lat1</span> <span class="p">*</span> <span class="m">100</span> <span class="p">+</span> <span class="n">lon1</span><span class="p">;</span> <span class="c1">// ex. 5438</span>
            <span class="n">latlon2</span> <span class="p">=</span> <span class="n">lat2</span> <span class="p">*</span> <span class="m">10</span> <span class="p">+</span> <span class="n">lon2</span><span class="p">;</span> <span class="c1">// ex. 23   00 to 77</span>
            <span class="n">latlon3</span> <span class="p">=</span> <span class="n">lat3</span> <span class="p">*</span> <span class="m">10</span> <span class="p">+</span> <span class="n">lon3</span><span class="p">;</span> <span class="c1">// ex. 45   00 to 99</span>

            <span class="n">rtn_mesh</span><span class="p">.</span><span class="n">FirstMeshCode</span> <span class="p">=</span> <span class="n">LatLon1</span><span class="p">;</span>                                      <span class="c1">// 5438</span>
            <span class="n">rtn_mesh</span><span class="p">.</span><span class="n">SecondMeshCode</span> <span class="p">=</span> <span class="n">latlon2</span><span class="p">;</span>                                      <span class="c1">// 23</span>
            <span class="n">rtn_mesh</span><span class="p">.</span><span class="n">ThridMeshCode</span> <span class="p">=</span> <span class="n">latlon3</span><span class="p">;</span>                                      <span class="c1">// 45</span>
            <span class="n">rtn_mesh</span><span class="p">.</span><span class="n">FullMeshCode</span> <span class="p">=</span> <span class="n">Convert</span><span class="p">.</span><span class="nf">ToInt64</span><span class="p">(</span><span class="n">LatLon1</span><span class="p">)</span> <span class="p">*</span> <span class="m">10000</span> <span class="p">+</span> <span class="n">latlon2</span> <span class="p">*</span> <span class="m">100</span> <span class="p">+</span> <span class="n">latlon3</span><span class="p">;</span> <span class="c1">// 54382345</span>
            <span class="n">rtn_mesh</span><span class="p">.</span><span class="n">FormedMeshCode</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">LatLon1</span><span class="p">:</span><span class="m">0000</span><span class="p">}</span><span class="s">-</span><span class="p">{</span><span class="n">latlon2</span><span class="p">:</span><span class="m">00</span><span class="p">}</span><span class="s">-</span><span class="p">{</span><span class="n">latlon3</span><span class="p">:</span><span class="m">00</span><span class="p">}</span><span class="s">"</span><span class="p">;</span> <span class="c1">// "5438-23-45"</span>
            <span class="n">rtn_mesh</span><span class="p">.</span><span class="n">ModLat</span> <span class="p">=</span> <span class="n">ModLat</span><span class="p">;</span>
            <span class="n">rtn_mesh</span><span class="p">.</span><span class="n">ModLon</span> <span class="p">=</span> <span class="n">ModLon</span><span class="p">;</span>

            <span class="k">return</span> <span class="n">rtn_mesh</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// 基本ﾒｯｼｭｺｰﾄﾞoriginMeshCodeを受け取り，隣の東，北，北東のﾒｯｼｭコードを返す[TonariMeshCode2]</span>
        <span class="c1">/// Public Type MeshCode '参考のため構造体を以下に示す</span>
        <span class="c1">/// called by Bilinear1  バイリニア補間用</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name="originMeshCode"&gt;原点のメッシュコード&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="eastMeshCode"&gt;東隣メッシュコード&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="northMeshCode"&gt;北隣メッシュコード&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name="northEastMeshCode"&gt;北東隣メッシュコード&lt;/param&gt;</span>
        <span class="k">private</span> <span class="k">void</span> <span class="nf">AdjacentMeshCode</span><span class="p">(</span><span class="n">MeshCode</span> <span class="n">originMeshCode</span><span class="p">,</span> <span class="k">ref</span> <span class="n">MeshCode</span> <span class="n">eastMeshCode</span><span class="p">,</span> <span class="k">ref</span> <span class="n">MeshCode</span> <span class="n">northMeshCode</span><span class="p">,</span> <span class="k">ref</span> <span class="n">MeshCode</span> <span class="n">northEastMeshCode</span><span class="p">)</span>
        <span class="p">{</span>

            <span class="n">MeshCode</span> <span class="n">MCbuf</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MeshCode</span><span class="p">();</span>
            <span class="kt">int</span> <span class="n">lat1</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="c1">// 1次メッシュコード</span>
            <span class="kt">int</span> <span class="n">lon1</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="c1">// 1次メッシュコード</span>
            <span class="kt">int</span> <span class="n">lat2</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="c1">// 2次メッシュコード</span>
            <span class="kt">int</span> <span class="n">lon2</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="c1">// 2次メッシュコード</span>
            <span class="kt">int</span> <span class="n">lat3</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="c1">// 3次メッシュコード</span>
            <span class="kt">int</span> <span class="n">lon3</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="c1">// 3次メッシュコード</span>
            <span class="kt">int</span> <span class="n">lat1out</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="c1">// 1次メッシュコード</span>
            <span class="kt">int</span> <span class="n">lon1out</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="c1">// 1次メッシュコード</span>
            <span class="kt">int</span> <span class="n">latlon1out</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="c1">// 1次メッシュコード</span>
            <span class="kt">int</span> <span class="n">lat2out</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="c1">// 2次メッシュコード</span>
            <span class="kt">int</span> <span class="n">lon2out</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="c1">// 2次メッシュコード</span>
            <span class="kt">int</span> <span class="n">latlon2out</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="c1">// 2次メッシュコード</span>
            <span class="kt">int</span> <span class="n">lat3out</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="c1">// 3次メッシュコード</span>
            <span class="kt">int</span> <span class="n">lon3out</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="c1">// 3次メッシュコード</span>
            <span class="kt">int</span> <span class="n">latlon3out</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="c1">// 3次メッシュコード</span>

            <span class="c1">// ①まず基本ﾒｯｼｭｺｰﾄﾞを分解し要素を取り出す。</span>
            <span class="c1">// 1次メッシュコード各2桁             'ex.54382345</span>
            <span class="n">lat1</span> <span class="p">=</span> <span class="n">originMeshCode</span><span class="p">.</span><span class="n">FirstMeshCode</span> <span class="p">/</span> <span class="m">100</span><span class="p">;</span>          <span class="c1">// ex.54</span>
            <span class="n">lon1</span> <span class="p">=</span> <span class="n">originMeshCode</span><span class="p">.</span><span class="n">FirstMeshCode</span> <span class="p">%</span> <span class="m">100</span><span class="p">;</span>        <span class="c1">// ex.38</span>
                                               <span class="c1">// 2次メッシュコード各1桁</span>
            <span class="n">lat2</span> <span class="p">=</span> <span class="n">originMeshCode</span><span class="p">.</span><span class="n">SecondMeshCode</span> <span class="p">/</span> <span class="m">10</span><span class="p">;</span>           <span class="c1">// ex.2</span>
            <span class="n">lon2</span> <span class="p">=</span> <span class="n">originMeshCode</span><span class="p">.</span><span class="n">SecondMeshCode</span> <span class="p">%</span> <span class="m">10</span><span class="p">;</span>         <span class="c1">// ex.3</span>
                                               <span class="c1">// 3次メッシュコード各1桁</span>
            <span class="n">lat3</span> <span class="p">=</span> <span class="n">originMeshCode</span><span class="p">.</span><span class="n">ThridMeshCode</span> <span class="p">/</span> <span class="m">10</span><span class="p">;</span>           <span class="c1">// ex.4</span>
            <span class="n">lon3</span> <span class="p">=</span> <span class="n">originMeshCode</span><span class="p">.</span><span class="n">ThridMeshCode</span> <span class="p">%</span> <span class="m">10</span><span class="p">;</span>         <span class="c1">// ex.5</span>

            <span class="c1">// 東側ﾒｯｼｭ</span>
            <span class="c1">// ②出力変数に代入したあと，となりのﾒｯｼｭｺｰﾄﾞを計算する。</span>
            <span class="n">lat1out</span> <span class="p">=</span> <span class="n">lat1</span><span class="p">;</span>
            <span class="n">lon1out</span> <span class="p">=</span> <span class="n">lon1</span><span class="p">;</span>
            <span class="n">lat2out</span> <span class="p">=</span> <span class="n">lat2</span><span class="p">;</span>
            <span class="n">lon2out</span> <span class="p">=</span> <span class="n">lon2</span><span class="p">;</span>
            <span class="n">lat3out</span> <span class="p">=</span> <span class="n">lat3</span><span class="p">;</span>
            <span class="n">lon3out</span> <span class="p">=</span> <span class="n">lon3</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">lon3</span> <span class="p">!=</span> <span class="m">9</span><span class="p">)</span>
                <span class="n">lon3out</span> <span class="p">=</span> <span class="n">lon3</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span>
            <span class="k">else</span>
            <span class="p">{</span>
                <span class="n">lon3out</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">lon2</span> <span class="p">!=</span> <span class="m">7</span><span class="p">)</span>
                    <span class="n">lon2out</span> <span class="p">=</span> <span class="n">lon2</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span>
                <span class="k">else</span>
                <span class="p">{</span>
                    <span class="n">lon2out</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
                    <span class="n">lon1out</span> <span class="p">=</span> <span class="n">lon1</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>

            <span class="c1">// ③各メッシュコードの桁位置を調整し3次メッシュコードを合成する</span>
            <span class="n">latlon1out</span> <span class="p">=</span> <span class="n">lat1out</span> <span class="p">*</span> <span class="m">100</span> <span class="p">+</span> <span class="n">lon1out</span><span class="p">;</span> <span class="c1">// ex. 5438</span>
            <span class="n">latlon2out</span> <span class="p">=</span> <span class="n">lat2out</span> <span class="p">*</span> <span class="m">10</span> <span class="p">+</span> <span class="n">lon2out</span><span class="p">;</span>  <span class="c1">// ex. 23   00 to 77</span>
            <span class="n">latlon3out</span> <span class="p">=</span> <span class="n">lat3out</span> <span class="p">*</span> <span class="m">10</span> <span class="p">+</span> <span class="n">lon3out</span><span class="p">;</span>  <span class="c1">// ex. 45   00 to 99</span>

            <span class="c1">// ④結果を仮の変数に代入</span>
            <span class="n">MCbuf</span><span class="p">.</span><span class="n">FirstMeshCode</span> <span class="p">=</span> <span class="n">latlon1out</span><span class="p">;</span>                                   <span class="c1">// 5438</span>
            <span class="n">MCbuf</span><span class="p">.</span><span class="n">SecondMeshCode</span> <span class="p">=</span> <span class="n">latlon2out</span><span class="p">;</span>                                   <span class="c1">// 23</span>
            <span class="n">MCbuf</span><span class="p">.</span><span class="n">ThridMeshCode</span> <span class="p">=</span> <span class="n">latlon3out</span><span class="p">;</span>                                   <span class="c1">// 45</span>
            <span class="n">MCbuf</span><span class="p">.</span><span class="n">FullMeshCode</span> <span class="p">=</span> <span class="n">Convert</span><span class="p">.</span><span class="nf">ToInt64</span><span class="p">(</span><span class="n">latlon1out</span><span class="p">)</span> <span class="p">*</span> <span class="m">10000</span> <span class="p">+</span> <span class="n">latlon2out</span> <span class="p">*</span> <span class="m">100</span> <span class="p">+</span> <span class="n">latlon3out</span><span class="p">;</span> <span class="c1">// 54382345</span>
            <span class="n">MCbuf</span><span class="p">.</span><span class="n">FormedMeshCode</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">latlon1out</span><span class="p">:</span><span class="m">0000</span><span class="p">}</span><span class="s">-</span><span class="p">{</span><span class="n">latlon2out</span><span class="p">:</span><span class="m">00</span><span class="p">}</span><span class="s">-</span><span class="p">{</span><span class="n">latlon3out</span><span class="p">:</span><span class="m">00</span><span class="p">}</span><span class="s">"</span><span class="p">;</span> <span class="c1">// "5438-23-45"</span>

            <span class="c1">// ⑤仮の変数から本当の変数に代入</span>
            <span class="n">eastMeshCode</span> <span class="p">=</span> <span class="n">MCbuf</span><span class="p">;</span>

            <span class="c1">// 北側ﾒｯｼｭ</span>
            <span class="c1">// ②出力変数に代入したあと，となりのﾒｯｼｭｺｰﾄﾞを計算する。</span>
            <span class="n">lat1out</span> <span class="p">=</span> <span class="n">lat1</span><span class="p">;</span>
            <span class="n">lon1out</span> <span class="p">=</span> <span class="n">lon1</span><span class="p">;</span>
            <span class="n">lat2out</span> <span class="p">=</span> <span class="n">lat2</span><span class="p">;</span>
            <span class="n">lon2out</span> <span class="p">=</span> <span class="n">lon2</span><span class="p">;</span>
            <span class="n">lat3out</span> <span class="p">=</span> <span class="n">lat3</span><span class="p">;</span>
            <span class="n">lon3out</span> <span class="p">=</span> <span class="n">lon3</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">lat3</span> <span class="p">!=</span> <span class="m">9</span><span class="p">)</span>
                <span class="n">lat3out</span> <span class="p">=</span> <span class="n">lat3</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span>
            <span class="k">else</span>
            <span class="p">{</span>
                <span class="n">lat3out</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">lat2</span> <span class="p">!=</span> <span class="m">7</span><span class="p">)</span>
                    <span class="n">lat2out</span> <span class="p">=</span> <span class="n">lat2</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span>
                <span class="k">else</span>
                <span class="p">{</span>
                    <span class="n">lat2out</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
                    <span class="n">lat1out</span> <span class="p">=</span> <span class="n">lat1</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>

            <span class="c1">// ③各メッシュコードの桁位置を調整し3次メッシュコードを合成する</span>
            <span class="n">latlon1out</span> <span class="p">=</span> <span class="n">lat1out</span> <span class="p">*</span> <span class="m">100</span> <span class="p">+</span> <span class="n">lon1out</span><span class="p">;</span> <span class="c1">// ex. 5438</span>
            <span class="n">latlon2out</span> <span class="p">=</span> <span class="n">lat2out</span> <span class="p">*</span> <span class="m">10</span> <span class="p">+</span> <span class="n">lon2out</span><span class="p">;</span>  <span class="c1">// ex. 23   00 to 77</span>
            <span class="n">latlon3out</span> <span class="p">=</span> <span class="n">lat3out</span> <span class="p">*</span> <span class="m">10</span> <span class="p">+</span> <span class="n">lon3out</span><span class="p">;</span>  <span class="c1">// ex. 45   00 to 99</span>

            <span class="c1">// ④結果を仮の変数に代入</span>
            <span class="n">MCbuf</span><span class="p">.</span><span class="n">FirstMeshCode</span> <span class="p">=</span> <span class="n">latlon1out</span><span class="p">;</span>                                   <span class="c1">// 5438</span>
            <span class="n">MCbuf</span><span class="p">.</span><span class="n">SecondMeshCode</span> <span class="p">=</span> <span class="n">latlon2out</span><span class="p">;</span>                                   <span class="c1">// 23</span>
            <span class="n">MCbuf</span><span class="p">.</span><span class="n">ThridMeshCode</span> <span class="p">=</span> <span class="n">latlon3out</span><span class="p">;</span>                                   <span class="c1">// 45</span>
            <span class="n">MCbuf</span><span class="p">.</span><span class="n">FullMeshCode</span> <span class="p">=</span> <span class="n">Convert</span><span class="p">.</span><span class="nf">ToInt64</span><span class="p">(</span><span class="n">latlon1out</span><span class="p">)</span> <span class="p">*</span> <span class="m">10000</span> <span class="p">+</span> <span class="n">latlon2out</span> <span class="p">*</span> <span class="m">100</span> <span class="p">+</span> <span class="n">latlon3out</span><span class="p">;</span> <span class="c1">// 54382345</span>
            <span class="n">MCbuf</span><span class="p">.</span><span class="n">FormedMeshCode</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">latlon1out</span><span class="p">:</span><span class="m">0000</span><span class="p">}</span><span class="s">-</span><span class="p">{</span><span class="n">latlon2out</span><span class="p">:</span><span class="m">00</span><span class="p">}</span><span class="s">-</span><span class="p">{</span><span class="n">latlon3out</span><span class="p">:</span><span class="m">00</span><span class="p">}</span><span class="s">"</span><span class="p">;</span> <span class="c1">// "5438-23-45"</span>

            <span class="c1">// ⑤仮の変数から本当の変数に代入</span>
            <span class="n">northMeshCode</span> <span class="p">=</span> <span class="n">MCbuf</span><span class="p">;</span>

            <span class="c1">// 北東側ﾒｯｼｭ</span>
            <span class="c1">// ②出力変数に代入したあと，となりのﾒｯｼｭｺｰﾄﾞを計算する。</span>
            <span class="n">lat1out</span> <span class="p">=</span> <span class="n">lat1</span><span class="p">;</span>
            <span class="n">lon1out</span> <span class="p">=</span> <span class="n">lon1</span><span class="p">;</span>
            <span class="n">lat2out</span> <span class="p">=</span> <span class="n">lat2</span><span class="p">;</span>
            <span class="n">lon2out</span> <span class="p">=</span> <span class="n">lon2</span><span class="p">;</span>
            <span class="n">lat3out</span> <span class="p">=</span> <span class="n">lat3</span><span class="p">;</span>
            <span class="n">lon3out</span> <span class="p">=</span> <span class="n">lon3</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">lon3</span> <span class="p">!=</span> <span class="m">9</span><span class="p">)</span>
                <span class="n">lon3out</span> <span class="p">=</span> <span class="n">lon3</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span>
            <span class="k">else</span>
            <span class="p">{</span>
                <span class="n">lon3out</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">lon2</span> <span class="p">!=</span> <span class="m">7</span><span class="p">)</span>
                    <span class="n">lon2out</span> <span class="p">=</span> <span class="n">lon2</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span>
                <span class="k">else</span>
                <span class="p">{</span>
                    <span class="n">lon2out</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
                    <span class="n">lon1out</span> <span class="p">=</span> <span class="n">lon1</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">lat3</span> <span class="p">!=</span> <span class="m">9</span><span class="p">)</span>
                <span class="n">lat3out</span> <span class="p">=</span> <span class="n">lat3</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span>
            <span class="k">else</span>
            <span class="p">{</span>
                <span class="n">lat3out</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">lat2</span> <span class="p">!=</span> <span class="m">7</span><span class="p">)</span>
                    <span class="n">lat2out</span> <span class="p">=</span> <span class="n">lat2</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span>
                <span class="k">else</span>
                <span class="p">{</span>
                    <span class="n">lat2out</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
                    <span class="n">lat1out</span> <span class="p">=</span> <span class="n">lat1</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>

            <span class="c1">// ③各メッシュコードの桁位置を調整し3次メッシュコードを合成する</span>
            <span class="n">latlon1out</span> <span class="p">=</span> <span class="n">lat1out</span> <span class="p">*</span> <span class="m">100</span> <span class="p">+</span> <span class="n">lon1out</span><span class="p">;</span> <span class="c1">// ex. 5438</span>
            <span class="n">latlon2out</span> <span class="p">=</span> <span class="n">lat2out</span> <span class="p">*</span> <span class="m">10</span> <span class="p">+</span> <span class="n">lon2out</span><span class="p">;</span>  <span class="c1">// ex. 23   00 to 77</span>
            <span class="n">latlon3out</span> <span class="p">=</span> <span class="n">lat3out</span> <span class="p">*</span> <span class="m">10</span> <span class="p">+</span> <span class="n">lon3out</span><span class="p">;</span>  <span class="c1">// ex. 45   00 to 99</span>

            <span class="c1">// ④結果を仮の変数に代入</span>
            <span class="n">MCbuf</span><span class="p">.</span><span class="n">FirstMeshCode</span> <span class="p">=</span> <span class="n">latlon1out</span><span class="p">;</span>                                   <span class="c1">// 5438</span>
            <span class="n">MCbuf</span><span class="p">.</span><span class="n">SecondMeshCode</span> <span class="p">=</span> <span class="n">latlon2out</span><span class="p">;</span>                                   <span class="c1">// 23</span>
            <span class="n">MCbuf</span><span class="p">.</span><span class="n">ThridMeshCode</span> <span class="p">=</span> <span class="n">latlon3out</span><span class="p">;</span>                                   <span class="c1">// 45</span>
            <span class="n">MCbuf</span><span class="p">.</span><span class="n">FullMeshCode</span> <span class="p">=</span> <span class="n">Convert</span><span class="p">.</span><span class="nf">ToInt64</span><span class="p">(</span><span class="n">latlon1out</span><span class="p">)</span> <span class="p">*</span> <span class="m">10000</span> <span class="p">+</span> <span class="n">latlon2out</span> <span class="p">*</span> <span class="m">100</span> <span class="p">+</span> <span class="n">latlon3out</span><span class="p">;</span> <span class="c1">// 54382345</span>
            <span class="n">MCbuf</span><span class="p">.</span><span class="n">FormedMeshCode</span> <span class="p">=</span> <span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="n">latlon1out</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(),</span> <span class="s">"0000"</span><span class="p">)</span> <span class="p">+</span> <span class="s">"-"</span> <span class="p">+</span> <span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="n">latlon2out</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(),</span> <span class="s">"00"</span><span class="p">)</span> <span class="p">+</span> <span class="s">"-"</span> <span class="p">+</span> <span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="n">latlon3out</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(),</span> <span class="s">"00"</span><span class="p">);</span> <span class="c1">// "5438-23-45"</span>

            <span class="c1">// ⑤仮の変数から本当の変数に代入</span>
            <span class="n">northEastMeshCode</span> <span class="p">=</span> <span class="n">MCbuf</span><span class="p">;</span>
        <span class="p">}</span>        

    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p></p>
</div></details></p>

<h2>
<span id="使い方" class="fragment"></span><a href="#%E4%BD%BF%E3%81%84%E6%96%B9"><i class="fa fa-link"></i></a>使い方</h2>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre class="with-code"><code>    <span class="n">Tky2jgd</span><span class="p">.</span><span class="n">Tky2jgd</span> <span class="n">zahyou_converter</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Tky2jgd</span><span class="p">.</span><span class="nf">Tky2jgd</span><span class="p">(</span><span class="n">stParentName01</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>
    <span class="n">zahyou_converter</span><span class="p">.</span><span class="nf">FileConvertBatch</span><span class="p">();</span>
</code></pre></div></div>

<p>このようにやることで、 <code>stParentName01</code> フォルダ内の、 <code>zahyou.in</code> ファイルを読み込み、 <code>zahyou.out</code> ファイルを変換結果として出力します。<br>
第3～5引数を指定することで、<code>zahyou.in</code> <code>zahyou.out</code> <code>TKY2JGD.par</code> の各ファイル名を指定することもできます。</p>

<h2>
<span id="最後に" class="fragment"></span><a href="#%E6%9C%80%E5%BE%8C%E3%81%AB"><i class="fa fa-link"></i></a>最後に</h2>

<p>大元のソフトウェアを開発してくださった国土地理院の <strong>飛田幹男</strong> 氏に感謝を。<br>
またソフトウェアの改変については、<a href="https://www.gsi.go.jp/kikakuchousei/kikakuchousei40182.html" rel="nofollow noopener" target="_blank">国土地理院の規約</a> を確認の上、問題ないと判断し私が対応したものとなります。<br>
C#版につきまして疑問が生じた場合には <strong>国土地理院に対して質問等を行うことが無いようお願いいたします</strong> 。</p>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2Ftaedookim%2Fitems%2F86a4ace582a0053ee9fc&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2Ftaedookim%2Fitems%2F86a4ace582a0053ee9fc&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/taedookim/items/86a4ace582a0053ee9fc/likers" class="css-1iupg5d">1</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">2</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/86a4ace582a0053ee9fc/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/taedookim/items/86a4ace582a0053ee9fc/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/taedookim/items/86a4ace582a0053ee9fc/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/taedookim/items/86a4ace582a0053ee9fc/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/taedookim/items/86a4ace582a0053ee9fc.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-e8af1705-0ad9-4885-814a-82a07ee72f02">{"authorAnalyticsTrackingId":null,"organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-4eef8b7e-a22b-4b7b-8e20-86ae59216af2"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-4eef8b7e-a22b-4b7b-8e20-86ae59216af2">{}</script>
      
<div id="LoginModal-react-component-aad828a9-340d-4d6e-a272-59773a875b2c"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-aad828a9-340d-4d6e-a272-59773a875b2c">{}</script>
      
<div id="StockModal-react-component-c7f00b78-ca04-4def-be2c-2c38da001a5b"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-c7f00b78-ca04-4def-be2c-2c38da001a5b">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;wKAkfDNE/nyTiaVAUo69eu7me5NOdt/YnCqE10TSE16hLdhlAtqMLiG33j/htuYIL8JN5BhWOf7R8XPF9eYNmg==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\n\u003ch2\u003e\n\u003cspan id=\"tky2jgdとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#tky2jgd%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e　TKY2JGDとは。\u003c/h2\u003e\n\n\u003cp\u003eキーワードをたどってこのページを読まれている方はご存知の方がほとんどだとは思いますが、国土地理院が配布する日本測地系という座標系の緯度・経度を、現在業界標準で使われている世界測地系という緯度・経度の座標系に変換する機能を提供するソフトウェアです。\u003cbr\u003e\n\u003ca href=\"https://www.gsi.go.jp/sokuchikijun/tky2jgd.html\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.gsi.go.jp/sokuchikijun/tky2jgd.html\u003c/a\u003e\u003cbr\u003e\n元々フリーウェアとして上記サイト上で配布されていたのですが、元のソースがVBで1990年代のソフトウェアということですでにかなり古くなっており、脆弱性が見つかったことでバイナリの配布はすでに終了し、現在はソースコードの配布と、Web版の利用のみ続けられている状況です。\u003cbr\u003e\n\u003ca href=\"https://vldb.gsi.go.jp/sokuchi/surveycalc/tky2jgd/main.html\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://vldb.gsi.go.jp/sokuchi/surveycalc/tky2jgd/main.html\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"なぜcに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AA%E3%81%9Cc%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eなぜC#に？\u003c/h2\u003e\n\n\u003cp\u003e私がかかわっているプロジェクトで上記ソフトウェアを利用しているのですが、Web版でも一括変換機能が提供されているものの1度に2万件までという制限があり、配布されていた実行ファイルを利用して処理を行っていました。\u003cbr\u003e\nところが、このローカル版の配布が終了。また配布されているソースのプロジェクトがVB5.0で開発されていたものということで実行環境も古くなっており、Windows10では動作しないという状況になりました。\u003c/p\u003e\n\n\u003cp\u003eご存知の通り、先日Window7のサポートが終了したことで、社内マシンをWindows10環境に入れ替える必要が出てきたことから、Windows10対応のツールを作成する必要が出てきたため、配布されているソースをもとにC#に置き換える対応を実施したものです。\u003cbr\u003e\n同種のことでお困りの方がいるかなとGitHubでの公開も考えたのですが\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eおそらく需要は日本国内だけ\u003c/li\u003e\n\u003cli\u003e社内向けツールのため（下の前提条件にも書いていますが）公開対象は動作するプロジェクト全体ではなく、TKY2JGDから置き換えた1ファイルのみ\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eと考えたことから、こちらに張っておけば、必要な方には届くだろうと判断し、こちらにソースコードを貼ることで公開としました。\u003cbr\u003e\nご利用の際には適宜、ご自身のプロジェクト内に取り込む形で修正・改修を行ってご利用ください。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"なお自分が利用する範囲内で計算結果が従来のソフトウェアと変わらないことの確認は行っていますが計算結果の正当性や本コードを利用して発生する不利益に対するいかなる補償もいたしかねますのでご利用の際は自己責任においてご利用いただきますようご承知ください\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AA%E3%81%8A%E8%87%AA%E5%88%86%E3%81%8C%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B%E7%AF%84%E5%9B%B2%E5%86%85%E3%81%A7%E8%A8%88%E7%AE%97%E7%B5%90%E6%9E%9C%E3%81%8C%E5%BE%93%E6%9D%A5%E3%81%AE%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E3%81%A8%E5%A4%89%E3%82%8F%E3%82%89%E3%81%AA%E3%81%84%E3%81%93%E3%81%A8%E3%81%AE%E7%A2%BA%E8%AA%8D%E3%81%AF%E8%A1%8C%E3%81%A3%E3%81%A6%E3%81%84%E3%81%BE%E3%81%99%E3%81%8C%E8%A8%88%E7%AE%97%E7%B5%90%E6%9E%9C%E3%81%AE%E6%AD%A3%E5%BD%93%E6%80%A7%E3%82%84%E6%9C%AC%E3%82%B3%E3%83%BC%E3%83%89%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6%E7%99%BA%E7%94%9F%E3%81%99%E3%82%8B%E4%B8%8D%E5%88%A9%E7%9B%8A%E3%81%AB%E5%AF%BE%E3%81%99%E3%82%8B%E3%81%84%E3%81%8B%E3%81%AA%E3%82%8B%E8%A3%9C%E5%84%9F%E3%82%82%E3%81%84%E3%81%9F%E3%81%97%E3%81%8B%E3%81%AD%E3%81%BE%E3%81%99%E3%81%AE%E3%81%A7%E3%81%94%E5%88%A9%E7%94%A8%E3%81%AE%E9%9A%9B%E3%81%AF%E8%87%AA%E5%B7%B1%E8%B2%AC%E4%BB%BB%E3%81%AB%E3%81%8A%E3%81%84%E3%81%A6%E3%81%94%E5%88%A9%E7%94%A8%E3%81%84%E3%81%9F%E3%81%A0%E3%81%8D%E3%81%BE%E3%81%99%E3%82%88%E3%81%86%E3%81%94%E6%89%BF%E7%9F%A5%E3%81%8F%E3%81%A0%E3%81%95%E3%81%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eなお、自分が利用する範囲内で計算結果が従来のソフトウェアと変わらないことの確認は行っていますが、計算結果の正当性や、本コードを利用して発生する不利益に対するいかなる補償もいたしかねますので、ご利用の際は自己責任においてご利用いただきますよう、ご承知ください。\u003c/h3\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"前提条件\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%89%8D%E6%8F%90%E6%9D%A1%E4%BB%B6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e前提条件\u003c/h2\u003e\n\n\u003cp\u003e今回、私の業務に沿った対応のみ行っており、以下のような形で置き換えを行っています。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e私は元々、座標空間系の処理を専門とする者ではないため、座標計算の正当性については判断がついていません。このため、座標処理の部分についてはVBの計算式をC#に置き換えるということだけに注力しました。（結果が、旧来のソフトウェアの変換結果と同じ値になることをもって正と判断しています）\u003c/li\u003e\n\u003cli\u003e修正対象としたのは、元のプロジェクトの中で座標変換のコア計算を行っている \u003cstrong\u003emodTky2jgd.bas\u003c/strong\u003e のみです。\u003c/li\u003e\n\u003cli\u003e各メソッド冒頭には、C#の標準（と思われる）形式に書き直した形で元々記載されていたコメントを記述しています。また[]内に、VBで利用されていた元のメソッド名を記載していますので、処理内容を確認する際にご利用ください。\u003c/li\u003e\n\u003cli\u003e処理ロジック部分については、例えば \u003ccode\u003e文字列を走査して文字数をカウントしながら分割処理を行っているような箇所は Splitメソッドに置き換える\u003c/code\u003e など、できるだけわかりやすい形への置き換えを行ったつもりです。\u003c/li\u003e\n\u003cli\u003e各部分のコメントについても処理内容の正当性が判断つかないため、（一部手直しはしているもののの）基本的には元ソースにあったものをそのまま残しています。\u003c/li\u003e\n\u003cli\u003e変数名、メソッド名のコーディングルールはある程度VBからC#向けのものに置き換えました。ただ、そもそもC#もあまり得意ではないため、あまりC#らしからぬコーディングになっている箇所が多々あるかと思いますがお目こぼしいただければと思います。\u003c/li\u003e\n\u003cli\u003e元のソースでは、ソフトウェアのフォームオブジェクトにテキストボックスが配置され、各種数値が入力されていたことから、その入力値が適正かどうか判断するロジックが入っていましたが、これらの処理は不要（あらかじめチェック済みの前提）としています。\u003c/li\u003e\n\u003cli\u003e元のソースでは、画面上でいくつか設定を行い、その設定値に合わせて動的に入力・出力を判断していましたが、今回、私のプロジェクトで必要だったのが \u003ccode\u003e緯度経度\u003c/code\u003e  \u003ccode\u003eファイル一括\u003c/code\u003e \u003ccode\u003e出力ファイルに入力値を出力する\u003c/code\u003e の設定だったため、 \u003cstrong\u003eこれらのロジック以外の部分は検証は行っておりません\u003c/strong\u003e 。（パラメータを定数として設定しているため、Visual Studioでソースを読み込むと \u003ccode\u003e到達できないコード\u003c/code\u003e がみつかるのもそのためです）。\u003c/li\u003e\n\u003cli\u003e変換に必要な地域パラメータファイルは、国土地理院の配布サイトから取得してください。このファイルの現状では、全国版の \u003ccode\u003eTKY2JGD.par\u003c/code\u003e ファイルを、同一プログラム内のリソースとして保存してあるものを読み込むようにしていますが、特定地域のみにしたり、またプロジェクト内に保存せずに動的リソースとして読み込むような場合は、コンストラクタ部分と \u003ccode\u003ereadParameters()\u003c/code\u003e メソッド内の処理を適宜書き換えてお使いください。\u003c/li\u003e\n\u003cli\u003eソース内の \u003ccode\u003eMainForm mainForm\u003c/code\u003e \u003ccode\u003eCommonUtils\u003c/code\u003e \u003ccode\u003eConstString\u003c/code\u003e 当たりは、私が作成しているプロジェクト部分になります。画面表示やログ出力、メッセージ用の文字列定数等々となりますので、適宜書き換えてご利用ください。\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eということで、置き換え後のファイルがこちらになります。\u003c/p\u003e\n\n\u003cp\u003e\u003cdetails\u003e\u003csummary\u003eTky2jgd.cs\u003c/summary\u003e\u003cdiv\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003etky2jgd.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"cm\"\u003e/***\n * Original Program TKY2JGD https://www.gsi.go.jp/sokuchikijun/tky2jgd_download.html\n * witten by (C) Mikio TOBITA 飛田幹男，国土地理院\n * with Visual Basic 5.0\n * \n * convert to C# authering by Tezuka Yasuto 手塚泰斗\n * 2020-03-24\n * \n ***/\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eMeiboConverter\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.IO\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Reflection\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Text\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Windows.Forms\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003enamespace\u003c/span\u003e \u003cspan class=\"nn\"\u003eTky2jgd\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eTky2jgd\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eMainForm\u003c/span\u003e \u003cspan class=\"n\"\u003emainForm\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003einFileName\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// 入力ファイル名，出力ファイル名\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eoutFileName\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 入力ファイル名，出力ファイル名\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eparFileName\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// 変換パラメータファイルのフルパス名\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eparVersion\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// 返還パラメータファイルのVersion番号\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e// パラメータファイル読み込み\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003elong\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003eparamMeshCode\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e  \u003cspan class=\"c1\"\u003e//1行1ｸﾞﾘｯﾄﾞ型ﾃﾞｰﾀ変換ﾊﾟﾗﾒｰﾀを格納\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003eparamDiffBeta\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e  \u003cspan class=\"c1\"\u003e//1行1ｸﾞﾘｯﾄﾞ型ﾃﾞｰﾀ変換ﾊﾟﾗﾒｰﾀを格納\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003eparamDiffLambda\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e  \u003cspan class=\"c1\"\u003e//1行1ｸﾞﾘｯﾄﾞ型ﾃﾞｰﾀ変換ﾊﾟﾗﾒｰﾀを格納\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003estruct\u003c/span\u003e \u003cspan class=\"nc\"\u003eMeshCode\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eFirstMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e    \u003cspan class=\"c1\"\u003e//１次メッシュコード　4桁 ex.5438\u003c/span\u003e\n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eSecondMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e    \u003cspan class=\"c1\"\u003e//２次メッシュコード　2桁 ex.23\u003c/span\u003e\n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eThridMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e    \u003cspan class=\"c1\"\u003e//３次メッシュコード　2桁 ex.45\u003c/span\u003e\n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003elong\u003c/span\u003e \u003cspan class=\"n\"\u003eFullMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"c1\"\u003e//すべて                 ex.54382345\u003c/span\u003e\n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eFormedMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"c1\"\u003e//正式な形式の文字列型    ex.\"5438-23-45\"\u003c/span\u003e\n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eModLat\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e  \u003cspan class=\"c1\"\u003e//余り。3次メッシュの左下（南西角）点からどれくらいずれているか。0(西端)以上1(東端)未満\u003c/span\u003e\n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eModLon\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e  \u003cspan class=\"c1\"\u003e//余り。3次メッシュの左下（南西角）点からどれくらいずれているか。0(南端)以上1(北端)未満\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003estruct\u003c/span\u003e \u003cspan class=\"nc\"\u003eTranPara\u003c/span\u003e  \u003cspan class=\"c1\"\u003e//座標変換パラメータ緯度差，経度差の構造体を定義\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eDiffBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eDiffLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ePI\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e3.14159265358979\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e       \u003cspan class=\"c1\"\u003e// 円周率\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eDoublePI\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e6.28318530717959\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 円周率*2\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eHalfPI\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e1.5707963267949\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e    \u003cspan class=\"c1\"\u003e// 円周率/2\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eRadToDeg\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e57.2957795130823\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e//ラジアンを度にするため掛ける数\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eDegToRad\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e1.74532925199433E-02\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e//度をラジアンにするため掛ける数\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eROBYO\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e206264.806247\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e          \u003cspan class=\"c1\"\u003e//3600*180/PI\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003estruct\u003c/span\u003e \u003cspan class=\"nc\"\u003eEllipParam\u003c/span\u003e  \u003cspan class=\"c1\"\u003e//楕円体パラメータの構造体を定義\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eAxix\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e   \u003cspan class=\"c1\"\u003e//semimajor axix in meter\u003c/span\u003e\n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eFlattening1\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e  \u003cspan class=\"c1\"\u003e//reciprocal flattening\u003c/span\u003e\n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eFlattening\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e   \u003cspan class=\"c1\"\u003e//flattening\u003c/span\u003e\n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e   \u003cspan class=\"c1\"\u003e//squared eccentricity\u003c/span\u003e\n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eNamec\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e   \u003cspan class=\"c1\"\u003e//ellipsoid name\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eEllipParam\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e   \u003cspan class=\"c1\"\u003e// EP[0]はBessel楕円体=日本測地系，EP[1]はGRS-80楕円体=世界測地系\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003eallThreeParamFlag\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e  \u003cspan class=\"c1\"\u003e//すべて3parameterによる計算を行うかどうか。今回はfalse固定\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003einputOutFlag\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e   \u003cspan class=\"c1\"\u003e//出力ファイルに入力情報を記録するかのフラグ。元々は画面で切り替えできるが今回は true 固定\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003einputOptR3Flag\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e//設定画面の設定 「地域ごとのパラメータ」が無かったら、「3パラメータ」で変換する。今回はfalse固定\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// コンストラクタ\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"targetDir\"\u0026gt;入力ファイル、出力ファイルのフォルダパス\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"thisForm\"\u0026gt;表示している画面フォーム。各種情報を表示する際の操作に使用\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inFile\"\u0026gt;入力ファイル。デフォルトは既存プログラムに従いzahyou.in\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"outFile\"\u0026gt;出力ファイル。デフォルトは既存プログラムに従いzahyou.out\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"parmFile\"\u0026gt;パラメータファイル。デフォルトは既存プログラムの全国版でTKY2JGD.par。リソースから読み込んで処理する場合は指定は不要\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003eTky2jgd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003etargetDir\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eMainForm\u003c/span\u003e \u003cspan class=\"n\"\u003ethisForm\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003einFile\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\\\\zahyou.in\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eoutFile\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\\\\zahyou.out\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eparmFile\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\\\\TKY2JGD.par\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// ファイル名関連の固定値設定\u003c/span\u003e\n            \u003cspan class=\"n\"\u003einFileName\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etargetDir\u003c/span\u003e\u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003einFile\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eoutFileName\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etargetDir\u003c/span\u003e\u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eoutFile\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eparFileName\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eApplication\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStartupPath\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eparmFile\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e//楕円体ﾊﾟﾗﾒｰﾀの設定\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e//楕円体パラメータ。0：ベッセル楕円体，1：GRS-80楕円体\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eEllipParam\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eAxix\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e6377397.155\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eFlattening1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e299.152813\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eNamec\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Bessel\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eFlattening\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eFlattening1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e2.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eFlattening1\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eFlattening1\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eFlattening1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e  \u003cspan class=\"c1\"\u003e//=e*e (squared e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eAxix\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e6378137.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eFlattening1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e298.257222101\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eNamec\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"GRS-80\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eFlattening\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eFlattening1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e2.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eFlattening1\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eFlattening1\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eFlattening1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e  \u003cspan class=\"c1\"\u003e//=e*e (squared e)\u003c/span\u003e\n\n            \u003cspan class=\"n\"\u003emainForm\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ethisForm\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// パラメータファイルの読み込み\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eparVersion\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003eReadParamFile\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 地域ごとパラメータファイル(TKY2JGD.par)の読み込み\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 読み込みに成功したら\"\"でなく，Versionを返す\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;returns\u0026gt;\u0026lt;/returns\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"nf\"\u003eReadParamFile\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 1行1ｸﾞﾘｯﾄﾞ型ﾊﾟﾗﾒｰﾀﾌｧｲﾙを読み込みます。\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// ﾌｧｲﾙ形式例２（２行抜粋）：\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 3次ﾒｯｼｭｺｰﾄﾞ  dB(\")    dL(\")\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 46305526  12.74179  -8.18083\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 46305624  12.75169  -8.20710\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003elong\u003c/span\u003e \u003cspan class=\"n\"\u003elineCount\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003efirstLine\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003esecondLine\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// リソースの中に保存した TKY2JGD.par ファイルを使う場合のロジック\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003eparamFile\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMeiboConverter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eProperties\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eResources\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTKY2JGD\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eparamLines\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEncoding\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetEncoding\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"shift_jis\"\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetString\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eparamFile\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003elineArray\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eparamLines\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSplit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"sc\"\u003e'\\n'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eparamMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"kt\"\u003elong\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003elineArray\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eparamDiffBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003elineArray\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eparamDiffLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003elineArray\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eforeach\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eline\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003elineArray\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eswitch\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elineCount\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003ecase\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003efirstLine\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eline\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                        \u003cspan class=\"k\"\u003ebreak\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003ecase\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003esecondLine\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eline\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                        \u003cspan class=\"k\"\u003ebreak\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003edefault\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eline\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                            \u003cspan class=\"k\"\u003econtinue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                        \u003cspan class=\"c1\"\u003e// parファイルの読み込み行。Debug用処理だが有効にしていると処理にかなり時間がかかるのでコメント\u003c/span\u003e\n                        \u003cspan class=\"c1\"\u003e// line.DebugLog(nameof(line));\u003c/span\u003e\n\n                        \u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003eparam_array\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eline\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eReplace\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"   \"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\" \"\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eReplace\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"  \"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\" \"\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eSplit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"sc\"\u003e' '\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003eparamMeshCode\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003elineCount\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"kt\"\u003elong\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eParse\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eparam_array\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]);\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003eparamDiffBeta\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003elineCount\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eParse\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eparam_array\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]);\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003eparamDiffLambda\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003elineCount\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eParse\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eparam_array\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e]);\u003c/span\u003e\n\n                        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elineCount\u003c/span\u003e \u003cspan class=\"p\"\u003e%\u003c/span\u003e \u003cspan class=\"m\"\u003e10000\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                            \u003cspan class=\"n\"\u003emainForm\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAddProgressValue\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                            \u003cspan class=\"n\"\u003emainForm\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetProcessMsg\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFormat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eConstString\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eProcess\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eMsgReadParamFile\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003elineCount\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n                        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                        \u003cspan class=\"k\"\u003ebreak\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n                \u003cspan class=\"n\"\u003elineCount\u003c/span\u003e \u003cspan class=\"p\"\u003e+=\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n            \u003cspan class=\"cm\"\u003e/** TKY2JGD.par ファイルを、どこかのフォルダから動的に読み込む場合はこちらのロジックを使う\n            StreamReader paramf = new StreamReader(parfilename);\n            try\n            {\n                FileInfo fi = new FileInfo(parfilename);\n                //ファイルのサイズを取得\n                long filesize = fi.Length;\n\n                // プログレスバーのMax値は，ﾌｧｲﾙの大きさ(in Bytes)とする。\n                //frmParaFile1.ProgressBar1.Max = filesize / (double)128; // for ProgressBar\n                // frmParaFile1.lblLine = string.Format(filesize.ToString(), \"###,###,###\") + \" Bytes\";\n\n                first_line = paramf.ReadLine();\n                second_line = paramf.ReadLine();\n                while (paramf.Peek() != -1)\n                {\n                    string line = paramf.ReadLine();\n                    line_count += 1;\n\n                    string[] line_array = line.Split(' ');\n                    MC[line_count] = long.Parse(line_array[0]);\n                    dB1[line_count] = float.Parse(line_array[1]);\n                    dL1[line_count] = float.Parse(line_array[2]);\n                    if ((line_count % 2000 == 0))\n                    {\n                        mainForm.setProcessMsg(ConstString.Process.msgReadParamFile);\n                        //frmParaFile1.ProgressBar1.Value = filesize;\n                        if ((BreakFlag))\n                        {\n                            BreakFlag = false;\n                            return \"\";\n                        }\n                    }\n                }\n\n            }\n            catch (Exception e)\n            {\n                CommonUtils.logWrite(string.Format(ConstString.Error.fileNotExist, parfilename));\n                MessageBox.Show(\n                    ConstString.Error.fatalMsg,\n                    string.Format(ConstString.Error.fatalTitle),\n                    MessageBoxButtons.OK,\n                    MessageBoxIcon.Error\n                    );\n            }\n            finally\n            {\n                paramf.Close();\n            }\n            **/\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// parファイルの1行目からVersion番号を取り出す。20～28カラムです。\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003efirstLine\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSubstring\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e19\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e9\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 順方向の座標変換をﾌｧｲﾙ一括処理します[BLFile()]\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 座標変換後の緯度経度をdmsフォーマット（度分秒形式）で出力します。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eFileConvertBatch\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eAssembly\u003c/span\u003e \u003cspan class=\"n\"\u003eassembly\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAssembly\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetExecutingAssembly\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eAssemblyName\u003c/span\u003e \u003cspan class=\"n\"\u003easmName\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eassembly\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetName\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eVersion\u003c/span\u003e \u003cspan class=\"n\"\u003eapp_version\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003easmName\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eVersion\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 詳細表示をしない設定とします\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e//frmAdv.chkDetail.Value = 0;\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 処理中止ボタンを表示\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e//frmFile.cmdBreak.Visible = true;\u003c/span\u003e\n\n            \u003cspan class=\"n\"\u003eStreamReader\u003c/span\u003e \u003cspan class=\"n\"\u003ereader\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eStreamReader\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einFileName\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"k\"\u003etry\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eStreamWriter\u003c/span\u003e \u003cspan class=\"n\"\u003ewriter\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eStreamWriter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eoutFileName\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eEncoding\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetEncoding\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"shift_jis\"\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ewriter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e$\"このファイル\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003ePath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetFileNameWithoutExtension\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eoutFileName\u003c/span\u003e\u003cspan class=\"p\"\u003e)}\u003c/span\u003e\u003cspan class=\"s\"\u003eは，プログラムTKY2JGD Ver.\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003eapp_version\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003eが\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003ePath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetFileNameWithoutExtension\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einFileName\u003c/span\u003e\u003cspan class=\"p\"\u003e)}\u003c/span\u003e\u003cspan class=\"s\"\u003eを読み込んで計算処理したものです。\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ewriter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"使用した変換パラメータファイルは，\"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ePath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetFileNameWithoutExtension\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eparFileName\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e\" \"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eparVersion\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e\"です。\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einputOutFlag\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003ewriter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"次に示すように，各行の最初の２つの数字が入力した日本測地系の緯度，経度，次の２つが変換されたJGD2000系の緯度，経度を表しています。\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003ewriter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"    日本測地系（入力値）              JGD2000系（計算値）\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003ewriter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"    緯度            経度            緯度            経度\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003ewriter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ddmmss.sssss   dddmmss.sssss    ddmmss.sssss   dddmmss.sssss\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003ewriter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"次に示すように，各行の最初の２つの数字が，変換されたJGD2000系の緯度，経度を表しています。\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003ewriter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"       JGD2000系（計算値）\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003ewriter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"     緯度            経度\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003ewriter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\" ddmmss.sssss   dddmmss.sssss\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ewriter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"行末に「3parameters」があるものは，地域毎のパラメータがなかったか3パラメータで変換するよう設定されていたため，「東京大正」三角点における3パラメータで変換したものです。\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ewriter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"また，「-9999.」がある行は，変換されなかった行です。\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ewriter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"以上のどちらでもない行は，「地域毎の変換パラメータ」で変換された行です。\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ewriter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ただし，コメント行や数値の形式が不正な行は，変換されずにそのまま出力されます。\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ewriter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eClose\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n                \u003cspan class=\"kt\"\u003elong\u003c/span\u003e \u003cspan class=\"n\"\u003elineCount\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ewhile\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ereader\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePeek\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e        \u003cspan class=\"c1\"\u003e// 行ごとの処理\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003elines\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ereader\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eReadLine\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e     \u003cspan class=\"c1\"\u003e//行を変数に読み込みます。\u003c/span\u003e\n\u003cspan class=\"cp\"\u003e#if DEBUG\n\u003c/span\u003e                    \u003cspan class=\"n\"\u003eCommonUtils\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLogWrite\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"読み込みLINE ==\u0026gt; [\"\u003c/span\u003e\u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003elines\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e\"]\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"cp\"\u003e#endif\n\u003c/span\u003e                    \u003cspan class=\"c1\"\u003e//改行(CR/LF)だけの行または#から始まる行（コメント）行の場合、そのままの内容を出力\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elines\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"n\"\u003elines\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eStartsWith\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"#\"\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003ewriter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elines\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003elineCount\u003c/span\u003e \u003cspan class=\"p\"\u003e+=\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                        \u003cspan class=\"k\"\u003econtinue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n                    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003elineArray\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elines\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSplit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"sc\"\u003e' '\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                    \u003cspan class=\"c1\"\u003e// 半角スペースで分割し、要素数が２または3以外（3はコメント）の行があったらフォーマット不正で終了\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003elineArray\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"m\"\u003e2\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003elineArray\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"m\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003eCommonUtils\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLogWrite\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFormat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eConstString\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eError\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFormatFailedLatLon\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003elineCount\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003elines\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                        \u003cspan class=\"k\"\u003ethrow\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eException\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFormat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eConstString\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eError\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFormatFailedLatLon\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003elineCount\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003elines\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                    \u003cspan class=\"c1\"\u003e// コメント要素が無かった場合は空白を設定\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003elineArray\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003eArray\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eResize\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003elineArray\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003elineArray\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003elineArray\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                    \u003cspan class=\"nf\"\u003eConvertTkyToJgd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elineArray\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003elineCount\u003c/span\u003e \u003cspan class=\"p\"\u003e+=\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n                    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003elineCount\u003c/span\u003e\u003cspan class=\"p\"\u003e%\u003c/span\u003e\u003cspan class=\"m\"\u003e10\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003emainForm\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetProcessMsg\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFormat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eConstString\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eProcess\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eMsgFamilySplitting\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003elineCount\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003emainForm\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAddProgressValue\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ecatch\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eException\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eMsg\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eMessage\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eCommonUtils\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLogWrite\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eMsg\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eMessageBox\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eShow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eMsg\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003emainForm\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eProductName\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eMessageBoxButtons\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eOK\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eMessageBoxIcon\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eError\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ethrow\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eException\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eConstString\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eError\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eErrorEndConvert\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"k\"\u003efinally\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ereader\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eClose\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 位置データ(緯度，経度)を読み込みます。[LatLonOnly]\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inputLatLon\"\u0026gt;入力された緯度・経度の文字列\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eConvertTkyToJgd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003einputLatLon\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003einputLatLon\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eDebugLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enameof\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einputLatLon\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eoutLat\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eoutLon\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ex1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ey1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ex2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ey2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003esign\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003esignString\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 3ﾊﾟﾗﾒｰﾀで変換したことの印\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003ethreeParaMark\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003elat\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eConvert\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToDouble\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einputLatLon\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]);\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003elon\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eConvert\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToDouble\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einputLatLon\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]);\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 計算開始\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 順方向（日本測地系からJGD2000）変換\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// （１）緯度，経度を度分秒形式を度にし，\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// （２）パラメータを参照し，bilinear補間法により補間し，\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// （３）補間した，dL,dBを実用成果のL,Bに加える。\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// （４）結果をテキストボックスに書き込む。\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// （１）緯度，経度を度分秒形式を度にし，\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eDmsToDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elat\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003ey1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esign\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eDmsToDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elon\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003ex1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esign\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// (A) もし，「すべて3ﾊﾟﾗﾒｰﾀで変換」なら\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eallThreeParamFlag\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"nf\"\u003eTokyo97toITRF94\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ey1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ex1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003ey2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003ex2\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ethreeParaMark\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\" 3parameters\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// （２）パラメータを参照し，bilinear補間法により補間し，\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eTranPara\u003c/span\u003e \u003cspan class=\"n\"\u003etranPara\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003eBilinear1\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ey1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ex1\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etranPara\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDiffLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e9999.0\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"n\"\u003etranPara\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDiffBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e9999.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einputOptR3Flag\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                        \u003cspan class=\"nf\"\u003eTokyo97toITRF94\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ey1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ex1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003ey2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003ex2\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003ethreeParaMark\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\" 3parameters\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003ethreeParaMark\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                        \u003cspan class=\"nf\"\u003eWriteOutFile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003elat\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003elon\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eoutLat\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eoutLon\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003einputLatLon\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"n\"\u003ethreeParaMark\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"c1\"\u003e// （３）補間した，dL,dBを実用成果のL,Bに加える\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003ex2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ex1\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003etranPara\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDiffLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e3600.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003ey2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ey1\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003etranPara\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDiffBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e3600.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003ethreeParaMark\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// （４）結果をファイルに書き込む。\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eDegToDms\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ey2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esignString\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eoutLat\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003esignString\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"n\"\u003eD2\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00.00000\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eDegToDms\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ex2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esignString\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eoutLon\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003esignString\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"n\"\u003eD2\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00.00000\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"cp\"\u003e#if DEBUG\n\u003c/span\u003e            \u003cspan class=\"n\"\u003eCommonUtils\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLogWrite\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e$\"変換後緯度・経度 ==\u0026gt; [\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003eoutLat\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e,\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003eoutLon\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e]\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"cp\"\u003e#endif\n\u003c/span\u003e            \u003cspan class=\"nf\"\u003eWriteOutFile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003elat\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003elon\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eoutLat\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eoutLon\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003einputLatLon\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"n\"\u003ethreeParaMark\u003c/span\u003e \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 結果を出力ファイルに書き出します。[Kekka]\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"lat\"\u0026gt;緯度\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"lon\"\u0026gt;経度\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"latout\"\u0026gt;出力用にフォーマットを整えた緯度文字列\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"lonout\"\u0026gt;出力用にフォーマットを整えた経度文字列\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"comments\"\u0026gt;コメント\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"markThreePara\"\u0026gt;3パラメータ変換したか否かのマーク文字列\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eWriteOutFile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003elat\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003elon\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003elatout\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003elonout\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003ecomments\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003emarkThreePara\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eout_line\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einputOutFlag\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// dms\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003elatin\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003elat\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e000000.00000\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003elonin\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003elon\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e000000.00000\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eout_line\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003elatin\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003elonin\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003elatout\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003elonout\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003ecomments\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003emarkThreePara\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\\n\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eout_line\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003elatout\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003elonout\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003ecomments\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003emarkThreePara\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\\n\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eFile\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAppendAllText\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eoutFileName\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eout_line\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eEncoding\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetEncoding\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"shift_jis\"\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// Bilinear interpolationをする準備とBilinear interpolationのcall\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 1行1グリッド型変換パラメータファイル対応｡\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 1行にdB,dLの2つの変換ﾊﾟﾗﾒｰﾀがあるので，緯度，経度，同時に補間計算を行う。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"lat\"\u0026gt;緯度 or y 単位は度\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"lon\"\u0026gt;経度 or x 単位は度\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;returns\u0026gt;\u0026lt;/returns\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eTranPara\u003c/span\u003e \u003cspan class=\"nf\"\u003eBilinear1\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003elat\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003elon\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eMeshCode\u003c/span\u003e \u003cspan class=\"n\"\u003eeastMC\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eMeshCode\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eMeshCode\u003c/span\u003e \u003cspan class=\"n\"\u003enorthMC\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eMeshCode\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eMeshCode\u003c/span\u003e \u003cspan class=\"n\"\u003enorthEastMC\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eMeshCode\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eTranPara\u003c/span\u003e \u003cspan class=\"n\"\u003ertnTmpPara\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eTranPara\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// from Ver.1.3.78 2001/11/22\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// マイナスの緯度（南緯），経度（西経）等日本の領土外は標準地域メッシュコードが定義されていない場所では，\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 地域毎の変換パラメータがないので，直ちにOutsideにとぶ。\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// この判定がなかったVer.1.3.77では，メッシュコードを検索に行ってしまい。見つかってしまうバグがあった。\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// なお，このバグは日本領土内では結果にまったく影響しない。\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elat\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"m\"\u003e20\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"n\"\u003elat\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"m\"\u003e46\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ertnTmpPara\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDiffBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e9999.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ertnTmpPara\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDiffLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e9999.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003ertnTmpPara\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elon\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"m\"\u003e120\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"n\"\u003elon\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"m\"\u003e154\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ertnTmpPara\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDiffBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e9999.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ertnTmpPara\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDiffLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e9999.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003ertnTmpPara\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// lat,lonからMesh Codeを作成。\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// lat,lonを含むメッシュのﾒｯｼｭｺｰﾄﾞを計算\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eMeshCode\u003c/span\u003e \u003cspan class=\"n\"\u003eoriginMC\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003eLatLon2MeshCode\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elat\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003elon\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// MC0の東，北，東北隣のﾒｯｼｭｺｰﾄﾞを計算\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eAdjacentMeshCode\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eoriginMC\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eeastMC\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003enorthMC\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003enorthEastMC\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// parameter search。1行1ｸﾞﾘｯﾄﾞ型。データファイルの座標系つまり旧東京測地系(=旧日本測地系)で。\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 4つの内最初の1つは，ﾊﾟﾗﾒｰﾀﾌｧｲﾙの最初からサーチするが，他の3つはそれ以降順番に探すのみ。\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// ﾊﾟﾗﾒｰﾀﾌｧｲﾙは低緯度から高緯度に，同じ緯度なら，低経度から高経度の順番に並ぶべき。\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// メッシュコードの小さい順ではない。\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 原点検索\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003esearch_result\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003esearch_result\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eArray\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eIndexOf\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eparamMeshCode\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eoriginMC\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFullMeshCode\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003esearch_result\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ertnTmpPara\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDiffBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e9999.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ertnTmpPara\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDiffLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e9999.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003ertnTmpPara\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003elong\u003c/span\u003e \u003cspan class=\"n\"\u003eparamSuff00\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esearch_result\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 東隣\u003c/span\u003e\n            \u003cspan class=\"n\"\u003esearch_result\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003esearch_result\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eArray\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eIndexOf\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eparamMeshCode\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eeastMC\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFullMeshCode\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esearch_result\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ertnTmpPara\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDiffBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e9999.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ertnTmpPara\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDiffLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e9999.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003ertnTmpPara\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003elong\u003c/span\u003e \u003cspan class=\"n\"\u003eparamSuff10\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esearch_result\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 北隣\u003c/span\u003e\n            \u003cspan class=\"n\"\u003esearch_result\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003esearch_result\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eArray\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eIndexOf\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eparamMeshCode\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003enorthMC\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFullMeshCode\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esearch_result\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ertnTmpPara\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDiffBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e9999.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ertnTmpPara\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDiffLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e9999.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003ertnTmpPara\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003elong\u003c/span\u003e \u003cspan class=\"n\"\u003eparamSuff01\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esearch_result\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 北東隣\u003c/span\u003e\n            \u003cspan class=\"n\"\u003esearch_result\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003esearch_result\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eArray\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eIndexOf\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eparamMeshCode\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003enorthEastMC\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFullMeshCode\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esearch_result\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ertnTmpPara\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDiffBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e9999.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ertnTmpPara\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDiffLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e9999.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003ertnTmpPara\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003elong\u003c/span\u003e \u003cspan class=\"n\"\u003eparamSuff11\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esearch_result\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 変換ﾊﾟﾗﾒｰﾀの代入\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 00=原点、10=東隣、01=北隣、11=北東隣\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003edB00\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eparamDiffBeta\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eparamSuff00\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003edB10\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eparamDiffBeta\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eparamSuff10\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003edB01\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eparamDiffBeta\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eparamSuff01\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003edB11\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eparamDiffBeta\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eparamSuff11\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003edL00\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eparamDiffLambda\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eparamSuff00\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003edL10\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eparamDiffLambda\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eparamSuff10\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003edL01\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eparamDiffLambda\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eparamSuff01\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003edL11\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eparamDiffLambda\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eparamSuff11\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// bilinear補間。データファイルの座標系つまり日本測地系で。\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 結果は，緯度，経度のJGD2000－日本測地系,または，Tokyo97-日本測地系\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// ModLat，ModLonは0以上1未満\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ertnTmpPara\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDiffBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003eInterpol\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edB00\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003edB10\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003edB01\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003edB11\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eoriginMC\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eModLon\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eoriginMC\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eModLat\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ertnTmpPara\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDiffLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003eInterpol\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edL00\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003edL10\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003edL01\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003edL11\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eoriginMC\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eModLon\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eoriginMC\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eModLat\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// grid点でのデータの表示。データファイルの座標系つまり日本測地系で。\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003ertnTmpPara\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e// \u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// Bilinear interpolation [interpol1]\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// X0to1, Y0to1は0以上1未満\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// Y↑\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// u3   u4\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// u1   u2  → X\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"u1\"\u0026gt;原点\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"u2\"\u0026gt;東隣\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"u3\"\u0026gt;北隣\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"u4\"\u0026gt;北東隣\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"x0to1\"\u0026gt;x座標の移動距離\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"y0to1\"\u0026gt;y座標の移動距離\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;returns\u0026gt;\u0026lt;/returns\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"nf\"\u003eInterpol\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eu1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eu2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eu3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eu4\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ex0to1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ey0to1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eorigin\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003evalueX\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003evalueY\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003evalueXY\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eorigin\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eu1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003evalueX\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eu2\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eu1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003evalueY\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eu3\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eu1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003evalueXY\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eu4\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eu2\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eu3\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eu1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ertn\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eorigin\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003evalueX\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ex0to1\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003evalueY\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ey0to1\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003evalueXY\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ex0to1\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ey0to1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003ertn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// XYからXYへの順方向（旧日本測地系から日本測地系2000へ）の変換を行います[doXyInterpol1]\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"convflag\"\u0026gt;地域ごとのパラメータで変換するか否かのフラグ\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inLat\"\u0026gt;入力緯度\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inLon\"\u0026gt;入力経度\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inX\"\u0026gt;入力x\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inY\"\u0026gt;入力y\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eForwardXYInterpol\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003econvflag\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einLat\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einLon\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einY\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 平面直角座標値XY（旧日本測地系）をテキストボックスから読み込み緯度経度BL（旧日本測地系）に換算しテキストボックスに書き込む\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eCalcXYToBL\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003einLat\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003einLon\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003einX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003einY\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// Bessel楕円体=日本測地系\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// テキストボックスのBL（旧日本測地系）を座標変換しBL（JGD2000系）としテキストボックスみ書き込む\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eForwardInterpol\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003econvflag\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003einLat\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003einLon\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 「『地域毎のﾊﾟﾗﾒｰﾀ』で変換する。そのパラメータがない所は変換しない｡」を選択し，そのパラメータがなかったので変換されなかった場合は，これ以上計算しない。変換結果のテキストボックスに既に”-9999.”が入っている。\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003econvflag\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// 緯度経度BL（JGD2000系）をテキストボックスから読み込み平面直角座標値XY（JGD2000系）に換算しテキストボックスに書き込む\u003c/span\u003e\n                \u003cspan class=\"nf\"\u003eCalcBLToXY\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003einX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003einY\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\u003cspan class=\"c1\"\u003e// GRS80楕円体=世界測地系\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// XYからXYへの逆方向（日本測地系2000から旧日本測地系へ）の変換を行います[doXyInterpol2]\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"convflag\"\u0026gt;地域ごとのパラメータで変換するか否かのフラグ\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inLat\"\u0026gt;入力緯度\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inLon\"\u0026gt;入力経度\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inX\"\u0026gt;入力x\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inY\"\u0026gt;入力y\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eReverseXYInterpol\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003econvflag\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einLat\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einLon\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einY\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 平面直角座標値XY（JGD2000系）をテキストボックスから読み込み緯度経度BL（JGD2000系）に換算しテキストボックスに書き込む\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eCalcXYToBL\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003einLat\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003einLon\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003einX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003einY\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// GRS80楕円体=世界測地系\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// テキストボックスのBL（JGD2000系）を座標変換しBL（旧日本測地系）としテキストボックスみ書き込む\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eReverseInterpol\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003econvflag\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003einLat\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003einLon\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 「『地域毎のﾊﾟﾗﾒｰﾀ』で変換する。そのパラメータがない所は変換しない｡」を選択し，そのパラメータがなかったので変換されなかった場合は，これ以上計算しない。\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 変換結果のテキストボックスに既に”-9999.”が入っている。\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003econvflag\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// 緯度経度BL（旧日本測地系）をテキストボックスから読み込み平面直角座標値XY（旧日本測地系）に換算しテキストボックスに書き込む\u003c/span\u003e\n                \u003cspan class=\"nf\"\u003eCalcBLToXY\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003einX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003einY\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\u003cspan class=\"c1\"\u003e// Bessel楕円体=日本測地系\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 「精密測地網一次基準点測量計算式」を導入し多くの項を採用。[doCalcBl2xyFile]\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// TKY2JGDではGRS80楕円体専門で利用。とはいってもどちらでも使える。called by XYFile\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// doCalcBl2xyのﾌｧｲﾙ一括処理用の値渡し版。ただし，ファイルのオープン，読み，書き，クローズは行わない。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"preCalc\"\u0026gt;True（最初に呼ばれるとき）なら関係変数を計算しstatic変数に代入し，Falseなら計算しない。\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"ellipSuffix\"\u0026gt;楕円体配列の添え字：0=Bessel楕円体=日本測地系, 1=GRS80楕円体=世界測地系\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inB\"\u0026gt;緯度　単位は度\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inL\"\u0026gt;経度　単位は度\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"outX\"\u0026gt;出力する平面直角座標X\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"outY\"\u0026gt;出力する平面直角座標Y\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inLat\"\u0026gt;緯度\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inLon\"\u0026gt;経度\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eCalcBLToXYFile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003epreCalc\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eellipSuffix\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einB\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einL\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eoutX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eoutY\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einLat\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einLon\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003emeridianCoefficiant\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e       \u003cspan class=\"c1\"\u003e//系番号，基準子午線の縮尺係数\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eoriginBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e       \u003cspan class=\"c1\"\u003e//原点の緯度，経度。基本的にradian\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eoriginLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e       \u003cspan class=\"c1\"\u003e//原点の緯度，経度。基本的にradian\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einBetaRadian\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e       \u003cspan class=\"c1\"\u003e// 入力される緯度，経度。基本的にradian\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einLambdaRadian\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e       \u003cspan class=\"c1\"\u003e// 入力される緯度，経度。基本的にradian\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003edeg\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003emenuite\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003esign\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003egamma\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                \u003cspan class=\"c1\"\u003e// =γ 子午線収差角。radian\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003emeridianScale\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                  \u003cspan class=\"c1\"\u003e// 縮尺係数\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003epreCalc\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// 基準子午線の縮尺係数\u003c/span\u003e\n                \u003cspan class=\"n\"\u003emeridianCoefficiant\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.9999\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e// コンボボックスから座標系，座標系原点緯度，経度の読み取り\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ecB1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003einLat\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e//原点の緯度，経度。c = combo box\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ecL1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003einLon\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e//原点の緯度，経度。c = combo box\u003c/span\u003e\n                \u003cspan class=\"nf\"\u003eDmsToDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecB1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eoriginBeta\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esign\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003edeg\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003emenuite\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"nf\"\u003eDmsToDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecL1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eoriginLambda\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esign\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003edeg\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003emenuite\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eoriginBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eoriginBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eDegToRad\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eoriginLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eoriginLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eDegToRad\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 座標系原点の経度(rad)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003etry\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\n                \u003cspan class=\"n\"\u003einBetaRadian\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003einB\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eDegToRad\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003einLambdaRadian\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003einL\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eDegToRad\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 変換したい経度(rad)\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e// 本計算 EP(0)はBessel楕円体=日本測地系，EP(1)はGRS-80楕円体=世界測地系\u003c/span\u003e\n                \u003cspan class=\"nf\"\u003eCalcBLToXY\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003epreCalc\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003einBetaRadian\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003einLambdaRadian\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eoriginBeta\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eoriginLambda\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003emeridianCoefficiant\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eellipSuffix\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eoutX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eoutY\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003egamma\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003emeridianScale\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                                \u003cspan class=\"c1\"\u003e// エラー処理ルーチンが実行されないように Sub を終了します。\u003c/span\u003e\n\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ecatch\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eOverflowException\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eCommonUtils\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLogWrite\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFormat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eConstString\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eError\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFailedLatLon\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eMethodBase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetCurrentMethod\u003c/span\u003e\u003cspan class=\"p\"\u003e().\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003einBetaRadian\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e\":\"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003einLambdaRadian\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ecatch\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eException\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eCommonUtils\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLogWrite\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFormat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eConstString\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eError\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eExceptionError\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eMethodBase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetCurrentMethod\u003c/span\u003e\u003cspan class=\"p\"\u003e().\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eMessage\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 緯度,経度を平面直角座標X,Yに換算します。[doCalcBl2xy]\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 「精密測地網一次基準点測量計算式」を導入し多くの項を採用。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"ellipSuffix\"\u0026gt;楕円体配列の添え字：0=Bessel楕円体=日本測地系, 1=GRS80楕円体=世界測地系\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inX\"\u0026gt;平面直角座標値，原点での北向き成分(meter)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inY\"\u0026gt;平面直角座標値，原点での東向き成分(meter)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eCalcBLToXY\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eellipSuffix\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einY\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003emeridianCoefficiant\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e   \u003cspan class=\"c1\"\u003e// 系番号，基準子午線の縮尺係数 ex.0.9999(X,Y), 0.9996(UTM)\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eoriginBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e     \u003cspan class=\"c1\"\u003e// 原点の緯度，経度。基本的にradian\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eoriginLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e     \u003cspan class=\"c1\"\u003e// 原点の緯度，経度。基本的にradian\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einBetaRadian\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e       \u003cspan class=\"c1\"\u003e// 入力される緯度，経度。基本的にradian\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einLambdaRadian\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e       \u003cspan class=\"c1\"\u003e// 入力される緯度，経度。基本的にradian\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003esign\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003esignStr\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e       \u003cspan class=\"c1\"\u003e// 求められる平面直角座標X,Y\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e       \u003cspan class=\"c1\"\u003e// 求められる平面直角座標X,Y\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003egamma\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                \u003cspan class=\"c1\"\u003e// =γ 子午線収差角。radian\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003egammaDeg\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e             \u003cspan class=\"c1\"\u003e// 真北方向角。deg\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003emeridianScale\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                  \u003cspan class=\"c1\"\u003e// 縮尺係数\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// この計算は変換の第３段階なので緯度経度入力値のﾁｪｯｸは不要\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 基準子午線の縮尺係数\u003c/span\u003e\n            \u003cspan class=\"n\"\u003emeridianCoefficiant\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.9999\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003etry\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// 入力\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eellipSuffix\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"nf\"\u003eDmsToDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003einBetaRadian\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esign\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                    \u003cspan class=\"nf\"\u003eDmsToDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einY\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003einLambdaRadian\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esign\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"nf\"\u003eDmsToDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003einBetaRadian\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esign\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                    \u003cspan class=\"nf\"\u003eDmsToDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einY\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003einLambdaRadian\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esign\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e// degからradianへ換算\u003c/span\u003e\n                \u003cspan class=\"n\"\u003einBetaRadian\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003einBetaRadian\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eDegToRad\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 変換したい緯度(rad)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003einLambdaRadian\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003einLambdaRadian\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eDegToRad\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 変換したい経度(rad)\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// コンボボックスから座標系，座標系原点緯度，経度(in DMS format)の読み取り\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ecB1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003einX\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ecL1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003einY\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"nf\"\u003eDmsToDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecB1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eoriginBeta\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esign\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"nf\"\u003eDmsToDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecL1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eoriginLambda\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esign\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eoriginBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eoriginBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eDegToRad\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 座標系原点の緯度(rad)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eoriginLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eoriginLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eDegToRad\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 座標系原点の経度(rad)\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e// 本計算 EP(0)はBessel楕円体=日本測地系，EP(1)はGRS-80楕円体=世界測地系\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// True：楕円体，座標系に関わる変数の計算を行う\u003c/span\u003e\n                \u003cspan class=\"nf\"\u003eCalcBLToXY\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003einBetaRadian\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003einLambdaRadian\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eoriginBeta\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eoriginLambda\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003emeridianCoefficiant\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eellipSuffix\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003egamma\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003emeridianScale\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e// Ｘ，Ｙの計算 in meter\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eoutX\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"err\"\u003e######\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"m\"\u003e0000\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eoutY\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"err\"\u003e######\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"m\"\u003e0000\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e// 子午線収差角Gamma(rad)から，真北方向角(degree)へ\u003c/span\u003e\n                \u003cspan class=\"n\"\u003egammaDeg\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e-(\u003c/span\u003e\u003cspan class=\"n\"\u003egamma\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eRadToDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"nf\"\u003eDegToDmsNotZero3\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003egammaDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esignStr\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eoutDeg\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003esignStr\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"err\"\u003e###\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00.000\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e// 縮尺係数  cf.旧成果表は小数点以下６桁\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eoutParam\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003emeridianScale\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"err\"\u003e#\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"m\"\u003e00000000\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e// outX,outY,outDeg,outParam に出力データが格納されているので、呼び出しもとで使えるように調整を。\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ecatch\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eOverflowException\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eCommonUtils\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLogWrite\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFormat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eConstString\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eError\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFailedLatLon\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eMethodBase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetCurrentMethod\u003c/span\u003e\u003cspan class=\"p\"\u003e().\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003einBetaRadian\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e\":\"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003einLambdaRadian\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ecatch\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eException\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eCommonUtils\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLogWrite\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFormat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eConstString\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eError\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eExceptionError\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eMethodBase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetCurrentMethod\u003c/span\u003e\u003cspan class=\"p\"\u003e().\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eMessage\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// called by picCalc1_click, calls Bilinear[doInterpol1]\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 順方向（日本測地系からJGD2000）変換。\"1\"は順方向の意味。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// （１）テキストボックスからデータを読み込み，\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// （２）パラメータを参照し，bilinear補間法により補間し，\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// （３）補間した，dL,dBを実用成果のL,Bに加える。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// （４）結果をテキストボックスに書き込む。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"convflag\"\u0026gt;地域ごとのパラメータで変換するか否かのフラグ\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inBeta\"\u0026gt;緯度\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inLambda\"\u0026gt;経度\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eForwardInterpol\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003econvflag\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einBeta\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einLambda\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003esign\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003esignStr\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// Y:緯度，X:経度　（度）\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ex1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ey1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ex2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ey2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ediffLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ediffBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eTranPara\u003c/span\u003e \u003cspan class=\"n\"\u003etranPara\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eTranPara\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e//出力系\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eoutStatus\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eoutLat\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eoutLon\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// （１）テキストボックスからデータを読み込み，度分秒形式を度にし，\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eDmsToDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einBeta\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003ey1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esign\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 日本の領土外ならMessageBoxを表示\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 緯度のチェック\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esign\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"m\"\u003e20\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"m\"\u003e46\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eMessageBox\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eShow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFormat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eConstString\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eWarning\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLatLonOutofJapan\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{(\u003c/span\u003e\u003cspan class=\"n\"\u003esign\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\u003cspan class=\"err\"\u003e#\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"err\"\u003e度\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00\u003c/span\u003e\u003cspan class=\"err\"\u003e分\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00.\u003c/span\u003e\u003cspan class=\"err\"\u003e###秒\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003emainForm\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eProductName\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eMessageBoxButtons\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eOK\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eMessageBoxIcon\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eWarning\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eDmsToDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einLambda\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003ex1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esign\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e//経度のチェック\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esign\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"m\"\u003e120\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"m\"\u003e154\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eMessageBox\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eShow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFormat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eConstString\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eWarning\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLatLonOutofJapan\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{(\u003c/span\u003e\u003cspan class=\"n\"\u003esign\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\u003cspan class=\"err\"\u003e#\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"err\"\u003e度\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00\u003c/span\u003e\u003cspan class=\"err\"\u003e分\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00.\u003c/span\u003e\u003cspan class=\"err\"\u003e###秒\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003emainForm\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eProductName\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eMessageBoxButtons\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eOK\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eMessageBoxIcon\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eWarning\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// (A) もし，「すべて3ﾊﾟﾗﾒｰﾀで変換」なら\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eallThreeParamFlag\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"nf\"\u003eTokyo97toITRF94\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ey1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ex1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003ey2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003ex2\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eoutStatus\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"「東京大正」三角点における「3ﾊﾟﾗﾒｰﾀ」で変換しました。\\r\\n日本測地系から世界測地系へ（→右方向に）変換しました。\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e//「地域毎のﾊﾟﾗﾒｰﾀで変換」を試みる\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// （２）パラメータを参照し，bilinear補間法により補間し，\u003c/span\u003e\n                \u003cspan class=\"n\"\u003etranPara\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003eBilinear1\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ey1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ex1\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ediffBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etranPara\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDiffBeta\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ediffLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etranPara\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDiffLambda\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ediffLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e9999.0\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"n\"\u003ediffBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e9999.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"c1\"\u003e//「地域毎のﾊﾟﾗﾒｰﾀ」がなかったら\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einputOptR3Flag\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                        \u003cspan class=\"c1\"\u003e//「3ﾊﾟﾗﾒｰﾀ」で変換する\u003c/span\u003e\n                        \u003cspan class=\"nf\"\u003eTokyo97toITRF94\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ey1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ex1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003ey2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003ex2\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003econvflag\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003eoutStatus\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"「地域毎の変換ﾊﾟﾗﾒｰﾀ」がなかったので，「東京大正」三角点における「3ﾊﾟﾗﾒｰﾀ」で変換しました。\\r\\n日本測地系から世界測地系へ（→右方向に）変換しました。\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n                    \u003cspan class=\"c1\"\u003e// 変換はしない。「『地域毎のﾊﾟﾗﾒｰﾀ』で変換する。そのパラメータがない所は変換しない｡」を選択した場合の処理。\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                        \u003cspan class=\"c1\"\u003e// 変換はしないログ出力して終了\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003eCommonUtils\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLogWrite\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eConstString\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eWarning\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eNoConvert\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"c1\"\u003e//「地域毎のﾊﾟﾗﾒｰﾀ」があったので変換する\u003c/span\u003e\n                    \u003cspan class=\"c1\"\u003e// （３）補間した，dL,dBを実用成果のL,Bに加える\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003ex2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ex1\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ediffLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e3600.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003ey2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ey1\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ediffBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e3600.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003econvflag\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eoutStatus\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"「地域毎の変換ﾊﾟﾗﾒｰﾀ」で変換しました。\\r\\n日本測地系から世界測地系へ（→右方向に）変換しました。\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// （４）結果をテキストボックスに書き込む。\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eDegToDms\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ey2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esignStr\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eoutLat\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003esignStr\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"err\"\u003e#\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00.00000\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eDegToDms\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ex2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esignStr\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eoutLon\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003esignStr\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"err\"\u003e#\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00.00000\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// outStaus, outLat, outLon に出力値が入っているので呼び出し下で受け取れるように調整を。\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// called by picCalc2_click, calls Bilinear\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 逆方向（JGD2000から日本測地系）変換。\"2\"は逆方向の意味。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// ２段階によるIteration(反復計算)により，パラメータファイル参照の緯度経度を日本測地系にする\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// （１）テキストボックスからデータを読み込み，\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// （２）パラメータを参照し，bilinear補間法により補間し，\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// （３）補間した，dL,dBを実用成果のL,Bに加える。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// （４）結果をテキストボックスに書き込む。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"convflag\"\u0026gt;地域ごとのパラメータで変換するか否かのフラグ\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inBeta\"\u0026gt;緯度\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inLabmda\"\u0026gt;経度\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eReverseInterpol\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003econvflag\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einBeta\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einLabmda\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003esign\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003esignStr\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ex1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ey1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ex2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ey2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ediffLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ediffBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003etempLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003etempBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e//出力系\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eoutStatus\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eoutLat\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eoutLon\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// （１）テキストボックスからデータを読み込み，度分秒形式を度にし，\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eDmsToDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einBeta\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003ey1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esign\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 日本の領土外ならMessageBoxを表示\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 緯度のチェック\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esign\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"m\"\u003e20\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"m\"\u003e46\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eMessageBox\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eShow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFormat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eConstString\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eWarning\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLatLonOutofJapan\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{(\u003c/span\u003e\u003cspan class=\"n\"\u003esign\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\u003cspan class=\"err\"\u003e#\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"err\"\u003e度\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00\u003c/span\u003e\u003cspan class=\"err\"\u003e分\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00.\u003c/span\u003e\u003cspan class=\"err\"\u003e###秒\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003emainForm\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eProductName\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eMessageBoxButtons\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eOK\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eMessageBoxIcon\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eWarning\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eDmsToDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einLabmda\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003ex1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esign\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esign\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"m\"\u003e120\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"m\"\u003e154\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eMessageBox\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eShow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFormat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eConstString\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eWarning\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLatLonOutofJapan\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{(\u003c/span\u003e\u003cspan class=\"n\"\u003esign\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\u003cspan class=\"err\"\u003e#\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"err\"\u003e度\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00\u003c/span\u003e\u003cspan class=\"err\"\u003e分\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00.\u003c/span\u003e\u003cspan class=\"err\"\u003e###秒\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003emainForm\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eProductName\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eMessageBoxButtons\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eOK\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eMessageBoxIcon\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eWarning\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// (A) もし，「すべて3ﾊﾟﾗﾒｰﾀで変換」なら\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eallThreeParamFlag\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"nf\"\u003eITRF94toTokyo97\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ey1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ex1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003ey2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003ex2\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003econvflag\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eoutStatus\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"「東京大正」三角点における「3ﾊﾟﾗﾒｰﾀ」で変換しました。\\r\\n世界測地系から日本測地系へ（←左方向に）変換しました。\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e//「地域毎のﾊﾟﾗﾒｰﾀで変換」を試みる\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// （２）パラメータを参照し，bilinear補間法により補間し，\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// (2-1)第一段階｛パラメータを参照しにいく緯度，経度は仮の値である。｝\u003c/span\u003e\n                \u003cspan class=\"n\"\u003etempLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ex1\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e12.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e3600.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e    \u003cspan class=\"c1\"\u003e// 平均値を用いてJGD2000系を日本測地系へ\u003c/span\u003e\n                \u003cspan class=\"n\"\u003etempBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ey1\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e12.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e3600.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e    \u003cspan class=\"c1\"\u003e// 平均値を用いてJGD2000系を日本測地系へ\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eTranPara\u003c/span\u003e \u003cspan class=\"n\"\u003etranPara\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003eBilinear1\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etempBeta\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003etempLambda\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ediffBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etranPara\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDiffBeta\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ediffLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etranPara\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDiffLambda\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ediffLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e9999.0\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"n\"\u003ediffBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e9999.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"c1\"\u003e//「地域毎のﾊﾟﾗﾒｰﾀ」がなかったら\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einputOptR3Flag\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                        \u003cspan class=\"c1\"\u003e//「3ﾊﾟﾗﾒｰﾀ」で変換する\u003c/span\u003e\n                        \u003cspan class=\"nf\"\u003eITRF94toTokyo97\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ey1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ex1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003ey2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003ex2\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003econvflag\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003eoutStatus\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"「地域毎の変換ﾊﾟﾗﾒｰﾀ」がなかったので，「東京大正」三角点における「3ﾊﾟﾗﾒｰﾀ」で変換しました。\\r\\n世界測地系から日本測地系へ（←左方向に）変換しました。\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                        \u003cspan class=\"c1\"\u003e// 変換はしないログ出力して終了\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003eCommonUtils\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLogWrite\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eConstString\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eWarning\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eNoConvert\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"c1\"\u003e//「地域毎のﾊﾟﾗﾒｰﾀ」があったので変換する\u003c/span\u003e\n                    \u003cspan class=\"c1\"\u003e// （３）補間した，-dL,-dBを実用成果のL,Bに加える\u003c/span\u003e\n                    \u003cspan class=\"c1\"\u003e// (3-1)第一段階\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003etempLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ex1\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ediffLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e3600.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003etempBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ey1\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ediffBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e3600.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"c1\"\u003e// (2-2)第二段階｛パラメータを参照しにいく緯度，経度はほぼ真の日本測地系の値である。｝\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003etranPara\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003eBilinear1\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etempBeta\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003etempLambda\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003ediffBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etranPara\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDiffBeta\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003ediffLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etranPara\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDiffLambda\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ediffLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e9999.0\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"n\"\u003ediffBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e9999.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                        \u003cspan class=\"c1\"\u003e// 変換はしないログ出力して終了\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003eCommonUtils\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLogWrite\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eConstString\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eWarning\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eNoConvert\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                    \u003cspan class=\"c1\"\u003e// （３）補間した，-dL,-dBを実用成果のL,Bに加える\u003c/span\u003e\n                    \u003cspan class=\"c1\"\u003e// (3-1)第二段階\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003ex2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ex1\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ediffLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e3600.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003ey2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ey1\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ediffBeta\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e3600.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003econvflag\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eoutStatus\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"「地域毎の変換ﾊﾟﾗﾒｰﾀ」で変換しました。\\r\\n世界測地系から日本測地系へ（←左方向に）変換しました。\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e                          \u003cspan class=\"c1\"\u003e// 「地域毎のﾊﾟﾗﾒｰﾀ」があるかないかの判断おしまい\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e                            \u003cspan class=\"c1\"\u003e// 「3ﾊﾟﾗﾒｰﾀ」か「地域毎のﾊﾟﾗﾒｰﾀ」かの判断おしまい\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// （４）結果をテキストボックスに書き込む。\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eDegToDms\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ey2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esignStr\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eoutLat\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003esignStr\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"err\"\u003e#\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00.00000\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eDegToDms\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ex2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esignStr\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eoutLon\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003esignStr\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"err\"\u003e#\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00.00000\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// outStaus, outLat, outLon に出力値が入っているので呼び出し下で受け取れるように調整を。\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// DMS(DDDMMSS.SSS)をdegreeにする。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inDMS\"\u0026gt;DMS形式の入力座標\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"deg\"\u0026gt;度数表示の出力\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"sign\"\u0026gt;符号 + or -\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"degree\"\u0026gt;度\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"minute\"\u0026gt;分\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"second\"\u0026gt;秒\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eDmsToDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einDMS\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003edeg\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003esign\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003esign\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSign\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einDMS\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// N88BASICの場合,小さな数を足さないと、1000.つまり10'を入力したとき、9'99.99\"\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// が入力されたと解釈されてしまい、40秒のずれが生じてしまう。\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// Quick BASICとVisual Basicでは大丈夫。以上，1991,1992年\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// しかし、1992/9/29の調査によると，QBでも、90100.を入力すると、分の計算で，\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 0.010と解釈してほしいところ，0.00999999999...と解釈されることから，\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 以下のように、小さい数を加える。このこれより大きくても小さくてもなかなか\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// うまくいかい。この問題は，100.の場合は起こらない。　飛田幹男 \u0026gt;\u0026gt;Ver.2.1\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// また，7/18/1993 TRN93作成時に、334000. を入力するとだめ。そこで、Ver.2.2.\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003etmpDMS\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAbs\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einDMS\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e10000.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0000000000001\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003edegree\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003etmpDMS\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eabsoluteMS\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etmpDMS\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e100.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eminute\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eabsoluteMS\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003esecond\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eabsoluteMS\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e100.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003edeg\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edegree\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eminute\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e60.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e60.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003esign\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// degreeをDMS(DDDMMSS.SSS)にする。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// このサブプログラムは，秒の小数点以下「５桁」の場合に「60.00000」秒にならないようになっている。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// deg(度)を符号SNSとD,AM,Sにする。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inDegree\"\u0026gt;緯度、経度(arcsec)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"degree\"\u0026gt;度\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"minute\"\u0026gt;分\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"second\"\u0026gt;秒\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"signStr\"\u0026gt;符号文字列 \" \" or \"-\"\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eDegToDms\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einDegree\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003esignStr\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSign\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einDegree\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003esignStr\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"-\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n                \u003cspan class=\"n\"\u003esignStr\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\" \"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eadeg\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAbs\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einDegree\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e0.00000000001\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003edegree\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eadeg\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eabsoluteMinute\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eadeg\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e60.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eminute\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eabsoluteMinute\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003esecond\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eabsoluteMinute\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e60.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 注意：下のFormat括弧内の\"00.000000\"の小数点以下の0の数は実際に出力するときの数に合わせること。\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 1495960.000000を避け，1500000.000000になるように\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00.00000\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSubstring\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"s\"\u003e\"60\"\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003esecond\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eminute\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eminute\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"m\"\u003e60\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eminute\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003edegree\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// degreeをDMS(DDDMMSS.SSS)にする。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// このサブプログラムは，秒の小数点以下「３桁」の場合に「60.000」秒にならないようになっている。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// deg(度)を符号SNSとD,AM,Sにする。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inDeg\"\u0026gt;緯度、経度(arcsec)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"degree\"\u0026gt;度\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"minute\"\u0026gt;分\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"second\"\u0026gt;秒\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"signStr\"\u0026gt;符号 \" \" or \"-\"\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eDegToDmsNotZero3\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003esignStr\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003esign\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSign\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esign\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003esignStr\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"-\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n                \u003cspan class=\"n\"\u003esignStr\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\" \"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eadeg\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAbs\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e0.00000000001\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003edegree\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eadeg\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eabsoluteMinute\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eadeg\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e60.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eminute\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eabsoluteMinute\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003esecond\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eabsoluteMinute\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e60.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 注意：下のFormat括弧内の\"00.000000\"の小数点以下の0の数は実際に出力するときの数に合わせること。\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 1495960.000000を避け，1500000.000000になるように\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00.000\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSubstring\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"s\"\u003e\"60\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003esecond\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eminute\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eminute\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"m\"\u003e60\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eminute\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003edegree\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 緯度,経度を平面直角座標X,Yに換算します。called by doCalcBl2xy,doCalcBl2xyFile\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 「精密測地網一次基準点測量計算式」を導入し多くの項を採用。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"preCalc\"\u0026gt;\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inBeta\"\u0026gt;入力された緯度\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inLambda\"\u0026gt;入力された経度\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"beta\"\u0026gt;座標系原点の緯度\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"lambda\"\u0026gt;座標系原点の経度\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"meridianCoefficiant\"\u0026gt;基準子午線の縮尺係数 ex.0.9999(X,Y), 0.9996(UTM)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"EP\"\u0026gt;楕円体のパラメータ入り構造体\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"X\"\u0026gt;平面直角座標値，原点での北向き成分(meter)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"Y\"\u0026gt;平面直角座標値，原点での東向き成分(meter)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"gamma\"\u0026gt;子午線収差角(radian),これのマイナスが真北方向角\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"outMeridian\"\u0026gt;縮尺係数の出力\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eCalcBLToXY\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003epreCalc\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einBeta\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einLambda\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ebeta\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003elambda\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003emeridianCoefficiant\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eEllipParam\u003c/span\u003e \u003cspan class=\"n\"\u003eEP\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eY\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003egamma\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eoutMeridian\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eAEE\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eCEE\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eEp2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ee2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ee4\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ee6\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ee10\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ee12\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ee14\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ee16\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eGJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eHJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eIJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eS0\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003edL\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eDL2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eDL4\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eDL6\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eS\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e      \u003cspan class=\"c1\"\u003e// 赤道から求点までの子午線長の計算\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eCOS2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2phi\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eMphi\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eNphi\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// phi(=B)の関数\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eT\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eT4\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eT6\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"n\"\u003edL\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003einLambda\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003elambda\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e    \u003cspan class=\"c1\"\u003e// Δλ\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003epreCalc\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ee2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEP\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ee4\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ee2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ee6\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ee4\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ee8\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ee4\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee4\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ee10\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ee12\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee4\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ee14\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee6\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ee16\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e// 定数項\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eAEE\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEP\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAxix\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eEP\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e      \u003cspan class=\"c1\"\u003e// a(1-e2)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eCEE\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEP\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAxix\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003edouble\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSqrt\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eEP\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e   \u003cspan class=\"c1\"\u003e// C=a*Math.Sqrt(1+e'2)=a/Math.Sqrt(1-e2)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eEp2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEP\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003edouble\u003c/span\u003e\u003cspan class=\"p\"\u003e)(\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eEP\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e      \u003cspan class=\"c1\"\u003e// e'2 (e prime 2) Eta2phiを計算するため\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e// 「緯度を与えて赤道からの子午線弧長を求める計算」のための９つの係数を求める。\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// 「精密測地網一次基準点測量計算式」P55,P56より。係数チェック済み1999/10/19。\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e4927697775.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e7516192768.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee16\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e19324305.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e29360128.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee14\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e693693.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e1048576.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee12\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e43659.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e65536.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee10\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e11025.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e16384.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e175.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e256.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee6\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e45.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e64.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee4\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e3.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e4.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e547521975.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e469762048.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee16\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e135270135.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e117440512.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee14\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e297297.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e262144.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee12\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e72765.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e65536.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee10\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e2205.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e2048.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e525.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e512.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee6\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e15.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e16.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee4\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e3.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e4.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e766530765.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e939524096.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee16\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// CJ = CJ + 45090045.0 / 5870256.0 * e14 精密測地網一次基準点測量作業規定の誤りによるバグ\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e45090045.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e58720256.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee14\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1486485.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e2097152.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee12\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e10395.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e16384.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee10\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e2205.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e4096.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e105.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e256.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee6\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e15.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e64.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee4\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e209053845.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e469762048.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee16\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e45090045.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e117440512.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee14\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e165165.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e524288.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee12\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e31185.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e131072.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee10\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e315.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e2048.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e35.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e512.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee6\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e348423075.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e1879048192.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee16\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e4099095.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e29360128.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee14\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e99099.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e1048576.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee12\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e3465.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e65536.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee10\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e315.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e16384.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e26801775.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e469762048.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee16\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e4099095.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e117440512.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee14\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e9009.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e524288.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee12\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e693.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e131072.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee10\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eGJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e11486475.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e939524096.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee16\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eGJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eGJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e315315.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e58720256.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee14\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eGJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eGJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e3003.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e2097152.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee12\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eHJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e765765.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e469762048.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee16\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eHJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eHJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e45045.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e117440512.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee14\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eIJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e765765.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e7516192768.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee16\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// 赤道から座標系原点までの子午線長の計算\u003c/span\u003e\n                \u003cspan class=\"nf\"\u003eMeridS\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ebeta\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAEE\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eGJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eHJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eIJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eS0\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 何度も使う式を変数に代入\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eT\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eTan\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einBeta\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eT\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003eT4\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003eT6\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eT4\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eCOS2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einBeta\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einBeta\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eEta2phi\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEp2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eCOS2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                  \u003cspan class=\"c1\"\u003e// =η1*η1\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eMphi\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCEE\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSqrt\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2phi\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"m\"\u003e3.0\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 「精密測地網一次基準点測量計算式」P52のM(phi)\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eNphi\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCEE\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSqrt\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2phi\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e        \u003cspan class=\"c1\"\u003e// 「精密測地網一次基準点測量計算式」P52のN(phi)\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eDL2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003edL\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003edL\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003eDL4\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eDL2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eDL2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003eDL6\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eDL4\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eDL2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 赤道から求点までの子午線長の計算\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eMeridS\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einBeta\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAEE\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eGJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eHJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eIJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eS\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// Ｘ，Ｙの計算 in meter\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 「精密測地網一次基準点測量計算式」P52,53のx,yを求める式より\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e-(-\u003c/span\u003e\u003cspan class=\"m\"\u003e1385.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e3111.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e543.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT4\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eT6\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eDL6\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eCOS2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e3.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e40320.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"p\"\u003e(-\u003c/span\u003e\u003cspan class=\"m\"\u003e61.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e58.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eT4\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e270.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2phi\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e330.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2phi\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eDL4\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eCOS2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e2.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e720.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e5.0\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e9.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2phi\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e4.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2phi\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2phi\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eDL2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eCOS2\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e24.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e2.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eNphi\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eCOS2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eDL2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eS\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eS0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003emeridianCoefficiant\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e-(-\u003c/span\u003e\u003cspan class=\"m\"\u003e61.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e479.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e179.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT4\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eT6\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eDL6\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eCOS2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e3.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e5040.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"p\"\u003e(-\u003c/span\u003e\u003cspan class=\"m\"\u003e5.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e18.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eT4\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e14.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2phi\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e58.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2phi\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eDL4\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eCOS2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e2.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e120.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"p\"\u003e(-\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2phi\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eDL2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eCOS2\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e6.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eNphi\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einBeta\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003edL\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003emeridianCoefficiant\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 子午線収差角　これのマイナスが真北方向角(rad)\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 「精密測地網一次基準点測量計算式」P53のγを求める式より\u003c/span\u003e\n            \u003cspan class=\"n\"\u003egamma\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCOS2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eCOS2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e2.0\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edL\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e4.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e15.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003egamma\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003egamma\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eCOS2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e3.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2phi\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e2.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eEta2phi\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e2.0\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edL\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e2.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e3.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003egamma\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003egamma\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003egamma\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003egamma\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einBeta\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003edL\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 縮尺係数の計算 「精密測地網一次基準点測量計算式」P51のmを求める式より\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eoutMeridian\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eY\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e4.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e24.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMphi\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMphi\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eNphi\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eNphi\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emeridianCoefficiant\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e4.0\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eoutMeridian\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eoutMeridian\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e2.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMphi\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eNphi\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emeridianCoefficiant\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e2.0\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eoutMeridian\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eoutMeridian\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eoutMeridian\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eoutMeridian\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003emeridianCoefficiant\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// X,YをB,Lに換算します。called by XYFile\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// このサブプログラムが複数回呼ばれることを想定すると，楕円体パラメータと座標系が変更されずに\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 呼ばれた場合，2回目以降，関係変数をダブって計算するのは無駄なので，\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// PreCalcがTrue（最初に呼ばれるとき）なら関係変数を計算しstatic変数に代入し，Falseなら計算しない。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"PreCalc\"\u0026gt;既に計算済みの場合、false\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"ellipSuffix\"\u0026gt;楕円体配列の添え字：0=Bessel楕円体=日本測地系, 1=GRS80楕円体=世界測地系\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"X\"\u0026gt;平面直角座標\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"Y\"\u0026gt;平面直角座標\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"Bout\"\u0026gt;度単位の緯度\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"Lout\"\u0026gt;度単位の経度\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inX\"\u0026gt;平面直角座標 入力値\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inY\"\u0026gt;平面直角座標 入力値\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eDoCalcXy2blFile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003ePreCalc\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eellipSuffix\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eY\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eBout\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eLout\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einY\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eM0\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.9999\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e       \u003cspan class=\"c1\"\u003e//系番号，基準子午線の縮尺係数\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ecB1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e      \u003cspan class=\"c1\"\u003e//原点の緯度，経度。c = combo box\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ecL1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e      \u003cspan class=\"c1\"\u003e//原点の緯度，経度。c = combo box\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eB1\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e       \u003cspan class=\"c1\"\u003e//原点の緯度，経度。基本的にradian\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eL1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e       \u003cspan class=\"c1\"\u003e//原点の緯度，経度。基本的にradian\u003c/span\u003e\n\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eAEE\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eCEE\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eEp2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eEllipParam\u003c/span\u003e \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eEllipParam\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eGJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eHJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eIJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ee2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ee4\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ee6\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ee10\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ee12\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ee14\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ee16\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eB\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e       \u003cspan class=\"c1\"\u003e// 求める緯度，経度。基本的にradian\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eL\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e       \u003cspan class=\"c1\"\u003e// 求める緯度，経度。基本的にradian\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eD\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eAM\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eS\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eSN\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eS0\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                   \u003cspan class=\"c1\"\u003e// 赤道から座標原点までの子午線弧長\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eM\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e         \u003cspan class=\"c1\"\u003e// phi1の関数\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eM1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e         \u003cspan class=\"c1\"\u003e// phi1の関数\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eN1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e         \u003cspan class=\"c1\"\u003e// phi1の関数\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eT\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eT4\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eT6\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eS1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ephi1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eoldphi1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eicountphi1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eBunsi\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eBunbo\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eYM0\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eN1CosPhi1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ePreCalc\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// 楕円体ﾊﾟﾗﾒｰﾀの代入\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAxix\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eellipSuffix\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eAxix\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFlattening1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eellipSuffix\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eFlattening1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFlattening\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eellipSuffix\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eFlattening\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eellipSuffix\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eNamec\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eellipSuffix\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eNamec\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ee2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ee4\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ee2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ee6\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ee4\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ee8\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ee4\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee4\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ee10\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ee12\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee4\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ee14\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee6\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ee16\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e// 定数項 the same as bl2xy\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eAEE\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAxix\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e      \u003cspan class=\"c1\"\u003e// a(1-e2)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eCEE\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAxix\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003edouble\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSqrt\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e   \u003cspan class=\"c1\"\u003e// C=a*Math.Sqrt(1+e'2)=a/Math.Sqrt(1-e2)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eEp2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003edouble\u003c/span\u003e\u003cspan class=\"p\"\u003e)(\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e      \u003cspan class=\"c1\"\u003e// e'2 (e prime 2) Eta2を計算するため\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e// 「緯度を与えて赤道からの子午線弧長を求める計算」のための９つの係数を求める。\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// 「精密測地網一次基準点測量計算式」P55,P56より。係数チェック済み1999/10/19。\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e4927697775.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e7516192768.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee16\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e19324305.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e29360128.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee14\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e693693.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e1048576.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee12\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e43659.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e65536.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee10\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e11025.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e16384.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e175.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e256.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee6\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e45.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e64.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee4\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e3.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e4.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e547521975.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e469762048.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee16\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e135270135.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e117440512.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee14\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e297297.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e262144.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee12\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e72765.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e65536.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee10\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e2205.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e2048.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e525.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e512.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee6\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e15.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e16.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee4\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e3.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e4.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e766530765.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e939524096.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee16\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// CJ = CJ + 45090045.0 / 5870256.0 * e14 精密測地網一次基準点測量作業規定の誤りによるバグ\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e45090045.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e58720256.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee14\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1486485.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e2097152.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee12\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e10395.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e16384.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee10\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e2205.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e4096.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e105.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e256.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee6\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e15.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e64.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee4\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e209053845.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e469762048.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee16\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e45090045.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e117440512.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee14\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e165165.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e524288.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee12\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e31185.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e131072.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee10\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e315.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e2048.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e35.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e512.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee6\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e348423075.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e1879048192.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee16\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e4099095.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e29360128.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee14\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e99099.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e1048576.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee12\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e3465.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e65536.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee10\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e315.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e16384.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e26801775.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e469762048.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee16\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e4099095.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e117440512.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee14\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e9009.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e524288.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee12\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e693.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e131072.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee10\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eGJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e11486475.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e939524096.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee16\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eGJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eGJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e315315.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e58720256.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee14\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eGJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eGJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e3003.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e2097152.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee12\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eHJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e765765.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e469762048.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee16\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eHJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eHJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e45045.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e117440512.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee14\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eIJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e765765.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e7516192768.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee16\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e// 座標系番号，緯度，経度の読みとり\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ecB1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003einX\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// 原点緯度\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ecL1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003einY\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 原点経度\u003c/span\u003e\n                \u003cspan class=\"nf\"\u003eDmsToDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecB1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eB1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eSN\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eD\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eAM\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eS\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"nf\"\u003eDmsToDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecL1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eL1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eSN\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eD\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eAM\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eS\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eB1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eB1\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eDegToRad\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eL1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eL1\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eDegToRad\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003etry\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// 赤道からの子午線長の計算\u003c/span\u003e\n                \u003cspan class=\"nf\"\u003eMeridS\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eB1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAEE\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eGJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eHJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eIJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eS0\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 赤道から座標原点までの子午線弧長\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eM\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eS0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eM0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// 「精密測地網一次基準点測量計算式」P57中段\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e// Baileyの式による異性緯度（isometric latitude）phi1の計算。\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// 「精密測地網一次基準点測量計算式」P57の11.(1)の式から。\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// この式と「現代測量学１ 測量の数学的基礎」P102の式とは，Math.Cos(phi1)だけ異なる。\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// この式を導入したためベッセル楕円体以外で往復計算OKとなった。\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eicountphi1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ephi1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eB1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003edo\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eicountphi1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eicountphi1\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eoldphi1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ephi1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"nf\"\u003eMeridS\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ephi1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAEE\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eGJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eHJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eIJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eS1\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eBunsi\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e2.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eS1\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eM\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ephi1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ephi1\u003c/span\u003e\u003cspan class=\"p\"\u003e)),\u003c/span\u003e \u003cspan class=\"m\"\u003e1.5\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eBunbo\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e3.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eS1\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eM\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ephi1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ephi1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSqrt\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ephi1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ephi1\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e2.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAxix\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003ephi1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ephi1\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eBunsi\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eBunbo\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ewhile\u003c/span\u003e \u003cspan class=\"p\"\u003e(!((\u003c/span\u003e\u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAbs\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ephi1\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eoldphi1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"m\"\u003e0.00000000000001\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eicountphi1\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"m\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e)));\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 赤道から点までの子午線弧長\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// 本では1e-12で十分　iterationの回数は４回\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e// 本計算\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// 何度も使う式を変数に代入\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eYM0\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eM0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eT\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eTan\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ephi1\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// 「精密測地網一次基準点測量計算式」P51のt1に等しい\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eT\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003eT4\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003eT6\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eT4\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eEta2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEp2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ephi1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ephi1\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e     \u003cspan class=\"c1\"\u003e// =η1*η1\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eM1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCEE\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSqrt\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"m\"\u003e3.0\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eN1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCEE\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSqrt\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eN1CosPhi1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eN1\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ephi1\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e// 緯度Bの計算 「精密測地網一次基準点測量計算式」P51のphiを求める式より\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eB\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"m\"\u003e1385.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e3633.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e4095\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT4\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1575.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT6\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e40320.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eN1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e8.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eYM0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e8.0\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eB\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eB\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"m\"\u003e61.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e90.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e45\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT4\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e107.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e162.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e45.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT4\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e720.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eN1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e6.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eYM0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e6.0\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eB\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eB\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"m\"\u003e5.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e3.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e6.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e6.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e3.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eEta2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e9.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eEta2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e24.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eN1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e4.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eYM0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e4.0\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eB\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eB\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e2.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eN1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e2.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eYM0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e2.0\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eB\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eB\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eB\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eB\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ephi1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e// 経度Lの計算 「精密測地網一次基準点測量計算式」P51のΔλを求める式より\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eL\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e-((\u003c/span\u003e\u003cspan class=\"m\"\u003e61.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e662.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1320.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT4\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e720.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT6\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e5040.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eN1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e6.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eN1CosPhi1\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eYM0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e7.0\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eL\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eL\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"m\"\u003e5.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e28.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e24.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT4\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e6.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e8.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e120.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eN1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e4.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eN1CosPhi1\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eYM0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e5.0\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eL\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eL\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e2.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e6.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eN1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e2.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eN1CosPhi1\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eYM0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e3.0\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eL\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eL\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eN1CosPhi1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eYM0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eL\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eL\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eL1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e// 縮尺係数と真北方向角の計算はファイル処理では不要\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e// 出力\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eBout\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eB\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eRadToDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eLout\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eL\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eRadToDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                                \u003cspan class=\"c1\"\u003e// エラー処理ルーチンが実行されないように Sub を終了します。\u003c/span\u003e\n\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ecatch\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eOverflowException\u003c/span\u003e \u003cspan class=\"n\"\u003eoe\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eCommonUtils\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLogWrite\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFormat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eConstString\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eError\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFailedXY\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eMethodBase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetCurrentMethod\u003c/span\u003e\u003cspan class=\"p\"\u003e().\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eB\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"n\"\u003eL\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ecatch\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eException\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eCommonUtils\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLogWrite\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFormat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eConstString\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eError\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFailedXY\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eMethodBase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetCurrentMethod\u003c/span\u003e\u003cspan class=\"p\"\u003e().\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eB\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eL\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 平面直角座標X,Yを緯度,経度に換算します。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 「精密測地網一次基準点測量計算式」を導入し多くの項を採用。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// NAD83 Datum Sheet Dataのアラスカの点で往復計算の経度差が0.00156秒あったのを0.00000秒にした。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// この計算は変換の第1段階なので緯度経度入力値のﾁｪｯｸが必要\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"ellipSuffix\"\u0026gt;楕円体配列の添え字：0=Bessel楕円体=日本測地系, 1=GRS80楕円体=世界測地系\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inLat\"\u0026gt;入力緯度\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inLon\"\u0026gt;入力経度\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inX\"\u0026gt;入力X\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"inY\"\u0026gt;入力Y\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eCalcXYToBL\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eellipSuffix\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einLat\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einLon\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003einY\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e       \u003cspan class=\"c1\"\u003e// 平面直角座標。入力値。meter\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e       \u003cspan class=\"c1\"\u003e// 平面直角座標。入力値。meter\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ecB1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e   \u003cspan class=\"c1\"\u003e// 原点の緯度，経度。c = combo box\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ecL1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e   \u003cspan class=\"c1\"\u003e// 原点の緯度，経度。c = combo box\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ebetaOrigin\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e     \u003cspan class=\"c1\"\u003e// 原点の緯度，経度。基本的にradian\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003elambdaOrigin\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e     \u003cspan class=\"c1\"\u003e// 原点の緯度，経度。基本的にradian\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ebeta\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e       \u003cspan class=\"c1\"\u003e// 求める緯度，経度。基本的にradian\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003elambda\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e       \u003cspan class=\"c1\"\u003e// 求める緯度，経度。基本的にradian\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003egamma\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                \u003cspan class=\"c1\"\u003e// =γ 子午線収差角。radian\u003c/span\u003e\n\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003esign\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003esignString\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eS0\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                   \u003cspan class=\"c1\"\u003e// 赤道から座標原点までの子午線弧長\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eM\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eT4\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eT6\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eS1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ephi1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eoldphi1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eicount\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eBunsi\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eBunbo\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"n\"\u003eEllipParam\u003c/span\u003e \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eEllipParam\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e//出力系\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eoutX\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eoutY\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eoutLat\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eoutLon\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eoutDeg\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eoutParam\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 基準子午線の縮尺係数\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eM0\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.9999\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 楕円体ﾊﾟﾗﾒｰﾀの代入\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAxix\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eellipSuffix\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eAxix\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFlattening1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eellipSuffix\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eFlattening1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFlattening\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eellipSuffix\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eFlattening\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eellipSuffix\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eNamec\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eellipSuffix\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eNamec\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ee2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ee4\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ee2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ee6\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ee4\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ee4\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee4\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ee10\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ee12\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee4\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ee14\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee6\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ee16\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 定数項 the same as bl2xy\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eAEE\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAxix\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e      \u003cspan class=\"c1\"\u003e// a(1-e2)\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eCEE\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAxix\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003edouble\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSqrt\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e   \u003cspan class=\"c1\"\u003e// C=a*Math.Sqrt(1+e'2)=a/Math.Sqrt(1-e2)\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eEp2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003edouble\u003c/span\u003e\u003cspan class=\"p\"\u003e)(\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e      \u003cspan class=\"c1\"\u003e// e'2 (e prime 2) Eta2を計算するため\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 「緯度を与えて赤道からの子午線弧長を求める計算」のための９つの係数を求める。\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 「精密測地網一次基準点測量計算式」P55,P56より。係数チェック済み1999/10/19。\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e4927697775.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e7516192768.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee16\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e19324305.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e29360128.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee14\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e693693.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e1048576.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee12\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e43659.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e65536.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee10\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e11025.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e16384.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e175.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e256.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee6\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e45.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e64.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee4\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e3.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e4.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e547521975.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e469762048.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee16\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e135270135.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e117440512.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee14\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e297297.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e262144.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee12\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e72765.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e65536.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee10\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e2205.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e2048.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e525.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e512.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee6\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e15.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e16.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee4\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e3.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e4.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e766530765.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e939524096.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee16\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// CJ = CJ + 45090045.0 / 5870256.0 * e14 精密測地網一次基準点測量作業規定の誤りによるバグ\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e45090045.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e58720256.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee14\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1486485.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e2097152.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee12\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e10395.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e16384.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee10\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e2205.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e4096.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e105.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e256.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee6\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e15.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e64.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee4\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e209053845.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e469762048.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee16\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e45090045.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e117440512.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee14\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e165165.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e524288.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee12\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e31185.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e131072.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee10\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e315.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e2048.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e35.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e512.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee6\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e348423075.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e1879048192.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee16\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e4099095.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e29360128.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee14\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e99099.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e1048576.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee12\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e3465.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e65536.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee10\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e315.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e16384.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee8\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e26801775.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e469762048.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee16\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e4099095.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e117440512.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee14\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e9009.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e524288.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee12\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e693.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e131072.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee10\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eGJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e11486475.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e939524096.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee16\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eGJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eGJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e315315.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e58720256.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee14\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eGJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eGJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e3003.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e2097152.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee12\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eHJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e765765.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e469762048.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee16\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eHJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eHJ\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e45045.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e117440512.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee14\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eIJ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e765765.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e7516192768.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ee16\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 座標系番号，緯度，経度の読みとり\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ecB1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003einX\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// 原点緯度\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ecL1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003einY\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 原点経度\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eDmsToDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecB1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003ebetaOrigin\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esign\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eDmsToDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecL1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003elambdaOrigin\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esign\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ebetaOrigin\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ebetaOrigin\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eDegToRad\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elambdaOrigin\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elambdaOrigin\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eDegToRad\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003etry\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// X,Yの入力\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eellipSuffix\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003einLat\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003einLon\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003einLat\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003einLon\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e// 赤道からの子午線長の計算\u003c/span\u003e\n                \u003cspan class=\"nf\"\u003eMeridS\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ebetaOrigin\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAEE\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eGJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eHJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eIJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eS0\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 赤道から座標原点までの子午線弧長\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eM\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eS0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eM0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e// Baileyの式による異性緯度（isometric latitude）phi1の計算。\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// 「精密測地網一次基準点測量計算式」P57の11.(1)の式から。\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// この式と「現代測量学１ 測量の数学的基礎」P102の式とは，Math.Cos(phi1)だけ異なる。\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// この式を導入したためベッセル楕円体以外で往復計算OKとなった。\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eicount\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ephi1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ebetaOrigin\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003edo\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eicount\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eicount\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eoldphi1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ephi1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"nf\"\u003eMeridS\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ephi1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAEE\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eGJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eHJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eIJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eS1\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eBunsi\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e2.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eS1\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eM\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ephi1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ephi1\u003c/span\u003e\u003cspan class=\"p\"\u003e)),\u003c/span\u003e \u003cspan class=\"m\"\u003e1.5\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eBunbo\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e3.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eS1\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eM\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ephi1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ephi1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSqrt\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ephi1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ephi1\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e2.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAxix\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eEPs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003ephi1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ephi1\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eBunsi\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eBunbo\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eicount\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"m\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003eMessageBox\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eShow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"異性緯度を求めるのに収束しません。\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eApplication\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eProductName\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eMessageBoxButtons\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eOK\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eMessageBoxIcon\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eError\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ewhile\u003c/span\u003e \u003cspan class=\"p\"\u003e(!((\u003c/span\u003e\u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAbs\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ephi1\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eoldphi1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"m\"\u003e0.00000000000001\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eicount\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"m\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e)));\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 赤道から点までの子午線弧長\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// 本では1e-12で十分　iterationの回数は４回\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e// 何度も使う式を変数に代入\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eYM0\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eM0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eT\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eTan\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ephi1\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// 「精密測地網一次基準点測量計算式」P51のt1に等しい\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eT\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003eT4\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003eT6\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eT4\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEp2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ephi1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ephi1\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e     \u003cspan class=\"c1\"\u003e// =η1*η1\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eM1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCEE\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSqrt\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"m\"\u003e3.0\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eN1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCEE\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSqrt\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eN1CosPhi1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eN1\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ephi1\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e// 緯度Bの計算 「精密測地網一次基準点測量計算式」P51のphiを求める式より\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ebeta\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"m\"\u003e1385.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e3633.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e4095\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT4\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1575.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT6\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e40320.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eN1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e8.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eYM0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e8.0\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ebeta\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ebeta\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"m\"\u003e61.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e90.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e45\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT4\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e107.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e162.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e45.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT4\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e720.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eN1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e6.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eYM0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e6.0\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ebeta\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ebeta\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"m\"\u003e5.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e3.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e6.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e6.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e3.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eEta2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e9.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eEta2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e24.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eN1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e4.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eYM0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e4.0\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ebeta\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ebeta\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e2.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eN1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e2.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eYM0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e2.0\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ebeta\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ebeta\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ebeta\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ebeta\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ephi1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e// 経度Lの計算 「精密測地網一次基準点測量計算式」P51のΔλを求める式より\u003c/span\u003e\n                \u003cspan class=\"n\"\u003elambda\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e-((\u003c/span\u003e\u003cspan class=\"m\"\u003e61.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e662.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1320.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT4\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e720.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT6\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e5040.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eN1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e6.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eN1CosPhi1\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eYM0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e7.0\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003elambda\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elambda\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"m\"\u003e5.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e28.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e24.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT4\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e6.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e8.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e120.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eN1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e4.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eN1CosPhi1\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eYM0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e5.0\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003elambda\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elambda\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e2.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e6.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eN1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e2.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eN1CosPhi1\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eYM0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e3.0\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003elambda\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elambda\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eN1CosPhi1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eYM0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003elambda\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elambda\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003elambdaOrigin\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e// 子午線収差角の計算 「精密測地網一次基準点測量計算式」P51のγを求める式より\u003c/span\u003e\n                \u003cspan class=\"n\"\u003egamma\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e2.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e3.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e15.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eN1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e5.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eM0\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"m\"\u003e5.0\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003egamma\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003egamma\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e3.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eN1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e3.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eM0\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"m\"\u003e3.0\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003egamma\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003egamma\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eN1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eM0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003egamma\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003egamma\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eT\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e// 縮尺係数の計算 「精密測地網一次基準点測量計算式」P51のmを求める式より\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2phi\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEp2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ebeta\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ebeta\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e     \u003cspan class=\"c1\"\u003e// =η*η。Bはphiと同じ。\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eMphi\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCEE\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSqrt\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2phi\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"m\"\u003e3.0\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eNphi\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCEE\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSqrt\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eEta2phi\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eMMM\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                  \u003cspan class=\"c1\"\u003e// 縮尺係数\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eMMM\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eY\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e4.0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e24.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMphi\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMphi\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eNphi\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eNphi\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eM0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e4.0\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eMMM\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMMM\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e2.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMphi\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eNphi\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eM0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e2.0\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eMMM\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMMM\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eMMM\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMMM\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eM0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e// 出力\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ebetaDeg\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 求める緯度，経度。基本的にdeg\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ebetaDeg\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ebeta\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eRadToDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003elambdaDeg\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 求める緯度，経度。基本的にdeg\u003c/span\u003e\n                \u003cspan class=\"n\"\u003elambdaDeg\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elambda\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eRadToDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// 子午線収差角Gamma(rad)から，真北方向角Gammadeg(degree)へ\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003egammaDeg\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e             \u003cspan class=\"c1\"\u003e// 真北方向角。deg\u003c/span\u003e\n                \u003cspan class=\"n\"\u003egammaDeg\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003egamma\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eRadToDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e//緯度、経度\u003c/span\u003e\n                \u003cspan class=\"nf\"\u003eDegToDms\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ebetaDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esignString\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eellipSuffix\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eoutLat\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003esignString\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"err\"\u003e###\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00.00000\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eoutLon\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003esignString\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"err\"\u003e###\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00.00000\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e//X,Y\u003c/span\u003e\n                \u003cspan class=\"nf\"\u003eDegToDms\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elambdaDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esignString\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eellipSuffix\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eoutX\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003esignString\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"err\"\u003e###\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00.00000\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eoutY\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003esignString\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"err\"\u003e###\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00.00000\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e//真北方向角\u003c/span\u003e\n                \u003cspan class=\"nf\"\u003eDegToDmsNotZero3\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003egammaDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003esignString\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eoutDeg\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003esignString\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003edegree\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"err\"\u003e###\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003eminute\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00\u003c/span\u003e\u003cspan class=\"p\"\u003e}{\u003c/span\u003e\u003cspan class=\"n\"\u003esecond\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00.000\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n                \u003cspan class=\"c1\"\u003e//縮尺係数\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eoutParam\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003eMMM\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"err\"\u003e#\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"m\"\u003e00000000\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 成果表は小数点以下６桁\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// outLat, outLon, outX, outY, outDeg, outParam に出力値が入っているので呼び出し下で受け取れるように調整を。\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ecatch\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eOverflowException\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eCommonUtils\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLogWrite\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFormat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eConstString\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eError\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFailedXY\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eMethodBase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetCurrentMethod\u003c/span\u003e\u003cspan class=\"p\"\u003e().\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ebeta\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003elambda\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ecatch\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eException\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eCommonUtils\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLogWrite\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFormat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eConstString\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eError\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFailedXY\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eMethodBase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetCurrentMethod\u003c/span\u003e\u003cspan class=\"p\"\u003e().\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ebeta\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003elambda\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 赤道から緯度Phiまでの子午線弧長を計算します。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 「精密測地網一次基準点測量計算式」P55より\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"Phi\"\u0026gt;\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"AEE\"\u0026gt;\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"AJ\"\u0026gt;\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"BJ\"\u0026gt;\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"CJ\"\u0026gt;\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"DJ\"\u0026gt;\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"EJ\"\u0026gt;\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"FJ\"\u0026gt;\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"GJ\"\u0026gt;\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"HJ\"\u0026gt;\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"IJ\"\u0026gt;\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"SS\"\u0026gt;\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eMeridS\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ePhi\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eAEE\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eGJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eHJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eIJ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eSS\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eSS\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eIJ\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e16.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e16.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ePhi\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eSS\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eSS\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eHJ\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e14.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e14.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ePhi\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eSS\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eSS\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eGJ\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e12.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e12.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ePhi\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eSS\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eSS\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eFJ\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e10.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e10.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ePhi\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eSS\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eSS\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eEJ\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e8.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e8.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ePhi\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eSS\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eSS\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eDJ\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e6.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e6.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ePhi\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eSS\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eSS\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eCJ\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e4.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e4.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ePhi\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eSS\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eSS\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eBJ\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e2.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e2.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ePhi\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eSS\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eSS\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eAJ\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ePhi\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eSS\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAEE\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eSS\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 「3ﾊﾟﾗﾒｰﾀによる」Tokyo97系からITRF94系への座標変換を行う。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// この変換では楕円体高Hはゼロとする。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"B1\"\u0026gt;入力 緯度(度)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"L1\"\u0026gt;入力 経度(度)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"B2\"\u0026gt;出力 緯度(度)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"L2\"\u0026gt;出力 経度(度)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eTokyo97toITRF94\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eB1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eL1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eB2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eL2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eBrad\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eALrad\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 緯度，経度(radian)\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eH\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                     \u003cspan class=\"c1\"\u003e// 楕円体高(m)\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eX1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eY1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eZ1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eX2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eY2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eZ2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// (m)\u003c/span\u003e\n\n            \u003cspan class=\"n\"\u003eBrad\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eB1\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eDegToRad\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eALrad\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eL1\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eDegToRad\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 緯度，経度から三次元直交座標系(X,Y,Z)への換算\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eBLHXYZcalc\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eBrad\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eALrad\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eX1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eY1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eZ1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]);\u003c/span\u003e \u003cspan class=\"c1\"\u003e// EP(0):Bessel楕円体=日本測地系\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 三次元直交座標系(X,Y,Z)から三次元直交座標系(X,Y,Z)への座標変換\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eXyz2Xyz\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eX1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eY1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eZ1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eX2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eY2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eZ2\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 三次元直交座標系(X,Y,Z)から緯度，経度への換算\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eXYZBLHcalc\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eX2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eY2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eZ2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eBrad\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eALrad\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eH\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]);\u003c/span\u003e \u003cspan class=\"c1\"\u003e// EP(1):GRS-80楕円体\u003c/span\u003e\n\n            \u003cspan class=\"n\"\u003eB2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBrad\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eRadToDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eL2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eALrad\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eRadToDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 「3ﾊﾟﾗﾒｰﾀによる」ITRF94系からTokyo97系への座標変換を行う。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// この変換では楕円体高Hは，変換後の水平位置B2,L2を正確に元に戻すため，2ステップで変換する。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// (1)初期値はゼロとし一度変換したあと，(2)その時のH分だけ下駄を履かせ，もう一度変換する。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"B1\"\u0026gt;入力 緯度(度)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"L1\"\u0026gt;入力 経度(度)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"B2\"\u0026gt;出力 緯度(度)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"L2\"\u0026gt;出力 経度(度)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eITRF94toTokyo97\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eB1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eL1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eB2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eL2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eBrad1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 緯度，経度(radian)\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eALrad1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 緯度，経度(radian)\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eBrad2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 緯度，経度(radian)\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eALrad2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 緯度，経度(radian)\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eH\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                       \u003cspan class=\"c1\"\u003e// 楕円体高(m)\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eX1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eY1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eZ1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eX2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eY2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eZ2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// (m)\u003c/span\u003e\n\n            \u003cspan class=\"n\"\u003eBrad1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eB1\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eDegToRad\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eALrad1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eL1\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eDegToRad\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// (1)\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 緯度，経度から三次元直交座標系(X,Y,Z)への換算\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eBLHXYZcalc\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eBrad1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eALrad1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eX1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eY1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eZ1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]);\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// EP(1):GRS-80楕円体=世界測地系\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 三次元直交座標系(X,Y,Z)から三次元直交座標系(X,Y,Z)への座標変換\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eXyz2XyzR\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eX1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eY1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eZ1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eX2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eY2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eZ2\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 三次元直交座標系(X,Y,Z)から緯度，経度への換算\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eXYZBLHcalc\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eX2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eY2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eZ2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eBrad2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eALrad2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eH\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]);\u003c/span\u003e \u003cspan class=\"c1\"\u003e// EP(0):Bessel楕円体=日本測地系\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// (2)\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 緯度，経度から三次元直交座標系(X,Y,Z)への換算\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eBLHXYZcalc\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eBrad1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eALrad1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003eH\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eX1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eY1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eZ1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]);\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// EP(0):GRS-80楕円体=世界測地系\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 三次元直交座標系(X,Y,Z)から三次元直交座標系(X,Y,Z)への座標変換\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eXyz2XyzR\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eX1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eY1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eZ1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eX2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eY2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eZ2\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 三次元直交座標系(X,Y,Z)から緯度，経度への換算\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eXYZBLHcalc\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eX2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eY2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eZ2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eBrad2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eALrad2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eH\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eellipObj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]);\u003c/span\u003e \u003cspan class=\"c1\"\u003e// EP(1):Bessel楕円体=日本測地系\u003c/span\u003e\n\n            \u003cspan class=\"n\"\u003eB2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBrad2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eRadToDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eL2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eALrad2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eRadToDeg\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// Ver.1.2から，EllipPar Typeに対応\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// B,L,HからX,Y,Zに変換する。 このとき楕円体を指定する必要あり。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"Brad\"\u0026gt;緯度(RADIAN)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"ALrad\"\u0026gt;経度(RADIAN)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"H\"\u0026gt;高さ(m)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"X\"\u0026gt;３次元直交座標系(m)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"Y\"\u0026gt;３次元直交座標系(m)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"Z\"\u0026gt;３次元直交座標系(m)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"EP\"\u0026gt;計算に利用する楕円体定義\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eBLHXYZcalc\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eBrad\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eALrad\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eH\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eY\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eZ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eEllipParam\u003c/span\u003e \u003cspan class=\"n\"\u003eEP\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"c1\"\u003e// ________________________\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eCB\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eCL\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eSB\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eSL\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eW\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eAN\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eFI\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEP\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAxix\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eFI\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEP\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFlattening1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ee\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEP\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eCB\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eBrad\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"n\"\u003eSB\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eBrad\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eCL\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eALrad\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"n\"\u003eSL\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eALrad\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eW\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSqrt\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eSB\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eSB\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eAN\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eW\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eAN\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eH\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eCB\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eCL\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eAN\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eH\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eCB\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eSL\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eZ\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eAN\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eH\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eSB\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// Ver.2.2から，EllipPar Typeに対応\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// X,Y.ZからB,L,Hに変換する。 このとき楕円体を指定する必要あり。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"X\"\u0026gt;３次元直交座標系(m)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"Y\"\u0026gt;３次元直交座標系(m)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"Z\"\u0026gt;３次元直交座標系(m)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"Brad\"\u0026gt;緯度(RADIAN)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"ALrad\"\u0026gt;経度(RADIAN)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"H\"\u0026gt;高さ(m)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"EP\"\u0026gt;楕円体定数\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eXYZBLHcalc\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eY\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eZ\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eBrad\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eALrad\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eH\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eEllipParam\u003c/span\u003e \u003cspan class=\"n\"\u003eEP\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ep2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003er\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003emyu\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003emyus3\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003emyuc3\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eFI\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEP\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAxix\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eFI\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEP\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFlattening1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ee\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEP\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEccentricity\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"n\"\u003ep2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eY\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ep\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSqrt\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ep2\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ep\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// エラー処理ルーチン。\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eMessageBox\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eShow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                    \u003cspan class=\"s\"\u003e\"Warning: 座標値(X,Y,Z)を入力して下さい。\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003emainForm\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eProductName\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eMessageBoxButtons\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eOK\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eMessageBoxIcon\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eError\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eALrad\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eHalfPI\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eALrad\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAtan\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eX\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\u003cspan class=\"c1\"\u003e// 経度\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eALrad\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eALrad\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ePI\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eALrad\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ePI\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eALrad\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eALrad\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eDoublePI\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"n\"\u003er\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSqrt\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ep2\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eZ\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eZ\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003emyu\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAtan\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"n\"\u003eZ\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eFI\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003er\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n            \u003cspan class=\"n\"\u003emyus3\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emyu\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003emyus3\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003emyus3\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003emyus3\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003emyus3\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003emyuc3\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emyu\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003emyuc3\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003emyuc3\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003emyuc3\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003emyuc3\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eBrad\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAtan\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"n\"\u003eZ\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eFI\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003emyus3\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eFI\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ep\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003emyuc3\u003c/span\u003e\u003cspan class=\"p\"\u003e)));\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eH\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eBrad\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eZ\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eBrad\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSqrt\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1.0\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eBrad\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eBrad\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e    \u003cspan class=\"c1\"\u003e// 楕円体高\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 座標変換をします。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 変換ﾊﾟﾗﾒｰﾀは，Tokyo97からITRF94固定とします。TKY2JGD専用なので。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// |XS| |X| |T1| || D  -R3  R2||X|\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// |YS|=|Y|+|T2|+| R3  D  -R1||Y|   cf. IERS ANNUAL REPORT FOR 1989\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// |ZS| |Z| |T3| |-R2  R1  D ||Z|                             II-23\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"X1\"\u0026gt;３次元直交座標系での座標 (m)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"Y1\"\u0026gt;３次元直交座標系での座標 (m)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"Z1\"\u0026gt;３次元直交座標系での座標 (m)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"X2\"\u0026gt;３次元直交座標系での座標 (m)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"Y2\"\u0026gt;３次元直交座標系での座標 (m)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"Z2\"\u0026gt;３次元直交座標系での座標 (m)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eXyz2Xyz\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eX1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eY1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eZ1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eX2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eY2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eZ2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eT1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e14641.4\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// X shift(cm)\u003c/span\u003e\n            \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e50733.7\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// Y shift(cm)\u003c/span\u003e\n            \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eT3\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e68050.7\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// Z shift(cm)\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eT1real\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e    \u003cspan class=\"c1\"\u003e// X shift(m)\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eT2real\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e    \u003cspan class=\"c1\"\u003e// Y shift(m)\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eT3real\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e    \u003cspan class=\"c1\"\u003e// Z shift(m)\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// パラメータの代入　Tokyo97からITRF94へ\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// -14641.40   50733.70   68050.70    0.00    0.00    0.00    0.00       Tokyo97        ITRF94\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 実際に使う変換パラメータの計算\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eT1real\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eT1\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e0.01\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                   \u003cspan class=\"c1\"\u003e// cm to m\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eT2real\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e0.01\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                   \u003cspan class=\"c1\"\u003e// cm to m\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eT3real\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eT3\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e0.01\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                   \u003cspan class=\"c1\"\u003e// cm to m\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 一般的には７パラメータで次のように変換しますが，ここでは3パラメータなので不要な計算は省略します。\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eX2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eX1\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eT1real\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eY2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eY1\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eT2real\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eZ2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eZ1\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eT3real\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 座標変換をします。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 逆方向変換 R:Reverse\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 変換ﾊﾟﾗﾒｰﾀは，ITRF94からTokyo97固定とします。TKY2JGD専用なので。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 座標変換をします。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// |XS| |X| |T1| || D  -R3  R2||X|\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// |YS|=|Y|+|T2|+| R3  D  -R1||Y|   cf. IERS ANNUAL REPORT FOR 1989\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// |ZS| |Z| |T3| |-R2  R1  D ||Z|                             II-23\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"X1\"\u0026gt;３次元直交座標系での座標 (m)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"Y1\"\u0026gt;３次元直交座標系での座標 (m)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"Z1\"\u0026gt;３次元直交座標系での座標 (m)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"X2\"\u0026gt;３次元直交座標系での座標 (m)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"Y2\"\u0026gt;３次元直交座標系での座標 (m)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"Z2\"\u0026gt;３次元直交座標系での座標 (m)\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eXyz2XyzR\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eX1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eY1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eZ1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eX2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eY2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eZ2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// パラメータの代入　ITRF94からTokyo97へ\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// -14641.40   50733.70   68050.70    0.00    0.00    0.00    0.00       Tokyo97        ITRF94\u003c/span\u003e\n            \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eT1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e14641.4\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// X shift(cm)\u003c/span\u003e\n            \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e50733.7\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// Y shift(cm)\u003c/span\u003e\n            \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eT3\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e68050.7\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// Z  shift(cm)\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eT1real\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e    \u003cspan class=\"c1\"\u003e// X shift(cm)\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eT2real\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e    \u003cspan class=\"c1\"\u003e// Y shift(cm)\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eT3real\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e    \u003cspan class=\"c1\"\u003e// Z shift(cm)\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 実際に使う変換パラメータの計算\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eT1real\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eT1\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e0.01\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                   \u003cspan class=\"c1\"\u003e// cm to m\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eT2real\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eT2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e0.01\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                   \u003cspan class=\"c1\"\u003e// cm to m\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eT3real\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eT3\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e0.01\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                   \u003cspan class=\"c1\"\u003e// cm to m\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 一般的には７パラメータで次のように変換しますが，ここでは3パラメータなので不要な計算は省略します。\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eX2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eX1\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eT1real\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eY2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eY1\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eT2real\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eZ2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eZ1\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eT3real\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 度単位の緯度lat,経度lonを受け取り，その点が含まれるﾒｯｼｭコードを返す関数\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// もし境界線上の点が与えられると，その点は点の北や東のﾒｯｼｭに属すると解釈する\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// Public Type MeshCode\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"lat\"\u0026gt;緯度\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"lon\"\u0026gt;経度\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;returns\u0026gt;\u0026lt;/returns\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eMeshCode\u003c/span\u003e \u003cspan class=\"nf\"\u003eLatLon2MeshCode\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003elat\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003elon\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003elat1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 1次メッシュコード\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003elon1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 1次メッシュコード\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eLatLon1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 1次メッシュコード\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003elat2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 2次メッシュコード\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003elon2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 2次メッシュコード\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003elatlon2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 2次メッシュコード\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003elat3\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 3次メッシュコード\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003elon3\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 3次メッシュコード\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003elatlon3\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 3次メッシュコード\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eModLat\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eModLon\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eMeshCode\u003c/span\u003e \u003cspan class=\"n\"\u003ertn_mesh\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eMeshCode\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 1次メッシュコード各2桁\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elat1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e)(\u003c/span\u003e\u003cspan class=\"n\"\u003elat\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e1.5\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e           \u003cspan class=\"c1\"\u003e// 36.0 -\u0026gt; 54,  36.666 -\u0026gt; 54\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elon1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e)(\u003c/span\u003e\u003cspan class=\"n\"\u003elon\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e           \u003cspan class=\"c1\"\u003e// 138.0 -\u0026gt; 38, 138.999 -\u0026gt; 38\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 2次メッシュコード各1桁\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elat2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e)(\u003c/span\u003e\u003cspan class=\"m\"\u003e8.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1.5\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003elat\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003elat1\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// 36.0 -\u0026gt; 0,  36.0833 -\u0026gt; 0\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elon2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e)(\u003c/span\u003e\u003cspan class=\"m\"\u003e8.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elon\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elon1\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e)));\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 138.0 -\u0026gt; 0, 138.1249 -\u0026gt; 0\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 3次メッシュコード各1桁\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elat3\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e)(\u003c/span\u003e\u003cspan class=\"m\"\u003e10.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e12.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003elat\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e8.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003elat1\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003elat2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e0.00000000001\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elon3\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e)(\u003c/span\u003e\u003cspan class=\"m\"\u003e10.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e8.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elon\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elon1\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003elon2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e0.00000000001\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 上2行が微少量を加えるのは，lon=138.45のとき3次が5とならずに6となるように\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// Ver.2.1 to Ver.2.2 lat=36.0833333333333のときlat3=10になって，エラー画面が出るバグを解消。原因は微小量を加えたことの副作用。\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 本来は微小量加算をやめるべきだが，以前の計算値との継続性を重視し，正しい緯(経)度同士の繰り上がり処理で対応する。2002/02/21\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elat3\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"m\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003elat2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elat2\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003elat3\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elat2\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"m\"\u003e8\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003elat1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elat1\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003elat2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elon3\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"m\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003elon2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elon2\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003elon3\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elon2\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"m\"\u003e8\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003elon1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elon1\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003elon2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 3次メッシの左下（南西角）点から何度ずれているか？\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eModLat\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e120.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003elat\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e80.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003elat1\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e10\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003elat2\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003elat3\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 余り。3次メッシの左下（南西角）点からどれくらいずれているか。0(西端)以上1(東端)未満\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eModLon\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e80.0\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elon\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elon1\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e10\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003elon2\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003elon3\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 余り。3次メッシの左下（南西角）点からどれくらいずれているか。0(南端)以上1(北端)未満\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 計算値のチェック\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elat2\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"n\"\u003elat2\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"m\"\u003e7\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eMessageBox\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eShow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                    \u003cspan class=\"s\"\u003e\"緯度の2次メッシュコードが0-7の範囲にありません。 \"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003elat2\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToString\u003c/span\u003e\u003cspan class=\"p\"\u003e(),\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003emainForm\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eProductName\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eMessageBoxButtons\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eOK\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eMessageBoxIcon\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eError\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elon2\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"n\"\u003elon2\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"m\"\u003e7\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eMessageBox\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eShow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                    \u003cspan class=\"s\"\u003e\"経度の2次メッシュコードが0-7の範囲にありません。 \"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003elon2\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToString\u003c/span\u003e\u003cspan class=\"p\"\u003e(),\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003emainForm\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eProductName\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eMessageBoxButtons\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eOK\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eMessageBoxIcon\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eError\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elat3\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"n\"\u003elat3\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"m\"\u003e9\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eMessageBox\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eShow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                    \u003cspan class=\"s\"\u003e\"緯度の3次メッシュコードが0-9の範囲にありません。 \"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003elat3\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToString\u003c/span\u003e\u003cspan class=\"p\"\u003e(),\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003emainForm\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eProductName\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eMessageBoxButtons\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eOK\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eMessageBoxIcon\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eError\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elon3\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"n\"\u003elon3\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"m\"\u003e9\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eMessageBox\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eShow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                    \u003cspan class=\"s\"\u003e\"経度の3次メッシュコードが0-9の範囲にありません。 \"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003elon3\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToString\u003c/span\u003e\u003cspan class=\"p\"\u003e(),\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003emainForm\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eProductName\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eMessageBoxButtons\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eOK\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eMessageBoxIcon\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eError\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 各メッシュコードの桁位置を調整し3次メッシュコードを合成する\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eLatLon1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elat1\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e100\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003elon1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// ex. 5438\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elatlon2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elat2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e10\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003elon2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// ex. 23   00 to 77\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elatlon3\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elat3\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e10\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003elon3\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// ex. 45   00 to 99\u003c/span\u003e\n\n            \u003cspan class=\"n\"\u003ertn_mesh\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFirstMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eLatLon1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                                      \u003cspan class=\"c1\"\u003e// 5438\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ertn_mesh\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSecondMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elatlon2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                                      \u003cspan class=\"c1\"\u003e// 23\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ertn_mesh\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eThridMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elatlon3\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                                      \u003cspan class=\"c1\"\u003e// 45\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ertn_mesh\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFullMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eConvert\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToInt64\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eLatLon1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e10000\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003elatlon2\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e100\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003elatlon3\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 54382345\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ertn_mesh\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFormedMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003eLatLon1\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e0000\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e-\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003elatlon2\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e-\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003elatlon3\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// \"5438-23-45\"\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ertn_mesh\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eModLat\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eModLat\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ertn_mesh\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eModLon\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eModLon\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003ertn_mesh\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// 基本ﾒｯｼｭｺｰﾄﾞoriginMeshCodeを受け取り，隣の東，北，北東のﾒｯｼｭコードを返す[TonariMeshCode2]\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// Public Type MeshCode '参考のため構造体を以下に示す\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// called by Bilinear1  バイリニア補間用\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"originMeshCode\"\u0026gt;原点のメッシュコード\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"eastMeshCode\"\u0026gt;東隣メッシュコード\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"northMeshCode\"\u0026gt;北隣メッシュコード\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"northEastMeshCode\"\u0026gt;北東隣メッシュコード\u0026lt;/param\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eAdjacentMeshCode\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eMeshCode\u003c/span\u003e \u003cspan class=\"n\"\u003eoriginMeshCode\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eMeshCode\u003c/span\u003e \u003cspan class=\"n\"\u003eeastMeshCode\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eMeshCode\u003c/span\u003e \u003cspan class=\"n\"\u003enorthMeshCode\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"n\"\u003eMeshCode\u003c/span\u003e \u003cspan class=\"n\"\u003enorthEastMeshCode\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\n            \u003cspan class=\"n\"\u003eMeshCode\u003c/span\u003e \u003cspan class=\"n\"\u003eMCbuf\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eMeshCode\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003elat1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 1次メッシュコード\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003elon1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 1次メッシュコード\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003elat2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 2次メッシュコード\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003elon2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 2次メッシュコード\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003elat3\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 3次メッシュコード\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003elon3\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 3次メッシュコード\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003elat1out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 1次メッシュコード\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003elon1out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 1次メッシュコード\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003elatlon1out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 1次メッシュコード\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003elat2out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 2次メッシュコード\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003elon2out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 2次メッシュコード\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003elatlon2out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 2次メッシュコード\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003elat3out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 3次メッシュコード\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003elon3out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 3次メッシュコード\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003elatlon3out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 3次メッシュコード\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// ①まず基本ﾒｯｼｭｺｰﾄﾞを分解し要素を取り出す。\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 1次メッシュコード各2桁             'ex.54382345\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elat1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eoriginMeshCode\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFirstMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e          \u003cspan class=\"c1\"\u003e// ex.54\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elon1\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eoriginMeshCode\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFirstMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e%\u003c/span\u003e \u003cspan class=\"m\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e        \u003cspan class=\"c1\"\u003e// ex.38\u003c/span\u003e\n                                               \u003cspan class=\"c1\"\u003e// 2次メッシュコード各1桁\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elat2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eoriginMeshCode\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSecondMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e           \u003cspan class=\"c1\"\u003e// ex.2\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elon2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eoriginMeshCode\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSecondMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e%\u003c/span\u003e \u003cspan class=\"m\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e         \u003cspan class=\"c1\"\u003e// ex.3\u003c/span\u003e\n                                               \u003cspan class=\"c1\"\u003e// 3次メッシュコード各1桁\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elat3\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eoriginMeshCode\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eThridMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e           \u003cspan class=\"c1\"\u003e// ex.4\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elon3\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eoriginMeshCode\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eThridMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e%\u003c/span\u003e \u003cspan class=\"m\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e         \u003cspan class=\"c1\"\u003e// ex.5\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 東側ﾒｯｼｭ\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// ②出力変数に代入したあと，となりのﾒｯｼｭｺｰﾄﾞを計算する。\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elat1out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elat1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elon1out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elon1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elat2out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elat2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elon2out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elon2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elat3out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elat3\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elon3out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elon3\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elon3\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"m\"\u003e9\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003elon3out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elon3\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003elon3out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elon2\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"m\"\u003e7\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003elon2out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elon2\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003elon2out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003elon1out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elon1\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// ③各メッシュコードの桁位置を調整し3次メッシュコードを合成する\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elatlon1out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elat1out\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e100\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003elon1out\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// ex. 5438\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elatlon2out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elat2out\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e10\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003elon2out\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// ex. 23   00 to 77\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elatlon3out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elat3out\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e10\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003elon3out\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// ex. 45   00 to 99\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// ④結果を仮の変数に代入\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eMCbuf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFirstMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elatlon1out\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                                   \u003cspan class=\"c1\"\u003e// 5438\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eMCbuf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSecondMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elatlon2out\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                                   \u003cspan class=\"c1\"\u003e// 23\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eMCbuf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eThridMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elatlon3out\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                                   \u003cspan class=\"c1\"\u003e// 45\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eMCbuf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFullMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eConvert\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToInt64\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elatlon1out\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e10000\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003elatlon2out\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e100\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003elatlon3out\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 54382345\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eMCbuf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFormedMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003elatlon1out\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e0000\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e-\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003elatlon2out\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e-\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003elatlon3out\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// \"5438-23-45\"\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// ⑤仮の変数から本当の変数に代入\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eeastMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMCbuf\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 北側ﾒｯｼｭ\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// ②出力変数に代入したあと，となりのﾒｯｼｭｺｰﾄﾞを計算する。\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elat1out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elat1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elon1out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elon1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elat2out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elat2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elon2out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elon2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elat3out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elat3\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elon3out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elon3\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elat3\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"m\"\u003e9\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003elat3out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elat3\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003elat3out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elat2\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"m\"\u003e7\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003elat2out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elat2\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003elat2out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003elat1out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elat1\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// ③各メッシュコードの桁位置を調整し3次メッシュコードを合成する\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elatlon1out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elat1out\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e100\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003elon1out\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// ex. 5438\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elatlon2out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elat2out\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e10\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003elon2out\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// ex. 23   00 to 77\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elatlon3out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elat3out\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e10\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003elon3out\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// ex. 45   00 to 99\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// ④結果を仮の変数に代入\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eMCbuf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFirstMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elatlon1out\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                                   \u003cspan class=\"c1\"\u003e// 5438\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eMCbuf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSecondMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elatlon2out\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                                   \u003cspan class=\"c1\"\u003e// 23\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eMCbuf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eThridMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elatlon3out\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                                   \u003cspan class=\"c1\"\u003e// 45\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eMCbuf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFullMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eConvert\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToInt64\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elatlon1out\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e10000\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003elatlon2out\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e100\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003elatlon3out\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 54382345\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eMCbuf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFormedMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003elatlon1out\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e0000\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e-\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003elatlon2out\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e-\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003elatlon3out\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"m\"\u003e00\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// \"5438-23-45\"\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// ⑤仮の変数から本当の変数に代入\u003c/span\u003e\n            \u003cspan class=\"n\"\u003enorthMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMCbuf\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// 北東側ﾒｯｼｭ\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// ②出力変数に代入したあと，となりのﾒｯｼｭｺｰﾄﾞを計算する。\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elat1out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elat1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elon1out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elon1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elat2out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elat2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elon2out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elon2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elat3out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elat3\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elon3out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elon3\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elon3\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"m\"\u003e9\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003elon3out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elon3\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003elon3out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elon2\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"m\"\u003e7\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003elon2out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elon2\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003elon2out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003elon1out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elon1\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elat3\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"m\"\u003e9\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003elat3out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elat3\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003elat3out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elat2\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"m\"\u003e7\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003elat2out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elat2\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003elat2out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003elat1out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elat1\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// ③各メッシュコードの桁位置を調整し3次メッシュコードを合成する\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elatlon1out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elat1out\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e100\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003elon1out\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// ex. 5438\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elatlon2out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elat2out\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e10\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003elon2out\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// ex. 23   00 to 77\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elatlon3out\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elat3out\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e10\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003elon3out\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// ex. 45   00 to 99\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// ④結果を仮の変数に代入\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eMCbuf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFirstMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elatlon1out\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                                   \u003cspan class=\"c1\"\u003e// 5438\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eMCbuf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSecondMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elatlon2out\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                                   \u003cspan class=\"c1\"\u003e// 23\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eMCbuf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eThridMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elatlon3out\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                                   \u003cspan class=\"c1\"\u003e// 45\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eMCbuf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFullMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eConvert\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToInt64\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elatlon1out\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e10000\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003elatlon2out\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e100\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003elatlon3out\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 54382345\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eMCbuf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFormedMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFormat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elatlon1out\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToString\u003c/span\u003e\u003cspan class=\"p\"\u003e(),\u003c/span\u003e \u003cspan class=\"s\"\u003e\"0000\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e\"-\"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFormat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elatlon2out\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToString\u003c/span\u003e\u003cspan class=\"p\"\u003e(),\u003c/span\u003e \u003cspan class=\"s\"\u003e\"00\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e\"-\"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFormat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elatlon3out\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToString\u003c/span\u003e\u003cspan class=\"p\"\u003e(),\u003c/span\u003e \u003cspan class=\"s\"\u003e\"00\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"c1\"\u003e// \"5438-23-45\"\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e// ⑤仮の変数から本当の変数に代入\u003c/span\u003e\n            \u003cspan class=\"n\"\u003enorthEastMeshCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMCbuf\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e        \n\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e\u003c/p\u003e\n\u003c/div\u003e\u003c/details\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"使い方\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BD%BF%E3%81%84%E6%96%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e使い方\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e    \u003cspan class=\"n\"\u003eTky2jgd\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTky2jgd\u003c/span\u003e \u003cspan class=\"n\"\u003ezahyou_converter\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eTky2jgd\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eTky2jgd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estParentName01\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ezahyou_converter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFileConvertBatch\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこのようにやることで、 \u003ccode\u003estParentName01\u003c/code\u003e フォルダ内の、 \u003ccode\u003ezahyou.in\u003c/code\u003e ファイルを読み込み、 \u003ccode\u003ezahyou.out\u003c/code\u003e ファイルを変換結果として出力します。\u003cbr\u003e\n第3～5引数を指定することで、\u003ccode\u003ezahyou.in\u003c/code\u003e \u003ccode\u003ezahyou.out\u003c/code\u003e \u003ccode\u003eTKY2JGD.par\u003c/code\u003e の各ファイル名を指定することもできます。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"最後に\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e最後に\u003c/h2\u003e\n\n\u003cp\u003e大元のソフトウェアを開発してくださった国土地理院の \u003cstrong\u003e飛田幹男\u003c/strong\u003e 氏に感謝を。\u003cbr\u003e\nまたソフトウェアの改変については、\u003ca href=\"https://www.gsi.go.jp/kikakuchousei/kikakuchousei40182.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003e国土地理院の規約\u003c/a\u003e を確認の上、問題ないと判断し私が対応したものとなります。\u003cbr\u003e\nC#版につきまして疑問が生じた場合には \u003cstrong\u003e国土地理院に対して質問等を行うことが無いようお願いいたします\u003c/strong\u003e 。\u003c/p\u003e\n","createdAt":"2020-03-24T05:12:40Z","elapsedYearsFromLastModifiedAt":1,"encryptedId":"DLVwekyFG+M362R6ayAhEOFC1CC+V7MTxA==--k0x0h+i1Jw+eEKqI--luQbazD6BNRfP85Ezwlgmg==","isBanned":false,"isDeprecated":true,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":false,"lastModifiedAt":"2020-03-24T05:12:40Z","likesCount":1,"linkUrl":"https://qiita.com/taedookim/items/86a4ace582a0053ee9fc","organization":null,"originalId":1191500,"stockedCount":2,"title":"日本測地系⇔世界測地系座標変換ソフト TKY2JGD をC#に","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#tky2jgd%E3%81%A8%E3%81%AF\"\u003e　TKY2JGDとは。\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%AA%E3%81%9Cc%E3%81%AB\"\u003eなぜC#に？\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%AA%E3%81%8A%E8%87%AA%E5%88%86%E3%81%8C%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B%E7%AF%84%E5%9B%B2%E5%86%85%E3%81%A7%E8%A8%88%E7%AE%97%E7%B5%90%E6%9E%9C%E3%81%8C%E5%BE%93%E6%9D%A5%E3%81%AE%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E3%81%A8%E5%A4%89%E3%82%8F%E3%82%89%E3%81%AA%E3%81%84%E3%81%93%E3%81%A8%E3%81%AE%E7%A2%BA%E8%AA%8D%E3%81%AF%E8%A1%8C%E3%81%A3%E3%81%A6%E3%81%84%E3%81%BE%E3%81%99%E3%81%8C%E8%A8%88%E7%AE%97%E7%B5%90%E6%9E%9C%E3%81%AE%E6%AD%A3%E5%BD%93%E6%80%A7%E3%82%84%E6%9C%AC%E3%82%B3%E3%83%BC%E3%83%89%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6%E7%99%BA%E7%94%9F%E3%81%99%E3%82%8B%E4%B8%8D%E5%88%A9%E7%9B%8A%E3%81%AB%E5%AF%BE%E3%81%99%E3%82%8B%E3%81%84%E3%81%8B%E3%81%AA%E3%82%8B%E8%A3%9C%E5%84%9F%E3%82%82%E3%81%84%E3%81%9F%E3%81%97%E3%81%8B%E3%81%AD%E3%81%BE%E3%81%99%E3%81%AE%E3%81%A7%E3%81%94%E5%88%A9%E7%94%A8%E3%81%AE%E9%9A%9B%E3%81%AF%E8%87%AA%E5%B7%B1%E8%B2%AC%E4%BB%BB%E3%81%AB%E3%81%8A%E3%81%84%E3%81%A6%E3%81%94%E5%88%A9%E7%94%A8%E3%81%84%E3%81%9F%E3%81%A0%E3%81%8D%E3%81%BE%E3%81%99%E3%82%88%E3%81%86%E3%81%94%E6%89%BF%E7%9F%A5%E3%81%8F%E3%81%A0%E3%81%95%E3%81%84\"\u003eなお、自分が利用する範囲内で計算結果が従来のソフトウェアと変わらないことの確認は行っていますが、計算結果の正当性や、本コードを利用して発生する不利益に対するいかなる補償もいたしかねますので、ご利用の際は自己責任においてご利用いただきますよう、ご承知ください。\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%89%8D%E6%8F%90%E6%9D%A1%E4%BB%B6\"\u003e前提条件\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E4%BD%BF%E3%81%84%E6%96%B9\"\u003e使い方\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\"\u003e最後に\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","totalPv":2454,"uuid":"86a4ace582a0053ee9fc","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"wDfQGMSbZZN+CrniKiJfhmZYA7M=--8eqw+asMxJ3HxHaT--qRvCXxm6buFPkDY3ChZ0Yg==","originalId":45794,"description":"専門学校卒業後、SE -\u003e 大学入学 -\u003e NPO法人 -\u003e 新聞社（記者職） -\u003e 新聞社（デジタル部門） -\u003e SE -\u003e SE（今ここ）と、いろいろフラフラした経歴です。\r\n小さい組織での勤務経験が多いので、設計からテスト、バックエンドからフロントまでと、一通り大抵の工程をかじっていますが、一点特化の能力が無いな〜というのが最近の悩み。","facebookUrl":"https://facebook.com/yasutokim","githubUrl":null,"isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"Tezuka Yasuto","profileImageUrl":"https://qiita-image-store.s3.amazonaws.com/0/45794/profile-images/1473690415","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F45794%2Fprofile-images%2F1473690415?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=af08fcd802bab6ab05407b2d3b5fef6a","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F45794%2Fprofile-images%2F1473690415?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=838a09e400956e198073898c680da733","urlName":"taedookim","websiteUrl":"http://taedoo.at.webry.info/","twitterUrl":"https://twitter.com/taedookim","twitterUrlName":"taedookim","revealedOrganizations":{"edges":[]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"TKY2JGD","urlName":"tky2jgd"}],"followingLikers":{"edges":[]},"comments":{"totalCount":2}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
