More than 1 year has passed since last update.RoslynはC#の構文解析やコード評価を行えるライブラリでC# 6以降のコンパイラでも使われています。Roslynを利用すると構文解析された結果を利用できるので文字列比較や正規表現と比べると解析漏れをなくせます。RoslynのインストールはNuGetで使えますがUnityだと重複するdllがありそのままでは導入できません。それをUPMで簡単に導入する方法が分かったのでまとめてみました。Unityでは以下のプロダクトでRoslynが使われています。Unity2018.3以上インストールできると以下のようにPackage Managerに追加されます。インストールだけではDLLを参照できないのでRoslynを使いたいスクリプトフォルダにアセンブリ定義を作り、以下の設定を変更します。Scripting API SamplesとGetting Started C# Syntax Analysisを参考にサンプルを実行してみます。それぞれcode欄に実行または解析するコード、result欄にその結果を表示しています。また実行できるUnityプロジェクトは https://github.com/shiena/UnityRoslynSample にありメニューの Tools &gt; Roslyn Sample を選択するとウインドウが開きます。コードを実行します。ジェネリクスで結果の型を指定してコードを実行します。クラス定義したパラメータをコードに適用して実行します。コードを解析してMainメソッドの最初の引数を出力します。コードを解析してSystemまたはSystem.以外で始まるusingを出力します。


