<!DOCTYPE html><html><head><meta charset="utf-8" /><title>[C#/WPF/MVVM]今さらMVVMについて調べた - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/mitsu_at3/items/49d21ba5fb38f15ea922" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="T+IQB6N+LixcxfS/oPWTqRzpSzmMjyrq7SSG3s46kOCGFDQOME7ESm0g+rdPq+7w5MMU8rF8YCh4KRIcsKn5RQ==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta property="og:type" content="article"><meta property="og:title" content="[C#/WPF/MVVM]今さらMVVMについて調べた - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1XME1qTDFkUVJpOU5WbFpOWGVTN2l1T0JsZU9DaVUxV1ZrM2pnYXZqZ2FUamdZVGpnYWJvcXJfamdibmpnWjgmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT01NCZ0eHQtY2xpcD1lbGxpcHNpcyZ0eHQtYWxpZ249Y2VudGVyJTJDbWlkZGxlJnM9YThiNjRjNTA3ZDUyNTU5NzQ3MDExMTYzYzEyZGNkYTc&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRzFwZEhOMVgyRjBNdyZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPTFiMTAxOWYxZTc5Zjc5YjM1N2MzNmNiMzA3NTY0ZDBh&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=fe3f1317f001e206ce14917f872594bb"><meta property="og:description" content="

はじめに

恥ずかしながら未だにWinForms案件ばかりでWPF、ましてやMVVMなんて使ったことがない時代遅れなプログラマーです。恥ずかしい・・・

そんな私の元にも遂にWPF案件が舞い降りてきてしまった。
ここ数日「WPFで..."><meta content="https://qiita.com/mitsu_at3/items/49d21ba5fb38f15ea922" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,WPF,MVVM" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-424775fd-e63e-4b7d-8a70-893f5e4edf46"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2Fmitsu_at3%2Fitems%2F49d21ba5fb38f15ea922">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2Fmitsu_at3%2Fitems%2F49d21ba5fb38f15ea922">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-424775fd-e63e-4b7d-8a70-893f5e4edf46">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2020-09-12T18:15:11.000+09:00","dateModified":"2020-09-12T18:19:45.000+09:00","headline":"[C#/WPF/MVVM]今さらMVVMについて調べた","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1XME1qTDFkUVJpOU5WbFpOWGVTN2l1T0JsZU9DaVUxV1ZrM2pnYXZqZ2FUamdZVGpnYWJvcXJfamdibmpnWjgmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT01NCZ0eHQtY2xpcD1lbGxpcHNpcyZ0eHQtYWxpZ249Y2VudGVyJTJDbWlkZGxlJnM9YThiNjRjNTA3ZDUyNTU5NzQ3MDExMTYzYzEyZGNkYTc\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRzFwZEhOMVgyRjBNdyZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPTFiMTAxOWYxZTc5Zjc5YjM1N2MzNmNiMzA3NTY0ZDBh\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=fe3f1317f001e206ce14917f872594bb","mainEntityOfPage":"https://qiita.com/mitsu_at3/items/49d21ba5fb38f15ea922","author":{"@type":"Person","address":"兵庫県","email":null,"identifier":"mitsu_at3","name":"mitsu_at3","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F326020%2Fprofile-images%2F1544679258?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=02d838e88de5d313cc854e94adbeebdf","url":"https://qiita.com/mitsu_at3","description":"関西で細々と働くしがないプログラマー的な何か。Windows系のC#やC++が多い。Win10IoTとか触ったり。たまにLinuxで鯖を立てたりも。\r\n以前書いてたブログを非公開にして、技術ネタを書く(メモる)場所が無くなったので登録してみました。","memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://zine.qiita.com/interview/202107-hitachi-3/?utm_source=qiita&amp;utm_medium=header-banner">日立の研究者が、2年間ドイツ人工知能研究センターで学んだこと</a><a target="_blank" id="header_text_message_2" href="https://zine.qiita.com/interview/202107-hitachi-3/?utm_source=qiita&amp;utm_medium=header-banner">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"mitsu_at3","type":"items","id":"49d21ba5fb38f15ea922"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"日立の研究者が、2年間ドイツ人工知能研究センターで学んだこと","url":"https://zine.qiita.com/interview/202107-hitachi-3/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"mitsu_at3","type":"items","id":"49d21ba5fb38f15ea922"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":0,"pos_id":"header_text_message_1","message":"日立の研究者が、2年間ドイツ人工知能研究センターで学んだこと","url":"https://zine.qiita.com/interview/202107-hitachi-3/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"mitsu_at3","type":"items","id":"49d21ba5fb38f15ea922"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":0,"pos_id":"header_text_message_2","message":"日立の研究者が、2年間ドイツ人工知能研究センターで学んだこと","url":"https://zine.qiita.com/interview/202107-hitachi-3/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/mitsu_at3/items/49d21ba5fb38f15ea922","location":"/mitsu_at3/items/49d21ba5fb38f15ea922","scheme":"https","host":"qiita.com","port":null,"pathname":"/mitsu_at3/items/49d21ba5fb38f15ea922","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"RbFhO/9W7xNF+Yr+587tSvllp6lmopqj5pexoBO8CyuMR0UybGYFdXQchPYIkJATAU/4YltR0GFzmiVibS9ijg==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-dfe83757-462a-431d-a243-7a7db6013ea2"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/mitsu_at3/items/49d21ba5fb38f15ea922/likers" class="css-1iupg5d">2</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">5</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/49d21ba5fb38f15ea922/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/mitsu_at3/items/49d21ba5fb38f15ea922/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/mitsu_at3/items/49d21ba5fb38f15ea922/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/mitsu_at3/items/49d21ba5fb38f15ea922/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/mitsu_at3/items/49d21ba5fb38f15ea922.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/mitsu_at3"><img class="css-100alwu eyfquo10" src="https://qiita-image-store.s3.amazonaws.com/0/326020/profile-images/1544679258" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/mitsu_at3" class="css-10ougpm">@<!-- -->mitsu_at3</a><div class="css-1ay9vb9"><span><meta content="2020-09-12T09:15:11Z"/><time dateTime="2020-09-12T09:19:45Z" class="css-m19uds">updated at 2020-09-12</time></span></div></div></div></div></div><h1 class="css-cgzq40">[C#/WPF/MVVM]今さらMVVMについて調べた</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/wpf" class="css-4czcte">WPF</a><a href="/tags/mvvm" class="css-4czcte">MVVM</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div>
<h1>
<span id="はじめに" class="fragment"></span><a href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB"><i class="fa fa-link"></i></a>はじめに</h1>

<p>恥ずかしながら未だにWinForms案件ばかりでWPF、ましてや<strong>MVVM</strong>なんて使ったことがない時代遅れなプログラマーです。恥ずかしい・・・</p>

<p><strong>そんな私の元にも遂にWPF案件が舞い降りてきてしまった。</strong><br>
ここ数日「WPFでどうやって作るねん」から調べ始めて、今さら<strong>MVVM</strong>という存在を知り、「<strong>MVVM</strong>ってなんやねん」をずっと調べているけど・・・</p>

<p><strong>なんだかよく分からない！</strong></p>

<p>「<code>View</code>-<code>ViewModel</code>-<code>Model</code>に分けて作りましょう」<br>
「テストしやすくなるよ」<br>
とかざっくりとは分かる。<br>
でも具体的なその分け方が調べていても人によって微妙に違って何が正解か分からない。<sup id="fnref1"><a href="#fn1" title="理解力が足りないだけかもしれない。">1</a></sup><br>
そもそも正解なんて無いのかもしれない。</p>

<p>で、考え込みすぎて訳が分からなくなってきたので、自分なりの考えを整理するためにも、<strong>MVVM</strong>について書いてみることに。</p>

<p><strong>WinForms脳な人間がMVVMについて数日調べただけの内容なので間違えてる部分が多々あるかもしれません。その時は優しく教えてくれると嬉しいです。優しく・・・</strong> </p>

<h1>
<span id="なんでmvvmに分けるのだろう" class="fragment"></span><a href="#%E3%81%AA%E3%82%93%E3%81%A7mvvm%E3%81%AB%E5%88%86%E3%81%91%E3%82%8B%E3%81%AE%E3%81%A0%E3%82%8D%E3%81%86"><i class="fa fa-link"></i></a>なんでMVVMに分けるのだろう？</h1>

<p><code>V-VM-M</code>の分け方について調べているだけだと明確な物が見えてこないので、視点を変えて<br>
<strong>「なんでMVVMに分けるのだろう？」</strong><br>
という目的から考えてみることにした。</p>

<h2>
<span id="目的" class="fragment"></span><a href="#%E7%9B%AE%E7%9A%84"><i class="fa fa-link"></i></a>目的</h2>

<h3>
<span id="テスタビリティテスト容易性向上" class="fragment"></span><a href="#%E3%83%86%E3%82%B9%E3%82%BF%E3%83%93%E3%83%AA%E3%83%86%E3%82%A3%E3%83%86%E3%82%B9%E3%83%88%E5%AE%B9%E6%98%93%E6%80%A7%E5%90%91%E4%B8%8A"><i class="fa fa-link"></i></a>テスタビリティ(テスト容易性)向上</h3>

<p>画面とコードがくっついてるとユニットテストがし辛い。<br>
そこで画面(View)とコード(ViewModel/Model)に分離してやるとやりやすくなる。</p>

<p>なるほど、たしかに。</p>

<h3>
<span id="プロダクティヴィティ生産性向上" class="fragment"></span><a href="#%E3%83%97%E3%83%AD%E3%83%80%E3%82%AF%E3%83%86%E3%82%A3%E3%83%B4%E3%82%A3%E3%83%86%E3%82%A3%E7%94%9F%E7%94%A3%E6%80%A7%E5%90%91%E4%B8%8A"><i class="fa fa-link"></i></a>プロダクティヴィティ(生産性)向上</h3>

<p>画面(View)とコード(ViewModel/Model)が分離してると、デザイナは画面(View)、プログラマはコード(ViewModel/Model)と明確に分業できる。</p>

<p>もっともウチにはデザイナなんていない。</p>

<h3>
<span id="ポータビリティ移植性向上" class="fragment"></span><a href="#%E3%83%9D%E3%83%BC%E3%82%BF%E3%83%93%E3%83%AA%E3%83%86%E3%82%A3%E7%A7%BB%E6%A4%8D%E6%80%A7%E5%90%91%E4%B8%8A"><i class="fa fa-link"></i></a>ポータビリティ(移植性)向上（？）</h3>

<p>画面(View)とコード(ViewModel/Model)が分離してると、画面(View)を用意するだけで他のプラットフォームに対応できる・・・かもしれない。<br>
と言うのも、これについて触れられている情報を殆ど見かけなくて、あくまで勝手なイメージ。<br>
ただ理論上は可能なはず・・・<sup id="fnref2"><a href="#fn2" title="Xamarinを使えば出来たりしないかな？（Xamarin未経験）">2</a></sup></p>

<h2>
<span id="分け方が曖昧な原因はここにある" class="fragment"></span><a href="#%E5%88%86%E3%81%91%E6%96%B9%E3%81%8C%E6%9B%96%E6%98%A7%E3%81%AA%E5%8E%9F%E5%9B%A0%E3%81%AF%E3%81%93%E3%81%93%E3%81%AB%E3%81%82%E3%82%8B"><i class="fa fa-link"></i></a>分け方が曖昧な原因はここにある？</h2>

<p>恐らく大まかにこの３つが目的で、特にテスタビリティ向上が重要っぽい。<br>
<strong>あれ？これらの目的って、とりあえず画面さえ分離しちゃえば一応は満たせる？</strong><br>
そのせいで<code>V-VM-M</code>の分け方が曖昧なんだろうか。</p>

<h1>
<span id="理想的なプロジェクト構成を考えてみる" class="fragment"></span><a href="#%E7%90%86%E6%83%B3%E7%9A%84%E3%81%AA%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%A7%8B%E6%88%90%E3%82%92%E8%80%83%E3%81%88%E3%81%A6%E3%81%BF%E3%82%8B"><i class="fa fa-link"></i></a>理想的なプロジェクト構成を考えてみる</h1>

<p>↑に挙げた目的を元に、まずはどんなプロジェクト構成が理想的かを大まかに考えてみる。</p>

<h2>
<span id="こんな感じ" class="fragment"></span><a href="#%E3%81%93%E3%82%93%E3%81%AA%E6%84%9F%E3%81%98"><i class="fa fa-link"></i></a>こんな感じ？</h2>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>- MvvmTest (.Net Core/WPF)
    - Views
        - MainView.xaml
            - MainView.xaml.cs
    - App.xaml
        - App.xaml.cs
    - AssemblyInfo.cs
- MvvmTest.MVM (.Net Standard)
    - MainViewModel.cs
    - MainModel.cs
</code></pre></div></div>

<p>あくまで最小の基本構成。DIコンテナとか画面遷移とか考え出すと多分これじゃあ足りない。</p>

<h3>
<span id="mvvmtest-プロジェクト" class="fragment"></span><a href="#mvvmtest-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88"><i class="fa fa-link"></i></a>MvvmTest プロジェクト</h3>

<p>Viewとアプリケーションを定義・実装するプロジェクト。<br>
Viewを<code>MvvmTest.Views</code>プロジェクトに分けるのも有りかも。意味があるかは謎。<br>
あとこれを<code>MvvmTest.NetCore</code>にして、Xamarinで<code>MvvmTest.iOS</code>とか作れると幸せ。</p>

<h3>
<span id="mvvmtestmvm-プロジェクト" class="fragment"></span><a href="#mvvmtestmvm-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88"><i class="fa fa-link"></i></a>MvvmTest.MVM プロジェクト</h3>

<p>ViewModel と Model を定義・実装するプロジェクト。<br>
<code>.Net Standard</code>にしたい！！<sup id="fnref3"><a href="#fn3" title=".Net Standard大好き">3</a></sup><br>
MVM・・・もう少し良い名前はないものか。<br>
<code>MvvmTest.ViewModels</code>と<code>MvvmTest.Models</code>に分けるのも有りかも。意味があるかは謎。<br>
ViewModel と Model は同じ階層で近い位置にいた方が便利のような？</p>

<h1>
<span id="mvvmそれぞれの役割を考えてみる" class="fragment"></span><a href="#mvvm%E3%81%9D%E3%82%8C%E3%81%9E%E3%82%8C%E3%81%AE%E5%BD%B9%E5%89%B2%E3%82%92%E8%80%83%E3%81%88%E3%81%A6%E3%81%BF%E3%82%8B"><i class="fa fa-link"></i></a>MVVMそれぞれの役割を考えてみる</h1>

<p>次に<code>View</code>、<code>ViewModel</code>、<code>Model</code>それぞれの役割を大まかに考えてみる。</p>

<h2>
<span id="view" class="fragment"></span><a href="#view"><i class="fa fa-link"></i></a>View</h2>

<p>画面。それ以上でもそれ以下でもない。<br>
<code>ViewModel</code>が提供するプロパティに沿って画面を定義する。<br>
デザインに関すること(XAML)以外は書きたくない。</p>

<h2>
<span id="model" class="fragment"></span><a href="#model"><i class="fa fa-link"></i></a>Model</h2>

<p>ロジック。やるべき処理をやる人。<br>
<code>ViewModel</code>からパラメータを貰って処理を行う。<br>
どんなデザインの画面かは知らない。<sup id="fnref4"><a href="#fn4" title="何をする画面かは知ってる。じゃないと何の処理をすれば良いのか分からない。あくまでデザインを知らないだけ。">4</a></sup></p>

<h2>
<span id="viewmodel" class="fragment"></span><a href="#viewmodel"><i class="fa fa-link"></i></a>ViewModel</h2>

<p>画面とロジックを結ぶ橋渡し役。<br>
画面からどんな情報が欲しいか定義して、ロジックの求める形で情報を渡して、ロジックから結果を貰って、結果を画面に渡してあげる。<br>
大体どんな画面か知っていて<sup id="fnref5"><a href="#fn5" title="このパラメータはテキストボックス的なやつで、このパラメータはチェックボックス的なやつで・・・みたいな。">5</a></sup>、画面寄りの処理（入力チェックとか）はこの人がやるべき？（不明瞭）</p>

<h1>
<span id="それぞれ持つべきものを考えてみる" class="fragment"></span><a href="#%E3%81%9D%E3%82%8C%E3%81%9E%E3%82%8C%E6%8C%81%E3%81%A4%E3%81%B9%E3%81%8D%E3%82%82%E3%81%AE%E3%82%92%E8%80%83%E3%81%88%E3%81%A6%E3%81%BF%E3%82%8B"><i class="fa fa-link"></i></a>それぞれ持つべきものを考えてみる</h1>

<p>↑の役割をふまえて、<code>View</code>、<code>ViewModel</code>、<code>Model</code>がそれぞれ持つべきもの（やるべきこと）を大まかに考えてみる。</p>

<h2>
<span id="view-1" class="fragment"></span><a href="#view-1"><i class="fa fa-link"></i></a>View</h2>

<ul>
<li>画面デザイン</li>
<li>対応する<code>ViewModel</code>のインスタンス（<code>View</code>は<code>ViewModel</code>に依存、DataContext）</li>
<li>コントロールが<code>ViewModel</code>のどのプロパティと連動するか（Binding）</li>
</ul>

<h2>
<span id="viewmodel-1" class="fragment"></span><a href="#viewmodel-1"><i class="fa fa-link"></i></a>ViewModel</h2>

<ul>
<li>対応する<code>Model</code>のインスタンス（<code>ViewModel</code>は<code>Model</code>に依存）</li>
<li>画面の入力データを受け取る<sup id="fnref6"><a href="#fn6" title="Viewがバインディングするところでエラーが出ないようにするべき？（数値入力前提のテキストボックスでも、とりあえずstring型のプロパティで受け取るとか）">6</a></sup>
</li>
<li>入力データが<code>Model</code>に渡せるかどうかの入力チェック<sup id="fnref7"><a href="#fn7" title="Modelの処理に依存するエラーは知らない。あくまで「渡せるかどうか」だけ。">7</a></sup>
</li>
<li>エラーを<code>View</code>に通知（INotifyDataErrorInfo）</li>
<li>ボタンなどのイベント処理（ICommand）</li>
<li>入力データを<code>Model</code>の求める形に変換して渡す</li>
<li>
<code>Model</code>のプロパティ変更通知を受け取る</li>
<li>プロパティ変更を<code>View</code>に通知（INotifyPropertyChanged）</li>
</ul>

<h2>
<span id="model-1" class="fragment"></span><a href="#model-1"><i class="fa fa-link"></i></a>Model</h2>

<ul>
<li>
<code>ViewModel</code>からパラメータを受け取る</li>
<li>パラメータのエラーチェック</li>
<li>エラーを<code>ViewModel</code>に通知（INotifyDataErrorInfo）</li>
<li>実際にやりたい処理</li>
<li>結果をプロパティに格納</li>
<li>プロパティ変更を<code>View</code>に通知（INotifyPropertyChanged）</li>
</ul>

<h1>
<span id="実際に書いてみる" class="fragment"></span><a href="#%E5%AE%9F%E9%9A%9B%E3%81%AB%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%BF%E3%82%8B"><i class="fa fa-link"></i></a>実際に書いてみる</h1>

<p>今まで考えたことをふまえて、実際にコードを書いてみる。<br>
数値を２つを渡して実行すると足し算した結果が返ってくる超単純なアプリを<strong>MVVM</strong>で作ってみた。</p>

<h2>
<span id="modelmainmodelcs" class="fragment"></span><a href="#modelmainmodelcs"><i class="fa fa-link"></i></a>Model(MainModel.cs)</h2>

<p>まずは画面は気にせずやるべき処理を書いてみる。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">class</span> <span class="nc">MainModel</span> <span class="p">:</span> <span class="n">ViewModelBase</span><span class="p">,</span> <span class="n">IMainModel</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="n">Property</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">ans</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Property</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;();</span>

    <span class="k">public</span> <span class="kt">int</span> <span class="n">ParamA</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">ParamB</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

    <span class="k">public</span> <span class="kt">int</span> <span class="n">Answer</span>
    <span class="p">{</span>
        <span class="k">get</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="n">ans</span><span class="p">;</span>
        <span class="k">set</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="n">ans</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="k">value</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">void</span> <span class="nf">Sum</span><span class="p">()</span>
        <span class="p">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="n">Answer</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">ParamA</span> <span class="p">+</span> <span class="k">this</span><span class="p">.</span><span class="n">ParamB</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>２つの数字を受け取って足し算するだけ。ややこしいのでパラメータエラーはなし。<br>
因みに<code>ViewModelBase</code>クラスにプロパティ変更通知が実装されていて、<code>Property&lt;T&gt;</code>の<code>SetValue</code>で良い感じに通知してる。<br>
<code>IMainModel</code>は、<code>MainModel</code>の定義そのまま。</p>

<h2>
<span id="viewmodelmainviewmodelcs" class="fragment"></span><a href="#viewmodelmainviewmodelcs"><i class="fa fa-link"></i></a>ViewModel(MainViewModel.cs)</h2>

<p>次に画面を想像しつつ<code>Model</code>と繋ぐ<code>ViewModel</code>を書いてみる。<br>
数字を入力するテキストボックス２個(ParamA,ParamB)と、実行ボタン１個(SumCommand)と、結果を表示するラベルが１個(Answer)かな。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">MainViewModel</span> <span class="p">:</span> <span class="n">ViewModelBase</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="n">IMainModel</span> <span class="n">Model</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>

    <span class="k">private</span> <span class="n">Property</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">paramA</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Property</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="s">"0"</span><span class="p">,</span>
        <span class="p">(</span><span class="k">value</span><span class="p">)</span> <span class="p">=&gt;</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="k">value</span><span class="p">.</span><span class="n">Length</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span>
                <span class="k">return</span> <span class="s">"未入力エラー"</span><span class="p">;</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(!</span><span class="kt">int</span><span class="p">.</span><span class="nf">TryParse</span><span class="p">(</span><span class="k">value</span><span class="p">,</span> <span class="k">out</span> <span class="kt">int</span> <span class="n">_</span><span class="p">))</span>
                <span class="k">return</span> <span class="s">"フォーマットエラー"</span><span class="p">;</span>
            <span class="k">else</span>
                <span class="k">return</span> <span class="k">null</span><span class="p">;</span>
        <span class="p">});</span>

    <span class="k">private</span> <span class="n">Property</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">paramB</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Property</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="s">"0"</span><span class="p">,</span>
        <span class="p">(</span><span class="k">value</span><span class="p">)</span> <span class="p">=&gt;</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="k">value</span><span class="p">.</span><span class="n">Length</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span>
                <span class="k">return</span> <span class="s">"未入力エラー"</span><span class="p">;</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(!</span><span class="kt">int</span><span class="p">.</span><span class="nf">TryParse</span><span class="p">(</span><span class="k">value</span><span class="p">,</span> <span class="k">out</span> <span class="kt">int</span> <span class="n">_</span><span class="p">))</span>
                <span class="k">return</span> <span class="s">"フォーマットエラー"</span><span class="p">;</span>
            <span class="k">else</span>
                <span class="k">return</span> <span class="k">null</span><span class="p">;</span>
        <span class="p">});</span>

    <span class="k">private</span> <span class="n">Property</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">ans</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Property</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;();</span>

    <span class="k">public</span> <span class="kt">string</span> <span class="n">ParamA</span>
    <span class="p">{</span>
        <span class="k">get</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="n">paramA</span><span class="p">;</span>
        <span class="k">set</span>
        <span class="p">{</span>
            <span class="c1">// 入力エラーがなければModelに設定</span>
            <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">paramA</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="k">value</span><span class="p">,</span> <span class="k">this</span><span class="p">))</span>
                <span class="k">this</span><span class="p">.</span><span class="n">Model</span><span class="p">.</span><span class="n">ParamA</span> <span class="p">=</span> <span class="kt">int</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">ParamA</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="kt">string</span> <span class="n">ParamB</span>
    <span class="p">{</span>
        <span class="k">get</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="n">paramB</span><span class="p">;</span>
        <span class="k">set</span>
        <span class="p">{</span>
            <span class="c1">// 入力エラーがなければModelに設定</span>
            <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">paramB</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="k">value</span><span class="p">,</span> <span class="k">this</span><span class="p">))</span>
                <span class="k">this</span><span class="p">.</span><span class="n">Model</span><span class="p">.</span><span class="n">ParamB</span> <span class="p">=</span> <span class="kt">int</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">ParamB</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="kt">int</span> <span class="n">Answer</span>
    <span class="p">{</span>
        <span class="k">get</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="n">ans</span><span class="p">;</span>
        <span class="k">set</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="n">ans</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="k">value</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="n">ICommand</span> <span class="n">SumCommand</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>

    <span class="k">public</span> <span class="nf">MainViewModel</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// TODO: 本来ならDIコンテナから取得</span>
        <span class="k">this</span><span class="p">.</span><span class="n">Model</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MainModel</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="n">Model</span><span class="p">.</span><span class="n">PropertyChanged</span> <span class="p">+=</span> <span class="n">Model_PropertyChanged</span><span class="p">;</span>

        <span class="c1">// Sumボタン</span>
        <span class="k">this</span><span class="p">.</span><span class="n">SumCommand</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Command</span><span class="p">(()</span> <span class="p">=&gt;</span>
        <span class="p">{</span>
            <span class="c1">// 実行</span>
            <span class="k">this</span><span class="p">.</span><span class="n">Model</span><span class="p">.</span><span class="nf">Sum</span><span class="p">();</span>
        <span class="p">},</span> <span class="n">paramA</span><span class="p">,</span> <span class="n">paramB</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">void</span> <span class="nf">Model_PropertyChanged</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">PropertyChangedEventArgs</span> <span class="n">e</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">PropertyName</span> <span class="p">==</span> <span class="k">nameof</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">Model</span><span class="p">.</span><span class="n">Answer</span><span class="p">))</span>
            <span class="k">this</span><span class="p">.</span><span class="n">Answer</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">Model</span><span class="p">.</span><span class="n">Answer</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><code>View</code>からデータを受け取って、<code>Model</code>に渡せるデータかチェックして、SumCommandの有効・無効を制御。<br>
SumCommandの処理で<code>Model</code>にパラメータを渡して実行。<br>
<code>Model</code>のプロパティ変更通知で結果を取り出して<code>ViewModel</code>に通知。</p>

<p>独自のクラスが多くて分かりにくい・・・<br>
ひとまず<code>Property&lt;T&gt;</code>には検証機能もあって、<code>Command</code>クラスには指定した<code>Property&lt;T&gt;</code>のエラー状態と連動して有効・無効が勝手に切り替わる・・・くらいのイメージで・・・<sup id="fnref8"><a href="#fn8" title="INotifyPropertyChangedやINotifyDataErrorInfoはどういう実装が便利だろう？とお試しで作ったクラス。実際にこれで良いかは分からない。（全容はGitHubで・・・）">8</a></sup></p>

<h2>
<span id="viewmainviewxaml" class="fragment"></span><a href="#viewmainviewxaml"><i class="fa fa-link"></i></a>View(MainView.xaml)</h2>

<p>最後に画面。<br>
<code>ViewModel</code>に従って数字を入力するテキストボックス２個と、実行ボタン１個と、結果を表示するラベルが１個。</p>

<div class="code-frame" data-lang="xml"><div class="highlight"><pre class="with-code"><code><span class="nt">&lt;Window</span> <span class="na">x:Class=</span><span class="s">"MvvmTest.Views.MainView"</span>
        <span class="na">xmlns=</span><span class="s">"http://schemas.microsoft.com/winfx/2006/xaml/presentation"</span>
        <span class="na">xmlns:x=</span><span class="s">"http://schemas.microsoft.com/winfx/2006/xaml"</span>
        <span class="na">xmlns:d=</span><span class="s">"http://schemas.microsoft.com/expression/blend/2008"</span>
        <span class="na">xmlns:mc=</span><span class="s">"http://schemas.openxmlformats.org/markup-compatibility/2006"</span>
        <span class="na">xmlns:local=</span><span class="s">"clr-namespace:MvvmTest.Views"</span>
        <span class="na">xmlns:vm=</span><span class="s">"clr-namespace:MvvmTest.VM;assembly=MvvmTest.VM"</span>
        <span class="na">mc:Ignorable=</span><span class="s">"d"</span>
        <span class="na">Title=</span><span class="s">"Main"</span> <span class="na">SizeToContent=</span><span class="s">"WidthAndHeight"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;Window.DataContext&gt;</span>
        <span class="nt">&lt;vm:MainViewModel</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/Window.DataContext&gt;</span>

    <span class="nt">&lt;Grid</span> <span class="na">MinWidth=</span><span class="s">"300"</span> <span class="na">MinHeight=</span><span class="s">"200"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;Grid.ColumnDefinitions&gt;</span>
            <span class="nt">&lt;ColumnDefinition</span> <span class="na">Width=</span><span class="s">"100"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;ColumnDefinition/&gt;</span>
        <span class="nt">&lt;/Grid.ColumnDefinitions&gt;</span>
        <span class="nt">&lt;Grid.RowDefinitions&gt;</span>
            <span class="nt">&lt;RowDefinition/&gt;</span>
            <span class="nt">&lt;RowDefinition/&gt;</span>
            <span class="nt">&lt;RowDefinition/&gt;</span>
            <span class="nt">&lt;RowDefinition/&gt;</span>
        <span class="nt">&lt;/Grid.RowDefinitions&gt;</span>

        <span class="c">&lt;!-- ParamA --&gt;</span>
        <span class="nt">&lt;TextBlock</span> <span class="na">Grid.Row=</span><span class="s">"0"</span> <span class="na">Grid.Column=</span><span class="s">"0"</span> <span class="na">Margin=</span><span class="s">"0,0,10,0"</span>  <span class="na">HorizontalAlignment=</span><span class="s">"Right"</span> <span class="na">VerticalAlignment=</span><span class="s">"Center"</span> <span class="na">Text=</span><span class="s">"ParamA"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;TextBox</span> <span class="na">Grid.Row=</span><span class="s">"0"</span> <span class="na">Grid.Column=</span><span class="s">"1"</span> <span class="na">MaxHeight=</span><span class="s">"24"</span> <span class="na">Margin=</span><span class="s">"10, 0, 10, 0"</span> <span class="na">VerticalContentAlignment=</span><span class="s">"Center"</span> <span class="na">Text=</span><span class="s">"{Binding ParamA, UpdateSourceTrigger=PropertyChanged}"</span> <span class="nt">/&gt;</span>
        <span class="c">&lt;!-- ParamB --&gt;</span>
        <span class="nt">&lt;TextBlock</span> <span class="na">Grid.Row=</span><span class="s">"1"</span> <span class="na">Grid.Column=</span><span class="s">"0"</span> <span class="na">Margin=</span><span class="s">"0,0,10,0"</span> <span class="na">HorizontalAlignment=</span><span class="s">"Right"</span> <span class="na">VerticalAlignment=</span><span class="s">"Center"</span> <span class="na">Text=</span><span class="s">"ParamB"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;TextBox</span> <span class="na">Grid.Row=</span><span class="s">"1"</span> <span class="na">Grid.Column=</span><span class="s">"1"</span> <span class="na">MaxHeight=</span><span class="s">"24"</span> <span class="na">Margin=</span><span class="s">"10, 0, 10, 0"</span> <span class="na">VerticalContentAlignment=</span><span class="s">"Center"</span> <span class="na">Text=</span><span class="s">"{Binding ParamB, UpdateSourceTrigger=PropertyChanged}"</span> <span class="nt">/&gt;</span>
        <span class="c">&lt;!-- Button --&gt;</span>
        <span class="nt">&lt;Button</span> <span class="na">Grid.Row=</span><span class="s">"2"</span> <span class="na">Grid.Column=</span><span class="s">"0"</span> <span class="na">Grid.ColumnSpan=</span><span class="s">"2"</span> <span class="na">Margin=</span><span class="s">"10,10,10,10"</span> <span class="na">Content=</span><span class="s">"Sum"</span> <span class="na">Command=</span><span class="s">"{Binding SumCommand}"</span><span class="nt">/&gt;</span>
        <span class="c">&lt;!-- Answer  --&gt;</span>
        <span class="nt">&lt;TextBlock</span> <span class="na">Grid.Row=</span><span class="s">"3"</span> <span class="na">Grid.Column=</span><span class="s">"0"</span> <span class="na">Margin=</span><span class="s">"0,0,10,0"</span> <span class="na">HorizontalAlignment=</span><span class="s">"Right"</span> <span class="na">VerticalAlignment=</span><span class="s">"Center"</span> <span class="na">Text=</span><span class="s">"Answer"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;TextBlock</span> <span class="na">Grid.Row=</span><span class="s">"3"</span> <span class="na">Grid.Column=</span><span class="s">"1"</span> <span class="na">HorizontalAlignment=</span><span class="s">"Left"</span> <span class="na">Margin=</span><span class="s">"10, 0, 10, 0"</span> <span class="na">VerticalAlignment=</span><span class="s">"Center"</span> <span class="na">Text=</span><span class="s">"{Binding Ans}"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;/Grid&gt;</span>
<span class="nt">&lt;/Window&gt;</span>
</code></pre></div></div>

<p>画面のデザインと、ViewModelが誰かと、コントロール毎のバインディングを定義するだけ。</p>

<h3>
<span id="コードビハインドmainviewxamlcs" class="fragment"></span><a href="#%E3%82%B3%E3%83%BC%E3%83%89%E3%83%93%E3%83%8F%E3%82%A4%E3%83%B3%E3%83%89mainviewxamlcs"><i class="fa fa-link"></i></a>コードビハインド(MainView.xaml.cs)</h3>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="c1">/// &lt;summary&gt;</span>
<span class="c1">/// MainView.xaml の相互作用ロジック</span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="k">public</span> <span class="k">partial</span> <span class="k">class</span> <span class="nc">MainView</span> <span class="p">:</span> <span class="n">Window</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="nf">MainView</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nf">InitializeComponent</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>生成されたコードそのまま。<strong>絶対に触らない</strong>（鉄の意志）</p>

<h1>
<span id="ソースコードの全てはgithubに上げてみた" class="fragment"></span><a href="#%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E5%85%A8%E3%81%A6%E3%81%AFgithub%E3%81%AB%E4%B8%8A%E3%81%92%E3%81%A6%E3%81%BF%E3%81%9F"><i class="fa fa-link"></i></a>ソースコードの全てはGitHubに上げてみた</h1>

<p><a href="https://github.com/mitsu-at3/MvvmTest" rel="nofollow noopener" target="_blank">mitsu-at3/MvvmTest: Mvvm Test Project</a><br>
仕事でGitLabは使っているけど、GitHubは初めて使った・・・（今さら）</p>

<h1>
<span id="合ってるだろうか" class="fragment"></span><a href="#%E5%90%88%E3%81%A3%E3%81%A6%E3%82%8B%E3%81%A0%E3%82%8D%E3%81%86%E3%81%8B"><i class="fa fa-link"></i></a>合ってるだろうか？</h1>

<p>色々と調べたりMVVMの目的を考えると、この分け方が１番しっくり来るけど、合ってるのか分からない・・・<br>
特に<code>ViewModel</code>に定義する<code>View</code>からデータを受け取るためのプロパティの型を、例えば数値入力でもテキストボックスならstring型みたいに、<code>View</code>のコントロールの都合を考慮した型にするのが正しいのかどうかが謎。<br>
調べても明確にそういう考え方してる情報に出会えなかった。</p>

<p>ただ<code>ViewModel</code>のプロパティをintにしてしまうと、<code>View</code>の段階で入力エラーが出てしまって、そのままだと<code>ViewModel</code>側でエラーを検知できないから、<code>View</code>から<code>ViewModel</code>に伝える仕組みが必要になってしまう。<br>
でも<code>View</code>にはなるべく余計なものは書きたくない。<br>
って考えると、<code>ViewModel</code>側はとりあえずstringで受け入れて、入力チェックは<code>ViewModel</code>側でやるのがベター？<sup id="fnref9"><a href="#fn9" title="stringにしておけばどんな入力でも受け入れられるテキストボックスだからってだけで、どんな型にしてもエラーが発生しうるコントロールの場合は、View→ViewModelの通知は避けられない？">9</a></sup></p>

<h1>
<span id="調べてる中で気になったこととか" class="fragment"></span><a href="#%E8%AA%BF%E3%81%B9%E3%81%A6%E3%82%8B%E4%B8%AD%E3%81%A7%E6%B0%97%E3%81%AB%E3%81%AA%E3%81%A3%E3%81%9F%E3%81%93%E3%81%A8%E3%81%A8%E3%81%8B"><i class="fa fa-link"></i></a>調べてる中で気になったこととか</h1>

<p>最後に調べてるときに見かけた情報で「それ合ってるの？」と気になったことなど。<br>
あちこちの情報をひたすら漁ってる中で見かけた情報なのでどこで見たのかは覚えてない・・・<sup id="fnref10"><a href="#fn10" title="ただその情報のせいで余計に混乱した">10</a></sup></p>

<h2>
<span id="modelがただのデータクラス" class="fragment"></span><a href="#model%E3%81%8C%E3%81%9F%E3%81%A0%E3%81%AE%E3%83%87%E3%83%BC%E3%82%BF%E3%82%AF%E3%83%A9%E3%82%B9"><i class="fa fa-link"></i></a>Modelがただのデータクラス</h2>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">PersonModel</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">Age</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Modelの意味を勘違いしてるのか、ロジックはこれから実装するつもりだったのか・・・</p>

<h2>
<span id="viewmodelとmodelは同じプロパティが並びます" class="fragment"></span><a href="#viewmodel%E3%81%A8model%E3%81%AF%E5%90%8C%E3%81%98%E3%83%97%E3%83%AD%E3%83%91%E3%83%86%E3%82%A3%E3%81%8C%E4%B8%A6%E3%81%B3%E3%81%BE%E3%81%99"><i class="fa fa-link"></i></a>「ViewModelとModelは同じプロパティが並びます」</h2>

<p>必ずしも同じ必要は無いのではなかろうか？<br>
同じだと<code>ViewModel</code>が架け橋する意味も薄くなっちゃう。<br>
<code>ViewModel</code>と<code>Model</code>の関係が崩れなければ、違っていても良い気がする。</p>

<h2>
<span id="viewmodelが完全にmodelへの受け渡しだけ" class="fragment"></span><a href="#viewmodel%E3%81%8C%E5%AE%8C%E5%85%A8%E3%81%ABmodel%E3%81%B8%E3%81%AE%E5%8F%97%E3%81%91%E6%B8%A1%E3%81%97%E3%81%A0%E3%81%91"><i class="fa fa-link"></i></a>ViewModelが完全にModelへの受け渡しだけ</h2>

<p>↑と似ているけど・・・</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">PersonModelView</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span>
    <span class="p">{</span>
        <span class="k">get</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="n">Model</span><span class="p">.</span><span class="n">Name</span><span class="p">;</span>
        <span class="k">set</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="n">Model</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="k">value</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">Age</span>
    <span class="p">{</span>
        <span class="k">get</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="n">Model</span><span class="p">.</span><span class="n">Age</span><span class="p">;</span>
        <span class="k">set</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="n">Model</span><span class="p">.</span><span class="n">Age</span><span class="p">=</span> <span class="k">value</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// ・・・Modelから通知を受けたり、コマンドを受けてModelを実行したりだけ</span>
<span class="p">}</span>
</code></pre></div></div>

<p>入力チェックも何もない画面なら有りなのかもしれないけど、ここまで来るとVMとMを分ける意味がないような・・・<br>
超小規模なプロジェクトなら<code>Model</code>なしも有り？</p>

<h2>
<span id="あなたのモデルはどこから" class="fragment"></span><a href="#%E3%81%82%E3%81%AA%E3%81%9F%E3%81%AE%E3%83%A2%E3%83%87%E3%83%AB%E3%81%AF%E3%81%A9%E3%81%93%E3%81%8B%E3%82%89"><i class="fa fa-link"></i></a>あなたのモデルはどこから？</h2>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code>    <span class="k">public</span> <span class="nf">MainViewModel</span><span class="p">(</span><span class="n">IMainModel</span> <span class="n">model</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="n">Model</span> <span class="p">=</span> <span class="n">model</span><span class="p">;</span>
    <span class="p">}</span>
</code></pre></div></div>

<p>なんやかんやの仕組みがあって自動的に依存性注入で渡ってくるならこれも良いと思う。</p>

<h3>
<span id="でもこれは嫌だmainviewxamlcs" class="fragment"></span><a href="#%E3%81%A7%E3%82%82%E3%81%93%E3%82%8C%E3%81%AF%E5%AB%8C%E3%81%A0mainviewxamlcs"><i class="fa fa-link"></i></a>でもこれは嫌だ(MainView.xaml.cs)</h3>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="c1">/// &lt;summary&gt;</span>
<span class="c1">/// MainView.xaml の相互作用ロジック</span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="k">public</span> <span class="k">partial</span> <span class="k">class</span> <span class="nc">MainView</span> <span class="p">:</span> <span class="n">Window</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="nf">MainView</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">IMainModel</span> <span class="n">model</span> <span class="p">=</span> <span class="n">DI</span><span class="err">コンテナ的なやつ</span><span class="p">.</span><span class="nf">GetService</span><span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="n">IMainModel</span><span class="p">));</span>
        <span class="k">this</span><span class="p">.</span><span class="n">DataContext</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MainViewModel</span><span class="p">(</span><span class="n">model</span><span class="p">);</span>
        <span class="nf">InitializeComponent</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>コードビハインドには書きたくない！！！</strong></p>

<h3>
<span id="viewmodelのコンストラクタで作れば良くない" class="fragment"></span><a href="#viewmodel%E3%81%AE%E3%82%B3%E3%83%B3%E3%82%B9%E3%83%88%E3%83%A9%E3%82%AF%E3%82%BF%E3%81%A7%E4%BD%9C%E3%82%8C%E3%81%B0%E8%89%AF%E3%81%8F%E3%81%AA%E3%81%84"><i class="fa fa-link"></i></a>ViewModelのコンストラクタで作れば良くない？</h3>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code>    <span class="k">public</span> <span class="nf">MainViewModel</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="n">Model</span> <span class="p">=</span> <span class="n">DI</span><span class="err">コンテナ的なやつ</span><span class="p">.</span><span class="nf">GetService</span><span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="n">IMainModel</span><span class="p">));</span>
    <span class="p">}</span>
</code></pre></div></div>

<p><code>ViewModel</code>が<code>Model</code>に依存するのは間違いじゃないので、素直にこっちの方が良いような。</p>

<h2>
<span id="modelがシングルトン" class="fragment"></span><a href="#model%E3%81%8C%E3%82%B7%E3%83%B3%E3%82%B0%E3%83%AB%E3%83%88%E3%83%B3"><i class="fa fa-link"></i></a>Modelがシングルトン</h2>

<p>これが正しいのかが１番分からない。<br>
今までの考えからすると、<code>View</code>-<code>ViewModel</code>-<code>Model</code>は１つのセットと見なして、生存期間は同じにしておく方が自然のような気がする。<br>
シングルトンで扱いたい機能は、<code>Model</code>よりも下に定義して、<code>Model</code>の中でそのシングルトンクラスを使った方がMVVMの関係性が明確で分かりやすくない？</p>

<p>でも厳密には「<code>View</code>と<code>ViewModel</code>以外全てが<code>Model</code>」らしいから<sup id="fnref11"><a href="#fn11" title="混乱の素">11</a></sup>、シングルトンでも間違いではないのかな・・・<br>
個人的には少なくとも<code>ViewModel</code>が参照する<code>Model</code>は、生存期間を同じにしておきたいなあ。</p>

<h1>
<span id="おわりに" class="fragment"></span><a href="#%E3%81%8A%E3%82%8F%E3%82%8A%E3%81%AB"><i class="fa fa-link"></i></a>おわりに</h1>

<p>長々と書いていて「こう考えるのが正しいのではないか？」というのはところまでは来たけども、まだ確信を持って「この考えで正しい！」とは言えない・・・<br>
しっくりは来てるんだけどなあ。<br>
でも序盤に挙げた「目的」を明確に認識しておくだけでも「その形が間違ってるか？」の判断材料にはなりそう。<br>
少しは最新の開発スタイルに近付けただろうか・・・？</p>

<p>あと画面遷移とかダイアログ表示とかDIコンテナとか調べだすと、Prismとか外部フレームワークに頼りたくなる理由が分かってきた・・・<br>
何となく自力でも実装できそうな雰囲気だけど、かなり面倒そうな印象。</p>

<h1>
<span id="おまけdiコンテナって" class="fragment"></span><a href="#%E3%81%8A%E3%81%BE%E3%81%91di%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E3%81%A3%E3%81%A6"><i class="fa fa-link"></i></a>おまけ：DIコンテナって・・・</h1>

<p>MVVMについて調べる中で初めて「DIコンテナ」を知ったのだけど（今さら）、解説を読んだときに真っ先にあいつを思い出した・・・</p>

<div class="code-frame" data-lang="cpp"><div class="highlight"><pre class="with-code"><code><span class="n">HRESULT</span> <span class="nf">CoCreateInstance</span><span class="p">(</span>
  <span class="n">REFCLSID</span>  <span class="n">rclsid</span><span class="p">,</span>
  <span class="n">LPUNKNOWN</span> <span class="n">pUnkOuter</span><span class="p">,</span>
  <span class="n">DWORD</span>     <span class="n">dwClsContext</span><span class="p">,</span>
  <span class="n">REFIID</span>    <span class="n">riid</span><span class="p">,</span>
  <span class="n">LPVOID</span>    <span class="o">*</span><span class="n">ppv</span>
<span class="p">);</span>
</code></pre></div></div>

<p>取得したいInterfaceの情報を渡すとインスタンスが返ってくるってこれじゃん。<br>
そう思うと急に親しみが湧いてきたのでした。おしまい。</p>

<div class="footnotes">
<hr>
<ol>

<li id="fn1">
<p>理解力が足りないだけかもしれない。 <a href="#fnref1">↩</a></p>
</li>

<li id="fn2">
<p>Xamarinを使えば出来たりしないかな？（Xamarin未経験） <a href="#fnref2">↩</a></p>
</li>

<li id="fn3">
<p>.Net Standard大好き <a href="#fnref3">↩</a></p>
</li>

<li id="fn4">
<p>何をする画面かは知ってる。じゃないと何の処理をすれば良いのか分からない。あくまでデザインを知らないだけ。 <a href="#fnref4">↩</a></p>
</li>

<li id="fn5">
<p>このパラメータはテキストボックス的なやつで、このパラメータはチェックボックス的なやつで・・・みたいな。 <a href="#fnref5">↩</a></p>
</li>

<li id="fn6">
<p><code>View</code>がバインディングするところでエラーが出ないようにするべき？（数値入力前提のテキストボックスでも、とりあえずstring型のプロパティで受け取るとか） <a href="#fnref6">↩</a></p>
</li>

<li id="fn7">
<p><code>Model</code>の処理に依存するエラーは知らない。あくまで「渡せるかどうか」だけ。 <a href="#fnref7">↩</a></p>
</li>

<li id="fn8">
<p><code>INotifyPropertyChanged</code>や<code>INotifyDataErrorInfo</code>はどういう実装が便利だろう？とお試しで作ったクラス。実際にこれで良いかは分からない。（全容はGitHubで・・・） <a href="#fnref8">↩</a></p>
</li>

<li id="fn9">
<p>stringにしておけばどんな入力でも受け入れられるテキストボックスだからってだけで、どんな型にしてもエラーが発生しうるコントロールの場合は、<code>View</code>→<code>ViewModel</code>の通知は避けられない？ <a href="#fnref9">↩</a></p>
</li>

<li id="fn10">
<p>ただその情報のせいで余計に混乱した <a href="#fnref10">↩</a></p>
</li>

<li id="fn11">
<p>混乱の素 <a href="#fnref11">↩</a></p>
</li>

</ol>
</div>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2Fmitsu_at3%2Fitems%2F49d21ba5fb38f15ea922&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2Fmitsu_at3%2Fitems%2F49d21ba5fb38f15ea922&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/mitsu_at3/items/49d21ba5fb38f15ea922/likers" class="css-1iupg5d">2</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">5</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/49d21ba5fb38f15ea922/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/mitsu_at3/items/49d21ba5fb38f15ea922/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/mitsu_at3/items/49d21ba5fb38f15ea922/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/mitsu_at3/items/49d21ba5fb38f15ea922/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/mitsu_at3/items/49d21ba5fb38f15ea922.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-dfe83757-462a-431d-a243-7a7db6013ea2">{"authorAnalyticsTrackingId":"UA-130970800-1","organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-3fa17991-afee-4a6e-b5d6-44042c2d2636"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-3fa17991-afee-4a6e-b5d6-44042c2d2636">{}</script>
      
<div id="LoginModal-react-component-d6a4d420-0d56-4f32-80cf-140eaecbf710"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-d6a4d420-0d56-4f32-80cf-140eaecbf710">{}</script>
      
<div id="StockModal-react-component-8d06d82b-ff17-4b2a-bb84-dbac0edf2fc5"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-8d06d82b-ff17-4b2a-bb84-dbac0edf2fc5">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;x6IKbLgBl3kRMwYcyV2Ir+qN63NO3ZkgXskuLQCoRPcOVC5lKzF9HyDWCBQmA/X2Eqe0uHMu0+LLxLrvfjstUg==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\n\u003ch1\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\n\u003cp\u003e恥ずかしながら未だにWinForms案件ばかりでWPF、ましてや\u003cstrong\u003eMVVM\u003c/strong\u003eなんて使ったことがない時代遅れなプログラマーです。恥ずかしい・・・\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003eそんな私の元にも遂にWPF案件が舞い降りてきてしまった。\u003c/strong\u003e\u003cbr\u003e\nここ数日「WPFでどうやって作るねん」から調べ始めて、今さら\u003cstrong\u003eMVVM\u003c/strong\u003eという存在を知り、「\u003cstrong\u003eMVVM\u003c/strong\u003eってなんやねん」をずっと調べているけど・・・\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003eなんだかよく分からない！\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003e「\u003ccode\u003eView\u003c/code\u003e-\u003ccode\u003eViewModel\u003c/code\u003e-\u003ccode\u003eModel\u003c/code\u003eに分けて作りましょう」\u003cbr\u003e\n「テストしやすくなるよ」\u003cbr\u003e\nとかざっくりとは分かる。\u003cbr\u003e\nでも具体的なその分け方が調べていても人によって微妙に違って何が正解か分からない。\u003csup id=\"fnref1\"\u003e\u003ca href=\"#fn1\" title=\"理解力が足りないだけかもしれない。\"\u003e1\u003c/a\u003e\u003c/sup\u003e\u003cbr\u003e\nそもそも正解なんて無いのかもしれない。\u003c/p\u003e\n\n\u003cp\u003eで、考え込みすぎて訳が分からなくなってきたので、自分なりの考えを整理するためにも、\u003cstrong\u003eMVVM\u003c/strong\u003eについて書いてみることに。\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003eWinForms脳な人間がMVVMについて数日調べただけの内容なので間違えてる部分が多々あるかもしれません。その時は優しく教えてくれると嬉しいです。優しく・・・\u003c/strong\u003e \u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"なんでmvvmに分けるのだろう\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AA%E3%82%93%E3%81%A7mvvm%E3%81%AB%E5%88%86%E3%81%91%E3%82%8B%E3%81%AE%E3%81%A0%E3%82%8D%E3%81%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eなんでMVVMに分けるのだろう？\u003c/h1\u003e\n\n\u003cp\u003e\u003ccode\u003eV-VM-M\u003c/code\u003eの分け方について調べているだけだと明確な物が見えてこないので、視点を変えて\u003cbr\u003e\n\u003cstrong\u003e「なんでMVVMに分けるのだろう？」\u003c/strong\u003e\u003cbr\u003e\nという目的から考えてみることにした。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"目的\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%9B%AE%E7%9A%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e目的\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"テスタビリティテスト容易性向上\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%86%E3%82%B9%E3%82%BF%E3%83%93%E3%83%AA%E3%83%86%E3%82%A3%E3%83%86%E3%82%B9%E3%83%88%E5%AE%B9%E6%98%93%E6%80%A7%E5%90%91%E4%B8%8A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eテスタビリティ(テスト容易性)向上\u003c/h3\u003e\n\n\u003cp\u003e画面とコードがくっついてるとユニットテストがし辛い。\u003cbr\u003e\nそこで画面(View)とコード(ViewModel/Model)に分離してやるとやりやすくなる。\u003c/p\u003e\n\n\u003cp\u003eなるほど、たしかに。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"プロダクティヴィティ生産性向上\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%97%E3%83%AD%E3%83%80%E3%82%AF%E3%83%86%E3%82%A3%E3%83%B4%E3%82%A3%E3%83%86%E3%82%A3%E7%94%9F%E7%94%A3%E6%80%A7%E5%90%91%E4%B8%8A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eプロダクティヴィティ(生産性)向上\u003c/h3\u003e\n\n\u003cp\u003e画面(View)とコード(ViewModel/Model)が分離してると、デザイナは画面(View)、プログラマはコード(ViewModel/Model)と明確に分業できる。\u003c/p\u003e\n\n\u003cp\u003eもっともウチにはデザイナなんていない。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"ポータビリティ移植性向上\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%9D%E3%83%BC%E3%82%BF%E3%83%93%E3%83%AA%E3%83%86%E3%82%A3%E7%A7%BB%E6%A4%8D%E6%80%A7%E5%90%91%E4%B8%8A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eポータビリティ(移植性)向上（？）\u003c/h3\u003e\n\n\u003cp\u003e画面(View)とコード(ViewModel/Model)が分離してると、画面(View)を用意するだけで他のプラットフォームに対応できる・・・かもしれない。\u003cbr\u003e\nと言うのも、これについて触れられている情報を殆ど見かけなくて、あくまで勝手なイメージ。\u003cbr\u003e\nただ理論上は可能なはず・・・\u003csup id=\"fnref2\"\u003e\u003ca href=\"#fn2\" title=\"Xamarinを使えば出来たりしないかな？（Xamarin未経験）\"\u003e2\u003c/a\u003e\u003c/sup\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"分け方が曖昧な原因はここにある\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%88%86%E3%81%91%E6%96%B9%E3%81%8C%E6%9B%96%E6%98%A7%E3%81%AA%E5%8E%9F%E5%9B%A0%E3%81%AF%E3%81%93%E3%81%93%E3%81%AB%E3%81%82%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e分け方が曖昧な原因はここにある？\u003c/h2\u003e\n\n\u003cp\u003e恐らく大まかにこの３つが目的で、特にテスタビリティ向上が重要っぽい。\u003cbr\u003e\n\u003cstrong\u003eあれ？これらの目的って、とりあえず画面さえ分離しちゃえば一応は満たせる？\u003c/strong\u003e\u003cbr\u003e\nそのせいで\u003ccode\u003eV-VM-M\u003c/code\u003eの分け方が曖昧なんだろうか。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"理想的なプロジェクト構成を考えてみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%90%86%E6%83%B3%E7%9A%84%E3%81%AA%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%A7%8B%E6%88%90%E3%82%92%E8%80%83%E3%81%88%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e理想的なプロジェクト構成を考えてみる\u003c/h1\u003e\n\n\u003cp\u003e↑に挙げた目的を元に、まずはどんなプロジェクト構成が理想的かを大まかに考えてみる。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"こんな感じ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%93%E3%82%93%E3%81%AA%E6%84%9F%E3%81%98\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eこんな感じ？\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e- MvvmTest (.Net Core/WPF)\n    - Views\n        - MainView.xaml\n            - MainView.xaml.cs\n    - App.xaml\n        - App.xaml.cs\n    - AssemblyInfo.cs\n- MvvmTest.MVM (.Net Standard)\n    - MainViewModel.cs\n    - MainModel.cs\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eあくまで最小の基本構成。DIコンテナとか画面遷移とか考え出すと多分これじゃあ足りない。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"mvvmtest-プロジェクト\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#mvvmtest-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eMvvmTest プロジェクト\u003c/h3\u003e\n\n\u003cp\u003eViewとアプリケーションを定義・実装するプロジェクト。\u003cbr\u003e\nViewを\u003ccode\u003eMvvmTest.Views\u003c/code\u003eプロジェクトに分けるのも有りかも。意味があるかは謎。\u003cbr\u003e\nあとこれを\u003ccode\u003eMvvmTest.NetCore\u003c/code\u003eにして、Xamarinで\u003ccode\u003eMvvmTest.iOS\u003c/code\u003eとか作れると幸せ。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"mvvmtestmvm-プロジェクト\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#mvvmtestmvm-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eMvvmTest.MVM プロジェクト\u003c/h3\u003e\n\n\u003cp\u003eViewModel と Model を定義・実装するプロジェクト。\u003cbr\u003e\n\u003ccode\u003e.Net Standard\u003c/code\u003eにしたい！！\u003csup id=\"fnref3\"\u003e\u003ca href=\"#fn3\" title=\".Net Standard大好き\"\u003e3\u003c/a\u003e\u003c/sup\u003e\u003cbr\u003e\nMVM・・・もう少し良い名前はないものか。\u003cbr\u003e\n\u003ccode\u003eMvvmTest.ViewModels\u003c/code\u003eと\u003ccode\u003eMvvmTest.Models\u003c/code\u003eに分けるのも有りかも。意味があるかは謎。\u003cbr\u003e\nViewModel と Model は同じ階層で近い位置にいた方が便利のような？\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"mvvmそれぞれの役割を考えてみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#mvvm%E3%81%9D%E3%82%8C%E3%81%9E%E3%82%8C%E3%81%AE%E5%BD%B9%E5%89%B2%E3%82%92%E8%80%83%E3%81%88%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eMVVMそれぞれの役割を考えてみる\u003c/h1\u003e\n\n\u003cp\u003e次に\u003ccode\u003eView\u003c/code\u003e、\u003ccode\u003eViewModel\u003c/code\u003e、\u003ccode\u003eModel\u003c/code\u003eそれぞれの役割を大まかに考えてみる。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"view\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#view\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eView\u003c/h2\u003e\n\n\u003cp\u003e画面。それ以上でもそれ以下でもない。\u003cbr\u003e\n\u003ccode\u003eViewModel\u003c/code\u003eが提供するプロパティに沿って画面を定義する。\u003cbr\u003e\nデザインに関すること(XAML)以外は書きたくない。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"model\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#model\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eModel\u003c/h2\u003e\n\n\u003cp\u003eロジック。やるべき処理をやる人。\u003cbr\u003e\n\u003ccode\u003eViewModel\u003c/code\u003eからパラメータを貰って処理を行う。\u003cbr\u003e\nどんなデザインの画面かは知らない。\u003csup id=\"fnref4\"\u003e\u003ca href=\"#fn4\" title=\"何をする画面かは知ってる。じゃないと何の処理をすれば良いのか分からない。あくまでデザインを知らないだけ。\"\u003e4\u003c/a\u003e\u003c/sup\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"viewmodel\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#viewmodel\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eViewModel\u003c/h2\u003e\n\n\u003cp\u003e画面とロジックを結ぶ橋渡し役。\u003cbr\u003e\n画面からどんな情報が欲しいか定義して、ロジックの求める形で情報を渡して、ロジックから結果を貰って、結果を画面に渡してあげる。\u003cbr\u003e\n大体どんな画面か知っていて\u003csup id=\"fnref5\"\u003e\u003ca href=\"#fn5\" title=\"このパラメータはテキストボックス的なやつで、このパラメータはチェックボックス的なやつで・・・みたいな。\"\u003e5\u003c/a\u003e\u003c/sup\u003e、画面寄りの処理（入力チェックとか）はこの人がやるべき？（不明瞭）\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"それぞれ持つべきものを考えてみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%9D%E3%82%8C%E3%81%9E%E3%82%8C%E6%8C%81%E3%81%A4%E3%81%B9%E3%81%8D%E3%82%82%E3%81%AE%E3%82%92%E8%80%83%E3%81%88%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eそれぞれ持つべきものを考えてみる\u003c/h1\u003e\n\n\u003cp\u003e↑の役割をふまえて、\u003ccode\u003eView\u003c/code\u003e、\u003ccode\u003eViewModel\u003c/code\u003e、\u003ccode\u003eModel\u003c/code\u003eがそれぞれ持つべきもの（やるべきこと）を大まかに考えてみる。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"view-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#view-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eView\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003e画面デザイン\u003c/li\u003e\n\u003cli\u003e対応する\u003ccode\u003eViewModel\u003c/code\u003eのインスタンス（\u003ccode\u003eView\u003c/code\u003eは\u003ccode\u003eViewModel\u003c/code\u003eに依存、DataContext）\u003c/li\u003e\n\u003cli\u003eコントロールが\u003ccode\u003eViewModel\u003c/code\u003eのどのプロパティと連動するか（Binding）\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"viewmodel-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#viewmodel-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eViewModel\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003e対応する\u003ccode\u003eModel\u003c/code\u003eのインスタンス（\u003ccode\u003eViewModel\u003c/code\u003eは\u003ccode\u003eModel\u003c/code\u003eに依存）\u003c/li\u003e\n\u003cli\u003e画面の入力データを受け取る\u003csup id=\"fnref6\"\u003e\u003ca href=\"#fn6\" title=\"Viewがバインディングするところでエラーが出ないようにするべき？（数値入力前提のテキストボックスでも、とりあえずstring型のプロパティで受け取るとか）\"\u003e6\u003c/a\u003e\u003c/sup\u003e\n\u003c/li\u003e\n\u003cli\u003e入力データが\u003ccode\u003eModel\u003c/code\u003eに渡せるかどうかの入力チェック\u003csup id=\"fnref7\"\u003e\u003ca href=\"#fn7\" title=\"Modelの処理に依存するエラーは知らない。あくまで「渡せるかどうか」だけ。\"\u003e7\u003c/a\u003e\u003c/sup\u003e\n\u003c/li\u003e\n\u003cli\u003eエラーを\u003ccode\u003eView\u003c/code\u003eに通知（INotifyDataErrorInfo）\u003c/li\u003e\n\u003cli\u003eボタンなどのイベント処理（ICommand）\u003c/li\u003e\n\u003cli\u003e入力データを\u003ccode\u003eModel\u003c/code\u003eの求める形に変換して渡す\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003eModel\u003c/code\u003eのプロパティ変更通知を受け取る\u003c/li\u003e\n\u003cli\u003eプロパティ変更を\u003ccode\u003eView\u003c/code\u003eに通知（INotifyPropertyChanged）\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"model-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#model-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eModel\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003e\n\u003ccode\u003eViewModel\u003c/code\u003eからパラメータを受け取る\u003c/li\u003e\n\u003cli\u003eパラメータのエラーチェック\u003c/li\u003e\n\u003cli\u003eエラーを\u003ccode\u003eViewModel\u003c/code\u003eに通知（INotifyDataErrorInfo）\u003c/li\u003e\n\u003cli\u003e実際にやりたい処理\u003c/li\u003e\n\u003cli\u003e結果をプロパティに格納\u003c/li\u003e\n\u003cli\u003eプロパティ変更を\u003ccode\u003eView\u003c/code\u003eに通知（INotifyPropertyChanged）\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"実際に書いてみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E9%9A%9B%E3%81%AB%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実際に書いてみる\u003c/h1\u003e\n\n\u003cp\u003e今まで考えたことをふまえて、実際にコードを書いてみる。\u003cbr\u003e\n数値を２つを渡して実行すると足し算した結果が返ってくる超単純なアプリを\u003cstrong\u003eMVVM\u003c/strong\u003eで作ってみた。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"modelmainmodelcs\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#modelmainmodelcs\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eModel(MainModel.cs)\u003c/h2\u003e\n\n\u003cp\u003eまずは画面は気にせずやるべき処理を書いてみる。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eMainModel\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eViewModelBase\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eIMainModel\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eProperty\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eans\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eProperty\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;();\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eParamA\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eParamB\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eAnswer\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eget\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eans\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eset\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eans\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetValue\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eSum\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAnswer\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eParamA\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eParamB\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e２つの数字を受け取って足し算するだけ。ややこしいのでパラメータエラーはなし。\u003cbr\u003e\n因みに\u003ccode\u003eViewModelBase\u003c/code\u003eクラスにプロパティ変更通知が実装されていて、\u003ccode\u003eProperty\u0026lt;T\u0026gt;\u003c/code\u003eの\u003ccode\u003eSetValue\u003c/code\u003eで良い感じに通知してる。\u003cbr\u003e\n\u003ccode\u003eIMainModel\u003c/code\u003eは、\u003ccode\u003eMainModel\u003c/code\u003eの定義そのまま。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"viewmodelmainviewmodelcs\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#viewmodelmainviewmodelcs\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eViewModel(MainViewModel.cs)\u003c/h2\u003e\n\n\u003cp\u003e次に画面を想像しつつ\u003ccode\u003eModel\u003c/code\u003eと繋ぐ\u003ccode\u003eViewModel\u003c/code\u003eを書いてみる。\u003cbr\u003e\n数字を入力するテキストボックス２個(ParamA,ParamB)と、実行ボタン１個(SumCommand)と、結果を表示するラベルが１個(Answer)かな。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eMainViewModel\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eViewModelBase\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eIMainModel\u003c/span\u003e \u003cspan class=\"n\"\u003eModel\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eProperty\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eparamA\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eProperty\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"0\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"s\"\u003e\"未入力エラー\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eelse\u003c/span\u003e \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(!\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eTryParse\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eout\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003e_\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"s\"\u003e\"フォーマットエラー\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eProperty\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eparamB\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eProperty\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"0\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"s\"\u003e\"未入力エラー\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eelse\u003c/span\u003e \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(!\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eTryParse\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eout\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003e_\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"s\"\u003e\"フォーマットエラー\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eProperty\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eans\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eProperty\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;();\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eParamA\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eget\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eparamA\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eset\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 入力エラーがなければModelに設定\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eparamA\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetValue\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eModel\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eParamA\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eParse\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eParamA\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eParamB\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eget\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eparamB\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eset\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 入力エラーがなければModelに設定\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eparamB\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetValue\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eModel\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eParamB\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eParse\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eParamB\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eAnswer\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eget\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eans\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eset\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eans\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetValue\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eICommand\u003c/span\u003e \u003cspan class=\"n\"\u003eSumCommand\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003eMainViewModel\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// TODO: 本来ならDIコンテナから取得\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eModel\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eMainModel\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eModel\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePropertyChanged\u003c/span\u003e \u003cspan class=\"p\"\u003e+=\u003c/span\u003e \u003cspan class=\"n\"\u003eModel_PropertyChanged\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e// Sumボタン\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSumCommand\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eCommand\u003c/span\u003e\u003cspan class=\"p\"\u003e(()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// 実行\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eModel\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSum\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e},\u003c/span\u003e \u003cspan class=\"n\"\u003eparamA\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eparamB\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eModel_PropertyChanged\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eobject\u003c/span\u003e \u003cspan class=\"n\"\u003esender\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ePropertyChangedEventArgs\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePropertyName\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"k\"\u003enameof\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eModel\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAnswer\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAnswer\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eModel\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAnswer\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003eView\u003c/code\u003eからデータを受け取って、\u003ccode\u003eModel\u003c/code\u003eに渡せるデータかチェックして、SumCommandの有効・無効を制御。\u003cbr\u003e\nSumCommandの処理で\u003ccode\u003eModel\u003c/code\u003eにパラメータを渡して実行。\u003cbr\u003e\n\u003ccode\u003eModel\u003c/code\u003eのプロパティ変更通知で結果を取り出して\u003ccode\u003eViewModel\u003c/code\u003eに通知。\u003c/p\u003e\n\n\u003cp\u003e独自のクラスが多くて分かりにくい・・・\u003cbr\u003e\nひとまず\u003ccode\u003eProperty\u0026lt;T\u0026gt;\u003c/code\u003eには検証機能もあって、\u003ccode\u003eCommand\u003c/code\u003eクラスには指定した\u003ccode\u003eProperty\u0026lt;T\u0026gt;\u003c/code\u003eのエラー状態と連動して有効・無効が勝手に切り替わる・・・くらいのイメージで・・・\u003csup id=\"fnref8\"\u003e\u003ca href=\"#fn8\" title=\"INotifyPropertyChangedやINotifyDataErrorInfoはどういう実装が便利だろう？とお試しで作ったクラス。実際にこれで良いかは分からない。（全容はGitHubで・・・）\"\u003e8\u003c/a\u003e\u003c/sup\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"viewmainviewxaml\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#viewmainviewxaml\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eView(MainView.xaml)\u003c/h2\u003e\n\n\u003cp\u003e最後に画面。\u003cbr\u003e\n\u003ccode\u003eViewModel\u003c/code\u003eに従って数字を入力するテキストボックス２個と、実行ボタン１個と、結果を表示するラベルが１個。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"xml\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;Window\u003c/span\u003e \u003cspan class=\"na\"\u003ex:Class=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"MvvmTest.Views.MainView\"\u003c/span\u003e\n        \u003cspan class=\"na\"\u003exmlns=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\u003c/span\u003e\n        \u003cspan class=\"na\"\u003exmlns:x=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"http://schemas.microsoft.com/winfx/2006/xaml\"\u003c/span\u003e\n        \u003cspan class=\"na\"\u003exmlns:d=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"http://schemas.microsoft.com/expression/blend/2008\"\u003c/span\u003e\n        \u003cspan class=\"na\"\u003exmlns:mc=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\u003c/span\u003e\n        \u003cspan class=\"na\"\u003exmlns:local=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"clr-namespace:MvvmTest.Views\"\u003c/span\u003e\n        \u003cspan class=\"na\"\u003exmlns:vm=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"clr-namespace:MvvmTest.VM;assembly=MvvmTest.VM\"\u003c/span\u003e\n        \u003cspan class=\"na\"\u003emc:Ignorable=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"d\"\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eTitle=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Main\"\u003c/span\u003e \u003cspan class=\"na\"\u003eSizeToContent=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"WidthAndHeight\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\n    \u003cspan class=\"nt\"\u003e\u0026lt;Window.DataContext\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"nt\"\u003e\u0026lt;vm:MainViewModel\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;/Window.DataContext\u0026gt;\u003c/span\u003e\n\n    \u003cspan class=\"nt\"\u003e\u0026lt;Grid\u003c/span\u003e \u003cspan class=\"na\"\u003eMinWidth=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"300\"\u003c/span\u003e \u003cspan class=\"na\"\u003eMinHeight=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"200\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"nt\"\u003e\u0026lt;Grid.ColumnDefinitions\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"nt\"\u003e\u0026lt;ColumnDefinition\u003c/span\u003e \u003cspan class=\"na\"\u003eWidth=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"100\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"nt\"\u003e\u0026lt;ColumnDefinition/\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"nt\"\u003e\u0026lt;/Grid.ColumnDefinitions\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"nt\"\u003e\u0026lt;Grid.RowDefinitions\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"nt\"\u003e\u0026lt;RowDefinition/\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"nt\"\u003e\u0026lt;RowDefinition/\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"nt\"\u003e\u0026lt;RowDefinition/\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"nt\"\u003e\u0026lt;RowDefinition/\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"nt\"\u003e\u0026lt;/Grid.RowDefinitions\u0026gt;\u003c/span\u003e\n\n        \u003cspan class=\"c\"\u003e\u0026lt;!-- ParamA --\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"nt\"\u003e\u0026lt;TextBlock\u003c/span\u003e \u003cspan class=\"na\"\u003eGrid.Row=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"0\"\u003c/span\u003e \u003cspan class=\"na\"\u003eGrid.Column=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"0\"\u003c/span\u003e \u003cspan class=\"na\"\u003eMargin=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"0,0,10,0\"\u003c/span\u003e  \u003cspan class=\"na\"\u003eHorizontalAlignment=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Right\"\u003c/span\u003e \u003cspan class=\"na\"\u003eVerticalAlignment=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Center\"\u003c/span\u003e \u003cspan class=\"na\"\u003eText=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ParamA\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"nt\"\u003e\u0026lt;TextBox\u003c/span\u003e \u003cspan class=\"na\"\u003eGrid.Row=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"0\"\u003c/span\u003e \u003cspan class=\"na\"\u003eGrid.Column=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"1\"\u003c/span\u003e \u003cspan class=\"na\"\u003eMaxHeight=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"24\"\u003c/span\u003e \u003cspan class=\"na\"\u003eMargin=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"10, 0, 10, 0\"\u003c/span\u003e \u003cspan class=\"na\"\u003eVerticalContentAlignment=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Center\"\u003c/span\u003e \u003cspan class=\"na\"\u003eText=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"{Binding ParamA, UpdateSourceTrigger=PropertyChanged}\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c\"\u003e\u0026lt;!-- ParamB --\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"nt\"\u003e\u0026lt;TextBlock\u003c/span\u003e \u003cspan class=\"na\"\u003eGrid.Row=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"1\"\u003c/span\u003e \u003cspan class=\"na\"\u003eGrid.Column=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"0\"\u003c/span\u003e \u003cspan class=\"na\"\u003eMargin=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"0,0,10,0\"\u003c/span\u003e \u003cspan class=\"na\"\u003eHorizontalAlignment=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Right\"\u003c/span\u003e \u003cspan class=\"na\"\u003eVerticalAlignment=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Center\"\u003c/span\u003e \u003cspan class=\"na\"\u003eText=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ParamB\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"nt\"\u003e\u0026lt;TextBox\u003c/span\u003e \u003cspan class=\"na\"\u003eGrid.Row=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"1\"\u003c/span\u003e \u003cspan class=\"na\"\u003eGrid.Column=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"1\"\u003c/span\u003e \u003cspan class=\"na\"\u003eMaxHeight=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"24\"\u003c/span\u003e \u003cspan class=\"na\"\u003eMargin=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"10, 0, 10, 0\"\u003c/span\u003e \u003cspan class=\"na\"\u003eVerticalContentAlignment=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Center\"\u003c/span\u003e \u003cspan class=\"na\"\u003eText=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"{Binding ParamB, UpdateSourceTrigger=PropertyChanged}\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c\"\u003e\u0026lt;!-- Button --\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"nt\"\u003e\u0026lt;Button\u003c/span\u003e \u003cspan class=\"na\"\u003eGrid.Row=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"2\"\u003c/span\u003e \u003cspan class=\"na\"\u003eGrid.Column=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"0\"\u003c/span\u003e \u003cspan class=\"na\"\u003eGrid.ColumnSpan=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"2\"\u003c/span\u003e \u003cspan class=\"na\"\u003eMargin=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"10,10,10,10\"\u003c/span\u003e \u003cspan class=\"na\"\u003eContent=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Sum\"\u003c/span\u003e \u003cspan class=\"na\"\u003eCommand=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"{Binding SumCommand}\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"c\"\u003e\u0026lt;!-- Answer  --\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"nt\"\u003e\u0026lt;TextBlock\u003c/span\u003e \u003cspan class=\"na\"\u003eGrid.Row=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"3\"\u003c/span\u003e \u003cspan class=\"na\"\u003eGrid.Column=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"0\"\u003c/span\u003e \u003cspan class=\"na\"\u003eMargin=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"0,0,10,0\"\u003c/span\u003e \u003cspan class=\"na\"\u003eHorizontalAlignment=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Right\"\u003c/span\u003e \u003cspan class=\"na\"\u003eVerticalAlignment=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Center\"\u003c/span\u003e \u003cspan class=\"na\"\u003eText=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Answer\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"nt\"\u003e\u0026lt;TextBlock\u003c/span\u003e \u003cspan class=\"na\"\u003eGrid.Row=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"3\"\u003c/span\u003e \u003cspan class=\"na\"\u003eGrid.Column=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"1\"\u003c/span\u003e \u003cspan class=\"na\"\u003eHorizontalAlignment=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Left\"\u003c/span\u003e \u003cspan class=\"na\"\u003eMargin=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"10, 0, 10, 0\"\u003c/span\u003e \u003cspan class=\"na\"\u003eVerticalAlignment=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Center\"\u003c/span\u003e \u003cspan class=\"na\"\u003eText=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"{Binding Ans}\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e\n\n    \u003cspan class=\"nt\"\u003e\u0026lt;/Grid\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/Window\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e画面のデザインと、ViewModelが誰かと、コントロール毎のバインディングを定義するだけ。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"コードビハインドmainviewxamlcs\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B3%E3%83%BC%E3%83%89%E3%83%93%E3%83%8F%E3%82%A4%E3%83%B3%E3%83%89mainviewxamlcs\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eコードビハインド(MainView.xaml.cs)\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e/// MainView.xaml の相互作用ロジック\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003epartial\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eMainView\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eWindow\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003eMainView\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"nf\"\u003eInitializeComponent\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e生成されたコードそのまま。\u003cstrong\u003e絶対に触らない\u003c/strong\u003e（鉄の意志）\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"ソースコードの全てはgithubに上げてみた\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E5%85%A8%E3%81%A6%E3%81%AFgithub%E3%81%AB%E4%B8%8A%E3%81%92%E3%81%A6%E3%81%BF%E3%81%9F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eソースコードの全てはGitHubに上げてみた\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"https://github.com/mitsu-at3/MvvmTest\" rel=\"nofollow noopener\" target=\"_blank\"\u003emitsu-at3/MvvmTest: Mvvm Test Project\u003c/a\u003e\u003cbr\u003e\n仕事でGitLabは使っているけど、GitHubは初めて使った・・・（今さら）\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"合ってるだろうか\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%90%88%E3%81%A3%E3%81%A6%E3%82%8B%E3%81%A0%E3%82%8D%E3%81%86%E3%81%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e合ってるだろうか？\u003c/h1\u003e\n\n\u003cp\u003e色々と調べたりMVVMの目的を考えると、この分け方が１番しっくり来るけど、合ってるのか分からない・・・\u003cbr\u003e\n特に\u003ccode\u003eViewModel\u003c/code\u003eに定義する\u003ccode\u003eView\u003c/code\u003eからデータを受け取るためのプロパティの型を、例えば数値入力でもテキストボックスならstring型みたいに、\u003ccode\u003eView\u003c/code\u003eのコントロールの都合を考慮した型にするのが正しいのかどうかが謎。\u003cbr\u003e\n調べても明確にそういう考え方してる情報に出会えなかった。\u003c/p\u003e\n\n\u003cp\u003eただ\u003ccode\u003eViewModel\u003c/code\u003eのプロパティをintにしてしまうと、\u003ccode\u003eView\u003c/code\u003eの段階で入力エラーが出てしまって、そのままだと\u003ccode\u003eViewModel\u003c/code\u003e側でエラーを検知できないから、\u003ccode\u003eView\u003c/code\u003eから\u003ccode\u003eViewModel\u003c/code\u003eに伝える仕組みが必要になってしまう。\u003cbr\u003e\nでも\u003ccode\u003eView\u003c/code\u003eにはなるべく余計なものは書きたくない。\u003cbr\u003e\nって考えると、\u003ccode\u003eViewModel\u003c/code\u003e側はとりあえずstringで受け入れて、入力チェックは\u003ccode\u003eViewModel\u003c/code\u003e側でやるのがベター？\u003csup id=\"fnref9\"\u003e\u003ca href=\"#fn9\" title=\"stringにしておけばどんな入力でも受け入れられるテキストボックスだからってだけで、どんな型にしてもエラーが発生しうるコントロールの場合は、View→ViewModelの通知は避けられない？\"\u003e9\u003c/a\u003e\u003c/sup\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"調べてる中で気になったこととか\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%AA%BF%E3%81%B9%E3%81%A6%E3%82%8B%E4%B8%AD%E3%81%A7%E6%B0%97%E3%81%AB%E3%81%AA%E3%81%A3%E3%81%9F%E3%81%93%E3%81%A8%E3%81%A8%E3%81%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e調べてる中で気になったこととか\u003c/h1\u003e\n\n\u003cp\u003e最後に調べてるときに見かけた情報で「それ合ってるの？」と気になったことなど。\u003cbr\u003e\nあちこちの情報をひたすら漁ってる中で見かけた情報なのでどこで見たのかは覚えてない・・・\u003csup id=\"fnref10\"\u003e\u003ca href=\"#fn10\" title=\"ただその情報のせいで余計に混乱した\"\u003e10\u003c/a\u003e\u003c/sup\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"modelがただのデータクラス\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#model%E3%81%8C%E3%81%9F%E3%81%A0%E3%81%AE%E3%83%87%E3%83%BC%E3%82%BF%E3%82%AF%E3%83%A9%E3%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eModelがただのデータクラス\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003ePersonModel\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eName\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eAge\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eModelの意味を勘違いしてるのか、ロジックはこれから実装するつもりだったのか・・・\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"viewmodelとmodelは同じプロパティが並びます\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#viewmodel%E3%81%A8model%E3%81%AF%E5%90%8C%E3%81%98%E3%83%97%E3%83%AD%E3%83%91%E3%83%86%E3%82%A3%E3%81%8C%E4%B8%A6%E3%81%B3%E3%81%BE%E3%81%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e「ViewModelとModelは同じプロパティが並びます」\u003c/h2\u003e\n\n\u003cp\u003e必ずしも同じ必要は無いのではなかろうか？\u003cbr\u003e\n同じだと\u003ccode\u003eViewModel\u003c/code\u003eが架け橋する意味も薄くなっちゃう。\u003cbr\u003e\n\u003ccode\u003eViewModel\u003c/code\u003eと\u003ccode\u003eModel\u003c/code\u003eの関係が崩れなければ、違っていても良い気がする。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"viewmodelが完全にmodelへの受け渡しだけ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#viewmodel%E3%81%8C%E5%AE%8C%E5%85%A8%E3%81%ABmodel%E3%81%B8%E3%81%AE%E5%8F%97%E3%81%91%E6%B8%A1%E3%81%97%E3%81%A0%E3%81%91\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eViewModelが完全にModelへの受け渡しだけ\u003c/h2\u003e\n\n\u003cp\u003e↑と似ているけど・・・\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003ePersonModelView\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eName\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eget\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eModel\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eset\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eModel\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eAge\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eget\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eModel\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAge\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eset\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eModel\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAge\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// ・・・Modelから通知を受けたり、コマンドを受けてModelを実行したりだけ\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e入力チェックも何もない画面なら有りなのかもしれないけど、ここまで来るとVMとMを分ける意味がないような・・・\u003cbr\u003e\n超小規模なプロジェクトなら\u003ccode\u003eModel\u003c/code\u003eなしも有り？\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"あなたのモデルはどこから\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%82%E3%81%AA%E3%81%9F%E3%81%AE%E3%83%A2%E3%83%87%E3%83%AB%E3%81%AF%E3%81%A9%E3%81%93%E3%81%8B%E3%82%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eあなたのモデルはどこから？\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003eMainViewModel\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eIMainModel\u003c/span\u003e \u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eModel\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eなんやかんやの仕組みがあって自動的に依存性注入で渡ってくるならこれも良いと思う。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"でもこれは嫌だmainviewxamlcs\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%A7%E3%82%82%E3%81%93%E3%82%8C%E3%81%AF%E5%AB%8C%E3%81%A0mainviewxamlcs\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eでもこれは嫌だ(MainView.xaml.cs)\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e/// MainView.xaml の相互作用ロジック\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003epartial\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eMainView\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eWindow\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003eMainView\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eIMainModel\u003c/span\u003e \u003cspan class=\"n\"\u003emodel\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eDI\u003c/span\u003e\u003cspan class=\"err\"\u003eコンテナ的なやつ\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetService\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003etypeof\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eIMainModel\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDataContext\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eMainViewModel\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"nf\"\u003eInitializeComponent\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003cstrong\u003eコードビハインドには書きたくない！！！\u003c/strong\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"viewmodelのコンストラクタで作れば良くない\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#viewmodel%E3%81%AE%E3%82%B3%E3%83%B3%E3%82%B9%E3%83%88%E3%83%A9%E3%82%AF%E3%82%BF%E3%81%A7%E4%BD%9C%E3%82%8C%E3%81%B0%E8%89%AF%E3%81%8F%E3%81%AA%E3%81%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eViewModelのコンストラクタで作れば良くない？\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003eMainViewModel\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eModel\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eDI\u003c/span\u003e\u003cspan class=\"err\"\u003eコンテナ的なやつ\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetService\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003etypeof\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eIMainModel\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003eViewModel\u003c/code\u003eが\u003ccode\u003eModel\u003c/code\u003eに依存するのは間違いじゃないので、素直にこっちの方が良いような。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"modelがシングルトン\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#model%E3%81%8C%E3%82%B7%E3%83%B3%E3%82%B0%E3%83%AB%E3%83%88%E3%83%B3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eModelがシングルトン\u003c/h2\u003e\n\n\u003cp\u003eこれが正しいのかが１番分からない。\u003cbr\u003e\n今までの考えからすると、\u003ccode\u003eView\u003c/code\u003e-\u003ccode\u003eViewModel\u003c/code\u003e-\u003ccode\u003eModel\u003c/code\u003eは１つのセットと見なして、生存期間は同じにしておく方が自然のような気がする。\u003cbr\u003e\nシングルトンで扱いたい機能は、\u003ccode\u003eModel\u003c/code\u003eよりも下に定義して、\u003ccode\u003eModel\u003c/code\u003eの中でそのシングルトンクラスを使った方がMVVMの関係性が明確で分かりやすくない？\u003c/p\u003e\n\n\u003cp\u003eでも厳密には「\u003ccode\u003eView\u003c/code\u003eと\u003ccode\u003eViewModel\u003c/code\u003e以外全てが\u003ccode\u003eModel\u003c/code\u003e」らしいから\u003csup id=\"fnref11\"\u003e\u003ca href=\"#fn11\" title=\"混乱の素\"\u003e11\u003c/a\u003e\u003c/sup\u003e、シングルトンでも間違いではないのかな・・・\u003cbr\u003e\n個人的には少なくとも\u003ccode\u003eViewModel\u003c/code\u003eが参照する\u003ccode\u003eModel\u003c/code\u003eは、生存期間を同じにしておきたいなあ。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"おわりに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%8A%E3%82%8F%E3%82%8A%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eおわりに\u003c/h1\u003e\n\n\u003cp\u003e長々と書いていて「こう考えるのが正しいのではないか？」というのはところまでは来たけども、まだ確信を持って「この考えで正しい！」とは言えない・・・\u003cbr\u003e\nしっくりは来てるんだけどなあ。\u003cbr\u003e\nでも序盤に挙げた「目的」を明確に認識しておくだけでも「その形が間違ってるか？」の判断材料にはなりそう。\u003cbr\u003e\n少しは最新の開発スタイルに近付けただろうか・・・？\u003c/p\u003e\n\n\u003cp\u003eあと画面遷移とかダイアログ表示とかDIコンテナとか調べだすと、Prismとか外部フレームワークに頼りたくなる理由が分かってきた・・・\u003cbr\u003e\n何となく自力でも実装できそうな雰囲気だけど、かなり面倒そうな印象。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"おまけdiコンテナって\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%8A%E3%81%BE%E3%81%91di%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E3%81%A3%E3%81%A6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eおまけ：DIコンテナって・・・\u003c/h1\u003e\n\n\u003cp\u003eMVVMについて調べる中で初めて「DIコンテナ」を知ったのだけど（今さら）、解説を読んだときに真っ先にあいつを思い出した・・・\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"cpp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"n\"\u003eHRESULT\u003c/span\u003e \u003cspan class=\"nf\"\u003eCoCreateInstance\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eREFCLSID\u003c/span\u003e  \u003cspan class=\"n\"\u003erclsid\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eLPUNKNOWN\u003c/span\u003e \u003cspan class=\"n\"\u003epUnkOuter\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eDWORD\u003c/span\u003e     \u003cspan class=\"n\"\u003edwClsContext\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eREFIID\u003c/span\u003e    \u003cspan class=\"n\"\u003eriid\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eLPVOID\u003c/span\u003e    \u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003eppv\u003c/span\u003e\n\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e取得したいInterfaceの情報を渡すとインスタンスが返ってくるってこれじゃん。\u003cbr\u003e\nそう思うと急に親しみが湧いてきたのでした。おしまい。\u003c/p\u003e\n\n\u003cdiv class=\"footnotes\"\u003e\n\u003chr\u003e\n\u003col\u003e\n\n\u003cli id=\"fn1\"\u003e\n\u003cp\u003e理解力が足りないだけかもしれない。 \u003ca href=\"#fnref1\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn2\"\u003e\n\u003cp\u003eXamarinを使えば出来たりしないかな？（Xamarin未経験） \u003ca href=\"#fnref2\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn3\"\u003e\n\u003cp\u003e.Net Standard大好き \u003ca href=\"#fnref3\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn4\"\u003e\n\u003cp\u003e何をする画面かは知ってる。じゃないと何の処理をすれば良いのか分からない。あくまでデザインを知らないだけ。 \u003ca href=\"#fnref4\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn5\"\u003e\n\u003cp\u003eこのパラメータはテキストボックス的なやつで、このパラメータはチェックボックス的なやつで・・・みたいな。 \u003ca href=\"#fnref5\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn6\"\u003e\n\u003cp\u003e\u003ccode\u003eView\u003c/code\u003eがバインディングするところでエラーが出ないようにするべき？（数値入力前提のテキストボックスでも、とりあえずstring型のプロパティで受け取るとか） \u003ca href=\"#fnref6\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn7\"\u003e\n\u003cp\u003e\u003ccode\u003eModel\u003c/code\u003eの処理に依存するエラーは知らない。あくまで「渡せるかどうか」だけ。 \u003ca href=\"#fnref7\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn8\"\u003e\n\u003cp\u003e\u003ccode\u003eINotifyPropertyChanged\u003c/code\u003eや\u003ccode\u003eINotifyDataErrorInfo\u003c/code\u003eはどういう実装が便利だろう？とお試しで作ったクラス。実際にこれで良いかは分からない。（全容はGitHubで・・・） \u003ca href=\"#fnref8\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn9\"\u003e\n\u003cp\u003estringにしておけばどんな入力でも受け入れられるテキストボックスだからってだけで、どんな型にしてもエラーが発生しうるコントロールの場合は、\u003ccode\u003eView\u003c/code\u003e→\u003ccode\u003eViewModel\u003c/code\u003eの通知は避けられない？ \u003ca href=\"#fnref9\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn10\"\u003e\n\u003cp\u003eただその情報のせいで余計に混乱した \u003ca href=\"#fnref10\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn11\"\u003e\n\u003cp\u003e混乱の素 \u003ca href=\"#fnref11\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003c/ol\u003e\n\u003c/div\u003e\n","createdAt":"2020-09-12T09:15:11Z","elapsedYearsFromLastModifiedAt":0,"encryptedId":"3x6g//PFHh6iKFDzXtjkxjl+PAg7HGbJMQ==--67psOhTv8x/H9Bks--kvJui8k5Haao4z5OM9Bgkw==","isBanned":false,"isDeprecated":false,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2020-09-12T09:19:45Z","likesCount":2,"linkUrl":"https://qiita.com/mitsu_at3/items/49d21ba5fb38f15ea922","organization":null,"originalId":1299298,"stockedCount":5,"title":"[C#/WPF/MVVM]今さらMVVMについて調べた","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003eはじめに\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%AA%E3%82%93%E3%81%A7mvvm%E3%81%AB%E5%88%86%E3%81%91%E3%82%8B%E3%81%AE%E3%81%A0%E3%82%8D%E3%81%86\"\u003eなんでMVVMに分けるのだろう？\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%9B%AE%E7%9A%84\"\u003e目的\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%86%E3%82%B9%E3%82%BF%E3%83%93%E3%83%AA%E3%83%86%E3%82%A3%E3%83%86%E3%82%B9%E3%83%88%E5%AE%B9%E6%98%93%E6%80%A7%E5%90%91%E4%B8%8A\"\u003eテスタビリティ(テスト容易性)向上\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%97%E3%83%AD%E3%83%80%E3%82%AF%E3%83%86%E3%82%A3%E3%83%B4%E3%82%A3%E3%83%86%E3%82%A3%E7%94%9F%E7%94%A3%E6%80%A7%E5%90%91%E4%B8%8A\"\u003eプロダクティヴィティ(生産性)向上\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%9D%E3%83%BC%E3%82%BF%E3%83%93%E3%83%AA%E3%83%86%E3%82%A3%E7%A7%BB%E6%A4%8D%E6%80%A7%E5%90%91%E4%B8%8A\"\u003eポータビリティ(移植性)向上（？）\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%88%86%E3%81%91%E6%96%B9%E3%81%8C%E6%9B%96%E6%98%A7%E3%81%AA%E5%8E%9F%E5%9B%A0%E3%81%AF%E3%81%93%E3%81%93%E3%81%AB%E3%81%82%E3%82%8B\"\u003e分け方が曖昧な原因はここにある？\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%90%86%E6%83%B3%E7%9A%84%E3%81%AA%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%A7%8B%E6%88%90%E3%82%92%E8%80%83%E3%81%88%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e理想的なプロジェクト構成を考えてみる\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%93%E3%82%93%E3%81%AA%E6%84%9F%E3%81%98\"\u003eこんな感じ？\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#mvvmtest-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88\"\u003eMvvmTest プロジェクト\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#mvvmtestmvm-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88\"\u003eMvvmTest.MVM プロジェクト\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#mvvm%E3%81%9D%E3%82%8C%E3%81%9E%E3%82%8C%E3%81%AE%E5%BD%B9%E5%89%B2%E3%82%92%E8%80%83%E3%81%88%E3%81%A6%E3%81%BF%E3%82%8B\"\u003eMVVMそれぞれの役割を考えてみる\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#view\"\u003eView\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#model\"\u003eModel\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#viewmodel\"\u003eViewModel\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%9D%E3%82%8C%E3%81%9E%E3%82%8C%E6%8C%81%E3%81%A4%E3%81%B9%E3%81%8D%E3%82%82%E3%81%AE%E3%82%92%E8%80%83%E3%81%88%E3%81%A6%E3%81%BF%E3%82%8B\"\u003eそれぞれ持つべきものを考えてみる\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#view-1\"\u003eView\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#viewmodel-1\"\u003eViewModel\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#model-1\"\u003eModel\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%AE%9F%E9%9A%9B%E3%81%AB%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e実際に書いてみる\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#modelmainmodelcs\"\u003eModel(MainModel.cs)\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#viewmodelmainviewmodelcs\"\u003eViewModel(MainViewModel.cs)\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#viewmainviewxaml\"\u003eView(MainView.xaml)\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%B3%E3%83%BC%E3%83%89%E3%83%93%E3%83%8F%E3%82%A4%E3%83%B3%E3%83%89mainviewxamlcs\"\u003eコードビハインド(MainView.xaml.cs)\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E5%85%A8%E3%81%A6%E3%81%AFgithub%E3%81%AB%E4%B8%8A%E3%81%92%E3%81%A6%E3%81%BF%E3%81%9F\"\u003eソースコードの全てはGitHubに上げてみた\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%90%88%E3%81%A3%E3%81%A6%E3%82%8B%E3%81%A0%E3%82%8D%E3%81%86%E3%81%8B\"\u003e合ってるだろうか？\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%AA%BF%E3%81%B9%E3%81%A6%E3%82%8B%E4%B8%AD%E3%81%A7%E6%B0%97%E3%81%AB%E3%81%AA%E3%81%A3%E3%81%9F%E3%81%93%E3%81%A8%E3%81%A8%E3%81%8B\"\u003e調べてる中で気になったこととか\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#model%E3%81%8C%E3%81%9F%E3%81%A0%E3%81%AE%E3%83%87%E3%83%BC%E3%82%BF%E3%82%AF%E3%83%A9%E3%82%B9\"\u003eModelがただのデータクラス\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#viewmodel%E3%81%A8model%E3%81%AF%E5%90%8C%E3%81%98%E3%83%97%E3%83%AD%E3%83%91%E3%83%86%E3%82%A3%E3%81%8C%E4%B8%A6%E3%81%B3%E3%81%BE%E3%81%99\"\u003e「ViewModelとModelは同じプロパティが並びます」\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#viewmodel%E3%81%8C%E5%AE%8C%E5%85%A8%E3%81%ABmodel%E3%81%B8%E3%81%AE%E5%8F%97%E3%81%91%E6%B8%A1%E3%81%97%E3%81%A0%E3%81%91\"\u003eViewModelが完全にModelへの受け渡しだけ\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%82%E3%81%AA%E3%81%9F%E3%81%AE%E3%83%A2%E3%83%87%E3%83%AB%E3%81%AF%E3%81%A9%E3%81%93%E3%81%8B%E3%82%89\"\u003eあなたのモデルはどこから？\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%A7%E3%82%82%E3%81%93%E3%82%8C%E3%81%AF%E5%AB%8C%E3%81%A0mainviewxamlcs\"\u003eでもこれは嫌だ(MainView.xaml.cs)\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#viewmodel%E3%81%AE%E3%82%B3%E3%83%B3%E3%82%B9%E3%83%88%E3%83%A9%E3%82%AF%E3%82%BF%E3%81%A7%E4%BD%9C%E3%82%8C%E3%81%B0%E8%89%AF%E3%81%8F%E3%81%AA%E3%81%84\"\u003eViewModelのコンストラクタで作れば良くない？\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#model%E3%81%8C%E3%82%B7%E3%83%B3%E3%82%B0%E3%83%AB%E3%83%88%E3%83%B3\"\u003eModelがシングルトン\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%8A%E3%82%8F%E3%82%8A%E3%81%AB\"\u003eおわりに\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%8A%E3%81%BE%E3%81%91di%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E3%81%A3%E3%81%A6\"\u003eおまけ：DIコンテナって・・・\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","totalPv":4554,"uuid":"49d21ba5fb38f15ea922","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"u+lIOSQyrs4mnPajm0AAUp6hsH9T--3QhUnN7iTa4G4dka--5M7vyLA08U8bI3PhtnrP/Q==","originalId":326020,"description":"関西で細々と働くしがないプログラマー的な何か。Windows系のC#やC++が多い。Win10IoTとか触ったり。たまにLinuxで鯖を立てたりも。\r\n以前書いてたブログを非公開にして、技術ネタを書く(メモる)場所が無くなったので登録してみました。","facebookUrl":null,"githubUrl":null,"isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"","profileImageUrl":"https://qiita-image-store.s3.amazonaws.com/0/326020/profile-images/1544679258","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F326020%2Fprofile-images%2F1544679258?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=9ae4529e58ba2472904ffd6c412c0105","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F326020%2Fprofile-images%2F1544679258?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=02d838e88de5d313cc854e94adbeebdf","urlName":"mitsu_at3","websiteUrl":"","twitterUrl":null,"twitterUrlName":null,"revealedOrganizations":{"edges":[]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"WPF","urlName":"wpf"},{"name":"MVVM","urlName":"mvvm"}],"followingLikers":{"edges":[]},"comments":{"totalCount":3}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
