More than 3 years have passed since last update.こんにちは！UWPアプリでネット上のPDFファイルを参照する方法の紹介です。（日本語文献が少なすぎる、、、）
iOSから少しそれてしまいますが、Xamarinにも少し関係するためありかと・・・。まずは全体のソースです。コメントを適宜記入していますが、分割して説明していきます。await client.GetAsync(pdfUrl)でHttpClientのレスポンスを取得します。
その取得したレスポンスをawait uploadResponse.Content.ReadAsStreamAsync()でStreamとして読み出します。次に、temp.AsRandomAccessStream()で取得したStreamをRandomAccessStream型として抽出し、PdfDocumentクラスでPDFファイルとしてパースします。解析したPDFファイルのページ数分ループさせます。pdfDoc.GetPage(i)でPdfPageオブジェクトを取得し、
それをInMemoryRandomAccessStreamオブジェクトに書き込みます。UWPではPDFをそのまま表示できないため、BitmapImageに変換して出力します。
書き込んだStreamをawait image.SetSourceAsync(stream)でBitmapImageに変換し、
ImageタグのSourceにBitmapImageを登録して完了です。この実装にはかなり手こずりました。。。
何より参考文献が全くと言っていいほどありません。
この記事が誰かの役に立てば幸いです！ではでは。


