More than 1 year has passed since last update.*注意*この記事はプログラミングの基礎知識がある前提で進みます。
レベルとしてはC++でちょっと書いたことあるよとか、Javaならいじったことあるぜ、って人ならば十分に理解できるでしょう。
あと高校数学の知識を必要とします。ARを始めたいと思い、Unityを始めたのはいいのですが、なんせコンシューマーゲーマーだったために、WASD操作に慣れていませんでした。
そこでPS3用に購入したHORIPADがあったので、アナログスティック入力を導入することにしました。
まだUnity歴1週間なので、へんてこプログラムにはご容赦ください。学生が見ていたら言いたい、社会に出て数学は役に立たないかもしれないが、自分で何かを始めようとすると高確率で数学にぶつかるので、社会のレールにそって生きたいと思っている人以外は高校数学まではしっかり勉強しておきましょう。(今から使うからね～)早速コントローラー設定を済ませちゃいましょう。
実は左スティックの設定は既にされています。さあUnityを開いてください。開いたら Edit -&gt; Project Setting -&gt; Input -&gt; Axes の
▼Horizontal と ▼Vertical がそうですので触らないでおきましょう。次に Size を 19 にしましょう。
そしたらCancelが2つできると思うので、以下の画像のように設定してください。

これを完了させるともう入力が受け付けられるようになります。
（自分でもあまり把握していないのですが環境において 3rd axis が 4th axis に、4th axis が 5th axis になる場合がありますので、動かしながら試してください。）さあ、簡単にUnityのフィールドを整えましょう。
適当な床とオブジェクトを配置します。
こんな風に、上下左右に視点が動いているのを確認できるように大きめのオブジェクトを配置しておくといいでしょう。色も認識しやすい色にしておきましょう。
そしてヒエラルキーから Main Camera を選択し、Inspector の Add Component から検索窓に名前を入力
Create and Add を選択し、C# スクリプトを作成する。
歯車マークをクリックし、Editを選択しVisual Studioが開かれる。(今回は最後にしか使わないよ。)さあ、カメラに動きをつけていきましょう。
今回使うキーワードはこちら(0.0Fを入れとかないと正常に動作しない[誰か理由教えて！！])それでは初めにアナログスティックの入力を Input.GetAxis("Input_Name"); で受け取ります。こうするとしよう
x はHorizontal(左スティック左右)から-1 から 1 までの値を受け取る。
z はVertical(左スティック上下)から-1 から 1 までの値を受け取る。
angleH は Horizontal2(左スティック左右)の-1 から 1 の数値を5倍に増幅して受け取る。
angleV は Vertical2(左スティック上下)の-1 から 1 の数値を5倍に増幅して受け取る。
5倍に増幅している理由はそのほうがスルスルと視点を動かすことができるからです。これで変数としての受け取りを完了した。三次元空間内では周囲を見渡すには360度回ることができれば、すべてを把握できるだろう。
よって向く方向を 0 ～ 360度 で返す変数が必要だろう。
それじゃあこうすればいいのではないかとなる。こうすることで左右に回転する変数ができた。
しかしずっと片方に回転を続けると sight_x が1000を超えたりする。
これでは後々コードを改変するときに大変なので、0 ～ 360度 にするようにしよう。これで大丈夫、完成だ。これに関しては左右よりも簡単だ。
角度を制限してやるだけだ。
言葉にすると、
sight_y が 80 を超えると、0を超える数値を受け付けないようにし、そして
sight_y が -90 を下回ると、0 未満の数値を受け付けないようにする。つまりこうそこに transform.localRotation = Quaternion.Euler();をつけて入力を受け付ける。
そしてsight_xとsight_yをまとめるとこうなるsight_y と sight_x が逆に感じるかもしれませんが、x軸に対して回転なのでsight_yでいいのです。次にカメラを移動させよう。はい、できた！！！.....        　　　　　　　そうはいきません。何故でしょう、実際に実行して確認してみてください。
どうすればいいかは、次回に回したいと思います。続編ができました　→　https://qiita.com/Vonlet/items/665da51d483229c4ad24ふう、つかれた


