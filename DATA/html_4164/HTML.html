<!DOCTYPE html><html><head><meta charset="utf-8" /><title>VRChatからVRC_Panoramaを使いESP-WROOM-02経由で外部機器を操作する - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/sh_akira/items/3ed79ce23fade2d3831d" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="UJhJkAnDm/AaBow4bGIrQ5VHDVsKdFNaAoHqpJipD2kvIBIGVDbI9pUhqwOCjAm6fYezQMmWVhyt//s6ZSCtHQ==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta content="@sh_akira" name="twitter:creator" /><meta property="og:type" content="article"><meta property="og:title" content="VRChatからVRC_Panoramaを使いESP-WROOM-02経由で外部機器を操作する - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1WbEpEYUdGMDQ0R0w0NEtKVmxKRFgxQmhibTl5WVcxaDQ0S1M1TDJfNDRHRVJWTlFMVmRTVDA5TkxUQXk1N1dNNTVTeDQ0R241YVNXNllPbzVxbWY1Wm1vNDRLUzVwT041TDJjNDRHWjQ0S0wmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT01NCZ0eHQtY2xpcD1lbGxpcHNpcyZ0eHQtYWxpZ249Y2VudGVyJTJDbWlkZGxlJnM9OGE3NTdkZjA2ZmU4N2I4NjMwNmY1OTRkZGRjYmI3ZmU&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RSE5vWDJGcmFYSmgmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT00NSZ0eHQtYWxpZ249cmlnaHQlMkNib3R0b20mcz00NmYwMjYwOWM1YTYyZDAyOGExZWViYTgzMGZkN2E5Mg&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=fea05dd747443c9aaf5c8a7f27c83150"><meta property="og:description" content="

はじめに

この記事はVRChat Advent Calendar 2018の20日目の記事です
昨日の記事はヨツミフレーム(@y23586)さんによる、仮想世界のつながり：VRChatにおけるソーシャルネットワークの可視化です。..."><meta content="https://qiita.com/sh_akira/items/3ed79ce23fade2d3831d" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,Unity,ESP-WROOM-02,VRChat,ESP-8266" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 1nzh4zz 38fzdi helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-1nzh4zz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 32px;background-color:#FBE69E;color:rgba(0,0,0,0.87);line-height:1.5;font-weight:600;}@media (max-width:770px){.css-1nzh4zz{padding:16px;}}.css-38fzdi{color:#CA832A;margin-right:4px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-d9697c0e-475e-40b8-a93d-c82ab35be0b8"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2Fsh_akira%2Fitems%2F3ed79ce23fade2d3831d">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2Fsh_akira%2Fitems%2F3ed79ce23fade2d3831d">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-d9697c0e-475e-40b8-a93d-c82ab35be0b8">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2018-12-20T06:46:22.000+09:00","dateModified":"2018-12-20T06:46:22.000+09:00","headline":"VRChatからVRC_Panoramaを使いESP-WROOM-02経由で外部機器を操作する","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1WbEpEYUdGMDQ0R0w0NEtKVmxKRFgxQmhibTl5WVcxaDQ0S1M1TDJfNDRHRVJWTlFMVmRTVDA5TkxUQXk1N1dNNTVTeDQ0R241YVNXNllPbzVxbWY1Wm1vNDRLUzVwT041TDJjNDRHWjQ0S0wmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT01NCZ0eHQtY2xpcD1lbGxpcHNpcyZ0eHQtYWxpZ249Y2VudGVyJTJDbWlkZGxlJnM9OGE3NTdkZjA2ZmU4N2I4NjMwNmY1OTRkZGRjYmI3ZmU\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RSE5vWDJGcmFYSmgmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT00NSZ0eHQtYWxpZ249cmlnaHQlMkNib3R0b20mcz00NmYwMjYwOWM1YTYyZDAyOGExZWViYTgzMGZkN2E5Mg\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=fea05dd747443c9aaf5c8a7f27c83150","mainEntityOfPage":"https://qiita.com/sh_akira/items/3ed79ce23fade2d3831d","author":{"@type":"Person","address":"","email":null,"identifier":"sh_akira","name":"sh_akira","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fprofile-images%2F1550111905?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=41d8413d87bd4d51154e34b42bb6196b","url":"https://qiita.com/sh_akira","description":"Win/iOS/Android/Linux/組込 C/C#/Xamarin.Forms/Unity\r\n\r\nVR機器でVRMの3Dモデルをコントロール！バーチャルモーションキャプチャーの開発をしています  \r\n  \r\n特に明示されていない場合、記事中のソースコードはパブリックドメインです","memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://zine.qiita.com/interview/202107-hitachi/?utm_source=qiita&amp;utm_medium=header-banner">グループ会社出納業務の証票処理を70％自動化。日立のAI-OCR技術とは？</a><a target="_blank" id="header_text_message_2" href="https://zine.qiita.com/interview/202107-hitachi/?utm_source=qiita&amp;utm_medium=header-banner">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"sh_akira","type":"items","id":"3ed79ce23fade2d3831d"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"グループ会社出納業務の証票処理を70％自動化。日立のAI-OCR技術とは？","url":"https://zine.qiita.com/interview/202107-hitachi/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"sh_akira","type":"items","id":"3ed79ce23fade2d3831d"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":1,"pos_id":"header_text_message_1","message":"グループ会社出納業務の証票処理を70％自動化。日立のAI-OCR技術とは？","url":"https://zine.qiita.com/interview/202107-hitachi/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"sh_akira","type":"items","id":"3ed79ce23fade2d3831d"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":1,"pos_id":"header_text_message_2","message":"グループ会社出納業務の証票処理を70％自動化。日立のAI-OCR技術とは？","url":"https://zine.qiita.com/interview/202107-hitachi/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/sh_akira/items/3ed79ce23fade2d3831d","location":"/sh_akira/items/3ed79ce23fade2d3831d","scheme":"https","host":"qiita.com","port":null,"pathname":"/sh_akira/items/3ed79ce23fade2d3831d","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"pMJUKSjG+RF3LH0naSbEPTzv309OTmOvt0YoVLVj+knbeg+/dTOqF/gLWhyHyObE1C9hVI2sZukYODnKSOpYPQ==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-a4fab804-c4e5-4f48-82aa-066b1717845a"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/sh_akira/items/3ed79ce23fade2d3831d/likers" class="css-1iupg5d">34</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">18</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/3ed79ce23fade2d3831d/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/sh_akira/items/3ed79ce23fade2d3831d/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/sh_akira/items/3ed79ce23fade2d3831d/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/sh_akira/items/3ed79ce23fade2d3831d/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/sh_akira/items/3ed79ce23fade2d3831d.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-1nzh4zz"><span class="fa fa-fw fa-warning css-38fzdi"></span><p>More than 1 year has passed since last update.</p></div><div class="css-helsa7"><div class="css-8qb8m4"><div class="it-AdcalRibbon"><span><a href="/advent-calendar/2018/vrchat" class="it-AdcalRibbon_title">VRChat<!-- --> Advent Calendar<!-- --> <!-- -->2018</a>Day 20</span></div><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/sh_akira"><img class="css-100alwu eyfquo10" src="https://qiita-image-store.s3.amazonaws.com/0/105690/profile-images/1550111905" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/sh_akira" class="css-10ougpm">@<!-- -->sh_akira</a><div class="css-1ay9vb9"><time dateTime="2018-12-19T21:46:22Z" class="css-m19uds">posted at 2018-12-19</time></div></div></div></div></div><h1 class="css-cgzq40">VRChatからVRC_Panoramaを使いESP-WROOM-02経由で外部機器を操作する</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/unity" class="css-4czcte">Unity</a><a href="/tags/esp-wroom-02" class="css-4czcte">ESP-WROOM-02</a><a href="/tags/vrchat" class="css-4czcte">VRChat</a><a href="/tags/esp-8266" class="css-4czcte">ESP-8266</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div>
<h1>
<span id="はじめに" class="fragment"></span><a href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB"><i class="fa fa-link"></i></a>はじめに</h1>

<p>この記事は<a href="https://qiita.com/advent-calendar/2018/vrchat">VRChat Advent Calendar 2018</a>の20日目の記事です<br>
昨日の記事は<a href="https://twitter.com/y23586" rel="nofollow noopener" target="_blank">ヨツミフレーム(@y23586)</a>さんによる、<a href="https://y23586.net/2018/12/18/630/" rel="nofollow noopener" target="_blank">仮想世界のつながり：VRChatにおけるソーシャルネットワークの可視化</a>です。</p>

<p>こんにちは。あきら(<a href="https://twitter.com/sh_akira" rel="nofollow noopener" target="_blank">@sh_akira</a>, VRC:sh_akira)です。<br>
普段は<a href="https://sh-akira.github.io/VirtualMotionCapture/" rel="nofollow noopener" target="_blank">バーチャルモーションキャプチャー</a>というVRMモデルを操作するアプリを作っています。</p>

<p>今回はVRChatのトリガーをVRC_Panorama経由でローカルHTTPサーバーで受ける方法と、その使用例としてさらに外部のESP-WROOM-02にTCP接続して、<br>
VRChat内でトリガーを引くと、外のLEDが付く仕組みを作ってみます。</p>

<p>記事中のソースコードはパブリックドメインです。プラグインやGitHubのコード等については各ライセンスに従ってください。</p>

<h1>
<span id="完成品" class="fragment"></span><a href="#%E5%AE%8C%E6%88%90%E5%93%81"><i class="fa fa-link"></i></a>完成品</h1>

<blockquote class="twitter-tweet">
<p>VRChatアドカレ20日目、完成品(埋め込み用) <a href="https://t.co/nzRBOXSxCW" rel="nofollow noopener" target="_blank">pic.twitter.com/nzRBOXSxCW</a></p>— 🗾あきら☎︎＠VMC0.21 (@sh_akira) <a href="https://twitter.com/sh_akira/status/1075507384242528256?ref_src=twsrc%5Etfw" rel="nofollow noopener" target="_blank">2018年12月19日</a>
</blockquote>

<script async src="https://platform.twitter.com/widgets.js"></script>

<h1>
<span id="vrchatのワールドを作る" class="fragment"></span><a href="#vrchat%E3%81%AE%E3%83%AF%E3%83%BC%E3%83%AB%E3%83%89%E3%82%92%E4%BD%9C%E3%82%8B"><i class="fa fa-link"></i></a>VRChatのワールドを作る</h1>

<h2>
<span id="最低限必要な設定だけしたワールドを作る" class="fragment"></span><a href="#%E6%9C%80%E4%BD%8E%E9%99%90%E5%BF%85%E8%A6%81%E3%81%AA%E8%A8%AD%E5%AE%9A%E3%81%A0%E3%81%91%E3%81%97%E3%81%9F%E3%83%AF%E3%83%BC%E3%83%AB%E3%83%89%E3%82%92%E4%BD%9C%E3%82%8B"><i class="fa fa-link"></i></a>最低限必要な設定だけしたワールドを作る</h2>

<p><a href="https://camo.qiitausercontent.com/9947d60a8499245b1a7bd73f38e0ee3cbe9e0507/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f32666231336165382d316661632d323066652d633732382d3831643338383862643862612e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F2fb13ae8-1fac-20fe-c728-81d3888bd8ba.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=f7accf603f46588ceb106b697de5e7d9" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/2fb13ae8-1fac-20fe-c728-81d3888bd8ba.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F2fb13ae8-1fac-20fe-c728-81d3888bd8ba.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=6dcfb69f6bdf358f09c3b3112fc48c6e 1x" loading="lazy"></a><br>
まずはUnity 2017.4.15f1で新規プロジェクトを作ります。Untitledシーンを適当な名前(PanoramaRepeater)で保存します。</p>

<p><a href="https://camo.qiitausercontent.com/2f2db25300b72bbd7b4f5fe457f2ef45ea39dbe2/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f36613632613033612d323866362d386634312d656231652d3430333739323338313936662e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F6a62a03a-28f6-8f41-eb1e-40379238196f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d222cc4e5604dd0c695274cd41d2f322" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/6a62a03a-28f6-8f41-eb1e-40379238196f.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F6a62a03a-28f6-8f41-eb1e-40379238196f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=d0fa7b1643e1fe2ba45ae809b80a6478 1x" loading="lazy"></a><br>
まずはメニューのAssets-&gt;Import-&gt;Custom PackageからVRCSDKをインポートします。<br>
執筆時のパッケージはVRCSDK-2018.12.04.10.25_Public.unitypackageです</p>

<p><a href="https://camo.qiitausercontent.com/84e1840b7bdb1e7b9a6c2ae26aed2513cf890259/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f62353132633862302d643564662d353062632d346231372d3865303837373437333564652e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fb512c8b0-d5df-50bc-4b17-8e08774735de.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=269cc11be690acbc956052cb152f7921" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/b512c8b0-d5df-50bc-4b17-8e08774735de.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fb512c8b0-d5df-50bc-4b17-8e08774735de.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=23707180ef2269ac9cb64978a0b654fc 1x" loading="lazy"></a><br>
床が無いのでとりあえずPlaneを置きます。</p>

<p><a href="https://camo.qiitausercontent.com/540e7b625482a46eef271f6ece8a1ddc1dd7e0a0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f36323730393830322d633062632d386637302d333232332d6236396337373364346331372e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F62709802-c0bc-8f70-3223-b69c773d4c17.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=667bccb53b6c10648d59c7e5cca8a74e" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/62709802-c0bc-8f70-3223-b69c773d4c17.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F62709802-c0bc-8f70-3223-b69c773d4c17.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=d132945c20d9b1cffc9a6dfc12eb7de4 1x" loading="lazy"></a><br>
空のゲームオブジェクトを置いて、VRCPanoramaと名前を付けておきます。<br>
ここにInspectorのAdd Componentからスクリプトを追加してください。</p>

<ul>
<li>VRC_Panorama (追加すると勝手にVRC_DataStorageも入る)</li>
</ul>

<p><a href="https://camo.qiitausercontent.com/f4a40b17c8b963c9164c984d79607c7c1812e77c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f62643331633232632d333433322d326633382d396464642d6563323036633239323936312e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fbd31c22c-3432-2f38-9ddd-ec206c292961.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=23294f0f4108d831f382696f8feb03f8" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/bd31c22c-3432-2f38-9ddd-ec206c292961.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fbd31c22c-3432-2f38-9ddd-ec206c292961.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=75e5507d3bc260e169940d5ecba53d8a 1x" loading="lazy"></a><br>
VRC_PanoramaのPanoramasのSizeを2にしてそれぞれUrlに</p>

<ul>
<li><a href="http://localhost:61221/?TRIGGER" class="autolink" rel="nofollow noopener" target="_blank">http://localhost:61221/?TRIGGER</a></li>
<li><a href="http://localhost:61221/?TRIGGER" class="autolink" rel="nofollow noopener" target="_blank">http://localhost:61221/?TRIGGER</a></li>
</ul>

<p>と同じものを二つ入れておきます。<br>
VRC_DataStorageのDataを開きSizeを1にして、displayと入れて右側のNoneをIntにします。</p>

<p><a href="https://camo.qiitausercontent.com/a0a2ce1a625124d6778bfe8a399e96c089704395/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f63313539363132382d303436382d626461612d313963642d6163333238653730623162392e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fc1596128-0468-bdaa-19cd-ac328e70b1b9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=ff93382f07fe0291834c26164038d7d8" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/c1596128-0468-bdaa-19cd-ac328e70b1b9.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fc1596128-0468-bdaa-19cd-ac328e70b1b9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=96b2462c67195d10363f8771a0954bc8 1x" loading="lazy"></a><br>
シーンにUIのButtonを追加します。<br>
<a href="https://camo.qiitausercontent.com/6b9f6a5595489886239f7c7f773865952ef6aaec/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f61633733316561372d626364362d316134622d363437362d6539343766623265346138352e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fac731ea7-bcd6-1a4b-6476-e947fb2e4a85.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=12f85828f1a68b7fd17e0d39f996edec" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/ac731ea7-bcd6-1a4b-6476-e947fb2e4a85.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fac731ea7-bcd6-1a4b-6476-e947fb2e4a85.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=b1ff9b2de69e6bb7f0068f4e56698a85 1x" loading="lazy"></a><br>
表示はいらないのでButtonのRect TransformのPos X, PosY, Width, Heightをそれぞれ0にしてしまいます。<br>
<a href="https://camo.qiitausercontent.com/a9b2954c5ba1eeeff604910c5e30b150a7700793/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f33313539626630642d656432342d336636312d623864352d6164653364663031613630332e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F3159bf0d-ed24-3f61-b8d5-ade3df01a603.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=06cd0ade95c737a9367993bb095ef6ff" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/3159bf0d-ed24-3f61-b8d5-ade3df01a603.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F3159bf0d-ed24-3f61-b8d5-ade3df01a603.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=4f7ab95640585d58c0c384f1b5563ad8 1x" loading="lazy"></a><br>
Button追加時に自動で追加されたCanvasのRender ModeをWorld Spaceにして、こちらもPos X, PosY, Width, Heightをそれぞれ0にしてしまいます。</p>

<p><strong>そのままボタンとして置きたい場合は、CanvasにVRC_Ui Shapeをアタッチして、ボタンを自由にレイアウトしてください</strong></p>

<p><a href="https://camo.qiitausercontent.com/b8d3b55990d823a975be939afc5096b733b7f605/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f64376530336532652d386135622d396464322d396331332d3834376133313565346633362e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fd7e03e2e-8a5b-9dd2-9c13-847a315e4f36.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=1e2d33d6b35b5b9c11854b3c0dc9bc3b" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/d7e03e2e-8a5b-9dd2-9c13-847a315e4f36.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fd7e03e2e-8a5b-9dd2-9c13-847a315e4f36.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=bd307a15fe39745358477ba496ceb59a 1x" loading="lazy"></a><br>
次にButtonをVRC_Triggerから押すためのAnimationを作ります。<br>
AnimatorControllerとAnimationを新規作成します、それぞれButtonPressAnimatorControllerとButtonPressAnimationと名付けました。<br>
<a href="https://camo.qiitausercontent.com/fa482d2dcac87f64a78bf20f8cedd75f0c44d4f7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f62626139386439312d313030372d373961332d343663302d6231303737336633633137642e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fbba98d91-1007-79a3-46c0-b10773f3c17d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=35c4b4d758a48a806d34e4b634d70f89" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/bba98d91-1007-79a3-46c0-b10773f3c17d.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fbba98d91-1007-79a3-46c0-b10773f3c17d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=3b2aba6200e4389098632c68eea3b922 1x" loading="lazy"></a><br>
WindowメニューからAnimationを選んでAnimationウィンドウを開きます。<br>
<a href="https://camo.qiitausercontent.com/5e41471aaee51d210e9e763ce352cdd2e250c1a1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f36343562636634612d646465622d366531322d363638392d3833653138646232613761392e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F645bcf4a-ddeb-6e12-6689-83e18db2a7a9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=c43310b9820aef5192c077c68aac447f" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/645bcf4a-ddeb-6e12-6689-83e18db2a7a9.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F645bcf4a-ddeb-6e12-6689-83e18db2a7a9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=004eace15d96b8cd9a62189c869de32e 1x" loading="lazy"></a><br>
<a href="https://camo.qiitausercontent.com/5ac66e5ecd3da260f0f7285c0076e24b91709fa8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f30616637343333382d303364352d303461392d653165342d6437653465383037323365622e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F0af74338-03d5-04a9-e1e4-d7e4e80723eb.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=c8844dd821882f54837e90a32071eae1" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/0af74338-03d5-04a9-e1e4-d7e4e80723eb.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F0af74338-03d5-04a9-e1e4-d7e4e80723eb.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=dd2ccb3e0df882b76ee46c0d018364a7 1x" loading="lazy"></a><br>
Add Eventボタンを押して、InspectorのAnimation EventのFunctionにPressと入れます。<br>
<a href="https://camo.qiitausercontent.com/9774fda217241032af72341dbede4e95471d2da8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f66613231343432392d616264372d336638372d643033612d6631626231633764323563322e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Ffa214429-abd7-3f87-d03a-f1bb1c7d25c2.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=aa0468c8d466cd29720c7bfa0ffc0f1f" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/fa214429-abd7-3f87-d03a-f1bb1c7d25c2.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Ffa214429-abd7-3f87-d03a-f1bb1c7d25c2.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=e081539253031c5f4de4a38acd3e6cbe 1x" loading="lazy"></a><br>
<a href="https://camo.qiitausercontent.com/dfb5fd0f636e789ca45e3026e820b261cc27a39d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f34396563613164612d646331342d303630352d383565302d6234616336653464336136662e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F49eca1da-dc14-0605-85e0-b4ac6e4d3a6f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=87ad2cfeb732f3cd879f2c7a9ab3fc28" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/49eca1da-dc14-0605-85e0-b4ac6e4d3a6f.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F49eca1da-dc14-0605-85e0-b4ac6e4d3a6f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=2468457aad1f75338fbc3c0e6b184d57 1x" loading="lazy"></a><br>
フレーム番号に1を入れて隣のフレームに移動して、またAddEventを押し、今度は空のEventを作成します。何も入力する必要はありません。<br>
これによってアニメーションがすぐに終了し、連打することが可能になります。<br>
0フレーム目のPressだけにすると、アニメーションに1秒かかり、1秒ごとにしか押せなくなります。<br>
<a href="https://camo.qiitausercontent.com/c96269a68f3981950594472331d85726bf1a5bf7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f30366639316565652d336335642d633666322d353139372d3865613733633135643235322e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F06f91eee-3c5d-c6f2-5197-8ea73c15d252.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=fde3b1d354738bb5e8b32a2f4b85f37e" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/06f91eee-3c5d-c6f2-5197-8ea73c15d252.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F06f91eee-3c5d-c6f2-5197-8ea73c15d252.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=ccebc6f46b877b7cf94b69d13c46137f 1x" loading="lazy"></a><br>
次にメニューのWindowからAnimatorを選び、ProjectからButtonPressAnimatorControllerを選択します。<br>
<a href="https://camo.qiitausercontent.com/cddc3c7fca9f05dd949a8dac0321c2b7ebaf7c09/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f33636233386361372d303061372d323063302d366432302d6266636639616137663931642e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F3cb38ca7-00a7-20c0-6d20-bfcf9aa7f91d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=31a4637418e6f439cfcfc8747007812a" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/3cb38ca7-00a7-20c0-6d20-bfcf9aa7f91d.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F3cb38ca7-00a7-20c0-6d20-bfcf9aa7f91d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=cab355d38e827014b6c35c2d50453ff8 1x" loading="lazy"></a><br>
適当なところを右クリックして、Create StateからEmptyを選びます。<br>
<a href="https://camo.qiitausercontent.com/5eccdfc5f939db50cab82727c7571afde4a30ae9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f36656663313863612d383038642d613662302d343039612d3366656163333732343639382e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F6efc18ca-808d-a6b0-409a-3feac3724698.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=b3520c5b8c836244a63318203e9cfe60" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/6efc18ca-808d-a6b0-409a-3feac3724698.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F6efc18ca-808d-a6b0-409a-3feac3724698.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=2499cec876386809268a6a1d3cb301b7 1x" loading="lazy"></a><br>
ButtonPressAnimationをドラッグしてAnimatorに入れます<br>
<a href="https://camo.qiitausercontent.com/a00b1e3275dfaf34f068feb6c34ca1944b3645be/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f31383565333035322d346265382d306565632d646566632d6231663031323463396135322e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F185e3052-4be8-0eec-defc-b1f0124c9a52.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=684efbe8edc1cef5750c98e81d3168cf" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/185e3052-4be8-0eec-defc-b1f0124c9a52.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F185e3052-4be8-0eec-defc-b1f0124c9a52.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=6e4023179709bc4a31082d15b39201dc 1x" loading="lazy"></a><br>
Parameters内の＋ボタンからTriggerを選択します。<br>
<a href="https://camo.qiitausercontent.com/69211d05f0ea246062ef261e9052b23f963c5663/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f37323661393630342d366134392d383136342d616264632d6130396565346231326539322e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F726a9604-6a49-8164-abdc-a09ee4b12e92.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=f29fe189f21ece1213bd19900072c90b" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/726a9604-6a49-8164-abdc-a09ee4b12e92.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F726a9604-6a49-8164-abdc-a09ee4b12e92.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=9f27d8ee4af9db0b0a71d9989d3698e3 1x" loading="lazy"></a><br>
名前を<code>OneShot</code>とします<br>
<a href="https://camo.qiitausercontent.com/aba659c21c3350717379ec2af5d22058b30fdca5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f31363438616165332d636563652d376263612d646465652d3665396536646363353730342e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F1648aae3-cece-7bca-ddee-6e9e6dcc5704.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=4878241560b244d4c038541478bf072c" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/1648aae3-cece-7bca-ddee-6e9e6dcc5704.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F1648aae3-cece-7bca-ddee-6e9e6dcc5704.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=d0218ca04fafc57def7a281dcd90c339 1x" loading="lazy"></a><br>
New Stateを右クリックしてMake Transitionします。出てきた矢印はButtonPressAnimationをクリックしてくっつけてください。<br>
<a href="https://camo.qiitausercontent.com/01271b730d5d110fbf60110cd123fdee4e0ce96b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f62613261363132622d646266322d356538622d646661632d3537326562343864393362662e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fba2a612b-dbf2-5e8b-dfac-572eb48d93bf.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=63e4ca1d032275d5ea5e4d8eb2ce723a" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/ba2a612b-dbf2-5e8b-dfac-572eb48d93bf.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fba2a612b-dbf2-5e8b-dfac-572eb48d93bf.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=8369669061cc393fe047b9cda1b4053b 1x" loading="lazy"></a><br>
繋いだ矢印を選択して、InspectorのConditionの＋を押してOneShotを選択し、<br>
Has Exit Timeのチェックを外して、Settings内のTransition DurationとOffsetを0にします。<br>
<a href="https://camo.qiitausercontent.com/a2804a6f1f25d5d07989708a00a34408b15e32e6/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f33316332393938332d353534342d633761662d356165392d3634636330303936373432322e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F31c29983-5544-c7af-5ae9-64cc00967422.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=0291327c8b07e37546ddb47739049077" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/31c29983-5544-c7af-5ae9-64cc00967422.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F31c29983-5544-c7af-5ae9-64cc00967422.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=01e37feed580512db3860ce5c8423b94 1x" loading="lazy"></a><br>
同じように今度は逆方向にButtonPressAnimationからNew Stateに矢印を繋いで、<br>
Settingsの値を全て0にします。こちらはConditionsは空のままで良いです。<br>
<a href="https://camo.qiitausercontent.com/ac4c4af23d7a141a8774db1a9d4b807208c26400/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f64303935663465652d333637612d326565352d366535612d3832313566373938353233632e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fd095f4ee-367a-2ee5-6e5a-8215f798523c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=42518659064f6b25b0e97e41dcab8fc1" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/d095f4ee-367a-2ee5-6e5a-8215f798523c.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fd095f4ee-367a-2ee5-6e5a-8215f798523c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=539bd2d020ae6ec703594d08250f271c 1x" loading="lazy"></a><br>
ButtonPressAnimatorControllerをButtonにドラッグして、ButtonにAnimatorを付けます。</p>

<p><a href="https://camo.qiitausercontent.com/504accbbff04ac81098fcb53ee7545fc7a08f40a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f30616564373237372d363161642d386436352d356131322d3866396162306332373963312e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F0aed7277-61ad-8d65-5a12-8f9ab0c279c1.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=483166ae54e89fe5133e587bf5ef19c2" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/0aed7277-61ad-8d65-5a12-8f9ab0c279c1.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F0aed7277-61ad-8d65-5a12-8f9ab0c279c1.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=af5dbf0311ad9036aa0c41f0056c6a13 1x" loading="lazy"></a><br>
VRC_TriggerをつけてボタンにするためのCubeを置きます。とりあえず位置はPos (0, 0.6, 0), Scale (0.3, 0.3, 0.3)にしました。<br>
<a href="https://camo.qiitausercontent.com/fcbfe47595a91ee7c7340866441b94867a925ab2/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f38366463626233652d363961632d396537322d383031632d3931336462383662616536382e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F86dcbb3e-69ac-9e72-801c-913db86bae68.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=32ceb8a40777a35ef6afc947aa453349" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/86dcbb3e-69ac-9e72-801c-913db86bae68.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F86dcbb3e-69ac-9e72-801c-913db86bae68.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=b70750ffa18b3320e5511de6727737ef 1x" loading="lazy"></a><br>
InspectorのAdd Componentからスクリプトを追加してください。</p>

<ul>
<li>VRC_Trigger (追加すると勝手にVRC_Event Handlerも入る)</li>
</ul>

<p><a href="https://camo.qiitausercontent.com/6c5a51bff3838b590a0c2df9fc5d078a3e7b8564/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f61383936366530362d643331332d396462312d373861312d3534393835623565323235342e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fa8966e06-d313-9db1-78a1-54985b5e2254.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=eadb6e162595341559fa4b6a298d3a50" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/a8966e06-d313-9db1-78a1-54985b5e2254.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fa8966e06-d313-9db1-78a1-54985b5e2254.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=94115b6dac70cf8a258335cdc1cd3624 1x" loading="lazy"></a><br>
VRC_TriggerのAdvancedModeにチェックを入れ、<code>OnInteract</code>を選択してAddを押します。<br>
<a href="https://camo.qiitausercontent.com/efcf3ae173b5f453b474709d7da7f282968a8ea6/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f35386632393930342d366533372d313061362d323837362d6534663032316131366632372e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F58f29904-6e37-10a6-2876-e4f021a16f27.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=de20cd4ed2e3d9bf230a42f64317615d" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/58f29904-6e37-10a6-2876-e4f021a16f27.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F58f29904-6e37-10a6-2876-e4f021a16f27.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=8001d217c668637b1276efa277ee87a6 1x" loading="lazy"></a><br>
AlwaysBufferOneをAlwaysにします。<br>
分かりやすいようにInteraction TextはGPIO SWにします。<br>
Actionsの＋を押して、AnimationTriggerを選択します。<br>
<a href="https://camo.qiitausercontent.com/5a4c869cc1372a14515d9ee96b54e26e3d7c8bfc/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f35633762306262662d343636652d356537612d393965352d3364646366653639633862322e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F5c7b0bbf-466e-5e7a-99e5-3ddcfe69c8b2.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=49ebb01f2d32bfabd5d927f8b6a42857" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/5c7b0bbf-466e-5e7a-99e5-3ddcfe69c8b2.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F5c7b0bbf-466e-5e7a-99e5-3ddcfe69c8b2.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=95fe85c31a05abb4ee836589757bb21c 1x" loading="lazy"></a><br>
ButtonをドラッグしてAnimatorが登録されるようにします。<br>
Triggerに先ほどAnimatorで設定したのと同じ名前のOneShotを入れます。<br>
<a href="https://camo.qiitausercontent.com/7df415a15d34772d612bdfc2c4257efa1618fd7c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f39653966306639372d326234372d666130622d656136612d3435646230326662383630622e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F9e9f0f97-2b47-fa0b-ea6a-45db02fb860b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=29b77fb999e13d5fc32586404e315373" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/9e9f0f97-2b47-fa0b-ea6a-45db02fb860b.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F9e9f0f97-2b47-fa0b-ea6a-45db02fb860b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=35d4209a8c532286a210d5d708e7fc24 1x" loading="lazy"></a><br>
Buttonを選択し、On Click()の＋ボタンを押して、VRCPanoramaをドラッグで登録したら、VRC_Panorama-&gt;NextPanoを選択します。</p>

<p>これでVRC_TriggerからVRC_PanoramaのNextPano関数を呼び出す仕組みが出来ました。<br>
VRC_Panoramaの関数、ShowPanoAtやNextPano、PrevPanoはRPCからは呼べず、uGUIからなら呼ぶことが出来ます。<br>
今回はuGUIのButtonのClickイベントでVRCPanoramaのNextPanoを呼び出しています。<br>
そしてこれをTriggerで制御するために、ボタンをPressするだけのアニメーションを作成し、<br>
Trigger時にはこのAnimationを呼んでボタンを押したことにすることで、Trigger-&gt;uGUI Button-&gt;VRC_Panoramaを呼べるようにしました。<br>
VRC_PanoramaのShowPanoAtは同じIndexでは一度しか呼べない為、わざと同じURLを2個登録して、NextPanoで行ったり来たりしています。<br>
ワールドに入った際に1度一つ目のURLが呼び出されてしまいますが、中継サーバー側で無視します。</p>

<p><a href="https://camo.qiitausercontent.com/d162c1a602d6a6250f95fa78887a5e83e444319f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f62363631653236612d316338352d633365332d363364632d3232653733373832323261392e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fb661e26a-1c85-c3e3-63dc-22e7378222a9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=81549f420fc83312350b3aa7330d5c92" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/b661e26a-1c85-c3e3-63dc-22e7378222a9.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fb661e26a-1c85-c3e3-63dc-22e7378222a9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=f242c32401122aafa24ebe1aed705d44 1x" loading="lazy"></a><br>
Assets/VRCSDK/Prefabs/WorldのVRCWorldを適当な場所に設置します。設置位置がリスポーン地点です。</p>

<p><a href="https://camo.qiitausercontent.com/be5086e3a876b77ff5b98affec898d7c12efc5a1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f31336339623532392d313237312d616662612d393238612d3436633332666261633231652e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F13c9b529-1271-afba-928a-46c32fbac21e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=cbd979690494f1c2d8afcb9e4b9405ee" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/13c9b529-1271-afba-928a-46c32fbac21e.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F13c9b529-1271-afba-928a-46c32fbac21e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=4bdb5d521c701c97c6d4f2d8911b4b69 1x" loading="lazy"></a><br>
メニューのVRChat SDKからShow Build Control Panelを押します。<br>
まずはSetup Layers for VRChatを押します。<br>
<a href="https://camo.qiitausercontent.com/d759bcf61a3b8be92ffc39b0207ba2d2ec862a52/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f66376331643364632d653662302d323563622d363833612d3433336661313834343833302e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Ff7c1d3dc-e6b0-25cb-683a-433fa1844830.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=00ff48204b8e91f14473a794028564ab" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/f7c1d3dc-e6b0-25cb-683a-433fa1844830.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Ff7c1d3dc-e6b0-25cb-683a-433fa1844830.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=06d166ea8c2478cac047bcdabe22f305 1x" loading="lazy"></a><br>
Do it!<br>
<a href="https://camo.qiitausercontent.com/12bd0fc96f7ba936d2321e17ead8e0fb21ebea70/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f62366632633765372d616335332d656537362d343239622d6464306235343032663030302e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fb6f2c7e7-ac53-ee76-429b-dd0b5402f000.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=b4ce696ea6c8bb8bbd1960486a906396" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/b6f2c7e7-ac53-ee76-429b-dd0b5402f000.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fb6f2c7e7-ac53-ee76-429b-dd0b5402f000.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=8ba5e7d0e9932bff1d3f9c0e25879c48 1x" loading="lazy"></a><br>
続いてSetup Collision Layer Matrix for VRChatを押します。<br>
<a href="https://camo.qiitausercontent.com/f8841b62f53cdcc4b1acb9fdf711bab94084b74b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f66333237386463632d636236322d653765382d656635352d6431346333306164316666362e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Ff3278dcc-cb62-e7e8-ef55-d14c30ad1ff6.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=5dafdeec5a2d71efe7daeab2967a22cc" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/f3278dcc-cb62-e7e8-ef55-d14c30ad1ff6.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Ff3278dcc-cb62-e7e8-ef55-d14c30ad1ff6.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=7ed3dbc5d3598fa0c6cbdd0a12dc9e80 1x" loading="lazy"></a><br>
Do it !!!!<br>
<a href="https://camo.qiitausercontent.com/0ef845b6ff9b08bb68156e3f679645b43aaff922/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f36656531333966372d316430642d343238642d623231312d6664343666386238326166372e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F6ee139f7-1d0d-428d-b211-fd46f8b82af7.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=6ae7f84216d8aa9394dbc5c29f7d9b32" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/6ee139f7-1d0d-428d-b211-fd46f8b82af7.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F6ee139f7-1d0d-428d-b211-fd46f8b82af7.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=c30c41e86d74ea1375be4682c7436e05 1x" loading="lazy"></a><br>
ついでにEnable 3D spatialization on all 3D AudioSources in scene nowも押します<br>
<a href="https://camo.qiitausercontent.com/24c14715d17a8b55c10eff2d94c58db996f7e2ef/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f32633939396532652d393432632d383364322d666662302d3336356634373736663766342e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F2c999e2e-942c-83d2-ffb0-365f4776f7f4.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=ab6c7d52c5296cd3e6e210663044f49f" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/2c999e2e-942c-83d2-ffb0-365f4776f7f4.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F2c999e2e-942c-83d2-ffb0-365f4776f7f4.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=c7a5599e17e428ee0ff39c33fd4a0b17 1x" loading="lazy"></a><br>
Do it!!!!<br>
<a href="https://camo.qiitausercontent.com/5a8ed2287b3034e8d9b41b2fc4c0a88986542dbc/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f31376466353963342d636433642d613761372d366665362d3533316437353134666563302e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F17df59c4-cd3d-a7a7-6fe6-531d7514fec0.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=8a9913972033b8b6027fead6eae8f02f" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/17df59c4-cd3d-a7a7-6fe6-531d7514fec0.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F17df59c4-cd3d-a7a7-6fe6-531d7514fec0.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=79bedbd0e27526a43b6b32cd62ba982a 1x" loading="lazy"></a><br>
Canvasを選択し、LayerをDefaultに変えます。<br>
<a href="https://camo.qiitausercontent.com/8318ce2da8d0225abd9c96497fe881236ac0a82a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f31363830663463312d373230632d656164312d393638372d3961323534636131313532382e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F1680f4c1-720c-ead1-9687-9a254ca11528.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=f59afaa8af8e43610c36a9c23518b25c" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/1680f4c1-720c-ead1-9687-9a254ca11528.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F1680f4c1-720c-ead1-9687-9a254ca11528.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=9e87c6fe34d2c8a170e16f571bfcaa19 1x" loading="lazy"></a><br>
Yes, change children</p>

<p><a href="https://camo.qiitausercontent.com/49fe823a90c9e559886a13a5a119188172b3558e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f63636639396566322d353561392d396363322d323037392d6363313139333066343237662e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fccf99ef2-55a9-9cc2-2079-cc11930f427f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=5b518e5ed959b461758196e531817418" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/ccf99ef2-55a9-9cc2-2079-cc11930f427f.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fccf99ef2-55a9-9cc2-2079-cc11930f427f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=7627d6a0616ab4a602ad0c10cc8260ac 1x" loading="lazy"></a><br>
以上でワールド作成完了です。<br>
TestのNew Buildを押して、VRChat起動させてきちんとワールド読み込まれるか確認してください。<br>
<a href="https://camo.qiitausercontent.com/d7f7a184cd3a19004b65ed46751b2eb9a0db26ff/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f65633837343262352d646165392d353436312d666335612d3964666134313834616138342e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fec8742b5-dae9-5461-fc5a-9dfa4184aa84.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=a9dee741024d5654fb6ceada3a51eb9c" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/ec8742b5-dae9-5461-fc5a-9dfa4184aa84.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fec8742b5-dae9-5461-fc5a-9dfa4184aa84.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=119be19053e26c72b4966c0e35336bd2 1x" loading="lazy"></a></p>

<h1>
<span id="中継httpサーバーを作成する" class="fragment"></span><a href="#%E4%B8%AD%E7%B6%99http%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>中継HTTPサーバーを作成する</h1>

<p>Visual Studio 2017と.NET Framework 4.7.1が必要です。</p>

<p>まずは中継サーバーのプログラムをダウンロードします。<br>
<a href="https://github.com/sh-akira/VRC_Panorama_TCP_Repeater" rel="nofollow noopener" target="_blank">VRC_Panorama_TCP_Repeater</a>を開きます。<br>
<a href="https://camo.qiitausercontent.com/60026774b8aa517442a95a109a1c8ed81af5b4c0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f62376562653338612d346533372d333264322d373831312d3261363862373861393265642e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fb7ebe38a-4e37-32d2-7811-2a68b78a92ed.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=0ca26b0262069695393959fc3a38a3b2" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/b7ebe38a-4e37-32d2-7811-2a68b78a92ed.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fb7ebe38a-4e37-32d2-7811-2a68b78a92ed.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=4de17fd3f3c5471d07503aad4453667b 1x" loading="lazy"></a><br>
緑色のClone or downloadからDownload ZIPを押してダウンロードされるzipを解凍してください。<br>
解凍したら中に入っているVRC_Panorama_TCP_Repeater.slnを開きます。<br>
<a href="https://camo.qiitausercontent.com/27e7f103fa67bfb856d9d6b27f709c1364489209/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f65373264643063622d376431652d336561332d633937312d3139393661316432336162642e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fe72dd0cb-7d1e-3ea3-c971-1996a1d23abd.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=4285a2a92eb6e6c0ae53c3ee9ad6f0ad" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/e72dd0cb-7d1e-3ea3-c971-1996a1d23abd.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fe72dd0cb-7d1e-3ea3-c971-1996a1d23abd.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=88a70ae0133c98759b43c78097d69a55 1x" loading="lazy"></a><br>
そのまま▶開始ボタンを押せば実行できます。<br>
<a href="https://camo.qiitausercontent.com/820a94bbb040c69858517c5ea959e824226520e7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f62306265353336662d643632312d656666372d376230302d6565323930613863643038322e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fb0be536f-d621-eff7-7b00-ee290a8cd082.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=3da3f7ac9f14867c676739e15b9c07fb" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/b0be536f-d621-eff7-7b00-ee290a8cd082.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fb0be536f-d621-eff7-7b00-ee290a8cd082.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=787263ec677ce0316eb7a9a3602c8245 1x" loading="lazy"></a><br>
画面が表示されるので開始ボタンを押してください。<br>
<a href="https://camo.qiitausercontent.com/0dbaf44e79d274d0f4ce7e5b8189fba8d03ae22a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f36616231343133322d666130372d616439372d613936372d3039363763326233356131342e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F6ab14132-fa07-ad97-a967-0967c2b35a14.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=977c7bae38a39084529ac9c548e390e3" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/6ab14132-fa07-ad97-a967-0967c2b35a14.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F6ab14132-fa07-ad97-a967-0967c2b35a14.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=61ee19bf05a3ee2bd18001edee21e51a 1x" loading="lazy"></a><br>
初回はファイアウォール警告が出ますのでチェックを入れてアクセスを許可するを押してください。</p>

<p>これだけで準備は完了です。<br>
次回からはVisualStudioを立ち上げなくても、VRC_Panorama_TCP_Repeater-master\VRC_Panorama_TCP_Repeater\bin\DebugフォルダのVRC_Panorama_TCP_Repeater.exeを直接実行出来ます。</p>

<p>少しコードの解説をします。</p>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">MainWindow.xaml.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">if</span> <span class="p">(</span><span class="n">path</span><span class="p">.</span><span class="nf">StartsWith</span><span class="p">(</span><span class="s">"?"</span><span class="p">))</span><span class="c1">// ?で始まる時はコマンドとして処理する</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">command</span> <span class="p">=</span> <span class="n">path</span><span class="p">.</span><span class="nf">Substring</span><span class="p">(</span><span class="m">1</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">command</span> <span class="p">==</span> <span class="s">"TRIGGER"</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">isFirstTrigger</span><span class="p">)</span> <span class="c1">//初回のTriggerはワールドに入ったときに自動的に発動する</span>
        <span class="p">{</span>
            <span class="n">isFirstTrigger</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
            <span class="nf">Log</span><span class="p">(</span><span class="s">"ワールドに入りました"</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span>
        <span class="p">{</span>
            <span class="nf">Log</span><span class="p">(</span><span class="s">"TRIGGERコマンド受信"</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">t</span> <span class="p">=</span> <span class="nf">SendCommandToESP8266Async</span><span class="p">(</span><span class="s">"GPIOSW"</span><span class="p">);</span> <span class="c1">//処理に時間がかかる場合があるのでawaitせずに実行</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="c1">//コマンド受信時はわざとエラーを返すことで、VRC_Panoramaが再度接続してくるようにする。</span>
    <span class="nf">Log</span><span class="p">(</span><span class="s">$"</span><span class="p">{</span><span class="n">client</span><span class="p">.</span><span class="n">Client</span><span class="p">.</span><span class="n">RemoteEndPoint</span><span class="p">}</span><span class="s">,404,</span><span class="p">{</span><span class="n">path</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>
    <span class="n">writer</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">enc</span><span class="p">.</span><span class="nf">GetBytes</span><span class="p">(</span><span class="s">"HTTP/1.0 404 Not Found\r\n"</span><span class="p">));</span>
    <span class="n">writer</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">enc</span><span class="p">.</span><span class="nf">GetBytes</span><span class="p">(</span><span class="s">"Content-Type: text/plain\r\n"</span><span class="p">));</span>
    <span class="n">writer</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">enc</span><span class="p">.</span><span class="nf">GetBytes</span><span class="p">(</span><span class="s">"\r\n"</span><span class="p">));</span>
    <span class="n">writer</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">enc</span><span class="p">.</span><span class="nf">GetBytes</span><span class="p">(</span><span class="s">"File Not Found\r\n"</span><span class="p">));</span>
    <span class="n">writer</span><span class="p">.</span><span class="nf">Flush</span><span class="p">();</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>この部分で、先ほど設定したVRC_Panoramaの通信を処理しています。<br>
VRC_Panoramaでは<code>http://localhost:61221/?TRIGGER</code>というアドレスを設定しましたが、<br>
最初の行のpathには<code>?TRIGGER</code>が入るようになっていますので、先頭文字が?だった場合コマンドとして処理します。<br>
そしてコマンドがTRIGGERだった場合に<br>
初回はワールドに入ったときなので無視<br>
2回目以降はESP8266に向かってGPIOSWコマンドを送るようになっています。<br>
これでVRC_Panorama-&gt;このアプリ-&gt;ESP8266の中継を行います。<br>
そして処理した後、404エラーを返しています。このようにすることでVRC_Panoramaにはテクスチャが設定されず、<br>
次回以降も再度問い合わせてくれます(一度テクスチャを読み込めると二度と読み込まない)<br>
ここは404である必要はありません。200でも、テクスチャになる画像を返さなければ良いです。<br>
例えばVRC_Panoramaだけでなく別のアプリからも同じようにトリガーしたいのであれば、404ではなく200にしてOK等の<br>
文字列を返す方が親切かと思います。</p>

<p>この部分を改造して好きなコマンドを実装すれば、VRC_Panoramaから好きなように通信を受けて何かを実行できます。</p>

<p>また、?以外が来たとき、例えば<code>http://localhost:61221/image.png</code>等の通常のURLアクセスを行った場合は<br>
exeと同じフォルダにあるwwwフォルダの中身を返すようになっていますので、www/image.png等を置けば<br>
VRC_Panoramaに普通にテクスチャ画像を返すことも可能です。</p>

<h1>
<span id="esp8266esp-wroom-02のプログラムを用意する" class="fragment"></span><a href="#esp8266esp-wroom-02%E3%81%AE%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0%E3%82%92%E7%94%A8%E6%84%8F%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>ESP8266(ESP-WROOM-02)のプログラムを用意する</h1>

<p>今回は自作のESP-WROOM-02ボードを使用していますが、どんなボードでも構いません。<br>
IO13ピンに付けたLEDを光らせるプログラムを作成します。<br>
ESP-WROOM-02自体の設定や書き込み方法はボードによって異なる場合があるので、各自調べてください。<br>
Arduino IDEで書き込みます。</p>

<p>早速プログラムを紹介します。</p>

<div class="code-frame" data-lang="cpp">
<div class="code-lang"><span class="bold">main.ino</span></div>
<div class="highlight"><pre class="with-code"><code><span class="cp">#include &lt;ESP8266WiFi.h&gt;
</span>
<span class="k">const</span> <span class="kt">char</span> <span class="n">ssid</span><span class="p">[]</span> <span class="o">=</span> <span class="s">"ssid"</span><span class="p">;</span> <span class="c1">//接続先Wi-FiのSSIDを入れる</span>
<span class="k">const</span> <span class="kt">char</span> <span class="n">password</span><span class="p">[]</span> <span class="o">=</span> <span class="s">"pass"</span><span class="p">;</span> <span class="c1">//接続先Wi-Fiのパスワードを入れる</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">SW</span> <span class="o">=</span> <span class="mi">13</span><span class="p">;</span> <span class="c1">//出力するIOピン</span>

<span class="c1">//固定IPアドレス(環境ごとに変えてください)</span>
<span class="n">IPAddress</span> <span class="nf">ip</span><span class="p">(</span><span class="mi">192</span><span class="p">,</span><span class="mi">168</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">200</span><span class="p">);</span>
<span class="n">IPAddress</span> <span class="nf">gateway</span><span class="p">(</span><span class="mi">192</span><span class="p">,</span><span class="mi">168</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="n">IPAddress</span> <span class="nf">subnet</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>

<span class="n">WiFiServer</span> <span class="nf">server</span><span class="p">(</span><span class="mi">9999</span><span class="p">);</span>  <span class="c1">//ポート番号</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">115200</span><span class="p">);</span>
  <span class="n">pinMode</span><span class="p">(</span><span class="n">SW</span><span class="p">,</span> <span class="n">OUTPUT</span><span class="p">);</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">"Booting..."</span><span class="p">);</span>
  <span class="n">WiFi</span><span class="p">.</span><span class="n">config</span><span class="p">(</span><span class="n">ip</span><span class="p">,</span> <span class="n">gateway</span><span class="p">,</span> <span class="n">subnet</span><span class="p">);</span>
  <span class="n">WiFi</span><span class="p">.</span><span class="n">mode</span><span class="p">(</span><span class="n">WIFI_STA</span><span class="p">);</span>
  <span class="n">WiFi</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="n">ssid</span><span class="p">,</span> <span class="n">password</span><span class="p">);</span>
  <span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>

  <span class="kt">int</span> <span class="n">retrycnt</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">while</span><span class="p">(</span><span class="n">WiFi</span><span class="p">.</span><span class="n">waitForConnectResult</span><span class="p">()</span> <span class="o">!=</span> <span class="n">WL_CONNECTED</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">"."</span><span class="p">);</span>
    <span class="n">delay</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span><span class="n">retrycnt</span><span class="o">++</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">ESP</span><span class="p">.</span><span class="n">restart</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">"Connect Success"</span><span class="p">);</span>

  <span class="c1">//Portのlistenを開始</span>
  <span class="n">server</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">"Start Server"</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">String</span> <span class="n">cmd</span> <span class="o">=</span> <span class="n">ReceiveCommand</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">cmd</span> <span class="o">==</span> <span class="s">"GPIOSW"</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">digitalWrite</span><span class="p">(</span><span class="n">SW</span><span class="p">,</span> <span class="n">HIGH</span><span class="p">);</span>
    <span class="n">delay</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span> <span class="c1">//100ms wait</span>
    <span class="n">digitalWrite</span><span class="p">(</span><span class="n">SW</span><span class="p">,</span> <span class="n">LOW</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">String</span> <span class="nf">ReceiveCommand</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">WiFiClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">server</span><span class="p">.</span><span class="n">available</span><span class="p">();</span>
  <span class="n">String</span> <span class="n">ret</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">connected</span><span class="p">())</span> <span class="p">{</span>
    <span class="c1">//コマンド受信（来なければタイムアウト</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">readStringUntil</span><span class="p">(</span><span class="sc">'\r'</span><span class="p">);</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">"Receive:"</span><span class="p">);</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">ret</span><span class="p">);</span>
    <span class="c1">//返答する</span>
    <span class="n">client</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">"OK</span><span class="se">\r</span><span class="s">"</span><span class="p">);</span>
    <span class="c1">//接続をクローズ</span>
    <span class="n">client</span><span class="p">.</span><span class="n">stop</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">ret</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>各自自分のWi-FiルーターのSSIDとパスワード、固定するためのIPアドレスを書き換えてください。</p>

<p><a href="https://camo.qiitausercontent.com/b3de9754738174ef35b441ea0c372b685a91e4b3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f33623966663362342d306638392d313238392d396534312d6665313937326538366435342e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F3b9ff3b4-0f89-1289-9e41-fe1972e86d54.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=6f23e9ed49b59062ca78c5b12010d0d8" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/3b9ff3b4-0f89-1289-9e41-fe1972e86d54.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F3b9ff3b4-0f89-1289-9e41-fe1972e86d54.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=fd1d6207422782a26710f8d87476e0ed 1x" loading="lazy"></a><br>
参考にテスト時の書き込み設定です。</p>

<p><a href="https://camo.qiitausercontent.com/083b638213d5af092bb0a563aba8419a98955024/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f62353935333735392d653161352d383636612d643931342d3334306138636637306164652e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fb5953759-e1a5-866a-d914-340a8cf70ade.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=be805221acdcb040cc189d7ed6f5f23f" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/b5953759-e1a5-866a-d914-340a8cf70ade.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fb5953759-e1a5-866a-d914-340a8cf70ade.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=25f7a86c47182fd03960ca4d903d7258 1x" loading="lazy"></a><br>
最低限動作に必要な参考回路図を置いておきます。</p>

<h1>
<span id="実際に動かしてみる" class="fragment"></span><a href="#%E5%AE%9F%E9%9A%9B%E3%81%AB%E5%8B%95%E3%81%8B%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B"><i class="fa fa-link"></i></a>実際に動かしてみる</h1>

<ol>
<li>ESP-WROOM-02の電源を入れます<br>
</li>
<li>VRC_Panorama_TCP_Repeater.exeを実行して、開始ボタンを押します。<br>
</li>
<li>クライアント設定(ESP8266側)のサーバーIPにESP8266に設定したIPアドレスを入れてください。<br>
<a href="https://camo.qiitausercontent.com/ce9511f9c460d6fd19639236a37b67e204ad7fdc/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f65373639316432302d303362322d633934622d393336322d3935653631336133306633362e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fe7691d20-03b2-c94b-9362-95e613a30f36.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=30987f35d29c8d8d5f5ac597e1154867" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/e7691d20-03b2-c94b-9362-95e613a30f36.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fe7691d20-03b2-c94b-9362-95e613a30f36.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=f9e9266a266db492d29a9c4919324f40 1x" loading="lazy"></a>
</li>
<li>作成したVRChatのワールドに入ります(New Buildを押します)<br>
</li>
<li>VRC_Panorama_TCP_Repeaterにワールドに入りましたとログが出ることを確認します。<br>
<a href="https://camo.qiitausercontent.com/0315d8191a297d7957bbffd2f1ed4db5bc5f9596/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f39363934353332372d343064622d663130662d633466382d6137393438303038386536622e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F96945327-40db-f10f-c4f8-a79480088e6b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=db1e424872d199867b5d10fc8eba3777" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/96945327-40db-f10f-c4f8-a79480088e6b.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F96945327-40db-f10f-c4f8-a79480088e6b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=7afb09677e5bdd0ae9549bbc68680727 1x" loading="lazy"></a>
</li>
<li>ワールド内のCubeでトリガーを引きます。<br>
<a href="https://camo.qiitausercontent.com/07de7f449c91cb52d68a4dfc0e69154bbc729d71/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f64663034313533652d346235382d323731302d653765392d3563613835343861373835662e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fdf04153e-4b58-2710-e7e9-5ca8548a785f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=30cbe6306046f000967a6e0abc7a05ad" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/105690/df04153e-4b58-2710-e7e9-5ca8548a785f.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fdf04153e-4b58-2710-e7e9-5ca8548a785f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=a1f32b35a0f704dfdf975b323b0985d4 1x" loading="lazy"></a>
</li>
<li>トリガーを引くたびに、画面のログにTRIGGERコマンド受信と、OKが返ってきて、LEDが光ることを確認します。<br>
※OKではなくエラーが返ってくる場合はESP8266との通信に失敗しています。Arduinoターミナルでログを確認してください。</li>
</ol>

<p>無事LEDが押すたびに点灯すれば完成です。</p>

<h1>
<span id="謝辞" class="fragment"></span><a href="#%E8%AC%9D%E8%BE%9E"><i class="fa fa-link"></i></a>謝辞</h1>

<p>AnimatorControllerやAnimationの設定方法について、<a href="https://twitter.com/gatosyocora" rel="nofollow noopener" target="_blank">がとーしょこら</a>さんに教えていただきました。<br>
ありがとうございました。</p>

<h1>
<span id="おわり" class="fragment"></span><a href="#%E3%81%8A%E3%82%8F%E3%82%8A"><i class="fa fa-link"></i></a>おわり</h1>

<p>VRChatの何かしらのトリガーをローカルで受け取ることが出来るようになりました。これで外部のLEDだけでなく、VRChat外で何かをするアプリケーションや、<br>
例えばワールド内の扇風機のスイッチを押したらリアルの扇風機を動かす装置なんかを作ることも出来ると思います。<br>
使い方色々、面白い使い方待ってます。</p>

<p>今回のVRChatから外部の装置のスイッチを入れる仕組みを使った放送が明日行われます。<br>
</p><blockquote class="twitter-tweet">
<p>【史上初！失禁実況系Vtuber登場！】<br>まず、フィオが<a href="https://twitter.com/faruco10032?ref_src=twsrc%5Etfw" rel="nofollow noopener" target="_blank">@faruco10032</a> さんの「失禁体験装置」を装着します。視聴者さんがLiveコメントで「尿意」と打ちます。すると「尿意オブジェクト」が降り注ぎます。徐々に尿意が高まり、限界を超えると装置が起動。<br>そういう配信をするなのだ！クリスマス前だしね。 <a href="https://t.co/ZRLAPLDgtz" rel="nofollow noopener" target="_blank">pic.twitter.com/ZRLAPLDgtz</a></p>— 動く城のフィオ⚙仮想空間興行師⚙ (@phio_alchemist) <a href="https://twitter.com/phio_alchemist/status/1069175241660805120?ref_src=twsrc%5Etfw" rel="nofollow noopener" target="_blank">2018年12月2日</a>
</blockquote><br>
<script async src="https://platform.twitter.com/widgets.js"></script><br>
是非ご覧ください。

<p>それでは。</p>

<p>明日は、<a href="https://twitter.com/sunasaji" rel="nofollow noopener" target="_blank">suna(@sunasaji)</a>さんによる記事です。</p>

<p><a href="https://qiita.com/advent-calendar/2018/vrchat">VRChat Advent Calendar 2018</a></p>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2Fsh_akira%2Fitems%2F3ed79ce23fade2d3831d&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2Fsh_akira%2Fitems%2F3ed79ce23fade2d3831d&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/sh_akira/items/3ed79ce23fade2d3831d/likers" class="css-1iupg5d">34</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">18</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/3ed79ce23fade2d3831d/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/sh_akira/items/3ed79ce23fade2d3831d/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/sh_akira/items/3ed79ce23fade2d3831d/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/sh_akira/items/3ed79ce23fade2d3831d/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/sh_akira/items/3ed79ce23fade2d3831d.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-a4fab804-c4e5-4f48-82aa-066b1717845a">{"authorAnalyticsTrackingId":null,"organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-40d1ac75-a7a7-4792-87b1-51e6c92baaf9"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-40d1ac75-a7a7-4792-87b1-51e6c92baaf9">{}</script>
      
<div id="LoginModal-react-component-b716563f-4bc5-40e8-8aa2-e8c9fa74cb11"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-b716563f-4bc5-40e8-8aa2-e8c9fa74cb11">{}</script>
      
<div id="StockModal-react-component-537bd71c-e4da-439e-940a-102cc413e875"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-537bd71c-e4da-439e-940a-102cc413e875">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;WNfbTxJb4HYRfTVCmBaT5FL/6gL7QzQ/YlStH5SSG0wnb4DZT66zcJ5aEnl2+LEduj9UGTihMXnNKryBaRu5OA==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\n\u003ch1\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\n\u003cp\u003eこの記事は\u003ca href=\"https://qiita.com/advent-calendar/2018/vrchat\"\u003eVRChat Advent Calendar 2018\u003c/a\u003eの20日目の記事です\u003cbr\u003e\n昨日の記事は\u003ca href=\"https://twitter.com/y23586\" rel=\"nofollow noopener\" target=\"_blank\"\u003eヨツミフレーム(@y23586)\u003c/a\u003eさんによる、\u003ca href=\"https://y23586.net/2018/12/18/630/\" rel=\"nofollow noopener\" target=\"_blank\"\u003e仮想世界のつながり：VRChatにおけるソーシャルネットワークの可視化\u003c/a\u003eです。\u003c/p\u003e\n\n\u003cp\u003eこんにちは。あきら(\u003ca href=\"https://twitter.com/sh_akira\" rel=\"nofollow noopener\" target=\"_blank\"\u003e@sh_akira\u003c/a\u003e, VRC:sh_akira)です。\u003cbr\u003e\n普段は\u003ca href=\"https://sh-akira.github.io/VirtualMotionCapture/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eバーチャルモーションキャプチャー\u003c/a\u003eというVRMモデルを操作するアプリを作っています。\u003c/p\u003e\n\n\u003cp\u003e今回はVRChatのトリガーをVRC_Panorama経由でローカルHTTPサーバーで受ける方法と、その使用例としてさらに外部のESP-WROOM-02にTCP接続して、\u003cbr\u003e\nVRChat内でトリガーを引くと、外のLEDが付く仕組みを作ってみます。\u003c/p\u003e\n\n\u003cp\u003e記事中のソースコードはパブリックドメインです。プラグインやGitHubのコード等については各ライセンスに従ってください。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"完成品\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%8C%E6%88%90%E5%93%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e完成品\u003c/h1\u003e\n\n\u003cblockquote class=\"twitter-tweet\"\u003e\n\u003cp\u003eVRChatアドカレ20日目、完成品(埋め込み用) \u003ca href=\"https://t.co/nzRBOXSxCW\" rel=\"nofollow noopener\" target=\"_blank\"\u003epic.twitter.com/nzRBOXSxCW\u003c/a\u003e\u003c/p\u003e— 🗾あきら☎︎＠VMC0.21 (@sh_akira) \u003ca href=\"https://twitter.com/sh_akira/status/1075507384242528256?ref_src=twsrc%5Etfw\" rel=\"nofollow noopener\" target=\"_blank\"\u003e2018年12月19日\u003c/a\u003e\n\u003c/blockquote\u003e\n\n\u003cscript async src=\"https://platform.twitter.com/widgets.js\"\u003e\u003c/script\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"vrchatのワールドを作る\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#vrchat%E3%81%AE%E3%83%AF%E3%83%BC%E3%83%AB%E3%83%89%E3%82%92%E4%BD%9C%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eVRChatのワールドを作る\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"最低限必要な設定だけしたワールドを作る\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9C%80%E4%BD%8E%E9%99%90%E5%BF%85%E8%A6%81%E3%81%AA%E8%A8%AD%E5%AE%9A%E3%81%A0%E3%81%91%E3%81%97%E3%81%9F%E3%83%AF%E3%83%BC%E3%83%AB%E3%83%89%E3%82%92%E4%BD%9C%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e最低限必要な設定だけしたワールドを作る\u003c/h2\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/9947d60a8499245b1a7bd73f38e0ee3cbe9e0507/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f32666231336165382d316661632d323066652d633732382d3831643338383862643862612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F2fb13ae8-1fac-20fe-c728-81d3888bd8ba.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=f7accf603f46588ceb106b697de5e7d9\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/2fb13ae8-1fac-20fe-c728-81d3888bd8ba.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F2fb13ae8-1fac-20fe-c728-81d3888bd8ba.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=6dcfb69f6bdf358f09c3b3112fc48c6e 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nまずはUnity 2017.4.15f1で新規プロジェクトを作ります。Untitledシーンを適当な名前(PanoramaRepeater)で保存します。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/2f2db25300b72bbd7b4f5fe457f2ef45ea39dbe2/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f36613632613033612d323866362d386634312d656231652d3430333739323338313936662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F6a62a03a-28f6-8f41-eb1e-40379238196f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d222cc4e5604dd0c695274cd41d2f322\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/6a62a03a-28f6-8f41-eb1e-40379238196f.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F6a62a03a-28f6-8f41-eb1e-40379238196f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=d0fa7b1643e1fe2ba45ae809b80a6478 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nまずはメニューのAssets-\u0026gt;Import-\u0026gt;Custom PackageからVRCSDKをインポートします。\u003cbr\u003e\n執筆時のパッケージはVRCSDK-2018.12.04.10.25_Public.unitypackageです\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/84e1840b7bdb1e7b9a6c2ae26aed2513cf890259/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f62353132633862302d643564662d353062632d346231372d3865303837373437333564652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fb512c8b0-d5df-50bc-4b17-8e08774735de.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=269cc11be690acbc956052cb152f7921\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/b512c8b0-d5df-50bc-4b17-8e08774735de.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fb512c8b0-d5df-50bc-4b17-8e08774735de.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=23707180ef2269ac9cb64978a0b654fc 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n床が無いのでとりあえずPlaneを置きます。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/540e7b625482a46eef271f6ece8a1ddc1dd7e0a0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f36323730393830322d633062632d386637302d333232332d6236396337373364346331372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F62709802-c0bc-8f70-3223-b69c773d4c17.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=667bccb53b6c10648d59c7e5cca8a74e\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/62709802-c0bc-8f70-3223-b69c773d4c17.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F62709802-c0bc-8f70-3223-b69c773d4c17.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=d132945c20d9b1cffc9a6dfc12eb7de4 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n空のゲームオブジェクトを置いて、VRCPanoramaと名前を付けておきます。\u003cbr\u003e\nここにInspectorのAdd Componentからスクリプトを追加してください。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eVRC_Panorama (追加すると勝手にVRC_DataStorageも入る)\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/f4a40b17c8b963c9164c984d79607c7c1812e77c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f62643331633232632d333433322d326633382d396464642d6563323036633239323936312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fbd31c22c-3432-2f38-9ddd-ec206c292961.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=23294f0f4108d831f382696f8feb03f8\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/bd31c22c-3432-2f38-9ddd-ec206c292961.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fbd31c22c-3432-2f38-9ddd-ec206c292961.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=75e5507d3bc260e169940d5ecba53d8a 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nVRC_PanoramaのPanoramasのSizeを2にしてそれぞれUrlに\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"http://localhost:61221/?TRIGGER\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://localhost:61221/?TRIGGER\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"http://localhost:61221/?TRIGGER\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://localhost:61221/?TRIGGER\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eと同じものを二つ入れておきます。\u003cbr\u003e\nVRC_DataStorageのDataを開きSizeを1にして、displayと入れて右側のNoneをIntにします。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/a0a2ce1a625124d6778bfe8a399e96c089704395/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f63313539363132382d303436382d626461612d313963642d6163333238653730623162392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fc1596128-0468-bdaa-19cd-ac328e70b1b9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ff93382f07fe0291834c26164038d7d8\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/c1596128-0468-bdaa-19cd-ac328e70b1b9.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fc1596128-0468-bdaa-19cd-ac328e70b1b9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=96b2462c67195d10363f8771a0954bc8 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nシーンにUIのButtonを追加します。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/6b9f6a5595489886239f7c7f773865952ef6aaec/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f61633733316561372d626364362d316134622d363437362d6539343766623265346138352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fac731ea7-bcd6-1a4b-6476-e947fb2e4a85.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=12f85828f1a68b7fd17e0d39f996edec\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/ac731ea7-bcd6-1a4b-6476-e947fb2e4a85.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fac731ea7-bcd6-1a4b-6476-e947fb2e4a85.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=b1ff9b2de69e6bb7f0068f4e56698a85 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n表示はいらないのでButtonのRect TransformのPos X, PosY, Width, Heightをそれぞれ0にしてしまいます。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/a9b2954c5ba1eeeff604910c5e30b150a7700793/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f33313539626630642d656432342d336636312d623864352d6164653364663031613630332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F3159bf0d-ed24-3f61-b8d5-ade3df01a603.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=06cd0ade95c737a9367993bb095ef6ff\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/3159bf0d-ed24-3f61-b8d5-ade3df01a603.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F3159bf0d-ed24-3f61-b8d5-ade3df01a603.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=4f7ab95640585d58c0c384f1b5563ad8 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nButton追加時に自動で追加されたCanvasのRender ModeをWorld Spaceにして、こちらもPos X, PosY, Width, Heightをそれぞれ0にしてしまいます。\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003eそのままボタンとして置きたい場合は、CanvasにVRC_Ui Shapeをアタッチして、ボタンを自由にレイアウトしてください\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/b8d3b55990d823a975be939afc5096b733b7f605/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f64376530336532652d386135622d396464322d396331332d3834376133313565346633362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fd7e03e2e-8a5b-9dd2-9c13-847a315e4f36.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=1e2d33d6b35b5b9c11854b3c0dc9bc3b\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/d7e03e2e-8a5b-9dd2-9c13-847a315e4f36.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fd7e03e2e-8a5b-9dd2-9c13-847a315e4f36.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=bd307a15fe39745358477ba496ceb59a 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n次にButtonをVRC_Triggerから押すためのAnimationを作ります。\u003cbr\u003e\nAnimatorControllerとAnimationを新規作成します、それぞれButtonPressAnimatorControllerとButtonPressAnimationと名付けました。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/fa482d2dcac87f64a78bf20f8cedd75f0c44d4f7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f62626139386439312d313030372d373961332d343663302d6231303737336633633137642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fbba98d91-1007-79a3-46c0-b10773f3c17d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=35c4b4d758a48a806d34e4b634d70f89\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/bba98d91-1007-79a3-46c0-b10773f3c17d.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fbba98d91-1007-79a3-46c0-b10773f3c17d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=3b2aba6200e4389098632c68eea3b922 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nWindowメニューからAnimationを選んでAnimationウィンドウを開きます。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/5e41471aaee51d210e9e763ce352cdd2e250c1a1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f36343562636634612d646465622d366531322d363638392d3833653138646232613761392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F645bcf4a-ddeb-6e12-6689-83e18db2a7a9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c43310b9820aef5192c077c68aac447f\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/645bcf4a-ddeb-6e12-6689-83e18db2a7a9.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F645bcf4a-ddeb-6e12-6689-83e18db2a7a9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=004eace15d96b8cd9a62189c869de32e 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/5ac66e5ecd3da260f0f7285c0076e24b91709fa8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f30616637343333382d303364352d303461392d653165342d6437653465383037323365622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F0af74338-03d5-04a9-e1e4-d7e4e80723eb.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c8844dd821882f54837e90a32071eae1\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/0af74338-03d5-04a9-e1e4-d7e4e80723eb.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F0af74338-03d5-04a9-e1e4-d7e4e80723eb.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=dd2ccb3e0df882b76ee46c0d018364a7 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nAdd Eventボタンを押して、InspectorのAnimation EventのFunctionにPressと入れます。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/9774fda217241032af72341dbede4e95471d2da8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f66613231343432392d616264372d336638372d643033612d6631626231633764323563322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Ffa214429-abd7-3f87-d03a-f1bb1c7d25c2.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=aa0468c8d466cd29720c7bfa0ffc0f1f\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/fa214429-abd7-3f87-d03a-f1bb1c7d25c2.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Ffa214429-abd7-3f87-d03a-f1bb1c7d25c2.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e081539253031c5f4de4a38acd3e6cbe 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/dfb5fd0f636e789ca45e3026e820b261cc27a39d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f34396563613164612d646331342d303630352d383565302d6234616336653464336136662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F49eca1da-dc14-0605-85e0-b4ac6e4d3a6f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=87ad2cfeb732f3cd879f2c7a9ab3fc28\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/49eca1da-dc14-0605-85e0-b4ac6e4d3a6f.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F49eca1da-dc14-0605-85e0-b4ac6e4d3a6f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=2468457aad1f75338fbc3c0e6b184d57 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nフレーム番号に1を入れて隣のフレームに移動して、またAddEventを押し、今度は空のEventを作成します。何も入力する必要はありません。\u003cbr\u003e\nこれによってアニメーションがすぐに終了し、連打することが可能になります。\u003cbr\u003e\n0フレーム目のPressだけにすると、アニメーションに1秒かかり、1秒ごとにしか押せなくなります。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/c96269a68f3981950594472331d85726bf1a5bf7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f30366639316565652d336335642d633666322d353139372d3865613733633135643235322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F06f91eee-3c5d-c6f2-5197-8ea73c15d252.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=fde3b1d354738bb5e8b32a2f4b85f37e\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/06f91eee-3c5d-c6f2-5197-8ea73c15d252.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F06f91eee-3c5d-c6f2-5197-8ea73c15d252.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ccebc6f46b877b7cf94b69d13c46137f 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n次にメニューのWindowからAnimatorを選び、ProjectからButtonPressAnimatorControllerを選択します。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/cddc3c7fca9f05dd949a8dac0321c2b7ebaf7c09/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f33636233386361372d303061372d323063302d366432302d6266636639616137663931642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F3cb38ca7-00a7-20c0-6d20-bfcf9aa7f91d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=31a4637418e6f439cfcfc8747007812a\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/3cb38ca7-00a7-20c0-6d20-bfcf9aa7f91d.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F3cb38ca7-00a7-20c0-6d20-bfcf9aa7f91d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=cab355d38e827014b6c35c2d50453ff8 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n適当なところを右クリックして、Create StateからEmptyを選びます。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/5eccdfc5f939db50cab82727c7571afde4a30ae9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f36656663313863612d383038642d613662302d343039612d3366656163333732343639382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F6efc18ca-808d-a6b0-409a-3feac3724698.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b3520c5b8c836244a63318203e9cfe60\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/6efc18ca-808d-a6b0-409a-3feac3724698.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F6efc18ca-808d-a6b0-409a-3feac3724698.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=2499cec876386809268a6a1d3cb301b7 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nButtonPressAnimationをドラッグしてAnimatorに入れます\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/a00b1e3275dfaf34f068feb6c34ca1944b3645be/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f31383565333035322d346265382d306565632d646566632d6231663031323463396135322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F185e3052-4be8-0eec-defc-b1f0124c9a52.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=684efbe8edc1cef5750c98e81d3168cf\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/185e3052-4be8-0eec-defc-b1f0124c9a52.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F185e3052-4be8-0eec-defc-b1f0124c9a52.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=6e4023179709bc4a31082d15b39201dc 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nParameters内の＋ボタンからTriggerを選択します。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/69211d05f0ea246062ef261e9052b23f963c5663/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f37323661393630342d366134392d383136342d616264632d6130396565346231326539322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F726a9604-6a49-8164-abdc-a09ee4b12e92.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=f29fe189f21ece1213bd19900072c90b\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/726a9604-6a49-8164-abdc-a09ee4b12e92.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F726a9604-6a49-8164-abdc-a09ee4b12e92.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9f27d8ee4af9db0b0a71d9989d3698e3 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n名前を\u003ccode\u003eOneShot\u003c/code\u003eとします\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/aba659c21c3350717379ec2af5d22058b30fdca5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f31363438616165332d636563652d376263612d646465652d3665396536646363353730342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F1648aae3-cece-7bca-ddee-6e9e6dcc5704.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4878241560b244d4c038541478bf072c\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/1648aae3-cece-7bca-ddee-6e9e6dcc5704.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F1648aae3-cece-7bca-ddee-6e9e6dcc5704.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=d0218ca04fafc57def7a281dcd90c339 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nNew Stateを右クリックしてMake Transitionします。出てきた矢印はButtonPressAnimationをクリックしてくっつけてください。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/01271b730d5d110fbf60110cd123fdee4e0ce96b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f62613261363132622d646266322d356538622d646661632d3537326562343864393362662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fba2a612b-dbf2-5e8b-dfac-572eb48d93bf.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=63e4ca1d032275d5ea5e4d8eb2ce723a\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/ba2a612b-dbf2-5e8b-dfac-572eb48d93bf.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fba2a612b-dbf2-5e8b-dfac-572eb48d93bf.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=8369669061cc393fe047b9cda1b4053b 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n繋いだ矢印を選択して、InspectorのConditionの＋を押してOneShotを選択し、\u003cbr\u003e\nHas Exit Timeのチェックを外して、Settings内のTransition DurationとOffsetを0にします。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/a2804a6f1f25d5d07989708a00a34408b15e32e6/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f33316332393938332d353534342d633761662d356165392d3634636330303936373432322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F31c29983-5544-c7af-5ae9-64cc00967422.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=0291327c8b07e37546ddb47739049077\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/31c29983-5544-c7af-5ae9-64cc00967422.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F31c29983-5544-c7af-5ae9-64cc00967422.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=01e37feed580512db3860ce5c8423b94 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n同じように今度は逆方向にButtonPressAnimationからNew Stateに矢印を繋いで、\u003cbr\u003e\nSettingsの値を全て0にします。こちらはConditionsは空のままで良いです。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/ac4c4af23d7a141a8774db1a9d4b807208c26400/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f64303935663465652d333637612d326565352d366535612d3832313566373938353233632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fd095f4ee-367a-2ee5-6e5a-8215f798523c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=42518659064f6b25b0e97e41dcab8fc1\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/d095f4ee-367a-2ee5-6e5a-8215f798523c.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fd095f4ee-367a-2ee5-6e5a-8215f798523c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=539bd2d020ae6ec703594d08250f271c 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nButtonPressAnimatorControllerをButtonにドラッグして、ButtonにAnimatorを付けます。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/504accbbff04ac81098fcb53ee7545fc7a08f40a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f30616564373237372d363161642d386436352d356131322d3866396162306332373963312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F0aed7277-61ad-8d65-5a12-8f9ab0c279c1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=483166ae54e89fe5133e587bf5ef19c2\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/0aed7277-61ad-8d65-5a12-8f9ab0c279c1.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F0aed7277-61ad-8d65-5a12-8f9ab0c279c1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=af5dbf0311ad9036aa0c41f0056c6a13 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nVRC_TriggerをつけてボタンにするためのCubeを置きます。とりあえず位置はPos (0, 0.6, 0), Scale (0.3, 0.3, 0.3)にしました。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/fcbfe47595a91ee7c7340866441b94867a925ab2/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f38366463626233652d363961632d396537322d383031632d3931336462383662616536382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F86dcbb3e-69ac-9e72-801c-913db86bae68.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=32ceb8a40777a35ef6afc947aa453349\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/86dcbb3e-69ac-9e72-801c-913db86bae68.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F86dcbb3e-69ac-9e72-801c-913db86bae68.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=b70750ffa18b3320e5511de6727737ef 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nInspectorのAdd Componentからスクリプトを追加してください。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eVRC_Trigger (追加すると勝手にVRC_Event Handlerも入る)\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/6c5a51bff3838b590a0c2df9fc5d078a3e7b8564/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f61383936366530362d643331332d396462312d373861312d3534393835623565323235342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fa8966e06-d313-9db1-78a1-54985b5e2254.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=eadb6e162595341559fa4b6a298d3a50\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/a8966e06-d313-9db1-78a1-54985b5e2254.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fa8966e06-d313-9db1-78a1-54985b5e2254.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=94115b6dac70cf8a258335cdc1cd3624 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nVRC_TriggerのAdvancedModeにチェックを入れ、\u003ccode\u003eOnInteract\u003c/code\u003eを選択してAddを押します。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/efcf3ae173b5f453b474709d7da7f282968a8ea6/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f35386632393930342d366533372d313061362d323837362d6534663032316131366632372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F58f29904-6e37-10a6-2876-e4f021a16f27.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=de20cd4ed2e3d9bf230a42f64317615d\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/58f29904-6e37-10a6-2876-e4f021a16f27.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F58f29904-6e37-10a6-2876-e4f021a16f27.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=8001d217c668637b1276efa277ee87a6 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nAlwaysBufferOneをAlwaysにします。\u003cbr\u003e\n分かりやすいようにInteraction TextはGPIO SWにします。\u003cbr\u003e\nActionsの＋を押して、AnimationTriggerを選択します。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/5a4c869cc1372a14515d9ee96b54e26e3d7c8bfc/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f35633762306262662d343636652d356537612d393965352d3364646366653639633862322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F5c7b0bbf-466e-5e7a-99e5-3ddcfe69c8b2.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=49ebb01f2d32bfabd5d927f8b6a42857\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/5c7b0bbf-466e-5e7a-99e5-3ddcfe69c8b2.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F5c7b0bbf-466e-5e7a-99e5-3ddcfe69c8b2.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=95fe85c31a05abb4ee836589757bb21c 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nButtonをドラッグしてAnimatorが登録されるようにします。\u003cbr\u003e\nTriggerに先ほどAnimatorで設定したのと同じ名前のOneShotを入れます。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/7df415a15d34772d612bdfc2c4257efa1618fd7c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f39653966306639372d326234372d666130622d656136612d3435646230326662383630622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F9e9f0f97-2b47-fa0b-ea6a-45db02fb860b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=29b77fb999e13d5fc32586404e315373\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/9e9f0f97-2b47-fa0b-ea6a-45db02fb860b.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F9e9f0f97-2b47-fa0b-ea6a-45db02fb860b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=35d4209a8c532286a210d5d708e7fc24 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nButtonを選択し、On Click()の＋ボタンを押して、VRCPanoramaをドラッグで登録したら、VRC_Panorama-\u0026gt;NextPanoを選択します。\u003c/p\u003e\n\n\u003cp\u003eこれでVRC_TriggerからVRC_PanoramaのNextPano関数を呼び出す仕組みが出来ました。\u003cbr\u003e\nVRC_Panoramaの関数、ShowPanoAtやNextPano、PrevPanoはRPCからは呼べず、uGUIからなら呼ぶことが出来ます。\u003cbr\u003e\n今回はuGUIのButtonのClickイベントでVRCPanoramaのNextPanoを呼び出しています。\u003cbr\u003e\nそしてこれをTriggerで制御するために、ボタンをPressするだけのアニメーションを作成し、\u003cbr\u003e\nTrigger時にはこのAnimationを呼んでボタンを押したことにすることで、Trigger-\u0026gt;uGUI Button-\u0026gt;VRC_Panoramaを呼べるようにしました。\u003cbr\u003e\nVRC_PanoramaのShowPanoAtは同じIndexでは一度しか呼べない為、わざと同じURLを2個登録して、NextPanoで行ったり来たりしています。\u003cbr\u003e\nワールドに入った際に1度一つ目のURLが呼び出されてしまいますが、中継サーバー側で無視します。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/d162c1a602d6a6250f95fa78887a5e83e444319f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f62363631653236612d316338352d633365332d363364632d3232653733373832323261392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fb661e26a-1c85-c3e3-63dc-22e7378222a9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=81549f420fc83312350b3aa7330d5c92\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/b661e26a-1c85-c3e3-63dc-22e7378222a9.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fb661e26a-1c85-c3e3-63dc-22e7378222a9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=f242c32401122aafa24ebe1aed705d44 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nAssets/VRCSDK/Prefabs/WorldのVRCWorldを適当な場所に設置します。設置位置がリスポーン地点です。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/be5086e3a876b77ff5b98affec898d7c12efc5a1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f31336339623532392d313237312d616662612d393238612d3436633332666261633231652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F13c9b529-1271-afba-928a-46c32fbac21e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=cbd979690494f1c2d8afcb9e4b9405ee\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/13c9b529-1271-afba-928a-46c32fbac21e.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F13c9b529-1271-afba-928a-46c32fbac21e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=4bdb5d521c701c97c6d4f2d8911b4b69 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nメニューのVRChat SDKからShow Build Control Panelを押します。\u003cbr\u003e\nまずはSetup Layers for VRChatを押します。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/d759bcf61a3b8be92ffc39b0207ba2d2ec862a52/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f66376331643364632d653662302d323563622d363833612d3433336661313834343833302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Ff7c1d3dc-e6b0-25cb-683a-433fa1844830.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=00ff48204b8e91f14473a794028564ab\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/f7c1d3dc-e6b0-25cb-683a-433fa1844830.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Ff7c1d3dc-e6b0-25cb-683a-433fa1844830.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=06d166ea8c2478cac047bcdabe22f305 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nDo it!\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/12bd0fc96f7ba936d2321e17ead8e0fb21ebea70/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f62366632633765372d616335332d656537362d343239622d6464306235343032663030302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fb6f2c7e7-ac53-ee76-429b-dd0b5402f000.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b4ce696ea6c8bb8bbd1960486a906396\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/b6f2c7e7-ac53-ee76-429b-dd0b5402f000.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fb6f2c7e7-ac53-ee76-429b-dd0b5402f000.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=8ba5e7d0e9932bff1d3f9c0e25879c48 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n続いてSetup Collision Layer Matrix for VRChatを押します。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/f8841b62f53cdcc4b1acb9fdf711bab94084b74b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f66333237386463632d636236322d653765382d656635352d6431346333306164316666362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Ff3278dcc-cb62-e7e8-ef55-d14c30ad1ff6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5dafdeec5a2d71efe7daeab2967a22cc\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/f3278dcc-cb62-e7e8-ef55-d14c30ad1ff6.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Ff3278dcc-cb62-e7e8-ef55-d14c30ad1ff6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=7ed3dbc5d3598fa0c6cbdd0a12dc9e80 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nDo it !!!!\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/0ef845b6ff9b08bb68156e3f679645b43aaff922/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f36656531333966372d316430642d343238642d623231312d6664343666386238326166372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F6ee139f7-1d0d-428d-b211-fd46f8b82af7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=6ae7f84216d8aa9394dbc5c29f7d9b32\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/6ee139f7-1d0d-428d-b211-fd46f8b82af7.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F6ee139f7-1d0d-428d-b211-fd46f8b82af7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c30c41e86d74ea1375be4682c7436e05 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nついでにEnable 3D spatialization on all 3D AudioSources in scene nowも押します\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/24c14715d17a8b55c10eff2d94c58db996f7e2ef/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f32633939396532652d393432632d383364322d666662302d3336356634373736663766342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F2c999e2e-942c-83d2-ffb0-365f4776f7f4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ab6c7d52c5296cd3e6e210663044f49f\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/2c999e2e-942c-83d2-ffb0-365f4776f7f4.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F2c999e2e-942c-83d2-ffb0-365f4776f7f4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c7a5599e17e428ee0ff39c33fd4a0b17 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nDo it!!!!\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/5a8ed2287b3034e8d9b41b2fc4c0a88986542dbc/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f31376466353963342d636433642d613761372d366665362d3533316437353134666563302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F17df59c4-cd3d-a7a7-6fe6-531d7514fec0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=8a9913972033b8b6027fead6eae8f02f\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/17df59c4-cd3d-a7a7-6fe6-531d7514fec0.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F17df59c4-cd3d-a7a7-6fe6-531d7514fec0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=79bedbd0e27526a43b6b32cd62ba982a 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nCanvasを選択し、LayerをDefaultに変えます。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/8318ce2da8d0225abd9c96497fe881236ac0a82a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f31363830663463312d373230632d656164312d393638372d3961323534636131313532382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F1680f4c1-720c-ead1-9687-9a254ca11528.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=f59afaa8af8e43610c36a9c23518b25c\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/1680f4c1-720c-ead1-9687-9a254ca11528.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F1680f4c1-720c-ead1-9687-9a254ca11528.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9e87c6fe34d2c8a170e16f571bfcaa19 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nYes, change children\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/49fe823a90c9e559886a13a5a119188172b3558e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f63636639396566322d353561392d396363322d323037392d6363313139333066343237662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fccf99ef2-55a9-9cc2-2079-cc11930f427f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5b518e5ed959b461758196e531817418\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/ccf99ef2-55a9-9cc2-2079-cc11930f427f.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fccf99ef2-55a9-9cc2-2079-cc11930f427f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=7627d6a0616ab4a602ad0c10cc8260ac 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n以上でワールド作成完了です。\u003cbr\u003e\nTestのNew Buildを押して、VRChat起動させてきちんとワールド読み込まれるか確認してください。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/d7f7a184cd3a19004b65ed46751b2eb9a0db26ff/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f65633837343262352d646165392d353436312d666335612d3964666134313834616138342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fec8742b5-dae9-5461-fc5a-9dfa4184aa84.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a9dee741024d5654fb6ceada3a51eb9c\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/ec8742b5-dae9-5461-fc5a-9dfa4184aa84.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fec8742b5-dae9-5461-fc5a-9dfa4184aa84.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=119be19053e26c72b4966c0e35336bd2 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"中継httpサーバーを作成する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%B8%AD%E7%B6%99http%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e中継HTTPサーバーを作成する\u003c/h1\u003e\n\n\u003cp\u003eVisual Studio 2017と.NET Framework 4.7.1が必要です。\u003c/p\u003e\n\n\u003cp\u003eまずは中継サーバーのプログラムをダウンロードします。\u003cbr\u003e\n\u003ca href=\"https://github.com/sh-akira/VRC_Panorama_TCP_Repeater\" rel=\"nofollow noopener\" target=\"_blank\"\u003eVRC_Panorama_TCP_Repeater\u003c/a\u003eを開きます。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/60026774b8aa517442a95a109a1c8ed81af5b4c0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f62376562653338612d346533372d333264322d373831312d3261363862373861393265642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fb7ebe38a-4e37-32d2-7811-2a68b78a92ed.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=0ca26b0262069695393959fc3a38a3b2\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/b7ebe38a-4e37-32d2-7811-2a68b78a92ed.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fb7ebe38a-4e37-32d2-7811-2a68b78a92ed.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=4de17fd3f3c5471d07503aad4453667b 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n緑色のClone or downloadからDownload ZIPを押してダウンロードされるzipを解凍してください。\u003cbr\u003e\n解凍したら中に入っているVRC_Panorama_TCP_Repeater.slnを開きます。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/27e7f103fa67bfb856d9d6b27f709c1364489209/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f65373264643063622d376431652d336561332d633937312d3139393661316432336162642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fe72dd0cb-7d1e-3ea3-c971-1996a1d23abd.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4285a2a92eb6e6c0ae53c3ee9ad6f0ad\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/e72dd0cb-7d1e-3ea3-c971-1996a1d23abd.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fe72dd0cb-7d1e-3ea3-c971-1996a1d23abd.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=88a70ae0133c98759b43c78097d69a55 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nそのまま▶開始ボタンを押せば実行できます。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/820a94bbb040c69858517c5ea959e824226520e7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f62306265353336662d643632312d656666372d376230302d6565323930613863643038322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fb0be536f-d621-eff7-7b00-ee290a8cd082.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=3da3f7ac9f14867c676739e15b9c07fb\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/b0be536f-d621-eff7-7b00-ee290a8cd082.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fb0be536f-d621-eff7-7b00-ee290a8cd082.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=787263ec677ce0316eb7a9a3602c8245 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n画面が表示されるので開始ボタンを押してください。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/0dbaf44e79d274d0f4ce7e5b8189fba8d03ae22a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f36616231343133322d666130372d616439372d613936372d3039363763326233356131342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F6ab14132-fa07-ad97-a967-0967c2b35a14.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=977c7bae38a39084529ac9c548e390e3\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/6ab14132-fa07-ad97-a967-0967c2b35a14.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F6ab14132-fa07-ad97-a967-0967c2b35a14.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=61ee19bf05a3ee2bd18001edee21e51a 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n初回はファイアウォール警告が出ますのでチェックを入れてアクセスを許可するを押してください。\u003c/p\u003e\n\n\u003cp\u003eこれだけで準備は完了です。\u003cbr\u003e\n次回からはVisualStudioを立ち上げなくても、VRC_Panorama_TCP_Repeater-master\\VRC_Panorama_TCP_Repeater\\bin\\DebugフォルダのVRC_Panorama_TCP_Repeater.exeを直接実行出来ます。\u003c/p\u003e\n\n\u003cp\u003e少しコードの解説をします。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eMainWindow.xaml.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003epath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eStartsWith\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"?\"\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"c1\"\u003e// ?で始まる時はコマンドとして処理する\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003ecommand\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003epath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSubstring\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecommand\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"s\"\u003e\"TRIGGER\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eisFirstTrigger\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"c1\"\u003e//初回のTriggerはワールドに入ったときに自動的に発動する\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eisFirstTrigger\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ワールドに入りました\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"TRIGGERコマンド受信\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003et\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003eSendCommandToESP8266Async\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"GPIOSW\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"c1\"\u003e//処理に時間がかかる場合があるのでawaitせずに実行\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e//コマンド受信時はわざとエラーを返すことで、VRC_Panoramaが再度接続してくるようにする。\u003c/span\u003e\n    \u003cspan class=\"nf\"\u003eLog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003eclient\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eClient\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eRemoteEndPoint\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e,404,\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003epath\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ewriter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWrite\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eenc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetBytes\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"HTTP/1.0 404 Not Found\\r\\n\"\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ewriter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWrite\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eenc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetBytes\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Content-Type: text/plain\\r\\n\"\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ewriter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWrite\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eenc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetBytes\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\\r\\n\"\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ewriter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWrite\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eenc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetBytes\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"File Not Found\\r\\n\"\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ewriter\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFlush\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eこの部分で、先ほど設定したVRC_Panoramaの通信を処理しています。\u003cbr\u003e\nVRC_Panoramaでは\u003ccode\u003ehttp://localhost:61221/?TRIGGER\u003c/code\u003eというアドレスを設定しましたが、\u003cbr\u003e\n最初の行のpathには\u003ccode\u003e?TRIGGER\u003c/code\u003eが入るようになっていますので、先頭文字が?だった場合コマンドとして処理します。\u003cbr\u003e\nそしてコマンドがTRIGGERだった場合に\u003cbr\u003e\n初回はワールドに入ったときなので無視\u003cbr\u003e\n2回目以降はESP8266に向かってGPIOSWコマンドを送るようになっています。\u003cbr\u003e\nこれでVRC_Panorama-\u0026gt;このアプリ-\u0026gt;ESP8266の中継を行います。\u003cbr\u003e\nそして処理した後、404エラーを返しています。このようにすることでVRC_Panoramaにはテクスチャが設定されず、\u003cbr\u003e\n次回以降も再度問い合わせてくれます(一度テクスチャを読み込めると二度と読み込まない)\u003cbr\u003e\nここは404である必要はありません。200でも、テクスチャになる画像を返さなければ良いです。\u003cbr\u003e\n例えばVRC_Panoramaだけでなく別のアプリからも同じようにトリガーしたいのであれば、404ではなく200にしてOK等の\u003cbr\u003e\n文字列を返す方が親切かと思います。\u003c/p\u003e\n\n\u003cp\u003eこの部分を改造して好きなコマンドを実装すれば、VRC_Panoramaから好きなように通信を受けて何かを実行できます。\u003c/p\u003e\n\n\u003cp\u003eまた、?以外が来たとき、例えば\u003ccode\u003ehttp://localhost:61221/image.png\u003c/code\u003e等の通常のURLアクセスを行った場合は\u003cbr\u003e\nexeと同じフォルダにあるwwwフォルダの中身を返すようになっていますので、www/image.png等を置けば\u003cbr\u003e\nVRC_Panoramaに普通にテクスチャ画像を返すことも可能です。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"esp8266esp-wroom-02のプログラムを用意する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#esp8266esp-wroom-02%E3%81%AE%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0%E3%82%92%E7%94%A8%E6%84%8F%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eESP8266(ESP-WROOM-02)のプログラムを用意する\u003c/h1\u003e\n\n\u003cp\u003e今回は自作のESP-WROOM-02ボードを使用していますが、どんなボードでも構いません。\u003cbr\u003e\nIO13ピンに付けたLEDを光らせるプログラムを作成します。\u003cbr\u003e\nESP-WROOM-02自体の設定や書き込み方法はボードによって異なる場合があるので、各自調べてください。\u003cbr\u003e\nArduino IDEで書き込みます。\u003c/p\u003e\n\n\u003cp\u003e早速プログラムを紹介します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"cpp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003emain.ino\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"cp\"\u003e#include \u0026lt;ESP8266WiFi.h\u0026gt;\n\u003c/span\u003e\n\u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"kt\"\u003echar\u003c/span\u003e \u003cspan class=\"n\"\u003essid\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"ssid\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e//接続先Wi-FiのSSIDを入れる\u003c/span\u003e\n\u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"kt\"\u003echar\u003c/span\u003e \u003cspan class=\"n\"\u003epassword\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"pass\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e//接続先Wi-Fiのパスワードを入れる\u003c/span\u003e\n\u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eSW\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e13\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e//出力するIOピン\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e//固定IPアドレス(環境ごとに変えてください)\u003c/span\u003e\n\u003cspan class=\"n\"\u003eIPAddress\u003c/span\u003e \u003cspan class=\"nf\"\u003eip\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e192\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e168\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e200\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"n\"\u003eIPAddress\u003c/span\u003e \u003cspan class=\"nf\"\u003egateway\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e192\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e168\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"n\"\u003eIPAddress\u003c/span\u003e \u003cspan class=\"nf\"\u003esubnet\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e255\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e255\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e255\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eWiFiServer\u003c/span\u003e \u003cspan class=\"nf\"\u003eserver\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e9999\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e  \u003cspan class=\"c1\"\u003e//ポート番号\u003c/span\u003e\n\n\u003cspan class=\"kt\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003esetup\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eSerial\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ebegin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e115200\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"n\"\u003epinMode\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eSW\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eOUTPUT\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eSerial\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eprintln\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Booting...\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eWiFi\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003econfig\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eip\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003egateway\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003esubnet\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eWiFi\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003emode\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eWIFI_STA\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eWiFi\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ebegin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003essid\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003epassword\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"n\"\u003edelay\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e500\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n  \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eretrycnt\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ewhile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eWiFi\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ewaitForConnectResult\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"n\"\u003eWL_CONNECTED\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eSerial\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\".\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003edelay\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eretrycnt\u003c/span\u003e\u003cspan class=\"o\"\u003e++\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"n\"\u003eESP\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erestart\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eSerial\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eprintln\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Connect Success\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n  \u003cspan class=\"c1\"\u003e//Portのlistenを開始\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eserver\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ebegin\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eSerial\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eprintln\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Start Server\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"kt\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eloop\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eString\u003c/span\u003e \u003cspan class=\"n\"\u003ecmd\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eReceiveCommand\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecmd\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"s\"\u003e\"GPIOSW\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003edigitalWrite\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eSW\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eHIGH\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003edelay\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"c1\"\u003e//100ms wait\u003c/span\u003e\n    \u003cspan class=\"n\"\u003edigitalWrite\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eSW\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eLOW\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eString\u003c/span\u003e \u003cspan class=\"nf\"\u003eReceiveCommand\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eWiFiClient\u003c/span\u003e \u003cspan class=\"n\"\u003eclient\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eserver\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eavailable\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eString\u003c/span\u003e \u003cspan class=\"n\"\u003eret\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eclient\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003econnected\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e//コマンド受信（来なければタイムアウト\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eret\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eclient\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ereadStringUntil\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"sc\"\u003e'\\r'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eSerial\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Receive:\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eSerial\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eprintln\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eret\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e//返答する\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eclient\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"OK\u003c/span\u003e\u003cspan class=\"se\"\u003e\\r\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e//接続をクローズ\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eclient\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003estop\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eret\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e各自自分のWi-FiルーターのSSIDとパスワード、固定するためのIPアドレスを書き換えてください。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/b3de9754738174ef35b441ea0c372b685a91e4b3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f33623966663362342d306638392d313238392d396534312d6665313937326538366435342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F3b9ff3b4-0f89-1289-9e41-fe1972e86d54.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=6f23e9ed49b59062ca78c5b12010d0d8\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/3b9ff3b4-0f89-1289-9e41-fe1972e86d54.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F3b9ff3b4-0f89-1289-9e41-fe1972e86d54.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=fd1d6207422782a26710f8d87476e0ed 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n参考にテスト時の書き込み設定です。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/083b638213d5af092bb0a563aba8419a98955024/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f62353935333735392d653161352d383636612d643931342d3334306138636637306164652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fb5953759-e1a5-866a-d914-340a8cf70ade.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=be805221acdcb040cc189d7ed6f5f23f\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/b5953759-e1a5-866a-d914-340a8cf70ade.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fb5953759-e1a5-866a-d914-340a8cf70ade.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=25f7a86c47182fd03960ca4d903d7258 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n最低限動作に必要な参考回路図を置いておきます。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"実際に動かしてみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E9%9A%9B%E3%81%AB%E5%8B%95%E3%81%8B%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実際に動かしてみる\u003c/h1\u003e\n\n\u003col\u003e\n\u003cli\u003eESP-WROOM-02の電源を入れます\u003cbr\u003e\n\u003c/li\u003e\n\u003cli\u003eVRC_Panorama_TCP_Repeater.exeを実行して、開始ボタンを押します。\u003cbr\u003e\n\u003c/li\u003e\n\u003cli\u003eクライアント設定(ESP8266側)のサーバーIPにESP8266に設定したIPアドレスを入れてください。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/ce9511f9c460d6fd19639236a37b67e204ad7fdc/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f65373639316432302d303362322d633934622d393336322d3935653631336133306633362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fe7691d20-03b2-c94b-9362-95e613a30f36.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=30987f35d29c8d8d5f5ac597e1154867\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/e7691d20-03b2-c94b-9362-95e613a30f36.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fe7691d20-03b2-c94b-9362-95e613a30f36.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=f9e9266a266db492d29a9c4919324f40 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e作成したVRChatのワールドに入ります(New Buildを押します)\u003cbr\u003e\n\u003c/li\u003e\n\u003cli\u003eVRC_Panorama_TCP_Repeaterにワールドに入りましたとログが出ることを確認します。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/0315d8191a297d7957bbffd2f1ed4db5bc5f9596/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f39363934353332372d343064622d663130662d633466382d6137393438303038386536622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F96945327-40db-f10f-c4f8-a79480088e6b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=db1e424872d199867b5d10fc8eba3777\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/96945327-40db-f10f-c4f8-a79480088e6b.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2F96945327-40db-f10f-c4f8-a79480088e6b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=7afb09677e5bdd0ae9549bbc68680727 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003eワールド内のCubeでトリガーを引きます。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/07de7f449c91cb52d68a4dfc0e69154bbc729d71/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3130353639302f64663034313533652d346235382d323731302d653765392d3563613835343861373835662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fdf04153e-4b58-2710-e7e9-5ca8548a785f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=30cbe6306046f000967a6e0abc7a05ad\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/105690/df04153e-4b58-2710-e7e9-5ca8548a785f.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fdf04153e-4b58-2710-e7e9-5ca8548a785f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=a1f32b35a0f704dfdf975b323b0985d4 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003eトリガーを引くたびに、画面のログにTRIGGERコマンド受信と、OKが返ってきて、LEDが光ることを確認します。\u003cbr\u003e\n※OKではなくエラーが返ってくる場合はESP8266との通信に失敗しています。Arduinoターミナルでログを確認してください。\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cp\u003e無事LEDが押すたびに点灯すれば完成です。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"謝辞\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%AC%9D%E8%BE%9E\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e謝辞\u003c/h1\u003e\n\n\u003cp\u003eAnimatorControllerやAnimationの設定方法について、\u003ca href=\"https://twitter.com/gatosyocora\" rel=\"nofollow noopener\" target=\"_blank\"\u003eがとーしょこら\u003c/a\u003eさんに教えていただきました。\u003cbr\u003e\nありがとうございました。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"おわり\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%8A%E3%82%8F%E3%82%8A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eおわり\u003c/h1\u003e\n\n\u003cp\u003eVRChatの何かしらのトリガーをローカルで受け取ることが出来るようになりました。これで外部のLEDだけでなく、VRChat外で何かをするアプリケーションや、\u003cbr\u003e\n例えばワールド内の扇風機のスイッチを押したらリアルの扇風機を動かす装置なんかを作ることも出来ると思います。\u003cbr\u003e\n使い方色々、面白い使い方待ってます。\u003c/p\u003e\n\n\u003cp\u003e今回のVRChatから外部の装置のスイッチを入れる仕組みを使った放送が明日行われます。\u003cbr\u003e\n\u003c/p\u003e\u003cblockquote class=\"twitter-tweet\"\u003e\n\u003cp\u003e【史上初！失禁実況系Vtuber登場！】\u003cbr\u003eまず、フィオが\u003ca href=\"https://twitter.com/faruco10032?ref_src=twsrc%5Etfw\" rel=\"nofollow noopener\" target=\"_blank\"\u003e@faruco10032\u003c/a\u003e さんの「失禁体験装置」を装着します。視聴者さんがLiveコメントで「尿意」と打ちます。すると「尿意オブジェクト」が降り注ぎます。徐々に尿意が高まり、限界を超えると装置が起動。\u003cbr\u003eそういう配信をするなのだ！クリスマス前だしね。 \u003ca href=\"https://t.co/ZRLAPLDgtz\" rel=\"nofollow noopener\" target=\"_blank\"\u003epic.twitter.com/ZRLAPLDgtz\u003c/a\u003e\u003c/p\u003e— 動く城のフィオ⚙仮想空間興行師⚙ (@phio_alchemist) \u003ca href=\"https://twitter.com/phio_alchemist/status/1069175241660805120?ref_src=twsrc%5Etfw\" rel=\"nofollow noopener\" target=\"_blank\"\u003e2018年12月2日\u003c/a\u003e\n\u003c/blockquote\u003e\u003cbr\u003e\n\u003cscript async src=\"https://platform.twitter.com/widgets.js\"\u003e\u003c/script\u003e\u003cbr\u003e\n是非ご覧ください。\n\n\u003cp\u003eそれでは。\u003c/p\u003e\n\n\u003cp\u003e明日は、\u003ca href=\"https://twitter.com/sunasaji\" rel=\"nofollow noopener\" target=\"_blank\"\u003esuna(@sunasaji)\u003c/a\u003eさんによる記事です。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita.com/advent-calendar/2018/vrchat\"\u003eVRChat Advent Calendar 2018\u003c/a\u003e\u003c/p\u003e\n","createdAt":"2018-12-19T21:46:22Z","elapsedYearsFromLastModifiedAt":2,"encryptedId":"BMx1HsJg6TL9QJGJtRiFmHBaOM5+dY+D--Jluytlg379R4N88e--EN40kXunjzT2TA7PJq7CUQ==","isBanned":false,"isDeprecated":true,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":false,"lastModifiedAt":"2018-12-19T21:46:22Z","likesCount":34,"linkUrl":"https://qiita.com/sh_akira/items/3ed79ce23fade2d3831d","organization":null,"originalId":745487,"stockedCount":18,"title":"VRChatからVRC_Panoramaを使いESP-WROOM-02経由で外部機器を操作する","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003eはじめに\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%AE%8C%E6%88%90%E5%93%81\"\u003e完成品\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#vrchat%E3%81%AE%E3%83%AF%E3%83%BC%E3%83%AB%E3%83%89%E3%82%92%E4%BD%9C%E3%82%8B\"\u003eVRChatのワールドを作る\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%9C%80%E4%BD%8E%E9%99%90%E5%BF%85%E8%A6%81%E3%81%AA%E8%A8%AD%E5%AE%9A%E3%81%A0%E3%81%91%E3%81%97%E3%81%9F%E3%83%AF%E3%83%BC%E3%83%AB%E3%83%89%E3%82%92%E4%BD%9C%E3%82%8B\"\u003e最低限必要な設定だけしたワールドを作る\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E4%B8%AD%E7%B6%99http%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B\"\u003e中継HTTPサーバーを作成する\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#esp8266esp-wroom-02%E3%81%AE%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0%E3%82%92%E7%94%A8%E6%84%8F%E3%81%99%E3%82%8B\"\u003eESP8266(ESP-WROOM-02)のプログラムを用意する\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%AE%9F%E9%9A%9B%E3%81%AB%E5%8B%95%E3%81%8B%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e実際に動かしてみる\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%AC%9D%E8%BE%9E\"\u003e謝辞\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%8A%E3%82%8F%E3%82%8A\"\u003eおわり\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","totalPv":5121,"uuid":"3ed79ce23fade2d3831d","banReason":null,"adventCalendarItem":{"day":20,"calendar":{"name":"VRChat","urlName":"vrchat","year":2018,"organization":null}},"author":{"encryptedId":"vKRrZNr92HlhD/N+24+Od42Mkn/l--XdaU73QMEwvUxQzQ--euDy46SjLDPhNr4pWD/xaA==","originalId":105690,"description":"Win/iOS/Android/Linux/組込 C/C#/Xamarin.Forms/Unity\r\n\r\nVR機器でVRMの3Dモデルをコントロール！バーチャルモーションキャプチャーの開発をしています  \r\n  \r\n特に明示されていない場合、記事中のソースコードはパブリックドメインです","facebookUrl":null,"githubUrl":null,"isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"","profileImageUrl":"https://qiita-image-store.s3.amazonaws.com/0/105690/profile-images/1550111905","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fprofile-images%2F1550111905?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=35027d79735989011146bd6948c40ecf","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F105690%2Fprofile-images%2F1550111905?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=41d8413d87bd4d51154e34b42bb6196b","urlName":"sh_akira","websiteUrl":"https://sh-akira.github.io/VirtualMotionCapture/","twitterUrl":"https://twitter.com/sh_akira","twitterUrlName":"sh_akira","revealedOrganizations":{"edges":[]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"Unity","urlName":"unity"},{"name":"ESP-WROOM-02","urlName":"esp-wroom-02"},{"name":"VRChat","urlName":"vrchat"},{"name":"ESP-8266","urlName":"esp-8266"}],"followingLikers":{"edges":[]},"comments":{"totalCount":1}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
