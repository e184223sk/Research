More than 1 year has passed since last update.無限IEnumerableについて紹介し、いくつか簡単な例を挙げます。C#(ほか様々な言語)では、無限に列挙し続けるイテレータを書くことが出来ます。例えば、以下のOnesは無限に続く１を表します。また、以下のNatは０から始まる自然数全体を昇順で列挙します。実際に以下のように出力してみると、列挙が止まらないことが確認できます。出力結果は 0 1 2 3 4 5 6 7 8 9 10 11 ... となるはずです。無限に実行が止まらないのではなかなか使いみちがありませんので、通常はTakeやTakeWhileなどと組み合わせて使うことが多いかと思います。例えば、先ほどのNatであれば、などとすると、 0 1 2 3 4 5 6 7 8 9 の10個の自然数を表示することができます。前の値一つを使って次の値が決定されるような列挙については、以下のような補助関数Iterateを定義すると書きやすくなります。たとえば、先ほどのNatは以下のように書けます。最初の定義と比べると見た目がシンプルになりました。
また、1, 10, 100, .... を列挙するOneZerosは以下のように書けます。nから始まるCollatz列は以下のように書けます。無理に有限に制限するインターフェースにせずとも、無限に列挙するイテレータ＋Takeなどで素朴に書ける場面がたまにあります。
参考になれば幸いです。


