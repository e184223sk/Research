More than 1 year has passed since last update.Unityのサウンドマネージャーです
想定しているのはボードゲームやパズルゲームなどです、３Dアクションなどの使う音源が多い場合は一括で読み込んで管理はしないほうがいいと思います
しかし、複数のシーンを跨いでBGMを鳴らすのならばこのサウンドマネージャーのBGM部分だけを切り出して使うのがいいと思いますまた、サウンドごとの音量調整をしたい場合はこれをそのままオブジェクトにAddしてプレハブを作りそれを生成するといいと思います音の臨場感を大切にする場合はAudioMixerで調整した方がいいので向いてません三箇所切り出して説明を入れてますが、コード全文の方が見やすいのでページ最下部に載せていますUnity2017.3.1.p4
.NET4.6Unityのバージョンは特に気にすることはないと思います
Task,async,awaitや文字列補間など使ってないので、.NET3.5でも問題ない気がしますBGMとSEをResoucesから読み込んで管理します
SEは複数同時に鳴らせるようにAudioSourceをSE_SOURCE_NUMで定義しました
BGMLabelとSELabelがありますが、自分は二つ以上のクラスで使う列挙型はまとめてCommon.csで定義していますあとこの二つのラベルはAudio/BGMとAudio/SEにそれぞれ置かれている音源のファイル名と全く同じくして下さい
再生する時にLabel.ToString()で辞書型から探しています
ここの実装は悩みましたが、Inspectorで割り当てずに読み込む方針で作っているのでこれがいいと思いますBGMはフェードアウトで遷移できるようしましたスタート画面のシーンに置いたとしても、デバック時に途中のシーンを再生したらエラーになります
その対策として、必要になった時に初めてGameObjectを生成するようにしました改善点があったり、そもそもこの設計でやることはどんな状況でもありえないといった場合はコメントして下さると嬉しいです。


