More than 3 years have passed since last update.クラス、構造体間で名前が一致しているものをコピーしたい。
いちいちコピーコンストラクタ等を書きたくないから。
速度等を気にする場合はしっかりと書くべきだけど
そうじゃないやつ向け早速ソース。
基本的にはフィールドとプロパティを列挙して名前が一致したものに値を入れるだけ。
構造体の場合は値が反映されないので一旦ValueType において終わったら戻す必要あり。
実際には構造体とクラスで別々の関数にする必要あり。※2017/2/7追記
@muro さんのご指摘の通り参照渡しですので使い方には注意を。
※2017/2/8追記
DeepCopyしたい場合は@muro さんのコメントを参考にしてください。名前の一致しかとっていないので型が違うとダメになる
その場合は名前と一緒に「FieldType」も比較してあげるとよい


