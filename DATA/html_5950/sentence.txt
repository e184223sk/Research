More than 3 years have passed since last update.今回は、クラウド電話APIサービス Twillio を使ってみます。
言語は C# で実装します。Twilio は開発者向けのプラットフォームサービスで、数行のコードでインターネットと電話・SMS をつなぐ事が出来ます。
ネット上の仕組みを電話から操作したり、ネット上の情報を電話や SMS に通知することができるようになります。
※一部制限がありますが、試用版もあります。・公式サイト
https://twilio.kddi-web.com/
・料金体系
https://twilio.kddi-web.com/price/
・ポータルサイト
https://jp.twilio.com/login/kddi-web
・開発ドキュメント
https://jp.twilio.com/docs/
・C#/.NET ヘルパーライブラリー
https://jp.twilio.com/docs/libraries/csharp・Twillio アカウント
・Windows Serverユーザーが Twillio に対して電話をかけると、Twillio が指定されたURLをコールし、
レスポンスの XML の内容を実行します。
この XML は、TWILIOマークアップ言語形式で記述することで様々な動作を指定する事が可能です。
※URLは、ポータルサイトにて設定します。TWILIO マークアップ言語の詳細は以下のページに記載されています。
https://jp.twilio.com/docs/api/twiml各機能を試してみます。指定したテキストを読み上げてくれます。日本語の応答例になります。
電話をかけると「こんにちは！」と音声が返ってきます。
※日本語の場合、音声は alice しか使う事が出来ません。language を指定しない場合、デフォルトで英語となります。
英語の場合、音声を man, woman, alice の中から選択出来るようになります。発信者に向けて音声ファイルを再生します。 通話の発信者を別の電話へ接続します。接続先への着信時に、いきなり通話を始めるのではなく、
まず指定した音声を接続先の電話に出力した後に、通話を始めたい場合は、以下のように記述します。
すると、接続時に指定URLがコールされ「電話が転送されてきましたよ！」と
音声が流れた後に通話が開始します。発信者の声を録音します。 指定した秒数、無音で待機します。通話を終了します。コールフローを別のURLへリダイレクトします。以上、今回は、クラウド電話APIサービス Twillio を使ってみました。


