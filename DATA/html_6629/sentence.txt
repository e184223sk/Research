More than 1 year has passed since last update.今回は画面レイアウトの基本についてです。
別画面の表示方法も少しやります。[注意]
これまでの回で説明済みの操作方法等は、説明を省略したり簡略化している場合があります。プロジェクトを新規作成して、画面デザイナのウィンドウの白い部分（Grid）を右クリック、
「レイアウトの種類の変更」 - 「StackPanel」を選択します。
タグがGridからStackPanelに変わりました。
直接タグを書き換えてもよいです。
ツールボックスのButtonを画面デザイナの白い部分（StackPanel）にドラッグ＆ドロップします。
Buttonタグのx:Nameを削除します。
&lt;Button Content="Button"/&gt;Buttonタグをコピペ増殖して、以下のように書き換えます。画面デザイナではこのように、ボタンが自動的に縦に並んで表示されます。
Marginプロパティは他のコントロールとの余白です。
Marginプロパティの指定方法のバリエーションは、 こちらの記事 参照。HorizontalAlignmentプロパティは水平方向の位置指定で、Left,Center,Right,Stretchの中から選べます。
既定値はStretchです。
VerticalAlignmentプロパティは垂直方向の位置指定で、Top,Center,Bottom,Stretchの中から選べます。
既定値はStretchです。
もう一つStackPanelを追加してみましょう。
Buttonタグの並びの一番下に&lt;StackPanel&gt;と入力します。
途中まで入力すれば候補が出てくるので選択します。
&gt;まで入力すると、自動的に&lt;/StackPanel&gt;まで入力してくれます。
以下のように書き換えます。StackPanelのOrientationプロパティがHorizontalだと横並びになります。
既定値は縦並びのVerticalです。次はGridを使ってみます。
ソリューションエクスプローラーでプロジェクトを右クリック、「追加」 - 「新しい項目」を選択。
「ウィンドウ（WPF）」を選択し、名前に`GridWindow1.xaml'を入力し、「追加」ボタンを押します。
Gridタグの中に以下を入力します。
RowDefinitionを3つ書いたので3行のグリッドになります。Gridタグの中、RowDefinitions定義の下あたりにButtonタグを書きます。Grid.Rowで何行目に配置するかを指定します。
一番上の行に配置したいなら0、二番目なら1を指定します。
既定値は0です。なのでGrid.Row="0"は省略可能です。カラム指定は後で説明します。
RowDefinitionに高さの指定を付け加えてみます。1行目はピクセル指定、2行目のautoは中のコントロールのサイズに合わせた行の高さになります。
3行目は何も指定していないので、既定値の1*になり、使用可能なスペースいっぱいに広がります。
*指定の例をもう少し見ていきましょう。この指定の意味は、1*を基準として、2*はその2倍、4*は4倍のスペースを占めるということです。
次の例です。この指定は、1行目と3行目が1*で、2行目がその半分の高さになっています。
*は1*と同じです。Gridのサンプルの最後に、行と列（カラム）両方使った例をやります。
先ほどと同じように、新しい項目でウィンドウを1つ追加してください。
名前はGridWindow2.xamlにし、以下のように入力します。
エクスプローラー風の画面レイアウトです。見やすさのため、Row,Columnが0のものも明示的に書いていますが、以下のように省略することもできます。画面デザイナではこのように表示されます。
カラム定義も行と大体同じ感じです。
Grid.ColumnDefinitionsタグの中に必要な分だけColumnDefinitionタグを定義します。
ツールバーとステータスバーは2カラム分使っていますが、Grid.ColumnSpan指定をすることでセル結合のようなことができます。
HTMLのテーブルのcolspanと同じようなものです。
行方向のセル結合はGrid.RowSpanで指定します。せっかく複数画面を作ったので、メイン画面から表示してみます。
MainWindow.xamlの画面デザイナで適当にボタンをダブルクリックします。
作成されたボタンクリックのイベントハンドラに以下を入力します。ツールバーの「開始」を押します。
画面が表示されたら、イベントハンドラを設定したボタンを押します。
GridWindow2が表示されました。
他にもCanvasとかDockPanelとかWrapPanelとかありますが、とりあえずStackPanelとGridを覚えておけば大丈夫です。おしまい＜＜ 最初の記事 　 ＜ 前の記事 　 次の記事 ＞


