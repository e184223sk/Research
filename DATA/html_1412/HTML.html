<!DOCTYPE html><html><head><meta charset="utf-8" /><title>ゼロからBlazor（プロジェクト作成～ログイン機能実装まで） - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/Mutz/items/1b0d7a826004dd9272db" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="4zLQ9Om/H2GUO4vaW/KG4NvgSxm1Y/yaCvU5jXzfK9IY0pPDbI1ez0GHR0rjBeToogTfPopmaXuNhXK2oG/o4w==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta property="og:type" content="article"><meta property="og:title" content="ゼロからBlazor（プロジェクト作成～ログイン機能実装まで） - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND00NEs4NDRPdDQ0R0w0NEtKUW14aGVtOXk3N3lJNDRPWDQ0T3Q0NEs0NDRLbjQ0S3Y0NE9JNUwyYzVvaVE3NzJlNDRPdDQ0S3c0NEtrNDRPejVxbWY2SU85NWE2ZjZLT0Y0NEctNDRHbjc3eUomdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT01NCZ0eHQtY2xpcD1lbGxpcHNpcyZ0eHQtYWxpZ249Y2VudGVyJTJDbWlkZGxlJnM9MjAwMjc0NzQ5ZTVmZTFkZGM2ODM1NzkwODIzMjVhZjE&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRTExZEhvJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NDUmdHh0LWFsaWduPXJpZ2h0JTJDYm90dG9tJnM9ODgyNWM0NzRhNjJhODhjODUyNDc0ZmNmZTA2MDM5ODc&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=0177b0cd7c0a2aa896da34f5b6d6b045"><meta property="og:description" content="

Blazorとは

Blazorとは、一言で説明すると「C#ですべてを作る」ことを考えたフレームワークです。

昨今のJavaScriptライブラリの進化やフレームワークの機能の充実には目を見張るものがあります。
クライアントサイ..."><meta content="https://qiita.com/Mutz/items/1b0d7a826004dd9272db" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,ASP.NET_Core,ASP.NET_Identity,Blazor" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 1nzh4zz 38fzdi helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-1nzh4zz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 32px;background-color:#FBE69E;color:rgba(0,0,0,0.87);line-height:1.5;font-weight:600;}@media (max-width:770px){.css-1nzh4zz{padding:16px;}}.css-38fzdi{color:#CA832A;margin-right:4px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-f47f49d4-a2c0-4df7-947f-0d32a25cd09f"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2FMutz%2Fitems%2F1b0d7a826004dd9272db">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2FMutz%2Fitems%2F1b0d7a826004dd9272db">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-f47f49d4-a2c0-4df7-947f-0d32a25cd09f">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2020-05-08T01:26:25.000+09:00","dateModified":"2020-05-08T19:21:03.000+09:00","headline":"ゼロからBlazor（プロジェクト作成～ログイン機能実装まで）","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND00NEs4NDRPdDQ0R0w0NEtKUW14aGVtOXk3N3lJNDRPWDQ0T3Q0NEs0NDRLbjQ0S3Y0NE9JNUwyYzVvaVE3NzJlNDRPdDQ0S3c0NEtrNDRPejVxbWY2SU85NWE2ZjZLT0Y0NEctNDRHbjc3eUomdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT01NCZ0eHQtY2xpcD1lbGxpcHNpcyZ0eHQtYWxpZ249Y2VudGVyJTJDbWlkZGxlJnM9MjAwMjc0NzQ5ZTVmZTFkZGM2ODM1NzkwODIzMjVhZjE\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRTExZEhvJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NDUmdHh0LWFsaWduPXJpZ2h0JTJDYm90dG9tJnM9ODgyNWM0NzRhNjJhODhjODUyNDc0ZmNmZTA2MDM5ODc\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=0177b0cd7c0a2aa896da34f5b6d6b045","mainEntityOfPage":"https://qiita.com/Mutz/items/1b0d7a826004dd9272db","author":{"@type":"Person","address":"東京","email":null,"identifier":"Mutz","name":"Mutz","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fs3-ap-northeast-1.amazonaws.com%2Fqiita-image-store%2F0%2F234496%2F4e5198b4a7a76933874d2edfa0737cde02a2d3cf%2Fx_large.png%3F1589006350?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=bb632160c2d77149bcd708bfe8c27c03","url":"https://qiita.com/Mutz","description":"沖縄とブラジルの音楽が好きです","memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://increments.connpass.com/event/211948/">【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup</a><a target="_blank" id="header_text_message_2" href="https://increments.connpass.com/event/211948/">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"Mutz","type":"items","id":"1b0d7a826004dd9272db"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"Mutz","type":"items","id":"1b0d7a826004dd9272db"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":2,"pos_id":"header_text_message_1","message":"【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"Mutz","type":"items","id":"1b0d7a826004dd9272db"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":2,"pos_id":"header_text_message_2","message":"【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/Mutz/items/1b0d7a826004dd9272db","location":"/Mutz/items/1b0d7a826004dd9272db","scheme":"https","host":"qiita.com","port":null,"pathname":"/Mutz/items/1b0d7a826004dd9272db","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"AyoaaBZC+i1wx4WnDn4A82GpiaXJfZ5vgrWjuZvVwqP4yllfk3C7g6V7STe2iWL7GE0dgvZ4C44FxeiCR2UBkg==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-9807cb32-52f3-4856-a972-c0e46b60468f"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/Mutz/items/1b0d7a826004dd9272db/likers" class="css-1iupg5d">53</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">60</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/1b0d7a826004dd9272db/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/Mutz/items/1b0d7a826004dd9272db/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/Mutz/items/1b0d7a826004dd9272db/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/Mutz/items/1b0d7a826004dd9272db/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/Mutz/items/1b0d7a826004dd9272db.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-1nzh4zz"><span class="fa fa-fw fa-warning css-38fzdi"></span><p>More than 1 year has passed since last update.</p></div><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/Mutz"><img class="css-100alwu eyfquo10" src="https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/234496/4e5198b4a7a76933874d2edfa0737cde02a2d3cf/x_large.png?1589006350" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/Mutz" class="css-10ougpm">@<!-- -->Mutz</a><div class="css-1ay9vb9"><span><meta content="2020-05-07T16:26:25Z"/><time dateTime="2020-05-08T10:21:03Z" class="css-m19uds">updated at 2020-05-08</time></span></div></div></div></div></div><h1 class="css-cgzq40">ゼロからBlazor（プロジェクト作成～ログイン機能実装まで）</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/asp.net_core" class="css-4czcte">ASP.NET_Core</a><a href="/tags/asp.net_identity" class="css-4czcte">ASP.NET_Identity</a><a href="/tags/blazor" class="css-4czcte">Blazor</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div>
<h1>
<span id="blazorとは" class="fragment"></span><a href="#blazor%E3%81%A8%E3%81%AF"><i class="fa fa-link"></i></a>Blazorとは</h1>

<p>Blazorとは、一言で説明すると「C#ですべてを作る」ことを考えたフレームワークです。</p>

<p>昨今のJavaScriptライブラリの進化やフレームワークの機能の充実には目を見張るものがあります。<br>
クライアントサイドでもダイナミックな処理が可能となった反面、非同期処理によるリアルタイム更新が当然のように求められ開発者に掛かる負担は大きくなっています。<br>
MVCモデルを前提としたフレームワークが出てきた頃から、「クライアントサイドとサーバサイドを分離することでデザイナーとプログラマーの協業がしやすく云々」という説明をよく目にしますが、「いやデザイナーなんて社内にいねーから」というほとんで一人でやらなきゃいけない（当然JavaScriptも使いこなさなきゃいけない）技術者＠零細開発会社への福音になるかもしれないので、個人的には今後の主流になってほしいと願っています。</p>

<p>この記事では、Blazorのプロジェクト作成から、.NET Identity をカスタマイズした認証機能作成までの流れを見ていきたいと思います。</p>

<h1>
<span id="環境" class="fragment"></span><a href="#%E7%92%B0%E5%A2%83"><i class="fa fa-link"></i></a>環境</h1>

<ul>
<li>Windows 10</li>
<li>.NET Core SDK 3.1.201</li>
<li>Visual Studio 2019 16.5.4</li>
<li>SQL Server 2019（とプロジェクト用のデータベース）</li>
</ul>

<h1>
<span id="blazorプロジェクトの作成" class="fragment"></span><a href="#blazor%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90"><i class="fa fa-link"></i></a>Blazorプロジェクトの作成</h1>

<h4>
<span id="1-テンプレートの選択" class="fragment"></span><a href="#1-%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%81%AE%E9%81%B8%E6%8A%9E"><i class="fa fa-link"></i></a>1. テンプレートの選択</h4>

<p>Blazorアプリケーションは、ASP.NET Coreにプロジェクトテンプレートとして用意されています。<br>
Visual Studioの「新しいプロジェクトの作成」で、プロジェクトテンプレートに「Blazor」アプリを選択します。<br>
<a href="https://camo.qiitausercontent.com/59b85997926e30296daa0e49496c20aa5cddd32f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f32616266306137392d323935612d646532342d326265622d3334383637363565333364302e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F2abf0a79-295a-de24-2beb-3486765e33d0.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=4ed4286e947b4f482fa06b1e2c31dfc0" alt="image2.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/2abf0a79-295a-de24-2beb-3486765e33d0.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F2abf0a79-295a-de24-2beb-3486765e33d0.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=585647bcedd820062f1d8d5b18ed84ec 1x" loading="lazy"></a></p>

<h4>
<span id="2-プロジェクト名の入力" class="fragment"></span><a href="#2-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E5%90%8D%E3%81%AE%E5%85%A5%E5%8A%9B"><i class="fa fa-link"></i></a>2. プロジェクト名の入力</h4>

<p>プロジェクト名を入力して作成を押します<br>
<a href="https://camo.qiitausercontent.com/0305506060e859c2a6dcecfa77c8c411cf56f923/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f61623932616163332d363539622d363262372d623739642d3636396262363630356632352e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Fab92aac3-659b-62b7-b79d-669bb6605f25.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=2762a13811d89ddaba12df53980a2819" alt="image1.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/ab92aac3-659b-62b7-b79d-669bb6605f25.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Fab92aac3-659b-62b7-b79d-669bb6605f25.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=73adae25833363e1bf8fe4ff2814d899 1x" loading="lazy"></a></p>

<h4>
<span id="3-認証設定の変更" class="fragment"></span><a href="#3-%E8%AA%8D%E8%A8%BC%E8%A8%AD%E5%AE%9A%E3%81%AE%E5%A4%89%E6%9B%B4"><i class="fa fa-link"></i></a>3. 認証設定の変更</h4>

<p>Blazor サーバーアプリを選択し、認証なしになっているので変更を選択します<br>
<a href="https://camo.qiitausercontent.com/644c570a84fb7f5c351ca5a284c254e02be6c894/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f37303564313839662d333935372d323932362d363833662d3338616261636531646339312e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F705d189f-3957-2926-683f-38abace1dc91.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=e9640147d2b5415b31a1173baa4ca3cc" alt="image3.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/705d189f-3957-2926-683f-38abace1dc91.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F705d189f-3957-2926-683f-38abace1dc91.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=9f7b345267bc0af0287ec68d20ebb811 1x" loading="lazy"></a><br>
個別のユーザーアカウント→アプリ内のストア ユーザーアカウントが選択されていることを確認し、OKをクリックしプロジェクトを作成して下さい<br>
<a href="https://camo.qiitausercontent.com/322ee4c5334a835867e70cad7f8a5430421df15c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f64653330313437612d646465382d336264332d613637332d3237356563393034376466332e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Fde30147a-dde8-3bd3-a673-275ec9047df3.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=0531e2a7feb0b0fe3f408baea15d44b3" alt="image4.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/de30147a-dde8-3bd3-a673-275ec9047df3.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Fde30147a-dde8-3bd3-a673-275ec9047df3.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=d3cd1b3c7a052b88a6f911418a9d944a 1x" loading="lazy"></a><br>
これでプロジェクトが作成されます。</p>

<h1>
<span id="プロジェクト構成の確認と実行" class="fragment"></span><a href="#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%A7%8B%E6%88%90%E3%81%AE%E7%A2%BA%E8%AA%8D%E3%81%A8%E5%AE%9F%E8%A1%8C"><i class="fa fa-link"></i></a>プロジェクト構成の確認と実行</h1>

<p>プロジェクトの構成はこんな感じになっていると思います。<br>
<a href="https://camo.qiitausercontent.com/44e6455b2c99473cd82fdb13ce6832fcd704905c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f31386637656330612d383036322d376139362d346666302d3131356166653933356363302e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F18f7ec0a-8062-7a96-4ff0-115afe935cc0.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=f1528bf81426f93736e3be3fe7d91e28" alt="image5.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/18f7ec0a-8062-7a96-4ff0-115afe935cc0.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F18f7ec0a-8062-7a96-4ff0-115afe935cc0.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=0bc4483961f75193a2cb0436833f798e 1x" loading="lazy"></a></p>

<table>
<thead>
<tr>
<th style="text-align: left">フォルダ名</th>
<th style="text-align: left">役割</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left">Areas</td>
<td style="text-align: left">認証ありにした場合、Identityフォルダが作成される</td>
</tr>
<tr>
<td style="text-align: left">Data</td>
<td style="text-align: left">Dbコンテキストがある</td>
</tr>
<tr>
<td style="text-align: left">Pages</td>
<td style="text-align: left">Razorのページファイルがある</td>
</tr>
<tr>
<td style="text-align: left">Shared</td>
<td style="text-align: left">レイアウトに関する共用ファイルがある</td>
</tr>
<tr>
<td style="text-align: left">wwwroot</td>
<td style="text-align: left">bootstrapやファビコンなどの静的ファイル置き場</td>
</tr>
</tbody>
</table>

<table>
<thead>
<tr>
<th style="text-align: left">ファイル名</th>
<th style="text-align: left">役割</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left">_Imports.razor</td>
<td style="text-align: left">パッケージのインポートを行っている</td>
</tr>
<tr>
<td style="text-align: left">App.razor</td>
<td style="text-align: left">アプリ全体のレイアウトに使用するRazorファイルを決定している</td>
</tr>
<tr>
<td style="text-align: left">appsettings.json</td>
<td style="text-align: left">接続文字列やログなどのアプリの設定情報</td>
</tr>
<tr>
<td style="text-align: left">Program.cs</td>
<td style="text-align: left">おなじみの起動プログラム</td>
</tr>
<tr>
<td style="text-align: left">Startup.cs</td>
<td style="text-align: left">アプリ起動時の初期化処理</td>
</tr>
</tbody>
</table>

<p>念のため、依存関係→パッケージからEntityFramework、Identity、SQLServer、Toolsなどのパッケージがインストール済みか確認してください。<br>
もしなければここまでの手順をやりなおすか、NuGetパッケージマネージャーからインストールしてください。<br>
<a href="https://camo.qiitausercontent.com/d97c96120180e0caa041179498e77f54585c1c30/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f38303534666461392d376331392d663233662d666535662d6165616336393438353335352e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F8054fda9-7c19-f23f-fe5f-aeac69485355.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=faddf676ffd05118a46c1783b923e802" alt="image6.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/8054fda9-7c19-f23f-fe5f-aeac69485355.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F8054fda9-7c19-f23f-fe5f-aeac69485355.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=19787f32fa5344931880b35180055875 1x" loading="lazy"></a></p>

<h4>
<span id="サンプルプロジェクトの実行" class="fragment"></span><a href="#%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AB%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E5%AE%9F%E8%A1%8C"><i class="fa fa-link"></i></a>サンプルプロジェクトの実行</h4>

<p>F5をクリック、もしくは「IIS Express」をクリックしてサンプルプロジェクトを実行してみます。<br>
<a href="https://camo.qiitausercontent.com/80e429e60e55eea1b97bfa09665911f2bc19f128/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f63613438376334342d376539372d356463322d393362642d6230393366613037323834362e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Fca487c44-7e97-5dc2-93bd-b093fa072846.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=43a513c739fd65e2d780eff114f3d584" alt="image7.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/ca487c44-7e97-5dc2-93bd-b093fa072846.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Fca487c44-7e97-5dc2-93bd-b093fa072846.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=d15d16babd68223e74d0cdb7c5f6d601 1x" loading="lazy"></a><br>
サンプルでは「Home」、「Counter」、「Fetch data」の３つのページが用意されています。<br>
各ページについて詳述はしませんが、（実行時に少し時間がかかるものの）ページ切り替えやボタン操作が非同期でサクサク動くことがわかると思います。<br>
<a href="https://camo.qiitausercontent.com/7409a1b07545b8f06e2d64f97dab148a318f685f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f39376137353030302d633061392d383630332d396639662d3337613666633938353535662e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F97a75000-c0a9-8603-9f9f-37a6fc98555f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=8dd3ac63aa3667d8bd422c714910d647" alt="image8.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/97a75000-c0a9-8603-9f9f-37a6fc98555f.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F97a75000-c0a9-8603-9f9f-37a6fc98555f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=db9ff045d1ae9cd9cf16701582a24080 1x" loading="lazy"></a><br>
ページ右上にあるRegister をクリックしてみてください。<br>
ここでアカウントを登録することができます。Login と組み合わせてログインユーザー用の機能やページを設定することができます。<br>
<a href="https://camo.qiitausercontent.com/792965831d55d42ddacd5309ec6d354ad20e6af5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f30343765333437622d643263642d396339612d623734302d3337386439373664666364372e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F047e347b-d2cd-9c9a-b740-378d976dfcd7.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=09a33ad489f7faea5132c91714222ec5" alt="image10.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/047e347b-d2cd-9c9a-b740-378d976dfcd7.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F047e347b-d2cd-9c9a-b740-378d976dfcd7.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=4a7db38e642f566d3c8728b7975476e9 1x" loading="lazy"></a><br>
Register とLogin の画面はデフォルトのテンプレートには存在しませんが、プロジェクト作成時に認証ありを選択したおかげで、追加されています。<br>
これらは .NET Core の <strong>Identity Core</strong> という機能を利用して作成されています。</p>

<hr>

<h4>
<span id="補足-net-の認証機能について" class="fragment"></span><a href="#%E8%A3%9C%E8%B6%B3-net-%E3%81%AE%E8%AA%8D%E8%A8%BC%E6%A9%9F%E8%83%BD%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6"><i class="fa fa-link"></i></a>補足 .NET の認証機能について</h4>

<p>少し歴史的な説明をすると、.NET Core 以前の .NETでは Membership Provider という名前で認証機能は提供されていました。これがあることにより、ログインコントロールと連携して、ほぼノンコーディングで認証/認可処理が可能になりましたが、SQL Server以外のDBでは使いにくかったりカスタマイズがしにいといった課題がありました。その後、認証機能は.NET Idendity を経て .NET Idendity Core に進化し、かつての課題を解決しつつ多くの機能が追加されていきました。<br>
登録とログイン周りだけでも二要素認証、パスワードリセット、パスワード忘れの処理が用意されていて、パスワードのハッシュ変換は当然のことながら、SNS認証、SQL Server以外への対応などなども盛り込まれています。</p>

<p>正直これらの機能を自力で実装するのは要件定義も実装もテストも困難。情報漏洩は企業イメージの失墜のみならず金銭問題に発展するリスクも抱えるため、認証にかける作業を省略できるのはありがたいの一言に尽きます（何かあったらマイクロソフトのバグですと言い訳できます、できません）。ただデフォルトでこれほど機能モリモリだと、作成されるDBも多く、よくわからないファイルも大量作成されますので、最低限使いこなすための知識は必要です。Identity の機能は多岐にわたるため、ここでは登録とログインのカスタマイズに絞って説明したいと思います。</p>

<hr>

<h1>
<span id="認証画面のカスタマイズ" class="fragment"></span><a href="#%E8%AA%8D%E8%A8%BC%E7%94%BB%E9%9D%A2%E3%81%AE%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA"><i class="fa fa-link"></i></a>認証画面のカスタマイズ</h1>

<h4>
<span id="1-スキャフォールディング" class="fragment"></span><a href="#1-%E3%82%B9%E3%82%AD%E3%83%A3%E3%83%95%E3%82%A9%E3%83%BC%E3%83%AB%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0"><i class="fa fa-link"></i></a>1. スキャフォールディング</h4>

<p>Areaフォルダ内にあるIdentityフォルダを右クリックし、追加→新規スキャフォールディングアイテムをクリックします<br>
<a href="https://camo.qiitausercontent.com/5cc1c2668d99a813c17bf2234b1a390e8d75a869/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f66313331373333322d383762332d343839352d343731612d6234373737386430623435662e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Ff1317332-87b3-4895-471a-b47778d0b45f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=fd1773ab553ca6364e6801b046e0f7c2" alt="image11.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/f1317332-87b3-4895-471a-b47778d0b45f.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Ff1317332-87b3-4895-471a-b47778d0b45f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=901655106a06716515f85892869f2202 1x" loading="lazy"></a><br>
追加アイテムとして「ID」を選択し、追加をクリック（パッケージのインストールなどで少し待たされます）<br>
<a href="https://camo.qiitausercontent.com/ec032320f6e1199e5800232ee6732fdb08e73c92/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f66373362353439622d356434372d636134632d613933302d3531356339333032376335662e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Ff73b549b-5d47-ca4c-a930-515c93027c5f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=4ffbe43c46d83ae0e03a95d54c1f5bf2" alt="image12.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/f73b549b-5d47-ca4c-a930-515c93027c5f.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Ff73b549b-5d47-ca4c-a930-515c93027c5f.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=a9893ba32fabe37846006a5c3bf9f4fb 1x" loading="lazy"></a></p>

<h4>
<span id="2-login-と-register-をオーバーライド" class="fragment"></span><a href="#2-login-%E3%81%A8-register-%E3%82%92%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89"><i class="fa fa-link"></i></a>2. Login と Register をオーバーライド</h4>

<p>オーバーライドするファイルを聞かれるので、「Account\Login」と「Account\Register」にチェック<br>データコンテキストクラスの欄で「＋」ボタンクリックし、コンテキストの型の名前を指定（ここではIdentityContext）<br>
<a href="https://camo.qiitausercontent.com/12ab8c2b4cf8866f1ec2cb0563c3ba71e0c8225c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f61636365663032622d633764302d666133632d623633622d3162343165393264353233312e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Faccef02b-c7d0-fa3c-b63b-1b41e92d5231.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=ec4170f0957697242a709effbdb27686" alt="image13.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/accef02b-c7d0-fa3c-b63b-1b41e92d5231.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Faccef02b-c7d0-fa3c-b63b-1b41e92d5231.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=fd56607739f26f1d02a0495a3014968b 1x" loading="lazy"></a><br>
Areasフォルダ配下を確認すると、コンテキストファイルやRegister/Login ページが追加され、編集できるようになりました。<br>
<strong>スキャフォールディング前</strong><br>
<a href="https://camo.qiitausercontent.com/f808f2acf8421f56754a5b83e06996b423c8f665/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f36656664353432382d353631612d363432662d623133322d3338656539346438643431622e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F6efd5428-561a-642f-b132-38ee94d8d41b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=916a7e84c6d770c0cf0df36381595bb1" alt="image14.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/6efd5428-561a-642f-b132-38ee94d8d41b.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F6efd5428-561a-642f-b132-38ee94d8d41b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=ea6c3fa0683d90ff7e71f1dc77b3ee87 1x" loading="lazy"></a><br>
<strong>スキャフォールディング後</strong><br>
<a href="https://camo.qiitausercontent.com/91a5aaeb0c78bb88824f48c2cfeda42e7ef69fed/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f61626538353336652d323764352d616363632d323665342d6262343034633236623265342e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Fabe8536e-27d5-accc-26e4-bb404c26b2e4.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=4ead36204a3f43eac0997575c4b7587b" alt="image15.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/abe8536e-27d5-accc-26e4-bb404c26b2e4.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Fabe8536e-27d5-accc-26e4-bb404c26b2e4.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=efb6f8c98c02aa528cf55348c50157f0 1x" loading="lazy"></a></p>

<h4>
<span id="3-identity-の統一" class="fragment"></span><a href="#3-identity-%E3%81%AE%E7%B5%B1%E4%B8%80"><i class="fa fa-link"></i></a>3. Identity の統一</h4>

<p>この状態でF5を押しビルドすると、Programファイルでエラーが発生します。<br>
原因はもともとあったスタートアップファイルと、新たに追加された「IdentityHostingStartup.cs」でそれぞれIdentity をサービスに追加していてバッティングしているからです。<br>
<a href="https://camo.qiitausercontent.com/249430d5d6379802952c36e368ea52464762841e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f36343562343231632d623930392d363738662d333462322d6161623537623432376433652e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F645b421c-b909-678f-34b2-aab57b427d3e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=45afbe454d259ee280ff4fd1316f632f" alt="image16.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/645b421c-b909-678f-34b2-aab57b427d3e.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F645b421c-b909-678f-34b2-aab57b427d3e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=0cd1e971951cb8eb8869ef46b32ceff8 1x" loading="lazy"></a><br>
まずそれを解決するためにStartup.cs の方を消します。</p>

<div class="code-frame" data-lang="C#">
<div class="code-lang"><span class="bold">Startup.cs</span></div>
<div class="highlight"><pre class="with-code"><code>        <span class="k">public</span> <span class="k">void</span> <span class="nf">ConfigureServices</span><span class="p">(</span><span class="n">IServiceCollection</span> <span class="n">services</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">services</span><span class="p">.</span><span class="n">AddDbContext</span><span class="p">&lt;</span><span class="n">ApplicationDbContext</span><span class="p">&gt;(</span><span class="n">options</span> <span class="p">=&gt;</span>
                <span class="n">options</span><span class="p">.</span><span class="nf">UseSqlServer</span><span class="p">(</span>
                    <span class="n">Configuration</span><span class="p">.</span><span class="nf">GetConnectionString</span><span class="p">(</span><span class="s">"DefaultConnection"</span><span class="p">)));</span>
            <span class="c1">//services.AddDefaultIdentity&lt;IdentityUser&gt;(options =&gt; options.SignIn.RequireConfirmedAccount = true)</span>
            <span class="c1">//    .AddEntityFrameworkStores&lt;ApplicationDbContext&gt;();</span>
            <span class="n">services</span><span class="p">.</span><span class="nf">AddRazorPages</span><span class="p">();</span>
            <span class="n">services</span><span class="p">.</span><span class="nf">AddServerSideBlazor</span><span class="p">();</span>
            <span class="n">services</span><span class="p">.</span><span class="n">AddScoped</span><span class="p">&lt;</span><span class="n">AuthenticationStateProvider</span><span class="p">,</span> <span class="n">RevalidatingIdentityAuthenticationStateProvider</span><span class="p">&lt;</span><span class="n">IdentityUser</span><span class="p">&gt;&gt;();</span>
            <span class="n">services</span><span class="p">.</span><span class="n">AddSingleton</span><span class="p">&lt;</span><span class="n">WeatherForecastService</span><span class="p">&gt;();</span>
        <span class="p">}</span>
</code></pre></div>
</div>

<p>IdentityHostingStartup の接続情報をDefaultConnectionに修正しておきます</p>

<div class="code-frame" data-lang="C#">
<div class="code-lang"><span class="bold">IdentityHostingStartup.cs</span></div>
<div class="highlight"><pre class="with-code"><code>        <span class="k">public</span> <span class="k">void</span> <span class="nf">Configure</span><span class="p">(</span><span class="n">IWebHostBuilder</span> <span class="n">builder</span><span class="p">)</span>                      
        <span class="p">{</span>                       
            <span class="n">builder</span><span class="p">.</span><span class="nf">ConfigureServices</span><span class="p">((</span><span class="n">context</span><span class="p">,</span> <span class="n">services</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>                      
                <span class="n">services</span><span class="p">.</span><span class="n">AddDbContext</span><span class="p">&lt;</span><span class="n">IdentityContext</span><span class="p">&gt;(</span><span class="n">options</span> <span class="p">=&gt;</span>                       
                    <span class="n">options</span><span class="p">.</span><span class="nf">UseSqlServer</span><span class="p">(</span>                       
                        <span class="n">context</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="nf">GetConnectionString</span><span class="p">(</span><span class="s">"DefaultConnection"</span><span class="p">)));</span>                       

                <span class="n">services</span><span class="p">.</span><span class="n">AddDefaultIdentity</span><span class="p">&lt;</span><span class="n">IdentityUser</span><span class="p">&gt;(</span><span class="n">options</span> <span class="p">=&gt;</span> <span class="n">options</span><span class="p">.</span><span class="n">SignIn</span><span class="p">.</span><span class="n">RequireConfirmedAccount</span> <span class="p">=</span> <span class="k">true</span><span class="p">)</span>                     
                    <span class="p">.</span><span class="n">AddEntityFrameworkStores</span><span class="p">&lt;</span><span class="n">IdentityContext</span><span class="p">&gt;();</span>                       
            <span class="p">});</span>                     
</code></pre></div>
</div>

<p>再度F5を押しビルドし、エラーが起きないことを確認してください。</p>

<h4>
<span id="4-データベースの設定" class="fragment"></span><a href="#4-%E3%83%87%E3%83%BC%E3%82%BF%E3%83%99%E3%83%BC%E3%82%B9%E3%81%AE%E8%A8%AD%E5%AE%9A"><i class="fa fa-link"></i></a>4. データベースの設定</h4>

<p>次に、自前のデータベースにユーザー情報を保存するために、DB接続情報を設定しているappsettings.json ファイルをいじります。<br>
ここではスキャフォールディング時に追加された接続情報は削除し、DefaultConnectionに統一しています。</p>

<div class="code-frame" data-lang="json">
<div class="code-lang"><span class="bold">appsettings.json</span></div>
<div class="highlight"><pre class="with-code"><code><span class="p">{</span><span class="w">               
  </span><span class="nl">"ConnectionStrings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">                
    </span><span class="nl">"DefaultConnection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Data Source=（ローカルコンピューター名）;Initial Catalog=BLAZORAPP;Integrated Security=True;Pooling=False"</span><span class="w">              
  </span><span class="p">},</span><span class="w">                
  </span><span class="nl">"Logging"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">              
    </span><span class="nl">"LogLevel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">               
      </span><span class="nl">"Default"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Information"</span><span class="p">,</span><span class="w">             
      </span><span class="nl">"Microsoft"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Warning"</span><span class="p">,</span><span class="w">               
      </span><span class="nl">"Microsoft.Hosting.Lifetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Information"</span><span class="w">               
    </span><span class="p">}</span><span class="w">               
  </span><span class="p">},</span><span class="w">                
  </span><span class="nl">"AllowedHosts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="w">               
</span><span class="p">}</span><span class="w">               
</span></code></pre></div>
</div>

<p>もしまだBlazorアプリ用のDBを用意していなかったらここで新規データベースを作成して、接続文字列を取得して下さい。<br>
Visual Studio の表示→サーバーエクスプローラー→データ接続を右クリック→新しいSQL Serverデータベースの作成→サーバーを指定し、新しいデータベース名（ここではBLAZORAPP）を入力しOKをクリック<br>
<a href="https://camo.qiitausercontent.com/a5698a049311e39e6065ff0802c47166af858788/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f32613362343232392d643630332d333033322d396663332d3532393433346363643336622e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F2a3b4229-d603-3032-9fc3-529434ccd36b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=50697a7026bf06686856f0db480fffd8" alt="コメント 2020-05-08 003801.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/2a3b4229-d603-3032-9fc3-529434ccd36b.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F2a3b4229-d603-3032-9fc3-529434ccd36b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=8b053674f070468a18c86e53c29aa6aa 1x" loading="lazy"></a><br>
追加された接続情報を選択しF4キーもしくは右クリック→プロパティを押すとプロパティが表示されるので、接続情報をコピーして前述のappsettings.json ファイルに貼り付けます<br>
<a href="https://camo.qiitausercontent.com/03d61e7561dc06dbb6c63f8f3785b34224fe7fae/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f30303163633637362d623634372d323665652d646663312d3431353666376331363464622e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F001cc676-b647-26ee-dfc1-4156f7c164db.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=cadf254cf5512483deb2ce61a0ad2cf2" alt="コメント 2020-05-08 003948.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/001cc676-b647-26ee-dfc1-4156f7c164db.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F001cc676-b647-26ee-dfc1-4156f7c164db.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=3fa0091a68a5a79b4d99896f2fbfa58c 1x" loading="lazy"></a><br>
ではこの状態でサンプルページを実行し、Register から登録作業を行えるようになっているのでしょうか。<br>
ここでは試しませんが個人情報を入力して登録しようとすると、「SqlException: オブジェクト名 'AspNetUsers' が無効です。」というエラーが発生します。<br>
コードのプロパティとDBが結びついていないためです。</p>

<p>そのための認証に関するテーブル群をデータベースに作成しましょう。<br>
EntityFrameworkに慣れている方には説明不要ですが、SQL Server Management Studio を開いたり、 SQLのコマンドを書いたりは一切しません。<br>
具体的には、マイグレーションファイルの作成と、データベースの更新作業をパッケージマネージャーコンソールというVisual Studio 内のツールを使って行います。</p>

<hr>

<h4>
<span id="補足-entity-framework-について" class="fragment"></span><a href="#%E8%A3%9C%E8%B6%B3-entity-framework-%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6"><i class="fa fa-link"></i></a>補足 Entity Framework について</h4>

<p>ASP.NET Core でデータベースアクセスを行う場合、必ず利用することになるのが「Entity Framework Core」というフレームワークです。<br>
Entity Framework は「ORM」と呼ばれる技術のためのフレームワークです。<br>
一言でいうならばSQL を全く書かずにDBを利用できる機能です。<br>
ORMの考え方が出てきた時は、「こんなの使わないで真面目にSQL覚えればいいのに」と思ったものですが、Visual Studio のインテリセンスにサポートされながら初めてLINQを書いた時は、あまりの便利さに泣きそうになりました。<br>
マイグレーションやデータベースの更新はこの「Entity Framework Core」の機能により実行されます。</p>

<hr>

<h4>
<span id="5-マイグレーションファイルの作成と更新" class="fragment"></span><a href="#5-%E3%83%9E%E3%82%A4%E3%82%B0%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E4%BD%9C%E6%88%90%E3%81%A8%E6%9B%B4%E6%96%B0"><i class="fa fa-link"></i></a>5. マイグレーションファイルの作成と更新</h4>

<p>Visual Studio で「ツール」→「NuGetパッケージマネージャ」→「パッケージマネージャーコンソール」の順に選択します。<br>
画面下部にコマンドを実行できるウィンドウが現れるので、以下のコマンドを入力してEnterを押し実行してください。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>Add-Migration Initial -Context IdentityContext
</code></pre></div></div>

<p><a href="https://camo.qiitausercontent.com/0e6fd9a51cb90b8a8ff4415f104f68e080f44c2c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f30356232323436342d323166372d333133352d333233382d6437646338666532343664632e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F05b22464-21f7-3135-3238-d7dc8fe246dc.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=8bfebf20594e765fd3f2a4f681f1fd5c" alt="image22.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/05b22464-21f7-3135-3238-d7dc8fe246dc.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F05b22464-21f7-3135-3238-d7dc8fe246dc.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=7806d1a66dd7d1c9fa1cd55edc626941 1x" loading="lazy"></a><br>
解説：<br>
データベースとの差分情報を記述したファイル（マイグレーションファイル）を作成。<br>
「Initial」とした箇所はファイルを識別するための名前で好きな名前を指定できる。コンテキストファイルが複数ある場合はコンテキスト名を指定する必要がある。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>Update-Database -Context IdentityContext
</code></pre></div></div>

<p><a href="https://camo.qiitausercontent.com/b47624b7b8198297410a1c5d6182f690bcd8a718/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f36313861373361312d623466612d386366392d613334312d3931633733653738633232322e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F618a73a1-b4fa-8cf9-a341-91c73e78c222.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=86675af353fe581d561bcf6005cd74d1" alt="image23.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/618a73a1-b4fa-8cf9-a341-91c73e78c222.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F618a73a1-b4fa-8cf9-a341-91c73e78c222.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=e363ffc719ce859e7e831e81c305e380 1x" loading="lazy"></a><br>
解説：<br>
マイグレーションファイルを元にデータベースを更新</p>

<p>コンソールに以下のように表示されれば成功です。<br>
DBにテーブルが追加され、無事にユーザーの登録ができるようになりました。<br>
<a href="https://camo.qiitausercontent.com/2c1d7a88ce17cce915236523b86a0abc698d1e6b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f38353665393961382d393761632d353437312d633130312d3630396133303632666431632e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F856e99a8-97ac-5471-c101-609a3062fd1c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=54c132da97dd2ab82c31192ab26976cc" alt="image24.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/856e99a8-97ac-5471-c101-609a3062fd1c.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F856e99a8-97ac-5471-c101-609a3062fd1c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=17c3cfc3113092a2fdab620fa5e30350 1x" loading="lazy"></a></p>

<p>あとは画面に表示されている英語を日本語に変えたりレイアウトを変えて終わりにしてもいいのですが、登録をしていて気になることがあります。</p>

<ul>
<li>登録にEmailじゃなくて名前じゃダメ？</li>
<li>メール使った2要素認証いらない。登録後即ホーム画面行かせてほしい。</li>
<li>パスワードの要件チェック（バリデーション）多くないか？（6文字以上、大文字必須、数字必須、記号必須）</li>
</ul>

<h4>
<span id="6-登録ログイン画面をカスタマイズ" class="fragment"></span><a href="#6-%E7%99%BB%E9%8C%B2%E3%83%AD%E3%82%B0%E3%82%A4%E3%83%B3%E7%94%BB%E9%9D%A2%E3%82%92%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA"><i class="fa fa-link"></i></a>6. 登録・ログイン画面をカスタマイズ</h4>

<p>というわけで、こんなの使い勝手悪いのでカスタマイズです。<br>
ここでは以下の変更を加えつつ、ページ制御も同時に実装したいと思います。</p>

<p><strong>ログイン・登録画面</strong></p>

<ul>
<li>Emailではなく名前で。（バリデーションなし）</li>
<li>名前もパスワードも半角英数字1文字以上ならOK（名前の重複は不可）</li>
<li>登録後のメール確認はしない</li>
</ul>

<p><strong>ページ制御</strong></p>

<ul>
<li>ログインしていないと見れないページを作る</li>
<li>許可されていないページに行った場合、ログインページにリダイレクトさせる</li>
</ul>

<p>まず、ページ制御で使うRedirectToLogin.razor をページフォルダに作成します。<br>
Shared フォルダ上で右クリック 追加→新しい項目を選択<br>
<a href="https://camo.qiitausercontent.com/ac7322fa49d560acc035f347e0480d04137ee76e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f63306366333663642d366665372d373538302d353036622d3137656562623132663833352e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Fc0cf36cd-6fe7-7580-506b-17eebb12f835.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=89575c40e93d7374bea835161a91e6d4" alt="image19.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/c0cf36cd-6fe7-7580-506b-17eebb12f835.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Fc0cf36cd-6fe7-7580-506b-17eebb12f835.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=c3ad6b9f547d948da8eaf5c376323abd 1x" loading="lazy"></a><br>
Razorコンポーネントを選択し追加（ファイル名はRedirectToLogin.razor とします）<br>
<a href="https://camo.qiitausercontent.com/2ea8b13140f83a255ae2a2323a48fd20d6bb470b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f63343861323135312d316366622d363530372d386566662d3365386635306334386434632e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Fc48a2151-1cfb-6507-8eff-3e8f50c48d4c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=b929627722140354feafdc48ea9f307c" alt="image20.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/c48a2151-1cfb-6507-8eff-3e8f50c48d4c.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Fc48a2151-1cfb-6507-8eff-3e8f50c48d4c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=27b715d360064b193886315cc6d510a1 1x" loading="lazy"></a><br>
RedirectToLogin.razor ファイルが追加されたら、以下の内容に書き換えてください。<br>
未ログインユーザーの遷移先をログイン画面に設定しています。</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">RedirectToLogin.razor</span></div>
<div class="highlight"><pre class="with-code"><code><span class="n">@inject</span> <span class="n">NavigationManager</span> <span class="n">NavigationManager</span>

<span class="n">@code</span><span class="p">{</span>
    <span class="p">[</span><span class="n">Parameter</span><span class="p">]</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">ReturnUrl</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnInitialized</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">ReturnUrl</span> <span class="p">=</span> <span class="s">"~/"</span> <span class="p">+</span> <span class="n">ReturnUrl</span><span class="p">;</span>
        <span class="n">NavigationManager</span><span class="p">.</span><span class="nf">NavigateTo</span><span class="p">(</span><span class="s">$"Identity/Account/Login?returnUrl=</span><span class="p">{</span> <span class="n">ReturnUrl</span><span class="p">}</span><span class="s">"</span><span class="p">,</span> <span class="n">forceLoad</span><span class="p">:</span> <span class="k">true</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>App.razor コンポーネントを書き換えます。<br>
書き換えているのは、<code>&lt;NotAuthorized&gt;</code>タグの部分です。ここでRedirectToLogin.razor コンポーネントにURLを引数として渡しています。<br>
また <code>@using</code>で、先ほどのRedirectToLogin.Razor を追加した名前空間を指定し、<code>@inject</code> でNavigationManager をDI（オブジェクトの注入）します</p>

<div class="code-frame" data-lang="html">
<div class="code-lang"><span class="bold">App.razor</span></div>
<div class="highlight"><pre class="with-code"><code>@using Blazorアプリ名.Shared
@inject NavigationManager NavigationManager

<span class="nt">&lt;CascadingAuthenticationState&gt;</span>
    <span class="nt">&lt;Router</span> <span class="na">AppAssembly=</span><span class="s">"@typeof(Program).Assembly"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;Found</span> <span class="na">Context=</span><span class="s">"routeData"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;AuthorizeRouteView</span> <span class="na">RouteData=</span><span class="s">"@routeData"</span>
                                <span class="na">DefaultLayout=</span><span class="s">"@typeof(MainLayout)"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;NotAuthorized&gt;</span>
                    @{
                        var returnUrl = NavigationManager.ToBaseRelativePath(NavigationManager.Uri);
                        <span class="nt">&lt;RedirectToLogin</span> <span class="na">ReturnUrl=</span><span class="s">"@returnUrl"</span> <span class="nt">/&gt;</span>
                    }
                <span class="nt">&lt;/NotAuthorized&gt;</span>
                <span class="nt">&lt;Authorizing&gt;</span>
                    Wait...
                <span class="nt">&lt;/Authorizing&gt;</span>
            <span class="nt">&lt;/AuthorizeRouteView&gt;</span>
        <span class="nt">&lt;/Found&gt;</span>
        <span class="nt">&lt;NotFound&gt;</span>
            <span class="nt">&lt;LayoutView</span> <span class="na">Layout=</span><span class="s">"@typeof(MainLayout)"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;p&gt;</span>Sorry, there's nothing at this address.<span class="nt">&lt;/p&gt;</span>
            <span class="nt">&lt;/LayoutView&gt;</span>
        <span class="nt">&lt;/NotFound&gt;</span>
    <span class="nt">&lt;/Router&gt;</span>
<span class="nt">&lt;/CascadingAuthenticationState&gt;</span>
</code></pre></div>
</div>

<p><code>&lt;NotAuthorized&gt;</code>タグを追加しています。ちなみに特定のHTMLタグを<code>&lt;AuthorizeView&gt;&lt;/AuthorizeView&gt;</code>で囲むと、ログイン前の状態では非表示にすることができます</p>

<p>ここで、試しにCounter.razor コンポーネントのトップに <a href="/attribute" class="user-mention js-hovercard" title="attribute" data-hovercard-target-type="user" data-hovercard-target-name="attribute">@attribute</a> [Authorize] を加え、プログラムを起動し、Counterページにアクセスしてみてください。ログインページにリダイレクトされればOKです。</p>

<div class="code-frame" data-lang="html">
<div class="code-lang"><span class="bold">Counter.razor</span></div>
<div class="highlight"><pre class="with-code"><code>@attribute [Authorize]
@page "/counter"

<span class="nt">&lt;h1&gt;</span>Counter<span class="nt">&lt;/h1&gt;</span>

<span class="nt">&lt;p&gt;</span>Current count: @currentCount<span class="nt">&lt;/p&gt;</span>

<span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">"btn btn-primary"</span> <span class="err">@</span><span class="na">onclick=</span><span class="s">"IncrementCount"</span><span class="nt">&gt;</span>Click me<span class="nt">&lt;/button&gt;</span>

@code {
    private int currentCount = 0;

    private void IncrementCount()
    {
        currentCount++;
    }
}
</code></pre></div>
</div>

<p>登録画面とログイン画面の処理を変更するために、以下の4ファイルに手を加えます。<br>
<a href="https://camo.qiitausercontent.com/009ae7670b9fdfb65798044aae46636e45b47ac2/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f31353064353061662d346133322d616430382d383536302d3562363731623835386265632e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F150d50af-4a32-ad08-8560-5b671b858bec.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=992c2626d977faaf9991a02a2e36226c" alt="コメント 2020-05-08 010705.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/150d50af-4a32-ad08-8560-5b671b858bec.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F150d50af-4a32-ad08-8560-5b671b858bec.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=9364dc4ab26acd964925bc4b17d55618 1x" loading="lazy"></a></p>

<p>修正点のポイントは以下です。<br>
1. プロパティのEmail を Name に変更<br>
2. パスワードとメールのバリデーションを削除<br>
（パスワードのチェックはライブラリ内部で行っているため、無理やり接尾辞「_Blazor」をくっつけて突破）<br>
3. メール認証の箇所を削除</p>

<div class="code-frame" data-lang="C#">
<div class="code-lang"><span class="bold">Login.cshtml.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>                               
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>                               
<span class="k">using</span> <span class="nn">System.ComponentModel.DataAnnotations</span><span class="p">;</span>                                
<span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>                              
<span class="k">using</span> <span class="nn">System.Text.Encodings.Web</span><span class="p">;</span>                                
<span class="k">using</span> <span class="nn">System.Threading.Tasks</span><span class="p">;</span>                               
<span class="k">using</span> <span class="nn">Microsoft.AspNetCore.Authorization</span><span class="p">;</span>                               
<span class="k">using</span> <span class="nn">Microsoft.AspNetCore.Authentication</span><span class="p">;</span>                              
<span class="k">using</span> <span class="nn">Microsoft.AspNetCore.Identity</span><span class="p">;</span>                                
<span class="k">using</span> <span class="nn">Microsoft.AspNetCore.Identity.UI.Services</span><span class="p">;</span>                                
<span class="k">using</span> <span class="nn">Microsoft.AspNetCore.Mvc</span><span class="p">;</span>                             
<span class="k">using</span> <span class="nn">Microsoft.AspNetCore.Mvc.RazorPages</span><span class="p">;</span>                              
<span class="k">using</span> <span class="nn">Microsoft.Extensions.Logging</span><span class="p">;</span>                             

<span class="k">namespace</span> <span class="nn">HelloBlazorGoodByeJavaScript.Areas.Identity.Pages.Account</span>                             
<span class="p">{</span>                               
    <span class="p">[</span><span class="n">AllowAnonymous</span><span class="p">]</span>                                
    <span class="k">public</span> <span class="k">class</span> <span class="nc">LoginModel</span> <span class="p">:</span> <span class="n">PageModel</span>                             
    <span class="p">{</span>                               
        <span class="k">private</span> <span class="k">readonly</span> <span class="n">UserManager</span><span class="p">&lt;</span><span class="n">IdentityUser</span><span class="p">&gt;</span> <span class="n">_userManager</span><span class="p">;</span>                                
        <span class="k">private</span> <span class="k">readonly</span> <span class="n">SignInManager</span><span class="p">&lt;</span><span class="n">IdentityUser</span><span class="p">&gt;</span> <span class="n">_signInManager</span><span class="p">;</span>                                
        <span class="k">private</span> <span class="k">readonly</span> <span class="n">ILogger</span><span class="p">&lt;</span><span class="n">LoginModel</span><span class="p">&gt;</span> <span class="n">_logger</span><span class="p">;</span>                               

        <span class="k">public</span> <span class="nf">LoginModel</span><span class="p">(</span><span class="n">SignInManager</span><span class="p">&lt;</span><span class="n">IdentityUser</span><span class="p">&gt;</span> <span class="n">signInManager</span><span class="p">,</span>                                
            <span class="n">ILogger</span><span class="p">&lt;</span><span class="n">LoginModel</span><span class="p">&gt;</span> <span class="n">logger</span><span class="p">,</span>                             
            <span class="n">UserManager</span><span class="p">&lt;</span><span class="n">IdentityUser</span><span class="p">&gt;</span> <span class="n">userManager</span><span class="p">)</span>                              
        <span class="p">{</span>                               
            <span class="n">_userManager</span> <span class="p">=</span> <span class="n">userManager</span><span class="p">;</span>                             
            <span class="n">_signInManager</span> <span class="p">=</span> <span class="n">signInManager</span><span class="p">;</span>                             
            <span class="n">_logger</span> <span class="p">=</span> <span class="n">logger</span><span class="p">;</span>                               
        <span class="p">}</span>                               

        <span class="p">[</span><span class="n">BindProperty</span><span class="p">]</span>                              
        <span class="k">public</span> <span class="n">InputModel</span> <span class="n">Input</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>                               

        <span class="k">public</span> <span class="n">IList</span><span class="p">&lt;</span><span class="n">AuthenticationScheme</span><span class="p">&gt;</span> <span class="n">ExternalLogins</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>                             

        <span class="k">public</span> <span class="kt">string</span> <span class="n">ReturnUrl</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>                               

        <span class="p">[</span><span class="n">TempData</span><span class="p">]</span>                              
        <span class="k">public</span> <span class="kt">string</span> <span class="n">ErrorMessage</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>                                

        <span class="k">public</span> <span class="k">class</span> <span class="nc">InputModel</span>                             
        <span class="p">{</span>                               
            <span class="p">[</span><span class="n">Required</span><span class="p">]</span>                              
            <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>                                

            <span class="p">[</span><span class="n">Required</span><span class="p">]</span>                              
            <span class="p">[</span><span class="nf">DataType</span><span class="p">(</span><span class="n">DataType</span><span class="p">.</span><span class="n">Password</span><span class="p">)]</span>                               
            <span class="k">public</span> <span class="kt">string</span> <span class="n">Password</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>                                

            <span class="p">[</span><span class="nf">Display</span><span class="p">(</span><span class="n">Name</span> <span class="p">=</span> <span class="s">"Remember me?"</span><span class="p">)]</span>                                
            <span class="k">public</span> <span class="kt">bool</span> <span class="n">RememberMe</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>                                
        <span class="p">}</span>                               

        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">OnGetAsync</span><span class="p">(</span><span class="kt">string</span> <span class="n">returnUrl</span> <span class="p">=</span> <span class="k">null</span><span class="p">)</span>                               
        <span class="p">{</span>                               
            <span class="k">if</span> <span class="p">(!</span><span class="kt">string</span><span class="p">.</span><span class="nf">IsNullOrEmpty</span><span class="p">(</span><span class="n">ErrorMessage</span><span class="p">))</span>                                
            <span class="p">{</span>                               
                <span class="n">ModelState</span><span class="p">.</span><span class="nf">AddModelError</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="n">Empty</span><span class="p">,</span> <span class="n">ErrorMessage</span><span class="p">);</span>                               
            <span class="p">}</span>                               

            <span class="n">returnUrl</span> <span class="p">=</span> <span class="n">returnUrl</span> <span class="p">??</span> <span class="n">Url</span><span class="p">.</span><span class="nf">Content</span><span class="p">(</span><span class="s">"~/"</span><span class="p">);</span>                             

            <span class="c1">// Clear the existing external cookie to ensure a clean login process                               </span>
            <span class="k">await</span> <span class="n">HttpContext</span><span class="p">.</span><span class="nf">SignOutAsync</span><span class="p">(</span><span class="n">IdentityConstants</span><span class="p">.</span><span class="n">ExternalScheme</span><span class="p">);</span>                               

            <span class="n">ExternalLogins</span> <span class="p">=</span> <span class="p">(</span><span class="k">await</span> <span class="n">_signInManager</span><span class="p">.</span><span class="nf">GetExternalAuthenticationSchemesAsync</span><span class="p">()).</span><span class="nf">ToList</span><span class="p">();</span>                               

            <span class="n">ReturnUrl</span> <span class="p">=</span> <span class="n">returnUrl</span><span class="p">;</span>                              
        <span class="p">}</span>                               

        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">IActionResult</span><span class="p">&gt;</span> <span class="nf">OnPostAsync</span><span class="p">(</span><span class="kt">string</span> <span class="n">returnUrl</span> <span class="p">=</span> <span class="k">null</span><span class="p">)</span>                               
        <span class="p">{</span>                               
            <span class="n">returnUrl</span> <span class="p">=</span> <span class="n">returnUrl</span> <span class="p">??</span> <span class="n">Url</span><span class="p">.</span><span class="nf">Content</span><span class="p">(</span><span class="s">"~/"</span><span class="p">);</span>                             

            <span class="k">if</span> <span class="p">(</span><span class="n">ModelState</span><span class="p">.</span><span class="n">IsValid</span><span class="p">)</span>                             
            <span class="p">{</span>                               
                <span class="c1">// This doesn't count login failures towards account lockout                                </span>
                <span class="c1">// To enable password failures to trigger account lockout, set lockoutOnFailure: true                               </span>
                <span class="n">Input</span><span class="p">.</span><span class="n">Password</span> <span class="p">+=</span> <span class="s">"_Blazor"</span><span class="p">;</span>                                
                <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_signInManager</span><span class="p">.</span><span class="nf">PasswordSignInAsync</span><span class="p">(</span><span class="n">Input</span><span class="p">.</span><span class="n">Name</span><span class="p">,</span> <span class="n">Input</span><span class="p">.</span><span class="n">Password</span><span class="p">,</span> <span class="n">Input</span><span class="p">.</span><span class="n">RememberMe</span><span class="p">,</span> <span class="n">lockoutOnFailure</span><span class="p">:</span> <span class="k">false</span><span class="p">);</span>                               
                <span class="k">if</span> <span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">Succeeded</span><span class="p">)</span>                               
                <span class="p">{</span>                               
                    <span class="n">_logger</span><span class="p">.</span><span class="nf">LogInformation</span><span class="p">(</span><span class="s">"User logged in."</span><span class="p">);</span>                              
                    <span class="k">return</span> <span class="nf">LocalRedirect</span><span class="p">(</span><span class="n">returnUrl</span><span class="p">);</span>                                
                <span class="p">}</span>                               
                <span class="k">if</span> <span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">RequiresTwoFactor</span><span class="p">)</span>                               
                <span class="p">{</span>                               
                    <span class="k">return</span> <span class="nf">RedirectToPage</span><span class="p">(</span><span class="s">"./LoginWith2fa"</span><span class="p">,</span> <span class="k">new</span> <span class="p">{</span> <span class="n">ReturnUrl</span> <span class="p">=</span> <span class="n">returnUrl</span><span class="p">,</span> <span class="n">RememberMe</span> <span class="p">=</span> <span class="n">Input</span><span class="p">.</span><span class="n">RememberMe</span> <span class="p">});</span>                              
                <span class="p">}</span>                               
                <span class="k">if</span> <span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">IsLockedOut</span><span class="p">)</span>                             
                <span class="p">{</span>                               
                    <span class="n">_logger</span><span class="p">.</span><span class="nf">LogWarning</span><span class="p">(</span><span class="s">"User account locked out."</span><span class="p">);</span>                             
                    <span class="k">return</span> <span class="nf">RedirectToPage</span><span class="p">(</span><span class="s">"./Lockout"</span><span class="p">);</span>                             
                <span class="p">}</span>                               
                <span class="k">else</span>                                
                <span class="p">{</span>                               
                    <span class="n">ModelState</span><span class="p">.</span><span class="nf">AddModelError</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="n">Empty</span><span class="p">,</span> <span class="s">"Invalid login attempt."</span><span class="p">);</span>                               
                    <span class="k">return</span> <span class="nf">Page</span><span class="p">();</span>                              
                <span class="p">}</span>                               
            <span class="p">}</span>                               

            <span class="c1">// If we got this far, something failed, redisplay form                             </span>
            <span class="k">return</span> <span class="nf">Page</span><span class="p">();</span>                              
        <span class="p">}</span>                               
    <span class="p">}</span>                               
<span class="p">}</span>                               
</code></pre></div>
</div>

<div class="code-frame" data-lang="C#">
<div class="code-lang"><span class="bold">Register.cshtml.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>                   
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>                   
<span class="k">using</span> <span class="nn">System.ComponentModel.DataAnnotations</span><span class="p">;</span>                    
<span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>                  
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>                  
<span class="k">using</span> <span class="nn">System.Text.Encodings.Web</span><span class="p">;</span>                    
<span class="k">using</span> <span class="nn">System.Threading.Tasks</span><span class="p">;</span>                   
<span class="k">using</span> <span class="nn">Microsoft.AspNetCore.Authentication</span><span class="p">;</span>                  
<span class="k">using</span> <span class="nn">Microsoft.AspNetCore.Authorization</span><span class="p">;</span>                   
<span class="k">using</span> <span class="nn">Microsoft.AspNetCore.Identity</span><span class="p">;</span>                    
<span class="k">using</span> <span class="nn">Microsoft.AspNetCore.Identity.UI.Services</span><span class="p">;</span>                    
<span class="k">using</span> <span class="nn">Microsoft.AspNetCore.Mvc</span><span class="p">;</span>                 
<span class="k">using</span> <span class="nn">Microsoft.AspNetCore.Mvc.RazorPages</span><span class="p">;</span>                  
<span class="k">using</span> <span class="nn">Microsoft.AspNetCore.WebUtilities</span><span class="p">;</span>                    
<span class="k">using</span> <span class="nn">Microsoft.Extensions.Logging</span><span class="p">;</span>                 

<span class="k">namespace</span> <span class="nn">HelloBlazorGoodByeJavaScript.Areas.Identity.Pages.Account</span>                 
<span class="p">{</span>                   
    <span class="p">[</span><span class="n">AllowAnonymous</span><span class="p">]</span>                    
    <span class="k">public</span> <span class="k">class</span> <span class="nc">RegisterModel</span> <span class="p">:</span> <span class="n">PageModel</span>                  
    <span class="p">{</span>                   
        <span class="k">private</span> <span class="k">readonly</span> <span class="n">SignInManager</span><span class="p">&lt;</span><span class="n">IdentityUser</span><span class="p">&gt;</span> <span class="n">_signInManager</span><span class="p">;</span>                    
        <span class="k">private</span> <span class="k">readonly</span> <span class="n">UserManager</span><span class="p">&lt;</span><span class="n">IdentityUser</span><span class="p">&gt;</span> <span class="n">_userManager</span><span class="p">;</span>                    
        <span class="k">private</span> <span class="k">readonly</span> <span class="n">ILogger</span><span class="p">&lt;</span><span class="n">RegisterModel</span><span class="p">&gt;</span> <span class="n">_logger</span><span class="p">;</span>                    
        <span class="k">private</span> <span class="k">readonly</span> <span class="n">IEmailSender</span> <span class="n">_emailSender</span><span class="p">;</span>                 

        <span class="k">public</span> <span class="nf">RegisterModel</span><span class="p">(</span>                   
            <span class="n">UserManager</span><span class="p">&lt;</span><span class="n">IdentityUser</span><span class="p">&gt;</span> <span class="n">userManager</span><span class="p">,</span>                  
            <span class="n">SignInManager</span><span class="p">&lt;</span><span class="n">IdentityUser</span><span class="p">&gt;</span> <span class="n">signInManager</span><span class="p">,</span>                  
            <span class="n">ILogger</span><span class="p">&lt;</span><span class="n">RegisterModel</span><span class="p">&gt;</span> <span class="n">logger</span><span class="p">,</span>                  
            <span class="n">IEmailSender</span> <span class="n">emailSender</span><span class="p">)</span>                   
        <span class="p">{</span>                   
            <span class="n">_userManager</span> <span class="p">=</span> <span class="n">userManager</span><span class="p">;</span>                 
            <span class="n">_signInManager</span> <span class="p">=</span> <span class="n">signInManager</span><span class="p">;</span>                 
            <span class="n">_logger</span> <span class="p">=</span> <span class="n">logger</span><span class="p">;</span>                   
            <span class="n">_emailSender</span> <span class="p">=</span> <span class="n">emailSender</span><span class="p">;</span>                 
        <span class="p">}</span>                   

        <span class="p">[</span><span class="n">BindProperty</span><span class="p">]</span>                  
        <span class="k">public</span> <span class="n">InputModel</span> <span class="n">Input</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>                   

        <span class="k">public</span> <span class="kt">string</span> <span class="n">ReturnUrl</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>                   

        <span class="k">public</span> <span class="n">IList</span><span class="p">&lt;</span><span class="n">AuthenticationScheme</span><span class="p">&gt;</span> <span class="n">ExternalLogins</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>                 

        <span class="k">public</span> <span class="k">class</span> <span class="nc">InputModel</span>                 
        <span class="p">{</span>                   
            <span class="p">[</span><span class="n">Required</span><span class="p">]</span>                  
            <span class="c1">//[EmailAddress]                    </span>
            <span class="c1">//[Display(Name = "Name")]                  </span>
            <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>                    

            <span class="p">[</span><span class="n">Required</span><span class="p">]</span>                  
            <span class="c1">//[StringLength(100, ErrorMessage = "The {0} must be at least {2} and at max {1} characters long.", MinimumLength = 6)]                 </span>
            <span class="p">[</span><span class="nf">DataType</span><span class="p">(</span><span class="n">DataType</span><span class="p">.</span><span class="n">Password</span><span class="p">)]</span>                   
            <span class="p">[</span><span class="nf">Display</span><span class="p">(</span><span class="n">Name</span> <span class="p">=</span> <span class="s">"Password"</span><span class="p">)]</span>                    
            <span class="k">public</span> <span class="kt">string</span> <span class="n">Password</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>                    

            <span class="p">[</span><span class="nf">DataType</span><span class="p">(</span><span class="n">DataType</span><span class="p">.</span><span class="n">Password</span><span class="p">)]</span>                   
            <span class="p">[</span><span class="nf">Display</span><span class="p">(</span><span class="n">Name</span> <span class="p">=</span> <span class="s">"Confirm password"</span><span class="p">)]</span>                    
            <span class="p">[</span><span class="nf">Compare</span><span class="p">(</span><span class="s">"Password"</span><span class="p">,</span> <span class="n">ErrorMessage</span> <span class="p">=</span> <span class="s">"The password and confirmation password do not match."</span><span class="p">)]</span>                    
            <span class="k">public</span> <span class="kt">string</span> <span class="n">ConfirmPassword</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>                 
        <span class="p">}</span>                   

        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">OnGetAsync</span><span class="p">(</span><span class="kt">string</span> <span class="n">returnUrl</span> <span class="p">=</span> <span class="k">null</span><span class="p">)</span>                   
        <span class="p">{</span>                   
            <span class="n">ReturnUrl</span> <span class="p">=</span> <span class="n">returnUrl</span><span class="p">;</span>                  
            <span class="n">ExternalLogins</span> <span class="p">=</span> <span class="p">(</span><span class="k">await</span> <span class="n">_signInManager</span><span class="p">.</span><span class="nf">GetExternalAuthenticationSchemesAsync</span><span class="p">()).</span><span class="nf">ToList</span><span class="p">();</span>                   
        <span class="p">}</span>                   

        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">IActionResult</span><span class="p">&gt;</span> <span class="nf">OnPostAsync</span><span class="p">(</span><span class="kt">string</span> <span class="n">returnUrl</span> <span class="p">=</span> <span class="k">null</span><span class="p">)</span>                   
        <span class="p">{</span>                   
            <span class="n">returnUrl</span> <span class="p">=</span> <span class="n">returnUrl</span> <span class="p">??</span> <span class="n">Url</span><span class="p">.</span><span class="nf">Content</span><span class="p">(</span><span class="s">"~/"</span><span class="p">);</span>                 
            <span class="n">ExternalLogins</span> <span class="p">=</span> <span class="p">(</span><span class="k">await</span> <span class="n">_signInManager</span><span class="p">.</span><span class="nf">GetExternalAuthenticationSchemesAsync</span><span class="p">()).</span><span class="nf">ToList</span><span class="p">();</span>                   
            <span class="k">if</span> <span class="p">(</span><span class="n">ModelState</span><span class="p">.</span><span class="n">IsValid</span><span class="p">)</span>                 
            <span class="p">{</span>                   
                <span class="kt">var</span> <span class="n">user</span> <span class="p">=</span> <span class="k">new</span> <span class="n">IdentityUser</span> <span class="p">{</span> <span class="n">UserName</span> <span class="p">=</span> <span class="n">Input</span><span class="p">.</span><span class="n">Name</span><span class="p">,</span> <span class="n">EmailConfirmed</span> <span class="p">=</span> <span class="k">true</span> <span class="p">};</span>                   
                <span class="n">Input</span><span class="p">.</span><span class="n">Password</span> <span class="p">+=</span> <span class="s">"_Blazor"</span><span class="p">;</span>                    
                <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_userManager</span><span class="p">.</span><span class="nf">CreateAsync</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">Input</span><span class="p">.</span><span class="n">Password</span><span class="p">);</span>                  
                <span class="k">if</span> <span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">Succeeded</span><span class="p">)</span>                   
                <span class="p">{</span>                   
                    <span class="n">_logger</span><span class="p">.</span><span class="nf">LogInformation</span><span class="p">(</span><span class="s">"User created a new account with password."</span><span class="p">);</span>                    

                    <span class="c1">//var code = await _userManager.GenerateEmailConfirmationTokenAsync(user);                  </span>
                    <span class="c1">//code = WebEncoders.Base64UrlEncode(Encoding.UTF8.GetBytes(code));                 </span>
                    <span class="c1">//var callbackUrl = Url.Page(                   </span>
                    <span class="c1">//    "/Account/ConfirmEmail",                  </span>
                    <span class="c1">//    pageHandler: null,                    </span>
                    <span class="c1">//    values: new { area = "Identity", userId = user.Id, code = code },                 </span>
                    <span class="c1">//    protocol: Request.Scheme);                    </span>

                    <span class="c1">//await _emailSender.SendEmailAsync(Input.Email, "Confirm your email",                  </span>
                    <span class="c1">//    $"Please confirm your account by &lt;a href='{HtmlEncoder.Default.Encode(callbackUrl)}'&gt;clicking here&lt;/a&gt;.");                    </span>

                    <span class="c1">//if (_userManager.Options.SignIn.RequireConfirmedAccount)                  </span>
                    <span class="c1">//{                 </span>
                    <span class="c1">//    return RedirectToPage("RegisterConfirmation", new { email = Input.Email });                   </span>
                    <span class="c1">//}                 </span>
                    <span class="c1">//else                  </span>
                    <span class="c1">//{                 </span>
                    <span class="k">await</span> <span class="n">_signInManager</span><span class="p">.</span><span class="nf">SignInAsync</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">isPersistent</span><span class="p">:</span> <span class="k">false</span><span class="p">);</span>                    
                    <span class="k">return</span> <span class="nf">LocalRedirect</span><span class="p">(</span><span class="n">returnUrl</span><span class="p">);</span>                    
                    <span class="c1">//}                 </span>
                <span class="p">}</span>                   
                <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">error</span> <span class="k">in</span> <span class="n">result</span><span class="p">.</span><span class="n">Errors</span><span class="p">)</span>                    
                <span class="p">{</span>                   
                    <span class="n">ModelState</span><span class="p">.</span><span class="nf">AddModelError</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="n">Empty</span><span class="p">,</span> <span class="n">error</span><span class="p">.</span><span class="n">Description</span><span class="p">);</span>                  
                <span class="p">}</span>                   
            <span class="p">}</span>                   

            <span class="c1">// If we got this far, something failed, redisplay form                 </span>
            <span class="k">return</span> <span class="nf">Page</span><span class="p">();</span>                  
        <span class="p">}</span>                   
    <span class="p">}</span>                   
<span class="p">}</span>                   
</code></pre></div>
</div>

<div class="code-frame" data-lang="html">
<div class="code-lang"><span class="bold">Login.cshtml</span></div>
<div class="highlight"><pre class="with-code"><code>@page                   
@model LoginModel                   

@{                  
    ViewData["Title"] = "Log in";                   
}                   

<span class="nt">&lt;h1&gt;</span>@ViewData["Title"]<span class="nt">&lt;/h1&gt;</span>                 
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>                   
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-md-4"</span><span class="nt">&gt;</span>                  
        <span class="nt">&lt;section&gt;</span>                   
            <span class="nt">&lt;form</span> <span class="na">id=</span><span class="s">"account"</span> <span class="na">method=</span><span class="s">"post"</span><span class="nt">&gt;</span>                   
                <span class="nt">&lt;h4&gt;</span>Use a local account to log in.<span class="nt">&lt;/h4&gt;</span>                 
                <span class="nt">&lt;hr</span> <span class="nt">/&gt;</span>                  
                <span class="nt">&lt;div</span> <span class="na">asp-validation-summary=</span><span class="s">"All"</span> <span class="na">class=</span><span class="s">"text-danger"</span><span class="nt">&gt;&lt;/div&gt;</span>                    
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"form-group"</span><span class="nt">&gt;</span>                    
                    <span class="nt">&lt;label</span> <span class="na">asp-for=</span><span class="s">"Input.Name"</span><span class="nt">&gt;&lt;/label&gt;</span>                    
                    <span class="nt">&lt;input</span> <span class="na">asp-for=</span><span class="s">"Input.Name"</span> <span class="na">class=</span><span class="s">"form-control"</span> <span class="nt">/&gt;</span>                 
                    @*<span class="nt">&lt;span</span> <span class="na">asp-validation-for=</span><span class="s">"Input.Email"</span> <span class="na">class=</span><span class="s">"text-danger"</span><span class="nt">&gt;&lt;/span&gt;</span>*@                  
                <span class="nt">&lt;/div&gt;</span>                  
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"form-group"</span><span class="nt">&gt;</span>                    
                    <span class="nt">&lt;label</span> <span class="na">asp-for=</span><span class="s">"Input.Password"</span><span class="nt">&gt;&lt;/label&gt;</span>                    
                    <span class="nt">&lt;input</span> <span class="na">asp-for=</span><span class="s">"Input.Password"</span> <span class="na">class=</span><span class="s">"form-control"</span> <span class="nt">/&gt;</span>                 
                    @*<span class="nt">&lt;span</span> <span class="na">asp-validation-for=</span><span class="s">"Input.Password"</span> <span class="na">class=</span><span class="s">"text-danger"</span><span class="nt">&gt;&lt;/span&gt;</span>*@                   
                <span class="nt">&lt;/div&gt;</span>                  
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"form-group"</span><span class="nt">&gt;</span>                    
                    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"checkbox"</span><span class="nt">&gt;</span>                  
                        <span class="nt">&lt;label</span> <span class="na">asp-for=</span><span class="s">"Input.RememberMe"</span><span class="nt">&gt;</span>                  
                            <span class="nt">&lt;input</span> <span class="na">asp-for=</span><span class="s">"Input.RememberMe"</span> <span class="nt">/&gt;</span>                    
                            @Html.DisplayNameFor(m =&gt; m.Input.RememberMe)                   
                        <span class="nt">&lt;/label&gt;</span>                    
                    <span class="nt">&lt;/div&gt;</span>                  
                <span class="nt">&lt;/div&gt;</span>                  
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"form-group"</span><span class="nt">&gt;</span>                    
                    <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">class=</span><span class="s">"btn btn-primary"</span><span class="nt">&gt;</span>Log in<span class="nt">&lt;/button&gt;</span>                   
                <span class="nt">&lt;/div&gt;</span>                  
                @*<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"form-group"</span><span class="nt">&gt;</span>                  
                    <span class="nt">&lt;p&gt;</span>                 
                        <span class="nt">&lt;a</span> <span class="na">id=</span><span class="s">"forgot-password"</span> <span class="na">asp-page=</span><span class="s">"./ForgotPassword"</span><span class="nt">&gt;</span>Forgot your password?<span class="nt">&lt;/a&gt;</span>                   
                    <span class="nt">&lt;/p&gt;</span>                    
                    <span class="nt">&lt;p&gt;</span>                 
                        <span class="nt">&lt;a</span> <span class="na">asp-page=</span><span class="s">"./Register"</span> <span class="na">asp-route-returnUrl=</span><span class="s">"@Model.ReturnUrl"</span><span class="nt">&gt;</span>Register as a new user<span class="nt">&lt;/a&gt;</span>                  
                    <span class="nt">&lt;/p&gt;</span>                    
                    <span class="nt">&lt;p&gt;</span>                 
                        <span class="nt">&lt;a</span> <span class="na">id=</span><span class="s">"resend-confirmation"</span> <span class="na">asp-page=</span><span class="s">"./ResendEmailConfirmation"</span><span class="nt">&gt;</span>Resend email confirmation<span class="nt">&lt;/a&gt;</span>                  
                    <span class="nt">&lt;/p&gt;</span>                    
                <span class="nt">&lt;/div&gt;</span>*@                    
            <span class="nt">&lt;/form&gt;</span>                 
        <span class="nt">&lt;/section&gt;</span>                  
    <span class="nt">&lt;/div&gt;</span>                  
    @*<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-md-6 col-md-offset-2"</span><span class="nt">&gt;</span>                    
        <span class="nt">&lt;section&gt;</span>                   
            <span class="nt">&lt;h4&gt;</span>Use another service to log in.<span class="nt">&lt;/h4&gt;</span>                 
            <span class="nt">&lt;hr</span> <span class="nt">/&gt;</span>                  
            @{                  
                if ((Model.ExternalLogins?.Count ?? 0) == 0)                    
                {                   
                    <span class="nt">&lt;div&gt;</span>                   
                        <span class="nt">&lt;p&gt;</span>                 
                            There are no external authentication services configured. See <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"https://go.microsoft.com/fwlink/?LinkID=532715"</span><span class="nt">&gt;</span>this article<span class="nt">&lt;/a&gt;</span>                 
                            for details on setting up this ASP.NET application to support logging in via external services.                 
                        <span class="nt">&lt;/p&gt;</span>                    
                    <span class="nt">&lt;/div&gt;</span>                  
                }                   
                else                    
                {                   
                    <span class="nt">&lt;form</span> <span class="na">id=</span><span class="s">"external-account"</span> <span class="na">asp-page=</span><span class="s">"./ExternalLogin"</span> <span class="na">asp-route-returnUrl=</span><span class="s">"@Model.ReturnUrl"</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">class=</span><span class="s">"form-horizontal"</span><span class="nt">&gt;</span>                    
                        <span class="nt">&lt;div&gt;</span>                   
                            <span class="nt">&lt;p&gt;</span>                 
                                @foreach (var provider in Model.ExternalLogins)                 
                                {                   
                                    <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">class=</span><span class="s">"btn btn-primary"</span> <span class="na">name=</span><span class="s">"provider"</span> <span class="na">value=</span><span class="s">"@provider.Name"</span> <span class="na">title=</span><span class="s">"Log in using your @provider.DisplayName account"</span><span class="nt">&gt;</span>@provider.DisplayName<span class="nt">&lt;/button&gt;</span>                 
                                }                   
                            <span class="nt">&lt;/p&gt;</span>                    
                        <span class="nt">&lt;/div&gt;</span>                  
                    <span class="nt">&lt;/form&gt;</span>                 
                }                   
            }                   
        <span class="nt">&lt;/section&gt;</span>                  
    <span class="nt">&lt;/div&gt;</span>*@                    
<span class="nt">&lt;/div&gt;</span>                  

@section Scripts {                  
    <span class="nt">&lt;partial</span> <span class="na">name=</span><span class="s">"_ValidationScriptsPartial"</span> <span class="nt">/&gt;</span>                    
}                   
</code></pre></div>
</div>

<div class="code-frame" data-lang="html">
<div class="code-lang"><span class="bold">Register.cshtml</span></div>
<div class="highlight"><pre class="with-code"><code>@page               
@model RegisterModel                
@{              
    ViewData["Title"] = "Register";             
}               

<span class="nt">&lt;h1&gt;</span>@ViewData["Title"]<span class="nt">&lt;/h1&gt;</span>             

<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>               
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-md-4"</span><span class="nt">&gt;</span>              
        <span class="nt">&lt;form</span> <span class="na">asp-route-returnUrl=</span><span class="s">"@Model.ReturnUrl"</span> <span class="na">method=</span><span class="s">"post"</span><span class="nt">&gt;</span>             
            <span class="nt">&lt;h4&gt;</span>Create a new account.<span class="nt">&lt;/h4&gt;</span>              
            <span class="nt">&lt;hr</span> <span class="nt">/&gt;</span>              
            <span class="nt">&lt;div</span> <span class="na">asp-validation-summary=</span><span class="s">"All"</span> <span class="na">class=</span><span class="s">"text-danger"</span><span class="nt">&gt;&lt;/div&gt;</span>                
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"form-group"</span><span class="nt">&gt;</span>                
                <span class="nt">&lt;label</span> <span class="na">asp-for=</span><span class="s">"Input.Name"</span><span class="nt">&gt;&lt;/label&gt;</span>                
                <span class="nt">&lt;input</span> <span class="na">asp-for=</span><span class="s">"Input.Name"</span> <span class="na">class=</span><span class="s">"form-control"</span> <span class="nt">/&gt;</span>             
                @*<span class="nt">&lt;span</span> <span class="na">asp-validation-for=</span><span class="s">"Input.Name"</span> <span class="na">class=</span><span class="s">"text-danger"</span><span class="nt">&gt;&lt;/span&gt;</span>*@               
            <span class="nt">&lt;/div&gt;</span>              
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"form-group"</span><span class="nt">&gt;</span>                
                <span class="nt">&lt;label</span> <span class="na">asp-for=</span><span class="s">"Input.Password"</span><span class="nt">&gt;&lt;/label&gt;</span>                
                <span class="nt">&lt;input</span> <span class="na">asp-for=</span><span class="s">"Input.Password"</span> <span class="na">class=</span><span class="s">"form-control"</span> <span class="nt">/&gt;</span>             
                @*<span class="nt">&lt;span</span> <span class="na">asp-validation-for=</span><span class="s">"Input.Password"</span> <span class="na">class=</span><span class="s">"text-danger"</span><span class="nt">&gt;&lt;/span&gt;</span>*@               
            <span class="nt">&lt;/div&gt;</span>              
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"form-group"</span><span class="nt">&gt;</span>                
                <span class="nt">&lt;label</span> <span class="na">asp-for=</span><span class="s">"Input.ConfirmPassword"</span><span class="nt">&gt;&lt;/label&gt;</span>             
                <span class="nt">&lt;input</span> <span class="na">asp-for=</span><span class="s">"Input.ConfirmPassword"</span> <span class="na">class=</span><span class="s">"form-control"</span> <span class="nt">/&gt;</span>              
                <span class="nt">&lt;span</span> <span class="na">asp-validation-for=</span><span class="s">"Input.ConfirmPassword"</span> <span class="na">class=</span><span class="s">"text-danger"</span><span class="nt">&gt;&lt;/span&gt;</span>                
            <span class="nt">&lt;/div&gt;</span>              
            <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">class=</span><span class="s">"btn btn-primary"</span><span class="nt">&gt;</span>Register<span class="nt">&lt;/button&gt;</span>             
        <span class="nt">&lt;/form&gt;</span>             
    <span class="nt">&lt;/div&gt;</span>              
    @*<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-md-6 col-md-offset-2"</span><span class="nt">&gt;</span>                
        <span class="nt">&lt;section&gt;</span>               
            <span class="nt">&lt;h4&gt;</span>Use another service to register.<span class="nt">&lt;/h4&gt;</span>               
            <span class="nt">&lt;hr</span> <span class="nt">/&gt;</span>              
            @{              
                if ((Model.ExternalLogins?.Count ?? 0) == 0)                
                {               
                    <span class="nt">&lt;div&gt;</span>               
                        <span class="nt">&lt;p&gt;</span>             
                            There are no external authentication services configured. See <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"https://go.microsoft.com/fwlink/?LinkID=532715"</span><span class="nt">&gt;</span>this article<span class="nt">&lt;/a&gt;</span>             
                            for details on setting up this ASP.NET application to support logging in via external services.             
                        <span class="nt">&lt;/p&gt;</span>                
                    <span class="nt">&lt;/div&gt;</span>              
                }               
                else                
                {               
                    <span class="nt">&lt;form</span> <span class="na">id=</span><span class="s">"external-account"</span> <span class="na">asp-page=</span><span class="s">"./ExternalLogin"</span> <span class="na">asp-route-returnUrl=</span><span class="s">"@Model.ReturnUrl"</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">class=</span><span class="s">"form-horizontal"</span><span class="nt">&gt;</span>                
                        <span class="nt">&lt;div&gt;</span>               
                            <span class="nt">&lt;p&gt;</span>             
                                @foreach (var provider in Model.ExternalLogins)             
                                {               
                                    <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">class=</span><span class="s">"btn btn-primary"</span> <span class="na">name=</span><span class="s">"provider"</span> <span class="na">value=</span><span class="s">"@provider.Name"</span> <span class="na">title=</span><span class="s">"Log in using your @provider.DisplayName account"</span><span class="nt">&gt;</span>@provider.DisplayName<span class="nt">&lt;/button&gt;</span>             
                                }               
                            <span class="nt">&lt;/p&gt;</span>                
                        <span class="nt">&lt;/div&gt;</span>              
                    <span class="nt">&lt;/form&gt;</span>             
                }               
            }               
        <span class="nt">&lt;/section&gt;</span>              
    <span class="nt">&lt;/div&gt;</span>*@                
<span class="nt">&lt;/div&gt;</span>              

@section Scripts {              
    <span class="nt">&lt;partial</span> <span class="na">name=</span><span class="s">"_ValidationScriptsPartial"</span> <span class="nt">/&gt;</span>                
}               
</code></pre></div>
</div>

<p>ではあらためて登録してみます。EmailだったところがNameに変わっているので名前を入力し、パスワードは単純に「1234」を入れています。<br>
<a href="https://camo.qiitausercontent.com/aabde4f8884f0b016316451d6cc3f59d2f2d9bb8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f61396263303431392d623633312d363535652d333338622d6637303663633064326334622e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Fa9bc0419-b631-655e-338b-f706cc0d2c4b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d81d932bc9b90d5484715688d6271392" alt="image25.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/a9bc0419-b631-655e-338b-f706cc0d2c4b.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Fa9bc0419-b631-655e-338b-f706cc0d2c4b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=ee09bd7bd717e32a146303c7be7c8baa 1x" loading="lazy"></a><br>
ページの右上に登録時に入力した名前が表示され、また先ほど見れなかったCounterページにアクセスできていれば成功です。<br>
ログアウトやログインもできるようになっているはずです。<br>
<a href="https://camo.qiitausercontent.com/ae5fe1f7b29b157597a4cd623f4b52a2f6a373b9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f36386538393938342d366434662d353134382d353838332d3739333362353932643138642e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F68e89984-6d4f-5148-5883-7933b592d18d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=b2f33e004c05258d497694f264dece88" alt="image26.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/68e89984-6d4f-5148-5883-7933b592d18d.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F68e89984-6d4f-5148-5883-7933b592d18d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=27767cce35a1f68464526ef56048264c 1x" loading="lazy"></a><br>
ログイン画面<br>
<a href="https://camo.qiitausercontent.com/cf279b125695335c31d0139ee2d702b6acf67fad/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f36643764363432642d646436372d383061332d306165302d6130613234376335316333342e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F6d7d642d-dd67-80a3-0ae0-a0a247c51c34.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=67ae6b67dcacb71b0393a81573475612" alt="image27.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/6d7d642d-dd67-80a3-0ae0-a0a247c51c34.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F6d7d642d-dd67-80a3-0ae0-a0a247c51c34.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=15d51092c65f8afc725a83bd8173f3d8 1x" loading="lazy"></a><br>
本格的なカスタマイズにはC#以外にRazor記法や タグヘルパーを駆使する必要がありますが、ひとまずBlazorアプリのプロジェクト作成からログイン機能実装までを行うことができました。</p>

<p>次回はDBの参照、登録、削除といったCRUD処理を追加する予定です。コンテキストファイルが複数あるので、少しだけ工夫が必要です。</p>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2FMutz%2Fitems%2F1b0d7a826004dd9272db&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2FMutz%2Fitems%2F1b0d7a826004dd9272db&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/Mutz/items/1b0d7a826004dd9272db/likers" class="css-1iupg5d">53</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">60</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/1b0d7a826004dd9272db/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/Mutz/items/1b0d7a826004dd9272db/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/Mutz/items/1b0d7a826004dd9272db/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/Mutz/items/1b0d7a826004dd9272db/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/Mutz/items/1b0d7a826004dd9272db.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-9807cb32-52f3-4856-a972-c0e46b60468f">{"authorAnalyticsTrackingId":null,"organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-3a096ca6-6a7c-4060-8e82-df4435e44ba5"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-3a096ca6-6a7c-4060-8e82-df4435e44ba5">{}</script>
      
<div id="LoginModal-react-component-d0bcf8db-1953-4525-92e9-cab9ddcf53ef"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-d0bcf8db-1953-4525-92e9-cab9ddcf53ef">{}</script>
      
<div id="StockModal-react-component-bbb69282-dd6f-4475-805c-29289af12520"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-bbb69282-dd6f-4475-805c-29289af12520">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;eKRPZseR/MT95GCwpmYac1hr/cbqU4T5jrUTio2oTWaDRAxRQqO9aihYrCAekXh7IY9p4dVWERgJxVixURiOVw==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\n\u003ch1\u003e\n\u003cspan id=\"blazorとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#blazor%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eBlazorとは\u003c/h1\u003e\n\n\u003cp\u003eBlazorとは、一言で説明すると「C#ですべてを作る」ことを考えたフレームワークです。\u003c/p\u003e\n\n\u003cp\u003e昨今のJavaScriptライブラリの進化やフレームワークの機能の充実には目を見張るものがあります。\u003cbr\u003e\nクライアントサイドでもダイナミックな処理が可能となった反面、非同期処理によるリアルタイム更新が当然のように求められ開発者に掛かる負担は大きくなっています。\u003cbr\u003e\nMVCモデルを前提としたフレームワークが出てきた頃から、「クライアントサイドとサーバサイドを分離することでデザイナーとプログラマーの協業がしやすく云々」という説明をよく目にしますが、「いやデザイナーなんて社内にいねーから」というほとんで一人でやらなきゃいけない（当然JavaScriptも使いこなさなきゃいけない）技術者＠零細開発会社への福音になるかもしれないので、個人的には今後の主流になってほしいと願っています。\u003c/p\u003e\n\n\u003cp\u003eこの記事では、Blazorのプロジェクト作成から、.NET Identity をカスタマイズした認証機能作成までの流れを見ていきたいと思います。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"環境\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%92%B0%E5%A2%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e環境\u003c/h1\u003e\n\n\u003cul\u003e\n\u003cli\u003eWindows 10\u003c/li\u003e\n\u003cli\u003e.NET Core SDK 3.1.201\u003c/li\u003e\n\u003cli\u003eVisual Studio 2019 16.5.4\u003c/li\u003e\n\u003cli\u003eSQL Server 2019（とプロジェクト用のデータベース）\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"blazorプロジェクトの作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#blazor%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eBlazorプロジェクトの作成\u003c/h1\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"1-テンプレートの選択\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%81%AE%E9%81%B8%E6%8A%9E\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. テンプレートの選択\u003c/h4\u003e\n\n\u003cp\u003eBlazorアプリケーションは、ASP.NET Coreにプロジェクトテンプレートとして用意されています。\u003cbr\u003e\nVisual Studioの「新しいプロジェクトの作成」で、プロジェクトテンプレートに「Blazor」アプリを選択します。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/59b85997926e30296daa0e49496c20aa5cddd32f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f32616266306137392d323935612d646532342d326265622d3334383637363565333364302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F2abf0a79-295a-de24-2beb-3486765e33d0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4ed4286e947b4f482fa06b1e2c31dfc0\" alt=\"image2.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/2abf0a79-295a-de24-2beb-3486765e33d0.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F2abf0a79-295a-de24-2beb-3486765e33d0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=585647bcedd820062f1d8d5b18ed84ec 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"2-プロジェクト名の入力\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E5%90%8D%E3%81%AE%E5%85%A5%E5%8A%9B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. プロジェクト名の入力\u003c/h4\u003e\n\n\u003cp\u003eプロジェクト名を入力して作成を押します\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/0305506060e859c2a6dcecfa77c8c411cf56f923/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f61623932616163332d363539622d363262372d623739642d3636396262363630356632352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Fab92aac3-659b-62b7-b79d-669bb6605f25.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2762a13811d89ddaba12df53980a2819\" alt=\"image1.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/ab92aac3-659b-62b7-b79d-669bb6605f25.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Fab92aac3-659b-62b7-b79d-669bb6605f25.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=73adae25833363e1bf8fe4ff2814d899 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"3-認証設定の変更\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3-%E8%AA%8D%E8%A8%BC%E8%A8%AD%E5%AE%9A%E3%81%AE%E5%A4%89%E6%9B%B4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3. 認証設定の変更\u003c/h4\u003e\n\n\u003cp\u003eBlazor サーバーアプリを選択し、認証なしになっているので変更を選択します\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/644c570a84fb7f5c351ca5a284c254e02be6c894/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f37303564313839662d333935372d323932362d363833662d3338616261636531646339312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F705d189f-3957-2926-683f-38abace1dc91.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e9640147d2b5415b31a1173baa4ca3cc\" alt=\"image3.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/705d189f-3957-2926-683f-38abace1dc91.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F705d189f-3957-2926-683f-38abace1dc91.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9f7b345267bc0af0287ec68d20ebb811 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n個別のユーザーアカウント→アプリ内のストア ユーザーアカウントが選択されていることを確認し、OKをクリックしプロジェクトを作成して下さい\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/322ee4c5334a835867e70cad7f8a5430421df15c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f64653330313437612d646465382d336264332d613637332d3237356563393034376466332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Fde30147a-dde8-3bd3-a673-275ec9047df3.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=0531e2a7feb0b0fe3f408baea15d44b3\" alt=\"image4.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/de30147a-dde8-3bd3-a673-275ec9047df3.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Fde30147a-dde8-3bd3-a673-275ec9047df3.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=d3cd1b3c7a052b88a6f911418a9d944a 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nこれでプロジェクトが作成されます。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"プロジェクト構成の確認と実行\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%A7%8B%E6%88%90%E3%81%AE%E7%A2%BA%E8%AA%8D%E3%81%A8%E5%AE%9F%E8%A1%8C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eプロジェクト構成の確認と実行\u003c/h1\u003e\n\n\u003cp\u003eプロジェクトの構成はこんな感じになっていると思います。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/44e6455b2c99473cd82fdb13ce6832fcd704905c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f31386637656330612d383036322d376139362d346666302d3131356166653933356363302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F18f7ec0a-8062-7a96-4ff0-115afe935cc0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=f1528bf81426f93736e3be3fe7d91e28\" alt=\"image5.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/18f7ec0a-8062-7a96-4ff0-115afe935cc0.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F18f7ec0a-8062-7a96-4ff0-115afe935cc0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=0bc4483961f75193a2cb0436833f798e 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align: left\"\u003eフォルダ名\u003c/th\u003e\n\u003cth style=\"text-align: left\"\u003e役割\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003eAreas\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e認証ありにした場合、Identityフォルダが作成される\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003eData\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eDbコンテキストがある\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003ePages\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eRazorのページファイルがある\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003eShared\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eレイアウトに関する共用ファイルがある\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003ewwwroot\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003ebootstrapやファビコンなどの静的ファイル置き場\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align: left\"\u003eファイル名\u003c/th\u003e\n\u003cth style=\"text-align: left\"\u003e役割\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003e_Imports.razor\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eパッケージのインポートを行っている\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003eApp.razor\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eアプリ全体のレイアウトに使用するRazorファイルを決定している\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003eappsettings.json\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e接続文字列やログなどのアプリの設定情報\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003eProgram.cs\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eおなじみの起動プログラム\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003eStartup.cs\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eアプリ起動時の初期化処理\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003e念のため、依存関係→パッケージからEntityFramework、Identity、SQLServer、Toolsなどのパッケージがインストール済みか確認してください。\u003cbr\u003e\nもしなければここまでの手順をやりなおすか、NuGetパッケージマネージャーからインストールしてください。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/d97c96120180e0caa041179498e77f54585c1c30/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f38303534666461392d376331392d663233662d666535662d6165616336393438353335352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F8054fda9-7c19-f23f-fe5f-aeac69485355.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=faddf676ffd05118a46c1783b923e802\" alt=\"image6.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/8054fda9-7c19-f23f-fe5f-aeac69485355.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F8054fda9-7c19-f23f-fe5f-aeac69485355.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=19787f32fa5344931880b35180055875 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"サンプルプロジェクトの実行\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AB%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E5%AE%9F%E8%A1%8C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eサンプルプロジェクトの実行\u003c/h4\u003e\n\n\u003cp\u003eF5をクリック、もしくは「IIS Express」をクリックしてサンプルプロジェクトを実行してみます。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/80e429e60e55eea1b97bfa09665911f2bc19f128/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f63613438376334342d376539372d356463322d393362642d6230393366613037323834362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Fca487c44-7e97-5dc2-93bd-b093fa072846.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=43a513c739fd65e2d780eff114f3d584\" alt=\"image7.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/ca487c44-7e97-5dc2-93bd-b093fa072846.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Fca487c44-7e97-5dc2-93bd-b093fa072846.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=d15d16babd68223e74d0cdb7c5f6d601 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nサンプルでは「Home」、「Counter」、「Fetch data」の３つのページが用意されています。\u003cbr\u003e\n各ページについて詳述はしませんが、（実行時に少し時間がかかるものの）ページ切り替えやボタン操作が非同期でサクサク動くことがわかると思います。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/7409a1b07545b8f06e2d64f97dab148a318f685f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f39376137353030302d633061392d383630332d396639662d3337613666633938353535662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F97a75000-c0a9-8603-9f9f-37a6fc98555f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=8dd3ac63aa3667d8bd422c714910d647\" alt=\"image8.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/97a75000-c0a9-8603-9f9f-37a6fc98555f.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F97a75000-c0a9-8603-9f9f-37a6fc98555f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=db9ff045d1ae9cd9cf16701582a24080 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nページ右上にあるRegister をクリックしてみてください。\u003cbr\u003e\nここでアカウントを登録することができます。Login と組み合わせてログインユーザー用の機能やページを設定することができます。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/792965831d55d42ddacd5309ec6d354ad20e6af5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f30343765333437622d643263642d396339612d623734302d3337386439373664666364372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F047e347b-d2cd-9c9a-b740-378d976dfcd7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=09a33ad489f7faea5132c91714222ec5\" alt=\"image10.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/047e347b-d2cd-9c9a-b740-378d976dfcd7.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F047e347b-d2cd-9c9a-b740-378d976dfcd7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=4a7db38e642f566d3c8728b7975476e9 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nRegister とLogin の画面はデフォルトのテンプレートには存在しませんが、プロジェクト作成時に認証ありを選択したおかげで、追加されています。\u003cbr\u003e\nこれらは .NET Core の \u003cstrong\u003eIdentity Core\u003c/strong\u003e という機能を利用して作成されています。\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"補足-net-の認証機能について\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A3%9C%E8%B6%B3-net-%E3%81%AE%E8%AA%8D%E8%A8%BC%E6%A9%9F%E8%83%BD%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e補足 .NET の認証機能について\u003c/h4\u003e\n\n\u003cp\u003e少し歴史的な説明をすると、.NET Core 以前の .NETでは Membership Provider という名前で認証機能は提供されていました。これがあることにより、ログインコントロールと連携して、ほぼノンコーディングで認証/認可処理が可能になりましたが、SQL Server以外のDBでは使いにくかったりカスタマイズがしにいといった課題がありました。その後、認証機能は.NET Idendity を経て .NET Idendity Core に進化し、かつての課題を解決しつつ多くの機能が追加されていきました。\u003cbr\u003e\n登録とログイン周りだけでも二要素認証、パスワードリセット、パスワード忘れの処理が用意されていて、パスワードのハッシュ変換は当然のことながら、SNS認証、SQL Server以外への対応などなども盛り込まれています。\u003c/p\u003e\n\n\u003cp\u003e正直これらの機能を自力で実装するのは要件定義も実装もテストも困難。情報漏洩は企業イメージの失墜のみならず金銭問題に発展するリスクも抱えるため、認証にかける作業を省略できるのはありがたいの一言に尽きます（何かあったらマイクロソフトのバグですと言い訳できます、できません）。ただデフォルトでこれほど機能モリモリだと、作成されるDBも多く、よくわからないファイルも大量作成されますので、最低限使いこなすための知識は必要です。Identity の機能は多岐にわたるため、ここでは登録とログインのカスタマイズに絞って説明したいと思います。\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"認証画面のカスタマイズ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%AA%8D%E8%A8%BC%E7%94%BB%E9%9D%A2%E3%81%AE%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e認証画面のカスタマイズ\u003c/h1\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"1-スキャフォールディング\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-%E3%82%B9%E3%82%AD%E3%83%A3%E3%83%95%E3%82%A9%E3%83%BC%E3%83%AB%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. スキャフォールディング\u003c/h4\u003e\n\n\u003cp\u003eAreaフォルダ内にあるIdentityフォルダを右クリックし、追加→新規スキャフォールディングアイテムをクリックします\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/5cc1c2668d99a813c17bf2234b1a390e8d75a869/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f66313331373333322d383762332d343839352d343731612d6234373737386430623435662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Ff1317332-87b3-4895-471a-b47778d0b45f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=fd1773ab553ca6364e6801b046e0f7c2\" alt=\"image11.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/f1317332-87b3-4895-471a-b47778d0b45f.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Ff1317332-87b3-4895-471a-b47778d0b45f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=901655106a06716515f85892869f2202 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n追加アイテムとして「ID」を選択し、追加をクリック（パッケージのインストールなどで少し待たされます）\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/ec032320f6e1199e5800232ee6732fdb08e73c92/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f66373362353439622d356434372d636134632d613933302d3531356339333032376335662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Ff73b549b-5d47-ca4c-a930-515c93027c5f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4ffbe43c46d83ae0e03a95d54c1f5bf2\" alt=\"image12.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/f73b549b-5d47-ca4c-a930-515c93027c5f.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Ff73b549b-5d47-ca4c-a930-515c93027c5f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=a9893ba32fabe37846006a5c3bf9f4fb 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"2-login-と-register-をオーバーライド\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-login-%E3%81%A8-register-%E3%82%92%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. Login と Register をオーバーライド\u003c/h4\u003e\n\n\u003cp\u003eオーバーライドするファイルを聞かれるので、「Account\\Login」と「Account\\Register」にチェック\u003cbr\u003eデータコンテキストクラスの欄で「＋」ボタンクリックし、コンテキストの型の名前を指定（ここではIdentityContext）\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/12ab8c2b4cf8866f1ec2cb0563c3ba71e0c8225c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f61636365663032622d633764302d666133632d623633622d3162343165393264353233312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Faccef02b-c7d0-fa3c-b63b-1b41e92d5231.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ec4170f0957697242a709effbdb27686\" alt=\"image13.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/accef02b-c7d0-fa3c-b63b-1b41e92d5231.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Faccef02b-c7d0-fa3c-b63b-1b41e92d5231.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=fd56607739f26f1d02a0495a3014968b 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nAreasフォルダ配下を確認すると、コンテキストファイルやRegister/Login ページが追加され、編集できるようになりました。\u003cbr\u003e\n\u003cstrong\u003eスキャフォールディング前\u003c/strong\u003e\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/f808f2acf8421f56754a5b83e06996b423c8f665/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f36656664353432382d353631612d363432662d623133322d3338656539346438643431622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F6efd5428-561a-642f-b132-38ee94d8d41b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=916a7e84c6d770c0cf0df36381595bb1\" alt=\"image14.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/6efd5428-561a-642f-b132-38ee94d8d41b.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F6efd5428-561a-642f-b132-38ee94d8d41b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ea6c3fa0683d90ff7e71f1dc77b3ee87 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n\u003cstrong\u003eスキャフォールディング後\u003c/strong\u003e\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/91a5aaeb0c78bb88824f48c2cfeda42e7ef69fed/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f61626538353336652d323764352d616363632d323665342d6262343034633236623265342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Fabe8536e-27d5-accc-26e4-bb404c26b2e4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4ead36204a3f43eac0997575c4b7587b\" alt=\"image15.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/abe8536e-27d5-accc-26e4-bb404c26b2e4.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Fabe8536e-27d5-accc-26e4-bb404c26b2e4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=efb6f8c98c02aa528cf55348c50157f0 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"3-identity-の統一\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3-identity-%E3%81%AE%E7%B5%B1%E4%B8%80\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3. Identity の統一\u003c/h4\u003e\n\n\u003cp\u003eこの状態でF5を押しビルドすると、Programファイルでエラーが発生します。\u003cbr\u003e\n原因はもともとあったスタートアップファイルと、新たに追加された「IdentityHostingStartup.cs」でそれぞれIdentity をサービスに追加していてバッティングしているからです。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/249430d5d6379802952c36e368ea52464762841e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f36343562343231632d623930392d363738662d333462322d6161623537623432376433652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F645b421c-b909-678f-34b2-aab57b427d3e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=45afbe454d259ee280ff4fd1316f632f\" alt=\"image16.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/645b421c-b909-678f-34b2-aab57b427d3e.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F645b421c-b909-678f-34b2-aab57b427d3e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=0cd1e971951cb8eb8869ef46b32ceff8 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nまずそれを解決するためにStartup.cs の方を消します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eStartup.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eConfigureServices\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eIServiceCollection\u003c/span\u003e \u003cspan class=\"n\"\u003eservices\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eservices\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAddDbContext\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eApplicationDbContext\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;(\u003c/span\u003e\u003cspan class=\"n\"\u003eoptions\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eoptions\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eUseSqlServer\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eConfiguration\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetConnectionString\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"DefaultConnection\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)));\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e//services.AddDefaultIdentity\u0026lt;IdentityUser\u0026gt;(options =\u0026gt; options.SignIn.RequireConfirmedAccount = true)\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e//    .AddEntityFrameworkStores\u0026lt;ApplicationDbContext\u0026gt;();\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eservices\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAddRazorPages\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eservices\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAddServerSideBlazor\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eservices\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAddScoped\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eAuthenticationStateProvider\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eRevalidatingIdentityAuthenticationStateProvider\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eIdentityUser\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u0026gt;();\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eservices\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAddSingleton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eWeatherForecastService\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;();\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eIdentityHostingStartup の接続情報をDefaultConnectionに修正しておきます\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eIdentityHostingStartup.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eConfigure\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eIWebHostBuilder\u003c/span\u003e \u003cspan class=\"n\"\u003ebuilder\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e                      \n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e                       \n            \u003cspan class=\"n\"\u003ebuilder\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eConfigureServices\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"n\"\u003econtext\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eservices\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e                      \n                \u003cspan class=\"n\"\u003eservices\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAddDbContext\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eIdentityContext\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;(\u003c/span\u003e\u003cspan class=\"n\"\u003eoptions\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e                       \n                    \u003cspan class=\"n\"\u003eoptions\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eUseSqlServer\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e                       \n                        \u003cspan class=\"n\"\u003econtext\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eConfiguration\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetConnectionString\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"DefaultConnection\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)));\u003c/span\u003e                       \n\n                \u003cspan class=\"n\"\u003eservices\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAddDefaultIdentity\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eIdentityUser\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;(\u003c/span\u003e\u003cspan class=\"n\"\u003eoptions\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eoptions\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSignIn\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eRequireConfirmedAccount\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e                     \n                    \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAddEntityFrameworkStores\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eIdentityContext\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;();\u003c/span\u003e                       \n            \u003cspan class=\"p\"\u003e});\u003c/span\u003e                     \n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e再度F5を押しビルドし、エラーが起きないことを確認してください。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"4-データベースの設定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#4-%E3%83%87%E3%83%BC%E3%82%BF%E3%83%99%E3%83%BC%E3%82%B9%E3%81%AE%E8%A8%AD%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e4. データベースの設定\u003c/h4\u003e\n\n\u003cp\u003e次に、自前のデータベースにユーザー情報を保存するために、DB接続情報を設定しているappsettings.json ファイルをいじります。\u003cbr\u003e\nここではスキャフォールディング時に追加された接続情報は削除し、DefaultConnectionに統一しています。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"json\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eappsettings.json\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e               \n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"ConnectionStrings\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e                \n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"DefaultConnection\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"Data Source=（ローカルコンピューター名）;Initial Catalog=BLAZORAPP;Integrated Security=True;Pooling=False\"\u003c/span\u003e\u003cspan class=\"w\"\u003e              \n  \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e                \n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"Logging\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e              \n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"LogLevel\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e               \n      \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"Default\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"Information\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e             \n      \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"Microsoft\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"Warning\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e               \n      \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"Microsoft.Hosting.Lifetime\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"Information\"\u003c/span\u003e\u003cspan class=\"w\"\u003e               \n    \u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e               \n  \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e                \n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"AllowedHosts\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"*\"\u003c/span\u003e\u003cspan class=\"w\"\u003e               \n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e               \n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eもしまだBlazorアプリ用のDBを用意していなかったらここで新規データベースを作成して、接続文字列を取得して下さい。\u003cbr\u003e\nVisual Studio の表示→サーバーエクスプローラー→データ接続を右クリック→新しいSQL Serverデータベースの作成→サーバーを指定し、新しいデータベース名（ここではBLAZORAPP）を入力しOKをクリック\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/a5698a049311e39e6065ff0802c47166af858788/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f32613362343232392d643630332d333033322d396663332d3532393433346363643336622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F2a3b4229-d603-3032-9fc3-529434ccd36b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=50697a7026bf06686856f0db480fffd8\" alt=\"コメント 2020-05-08 003801.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/2a3b4229-d603-3032-9fc3-529434ccd36b.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F2a3b4229-d603-3032-9fc3-529434ccd36b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=8b053674f070468a18c86e53c29aa6aa 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n追加された接続情報を選択しF4キーもしくは右クリック→プロパティを押すとプロパティが表示されるので、接続情報をコピーして前述のappsettings.json ファイルに貼り付けます\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/03d61e7561dc06dbb6c63f8f3785b34224fe7fae/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f30303163633637362d623634372d323665652d646663312d3431353666376331363464622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F001cc676-b647-26ee-dfc1-4156f7c164db.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=cadf254cf5512483deb2ce61a0ad2cf2\" alt=\"コメント 2020-05-08 003948.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/001cc676-b647-26ee-dfc1-4156f7c164db.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F001cc676-b647-26ee-dfc1-4156f7c164db.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=3fa0091a68a5a79b4d99896f2fbfa58c 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nではこの状態でサンプルページを実行し、Register から登録作業を行えるようになっているのでしょうか。\u003cbr\u003e\nここでは試しませんが個人情報を入力して登録しようとすると、「SqlException: オブジェクト名 'AspNetUsers' が無効です。」というエラーが発生します。\u003cbr\u003e\nコードのプロパティとDBが結びついていないためです。\u003c/p\u003e\n\n\u003cp\u003eそのための認証に関するテーブル群をデータベースに作成しましょう。\u003cbr\u003e\nEntityFrameworkに慣れている方には説明不要ですが、SQL Server Management Studio を開いたり、 SQLのコマンドを書いたりは一切しません。\u003cbr\u003e\n具体的には、マイグレーションファイルの作成と、データベースの更新作業をパッケージマネージャーコンソールというVisual Studio 内のツールを使って行います。\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"補足-entity-framework-について\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A3%9C%E8%B6%B3-entity-framework-%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e補足 Entity Framework について\u003c/h4\u003e\n\n\u003cp\u003eASP.NET Core でデータベースアクセスを行う場合、必ず利用することになるのが「Entity Framework Core」というフレームワークです。\u003cbr\u003e\nEntity Framework は「ORM」と呼ばれる技術のためのフレームワークです。\u003cbr\u003e\n一言でいうならばSQL を全く書かずにDBを利用できる機能です。\u003cbr\u003e\nORMの考え方が出てきた時は、「こんなの使わないで真面目にSQL覚えればいいのに」と思ったものですが、Visual Studio のインテリセンスにサポートされながら初めてLINQを書いた時は、あまりの便利さに泣きそうになりました。\u003cbr\u003e\nマイグレーションやデータベースの更新はこの「Entity Framework Core」の機能により実行されます。\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"5-マイグレーションファイルの作成と更新\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#5-%E3%83%9E%E3%82%A4%E3%82%B0%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E4%BD%9C%E6%88%90%E3%81%A8%E6%9B%B4%E6%96%B0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e5. マイグレーションファイルの作成と更新\u003c/h4\u003e\n\n\u003cp\u003eVisual Studio で「ツール」→「NuGetパッケージマネージャ」→「パッケージマネージャーコンソール」の順に選択します。\u003cbr\u003e\n画面下部にコマンドを実行できるウィンドウが現れるので、以下のコマンドを入力してEnterを押し実行してください。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003eAdd-Migration Initial -Context IdentityContext\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/0e6fd9a51cb90b8a8ff4415f104f68e080f44c2c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f30356232323436342d323166372d333133352d333233382d6437646338666532343664632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F05b22464-21f7-3135-3238-d7dc8fe246dc.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=8bfebf20594e765fd3f2a4f681f1fd5c\" alt=\"image22.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/05b22464-21f7-3135-3238-d7dc8fe246dc.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F05b22464-21f7-3135-3238-d7dc8fe246dc.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=7806d1a66dd7d1c9fa1cd55edc626941 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n解説：\u003cbr\u003e\nデータベースとの差分情報を記述したファイル（マイグレーションファイル）を作成。\u003cbr\u003e\n「Initial」とした箇所はファイルを識別するための名前で好きな名前を指定できる。コンテキストファイルが複数ある場合はコンテキスト名を指定する必要がある。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003eUpdate-Database -Context IdentityContext\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/b47624b7b8198297410a1c5d6182f690bcd8a718/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f36313861373361312d623466612d386366392d613334312d3931633733653738633232322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F618a73a1-b4fa-8cf9-a341-91c73e78c222.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=86675af353fe581d561bcf6005cd74d1\" alt=\"image23.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/618a73a1-b4fa-8cf9-a341-91c73e78c222.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F618a73a1-b4fa-8cf9-a341-91c73e78c222.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e363ffc719ce859e7e831e81c305e380 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n解説：\u003cbr\u003e\nマイグレーションファイルを元にデータベースを更新\u003c/p\u003e\n\n\u003cp\u003eコンソールに以下のように表示されれば成功です。\u003cbr\u003e\nDBにテーブルが追加され、無事にユーザーの登録ができるようになりました。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/2c1d7a88ce17cce915236523b86a0abc698d1e6b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f38353665393961382d393761632d353437312d633130312d3630396133303632666431632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F856e99a8-97ac-5471-c101-609a3062fd1c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=54c132da97dd2ab82c31192ab26976cc\" alt=\"image24.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/856e99a8-97ac-5471-c101-609a3062fd1c.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F856e99a8-97ac-5471-c101-609a3062fd1c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=17c3cfc3113092a2fdab620fa5e30350 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eあとは画面に表示されている英語を日本語に変えたりレイアウトを変えて終わりにしてもいいのですが、登録をしていて気になることがあります。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e登録にEmailじゃなくて名前じゃダメ？\u003c/li\u003e\n\u003cli\u003eメール使った2要素認証いらない。登録後即ホーム画面行かせてほしい。\u003c/li\u003e\n\u003cli\u003eパスワードの要件チェック（バリデーション）多くないか？（6文字以上、大文字必須、数字必須、記号必須）\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"6-登録ログイン画面をカスタマイズ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#6-%E7%99%BB%E9%8C%B2%E3%83%AD%E3%82%B0%E3%82%A4%E3%83%B3%E7%94%BB%E9%9D%A2%E3%82%92%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e6. 登録・ログイン画面をカスタマイズ\u003c/h4\u003e\n\n\u003cp\u003eというわけで、こんなの使い勝手悪いのでカスタマイズです。\u003cbr\u003e\nここでは以下の変更を加えつつ、ページ制御も同時に実装したいと思います。\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003eログイン・登録画面\u003c/strong\u003e\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eEmailではなく名前で。（バリデーションなし）\u003c/li\u003e\n\u003cli\u003e名前もパスワードも半角英数字1文字以上ならOK（名前の重複は不可）\u003c/li\u003e\n\u003cli\u003e登録後のメール確認はしない\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003cstrong\u003eページ制御\u003c/strong\u003e\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eログインしていないと見れないページを作る\u003c/li\u003e\n\u003cli\u003e許可されていないページに行った場合、ログインページにリダイレクトさせる\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eまず、ページ制御で使うRedirectToLogin.razor をページフォルダに作成します。\u003cbr\u003e\nShared フォルダ上で右クリック 追加→新しい項目を選択\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/ac7322fa49d560acc035f347e0480d04137ee76e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f63306366333663642d366665372d373538302d353036622d3137656562623132663833352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Fc0cf36cd-6fe7-7580-506b-17eebb12f835.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=89575c40e93d7374bea835161a91e6d4\" alt=\"image19.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/c0cf36cd-6fe7-7580-506b-17eebb12f835.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Fc0cf36cd-6fe7-7580-506b-17eebb12f835.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c3ad6b9f547d948da8eaf5c376323abd 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nRazorコンポーネントを選択し追加（ファイル名はRedirectToLogin.razor とします）\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/2ea8b13140f83a255ae2a2323a48fd20d6bb470b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f63343861323135312d316366622d363530372d386566662d3365386635306334386434632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Fc48a2151-1cfb-6507-8eff-3e8f50c48d4c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b929627722140354feafdc48ea9f307c\" alt=\"image20.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/c48a2151-1cfb-6507-8eff-3e8f50c48d4c.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Fc48a2151-1cfb-6507-8eff-3e8f50c48d4c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=27b715d360064b193886315cc6d510a1 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nRedirectToLogin.razor ファイルが追加されたら、以下の内容に書き換えてください。\u003cbr\u003e\n未ログインユーザーの遷移先をログイン画面に設定しています。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eRedirectToLogin.razor\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"n\"\u003e@inject\u003c/span\u003e \u003cspan class=\"n\"\u003eNavigationManager\u003c/span\u003e \u003cspan class=\"n\"\u003eNavigationManager\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003e@code\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eParameter\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eReturnUrl\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprotected\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnInitialized\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eReturnUrl\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"~/\"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eReturnUrl\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eNavigationManager\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eNavigateTo\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e$\"Identity/Account/Login?returnUrl=\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"n\"\u003eReturnUrl\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eforceLoad\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eApp.razor コンポーネントを書き換えます。\u003cbr\u003e\n書き換えているのは、\u003ccode\u003e\u0026lt;NotAuthorized\u0026gt;\u003c/code\u003eタグの部分です。ここでRedirectToLogin.razor コンポーネントにURLを引数として渡しています。\u003cbr\u003e\nまた \u003ccode\u003e@using\u003c/code\u003eで、先ほどのRedirectToLogin.Razor を追加した名前空間を指定し、\u003ccode\u003e@inject\u003c/code\u003e でNavigationManager をDI（オブジェクトの注入）します\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"html\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eApp.razor\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e@using Blazorアプリ名.Shared\n@inject NavigationManager NavigationManager\n\n\u003cspan class=\"nt\"\u003e\u0026lt;CascadingAuthenticationState\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;Router\u003c/span\u003e \u003cspan class=\"na\"\u003eAppAssembly=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"@typeof(Program).Assembly\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"nt\"\u003e\u0026lt;Found\u003c/span\u003e \u003cspan class=\"na\"\u003eContext=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"routeData\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"nt\"\u003e\u0026lt;AuthorizeRouteView\u003c/span\u003e \u003cspan class=\"na\"\u003eRouteData=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"@routeData\"\u003c/span\u003e\n                                \u003cspan class=\"na\"\u003eDefaultLayout=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"@typeof(MainLayout)\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n                \u003cspan class=\"nt\"\u003e\u0026lt;NotAuthorized\u0026gt;\u003c/span\u003e\n                    @{\n                        var returnUrl = NavigationManager.ToBaseRelativePath(NavigationManager.Uri);\n                        \u003cspan class=\"nt\"\u003e\u0026lt;RedirectToLogin\u003c/span\u003e \u003cspan class=\"na\"\u003eReturnUrl=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"@returnUrl\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e\n                    }\n                \u003cspan class=\"nt\"\u003e\u0026lt;/NotAuthorized\u0026gt;\u003c/span\u003e\n                \u003cspan class=\"nt\"\u003e\u0026lt;Authorizing\u0026gt;\u003c/span\u003e\n                    Wait...\n                \u003cspan class=\"nt\"\u003e\u0026lt;/Authorizing\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"nt\"\u003e\u0026lt;/AuthorizeRouteView\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"nt\"\u003e\u0026lt;/Found\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"nt\"\u003e\u0026lt;NotFound\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"nt\"\u003e\u0026lt;LayoutView\u003c/span\u003e \u003cspan class=\"na\"\u003eLayout=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"@typeof(MainLayout)\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n                \u003cspan class=\"nt\"\u003e\u0026lt;p\u0026gt;\u003c/span\u003eSorry, there's nothing at this address.\u003cspan class=\"nt\"\u003e\u0026lt;/p\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"nt\"\u003e\u0026lt;/LayoutView\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"nt\"\u003e\u0026lt;/NotFound\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;/Router\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/CascadingAuthenticationState\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003e\u0026lt;NotAuthorized\u0026gt;\u003c/code\u003eタグを追加しています。ちなみに特定のHTMLタグを\u003ccode\u003e\u0026lt;AuthorizeView\u0026gt;\u0026lt;/AuthorizeView\u0026gt;\u003c/code\u003eで囲むと、ログイン前の状態では非表示にすることができます\u003c/p\u003e\n\n\u003cp\u003eここで、試しにCounter.razor コンポーネントのトップに \u003ca href=\"/attribute\" class=\"user-mention js-hovercard\" title=\"attribute\" data-hovercard-target-type=\"user\" data-hovercard-target-name=\"attribute\"\u003e@attribute\u003c/a\u003e [Authorize] を加え、プログラムを起動し、Counterページにアクセスしてみてください。ログインページにリダイレクトされればOKです。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"html\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eCounter.razor\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e@attribute [Authorize]\n@page \"/counter\"\n\n\u003cspan class=\"nt\"\u003e\u0026lt;h1\u0026gt;\u003c/span\u003eCounter\u003cspan class=\"nt\"\u003e\u0026lt;/h1\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"nt\"\u003e\u0026lt;p\u0026gt;\u003c/span\u003eCurrent count: @currentCount\u003cspan class=\"nt\"\u003e\u0026lt;/p\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"nt\"\u003e\u0026lt;button\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"btn btn-primary\"\u003c/span\u003e \u003cspan class=\"err\"\u003e@\u003c/span\u003e\u003cspan class=\"na\"\u003eonclick=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"IncrementCount\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003eClick me\u003cspan class=\"nt\"\u003e\u0026lt;/button\u0026gt;\u003c/span\u003e\n\n@code {\n    private int currentCount = 0;\n\n    private void IncrementCount()\n    {\n        currentCount++;\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e登録画面とログイン画面の処理を変更するために、以下の4ファイルに手を加えます。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/009ae7670b9fdfb65798044aae46636e45b47ac2/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f31353064353061662d346133322d616430382d383536302d3562363731623835386265632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F150d50af-4a32-ad08-8560-5b671b858bec.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=992c2626d977faaf9991a02a2e36226c\" alt=\"コメント 2020-05-08 010705.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/150d50af-4a32-ad08-8560-5b671b858bec.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F150d50af-4a32-ad08-8560-5b671b858bec.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9364dc4ab26acd964925bc4b17d55618 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e修正点のポイントは以下です。\u003cbr\u003e\n1. プロパティのEmail を Name に変更\u003cbr\u003e\n2. パスワードとメールのバリデーションを削除\u003cbr\u003e\n（パスワードのチェックはライブラリ内部で行っているため、無理やり接尾辞「_Blazor」をくっつけて突破）\u003cbr\u003e\n3. メール認証の箇所を削除\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eLogin.cshtml.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                               \n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Collections.Generic\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                               \n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.ComponentModel.DataAnnotations\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                                \n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Linq\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                              \n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Text.Encodings.Web\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                                \n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Threading.Tasks\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                               \n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eMicrosoft.AspNetCore.Authorization\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                               \n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eMicrosoft.AspNetCore.Authentication\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                              \n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eMicrosoft.AspNetCore.Identity\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                                \n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eMicrosoft.AspNetCore.Identity.UI.Services\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                                \n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eMicrosoft.AspNetCore.Mvc\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                             \n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eMicrosoft.AspNetCore.Mvc.RazorPages\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                              \n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eMicrosoft.Extensions.Logging\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                             \n\n\u003cspan class=\"k\"\u003enamespace\u003c/span\u003e \u003cspan class=\"nn\"\u003eHelloBlazorGoodByeJavaScript.Areas.Identity.Pages.Account\u003c/span\u003e                             \n\u003cspan class=\"p\"\u003e{\u003c/span\u003e                               \n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eAllowAnonymous\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e                                \n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eLoginModel\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003ePageModel\u003c/span\u003e                             \n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e                               \n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"n\"\u003eUserManager\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eIdentityUser\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003e_userManager\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                                \n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"n\"\u003eSignInManager\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eIdentityUser\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003e_signInManager\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                                \n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"n\"\u003eILogger\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eLoginModel\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003e_logger\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                               \n\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003eLoginModel\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eSignInManager\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eIdentityUser\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003esignInManager\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e                                \n            \u003cspan class=\"n\"\u003eILogger\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eLoginModel\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003elogger\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e                             \n            \u003cspan class=\"n\"\u003eUserManager\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eIdentityUser\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003euserManager\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e                              \n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e                               \n            \u003cspan class=\"n\"\u003e_userManager\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003euserManager\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                             \n            \u003cspan class=\"n\"\u003e_signInManager\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esignInManager\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                             \n            \u003cspan class=\"n\"\u003e_logger\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elogger\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                               \n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e                               \n\n        \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eBindProperty\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e                              \n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eInputModel\u003c/span\u003e \u003cspan class=\"n\"\u003eInput\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e                               \n\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eIList\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eAuthenticationScheme\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eExternalLogins\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e                             \n\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eReturnUrl\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e                               \n\n        \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eTempData\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e                              \n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eErrorMessage\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e                                \n\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eInputModel\u003c/span\u003e                             \n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e                               \n            \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eRequired\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e                              \n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eName\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e                                \n\n            \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eRequired\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e                              \n            \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003eDataType\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eDataType\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePassword\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e                               \n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003ePassword\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e                                \n\n            \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003eDisplay\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Remember me?\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e                                \n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003eRememberMe\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e                                \n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e                               \n\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"n\"\u003eTask\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnGetAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003ereturnUrl\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e                               \n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e                               \n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(!\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eIsNullOrEmpty\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eErrorMessage\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e                                \n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e                               \n                \u003cspan class=\"n\"\u003eModelState\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAddModelError\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEmpty\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eErrorMessage\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e                               \n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e                               \n\n            \u003cspan class=\"n\"\u003ereturnUrl\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ereturnUrl\u003c/span\u003e \u003cspan class=\"p\"\u003e??\u003c/span\u003e \u003cspan class=\"n\"\u003eUrl\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eContent\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"~/\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e                             \n\n            \u003cspan class=\"c1\"\u003e// Clear the existing external cookie to ensure a clean login process                               \u003c/span\u003e\n            \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"n\"\u003eHttpContext\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSignOutAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eIdentityConstants\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eExternalScheme\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e                               \n\n            \u003cspan class=\"n\"\u003eExternalLogins\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"n\"\u003e_signInManager\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetExternalAuthenticationSchemesAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e()).\u003c/span\u003e\u003cspan class=\"nf\"\u003eToList\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e                               \n\n            \u003cspan class=\"n\"\u003eReturnUrl\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ereturnUrl\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                              \n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e                               \n\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"n\"\u003eTask\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eIActionResult\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnPostAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003ereturnUrl\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e                               \n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e                               \n            \u003cspan class=\"n\"\u003ereturnUrl\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ereturnUrl\u003c/span\u003e \u003cspan class=\"p\"\u003e??\u003c/span\u003e \u003cspan class=\"n\"\u003eUrl\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eContent\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"~/\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e                             \n\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eModelState\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eIsValid\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e                             \n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e                               \n                \u003cspan class=\"c1\"\u003e// This doesn't count login failures towards account lockout                                \u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e// To enable password failures to trigger account lockout, set lockoutOnFailure: true                               \u003c/span\u003e\n                \u003cspan class=\"n\"\u003eInput\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePassword\u003c/span\u003e \u003cspan class=\"p\"\u003e+=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"_Blazor\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                                \n                \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003eresult\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"n\"\u003e_signInManager\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePasswordSignInAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eInput\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eInput\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePassword\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eInput\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eRememberMe\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003elockoutOnFailure\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"k\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e                               \n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSucceeded\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e                               \n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e                               \n                    \u003cspan class=\"n\"\u003e_logger\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLogInformation\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"User logged in.\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e                              \n                    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nf\"\u003eLocalRedirect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ereturnUrl\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e                                \n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e                               \n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eRequiresTwoFactor\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e                               \n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e                               \n                    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nf\"\u003eRedirectToPage\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"./LoginWith2fa\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"n\"\u003eReturnUrl\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ereturnUrl\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eRememberMe\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eInput\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eRememberMe\u003c/span\u003e \u003cspan class=\"p\"\u003e});\u003c/span\u003e                              \n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e                               \n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eIsLockedOut\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e                             \n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e                               \n                    \u003cspan class=\"n\"\u003e_logger\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLogWarning\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"User account locked out.\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e                             \n                    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nf\"\u003eRedirectToPage\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"./Lockout\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e                             \n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e                               \n                \u003cspan class=\"k\"\u003eelse\u003c/span\u003e                                \n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e                               \n                    \u003cspan class=\"n\"\u003eModelState\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAddModelError\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEmpty\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Invalid login attempt.\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e                               \n                    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nf\"\u003ePage\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e                              \n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e                               \n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e                               \n\n            \u003cspan class=\"c1\"\u003e// If we got this far, something failed, redisplay form                             \u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nf\"\u003ePage\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e                              \n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e                               \n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e                               \n\u003cspan class=\"p\"\u003e}\u003c/span\u003e                               \n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eRegister.cshtml.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                   \n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Collections.Generic\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                   \n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.ComponentModel.DataAnnotations\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                    \n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Linq\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                  \n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Text\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                  \n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Text.Encodings.Web\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                    \n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Threading.Tasks\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                   \n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eMicrosoft.AspNetCore.Authentication\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                  \n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eMicrosoft.AspNetCore.Authorization\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                   \n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eMicrosoft.AspNetCore.Identity\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                    \n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eMicrosoft.AspNetCore.Identity.UI.Services\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                    \n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eMicrosoft.AspNetCore.Mvc\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                 \n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eMicrosoft.AspNetCore.Mvc.RazorPages\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                  \n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eMicrosoft.AspNetCore.WebUtilities\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                    \n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eMicrosoft.Extensions.Logging\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                 \n\n\u003cspan class=\"k\"\u003enamespace\u003c/span\u003e \u003cspan class=\"nn\"\u003eHelloBlazorGoodByeJavaScript.Areas.Identity.Pages.Account\u003c/span\u003e                 \n\u003cspan class=\"p\"\u003e{\u003c/span\u003e                   \n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eAllowAnonymous\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e                    \n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eRegisterModel\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003ePageModel\u003c/span\u003e                  \n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e                   \n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"n\"\u003eSignInManager\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eIdentityUser\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003e_signInManager\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                    \n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"n\"\u003eUserManager\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eIdentityUser\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003e_userManager\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                    \n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"n\"\u003eILogger\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eRegisterModel\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003e_logger\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                    \n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"n\"\u003eIEmailSender\u003c/span\u003e \u003cspan class=\"n\"\u003e_emailSender\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                 \n\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003eRegisterModel\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e                   \n            \u003cspan class=\"n\"\u003eUserManager\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eIdentityUser\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003euserManager\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e                  \n            \u003cspan class=\"n\"\u003eSignInManager\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eIdentityUser\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003esignInManager\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e                  \n            \u003cspan class=\"n\"\u003eILogger\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eRegisterModel\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003elogger\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e                  \n            \u003cspan class=\"n\"\u003eIEmailSender\u003c/span\u003e \u003cspan class=\"n\"\u003eemailSender\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e                   \n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e                   \n            \u003cspan class=\"n\"\u003e_userManager\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003euserManager\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                 \n            \u003cspan class=\"n\"\u003e_signInManager\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esignInManager\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                 \n            \u003cspan class=\"n\"\u003e_logger\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elogger\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                   \n            \u003cspan class=\"n\"\u003e_emailSender\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eemailSender\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                 \n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e                   \n\n        \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eBindProperty\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e                  \n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eInputModel\u003c/span\u003e \u003cspan class=\"n\"\u003eInput\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e                   \n\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eReturnUrl\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e                   \n\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eIList\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eAuthenticationScheme\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eExternalLogins\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e                 \n\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eInputModel\u003c/span\u003e                 \n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e                   \n            \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eRequired\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e                  \n            \u003cspan class=\"c1\"\u003e//[EmailAddress]                    \u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e//[Display(Name = \"Name\")]                  \u003c/span\u003e\n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eName\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e                    \n\n            \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eRequired\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e                  \n            \u003cspan class=\"c1\"\u003e//[StringLength(100, ErrorMessage = \"The {0} must be at least {2} and at max {1} characters long.\", MinimumLength = 6)]                 \u003c/span\u003e\n            \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003eDataType\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eDataType\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePassword\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e                   \n            \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003eDisplay\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Password\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e                    \n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003ePassword\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e                    \n\n            \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003eDataType\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eDataType\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePassword\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e                   \n            \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003eDisplay\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Confirm password\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e                    \n            \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003eCompare\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Password\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eErrorMessage\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"The password and confirmation password do not match.\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e                    \n            \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eConfirmPassword\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e                 \n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e                   \n\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"n\"\u003eTask\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnGetAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003ereturnUrl\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e                   \n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e                   \n            \u003cspan class=\"n\"\u003eReturnUrl\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ereturnUrl\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                  \n            \u003cspan class=\"n\"\u003eExternalLogins\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"n\"\u003e_signInManager\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetExternalAuthenticationSchemesAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e()).\u003c/span\u003e\u003cspan class=\"nf\"\u003eToList\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e                   \n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e                   \n\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"n\"\u003eTask\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eIActionResult\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnPostAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003ereturnUrl\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e                   \n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e                   \n            \u003cspan class=\"n\"\u003ereturnUrl\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ereturnUrl\u003c/span\u003e \u003cspan class=\"p\"\u003e??\u003c/span\u003e \u003cspan class=\"n\"\u003eUrl\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eContent\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"~/\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e                 \n            \u003cspan class=\"n\"\u003eExternalLogins\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"n\"\u003e_signInManager\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetExternalAuthenticationSchemesAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e()).\u003c/span\u003e\u003cspan class=\"nf\"\u003eToList\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e                   \n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eModelState\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eIsValid\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e                 \n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e                   \n                \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003euser\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eIdentityUser\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"n\"\u003eUserName\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eInput\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eEmailConfirmed\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e \u003cspan class=\"p\"\u003e};\u003c/span\u003e                   \n                \u003cspan class=\"n\"\u003eInput\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePassword\u003c/span\u003e \u003cspan class=\"p\"\u003e+=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"_Blazor\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e                    \n                \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003eresult\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"n\"\u003e_userManager\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCreateAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003euser\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eInput\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePassword\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e                  \n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSucceeded\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e                   \n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e                   \n                    \u003cspan class=\"n\"\u003e_logger\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLogInformation\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"User created a new account with password.\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e                    \n\n                    \u003cspan class=\"c1\"\u003e//var code = await _userManager.GenerateEmailConfirmationTokenAsync(user);                  \u003c/span\u003e\n                    \u003cspan class=\"c1\"\u003e//code = WebEncoders.Base64UrlEncode(Encoding.UTF8.GetBytes(code));                 \u003c/span\u003e\n                    \u003cspan class=\"c1\"\u003e//var callbackUrl = Url.Page(                   \u003c/span\u003e\n                    \u003cspan class=\"c1\"\u003e//    \"/Account/ConfirmEmail\",                  \u003c/span\u003e\n                    \u003cspan class=\"c1\"\u003e//    pageHandler: null,                    \u003c/span\u003e\n                    \u003cspan class=\"c1\"\u003e//    values: new { area = \"Identity\", userId = user.Id, code = code },                 \u003c/span\u003e\n                    \u003cspan class=\"c1\"\u003e//    protocol: Request.Scheme);                    \u003c/span\u003e\n\n                    \u003cspan class=\"c1\"\u003e//await _emailSender.SendEmailAsync(Input.Email, \"Confirm your email\",                  \u003c/span\u003e\n                    \u003cspan class=\"c1\"\u003e//    $\"Please confirm your account by \u0026lt;a href='{HtmlEncoder.Default.Encode(callbackUrl)}'\u0026gt;clicking here\u0026lt;/a\u0026gt;.\");                    \u003c/span\u003e\n\n                    \u003cspan class=\"c1\"\u003e//if (_userManager.Options.SignIn.RequireConfirmedAccount)                  \u003c/span\u003e\n                    \u003cspan class=\"c1\"\u003e//{                 \u003c/span\u003e\n                    \u003cspan class=\"c1\"\u003e//    return RedirectToPage(\"RegisterConfirmation\", new { email = Input.Email });                   \u003c/span\u003e\n                    \u003cspan class=\"c1\"\u003e//}                 \u003c/span\u003e\n                    \u003cspan class=\"c1\"\u003e//else                  \u003c/span\u003e\n                    \u003cspan class=\"c1\"\u003e//{                 \u003c/span\u003e\n                    \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"n\"\u003e_signInManager\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSignInAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003euser\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eisPersistent\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"k\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e                    \n                    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nf\"\u003eLocalRedirect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ereturnUrl\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e                    \n                    \u003cspan class=\"c1\"\u003e//}                 \u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e                   \n                \u003cspan class=\"k\"\u003eforeach\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003eerror\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eErrors\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e                    \n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e                   \n                    \u003cspan class=\"n\"\u003eModelState\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAddModelError\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEmpty\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDescription\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e                  \n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e                   \n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e                   \n\n            \u003cspan class=\"c1\"\u003e// If we got this far, something failed, redisplay form                 \u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nf\"\u003ePage\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e                  \n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e                   \n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e                   \n\u003cspan class=\"p\"\u003e}\u003c/span\u003e                   \n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"html\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eLogin.cshtml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e@page                   \n@model LoginModel                   \n\n@{                  \n    ViewData[\"Title\"] = \"Log in\";                   \n}                   \n\n\u003cspan class=\"nt\"\u003e\u0026lt;h1\u0026gt;\u003c/span\u003e@ViewData[\"Title\"]\u003cspan class=\"nt\"\u003e\u0026lt;/h1\u0026gt;\u003c/span\u003e                 \n\u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"row\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e                   \n    \u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"col-md-4\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e                  \n        \u003cspan class=\"nt\"\u003e\u0026lt;section\u0026gt;\u003c/span\u003e                   \n            \u003cspan class=\"nt\"\u003e\u0026lt;form\u003c/span\u003e \u003cspan class=\"na\"\u003eid=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"account\"\u003c/span\u003e \u003cspan class=\"na\"\u003emethod=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"post\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e                   \n                \u003cspan class=\"nt\"\u003e\u0026lt;h4\u0026gt;\u003c/span\u003eUse a local account to log in.\u003cspan class=\"nt\"\u003e\u0026lt;/h4\u0026gt;\u003c/span\u003e                 \n                \u003cspan class=\"nt\"\u003e\u0026lt;hr\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e                  \n                \u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003easp-validation-summary=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"All\"\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text-danger\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u0026lt;/div\u0026gt;\u003c/span\u003e                    \n                \u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"form-group\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e                    \n                    \u003cspan class=\"nt\"\u003e\u0026lt;label\u003c/span\u003e \u003cspan class=\"na\"\u003easp-for=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Input.Name\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u0026lt;/label\u0026gt;\u003c/span\u003e                    \n                    \u003cspan class=\"nt\"\u003e\u0026lt;input\u003c/span\u003e \u003cspan class=\"na\"\u003easp-for=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Input.Name\"\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"form-control\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e                 \n                    @*\u003cspan class=\"nt\"\u003e\u0026lt;span\u003c/span\u003e \u003cspan class=\"na\"\u003easp-validation-for=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Input.Email\"\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text-danger\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u0026lt;/span\u0026gt;\u003c/span\u003e*@                  \n                \u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e                  \n                \u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"form-group\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e                    \n                    \u003cspan class=\"nt\"\u003e\u0026lt;label\u003c/span\u003e \u003cspan class=\"na\"\u003easp-for=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Input.Password\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u0026lt;/label\u0026gt;\u003c/span\u003e                    \n                    \u003cspan class=\"nt\"\u003e\u0026lt;input\u003c/span\u003e \u003cspan class=\"na\"\u003easp-for=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Input.Password\"\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"form-control\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e                 \n                    @*\u003cspan class=\"nt\"\u003e\u0026lt;span\u003c/span\u003e \u003cspan class=\"na\"\u003easp-validation-for=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Input.Password\"\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text-danger\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u0026lt;/span\u0026gt;\u003c/span\u003e*@                   \n                \u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e                  \n                \u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"form-group\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e                    \n                    \u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"checkbox\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e                  \n                        \u003cspan class=\"nt\"\u003e\u0026lt;label\u003c/span\u003e \u003cspan class=\"na\"\u003easp-for=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Input.RememberMe\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e                  \n                            \u003cspan class=\"nt\"\u003e\u0026lt;input\u003c/span\u003e \u003cspan class=\"na\"\u003easp-for=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Input.RememberMe\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e                    \n                            @Html.DisplayNameFor(m =\u0026gt; m.Input.RememberMe)                   \n                        \u003cspan class=\"nt\"\u003e\u0026lt;/label\u0026gt;\u003c/span\u003e                    \n                    \u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e                  \n                \u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e                  \n                \u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"form-group\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e                    \n                    \u003cspan class=\"nt\"\u003e\u0026lt;button\u003c/span\u003e \u003cspan class=\"na\"\u003etype=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"submit\"\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"btn btn-primary\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003eLog in\u003cspan class=\"nt\"\u003e\u0026lt;/button\u0026gt;\u003c/span\u003e                   \n                \u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e                  \n                @*\u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"form-group\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e                  \n                    \u003cspan class=\"nt\"\u003e\u0026lt;p\u0026gt;\u003c/span\u003e                 \n                        \u003cspan class=\"nt\"\u003e\u0026lt;a\u003c/span\u003e \u003cspan class=\"na\"\u003eid=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"forgot-password\"\u003c/span\u003e \u003cspan class=\"na\"\u003easp-page=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"./ForgotPassword\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003eForgot your password?\u003cspan class=\"nt\"\u003e\u0026lt;/a\u0026gt;\u003c/span\u003e                   \n                    \u003cspan class=\"nt\"\u003e\u0026lt;/p\u0026gt;\u003c/span\u003e                    \n                    \u003cspan class=\"nt\"\u003e\u0026lt;p\u0026gt;\u003c/span\u003e                 \n                        \u003cspan class=\"nt\"\u003e\u0026lt;a\u003c/span\u003e \u003cspan class=\"na\"\u003easp-page=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"./Register\"\u003c/span\u003e \u003cspan class=\"na\"\u003easp-route-returnUrl=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"@Model.ReturnUrl\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003eRegister as a new user\u003cspan class=\"nt\"\u003e\u0026lt;/a\u0026gt;\u003c/span\u003e                  \n                    \u003cspan class=\"nt\"\u003e\u0026lt;/p\u0026gt;\u003c/span\u003e                    \n                    \u003cspan class=\"nt\"\u003e\u0026lt;p\u0026gt;\u003c/span\u003e                 \n                        \u003cspan class=\"nt\"\u003e\u0026lt;a\u003c/span\u003e \u003cspan class=\"na\"\u003eid=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"resend-confirmation\"\u003c/span\u003e \u003cspan class=\"na\"\u003easp-page=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"./ResendEmailConfirmation\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003eResend email confirmation\u003cspan class=\"nt\"\u003e\u0026lt;/a\u0026gt;\u003c/span\u003e                  \n                    \u003cspan class=\"nt\"\u003e\u0026lt;/p\u0026gt;\u003c/span\u003e                    \n                \u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e*@                    \n            \u003cspan class=\"nt\"\u003e\u0026lt;/form\u0026gt;\u003c/span\u003e                 \n        \u003cspan class=\"nt\"\u003e\u0026lt;/section\u0026gt;\u003c/span\u003e                  \n    \u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e                  \n    @*\u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"col-md-6 col-md-offset-2\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e                    \n        \u003cspan class=\"nt\"\u003e\u0026lt;section\u0026gt;\u003c/span\u003e                   \n            \u003cspan class=\"nt\"\u003e\u0026lt;h4\u0026gt;\u003c/span\u003eUse another service to log in.\u003cspan class=\"nt\"\u003e\u0026lt;/h4\u0026gt;\u003c/span\u003e                 \n            \u003cspan class=\"nt\"\u003e\u0026lt;hr\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e                  \n            @{                  \n                if ((Model.ExternalLogins?.Count ?? 0) == 0)                    \n                {                   \n                    \u003cspan class=\"nt\"\u003e\u0026lt;div\u0026gt;\u003c/span\u003e                   \n                        \u003cspan class=\"nt\"\u003e\u0026lt;p\u0026gt;\u003c/span\u003e                 \n                            There are no external authentication services configured. See \u003cspan class=\"nt\"\u003e\u0026lt;a\u003c/span\u003e \u003cspan class=\"na\"\u003ehref=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"https://go.microsoft.com/fwlink/?LinkID=532715\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003ethis article\u003cspan class=\"nt\"\u003e\u0026lt;/a\u0026gt;\u003c/span\u003e                 \n                            for details on setting up this ASP.NET application to support logging in via external services.                 \n                        \u003cspan class=\"nt\"\u003e\u0026lt;/p\u0026gt;\u003c/span\u003e                    \n                    \u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e                  \n                }                   \n                else                    \n                {                   \n                    \u003cspan class=\"nt\"\u003e\u0026lt;form\u003c/span\u003e \u003cspan class=\"na\"\u003eid=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"external-account\"\u003c/span\u003e \u003cspan class=\"na\"\u003easp-page=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"./ExternalLogin\"\u003c/span\u003e \u003cspan class=\"na\"\u003easp-route-returnUrl=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"@Model.ReturnUrl\"\u003c/span\u003e \u003cspan class=\"na\"\u003emethod=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"post\"\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"form-horizontal\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e                    \n                        \u003cspan class=\"nt\"\u003e\u0026lt;div\u0026gt;\u003c/span\u003e                   \n                            \u003cspan class=\"nt\"\u003e\u0026lt;p\u0026gt;\u003c/span\u003e                 \n                                @foreach (var provider in Model.ExternalLogins)                 \n                                {                   \n                                    \u003cspan class=\"nt\"\u003e\u0026lt;button\u003c/span\u003e \u003cspan class=\"na\"\u003etype=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"submit\"\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"btn btn-primary\"\u003c/span\u003e \u003cspan class=\"na\"\u003ename=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"provider\"\u003c/span\u003e \u003cspan class=\"na\"\u003evalue=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"@provider.Name\"\u003c/span\u003e \u003cspan class=\"na\"\u003etitle=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Log in using your @provider.DisplayName account\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e@provider.DisplayName\u003cspan class=\"nt\"\u003e\u0026lt;/button\u0026gt;\u003c/span\u003e                 \n                                }                   \n                            \u003cspan class=\"nt\"\u003e\u0026lt;/p\u0026gt;\u003c/span\u003e                    \n                        \u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e                  \n                    \u003cspan class=\"nt\"\u003e\u0026lt;/form\u0026gt;\u003c/span\u003e                 \n                }                   \n            }                   \n        \u003cspan class=\"nt\"\u003e\u0026lt;/section\u0026gt;\u003c/span\u003e                  \n    \u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e*@                    \n\u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e                  \n\n@section Scripts {                  \n    \u003cspan class=\"nt\"\u003e\u0026lt;partial\u003c/span\u003e \u003cspan class=\"na\"\u003ename=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"_ValidationScriptsPartial\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e                    \n}                   \n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"html\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eRegister.cshtml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e@page               \n@model RegisterModel                \n@{              \n    ViewData[\"Title\"] = \"Register\";             \n}               \n\n\u003cspan class=\"nt\"\u003e\u0026lt;h1\u0026gt;\u003c/span\u003e@ViewData[\"Title\"]\u003cspan class=\"nt\"\u003e\u0026lt;/h1\u0026gt;\u003c/span\u003e             \n\n\u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"row\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e               \n    \u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"col-md-4\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e              \n        \u003cspan class=\"nt\"\u003e\u0026lt;form\u003c/span\u003e \u003cspan class=\"na\"\u003easp-route-returnUrl=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"@Model.ReturnUrl\"\u003c/span\u003e \u003cspan class=\"na\"\u003emethod=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"post\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e             \n            \u003cspan class=\"nt\"\u003e\u0026lt;h4\u0026gt;\u003c/span\u003eCreate a new account.\u003cspan class=\"nt\"\u003e\u0026lt;/h4\u0026gt;\u003c/span\u003e              \n            \u003cspan class=\"nt\"\u003e\u0026lt;hr\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e              \n            \u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003easp-validation-summary=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"All\"\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text-danger\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u0026lt;/div\u0026gt;\u003c/span\u003e                \n            \u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"form-group\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e                \n                \u003cspan class=\"nt\"\u003e\u0026lt;label\u003c/span\u003e \u003cspan class=\"na\"\u003easp-for=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Input.Name\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u0026lt;/label\u0026gt;\u003c/span\u003e                \n                \u003cspan class=\"nt\"\u003e\u0026lt;input\u003c/span\u003e \u003cspan class=\"na\"\u003easp-for=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Input.Name\"\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"form-control\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e             \n                @*\u003cspan class=\"nt\"\u003e\u0026lt;span\u003c/span\u003e \u003cspan class=\"na\"\u003easp-validation-for=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Input.Name\"\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text-danger\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u0026lt;/span\u0026gt;\u003c/span\u003e*@               \n            \u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e              \n            \u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"form-group\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e                \n                \u003cspan class=\"nt\"\u003e\u0026lt;label\u003c/span\u003e \u003cspan class=\"na\"\u003easp-for=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Input.Password\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u0026lt;/label\u0026gt;\u003c/span\u003e                \n                \u003cspan class=\"nt\"\u003e\u0026lt;input\u003c/span\u003e \u003cspan class=\"na\"\u003easp-for=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Input.Password\"\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"form-control\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e             \n                @*\u003cspan class=\"nt\"\u003e\u0026lt;span\u003c/span\u003e \u003cspan class=\"na\"\u003easp-validation-for=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Input.Password\"\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text-danger\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u0026lt;/span\u0026gt;\u003c/span\u003e*@               \n            \u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e              \n            \u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"form-group\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e                \n                \u003cspan class=\"nt\"\u003e\u0026lt;label\u003c/span\u003e \u003cspan class=\"na\"\u003easp-for=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Input.ConfirmPassword\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u0026lt;/label\u0026gt;\u003c/span\u003e             \n                \u003cspan class=\"nt\"\u003e\u0026lt;input\u003c/span\u003e \u003cspan class=\"na\"\u003easp-for=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Input.ConfirmPassword\"\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"form-control\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e              \n                \u003cspan class=\"nt\"\u003e\u0026lt;span\u003c/span\u003e \u003cspan class=\"na\"\u003easp-validation-for=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Input.ConfirmPassword\"\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text-danger\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u0026lt;/span\u0026gt;\u003c/span\u003e                \n            \u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e              \n            \u003cspan class=\"nt\"\u003e\u0026lt;button\u003c/span\u003e \u003cspan class=\"na\"\u003etype=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"submit\"\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"btn btn-primary\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003eRegister\u003cspan class=\"nt\"\u003e\u0026lt;/button\u0026gt;\u003c/span\u003e             \n        \u003cspan class=\"nt\"\u003e\u0026lt;/form\u0026gt;\u003c/span\u003e             \n    \u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e              \n    @*\u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"col-md-6 col-md-offset-2\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e                \n        \u003cspan class=\"nt\"\u003e\u0026lt;section\u0026gt;\u003c/span\u003e               \n            \u003cspan class=\"nt\"\u003e\u0026lt;h4\u0026gt;\u003c/span\u003eUse another service to register.\u003cspan class=\"nt\"\u003e\u0026lt;/h4\u0026gt;\u003c/span\u003e               \n            \u003cspan class=\"nt\"\u003e\u0026lt;hr\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e              \n            @{              \n                if ((Model.ExternalLogins?.Count ?? 0) == 0)                \n                {               \n                    \u003cspan class=\"nt\"\u003e\u0026lt;div\u0026gt;\u003c/span\u003e               \n                        \u003cspan class=\"nt\"\u003e\u0026lt;p\u0026gt;\u003c/span\u003e             \n                            There are no external authentication services configured. See \u003cspan class=\"nt\"\u003e\u0026lt;a\u003c/span\u003e \u003cspan class=\"na\"\u003ehref=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"https://go.microsoft.com/fwlink/?LinkID=532715\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003ethis article\u003cspan class=\"nt\"\u003e\u0026lt;/a\u0026gt;\u003c/span\u003e             \n                            for details on setting up this ASP.NET application to support logging in via external services.             \n                        \u003cspan class=\"nt\"\u003e\u0026lt;/p\u0026gt;\u003c/span\u003e                \n                    \u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e              \n                }               \n                else                \n                {               \n                    \u003cspan class=\"nt\"\u003e\u0026lt;form\u003c/span\u003e \u003cspan class=\"na\"\u003eid=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"external-account\"\u003c/span\u003e \u003cspan class=\"na\"\u003easp-page=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"./ExternalLogin\"\u003c/span\u003e \u003cspan class=\"na\"\u003easp-route-returnUrl=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"@Model.ReturnUrl\"\u003c/span\u003e \u003cspan class=\"na\"\u003emethod=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"post\"\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"form-horizontal\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e                \n                        \u003cspan class=\"nt\"\u003e\u0026lt;div\u0026gt;\u003c/span\u003e               \n                            \u003cspan class=\"nt\"\u003e\u0026lt;p\u0026gt;\u003c/span\u003e             \n                                @foreach (var provider in Model.ExternalLogins)             \n                                {               \n                                    \u003cspan class=\"nt\"\u003e\u0026lt;button\u003c/span\u003e \u003cspan class=\"na\"\u003etype=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"submit\"\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"btn btn-primary\"\u003c/span\u003e \u003cspan class=\"na\"\u003ename=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"provider\"\u003c/span\u003e \u003cspan class=\"na\"\u003evalue=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"@provider.Name\"\u003c/span\u003e \u003cspan class=\"na\"\u003etitle=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Log in using your @provider.DisplayName account\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e@provider.DisplayName\u003cspan class=\"nt\"\u003e\u0026lt;/button\u0026gt;\u003c/span\u003e             \n                                }               \n                            \u003cspan class=\"nt\"\u003e\u0026lt;/p\u0026gt;\u003c/span\u003e                \n                        \u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e              \n                    \u003cspan class=\"nt\"\u003e\u0026lt;/form\u0026gt;\u003c/span\u003e             \n                }               \n            }               \n        \u003cspan class=\"nt\"\u003e\u0026lt;/section\u0026gt;\u003c/span\u003e              \n    \u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e*@                \n\u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e              \n\n@section Scripts {              \n    \u003cspan class=\"nt\"\u003e\u0026lt;partial\u003c/span\u003e \u003cspan class=\"na\"\u003ename=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"_ValidationScriptsPartial\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e                \n}               \n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eではあらためて登録してみます。EmailだったところがNameに変わっているので名前を入力し、パスワードは単純に「1234」を入れています。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/aabde4f8884f0b016316451d6cc3f59d2f2d9bb8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f61396263303431392d623633312d363535652d333338622d6637303663633064326334622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Fa9bc0419-b631-655e-338b-f706cc0d2c4b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d81d932bc9b90d5484715688d6271392\" alt=\"image25.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/a9bc0419-b631-655e-338b-f706cc0d2c4b.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2Fa9bc0419-b631-655e-338b-f706cc0d2c4b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ee09bd7bd717e32a146303c7be7c8baa 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nページの右上に登録時に入力した名前が表示され、また先ほど見れなかったCounterページにアクセスできていれば成功です。\u003cbr\u003e\nログアウトやログインもできるようになっているはずです。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/ae5fe1f7b29b157597a4cd623f4b52a2f6a373b9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f36386538393938342d366434662d353134382d353838332d3739333362353932643138642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F68e89984-6d4f-5148-5883-7933b592d18d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b2f33e004c05258d497694f264dece88\" alt=\"image26.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/68e89984-6d4f-5148-5883-7933b592d18d.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F68e89984-6d4f-5148-5883-7933b592d18d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=27767cce35a1f68464526ef56048264c 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nログイン画面\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/cf279b125695335c31d0139ee2d702b6acf67fad/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3233343439362f36643764363432642d646436372d383061332d306165302d6130613234376335316333342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F6d7d642d-dd67-80a3-0ae0-a0a247c51c34.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=67ae6b67dcacb71b0393a81573475612\" alt=\"image27.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/234496/6d7d642d-dd67-80a3-0ae0-a0a247c51c34.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F234496%2F6d7d642d-dd67-80a3-0ae0-a0a247c51c34.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=15d51092c65f8afc725a83bd8173f3d8 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n本格的なカスタマイズにはC#以外にRazor記法や タグヘルパーを駆使する必要がありますが、ひとまずBlazorアプリのプロジェクト作成からログイン機能実装までを行うことができました。\u003c/p\u003e\n\n\u003cp\u003e次回はDBの参照、登録、削除といったCRUD処理を追加する予定です。コンテキストファイルが複数あるので、少しだけ工夫が必要です。\u003c/p\u003e\n","createdAt":"2020-05-07T16:26:25Z","elapsedYearsFromLastModifiedAt":1,"encryptedId":"kUcADcWl6GK5goeQU4TL1SUgDiIhcClvJw==--FdNPylhlYYUuv6u4--g0AZpANLMSy9nnPoMiwsug==","isBanned":false,"isDeprecated":true,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2020-05-08T10:21:03Z","likesCount":53,"linkUrl":"https://qiita.com/Mutz/items/1b0d7a826004dd9272db","organization":null,"originalId":1218866,"stockedCount":60,"title":"ゼロからBlazor（プロジェクト作成～ログイン機能実装まで）","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#blazor%E3%81%A8%E3%81%AF\"\u003eBlazorとは\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%92%B0%E5%A2%83\"\u003e環境\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#blazor%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90\"\u003eBlazorプロジェクトの作成\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#1-%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%81%AE%E9%81%B8%E6%8A%9E\"\u003e1. テンプレートの選択\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#2-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E5%90%8D%E3%81%AE%E5%85%A5%E5%8A%9B\"\u003e2. プロジェクト名の入力\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#3-%E8%AA%8D%E8%A8%BC%E8%A8%AD%E5%AE%9A%E3%81%AE%E5%A4%89%E6%9B%B4\"\u003e3. 認証設定の変更\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\n\n\u003cli\u003e\n\u003ca href=\"#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%A7%8B%E6%88%90%E3%81%AE%E7%A2%BA%E8%AA%8D%E3%81%A8%E5%AE%9F%E8%A1%8C\"\u003eプロジェクト構成の確認と実行\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AB%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E5%AE%9F%E8%A1%8C\"\u003eサンプルプロジェクトの実行\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%A3%9C%E8%B6%B3-net-%E3%81%AE%E8%AA%8D%E8%A8%BC%E6%A9%9F%E8%83%BD%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\"\u003e補足 .NET の認証機能について\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\n\n\n\n\u003cli\u003e\n\u003ca href=\"#%E8%AA%8D%E8%A8%BC%E7%94%BB%E9%9D%A2%E3%81%AE%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA\"\u003e認証画面のカスタマイズ\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#1-%E3%82%B9%E3%82%AD%E3%83%A3%E3%83%95%E3%82%A9%E3%83%BC%E3%83%AB%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0\"\u003e1. スキャフォールディング\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#2-login-%E3%81%A8-register-%E3%82%92%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%89\"\u003e2. Login と Register をオーバーライド\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#3-identity-%E3%81%AE%E7%B5%B1%E4%B8%80\"\u003e3. Identity の統一\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#4-%E3%83%87%E3%83%BC%E3%82%BF%E3%83%99%E3%83%BC%E3%82%B9%E3%81%AE%E8%A8%AD%E5%AE%9A\"\u003e4. データベースの設定\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%A3%9C%E8%B6%B3-entity-framework-%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\"\u003e補足 Entity Framework について\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#5-%E3%83%9E%E3%82%A4%E3%82%B0%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E4%BD%9C%E6%88%90%E3%81%A8%E6%9B%B4%E6%96%B0\"\u003e5. マイグレーションファイルの作成と更新\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#6-%E7%99%BB%E9%8C%B2%E3%83%AD%E3%82%B0%E3%82%A4%E3%83%B3%E7%94%BB%E9%9D%A2%E3%82%92%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA\"\u003e6. 登録・ログイン画面をカスタマイズ\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\n\n\n\n\n","totalPv":17316,"uuid":"1b0d7a826004dd9272db","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"InbjjX2dazBlfUrPMPDvSaUoHyi+--pHKgoQqyuE5I7pO3--jj9cggkuRTEnAN+IZ0/HSQ==","originalId":234496,"description":"沖縄とブラジルの音楽が好きです","facebookUrl":null,"githubUrl":"https://github.com/Mutsumix","isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"オカモト タピ","profileImageUrl":"https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/234496/4e5198b4a7a76933874d2edfa0737cde02a2d3cf/x_large.png?1589006350","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fs3-ap-northeast-1.amazonaws.com%2Fqiita-image-store%2F0%2F234496%2F4e5198b4a7a76933874d2edfa0737cde02a2d3cf%2Fx_large.png%3F1589006350?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=c219e0fac36fe812216055c59b152368","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fs3-ap-northeast-1.amazonaws.com%2Fqiita-image-store%2F0%2F234496%2F4e5198b4a7a76933874d2edfa0737cde02a2d3cf%2Fx_large.png%3F1589006350?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=bb632160c2d77149bcd708bfe8c27c03","urlName":"Mutz","websiteUrl":"","twitterUrl":null,"twitterUrlName":null,"revealedOrganizations":{"edges":[]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"ASP.NET_Core","urlName":"asp.net_core"},{"name":"ASP.NET_Identity","urlName":"asp.net_identity"},{"name":"Blazor","urlName":"blazor"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
