C#でDiscord Botを作っている際にEmbed(埋め込みメッセージ)を作成したいなぁと思い、参考記事を探してみたのですが、出てくるのはDicord.pyやDiscord.jsの記事ばかり、、、
そんな中、いろいろなDiscord Bot(C#)の記事を見ていると、コードの一部にEmbedを使っている記事を見つけ、それを参考に質問サイトやEmbed APIドキュメントなどを見ながらいろいろ試してみてたらEmbedを作成できたので自分のメモ用がてら書いておこうと思いました。まだBotを作っていない人やBotをまだ動かせていない人は、他の方のBotの作り方の参考記事がいくつかあるのでそちらを参考にしてみてください。・Discord Bot 作り方（C#）参考記事
記事1 :【C#】Discord .NETでbotを作る
記事2 : DiscordのBotをC#で作ってみる
記事3 : C#でDiscord BOTを作る方法ちなみに私は記事1を参考にBotを作りました。・ユーザーが使用することができず、botにしか作れません
・複数の情報をまとめて出力することができる便利な機能です
Visual Studio 2019
Discord.Net 2.2.01. Embedオブジェクトの定義
2. 埋め込み要素の作成
3. 作成したEmbedをメッセージとして送信する文字が太字で大きめなのでタイトルなどに使えます。説明などの長文など載せるのに使えます。タイトルと説明文を書くとこんな感じになります↓
Color構造体を使って左側のバーの色を指定することができます。また、さらに細かい色の設定をしたい場合は、16進数カラーコードを指定することでできます。
自分の設定したい色の16進数のカラーコードを知りたい場合、こちらのサイトが便利です。
上記のサイトで取得したカラーコード(#E800B9)
※コードは「#」を「0x」に置き換えて書いてください。カラーコードのアルファベットは小文字でも大丈夫です。フィールドを追加できます。また、第3引数にtrueを持たせることでフィールドを横に最大3つまで並べることが可能です。(無効にしたい場合はfalseを指定してください。)
しかし、スマホの画面など画面の小さいサイズでは2列または、1列で表示されてしまいます。PCの画面の場合
スマホの画面の場合
リンクを貼ったりすることもできます。[タイトル](URL)という文字列を記入することでリンクとして認識されます。画像URLを指定することで、下の大きい画像エリアにイメージを設定できます。画像URLを指定することで、右上の小さい画像エリアにサムネイルを設定できます。お借りした画像URL
Image : 可愛いナマケモノのイラスト - 面白い動物無料素材
Thumbnail : Wikipedia C# ロゴ作成者などのユーザー情報などを追加できます。また、第２引数に画像URLを指定することで、アイコンを設定できます。
メッセージを送信したユーザーのユーザー名とそのユーザーアイコンを取得し、設定することもできます。それについては最後のサンプルコードを参考にしてください。フッターに文字列などを追加できます。また、第２引数に画像URLを指定することで、アイコンを設定できます。日時・日付・時刻などを示す文字列を追加できます。SendMessageAsyncなどを使い、作成したEmbedをbotに送信させます。Discord上のサーバーでユーザーが「test」と送信するとEmbedの作成し、それをメッセージとして返信させます。※Embedの中はすべての場所でメンションが使えるわけではないので注意が必要です。
参考：埋め込みの中でメンションを使える場所Embedは複数の情報をコンパクトにまとめて出力することができるためとても魅力的です。Embedを作る際は、埋め込み要素をすべて使う必要はないので、自分の使いたい要素をピックアップして作ってみてください。また、Discord.pyやDiscord.jsの記事でもコードの書き方は違いますが、Embedを使ってどのようなことができるのか、参考になる記事もあるのでいろいろ見てみるといいと思います。Embedオブジェクトを定義するときに埋め込み要素を指定しておくことができるということを書いていなかったので簡単に書いておきました。
→Embedオブジェクトを定義するときに埋め込み要素を指定する。・【C#】Discord .NETでbotを作る
・ DiscordBotをC#で作ってAzureで公開してみた
・ Embed APIドキュメント
・ 色名表記→16進表記の変換


