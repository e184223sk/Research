More than 1 year has passed since last update.まず完全に忘れておりました。大変申し訳ございませんんんんん。で、今回ですが芸大の友人とADVゲーム作ろうという話になったんで、今回はティラノスクリプトや吉里吉里といった開発ツールは使わずにJSONファイルを利用して製作することにしました。そのためにまずJSONファイルをUnityで扱う方法を勉強してみたのでそれをまとめます。
今回はWeather Hacksから天気情報を取ってきて今日、明日、明後日の天気情報を表示するUIをUnityで制作してみました。上記のサイトでJSONファイルの中で今回使用するところを取り出すと以下の部分です。今回はJSONUtilityを使ってJSONファイルを取得する予定なので、JSONファイルの構造をスクリプト内で定義する必要があります。
Itemという名前は適当につけたものなのであしからず。JSONファイルを獲得し、そのファイルから成形したデータでインスタンスを生成する。
WWW (name)= new WWW(link);でリンク先のデータをダウンロードできます。
リンク先からnull値を返された時のためにコルーチンを使っていきます。
ダウンロードしたデータを使ってデータを成形し、それらをUnity上のオブジェクトにアタッチしましょう。インスタンス化するNodeにアタッチするスクリプトは以下。
dateLabelとtelopをUnityでアタッチする。こんな感じでやっていけばできると思います。Qiita書くのそもそも初めてなんでレイアウトとか変だったらごめんなさい。
JSONを利用する方法はUnityではあんまり使うことはないのかも...とやってるうちに思ったりましたが何かの助けになれば幸いです。


