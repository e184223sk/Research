最近流行していて、さらにはアドベントカレンダーまで登場した湯婆婆ですが、Flutterで湯婆婆を実装してみる に触発されて湯婆婆の画面付きを作ってみました。こんな感じです。左が Windows アプリで右側が WebAssembly になります。実際に動くサイトは以下にデプロイしています。湯婆婆 on AzureWindows, Android, iOS, WebAssembly, macOS, Linux に対応している Uno Platform を使って作りました。今回はスマホ対応は単純にレスポンシブに作ることがメンドクサカッタのと、macOS と Linux は環境を用意するのがメンドクサカッタので Windows と WebAssembly を対象に作りました。Uno Platform については以前 Qiita で紹介しました。Uno Platform 入門
公式サイトはこちらになります。Uno Platform
今回の湯婆婆を作るうえで頑張ったところを列挙していきたいと思います。サロゲートペアに対応しています！！C# での対応方法は先日自分で書いたのでその通りにやりました。C# で湯婆婆を実装してみる（𠮷田さんにも対応）湯婆婆ごときにはオーバースペックなのでお勧めしませんが、なんとなく先日 Uno Platform に対応した Prism (MVVM フレームワーク) と ReactiveProperty を使って開発しています。なのでソリューションエクスプローラーはこんなに沢山プロジェクトがあります。オーバースペック！湯婆婆のコアロジック（ちゃんとしたセリフになってるか）を単体テストしました。ランダムに 1 文字選ぶために乱数を生成している部分は乱数生成部分をモックに差し替え可能なように作って単体テストではモックを差し込んでいます。テスト結果が緑だと気持ちいいですね！𠮷田さん対応のテストケースも書いています。あと大事な仕様の名前が未入力だと湯婆婆が死ぬことも確認しています。ついかっとなって画面を作ってしまいました。ちょうど Uno Platform 版の Prism を試してみたかったので個人的には満足です。ソースコードは以下のリポジトリで公開しています。


