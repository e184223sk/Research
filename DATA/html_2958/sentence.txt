More than 1 year has passed since last update.MagicOnion についてはこちらをご覧ください。
MagicOnionにおいて通常のユーザー用RPCとは別に、管理者用コマンドを受け付けたいケースがあります。
(例: static変数にキャッシュした内容のクリア)
そういう場合は管理者用コマンドだけを別ポートから受け付けるようにすると楽です。Interfaceを定義します。実装します。このとき、ユーザー用サービスとは別のDLLで作っておくと後で楽です。MagicOnion サーバーの起動時に、どのサービスを使うかを指定することができるので、
ユーザー用ポートでは自身の Assembly を、管理者用ポートでは AdminService を指定します。
※ユーザー用ポートに AdminService を含まないよう注意この方法だと管理者用コマンドの呼び出し側でも MagicOnion が必要になるので MicroBatchFramework かなにかでバッチを作っておくと良いでしょう。以下サンプルです。


