<!DOCTYPE html><html><head><meta charset="utf-8" /><title>【Unity】DOTweenのPluginを作成して任意の自作オブジェクトをTweenできるようにする - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/yutorisan/items/1eaff2322fbe28a9fbcb" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="nc+oXm0NIuxKXlcSimQsrVpoxcGIqhBVZnHM89GO4l57nZoz0L4VtHhaXgrNJ5bbMu08tbvwABDhWmOIfqGLrg==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta content="@yutorisan19" name="twitter:creator" /><meta property="og:type" content="article"><meta property="og:title" content="【Unity】DOTweenのPluginを作成して任意の自作オブジェクトをTweenできるようにする - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND00NENRVlc1cGRIbmpnSkZFVDFSM1pXVnU0NEd1VUd4MVoybHU0NEtTNUwyYzVvaVE0NEdYNDRHbTVMdTc1b1NQNDRHdTZJZXE1TDJjNDRLcTQ0T1c0NEs0NDRLbjQ0S3Y0NE9JNDRLU1ZIZGxaVzdqZ2FmamdZM2pnb3ZqZ29qamdZYmpnYXZqZ1puamdvcyZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTU0JnR4dC1jbGlwPWVsbGlwc2lzJnR4dC1hbGlnbj1jZW50ZXIlMkNtaWRkbGUmcz04MWM0MDRjYmRiNjFiMTUxOTVjYmJlZGVmZmM0MDFkMg&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RSGwxZEc5eWFYTmhiZyZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPTgxODZjNmQyOWMyMjMwNjA0NDYxZjBhZTI0ODQ3YzI4&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=3bf8f3f9ef504b3ef6f001798d262c99"><meta property="og:description" content="

はじめに

先日、角度を表すAngle構造体を作成しました。



この構造体をDOTweenに投入したいのですが、DOTweenに投入できる型は予め決まっており、もちろん自作したオブジェクトは投入することができません。

調べて..."><meta content="https://qiita.com/yutorisan/items/1eaff2322fbe28a9fbcb" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,Unity,dotween" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-1eff0d7c-3ae6-4bf8-a833-24810fc2a6b7"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2Fyutorisan%2Fitems%2F1eaff2322fbe28a9fbcb">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2Fyutorisan%2Fitems%2F1eaff2322fbe28a9fbcb">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-1eff0d7c-3ae6-4bf8-a833-24810fc2a6b7">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2021-02-07T17:13:44.000+09:00","dateModified":"2021-03-25T18:21:07.000+09:00","headline":"【Unity】DOTweenのPluginを作成して任意の自作オブジェクトをTweenできるようにする","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND00NENRVlc1cGRIbmpnSkZFVDFSM1pXVnU0NEd1VUd4MVoybHU0NEtTNUwyYzVvaVE0NEdYNDRHbTVMdTc1b1NQNDRHdTZJZXE1TDJjNDRLcTQ0T1c0NEs0NDRLbjQ0S3Y0NE9JNDRLU1ZIZGxaVzdqZ2FmamdZM2pnb3ZqZ29qamdZYmpnYXZqZ1puamdvcyZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTU0JnR4dC1jbGlwPWVsbGlwc2lzJnR4dC1hbGlnbj1jZW50ZXIlMkNtaWRkbGUmcz04MWM0MDRjYmRiNjFiMTUxOTVjYmJlZGVmZmM0MDFkMg\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RSGwxZEc5eWFYTmhiZyZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPTgxODZjNmQyOWMyMjMwNjA0NDYxZjBhZTI0ODQ3YzI4\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=3bf8f3f9ef504b3ef6f001798d262c99","mainEntityOfPage":"https://qiita.com/yutorisan/items/1eaff2322fbe28a9fbcb","author":{"@type":"Person","address":"","email":null,"identifier":"yutorisan","name":"yutorisan","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fpbs.twimg.com%2Fprofile_images%2F1274400166120812544%2FDAWcpHec_bigger.jpg?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=754be610f489085be0fdfc48de5585a9","url":"https://qiita.com/yutorisan","description":"C#が好きです","memberOf":[{"@type":"Organization","address":"オンライン@Slack","legalName":"Unityゲーム開発者ギルド","image":"https://s3-ap-northeast-1.amazonaws.com/qiita-organization-image/5e3ba3bb442371003e6b5d4618ef627b9b478357/original.jpg?1570216541","logo":"https://s3-ap-northeast-1.amazonaws.com/qiita-organization-image/f7eb993765ddcdb2c5e6890556c43ea3de8fbfb7/original.jpg?1570215690","identifier":"unity-game-dev-guild","description":"趣味・仕事問わずUnityでゲームを作っている開発者のみで構成されるオンラインコミュニティです。Unityでゲームを開発・運用するにあたって必要なあらゆる知見を共有することを目的とします。"}]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://increments.connpass.com/event/211948/">【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup</a><a target="_blank" id="header_text_message_2" href="https://increments.connpass.com/event/211948/">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"yutorisan","type":"items","id":"1eaff2322fbe28a9fbcb"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"yutorisan","type":"items","id":"1eaff2322fbe28a9fbcb"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":2,"pos_id":"header_text_message_1","message":"【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"yutorisan","type":"items","id":"1eaff2322fbe28a9fbcb"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":2,"pos_id":"header_text_message_2","message":"【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/yutorisan/items/1eaff2322fbe28a9fbcb","location":"/yutorisan/items/1eaff2322fbe28a9fbcb","scheme":"https","host":"qiita.com","port":null,"pathname":"/yutorisan/items/1eaff2322fbe28a9fbcb","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"/2nsATg2Tw0XZfkrQF8CHLxx7hhsGp+Fe1LqdzypYg4ZO95shYV4VSVh8DMHHLhq1PQXbF9Aj8D8eUUMk4YL/g==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-f80d1830-cd67-4ae8-8209-ff3a16518277"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/yutorisan/items/1eaff2322fbe28a9fbcb/likers" class="css-1iupg5d">2</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">5</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/1eaff2322fbe28a9fbcb/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/yutorisan/items/1eaff2322fbe28a9fbcb/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/yutorisan/items/1eaff2322fbe28a9fbcb/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/yutorisan/items/1eaff2322fbe28a9fbcb/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/yutorisan/items/1eaff2322fbe28a9fbcb.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/yutorisan"><img class="css-100alwu eyfquo10" src="https://pbs.twimg.com/profile_images/1274400166120812544/DAWcpHec_bigger.jpg" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/yutorisan" class="css-10ougpm">@<!-- -->yutorisan</a><div class="css-1ay9vb9"><span><meta content="2021-02-07T08:13:44Z"/><time dateTime="2021-03-25T09:21:07Z" class="css-m19uds">updated at 2021-03-25</time></span></div></div></div></div></div><h1 class="css-cgzq40">【Unity】DOTweenのPluginを作成して任意の自作オブジェクトをTweenできるようにする</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/unity" class="css-4czcte">Unity</a><a href="/tags/dotween" class="css-4czcte">dotween</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div>
<h1>
<span id="はじめに" class="fragment"></span><a href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB"><i class="fa fa-link"></i></a>はじめに</h1>

<p>先日、<strong>角度を表す<code>Angle</code>構造体</strong>を作成しました。</p>

<p><qiita-embed-ogp src="https://qiita.com/yutorisan/items/63679fc1babb142e5b01"></qiita-embed-ogp></p>

<p>この構造体をDOTweenに投入したいのですが、DOTweenに投入できる型は予め決まっており、もちろん自作したオブジェクトは投入することができません。</p>

<p>調べてみたところ、DOTweenには<strong>任意のオブジェクトをTweenさせることができるPluginを作成する機能</strong>が備わっているようです。<br>
しかし、DOTweenのPluginを作成する情報が少なく悪戦苦闘しましたので、ここに記録します。</p>

<h1>
<span id="dotweenのpluginを作成する" class="fragment"></span><a href="#dotween%E3%81%AEplugin%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>DOTweenのPluginを作成する</h1>

<p>DOTween公式ホームページに、Plugin作成サンプルが掲載されています。<br>
以下からダウンロードできます。</p>

<p><qiita-embed-ogp src="http://dotween.demigiant.com/examples.php"></qiita-embed-ogp></p>

<p>このサンプルに従って、<code>Angle</code>構造体のPluginの作成を行ってみます。</p>

<h2>
<span id="abstweenpluginを継承したプラグイン本体を作成する" class="fragment"></span><a href="#abstweenplugin%E3%82%92%E7%B6%99%E6%89%BF%E3%81%97%E3%81%9F%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E6%9C%AC%E4%BD%93%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a><code>ABSTweenPlugin</code>を継承したプラグイン本体を作成する</h2>

<p>プラグイン本体は<code>ABSTweenPlugin&lt;T1, T2, TPlugOptions&gt;</code>クラスを継承する必要があります。</p>

<h3>
<span id="型引数" class="fragment"></span><a href="#%E5%9E%8B%E5%BC%95%E6%95%B0"><i class="fa fa-link"></i></a>型引数</h3>

<p>このクラスは型引数が3つもあるので、まずはこちらの説明をします。</p>

<ul>
<li>
<code>T1</code>は<code>getter</code>,<code>setter</code>で扱う値の型、すなわちTweenしたい型を指定します。</li>
<li>
<code>T2</code>は基本的に<code>T1</code>と同じにしますが、内部演算で異なる型を使用したい場合は異なる型を指定することができます。</li>
<li>
<code>TPlugOptions</code>は<code>IPlugOptions</code>インターフェイスを実装した構造体を指定します。これは、<code>SetOptions()</code>等で挙動を設定可能にしたい場合に、設定値を記憶しておくための構造体です。設定項目を作らなくても良い場合は、予め用意された<code>NoOptions</code>という型を指定すればOKです。</li>
</ul>

<p><code>Angle</code>構造体は内部演算で異なる型を使用する必要がなかったので、<code>T1</code>と<code>T2</code>は両方とも<code>Angle</code>を指定しました。<br>
独自のオプションを作成する必要が出てきたので、<code>TPlugOptions</code>には<code>AngleOptions</code>構造体を作成してそれを指定しました。理由は後述します。</p>

<h3>
<span id="実装するメソッド" class="fragment"></span><a href="#%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89"><i class="fa fa-link"></i></a>実装するメソッド</h3>

<p><code>ABSTweenPlugin&lt;T1, T2, TPlugOptions&gt;</code>クラスには次の抽象メソッドが定義されており、これらを実装することでプラグインとして動作するようになります。</p>

<table>
<thead>
<tr>
<th style="text-align: center">メソッド名</th>
<th style="text-align: center">実装すべき処理</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center"><code>Reset</code></td>
<td style="text-align: center">TweenがResetされたときに実行する処理</td>
</tr>
<tr>
<td style="text-align: center"><code>SetFrom</code></td>
<td style="text-align: center">
<code>From()</code>されたときに開始値と終了値を補正する処理</td>
</tr>
<tr>
<td style="text-align: center"><code>ConvertToStartValue</code></td>
<td style="text-align: center">
<code>T1</code>から<code>T2</code>に変換する処理</td>
</tr>
<tr>
<td style="text-align: center"><code>SetChangeValue</code></td>
<td style="text-align: center">Tweenの開始値と終了値の変化量を取得する処理</td>
</tr>
<tr>
<td style="text-align: center"><code>SetRelativeEndValue</code></td>
<td style="text-align: center">
<code>SetRelative()</code>されたときに終了値を修正する処理</td>
</tr>
<tr>
<td style="text-align: center"><code>GetSpeedBasedDuration</code></td>
<td style="text-align: center">
<code>SetSpeedBased()</code>されたのときにDurationを補正する処理</td>
</tr>
<tr>
<td style="text-align: center"><code>EvaluateAndApply</code></td>
<td style="text-align: center">毎フレーム呼ばれ、実際に値を更新する処理</td>
</tr>
</tbody>
</table>

<p>具体的にどのように実装するのかを、<code>Angle</code>構造体用プラグインの実装例で確認していきます。</p>

<h4>
<span id="reset" class="fragment"></span><a href="#reset"><i class="fa fa-link"></i></a><code>Reset</code>
</h4>

<p>TweenがResetされたときに実行する処理を記述します。<br>
基本的にプラグイン本体は状態を持たないため、処理は何も記述しません。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">Reset</span><span class="p">(</span><span class="n">TweenerCore</span><span class="p">&lt;</span><span class="n">Angle</span><span class="p">,</span> <span class="n">Angle</span><span class="p">,</span> <span class="n">AngleOptions</span><span class="p">&gt;</span> <span class="n">t</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">//何もしない</span>
<span class="p">}</span>
</code></pre></div></div>

<p>状態を持たせたい場合、後述する<code>PlugOptions</code>を使用します。</p>

<h4>
<span id="setfrom" class="fragment"></span><a href="#setfrom"><i class="fa fa-link"></i></a><code>SetFrom</code>
</h4>

<p>このメソッドは<code>From()</code>が指定されたときに呼ばれます。<br>
<code>From()</code>は「現在値から目標値」ではなく「目標値から現在値」にTweenさせる設定なので、開始値と終了値を反転させる処理を記述します。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">SetFrom</span><span class="p">(</span><span class="n">TweenerCore</span><span class="p">&lt;</span><span class="n">Angle</span><span class="p">,</span> <span class="n">Angle</span><span class="p">,</span> <span class="n">AngleOptions</span><span class="p">&gt;</span> <span class="n">t</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">isRelative</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">//開始値と終了値を反転させる</span>
    <span class="n">Angle</span> <span class="n">prevEndAngle</span> <span class="p">=</span> <span class="n">t</span><span class="p">.</span><span class="n">endValue</span><span class="p">;</span>
    <span class="n">t</span><span class="p">.</span><span class="n">endValue</span> <span class="p">=</span> <span class="n">t</span><span class="p">.</span><span class="nf">getter</span><span class="p">();</span>
    <span class="n">t</span><span class="p">.</span><span class="n">startValue</span> <span class="p">=</span> <span class="n">isRelative</span> <span class="p">?</span> <span class="n">t</span><span class="p">.</span><span class="n">endValue</span> <span class="p">+</span> <span class="n">prevEndAngle</span> <span class="p">:</span> <span class="n">prevEndAngle</span><span class="p">;</span>
    <span class="n">t</span><span class="p">.</span><span class="nf">setter</span><span class="p">(</span><span class="n">t</span><span class="p">.</span><span class="n">startValue</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p><code>From</code>は開始値を指定できるオーバーロードもあります。<br>
その場合は「引数で指定された値から目標値」にTweenさせる設定になるので、開始値を引数の値に設定する処理を記述します。<br>
オーバーロードによって挙動がまったく異なるので注意が必要です。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">SetFrom</span><span class="p">(</span><span class="n">TweenerCore</span><span class="p">&lt;</span><span class="n">Angle</span><span class="p">,</span> <span class="n">Angle</span><span class="p">,</span> <span class="n">AngleOptions</span><span class="p">&gt;</span> <span class="n">t</span><span class="p">,</span> <span class="n">Angle</span> <span class="n">fromValue</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">setImmediately</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">isRelative</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">//引数で指定された値を開始値に設定する</span>
    <span class="n">t</span><span class="p">.</span><span class="n">startValue</span> <span class="p">=</span> <span class="n">fromValue</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">setImmediately</span><span class="p">)</span> <span class="n">t</span><span class="p">.</span><span class="nf">setter</span><span class="p">(</span><span class="n">fromValue</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h4>
<span id="converttostartvalue" class="fragment"></span><a href="#converttostartvalue"><i class="fa fa-link"></i></a><code>ConvertToStartValue</code>
</h4>

<p><code>T1</code>と<code>T2</code>を異なる型にした場合に、<code>T1</code>から<code>T2</code>に変換する処理を記述します。<br>
<code>T1</code>と<code>T2</code>が同じの場合は、ただ単に<code>return</code>するだけでOKです。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">override</span> <span class="n">Angle</span> <span class="nf">ConvertToStartValue</span><span class="p">(</span><span class="n">TweenerCore</span><span class="p">&lt;</span><span class="n">Angle</span><span class="p">,</span> <span class="n">Angle</span><span class="p">,</span> <span class="n">AngleOptions</span><span class="p">&gt;</span> <span class="n">t</span><span class="p">,</span> <span class="n">Angle</span> <span class="k">value</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">//T1とT2は同じなのでただreturnするだけ</span>
    <span class="k">return</span> <span class="k">value</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h4>
<span id="setchangevalue" class="fragment"></span><a href="#setchangevalue"><i class="fa fa-link"></i></a><code>SetChangeValue</code>
</h4>

<p>開始値と終了値の差分を計算する処理を記述します。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">SetChangeValue</span><span class="p">(</span><span class="n">TweenerCore</span><span class="p">&lt;</span><span class="n">Angle</span><span class="p">,</span> <span class="n">Angle</span><span class="p">,</span> <span class="n">AngleOptions</span><span class="p">&gt;</span> <span class="n">t</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">//TweenerCoreのchangeValueに開始値と終了値の差分を計算して代入する</span>
    <span class="n">t</span><span class="p">.</span><span class="n">changeValue</span> <span class="p">=</span> <span class="n">t</span><span class="p">.</span><span class="n">endValue</span> <span class="p">-</span> <span class="n">t</span><span class="p">.</span><span class="n">startValue</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h4>
<span id="setrelativeendvalue" class="fragment"></span><a href="#setrelativeendvalue"><i class="fa fa-link"></i></a><code>SetRelativeEndValue</code>
</h4>

<p><code>SetRelative()</code>が指定されているときに呼ばれます。<br>
目標値が相対値となるように、目標値を修正する処理を記述します。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code>
<span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">SetRelativeEndValue</span><span class="p">(</span><span class="n">TweenerCore</span><span class="p">&lt;</span><span class="n">Angle</span><span class="p">,</span> <span class="n">Angle</span><span class="p">,</span> <span class="n">AngleOptions</span><span class="p">&gt;</span> <span class="n">t</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">t</span><span class="p">.</span><span class="n">endValue</span> <span class="p">+=</span> <span class="n">t</span><span class="p">.</span><span class="n">startValue</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h4>
<span id="getspeedbasedduration" class="fragment"></span><a href="#getspeedbasedduration"><i class="fa fa-link"></i></a><code>GetSpeedBasedDuration</code>
</h4>

<p><code>SetSpeedBased()</code>が指定されているときに呼ばれます。</p>

<p>通常、Tweenの継続時間はdurationに[単位：s]で指定しますが、継続時間ではなく速度で指定したいときがあると思います。<br>
そういうときに、<code>SetSpeedBased()</code>を指定すると、<strong>durationに指定された値が速度[単位：/s]として扱われるようになります</strong>。<br>
正確には、ユーザーが[/s]として指定した速度値から、継続時間[s]に変換する処理が内部的に入ることになります。</p>

<p>つまり、このメソッドには、<strong>durationに指定された速度値[/s]を、継続時間[s]に直す処理を書けば良い</strong>ことになります。</p>

<p><code>Angle</code>構造体の場合、速度とは角速度です。しかし、単位は[rad/s]と[°/s]の2パターンあり、durationに指定された<code>float</code>値からは単位がどちらなのか判断できません。<br>
そこで、次のような列挙型を作って<code>AngleOptions</code>構造体に乗せ、<code>Unspecified</code>の場合は例外を投げるようにしました。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="c1">/// &lt;summary&gt;</span>
<span class="c1">/// 角速度の単位</span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="k">public</span> <span class="k">enum</span> <span class="n">AngularVelocityUnit</span>
<span class="p">{</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// 未指定</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="n">Unspecified</span><span class="p">,</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// °/s</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="n">DegreePerSecond</span><span class="p">,</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// rad/s</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="n">RadianPerSecond</span>
<span class="p">}</span>
</code></pre></div></div>

<p>最終的な実装は次のようになりました。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">override</span> <span class="kt">float</span> <span class="nf">GetSpeedBasedDuration</span><span class="p">(</span><span class="n">AngleOptions</span> <span class="n">options</span><span class="p">,</span> <span class="kt">float</span> <span class="n">unitsXSecond</span><span class="p">,</span> <span class="n">Angle</span> <span class="n">changeValue</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">switch</span> <span class="p">(</span><span class="n">options</span><span class="p">.</span><span class="n">AngularVelocityUnit</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">case</span> <span class="n">AngularVelocityUnit</span><span class="p">.</span><span class="n">DegreePerSecond</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">changeValue</span><span class="p">.</span><span class="n">TotalDegree</span> <span class="p">/</span> <span class="n">unitsXSecond</span><span class="p">;</span>
        <span class="k">case</span> <span class="n">AngularVelocityUnit</span><span class="p">.</span><span class="n">RadianPerSecond</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">changeValue</span><span class="p">.</span><span class="n">TotalRadian</span> <span class="p">/</span> <span class="n">unitsXSecond</span><span class="p">;</span>
        <span class="k">case</span> <span class="n">AngularVelocityUnit</span><span class="p">.</span><span class="n">Unspecified</span><span class="p">:</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nf">InvalidOperationException</span><span class="p">(</span><span class="s">"角速度の単位が指定されていません。"</span><span class="p">);</span>
        <span class="k">default</span><span class="p">:</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nf">InvalidEnumArgumentException</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><code>Angle</code>構造体の場合は単位の性質上このように複雑な処理になってしまいましたが、通常は単に[/s]から[s]に単位変換する処理を書けば良いと思います。</p>

<h4>
<span id="evaluateandapply" class="fragment"></span><a href="#evaluateandapply"><i class="fa fa-link"></i></a><code>EvaluateAndApply</code>
</h4>

<p>最後に<code>EvaluateAndApply</code>です。これは毎フレーム呼ばれ、実際にTweenで値を更新するロジックを記述します。<br>
公式の実装例を参考にして、次のように実装しました。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">EvaluateAndApply</span><span class="p">(</span><span class="n">AngleOptions</span> <span class="n">options</span><span class="p">,</span>
                                        <span class="n">Tween</span> <span class="n">t</span><span class="p">,</span>
                                        <span class="kt">bool</span> <span class="n">isRelative</span><span class="p">,</span>
                                        <span class="n">DOGetter</span><span class="p">&lt;</span><span class="n">Angle</span><span class="p">&gt;</span> <span class="n">getter</span><span class="p">,</span>
                                        <span class="n">DOSetter</span><span class="p">&lt;</span><span class="n">Angle</span><span class="p">&gt;</span> <span class="n">setter</span><span class="p">,</span>
                                        <span class="kt">float</span> <span class="n">elapsed</span><span class="p">,</span>
                                        <span class="n">Angle</span> <span class="n">startValue</span><span class="p">,</span>
                                        <span class="n">Angle</span> <span class="n">changeValue</span><span class="p">,</span>
                                        <span class="kt">float</span> <span class="n">duration</span><span class="p">,</span>
                                        <span class="kt">bool</span> <span class="n">usingInversePosition</span><span class="p">,</span>
                                        <span class="n">UpdateNotice</span> <span class="n">updateNotice</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">//イージング係数を取得</span>
    <span class="kt">float</span> <span class="n">ease</span> <span class="p">=</span> <span class="n">EaseManager</span><span class="p">.</span><span class="nf">Evaluate</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">elapsed</span><span class="p">,</span> <span class="n">duration</span><span class="p">,</span> <span class="n">t</span><span class="p">.</span><span class="n">easeOvershootOrAmplitude</span><span class="p">,</span> <span class="n">t</span><span class="p">.</span><span class="n">easePeriod</span><span class="p">);</span>
    <span class="c1">//setterに更新された値を渡す</span>
    <span class="nf">setter</span><span class="p">(</span><span class="n">startValue</span> <span class="p">+</span> <span class="n">changeValue</span> <span class="p">*</span> <span class="n">ease</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>以上でメソッドの実装は完了となります。</p>

<h3>
<span id="シングルトンパターン" class="fragment"></span><a href="#%E3%82%B7%E3%83%B3%E3%82%B0%E3%83%AB%E3%83%88%E3%83%B3%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3"><i class="fa fa-link"></i></a>シングルトンパターン</h3>

<p>作成したプラグインを使うにはプラグインのインスタンスが必要なのですが、プラグインは状態を持たないのでインスタンスを共有しても問題がないです。<br>
したがって、以下のようにシングルトンパターンを適用しておきます。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">AnglePlugin</span> <span class="p">:</span> <span class="n">ABSTweenPlugin</span><span class="p">&lt;</span><span class="n">Angle</span><span class="p">,</span> <span class="n">Angle</span><span class="p">,</span> <span class="n">AngleOptions</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="k">static</span> <span class="n">AnglePlugin</span> <span class="n">_instance</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">static</span> <span class="n">AnglePlugin</span> <span class="n">Instance</span> <span class="p">=&gt;</span> <span class="n">_instance</span> <span class="p">??</span> <span class="p">(</span><span class="n">_instance</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">AnglePlugin</span><span class="p">());</span>

    <span class="k">private</span> <span class="nf">AnglePlugin</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>

    <span class="c1">//..中略..</span>
<span class="p">}</span>
</code></pre></div></div>

<p>これで<code>AnglePlugin</code>は唯一インスタンスしか作られなくなるので、メモリに優しいです。</p>

<p>以上でプラグイン本体の実装は完了となります。</p>

<h2>
<span id="iplugoptionsを実装したプラグインのオプションを作成する" class="fragment"></span><a href="#iplugoptions%E3%82%92%E5%AE%9F%E8%A3%85%E3%81%97%E3%81%9F%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E3%81%AE%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a><code>IPlugOptions</code>を実装したプラグインのオプションを作成する</h2>

<p>続いて、自作のPluginに独自の設定を与えられるPlugOptionsを作成します。</p>

<p><code>AnglePlugin</code>には次のオプションを設定可能にしました。</p>

<ul>
<li>
<code>SetSpeedBased()</code>されたときに角速度の単位が[rad/s]なのか[°/s]なのかを指定するオプション</li>
<li>常に正転Tweenするオプション</li>
</ul>

<p>1個めのオプションについては<a href="#GetSpeedBasedDuration">GetSpeedBasedDuration</a>節で説明したとおりです。<br>
2個めのオプションは、例えば270°から0°にTweenするとき、270°→0°と逆回転するのではなく、270°→360°のように正転に変換してTweenさせるような設定を可能にするものです。</p>

<p>それでは、実際に<code>AnglePlugin</code>用のオプション構造体<code>AnglePlugOptions</code>を作っていきます。</p>

<p>PlugOptionsとして扱うには、<code>IPlugOptions</code>インターフェイスを実装した構造体としてオブジェクトを定義する必要があります。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">struct</span> <span class="nc">AngleOptions</span> <span class="p">:</span> <span class="n">IPlugOptions</span>
<span class="p">{</span>

<span class="p">}</span>
</code></pre></div></div>

<p>この中に保存したいオプションの値を追加していけば良いです。</p>

<p>また、<code>IPlugOptions</code>インターフェイスの定義は次のようになっています。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">interface</span> <span class="nc">IPlugOptions</span>
<span class="p">{</span>
    <span class="k">void</span> <span class="nf">Reset</span> <span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>

<p>TweenがResetされるときにこちらも呼ばれるようです。<br>
設定を初期状態に戻すコードを実装すれば良さそうですね。</p>

<p>上記をすべて実装すると次のようになります。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="c1">/// &lt;/summary&gt;</span>
<span class="c1">/// プラグインのオプション本体</span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="k">public</span> <span class="k">struct</span> <span class="nc">AngleOptions</span> <span class="p">:</span> <span class="n">IPlugOptions</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">Reset</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">Direction</span> <span class="p">=</span> <span class="n">AngleTweenDirection</span><span class="p">.</span><span class="n">Both</span><span class="p">;</span>
        <span class="n">AngularVelocityUnit</span> <span class="p">=</span> <span class="n">AngularVelocityUnit</span><span class="p">.</span><span class="n">Unspecified</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="n">AngleTweenDirection</span> <span class="n">Direction</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="n">AngularVelocityUnit</span> <span class="n">AngularVelocityUnit</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="c1">/// &lt;summary&gt;</span>
<span class="c1">/// Tweenする回転方向</span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="k">public</span> <span class="k">enum</span> <span class="n">AngleTweenDirection</span>
<span class="p">{</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// 両方</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="n">Both</span><span class="p">,</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// 正転のみ</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="n">Forward</span>
<span class="p">}</span>

<span class="c1">/// &lt;summary&gt;</span>
<span class="c1">/// 角速度の単位</span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="k">public</span> <span class="k">enum</span> <span class="n">AngularVelocityUnit</span>
<span class="p">{</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// 未指定</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="n">Unspecified</span><span class="p">,</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// °/s</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="n">DegreePerSecond</span><span class="p">,</span>
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// rad/s</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="n">RadianPerSecond</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ここで追加した<code>AngleTweenDirection</code>のオプションを使えるようにするために、プラグイン本体の<code>SetChangeValue</code>メソッドを次のように修正しました。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code>
<span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">SetChangeValue</span><span class="p">(</span><span class="n">TweenerCore</span><span class="p">&lt;</span><span class="n">Angle</span><span class="p">,</span> <span class="n">Angle</span><span class="p">,</span> <span class="n">AngleOptions</span><span class="p">&gt;</span> <span class="n">t</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">diffAngle</span> <span class="p">=</span> <span class="n">t</span><span class="p">.</span><span class="n">endValue</span> <span class="p">-</span> <span class="n">t</span><span class="p">.</span><span class="n">startValue</span><span class="p">;</span>
    <span class="c1">//正転オプションが有効になっていたら、AngleをPositiveNormalizeして正転方向に正規化する</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">t</span><span class="p">.</span><span class="n">plugOptions</span><span class="p">.</span><span class="n">Direction</span> <span class="p">==</span> <span class="n">AngleTweenDirection</span><span class="p">.</span><span class="n">Forward</span><span class="p">)</span> <span class="n">t</span><span class="p">.</span><span class="n">changeValue</span> <span class="p">=</span> <span class="n">diffAngle</span><span class="p">.</span><span class="nf">PositiveNormalize</span><span class="p">();</span>
    <span class="c1">//オプションがなければそのまま</span>
    <span class="k">else</span> <span class="n">t</span><span class="p">.</span><span class="n">changeValue</span> <span class="p">=</span> <span class="n">diffAngle</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>これでオプションが使えるようになります。</p>

<h2>
<span id="独自のsetoptions拡張メソッドを定義する" class="fragment"></span><a href="#%E7%8B%AC%E8%87%AA%E3%81%AEsetoptions%E6%8B%A1%E5%BC%B5%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>独自の<code>SetOptions</code>拡張メソッドを定義する</h2>

<p>オプションは使えるようになりましたが、オプションを設定する方法がありません。<br>
そこで、独自の<code>SetOptions</code>拡張メソッドを定義します。<br>
ついでに、<code>SetSpeedBased</code>時に同時に角速度の単位を指定できるようなオーバーロードも作っておきます。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code>
<span class="k">public</span> <span class="k">static</span> <span class="k">class</span> <span class="nc">AngleTweenExtensions</span>
<span class="p">{</span>
    <span class="c1">//AnglePlugin用のオプション設定を行うメソッド</span>
    <span class="k">public</span> <span class="k">static</span> <span class="n">Tweener</span> <span class="nf">SetOptions</span><span class="p">(</span><span class="k">this</span> <span class="n">TweenerCore</span><span class="p">&lt;</span><span class="n">Angle</span><span class="p">,</span> <span class="n">Angle</span><span class="p">,</span> <span class="n">AngleOptions</span><span class="p">&gt;</span> <span class="n">t</span><span class="p">,</span> <span class="n">AngleTweenDirection</span> <span class="n">direction</span><span class="p">,</span> <span class="n">AngularVelocityUnit</span> <span class="n">angularVelocityUnit</span> <span class="p">=</span> <span class="n">AngularVelocityUnit</span><span class="p">.</span><span class="n">Unspecified</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">t</span> <span class="p">==</span> <span class="k">null</span> <span class="p">||</span> <span class="p">!</span><span class="n">t</span><span class="p">.</span><span class="n">active</span><span class="p">)</span> <span class="k">return</span> <span class="n">t</span><span class="p">;</span>
        <span class="n">t</span><span class="p">.</span><span class="n">plugOptions</span><span class="p">.</span><span class="n">Direction</span> <span class="p">=</span> <span class="n">direction</span><span class="p">;</span>
        <span class="n">t</span><span class="p">.</span><span class="n">plugOptions</span><span class="p">.</span><span class="n">AngularVelocityUnit</span> <span class="p">=</span> <span class="n">angularVelocityUnit</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">t</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">//同時に角速度の単位の設定ができるSetSpeedBasedメソッドのオーバーロード</span>
    <span class="k">public</span> <span class="k">static</span> <span class="n">Tweener</span> <span class="nf">SetSpeedBased</span><span class="p">(</span><span class="k">this</span> <span class="n">TweenerCore</span><span class="p">&lt;</span><span class="n">Angle</span><span class="p">,</span> <span class="n">Angle</span><span class="p">,</span> <span class="n">AngleOptions</span><span class="p">&gt;</span> <span class="n">t</span><span class="p">,</span> <span class="n">AngularVelocityUnit</span> <span class="n">unit</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">t</span> <span class="p">==</span> <span class="k">null</span> <span class="p">||</span> <span class="p">!</span><span class="n">t</span><span class="p">.</span><span class="n">active</span><span class="p">)</span> <span class="k">return</span> <span class="n">t</span><span class="p">;</span>
        <span class="n">t</span><span class="p">.</span><span class="nf">SetSpeedBased</span><span class="p">();</span>
        <span class="n">t</span><span class="p">.</span><span class="n">plugOptions</span><span class="p">.</span><span class="n">AngularVelocityUnit</span> <span class="p">=</span> <span class="n">unit</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">t</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<h1>
<span id="作成したanglepluginを使ってみる" class="fragment"></span><a href="#%E4%BD%9C%E6%88%90%E3%81%97%E3%81%9Fangleplugin%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%8B"><i class="fa fa-link"></i></a>作成した<code>AnglePlugin</code>を使ってみる</h1>

<p>ようやくここまで来ました。<br>
作成した<code>Angle</code>構造体用のDOTweenプラグイン<code>AnglePlugin</code>を使ってみましょう。<br>
プラグインの使い方としては、<code>DOTween.To</code>の第一引数に、プラグインのインスタンスを指定するだけです。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="n">DOTween</span><span class="p">.</span><span class="nf">To</span><span class="p">(</span><span class="n">AnglePlugin</span><span class="p">.</span><span class="n">Instance</span><span class="p">,</span>          <span class="c1">//AnglePluginを使う</span>
           <span class="p">()</span> <span class="p">=&gt;</span> <span class="n">Angle</span><span class="p">.</span><span class="n">Zero</span><span class="p">,</span>              <span class="c1">//初期値は0°</span>
           <span class="n">ang</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="cm">/*何らかの更新処理*/</span> <span class="p">},</span>  <span class="c1">//更新処理</span>
           <span class="n">Angle</span><span class="p">.</span><span class="n">Round</span><span class="p">,</span>                   <span class="c1">//目標値は360°</span>
           <span class="m">1f</span><span class="p">);</span>                           <span class="c1">//継続時間は1秒</span>
</code></pre></div></div>

<p>これに従って、オブジェクトを円周上で回転移動Tweenさせてみます。<br>
次のようなコードを用意しました。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">using</span> <span class="nn">DG.Tweening</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">DG.Tweening.Core</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityUtility</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">DOTweenAngle</span> <span class="p">:</span> <span class="n">MonoBehaviour</span>
<span class="p">{</span>
    <span class="c1">//90°から360°まで回転移動するTween</span>
    <span class="k">private</span> <span class="n">TweenerCore</span><span class="p">&lt;</span><span class="n">Angle</span><span class="p">,</span> <span class="n">Angle</span><span class="p">,</span> <span class="n">AngleOptions</span><span class="p">&gt;</span> <span class="nf">GetBaseTween</span><span class="p">(</span><span class="kt">float</span> <span class="n">duration</span><span class="p">)</span> <span class="p">=&gt;</span>
        <span class="n">DOTween</span><span class="p">.</span><span class="nf">To</span><span class="p">(</span><span class="n">AnglePlugin</span><span class="p">.</span><span class="n">Instance</span><span class="p">,</span>
                   <span class="p">()</span> <span class="p">=&gt;</span> <span class="n">Angle</span><span class="p">.</span><span class="nf">FromDegree</span><span class="p">(</span><span class="m">90</span><span class="p">),</span>
                   <span class="n">ang</span> <span class="p">=&gt;</span> <span class="nf">MoveOnCircumference</span><span class="p">(</span><span class="n">ang</span><span class="p">),</span>
                   <span class="n">Angle</span><span class="p">.</span><span class="n">Round</span><span class="p">,</span>
                   <span class="n">duration</span><span class="p">)</span>
               <span class="p">.</span><span class="nf">SetEase</span><span class="p">(</span><span class="n">Ease</span><span class="p">.</span><span class="n">Linear</span><span class="p">)</span>
               <span class="p">.</span><span class="nf">SetDelay</span><span class="p">(</span><span class="m">0.5f</span><span class="p">);</span>

    <span class="c1">//角度を指定すると半径1のXY円周上の座標に移動する</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">MoveOnCircumference</span><span class="p">(</span><span class="n">Angle</span> <span class="n">angle</span><span class="p">)</span> <span class="p">=&gt;</span>
        <span class="k">this</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="n">position</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Vector3</span><span class="p">(</span><span class="n">Mathf</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span><span class="n">angle</span><span class="p">.</span><span class="n">TotalRadian</span><span class="p">),</span>
                                              <span class="n">Mathf</span><span class="p">.</span><span class="nf">Cos</span><span class="p">(</span><span class="n">angle</span><span class="p">.</span><span class="n">TotalRadian</span><span class="p">),</span>
                                              <span class="m">0</span><span class="p">);</span>

    <span class="p">[</span><span class="nf">ContextMenu</span><span class="p">(</span><span class="k">nameof</span><span class="p">(</span><span class="n">Basic</span><span class="p">))]</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">Basic</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">//90°から360°まで</span>
        <span class="nf">GetBaseTween</span><span class="p">(</span><span class="m">1f</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="p">[</span><span class="nf">ContextMenu</span><span class="p">(</span><span class="k">nameof</span><span class="p">(</span><span class="n">Relative</span><span class="p">))]</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">Relative</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">//90°から450°まで一周</span>
        <span class="nf">GetBaseTween</span><span class="p">(</span><span class="m">1f</span><span class="p">).</span><span class="nf">SetRelative</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="p">[</span><span class="nf">ContextMenu</span><span class="p">(</span><span class="k">nameof</span><span class="p">(</span><span class="n">From</span><span class="p">))]</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">From</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">//360°から90°まで</span>
        <span class="nf">GetBaseTween</span><span class="p">(</span><span class="m">1f</span><span class="p">).</span><span class="nf">From</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="p">[</span><span class="nf">ContextMenu</span><span class="p">(</span><span class="k">nameof</span><span class="p">(</span><span class="n">From180</span><span class="p">))]</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">From180</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">//180°から360°まで</span>
        <span class="nf">GetBaseTween</span><span class="p">(</span><span class="m">1f</span><span class="p">).</span><span class="nf">From</span><span class="p">(</span><span class="n">Angle</span><span class="p">.</span><span class="nf">FromDegree</span><span class="p">(</span><span class="m">180</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="p">[</span><span class="nf">ContextMenu</span><span class="p">(</span><span class="k">nameof</span><span class="p">(</span><span class="n">SpeedBased</span><span class="p">))]</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">SpeedBased</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">//90°/sの速さで90°から360°まで</span>
        <span class="nf">GetBaseTween</span><span class="p">(</span><span class="m">90</span><span class="p">).</span><span class="nf">SetSpeedBased</span><span class="p">(</span><span class="n">AngularVelocityUnit</span><span class="p">.</span><span class="n">DegreePerSecond</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="p">[</span><span class="nf">ContextMenu</span><span class="p">(</span><span class="k">nameof</span><span class="p">(</span><span class="n">AlwaysForward</span><span class="p">))]</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">AlwaysForward</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">//0°から90°まで</span>
        <span class="nf">GetBaseTween</span><span class="p">(</span><span class="m">1f</span><span class="p">).</span><span class="nf">From</span><span class="p">().</span><span class="nf">SetOptions</span><span class="p">(</span><span class="n">AngleTweenDirection</span><span class="p">.</span><span class="n">Forward</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<h2>
<span id="結果" class="fragment"></span><a href="#%E7%B5%90%E6%9E%9C"><i class="fa fa-link"></i></a>結果</h2>

<p>90°から360°まで1秒でTween<br>
<a href="https://camo.qiitausercontent.com/bf13bc1723cc8d7a5a80ef5a2214b346cb5a60f5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3639373833302f64626263653435302d343164652d323765322d303030302d3230616335393030356364632e676966" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2Fdbbce450-41de-27e2-0000-20ac59005cdc.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=b16b19c28f6cffe3f051280dbbff3c23" alt="Basic.gif" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/697830/dbbce450-41de-27e2-0000-20ac59005cdc.gif" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2Fdbbce450-41de-27e2-0000-20ac59005cdc.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=a99322616f5de8da0cc5ec378f3650e1 1x" loading="lazy"></a></p>

<p><code>Relative()</code> →　90°から450°になる<br>
<a href="https://camo.qiitausercontent.com/8f2f3beeafb66287ddb83d3d1a6f281db8abcd7b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3639373833302f31613537613265332d653762662d393833652d383966362d3435623534653836323431352e676966" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F1a57a2e3-e7bf-983e-89f6-45b54e862415.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=e26a72e513e526599a2436a9eb4cab09" alt="Relative.gif" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/697830/1a57a2e3-e7bf-983e-89f6-45b54e862415.gif" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F1a57a2e3-e7bf-983e-89f6-45b54e862415.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=ebbc3797b36eb810ee62ea27cbcf571b 1x" loading="lazy"></a></p>

<p><code>From()</code> → 開始値と終了値が逆転、360°から90°になる<br>
<a href="https://camo.qiitausercontent.com/3857f56684153eea28d0049eed9b2e1c3613de69/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3639373833302f37646533663762342d623536662d316230372d313735352d3035646565643662626564322e676966" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F7de3f7b4-b56f-1b07-1755-05deed6bbed2.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=da0ebaa496c75ac79dfbe6d28de776a8" alt="From.gif" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/697830/7de3f7b4-b56f-1b07-1755-05deed6bbed2.gif" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F7de3f7b4-b56f-1b07-1755-05deed6bbed2.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=b353a694d6848b2b3468178d11c970f5 1x" loading="lazy"></a></p>

<p><code>From(Angle.FromDegree(180))</code> → 180°から360°<br>
<a href="https://camo.qiitausercontent.com/6768a7a438dbc845d14299cae931f96ac02efd5a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3639373833302f34653635323532392d313665392d383964642d363733622d3139353233393938633436612e676966" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F4e652529-16e9-89dd-673b-19523998c46a.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=29958a7b7daac915d1eb7ae03a6a2925" alt="From180.gif" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/697830/4e652529-16e9-89dd-673b-19523998c46a.gif" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F4e652529-16e9-89dd-673b-19523998c46a.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=d6dde01a88a0f9942f963c3fb708c327 1x" loading="lazy"></a></p>

<p>Durationに90をセット、角速度の単位を°/sにして、<code>SetSpeedBased()</code> → 90°から360°を90°/sの速さでTween<br>
<a href="https://camo.qiitausercontent.com/884ee3c2de1253792ef589dc2dee7f2690b3d74b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3639373833302f38383634643933332d383265362d613630632d633465652d3365396636316363626630312e676966" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F8864d933-82e6-a60c-c4ee-3e9f61ccbf01.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=61586f29372bd35a6d971143ae65bc82" alt="SpeedBased.gif" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/697830/8864d933-82e6-a60c-c4ee-3e9f61ccbf01.gif" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F8864d933-82e6-a60c-c4ee-3e9f61ccbf01.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=8b635a844cfe2aa3f619d6d214894447 1x" loading="lazy"></a></p>

<p><code>From()</code>（360°から90°にTween）に対して<code>SetOptions(AngleTweenDirection.Forward)</code> → 正転方向にTweenするので0°から90°<br>
<a href="https://camo.qiitausercontent.com/887aa45efd85001d17b7d06c234bf403423cd325/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3639373833302f34656566333363372d353930362d386131632d653232342d3434633162323934396239362e676966" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F4eef33c7-5906-8a1c-e224-44c1b2949b96.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=0a14cad38876d579e11bd74f7bcb7464" alt="AlwaysForward.gif" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/697830/4eef33c7-5906-8a1c-e224-44c1b2949b96.gif" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F4eef33c7-5906-8a1c-e224-44c1b2949b96.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=8e4019f965bdf07882df3bc7a7ef0e47 1x" loading="lazy"></a></p>

<h1>
<span id="最後に" class="fragment"></span><a href="#%E6%9C%80%E5%BE%8C%E3%81%AB"><i class="fa fa-link"></i></a>最後に</h1>

<p>この記事では、DOTweenのPlugin作成機能を使って任意のオブジェクトをTweenする方法を紹介しました。<br>
情報があまりなくて手探り状態で色々試しましたが、きちんとモノになってよかったです。<br>
ここで紹介した手法を参考にすれば、任意のオブジェクトをTweenさせるPluginも作成可能と思います。</p>

<p>この記事で使用したUnityプロジェクトとソースコードは下記GitHubでも公開しています。</p>

<p><qiita-embed-ogp src="https://github.com/yutorisan/DOTweenPlugin-For-AngleStruct"></qiita-embed-ogp></p>

<p>また、Angle構造体本体については下記GitHub及び記事を参照ください。</p>

<p><qiita-embed-ogp src="https://github.com/yutorisan/UnityUtility/blob/develop/UnityUnility/Structs/Angle.cs"></qiita-embed-ogp></p>

<p><qiita-embed-ogp src="https://qiita.com/yutorisan/items/63679fc1babb142e5b01"></qiita-embed-ogp></p>

<p>ご意見ご指摘等ありましたらコメントをよろしくお願い致します。</p>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2Fyutorisan%2Fitems%2F1eaff2322fbe28a9fbcb&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2Fyutorisan%2Fitems%2F1eaff2322fbe28a9fbcb&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/yutorisan/items/1eaff2322fbe28a9fbcb/likers" class="css-1iupg5d">2</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">5</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/1eaff2322fbe28a9fbcb/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/yutorisan/items/1eaff2322fbe28a9fbcb/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/yutorisan/items/1eaff2322fbe28a9fbcb/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/yutorisan/items/1eaff2322fbe28a9fbcb/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/yutorisan/items/1eaff2322fbe28a9fbcb.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-f80d1830-cd67-4ae8-8209-ff3a16518277">{"authorAnalyticsTrackingId":"UA-135447292-3","organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-2d14c2ab-5796-44b6-aca8-ceb72d70cfc5"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-2d14c2ab-5796-44b6-aca8-ceb72d70cfc5">{}</script>
      
<div id="LoginModal-react-component-fa5b08ac-d361-4217-8bc3-c4b334094b5a"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-fa5b08ac-d361-4217-8bc3-c4b334094b5a">{}</script>
      
<div id="StockModal-react-component-312e8aaa-171a-45f3-a5cc-130af3844016"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-312e8aaa-171a-45f3-a5cc-130af3844016">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;uUaeKW+ktgJYNlcibbYKtDCVS/N4XeO2/GVD6pxgkF5fFKxE0heBWmoyXjoq9bDCWBCyh0sH8/N7TuyRM0/5rg==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\n\u003ch1\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\n\u003cp\u003e先日、\u003cstrong\u003e角度を表す\u003ccode\u003eAngle\u003c/code\u003e構造体\u003c/strong\u003eを作成しました。\u003c/p\u003e\n\n\u003cp\u003e\u003cqiita-embed-ogp src=\"https://qiita.com/yutorisan/items/63679fc1babb142e5b01\"\u003e\u003c/qiita-embed-ogp\u003e\u003c/p\u003e\n\n\u003cp\u003eこの構造体をDOTweenに投入したいのですが、DOTweenに投入できる型は予め決まっており、もちろん自作したオブジェクトは投入することができません。\u003c/p\u003e\n\n\u003cp\u003e調べてみたところ、DOTweenには\u003cstrong\u003e任意のオブジェクトをTweenさせることができるPluginを作成する機能\u003c/strong\u003eが備わっているようです。\u003cbr\u003e\nしかし、DOTweenのPluginを作成する情報が少なく悪戦苦闘しましたので、ここに記録します。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"dotweenのpluginを作成する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#dotween%E3%81%AEplugin%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eDOTweenのPluginを作成する\u003c/h1\u003e\n\n\u003cp\u003eDOTween公式ホームページに、Plugin作成サンプルが掲載されています。\u003cbr\u003e\n以下からダウンロードできます。\u003c/p\u003e\n\n\u003cp\u003e\u003cqiita-embed-ogp src=\"http://dotween.demigiant.com/examples.php\"\u003e\u003c/qiita-embed-ogp\u003e\u003c/p\u003e\n\n\u003cp\u003eこのサンプルに従って、\u003ccode\u003eAngle\u003c/code\u003e構造体のPluginの作成を行ってみます。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"abstweenpluginを継承したプラグイン本体を作成する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#abstweenplugin%E3%82%92%E7%B6%99%E6%89%BF%E3%81%97%E3%81%9F%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E6%9C%AC%E4%BD%93%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003eABSTweenPlugin\u003c/code\u003eを継承したプラグイン本体を作成する\u003c/h2\u003e\n\n\u003cp\u003eプラグイン本体は\u003ccode\u003eABSTweenPlugin\u0026lt;T1, T2, TPlugOptions\u0026gt;\u003c/code\u003eクラスを継承する必要があります。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"型引数\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%9E%8B%E5%BC%95%E6%95%B0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e型引数\u003c/h3\u003e\n\n\u003cp\u003eこのクラスは型引数が3つもあるので、まずはこちらの説明をします。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\n\u003ccode\u003eT1\u003c/code\u003eは\u003ccode\u003egetter\u003c/code\u003e,\u003ccode\u003esetter\u003c/code\u003eで扱う値の型、すなわちTweenしたい型を指定します。\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003eT2\u003c/code\u003eは基本的に\u003ccode\u003eT1\u003c/code\u003eと同じにしますが、内部演算で異なる型を使用したい場合は異なる型を指定することができます。\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003eTPlugOptions\u003c/code\u003eは\u003ccode\u003eIPlugOptions\u003c/code\u003eインターフェイスを実装した構造体を指定します。これは、\u003ccode\u003eSetOptions()\u003c/code\u003e等で挙動を設定可能にしたい場合に、設定値を記憶しておくための構造体です。設定項目を作らなくても良い場合は、予め用意された\u003ccode\u003eNoOptions\u003c/code\u003eという型を指定すればOKです。\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003ccode\u003eAngle\u003c/code\u003e構造体は内部演算で異なる型を使用する必要がなかったので、\u003ccode\u003eT1\u003c/code\u003eと\u003ccode\u003eT2\u003c/code\u003eは両方とも\u003ccode\u003eAngle\u003c/code\u003eを指定しました。\u003cbr\u003e\n独自のオプションを作成する必要が出てきたので、\u003ccode\u003eTPlugOptions\u003c/code\u003eには\u003ccode\u003eAngleOptions\u003c/code\u003e構造体を作成してそれを指定しました。理由は後述します。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"実装するメソッド\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装するメソッド\u003c/h3\u003e\n\n\u003cp\u003e\u003ccode\u003eABSTweenPlugin\u0026lt;T1, T2, TPlugOptions\u0026gt;\u003c/code\u003eクラスには次の抽象メソッドが定義されており、これらを実装することでプラグインとして動作するようになります。\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align: center\"\u003eメソッド名\u003c/th\u003e\n\u003cth style=\"text-align: center\"\u003e実装すべき処理\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003ccode\u003eReset\u003c/code\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eTweenがResetされたときに実行する処理\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003ccode\u003eSetFrom\u003c/code\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e\n\u003ccode\u003eFrom()\u003c/code\u003eされたときに開始値と終了値を補正する処理\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003ccode\u003eConvertToStartValue\u003c/code\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e\n\u003ccode\u003eT1\u003c/code\u003eから\u003ccode\u003eT2\u003c/code\u003eに変換する処理\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003ccode\u003eSetChangeValue\u003c/code\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003eTweenの開始値と終了値の変化量を取得する処理\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003ccode\u003eSetRelativeEndValue\u003c/code\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e\n\u003ccode\u003eSetRelative()\u003c/code\u003eされたときに終了値を修正する処理\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003ccode\u003eGetSpeedBasedDuration\u003c/code\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e\n\u003ccode\u003eSetSpeedBased()\u003c/code\u003eされたのときにDurationを補正する処理\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003ccode\u003eEvaluateAndApply\u003c/code\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e毎フレーム呼ばれ、実際に値を更新する処理\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003e具体的にどのように実装するのかを、\u003ccode\u003eAngle\u003c/code\u003e構造体用プラグインの実装例で確認していきます。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"reset\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#reset\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003eReset\u003c/code\u003e\n\u003c/h4\u003e\n\n\u003cp\u003eTweenがResetされたときに実行する処理を記述します。\u003cbr\u003e\n基本的にプラグイン本体は状態を持たないため、処理は何も記述しません。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eReset\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eTweenerCore\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAngleOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e//何もしない\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e状態を持たせたい場合、後述する\u003ccode\u003ePlugOptions\u003c/code\u003eを使用します。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"setfrom\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#setfrom\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003eSetFrom\u003c/code\u003e\n\u003c/h4\u003e\n\n\u003cp\u003eこのメソッドは\u003ccode\u003eFrom()\u003c/code\u003eが指定されたときに呼ばれます。\u003cbr\u003e\n\u003ccode\u003eFrom()\u003c/code\u003eは「現在値から目標値」ではなく「目標値から現在値」にTweenさせる設定なので、開始値と終了値を反転させる処理を記述します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetFrom\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eTweenerCore\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAngleOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003eisRelative\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e//開始値と終了値を反転させる\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eAngle\u003c/span\u003e \u003cspan class=\"n\"\u003eprevEndAngle\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eendValue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eendValue\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003egetter\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003estartValue\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eisRelative\u003c/span\u003e \u003cspan class=\"p\"\u003e?\u003c/span\u003e \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eendValue\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eprevEndAngle\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eprevEndAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003esetter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003estartValue\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003eFrom\u003c/code\u003eは開始値を指定できるオーバーロードもあります。\u003cbr\u003e\nその場合は「引数で指定された値から目標値」にTweenさせる設定になるので、開始値を引数の値に設定する処理を記述します。\u003cbr\u003e\nオーバーロードによって挙動がまったく異なるので注意が必要です。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetFrom\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eTweenerCore\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAngleOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAngle\u003c/span\u003e \u003cspan class=\"n\"\u003efromValue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003esetImmediately\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003eisRelative\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e//引数で指定された値を開始値に設定する\u003c/span\u003e\n    \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003estartValue\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003efromValue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esetImmediately\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003esetter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efromValue\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"converttostartvalue\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#converttostartvalue\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003eConvertToStartValue\u003c/code\u003e\n\u003c/h4\u003e\n\n\u003cp\u003e\u003ccode\u003eT1\u003c/code\u003eと\u003ccode\u003eT2\u003c/code\u003eを異なる型にした場合に、\u003ccode\u003eT1\u003c/code\u003eから\u003ccode\u003eT2\u003c/code\u003eに変換する処理を記述します。\u003cbr\u003e\n\u003ccode\u003eT1\u003c/code\u003eと\u003ccode\u003eT2\u003c/code\u003eが同じの場合は、ただ単に\u003ccode\u003ereturn\u003c/code\u003eするだけでOKです。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"n\"\u003eAngle\u003c/span\u003e \u003cspan class=\"nf\"\u003eConvertToStartValue\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eTweenerCore\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAngleOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAngle\u003c/span\u003e \u003cspan class=\"k\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e//T1とT2は同じなのでただreturnするだけ\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"setchangevalue\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#setchangevalue\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003eSetChangeValue\u003c/code\u003e\n\u003c/h4\u003e\n\n\u003cp\u003e開始値と終了値の差分を計算する処理を記述します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetChangeValue\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eTweenerCore\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAngleOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e//TweenerCoreのchangeValueに開始値と終了値の差分を計算して代入する\u003c/span\u003e\n    \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003echangeValue\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eendValue\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003estartValue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"setrelativeendvalue\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#setrelativeendvalue\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003eSetRelativeEndValue\u003c/code\u003e\n\u003c/h4\u003e\n\n\u003cp\u003e\u003ccode\u003eSetRelative()\u003c/code\u003eが指定されているときに呼ばれます。\u003cbr\u003e\n目標値が相対値となるように、目標値を修正する処理を記述します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetRelativeEndValue\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eTweenerCore\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAngleOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eendValue\u003c/span\u003e \u003cspan class=\"p\"\u003e+=\u003c/span\u003e \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003estartValue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"getspeedbasedduration\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#getspeedbasedduration\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003eGetSpeedBasedDuration\u003c/code\u003e\n\u003c/h4\u003e\n\n\u003cp\u003e\u003ccode\u003eSetSpeedBased()\u003c/code\u003eが指定されているときに呼ばれます。\u003c/p\u003e\n\n\u003cp\u003e通常、Tweenの継続時間はdurationに[単位：s]で指定しますが、継続時間ではなく速度で指定したいときがあると思います。\u003cbr\u003e\nそういうときに、\u003ccode\u003eSetSpeedBased()\u003c/code\u003eを指定すると、\u003cstrong\u003edurationに指定された値が速度[単位：/s]として扱われるようになります\u003c/strong\u003e。\u003cbr\u003e\n正確には、ユーザーが[/s]として指定した速度値から、継続時間[s]に変換する処理が内部的に入ることになります。\u003c/p\u003e\n\n\u003cp\u003eつまり、このメソッドには、\u003cstrong\u003edurationに指定された速度値[/s]を、継続時間[s]に直す処理を書けば良い\u003c/strong\u003eことになります。\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003eAngle\u003c/code\u003e構造体の場合、速度とは角速度です。しかし、単位は[rad/s]と[°/s]の2パターンあり、durationに指定された\u003ccode\u003efloat\u003c/code\u003e値からは単位がどちらなのか判断できません。\u003cbr\u003e\nそこで、次のような列挙型を作って\u003ccode\u003eAngleOptions\u003c/code\u003e構造体に乗せ、\u003ccode\u003eUnspecified\u003c/code\u003eの場合は例外を投げるようにしました。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e/// 角速度の単位\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eenum\u003c/span\u003e \u003cspan class=\"n\"\u003eAngularVelocityUnit\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// 未指定\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eUnspecified\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// °/s\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eDegreePerSecond\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// rad/s\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eRadianPerSecond\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e最終的な実装は次のようになりました。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"nf\"\u003eGetSpeedBasedDuration\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eAngleOptions\u003c/span\u003e \u003cspan class=\"n\"\u003eoptions\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eunitsXSecond\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAngle\u003c/span\u003e \u003cspan class=\"n\"\u003echangeValue\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eswitch\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eoptions\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAngularVelocityUnit\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ecase\u003c/span\u003e \u003cspan class=\"n\"\u003eAngularVelocityUnit\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDegreePerSecond\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003echangeValue\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTotalDegree\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eunitsXSecond\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ecase\u003c/span\u003e \u003cspan class=\"n\"\u003eAngularVelocityUnit\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eRadianPerSecond\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003echangeValue\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTotalRadian\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eunitsXSecond\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ecase\u003c/span\u003e \u003cspan class=\"n\"\u003eAngularVelocityUnit\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUnspecified\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ethrow\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eInvalidOperationException\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"角速度の単位が指定されていません。\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"k\"\u003edefault\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ethrow\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eInvalidEnumArgumentException\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003eAngle\u003c/code\u003e構造体の場合は単位の性質上このように複雑な処理になってしまいましたが、通常は単に[/s]から[s]に単位変換する処理を書けば良いと思います。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"evaluateandapply\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#evaluateandapply\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003eEvaluateAndApply\u003c/code\u003e\n\u003c/h4\u003e\n\n\u003cp\u003e最後に\u003ccode\u003eEvaluateAndApply\u003c/code\u003eです。これは毎フレーム呼ばれ、実際にTweenで値を更新するロジックを記述します。\u003cbr\u003e\n公式の実装例を参考にして、次のように実装しました。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eEvaluateAndApply\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eAngleOptions\u003c/span\u003e \u003cspan class=\"n\"\u003eoptions\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                                        \u003cspan class=\"n\"\u003eTween\u003c/span\u003e \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                                        \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003eisRelative\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                                        \u003cspan class=\"n\"\u003eDOGetter\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003egetter\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                                        \u003cspan class=\"n\"\u003eDOSetter\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003esetter\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                                        \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eelapsed\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                                        \u003cspan class=\"n\"\u003eAngle\u003c/span\u003e \u003cspan class=\"n\"\u003estartValue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                                        \u003cspan class=\"n\"\u003eAngle\u003c/span\u003e \u003cspan class=\"n\"\u003echangeValue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                                        \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eduration\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                                        \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003eusingInversePosition\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                                        \u003cspan class=\"n\"\u003eUpdateNotice\u003c/span\u003e \u003cspan class=\"n\"\u003eupdateNotice\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e//イージング係数を取得\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eease\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEaseManager\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eEvaluate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eelapsed\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eduration\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eeaseOvershootOrAmplitude\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eeasePeriod\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e//setterに更新された値を渡す\u003c/span\u003e\n    \u003cspan class=\"nf\"\u003esetter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estartValue\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003echangeValue\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eease\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e以上でメソッドの実装は完了となります。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"シングルトンパターン\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B7%E3%83%B3%E3%82%B0%E3%83%AB%E3%83%88%E3%83%B3%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eシングルトンパターン\u003c/h3\u003e\n\n\u003cp\u003e作成したプラグインを使うにはプラグインのインスタンスが必要なのですが、プラグインは状態を持たないのでインスタンスを共有しても問題がないです。\u003cbr\u003e\nしたがって、以下のようにシングルトンパターンを適用しておきます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eAnglePlugin\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eABSTweenPlugin\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAngleOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"n\"\u003eAnglePlugin\u003c/span\u003e \u003cspan class=\"n\"\u003e_instance\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"n\"\u003eAnglePlugin\u003c/span\u003e \u003cspan class=\"n\"\u003eInstance\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003e_instance\u003c/span\u003e \u003cspan class=\"p\"\u003e??\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003e_instance\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eAnglePlugin\u003c/span\u003e\u003cspan class=\"p\"\u003e());\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"nf\"\u003eAnglePlugin\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e//..中略..\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこれで\u003ccode\u003eAnglePlugin\u003c/code\u003eは唯一インスタンスしか作られなくなるので、メモリに優しいです。\u003c/p\u003e\n\n\u003cp\u003e以上でプラグイン本体の実装は完了となります。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"iplugoptionsを実装したプラグインのオプションを作成する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#iplugoptions%E3%82%92%E5%AE%9F%E8%A3%85%E3%81%97%E3%81%9F%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E3%81%AE%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003eIPlugOptions\u003c/code\u003eを実装したプラグインのオプションを作成する\u003c/h2\u003e\n\n\u003cp\u003e続いて、自作のPluginに独自の設定を与えられるPlugOptionsを作成します。\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003eAnglePlugin\u003c/code\u003eには次のオプションを設定可能にしました。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\n\u003ccode\u003eSetSpeedBased()\u003c/code\u003eされたときに角速度の単位が[rad/s]なのか[°/s]なのかを指定するオプション\u003c/li\u003e\n\u003cli\u003e常に正転Tweenするオプション\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e1個めのオプションについては\u003ca href=\"#GetSpeedBasedDuration\"\u003eGetSpeedBasedDuration\u003c/a\u003e節で説明したとおりです。\u003cbr\u003e\n2個めのオプションは、例えば270°から0°にTweenするとき、270°→0°と逆回転するのではなく、270°→360°のように正転に変換してTweenさせるような設定を可能にするものです。\u003c/p\u003e\n\n\u003cp\u003eそれでは、実際に\u003ccode\u003eAnglePlugin\u003c/code\u003e用のオプション構造体\u003ccode\u003eAnglePlugOptions\u003c/code\u003eを作っていきます。\u003c/p\u003e\n\n\u003cp\u003ePlugOptionsとして扱うには、\u003ccode\u003eIPlugOptions\u003c/code\u003eインターフェイスを実装した構造体としてオブジェクトを定義する必要があります。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003estruct\u003c/span\u003e \u003cspan class=\"nc\"\u003eAngleOptions\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eIPlugOptions\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこの中に保存したいオプションの値を追加していけば良いです。\u003c/p\u003e\n\n\u003cp\u003eまた、\u003ccode\u003eIPlugOptions\u003c/code\u003eインターフェイスの定義は次のようになっています。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003einterface\u003c/span\u003e \u003cspan class=\"nc\"\u003eIPlugOptions\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eReset\u003c/span\u003e \u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eTweenがResetされるときにこちらも呼ばれるようです。\u003cbr\u003e\n設定を初期状態に戻すコードを実装すれば良さそうですね。\u003c/p\u003e\n\n\u003cp\u003e上記をすべて実装すると次のようになります。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e/// プラグインのオプション本体\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003estruct\u003c/span\u003e \u003cspan class=\"nc\"\u003eAngleOptions\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eIPlugOptions\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eReset\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eDirection\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAngleTweenDirection\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eBoth\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eAngularVelocityUnit\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAngularVelocityUnit\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUnspecified\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eAngleTweenDirection\u003c/span\u003e \u003cspan class=\"n\"\u003eDirection\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eAngularVelocityUnit\u003c/span\u003e \u003cspan class=\"n\"\u003eAngularVelocityUnit\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e/// Tweenする回転方向\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eenum\u003c/span\u003e \u003cspan class=\"n\"\u003eAngleTweenDirection\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// 両方\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eBoth\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// 正転のみ\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eForward\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e/// 角速度の単位\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eenum\u003c/span\u003e \u003cspan class=\"n\"\u003eAngularVelocityUnit\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// 未指定\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eUnspecified\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// °/s\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eDegreePerSecond\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// rad/s\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eRadianPerSecond\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eここで追加した\u003ccode\u003eAngleTweenDirection\u003c/code\u003eのオプションを使えるようにするために、プラグイン本体の\u003ccode\u003eSetChangeValue\u003c/code\u003eメソッドを次のように修正しました。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetChangeValue\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eTweenerCore\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAngleOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003ediffAngle\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eendValue\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003estartValue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e//正転オプションが有効になっていたら、AngleをPositiveNormalizeして正転方向に正規化する\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eplugOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDirection\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"n\"\u003eAngleTweenDirection\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eForward\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003echangeValue\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ediffAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePositiveNormalize\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e//オプションがなければそのまま\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eelse\u003c/span\u003e \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003echangeValue\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ediffAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこれでオプションが使えるようになります。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"独自のsetoptions拡張メソッドを定義する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%8B%AC%E8%87%AA%E3%81%AEsetoptions%E6%8B%A1%E5%BC%B5%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e独自の\u003ccode\u003eSetOptions\u003c/code\u003e拡張メソッドを定義する\u003c/h2\u003e\n\n\u003cp\u003eオプションは使えるようになりましたが、オプションを設定する方法がありません。\u003cbr\u003e\nそこで、独自の\u003ccode\u003eSetOptions\u003c/code\u003e拡張メソッドを定義します。\u003cbr\u003e\nついでに、\u003ccode\u003eSetSpeedBased\u003c/code\u003e時に同時に角速度の単位を指定できるようなオーバーロードも作っておきます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eAngleTweenExtensions\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e//AnglePlugin用のオプション設定を行うメソッド\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"n\"\u003eTweener\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e \u003cspan class=\"n\"\u003eTweenerCore\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAngleOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAngleTweenDirection\u003c/span\u003e \u003cspan class=\"n\"\u003edirection\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAngularVelocityUnit\u003c/span\u003e \u003cspan class=\"n\"\u003eangularVelocityUnit\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAngularVelocityUnit\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUnspecified\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003et\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"p\"\u003e!\u003c/span\u003e\u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eactive\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eplugOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDirection\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003edirection\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eplugOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAngularVelocityUnit\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eangularVelocityUnit\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e//同時に角速度の単位の設定ができるSetSpeedBasedメソッドのオーバーロード\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"n\"\u003eTweener\u003c/span\u003e \u003cspan class=\"nf\"\u003eSetSpeedBased\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e \u003cspan class=\"n\"\u003eTweenerCore\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAngleOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAngularVelocityUnit\u003c/span\u003e \u003cspan class=\"n\"\u003eunit\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003et\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"p\"\u003e!\u003c/span\u003e\u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eactive\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetSpeedBased\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n        \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eplugOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAngularVelocityUnit\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eunit\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"作成したanglepluginを使ってみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BD%9C%E6%88%90%E3%81%97%E3%81%9Fangleplugin%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e作成した\u003ccode\u003eAnglePlugin\u003c/code\u003eを使ってみる\u003c/h1\u003e\n\n\u003cp\u003eようやくここまで来ました。\u003cbr\u003e\n作成した\u003ccode\u003eAngle\u003c/code\u003e構造体用のDOTweenプラグイン\u003ccode\u003eAnglePlugin\u003c/code\u003eを使ってみましょう。\u003cbr\u003e\nプラグインの使い方としては、\u003ccode\u003eDOTween.To\u003c/code\u003eの第一引数に、プラグインのインスタンスを指定するだけです。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"n\"\u003eDOTween\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eTo\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eAnglePlugin\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eInstance\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e          \u003cspan class=\"c1\"\u003e//AnglePluginを使う\u003c/span\u003e\n           \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eZero\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e              \u003cspan class=\"c1\"\u003e//初期値は0°\u003c/span\u003e\n           \u003cspan class=\"n\"\u003eang\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"cm\"\u003e/*何らかの更新処理*/\u003c/span\u003e \u003cspan class=\"p\"\u003e},\u003c/span\u003e  \u003cspan class=\"c1\"\u003e//更新処理\u003c/span\u003e\n           \u003cspan class=\"n\"\u003eAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eRound\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e                   \u003cspan class=\"c1\"\u003e//目標値は360°\u003c/span\u003e\n           \u003cspan class=\"m\"\u003e1f\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e                           \u003cspan class=\"c1\"\u003e//継続時間は1秒\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこれに従って、オブジェクトを円周上で回転移動Tweenさせてみます。\u003cbr\u003e\n次のようなコードを用意しました。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eDG.Tweening\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eDG.Tweening.Core\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eUnityEngine\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eUnityUtility\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eDOTweenAngle\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eMonoBehaviour\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e//90°から360°まで回転移動するTween\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eTweenerCore\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAngleOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nf\"\u003eGetBaseTween\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eduration\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eDOTween\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eTo\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eAnglePlugin\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eInstance\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                   \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFromDegree\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e90\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n                   \u003cspan class=\"n\"\u003eang\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nf\"\u003eMoveOnCircumference\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eang\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n                   \u003cspan class=\"n\"\u003eAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eRound\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                   \u003cspan class=\"n\"\u003eduration\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n               \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetEase\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eEase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLinear\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n               \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetDelay\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e0.5f\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e//角度を指定すると半径1のXY円周上の座標に移動する\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eMoveOnCircumference\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eAngle\u003c/span\u003e \u003cspan class=\"n\"\u003eangle\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etransform\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eposition\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eVector3\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eMathf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eangle\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTotalRadian\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n                                              \u003cspan class=\"n\"\u003eMathf\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eangle\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTotalRadian\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n                                              \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003eContextMenu\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enameof\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eBasic\u003c/span\u003e\u003cspan class=\"p\"\u003e))]\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eBasic\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e//90°から360°まで\u003c/span\u003e\n        \u003cspan class=\"nf\"\u003eGetBaseTween\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1f\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003eContextMenu\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enameof\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eRelative\u003c/span\u003e\u003cspan class=\"p\"\u003e))]\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eRelative\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e//90°から450°まで一周\u003c/span\u003e\n        \u003cspan class=\"nf\"\u003eGetBaseTween\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1f\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetRelative\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003eContextMenu\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enameof\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eFrom\u003c/span\u003e\u003cspan class=\"p\"\u003e))]\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eFrom\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e//360°から90°まで\u003c/span\u003e\n        \u003cspan class=\"nf\"\u003eGetBaseTween\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1f\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eFrom\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003eContextMenu\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enameof\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eFrom180\u003c/span\u003e\u003cspan class=\"p\"\u003e))]\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eFrom180\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e//180°から360°まで\u003c/span\u003e\n        \u003cspan class=\"nf\"\u003eGetBaseTween\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1f\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eFrom\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eAngle\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFromDegree\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e180\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003eContextMenu\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enameof\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eSpeedBased\u003c/span\u003e\u003cspan class=\"p\"\u003e))]\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eSpeedBased\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e//90°/sの速さで90°から360°まで\u003c/span\u003e\n        \u003cspan class=\"nf\"\u003eGetBaseTween\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e90\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetSpeedBased\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eAngularVelocityUnit\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDegreePerSecond\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003eContextMenu\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enameof\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eAlwaysForward\u003c/span\u003e\u003cspan class=\"p\"\u003e))]\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eAlwaysForward\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e//0°から90°まで\u003c/span\u003e\n        \u003cspan class=\"nf\"\u003eGetBaseTween\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1f\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eFrom\u003c/span\u003e\u003cspan class=\"p\"\u003e().\u003c/span\u003e\u003cspan class=\"nf\"\u003eSetOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eAngleTweenDirection\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eForward\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"結果\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B5%90%E6%9E%9C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e結果\u003c/h2\u003e\n\n\u003cp\u003e90°から360°まで1秒でTween\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/bf13bc1723cc8d7a5a80ef5a2214b346cb5a60f5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3639373833302f64626263653435302d343164652d323765322d303030302d3230616335393030356364632e676966\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2Fdbbce450-41de-27e2-0000-20ac59005cdc.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b16b19c28f6cffe3f051280dbbff3c23\" alt=\"Basic.gif\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/697830/dbbce450-41de-27e2-0000-20ac59005cdc.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2Fdbbce450-41de-27e2-0000-20ac59005cdc.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=a99322616f5de8da0cc5ec378f3650e1 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003eRelative()\u003c/code\u003e →　90°から450°になる\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/8f2f3beeafb66287ddb83d3d1a6f281db8abcd7b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3639373833302f31613537613265332d653762662d393833652d383966362d3435623534653836323431352e676966\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F1a57a2e3-e7bf-983e-89f6-45b54e862415.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e26a72e513e526599a2436a9eb4cab09\" alt=\"Relative.gif\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/697830/1a57a2e3-e7bf-983e-89f6-45b54e862415.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F1a57a2e3-e7bf-983e-89f6-45b54e862415.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ebbc3797b36eb810ee62ea27cbcf571b 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003eFrom()\u003c/code\u003e → 開始値と終了値が逆転、360°から90°になる\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/3857f56684153eea28d0049eed9b2e1c3613de69/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3639373833302f37646533663762342d623536662d316230372d313735352d3035646565643662626564322e676966\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F7de3f7b4-b56f-1b07-1755-05deed6bbed2.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=da0ebaa496c75ac79dfbe6d28de776a8\" alt=\"From.gif\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/697830/7de3f7b4-b56f-1b07-1755-05deed6bbed2.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F7de3f7b4-b56f-1b07-1755-05deed6bbed2.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=b353a694d6848b2b3468178d11c970f5 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003eFrom(Angle.FromDegree(180))\u003c/code\u003e → 180°から360°\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/6768a7a438dbc845d14299cae931f96ac02efd5a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3639373833302f34653635323532392d313665392d383964642d363733622d3139353233393938633436612e676966\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F4e652529-16e9-89dd-673b-19523998c46a.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=29958a7b7daac915d1eb7ae03a6a2925\" alt=\"From180.gif\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/697830/4e652529-16e9-89dd-673b-19523998c46a.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F4e652529-16e9-89dd-673b-19523998c46a.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=d6dde01a88a0f9942f963c3fb708c327 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eDurationに90をセット、角速度の単位を°/sにして、\u003ccode\u003eSetSpeedBased()\u003c/code\u003e → 90°から360°を90°/sの速さでTween\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/884ee3c2de1253792ef589dc2dee7f2690b3d74b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3639373833302f38383634643933332d383265362d613630632d633465652d3365396636316363626630312e676966\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F8864d933-82e6-a60c-c4ee-3e9f61ccbf01.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=61586f29372bd35a6d971143ae65bc82\" alt=\"SpeedBased.gif\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/697830/8864d933-82e6-a60c-c4ee-3e9f61ccbf01.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F8864d933-82e6-a60c-c4ee-3e9f61ccbf01.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=8b635a844cfe2aa3f619d6d214894447 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003eFrom()\u003c/code\u003e（360°から90°にTween）に対して\u003ccode\u003eSetOptions(AngleTweenDirection.Forward)\u003c/code\u003e → 正転方向にTweenするので0°から90°\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/887aa45efd85001d17b7d06c234bf403423cd325/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3639373833302f34656566333363372d353930362d386131632d653232342d3434633162323934396239362e676966\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F4eef33c7-5906-8a1c-e224-44c1b2949b96.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=0a14cad38876d579e11bd74f7bcb7464\" alt=\"AlwaysForward.gif\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/697830/4eef33c7-5906-8a1c-e224-44c1b2949b96.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F697830%2F4eef33c7-5906-8a1c-e224-44c1b2949b96.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=8e4019f965bdf07882df3bc7a7ef0e47 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"最後に\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e最後に\u003c/h1\u003e\n\n\u003cp\u003eこの記事では、DOTweenのPlugin作成機能を使って任意のオブジェクトをTweenする方法を紹介しました。\u003cbr\u003e\n情報があまりなくて手探り状態で色々試しましたが、きちんとモノになってよかったです。\u003cbr\u003e\nここで紹介した手法を参考にすれば、任意のオブジェクトをTweenさせるPluginも作成可能と思います。\u003c/p\u003e\n\n\u003cp\u003eこの記事で使用したUnityプロジェクトとソースコードは下記GitHubでも公開しています。\u003c/p\u003e\n\n\u003cp\u003e\u003cqiita-embed-ogp src=\"https://github.com/yutorisan/DOTweenPlugin-For-AngleStruct\"\u003e\u003c/qiita-embed-ogp\u003e\u003c/p\u003e\n\n\u003cp\u003eまた、Angle構造体本体については下記GitHub及び記事を参照ください。\u003c/p\u003e\n\n\u003cp\u003e\u003cqiita-embed-ogp src=\"https://github.com/yutorisan/UnityUtility/blob/develop/UnityUnility/Structs/Angle.cs\"\u003e\u003c/qiita-embed-ogp\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003cqiita-embed-ogp src=\"https://qiita.com/yutorisan/items/63679fc1babb142e5b01\"\u003e\u003c/qiita-embed-ogp\u003e\u003c/p\u003e\n\n\u003cp\u003eご意見ご指摘等ありましたらコメントをよろしくお願い致します。\u003c/p\u003e\n","createdAt":"2021-02-07T08:13:44Z","elapsedYearsFromLastModifiedAt":0,"encryptedId":"ukQdVvxMeC4sDzzqgApxKtSQYC8VxZEnyQ==--TlxciZHRbcLdY/w9--411ARTSEtwWrOGy7ellSUA==","isBanned":false,"isDeprecated":false,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2021-03-25T09:21:07Z","likesCount":2,"linkUrl":"https://qiita.com/yutorisan/items/1eaff2322fbe28a9fbcb","organization":null,"originalId":1388979,"stockedCount":5,"title":"【Unity】DOTweenのPluginを作成して任意の自作オブジェクトをTweenできるようにする","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003eはじめに\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#dotween%E3%81%AEplugin%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B\"\u003eDOTweenのPluginを作成する\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#abstweenplugin%E3%82%92%E7%B6%99%E6%89%BF%E3%81%97%E3%81%9F%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E6%9C%AC%E4%BD%93%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B\"\u003eABSTweenPluginを継承したプラグイン本体を作成する\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%9E%8B%E5%BC%95%E6%95%B0\"\u003e型引数\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89\"\u003e実装するメソッド\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#reset\"\u003eReset\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#setfrom\"\u003eSetFrom\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#converttostartvalue\"\u003eConvertToStartValue\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#setchangevalue\"\u003eSetChangeValue\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#setrelativeendvalue\"\u003eSetRelativeEndValue\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#getspeedbasedduration\"\u003eGetSpeedBasedDuration\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#evaluateandapply\"\u003eEvaluateAndApply\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%B7%E3%83%B3%E3%82%B0%E3%83%AB%E3%83%88%E3%83%B3%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3\"\u003eシングルトンパターン\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#iplugoptions%E3%82%92%E5%AE%9F%E8%A3%85%E3%81%97%E3%81%9F%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E3%81%AE%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B\"\u003eIPlugOptionsを実装したプラグインのオプションを作成する\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%8B%AC%E8%87%AA%E3%81%AEsetoptions%E6%8B%A1%E5%BC%B5%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%99%E3%82%8B\"\u003e独自のSetOptions拡張メソッドを定義する\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E4%BD%9C%E6%88%90%E3%81%97%E3%81%9Fangleplugin%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e作成したAnglePluginを使ってみる\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%B5%90%E6%9E%9C\"\u003e結果\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\"\u003e最後に\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","totalPv":1742,"uuid":"1eaff2322fbe28a9fbcb","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"tc7Fi6VXhs6SINyn5pfeCk9uQqBA--GN8W72DCfvMLRzmV--hPxvTgCdcwAqh6lpbBeKvA==","originalId":697830,"description":"C#が好きです","facebookUrl":null,"githubUrl":"https://github.com/yutorisan","isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"","profileImageUrl":"https://pbs.twimg.com/profile_images/1274400166120812544/DAWcpHec_bigger.jpg","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fpbs.twimg.com%2Fprofile_images%2F1274400166120812544%2FDAWcpHec_bigger.jpg?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=b517115d0e848c54aa4fe1fc93bfa0ff","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fpbs.twimg.com%2Fprofile_images%2F1274400166120812544%2FDAWcpHec_bigger.jpg?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=754be610f489085be0fdfc48de5585a9","urlName":"yutorisan","websiteUrl":"","twitterUrl":"https://twitter.com/yutorisan19","twitterUrlName":"yutorisan19","revealedOrganizations":{"edges":[{"node":{"encryptedId":"ifELTZDtGiLz6S3cpKP3cKAQmbE1+oQPmwE=--lCin/KIr3vx/surY--MDYgJ+yKdtWj4UOYPKj43Q==","isBetaReleaseEnabled":false,"isFollowableByViewer":false,"isFollowedByViewer":false,"name":"Unityゲーム開発者ギルド","logoUrl":"https://s3-ap-northeast-1.amazonaws.com/qiita-organization-image/f7eb993765ddcdb2c5e6890556c43ea3de8fbfb7/original.jpg?1570215690","urlName":"unity-game-dev-guild","description":"趣味・仕事問わずUnityでゲームを作っている開発者のみで構成されるオンラインコミュニティです。Unityでゲームを開発・運用するにあたって必要なあらゆる知見を共有することを目的とします。","url":"https://unity-game-dev-guild.github.io/"}}]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"Unity","urlName":"unity"},{"name":"dotween","urlName":"dotween"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
