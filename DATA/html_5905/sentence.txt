More than 3 years have passed since last update.DiscordにRich Presenceという、プレイ中のゲームの詳細情報を表示するという機能が追加されたらしく、Unityもサポートしているとのことなので使ってみました。ゲームをプレイ中のとき、普通はプレイ中のタイトルが表示されるだけですよね。Rich Presenceを使うと、任意の文字列やサムネイルをここに追加することができるので、他のユーザーにリアルタイムに情報が伝わるようになります。他にも、ゲームへの参加や観戦ができるボタンを設置する機能などもあります。……が、ゲームをDiscordの運営に承認してもらう必要があるらしく、今回は別にそこまでは必要ではなかったので試してません。ボタンを押したことがゲーム側に通知されるような感じだと思います。詳細：https://discordapp.com/developers/docs/rich-presence/how-toRich Presenceを動かすにはDiscord App（botとか作るときに使うやつと同じ）のClient IDが必要なので、適当なものを持っていなければこちらから作成します。この「APP NAME」ですが、ここに設定したものが表示されるゲームの名前になるので、そのようにしてください。アイコンや説明などは今回は必要ありません。「Create App」をクリックして作成したら、これで、このAppをRich Presenceの設定をするために使用できるようになりました。あとはゲーム側にいくつか導入していきます。ここまでで導入は完了で、あとはDiscordController.csのOnClick()を呼び出せば、サンプルが動作するようになってます。というわけで、やっつけ感満載のこれをDiscordController.csをアタッチしたのと同じオブジェクトにくっつけて実行。Unityで左クリックした回数がDiscordのほうで出れば成功です。実際には短時間に何度も変更することはできないらしく、15秒に1回程度表示を更新するようですが、実用上は（遊んでいるステージとかを表示する用なので）たぶん問題ないかと思います。あと、ゲーム名もAppで設定した名前になってるのを確認してください。Discordでは今まで、認識できないゲームをプレイ中として表示するにはユーザーがいちいち設定しなければならなかったのですが、Rich Presenceはそれも解消したことになります。やったぜ。DiscordController.csのOnClick()を今一度見てください。presence（DiscordRpc.RichPresence型です）を渡してますが、これが実際にRich Presenceで表示されるデータです。今回はdetailsに入れた文字列が表示されていたのが分かると思いますが、他のパラメータを変更することにより、他にもいろいろなデータを表示させることができます。このようにすると、こうなります（頭が回らなかったのでよくわからん例でごめんなさい）。画像はどこから来たのかというと、先ほどのAppを作成したページの下のほうに、「RICH PRESENCE ASSETS」という項目があり、ここで画像と名前を設定しておくと使えます。TYPEはSmallとLargeがあり、Smallのほうを選んでもpresence.smallImageKeyに指定すれば使えるはず。その他にも設定できるものは色々あるようで、こちらの表で確認できます。あとは、ゲーム内の任意のタイミングで情報を書き換えていけばいいです。私は今自作しているゲームではDiscordサーバーを活用してコミュニティを盛り上げようと考えているので、このように他のユーザーの現在のプレイ状況が分かるようにできるというのは嬉しい機能でした。


