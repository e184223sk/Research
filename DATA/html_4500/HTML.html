<!DOCTYPE html><html><head><meta charset="utf-8" /><title>オブジェクト指向をより理解するために実際に書いて解説する - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/yoship1639/items/5878bf9d64816e93610b" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="2c7P+gvmASwy263GfM/4xMYqA461uRM07W45xx5BJJ5Px8SE7x/WJu4tBapZqn+NhtGZONV6OtzxeZ9pD6hPqw==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta content="@yoship1639" name="twitter:creator" /><meta property="og:type" content="article"><meta property="og:title" content="オブジェクト指向をより理解するために実際に書いて解説する - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND00NEtxNDRPVzQ0SzQ0NEtuNDRLdjQ0T0k1b3lINVpDUjQ0S1M0NEtJNDRLSzU1Q0c2S2VqNDRHWjQ0S0w0NEdmNDRLQjQ0R3I1YTZmNlpxYjQ0R3I1cHU0NDRHRTQ0R202S2VqNktxczQ0R1o0NEtMJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NTQmdHh0LWNsaXA9ZWxsaXBzaXMmdHh0LWFsaWduPWNlbnRlciUyQ21pZGRsZSZzPWFjOGViZjU5ODg1ZDYyZDVmYjlhNGJhNjBlMmM1MWUy&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RSGx2YzJocGNERTJNemsmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT00NSZ0eHQtYWxpZ249cmlnaHQlMkNib3R0b20mcz1mZjIzNDk4ZWU2OGQ2ZWJjMDdhYThjOTBjYTYwODY0MQ&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=a199008e66cfdbf276c6e3407f73d190"><meta property="og:description" content="

はじめに

こんにちは、yoship1639です。
普段はゲームエンジンを用いない個人ゲーム開発を行っております。

本記事は、オブジェクト指向がいまいち理解できない人、なんとなく理解はしたけどプログラムに落とし込めない人を対象に..."><meta content="https://qiita.com/yoship1639/items/5878bf9d64816e93610b" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,オブジェクト指向,基礎,プログラミング教育" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 1nzh4zz 38fzdi helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-1nzh4zz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 32px;background-color:#FBE69E;color:rgba(0,0,0,0.87);line-height:1.5;font-weight:600;}@media (max-width:770px){.css-1nzh4zz{padding:16px;}}.css-38fzdi{color:#CA832A;margin-right:4px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-23501406-0fac-476f-8976-b91ad60772c1"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2Fyoship1639%2Fitems%2F5878bf9d64816e93610b">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2Fyoship1639%2Fitems%2F5878bf9d64816e93610b">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-23501406-0fac-476f-8976-b91ad60772c1">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2018-10-22T09:17:33.000+09:00","dateModified":"2018-10-22T09:17:33.000+09:00","headline":"オブジェクト指向をより理解するために実際に書いて解説する","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND00NEtxNDRPVzQ0SzQ0NEtuNDRLdjQ0T0k1b3lINVpDUjQ0S1M0NEtJNDRLSzU1Q0c2S2VqNDRHWjQ0S0w0NEdmNDRLQjQ0R3I1YTZmNlpxYjQ0R3I1cHU0NDRHRTQ0R202S2VqNktxczQ0R1o0NEtMJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NTQmdHh0LWNsaXA9ZWxsaXBzaXMmdHh0LWFsaWduPWNlbnRlciUyQ21pZGRsZSZzPWFjOGViZjU5ODg1ZDYyZDVmYjlhNGJhNjBlMmM1MWUy\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RSGx2YzJocGNERTJNemsmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT00NSZ0eHQtYWxpZ249cmlnaHQlMkNib3R0b20mcz1mZjIzNDk4ZWU2OGQ2ZWJjMDdhYThjOTBjYTYwODY0MQ\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=a199008e66cfdbf276c6e3407f73d190","mainEntityOfPage":"https://qiita.com/yoship1639/items/5878bf9d64816e93610b","author":{"@type":"Person","address":"","email":"yoship1639@gmail.com","identifier":"yoship1639","name":"yoship1639","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F113595%2Fprofile-images%2F1594732889?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=716c2b13f79841ad7658dcce03a19ac2","url":"https://qiita.com/yoship1639","description":"ゲームエンジニア。C#er。バックエンドも触る。ゲーム、ゲームエンジン、仮想通貨等を自作していました。フロントエンドから物理ベースシェーダまで幅広く対応可能。理解しやすく正しい記事を記述することを心がけます。","memberOf":[{"@type":"Organization","address":"オンライン@Slack","legalName":"Unityゲーム開発者ギルド","image":"https://s3-ap-northeast-1.amazonaws.com/qiita-organization-image/5e3ba3bb442371003e6b5d4618ef627b9b478357/original.jpg?1570216541","logo":"https://s3-ap-northeast-1.amazonaws.com/qiita-organization-image/f7eb993765ddcdb2c5e6890556c43ea3de8fbfb7/original.jpg?1570215690","identifier":"unity-game-dev-guild","description":"趣味・仕事問わずUnityでゲームを作っている開発者のみで構成されるオンラインコミュニティです。Unityでゲームを開発・運用するにあたって必要なあらゆる知見を共有することを目的とします。"}]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://zine.qiita.com/interview/202107-hitachi/?utm_source=qiita&amp;utm_medium=header-banner">グループ会社出納業務の証票処理を70％自動化。日立のAI-OCR技術とは？</a><a target="_blank" id="header_text_message_2" href="https://zine.qiita.com/interview/202107-hitachi/?utm_source=qiita&amp;utm_medium=header-banner">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"yoship1639","type":"items","id":"5878bf9d64816e93610b"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"グループ会社出納業務の証票処理を70％自動化。日立のAI-OCR技術とは？","url":"https://zine.qiita.com/interview/202107-hitachi/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"yoship1639","type":"items","id":"5878bf9d64816e93610b"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":1,"pos_id":"header_text_message_1","message":"グループ会社出納業務の証票処理を70％自動化。日立のAI-OCR技術とは？","url":"https://zine.qiita.com/interview/202107-hitachi/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"yoship1639","type":"items","id":"5878bf9d64816e93610b"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":1,"pos_id":"header_text_message_2","message":"グループ会社出納業務の証票処理を70％自動化。日立のAI-OCR技術とは？","url":"https://zine.qiita.com/interview/202107-hitachi/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/yoship1639/items/5878bf9d64816e93610b","location":"/yoship1639/items/5878bf9d64816e93610b","scheme":"https","host":"qiita.com","port":null,"pathname":"/yoship1639/items/5878bf9d64816e93610b","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"Dh9KuBqjifL+oNk3//cNQhPdYoqZemKzSejmZpBy5u2YFkHG/lpe+CJWcVvakooLUyb4PPm5S1tV/0DIgZuN2A==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-28c4f99a-a73f-4778-818a-9261460b4f26"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/yoship1639/items/5878bf9d64816e93610b/likers" class="css-1iupg5d">563</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">638</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/5878bf9d64816e93610b/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/yoship1639/items/5878bf9d64816e93610b/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/yoship1639/items/5878bf9d64816e93610b/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/yoship1639/items/5878bf9d64816e93610b/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/yoship1639/items/5878bf9d64816e93610b.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-1nzh4zz"><span class="fa fa-fw fa-warning css-38fzdi"></span><p>More than 1 year has passed since last update.</p></div><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/yoship1639"><img class="css-100alwu eyfquo10" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/113595/profile-images/1594732889" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/yoship1639" class="css-10ougpm">@<!-- -->yoship1639</a><div class="css-1ay9vb9"><time dateTime="2018-10-22T00:17:33Z" class="css-m19uds">posted at 2018-10-22</time></div></div></div></div></div><h1 class="css-cgzq40">オブジェクト指向をより理解するために実際に書いて解説する</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/%e3%82%aa%e3%83%96%e3%82%b8%e3%82%a7%e3%82%af%e3%83%88%e6%8c%87%e5%90%91" class="css-4czcte">オブジェクト指向</a><a href="/tags/%e5%9f%ba%e7%a4%8e" class="css-4czcte">基礎</a><a href="/tags/%e3%83%97%e3%83%ad%e3%82%b0%e3%83%a9%e3%83%9f%e3%83%b3%e3%82%b0%e6%95%99%e8%82%b2" class="css-4czcte">プログラミング教育</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div>
<h1>
<span id="はじめに" class="fragment"></span><a href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB"><i class="fa fa-link"></i></a>はじめに</h1>

<p>こんにちは、<a href="https://twitter.com/yoship1639" rel="nofollow noopener" target="_blank">yoship1639</a>です。<br>
普段はゲームエンジンを用いない個人ゲーム開発を行っております。</p>

<p>本記事は、<strong>オブジェクト指向がいまいち理解できない人</strong>、<strong>なんとなく理解はしたけどプログラムに落とし込めない人</strong>を対象に、<br>
簡単なプログラムをオブジェクト指向満載で実際に書いて、理解を深めてもらおうと思い記述しています。</p>

<p>プログラミング言語は普段私がよく使う<strong>C#</strong>で記述しますが、オブジェクト指向は言語の壁を越えて利用できる概念ですので、<br>
言語の記述ではなく、その記述の持つ意味を昇華させ俯瞰的に見ていただけると、より理解が進むのではないかと思います。</p>

<h1>
<span id="本記事の背景目的" class="fragment"></span><a href="#%E6%9C%AC%E8%A8%98%E4%BA%8B%E3%81%AE%E8%83%8C%E6%99%AF%E7%9B%AE%E7%9A%84"><i class="fa fa-link"></i></a>本記事の背景・目的</h1>

<p>オブジェクト指向に関する記述はとても増えてきました。しかし、一部を除いては理解を妨げる解説をしている記事が多数見受けられます。<br>
具体的な用語の説明をならべても、抽象化し過ぎた解説しても、プログラミングに落とし込むことはできません。</p>

<p>「継承」「カプセル化」「ポリモーフィズム」。オブジェクト指向の３大要素と言われていますが、そんなことより大事な事がオブジェクト指向にはあります。<br>
「現実世界を正しく捉える」のがオブジェクト指向を言われていますが、抽象化し過ぎているし現実世界を正しく捉えなければオブジェクト指向を使う意味がないかと言われるとそんなこと全くありません、ですが現実正解を正しく捉える考え方をするとオブジェクト指向プログラミングが容易になるのは正しいと思います。なので7割不正解です。</p>

<p>大事なのは、オブジェクト指向のそもそもの<strong>利点をどれだけ理解したうえで、どれだけその利点を具体的にプログラミングに正しく落とし込めるか</strong>です。</p>

<p>オブジェクト指向の利点。いくつ具体的に挙げられた上でそれを落とし込めるか。それが出来なければハリボテと変わりません。<br>
その利点に気が付くため、そして理解を深めるために、実際に書きながら解説しオブジェクト指向の素晴らしさに気が付いてもらいたいと思います。</p>

<h1>
<span id="オブジェクト指向のメリット" class="fragment"></span><a href="#%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%8C%87%E5%90%91%E3%81%AE%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88"><i class="fa fa-link"></i></a>オブジェクト指向のメリット</h1>

<p>解説する前に、<strong>何のためにオブジェクト指向を用いるのか</strong>を簡単に説明します。<br>
私は、オブジェクト指向を使うメリットは大きく4つに大別できると考えています。<br>
それは、<strong>保守性、汎用性、拡張性、独立性</strong>の維持・確立です。<br>
もっと簡潔に言うと、<strong>人が理解しやすく、あらゆる変更や追加に対して柔軟に対応できる様にするため</strong>です。<br>
1つずつ簡単にメリットを説明します。</p>

<h3>
<span id="保守性" class="fragment"></span><a href="#%E4%BF%9D%E5%AE%88%E6%80%A7"><i class="fa fa-link"></i></a>保守性</h3>

<ul>
<li>既に記述されたコードのリファクタリングが容易になる</li>
<li>必要なデータ・振る舞いのみを提供出来る</li>
</ul>

<h3>
<span id="汎用性" class="fragment"></span><a href="#%E6%B1%8E%E7%94%A8%E6%80%A7"><i class="fa fa-link"></i></a>汎用性</h3>

<ul>
<li>既に記述されたコードを修正することなく再利用が容易になる</li>
</ul>

<h3>
<span id="拡張性" class="fragment"></span><a href="#%E6%8B%A1%E5%BC%B5%E6%80%A7"><i class="fa fa-link"></i></a>拡張性</h3>

<ul>
<li>既に記述されたコードを修正することなく上書き,書き足すことが容易になる</li>
</ul>

<h3>
<span id="独立性" class="fragment"></span><a href="#%E7%8B%AC%E7%AB%8B%E6%80%A7"><i class="fa fa-link"></i></a>独立性</h3>

<ul>
<li>オブジェクト同士が互いに疎遠な関係となることで、保守、汎用化が容易になる</li>
<li>修正や追加を加えた際に他オブジェクトへの影響を最小限に抑えることができる</li>
</ul>

<p>これらのメリットを享受し、柔軟性を最大限高めることがオブジェクト指向を用いる決定的な理由です。<br>
デザインパターンも、上記のメリットをより享受するためのシステムデザインを詳細に区分けしたものとなっています。<br>
これはとても大事な概念ですので、しっかりと胸に刻み込んでください。</p>

<p>もう一度言います、オブジェクト指向を使うメリット、目的を間違えないでください。<br>
カプセル化、継承、ポリモーフィズムは<strong>手段</strong>です。目的じゃありません。<br>
<strong>保守性、汎用性、拡張性、独立性を確立させることが目的</strong>です。</p>

<p>メリットや機能についてはもっと詳細に解説するべきですが、既にとても良い解説をされている記事がありますので、詳細はそれを参考にしてください。</p>

<ul>
<li>
<a href="https://qiita.com/tutinoco/items/6952b01e5fc38914ec4e" id="reference-5731d3e9e8198869ddf4">オブジェクト指向と10年戦ってわかったこと</a>：素晴らしい記事です。読むことをお勧めします。</li>
</ul>

<h1>
<span id="オブジェクト指向で書く" class="fragment"></span><a href="#%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%8C%87%E5%90%91%E3%81%A7%E6%9B%B8%E3%81%8F"><i class="fa fa-link"></i></a>オブジェクト指向で書く</h1>

<p>それでは、実際にオブジェクト指向プログラミングをしながら解説していきたいと思います。</p>

<h2>
<span id="書く前に絶対気を付けること" class="fragment"></span><a href="#%E6%9B%B8%E3%81%8F%E5%89%8D%E3%81%AB%E7%B5%B6%E5%AF%BE%E6%B0%97%E3%82%92%E4%BB%98%E3%81%91%E3%82%8B%E3%81%93%E3%81%A8"><i class="fa fa-link"></i></a>書く前に絶対気を付けること</h2>

<p>まず、一番初めに気を付けなければならない事があります。<br>
それは、<strong>何を作るのか予めハッキリさせる</strong>事です。<br>
なぜかというと、<strong>作るものを決めなければオブジェクト指向プログラミングが破綻する</strong>(柔軟性が喪失される)からです。</p>

<p>オブジェクト指向の基本は、オブジェクト同士がメッセージを送り合うことです。<br>
何を作るのか不明であるという事は、<strong>オブジェクトがメッセージを送れない</strong>、もしくは<strong>オブジェクトが意味不明のメッセージを送る</strong>事と同じです。</p>

<p>もの凄くダメな例を紹介します。<strong>考えなしに後から継ぎ足していく・変更を加えていくパターン</strong>です。<br>
例えば、何も考えずAさんとBさんの二人のクラスを作成したとします。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">class</span> <span class="nc">A</span> <span class="p">{</span> <span class="p">}</span>
<span class="k">class</span> <span class="nc">B</span> <span class="p">{</span> <span class="p">}</span>
</code></pre></div></div>

<p>何を作るのかわからないけど、AさんとBさんは<strong>人間だから</strong>身長と体重を実装しておきます。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">class</span> <span class="nc">A</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">float</span> <span class="n">Height</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">float</span> <span class="n">Weight</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
<span class="k">class</span> <span class="nc">B</span>
<span class="p">{</span> 
    <span class="k">public</span> <span class="kt">float</span> <span class="n">Height</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">float</span> <span class="n">Weight</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>    
<span class="p">}</span>
</code></pre></div></div>

<p>後で、AさんがBさんに挨拶しなければならない事が判明しました。すると、AさんはBさんに「挨拶する」というメッセージを送らなければならないので、次のように実装しました。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">class</span> <span class="nc">A</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">float</span> <span class="n">Height</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">float</span> <span class="n">Weight</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
<span class="k">class</span> <span class="nc">B</span>
<span class="p">{</span> 
    <span class="k">public</span> <span class="kt">float</span> <span class="n">Height</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">float</span> <span class="n">Weight</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span> 

    <span class="k">public</span> <span class="k">void</span> <span class="nf">Greeting</span><span class="p">(</span><span class="n">A</span> <span class="n">person</span><span class="p">,</span> <span class="kt">string</span> <span class="n">message</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// TODO: 挨拶の処理</span>
    <span class="p">}</span>   
<span class="p">}</span>
</code></pre></div></div>

<p>さらに、Bさんは挨拶をし返さないといけない事が判明。すると、</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">class</span> <span class="nc">A</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">float</span> <span class="n">Height</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">float</span> <span class="n">Weight</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

    <span class="k">public</span> <span class="k">void</span> <span class="nf">ReceiveGreeting</span><span class="p">(</span><span class="n">B</span> <span class="n">person</span><span class="p">,</span> <span class="kt">string</span> <span class="n">mes</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// TODO: 挨拶返し処理 </span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">class</span> <span class="nc">B</span>
<span class="p">{</span> 
    <span class="k">public</span> <span class="kt">float</span> <span class="n">Height</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">float</span> <span class="n">Weight</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span> 
    <span class="k">public</span> <span class="kt">float</span> <span class="n">Message</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span> 

    <span class="k">public</span> <span class="k">void</span> <span class="nf">Greeting</span><span class="p">(</span><span class="n">A</span> <span class="n">person</span><span class="p">,</span> <span class="kt">string</span> <span class="n">mes</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// TODO: 挨拶処理</span>
        <span class="n">person</span><span class="p">.</span><span class="nf">ReceiveGreeting</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="n">Message</span><span class="p">);</span>
    <span class="p">}</span>   
<span class="p">}</span>
</code></pre></div></div>

<p>BさんはAさんの挨拶に対して返す言葉を実装しなければならなくなり、新しくMessageを実装しました。<br>
見た感じ、身長と体重がかぶっているので、それを抽出し抽象クラスにしようと思います。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">abstract</span> <span class="k">class</span> <span class="nc">Human</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">float</span> <span class="n">Height</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">float</span> <span class="n">Weight</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
<span class="k">class</span> <span class="nc">A</span> <span class="p">:</span> <span class="n">Human</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">ReceiveGreeting</span><span class="p">(</span><span class="n">B</span> <span class="n">person</span><span class="p">,</span> <span class="kt">string</span> <span class="n">mes</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// TODO: 挨拶返し処理 </span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">class</span> <span class="nc">B</span> <span class="p">:</span> <span class="n">Human</span>
<span class="p">{</span> 
    <span class="k">public</span> <span class="kt">float</span> <span class="n">Message</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span> 

    <span class="k">public</span> <span class="k">void</span> <span class="nf">Greeting</span><span class="p">(</span><span class="n">A</span> <span class="n">person</span><span class="p">,</span> <span class="kt">string</span> <span class="n">mes</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// TODO: 挨拶処理</span>
        <span class="n">person</span><span class="p">.</span><span class="nf">ReceiveGreeting</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="n">Message</span><span class="p">);</span>
    <span class="p">}</span>   
<span class="p">}</span>
</code></pre></div></div>

<p>カオスになってきましたね。<br>
もし、次に新たな新鋭Cさんが登場し挨拶しなければならなくなったらどうしますか？<br>
もし、Aさんが実は軟体浮動生物で身長の概念が無かったらどうしますか？<br>
もし、Bさんはのっぺら棒でしゃべれなかったとしたらどうしますか？</p>

<p>この作り方を続けると、見た目はオブジェクト指向っぽいですが、その恩恵はゼロであるといっても過言ではありません。<br>
恩恵がない具体的な理由は以下です。</p>

<ul>
<li>使いもしない身長や体重を持つという保守性の欠如</li>
<li>AがBを知らないと挨拶ができないという汎用性・独立性の欠如</li>
<li>BがAを知らないと挨拶返しができないという汎用性・独立性の欠如</li>
<li>新しい概念の導入に対する汎用性・拡張性の欠如</li>
</ul>

<p>何を作るのかハッキリさせないで後から継ぎ足すというのは、上記を見てわかる通り、破滅をもたらすだけで、オブジェクト指向の恩恵どころか、ただの難解なプログラムに化けるだけとなってしまいます。</p>

<p>何度も言います、<strong>何を作るのかハッキリさせてからプログラミングしなければ、オブジェクト指向の恩恵を得られません</strong>。<br>
言い換えると、<strong>設計がとても重要である</strong>と言えます。</p>

<h2>
<span id="何を作るか決める" class="fragment"></span><a href="#%E4%BD%95%E3%82%92%E4%BD%9C%E3%82%8B%E3%81%8B%E6%B1%BA%E3%82%81%E3%82%8B"><i class="fa fa-link"></i></a>何を作るか決める</h2>

<p>何を作るのかが大事である事を理解した所で、さっそく何を作るかを決めます。<br>
簡単な例で解説しますので、今回は「<strong>タケシが持っている冷凍ギョウザを電子レンジに入れたら食べられるギョウザとなって出てくる</strong>」という例で解説したいと思います。</p>

<p>さて、何をしたいのかをはっきりさせると、どうすればいいのかが見えてきます。<br>
タケシは冷凍餃子を持っていますね。<br>
タケシは電子レンジを操作しますね。<br>
電子レンジは冷凍ギョウザを受け取り、ギョウザにして返しますね。<br>
ギョウザは冷凍されているかという状態を持ちますね。<br>
上記のように、何を作るのか決めて初めて、オブジェクトがどんなデータを持ちどんな振る舞いをするのかが見えてきます。</p>

<p>それでは、コードに落とし込んでいきます。<br>
これからコーディングするのは、オブジェクト指向の恩恵がほとんど得られないバージョンです。<br>
これは、順に恩恵が得られるバージョンに変化させるために敢えてこの状態からスタートします。<br>
くれぐれも、恩恵がほとんどないバージョンを正しいコーディングだと思わないでください。</p>

<h2>
<span id="恩恵がほとんどないバージョン" class="fragment"></span><a href="#%E6%81%A9%E6%81%B5%E3%81%8C%E3%81%BB%E3%81%A8%E3%82%93%E3%81%A9%E3%81%AA%E3%81%84%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3"><i class="fa fa-link"></i></a>恩恵がほとんどないバージョン</h2>

<p>まず、登場人物を確認します。「タケシ」「電子レンジ」「冷凍ギョウザ」「ギョウザ」ですね。<br>
まずは、純粋に登場人物をクラス化してみましょう。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">class</span> <span class="nc">Takeshi</span> <span class="p">{</span> <span class="p">}</span>
<span class="k">class</span> <span class="nc">Microwave</span> <span class="p">{</span> <span class="p">}</span>
<span class="k">class</span> <span class="nc">Gyoza</span> <span class="p">{</span> <span class="p">}</span>
<span class="k">class</span> <span class="nc">FrozenGyoza</span> <span class="p">{</span> <span class="p">}</span>
</code></pre></div></div>

<p>しかし、冷凍ギョウザとギョウザの違いは、温められているかどうかだけです。なので</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">class</span> <span class="nc">Takeshi</span> <span class="p">{</span> <span class="p">}</span>
<span class="k">class</span> <span class="nc">Microwave</span> <span class="p">{</span> <span class="p">}</span>
<span class="k">class</span> <span class="nc">Gyoza</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">bool</span> <span class="n">Frozen</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>この様にFrozenプロパティを実装し、冷凍されているかどうかを定義します。</p>

<p>次に、電子レンジは温める機能を持っているので、Heatメソッドを定義します。<br>
Heatメソッドは、冷凍ギョウザをギョウザに変化させるので、</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">class</span> <span class="nc">Takeshi</span> <span class="p">{</span> <span class="p">}</span>
<span class="k">class</span> <span class="nc">Microwave</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">Gyoza</span> <span class="nf">Heat</span><span class="p">(</span><span class="n">Gyoza</span> <span class="n">gyoza</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">gyoza</span><span class="p">.</span><span class="n">Frozen</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">gyoza</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">class</span> <span class="nc">Gyoza</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">bool</span> <span class="n">Frozen</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Frozenをfalseにし、温められた状態にして返します。</p>

<p>タケシは冷凍ギョウザを持っているので、プロパティに追加します。<br>
タケシは電子レンジを<strong>操作</strong>するので、メソッドとして実装します。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">class</span> <span class="nc">Takeshi</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">Gyoza</span> <span class="n">Gyoza</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">UseMicrowave</span><span class="p">(</span><span class="n">Microwave</span> <span class="n">microwave</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">microwave</span><span class="p">.</span><span class="nf">Heat</span><span class="p">(</span><span class="n">Gyoza</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">class</span> <span class="nc">Microwave</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">Gyoza</span> <span class="nf">Heat</span><span class="p">(</span><span class="n">Gyoza</span> <span class="n">gyoza</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">gyoza</span><span class="p">.</span><span class="n">Frozen</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">gyoza</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">class</span> <span class="nc">Gyoza</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">bool</span> <span class="n">Frozen</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>そして、これらを操作するメインプログラムを書きます。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">class</span> <span class="nc">TakeshiAndGyoza</span>
<span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">var</span> <span class="n">takeshi</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Takeshi</span><span class="p">();</span> <span class="c1">// タケシ</span>
        <span class="kt">var</span> <span class="n">gyoza</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Gyoza</span><span class="p">()</span> <span class="p">{</span> <span class="n">Frozen</span> <span class="p">=</span> <span class="k">true</span> <span class="p">};</span> <span class="c1">// 冷凍餃子</span>
        <span class="kt">var</span> <span class="n">microwave</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Microwave</span><span class="p">();</span> <span class="c1">// 電子レンジ</span>

        <span class="n">takeshi</span><span class="p">.</span><span class="n">Gyoza</span> <span class="p">=</span> <span class="n">gyoza</span><span class="p">;</span> <span class="c1">// ギョウザを持っている</span>

        <span class="n">takeshi</span><span class="p">.</span><span class="nf">UseMicrowave</span><span class="p">(</span><span class="n">microwave</span><span class="p">);</span> <span class="c1">// タケシが電子レンジを使う</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>出来ました。「タケシが持っている冷凍ギョウザを電子レンジに入れたら食べられるギョウザとなって出てくる」プログラムです。<br>
見た感じオブジェクト指向になっているので、問題なさそうに見えます。</p>

<p>さて、あなたは、このプログラムに100点満点で何点つけますか？</p>

<h2>
<span id="恩恵がほとんどないバージョンの採点" class="fragment"></span><a href="#%E6%81%A9%E6%81%B5%E3%81%8C%E3%81%BB%E3%81%A8%E3%82%93%E3%81%A9%E3%81%AA%E3%81%84%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E3%81%AE%E6%8E%A1%E7%82%B9"><i class="fa fa-link"></i></a>恩恵がほとんどないバージョンの採点</h2>

<p>私は5点をつけます。このプログラムで5点は良い方です。<br>
言われた通りの機能を実装するという意味では100点です。ちゃんと実装されています。しかし、今後の展開を加味すると全くダメです。<br>
オブジェクト指向のメリットを思い出してください。<br>
保守性、汎用性、拡張性、独立性をこのプログラムが持っているのか、見ていきます。</p>

<p>まず、保守性です。<br>
オブジェクト毎に分けられていて、リファクタリングする際にはそこまで問題なさそうです。ギョウザに温められた温度を付け加える場合でも、電子レンジに新機能を追加する場合でも、対応はできそうです。しかし、タケシのギョウザの状態を電子レンジ以外でも自由に変更できてしまいますね。なので5点付けます。</p>

<p>汎用性です。<br>
全くありません。タケシではなく、カスミが電子レンジを使う場合は新たにカスミをタケシと同じ様に定義しなければなりません。ギョウザではなく肉まんだった場合電子レンジとタケシの記述を変更しなければなりません。電子レンジで温められるのはギョウザだけというのは如何なものでしょうか。0点です。</p>

<p>拡張性です。<br>
一見ありそうに見えますが、ありません。肉まんに対応する場合タケシに肉まんプロパティを追加すればいいだけですが、ピザまんを追加する場合もシュウマイを追加する場合も同じく記述する羽目になります。タケシの手が持ちません。0点です。</p>

<p>独立性です。<br>
全くありません。タケシはギョウザと電子レンジの存在を知らないと確立できません。電子レンジはギョウザを知らないと存在できません。互いが互いを知らないといけない状態になっています。唯一まともなのはギョウザだけです。しかし0点です。</p>

<p>柔軟性を持たないと更なる問題に直面します。</p>

<ul>
<li>タケシでもカスミでもなくサトシだったら？オーキドだったら？</li>
<li>電子レンジじゃなくオーブンレンジだったら？ガスコンロだったら？</li>
<li>肉まん、ピザまん、シュウマイ、コロッケ、お魚、hogehoge、etc・・・?</li>
</ul>

<p>何を作るのか決めただけでは、対象が変更される可能性に対応できません。</p>

<p>先ほどのプログラムは柔軟性がほとんどありません。なので、追加や修正に一苦労です。<br>
なので、先ほどのプログラムの柔軟性を上げ、対象が変更される場合でも修正に柔軟に耐えうる形に改良します。</p>

<h2>
<span id="恩恵がそこそこあるバージョン" class="fragment"></span><a href="#%E6%81%A9%E6%81%B5%E3%81%8C%E3%81%9D%E3%81%93%E3%81%9D%E3%81%93%E3%81%82%E3%82%8B%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3"><i class="fa fa-link"></i></a>恩恵がそこそこあるバージョン</h2>

<p>改良と言いつつ、0から記述します。手を加えるのも億劫なので。。。</p>

<p>まず、登場人物のおさらいです。「タケシ」「電子レンジ」「冷凍ギョウザ」「ギョウザ」です。<br>
お題はこれです。「タケシが持っている冷凍ギョウザを電子レンジに入れたら食べられるギョウザとなって出てくる」</p>

<p>さて、前回の採点を踏まえたら、以下の予想ができました。<br>
カスミだったら？サトシだったら？オーキドだったら？<br>
オーブンレンジだったら？ガスコンロだったら？<br>
肉まん、ピザまん、シュウマイ、コロッケ、お魚、hogehoge、etc・・・?</p>

<p>まず、タケシじゃなかった場合を考えます。カスミ、サトシが電子レンジを使う場合、タケシ、カスミ、サトシが共通して行うのは「電子レンジを使う」です。なので、「<strong>電子レンジを使う人</strong>」として抽象化させ、HumanUsingMicrowaveという抽象クラスを作成します。<br>
<strong>名前付け</strong>はしっかりして下さい。抽象クラスの名前はHumanでいいでしょと思った人は要注意です。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="c1">// 電子レンジを使う人</span>
<span class="k">abstract</span> <span class="k">class</span> <span class="nc">HumanUsingMicrowave</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">Gyoza</span> <span class="n">Gyoza</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="n">Gyoza</span> <span class="nf">UseMicrowave</span><span class="p">(</span><span class="n">Microwave</span> <span class="n">microwave</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">microwave</span><span class="p">.</span><span class="nf">Heat</span><span class="p">(</span><span class="n">Gyoza</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>しかし、これではオーブンレンジだったら？肉まんだったら？という問題に対応できていません。<br>
なので、タケシの場合と同じ様に「電子レンジ」を「<strong>食べ物を温めるもの</strong>」に昇華させます。<br>
ギョウザも同様に「ギョウザ」ではなく「<strong>食べ物</strong>」に昇華させます。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="c1">// 食べ物</span>
<span class="k">abstract</span> <span class="k">class</span> <span class="nc">Food</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">bool</span> <span class="n">Frozen</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// 食べ物を温めるもの</span>
<span class="k">abstract</span> <span class="k">class</span> <span class="nc">FoodHeater</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">Food</span> <span class="nf">Heat</span><span class="p">(</span><span class="n">Food</span> <span class="n">food</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">food</span><span class="p">.</span><span class="n">Frozen</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">food</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>これらを加味すると、「電子レンジを使う人」は「<strong>食べ物を温めるものを使う人</strong>」となります。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="c1">// 食べ物を温めるものを使う人</span>
<span class="k">abstract</span> <span class="k">class</span> <span class="nc">HumanUsingFoodHeater</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">Food</span> <span class="n">Food</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="n">Food</span> <span class="nf">UseFoodHeater</span><span class="p">(</span><span class="n">FoodHeater</span> <span class="n">foodHeater</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">foodHeater</span><span class="p">.</span><span class="nf">Heat</span><span class="p">(</span><span class="n">Food</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>これで、「タケシが持っている冷凍ギョウザを電子レンジに入れたら食べられるギョウザとなって出てくる」は<br>
「<strong>食べ物を温めるものを使う人が持っている食べ物を食べ物を温めるものに入れたら食べられる食べ物となって出てくる</strong>」に昇華しました。言っていることは無茶苦茶ですが、オブジェクト指向的にはウェルカムなお題です。</p>

<p>抽象クラスを定義したところで、実際にタケシ、電子レンジ、ギョウザを定義します。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">class</span> <span class="nc">Takeshi</span> <span class="p">:</span> <span class="n">HumanUsingFoodHeater</span> <span class="p">{</span> <span class="p">}</span>
<span class="k">class</span> <span class="nc">Microwave</span> <span class="p">:</span> <span class="n">FoodHeater</span> <span class="p">{</span> <span class="p">}</span>
<span class="k">class</span> <span class="nc">Gyoza</span> <span class="p">:</span> <span class="n">FreezableFood</span> <span class="p">{</span> <span class="p">}</span>
</code></pre></div></div>

<p>これで、タケシがカスミになっても、ギョウザが肉まんになっても、サブクラスで定義すれば良いだけになりました。</p>

<p>メインプログラムを記述します。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">class</span> <span class="nc">TakeshiAndGyoza</span>
<span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">var</span> <span class="n">takeshi</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Takeshi</span><span class="p">();</span> <span class="c1">// タケシ</span>
        <span class="kt">var</span> <span class="n">gyoza</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Gyoza</span><span class="p">()</span> <span class="p">{</span> <span class="n">Frozen</span> <span class="p">=</span> <span class="k">true</span> <span class="p">};</span> <span class="c1">// 冷凍餃子</span>
        <span class="kt">var</span> <span class="n">microwave</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Microwave</span><span class="p">();</span> <span class="c1">// 電子レンジ</span>

        <span class="n">takeshi</span><span class="p">.</span><span class="n">Food</span> <span class="p">=</span> <span class="n">gyoza</span><span class="p">;</span> <span class="c1">// ギョウザを持っている</span>

        <span class="n">takeshi</span><span class="p">.</span><span class="nf">UseFoodHeater</span><span class="p">(</span><span class="n">microwave</span><span class="p">);</span> <span class="c1">// タケシが電子レンジを使う</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>メインプログラムは前回のプログラムとほとんど変わっていないように見えますが、抽象クラスをばっちり定義し人や食べ物の変化に柔軟に対応できる様になったので大丈夫でしょう。</p>

<p>さて、あなたは、このプログラムに100点満点で何点つけますか？</p>

<h2>
<span id="恩恵がそこそこあるバージョンの採点" class="fragment"></span><a href="#%E6%81%A9%E6%81%B5%E3%81%8C%E3%81%9D%E3%81%93%E3%81%9D%E3%81%93%E3%81%82%E3%82%8B%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E3%81%AE%E6%8E%A1%E7%82%B9"><i class="fa fa-link"></i></a>恩恵がそこそこあるバージョンの採点</h2>

<p>私は30点をつけます。<br>
例によって、オブジェクト指向のメリットである保守性、汎用性、拡張性、独立性をこのプログラムが持っているのか、見ていきます。</p>

<p>まず、保守性です。<br>
前回同様、オブジェクト毎に分けられていて、リファクタリングする際にはそこまで問題なさそうです。食べ物に温められた温度を付け加える場合でも、電子レンジに新機能を追加する場合でも、対応はできそうです。しかし、食べ物の状態を電子レンジ以外でも自由に変更できる点は今だ改善されていません。更に「食べ物」という抽象クラスの名前も微妙です。ここは本来名は体を表すように「冷凍可能な食べ物」となっていなくては意味が通じません。なので5点付けます。</p>

<p>汎用性です。<br>
実はあまりありません。カスミになっても肉まんになっても対応できそうなのに？と思うかもしれませんが、それはこのプログラム上だけの話。人や食べ物の変化に対応できることだけが汎用化ではありません。食べ物の数が変わったらどうするのか、「食べ物を温めるものを使う人」であるタケシを他のプログラムで一体どう扱えばいいのか、、、5点です。</p>

<p>拡張性です。<br>
拡張する場合は容易そうです。既に抽象クラスを定義しているので、タケシだけに筋トレという機能を付けても他のオブジェクトへの影響はあまりなさそうです。15点です。</p>

<p>独立性です。<br>
こちらも実はほとんどありません。抽象クラスというのは思った以上に独立性を確立するものであるとは言えません。「食べ物を温めるものを使う人」「食べ物を温めるもの」を知らないと扱えないのですから。さらにメインプログラムを見てみると「タケシ」「電子レンジ」「ギョウザ」という具体的に具象化されたオブジェクトが散見されています。しかし最初のプログラムよりかはましになってはいます。5点です。</p>

<p>この30点を低いと思う方もいれば高いと思う方もいると思います。自分の置かれている境遇や知識量によって評価は変わってくるので。<br>
私は、まだ改良の余地があると知っているのでこの位の点数になっています。</p>

<p>今回のプログラムは柔軟であるとはまだ言えません。例えば次の追加項目があったらどうしますか？</p>

<ul>
<li>タケシとサトシは筋トレができ、カスミは電子レンジを使えて、サトシは電子レンジを使えない</li>
</ul>

<p>ここで、「食べ物を温めるものを使う人」である抽象クラスをスーパークラスにしたことを後悔します。<br>
HumanUsingFoodHeaterをベースにサブクラスとしてサトシを定義したいところなのに、それが絶対にできないというジレンマを抱えなければならないのですから。</p>

<p>しょうがないからHumanUsingFoodHeaterのスーパークラスとしてHumanを定義し、サトシはそっちのサブクラスにする事で解決しよう。もしさらに追加されることがあったら、更に分岐させて解決しよう。。。そして、これを繰り返すうちに何がベースなのか、正しい機能分けが出来ているのか、分からなくなっていきます。そしていずれ現れるひし形継承、多重継承。これが抽象クラスしか扱えない場合の泣きの終着点です。</p>

<p>では、いったいどうすればいいのか。<br>
先ほどのプログラムを更にオブジェクト指向の恩恵が受けられる様に改良していきます。</p>

<h2>
<span id="恩恵がけっこうあるバージョン" class="fragment"></span><a href="#%E6%81%A9%E6%81%B5%E3%81%8C%E3%81%91%E3%81%A3%E3%81%93%E3%81%86%E3%81%82%E3%82%8B%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3"><i class="fa fa-link"></i></a>恩恵がけっこうあるバージョン？</h2>

<p>0から書き直します。さて、抽象クラスでは改良、機能追加に限界があることがわかってきました。<br>
度重なる変更や予想もできない変更点が現れた時に、苦肉の対応しかできないのです。</p>

<p>そこで登場するのが「インターフェース」です。オブジェクト指向の終着点と言っても過言ではないと思います。<br>
インターフェースはオブジェクトが持つ<strong>機能</strong>を表します。<br>
これが正しく扱えて、ようやくオブジェクト指向ユーザの仲間入りです。</p>

<p>登場人物のおさらいです。「タケシ」「電子レンジ」「冷凍ギョウザ」「ギョウザ」です。<br>
お題はこれです。「タケシが持っている冷凍ギョウザを電子レンジに入れたら食べられるギョウザとなって出てくる」</p>

<p>先ほどのプログラムで、「タケシ」を「食べ物を温めるものを使う人」。「電子レンジ」を「食べ物を温めるもの」。「ギョウザ」を「食べ物」と抽象化させ抽象クラスとして考えました。</p>

<p>しかし、度重なる機能追加、修正に耐えられません。<br>
ここで、抽象化された「食べ物を温めるものを使う人」から機能のみを抽出することにしました。<br>
つまり「人間」と「食べ物を温めるものを使う」という機能に分けるという事です。</p>

<p>この「食べ物を温めるものを使う」がインターフェースです。コードにすると</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">interface</span> <span class="nc">IFoodHeaterUser</span>
<span class="p">{</span>
    <span class="n">Food</span> <span class="nf">UseFoodHeater</span><span class="p">(</span><span class="n">FoodHeater</span> <span class="n">foodHeater</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">abstract</span> <span class="k">class</span> <span class="nc">Human</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">Food</span> <span class="n">Food</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ここで大事なこと、<strong>HumanにIFoodHeaterUserを実装させません</strong>。実装させるとHumanUsingFoodHeaterと同値となってしまいます。<br>
ではどこで実装するのか。タケシです。タケシは「人間」であり「食べ物を温めるものを使う」機能を有します。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">class</span> <span class="nc">Takeshi</span> <span class="p">:</span> <span class="n">Human</span><span class="p">,</span> <span class="n">IFoodHeaterUser</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">Food</span> <span class="nf">UseFoodHeater</span><span class="p">(</span><span class="n">FoodHeater</span> <span class="n">foodHeater</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">foodHeater</span><span class="p">.</span><span class="nf">Heat</span><span class="p">(</span><span class="n">Food</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ここで先ほどの追加項目「タケシとサトシは筋トレができ、カスミは電子レンジを使えて、サトシは電子レンジを使えない」を実装してみます。<br>
筋トレができるというのは「筋トレする」という機能になりますね。これはIMuscleTrainerというインターフェースになります。</p>

<p>それぞれの特徴を並べるとこうなります。</p>

<table>
<thead>
<tr>
<th style="text-align: center"></th>
<th style="text-align: center">Human</th>
<th style="text-align: center">IFoodHeaterUser</th>
<th style="text-align: center">IMuscleTrainer</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center">Takeshi</td>
<td style="text-align: center">〇</td>
<td style="text-align: center">〇</td>
<td style="text-align: center">〇</td>
</tr>
<tr>
<td style="text-align: center">Kasumi</td>
<td style="text-align: center">〇</td>
<td style="text-align: center">〇</td>
<td style="text-align: center">×</td>
</tr>
<tr>
<td style="text-align: center">Satoshi</td>
<td style="text-align: center">〇</td>
<td style="text-align: center">×</td>
<td style="text-align: center">〇</td>
</tr>
</tbody>
</table>

<p>この様な場合でもインタフェースを使えば即座に対応可能です。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">interface</span> <span class="nc">IMuscleTrainer</span>
<span class="p">{</span>
    <span class="k">void</span> <span class="nf">MuscleTraining</span><span class="p">();</span>
<span class="p">}</span>
<span class="c1">// 温め、筋トレ可能のタケシ</span>
<span class="k">class</span> <span class="nc">Takeshi</span> <span class="p">:</span> <span class="n">Human</span><span class="p">,</span> <span class="n">IFoodHeaterUser</span><span class="p">,</span> <span class="n">IMuscleTrainer</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">Food</span> <span class="nf">UseFoodHeater</span><span class="p">(</span><span class="n">FoodHeater</span> <span class="n">foodHeater</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">foodHeater</span><span class="p">.</span><span class="nf">Heat</span><span class="p">(</span><span class="n">Food</span><span class="p">);</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">MuscleTraining</span><span class="p">()</span> <span class="p">{</span> <span class="c1">// TODO: 筋トレ }</span>
<span class="p">}</span>
<span class="c1">// 温め可能のカスミ</span>
<span class="k">class</span> <span class="nc">Kasumi</span> <span class="p">:</span> <span class="n">Human</span><span class="p">,</span> <span class="n">IFoodHeaterUser</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">Food</span> <span class="nf">UseFoodHeater</span><span class="p">(</span><span class="n">FoodHeater</span> <span class="n">foodHeater</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">foodHeater</span><span class="p">.</span><span class="nf">Heat</span><span class="p">(</span><span class="n">Food</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">// 筋トレ可能のサトシ</span>
<span class="k">class</span> <span class="nc">Satoshi</span> <span class="p">:</span> <span class="n">Human</span><span class="p">,</span> <span class="n">IMuscleTrainer</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">MuscleTraining</span><span class="p">()</span> <span class="p">{</span> <span class="c1">// TODO: 筋トレ }</span>
<span class="p">}</span>
</code></pre></div></div>

<p>もし抽象クラスで解決しようと考えた場合、継承だらけでカオスなことになるのは目に見えています。<br>
インターフェースは柔軟性に非常に優れているのです。<br>
もし、別の機能追加が来ても、インターフェースを実装すればいいだけなのですから。<br>
もしタケシが筋トレ不可能になったら、IMuscleTrainerを除けばいいだけなのですから。</p>

<p>次に「電子レンジ」を考えます。「食べ物を温めるもの」として先ほどは捉えました。<br>
これは「もの」と「食べ物を温める」機能に分けられます。しかし、「もの」はあまりにも漠然としていますしオブジェクトそのものを指します。なので、「もの」という抽象クラスは当然作らず、「食べ物を温める」というインターフェースのみを定義します。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">interface</span> <span class="nc">IFoodHeater</span>
<span class="p">{</span>
    <span class="n">Food</span> <span class="nf">Heat</span><span class="p">(</span><span class="n">Food</span> <span class="n">food</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">Microwave</span> <span class="p">:</span> <span class="n">IFoodHeater</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">Food</span> <span class="nf">Heat</span><span class="p">(</span><span class="n">Food</span> <span class="n">food</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">food</span><span class="p">.</span><span class="n">Frozen</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">food</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>これで、不慮の追加修正が来ても即座に対応できそうです。</p>

<p>「ギョウザ」です。「食べ物」と定義しましたが「冷凍可能な食べ物」が意味的に正しいと先ほど指摘しました。<br>
この「冷凍可能な食べ物」は「食べ物」と「冷凍可能」という機能に分けられます。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">interface</span> <span class="nc">IFreezable</span>
<span class="p">{</span>
    <span class="kt">bool</span> <span class="n">Frozen</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
<span class="k">abstract</span> <span class="k">class</span> <span class="nc">Food</span> <span class="p">{</span> <span class="p">}</span>
<span class="k">class</span> <span class="nc">Gyoza</span> <span class="p">:</span> <span class="n">Food</span><span class="p">,</span> <span class="n">IFreezable</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">bool</span> <span class="n">Frozen</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>よくある間違いが、「冷凍可能な食べ物」もしくは「食べ物」をインターフェースで定義することです。このような間違いは次のように見るとどっちが正しいのかわかります。<br>
「冷凍可能な食べ物」は「もの」なのか「機能」なのかです。「機能」だったらインターフェースです。<br>
言うまでもなく、「もの」ですのでこれはインターフェースではありません。<br>
「冷凍可能」は「機能」なのでインターフェースです。<br>
ここがよく言われる「Is-a」「Has-a」の部分ですね。</p>

<p>ここで間違えるとどうなるかというと、オブジェクト1つは2つのオブジェクトであるという状態になります。説明するまでもなく理解不能ですね。</p>

<p>「ギョウザ」を修正したので、「食べ物を温める」も「冷凍可能を解凍」に修正します。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="c1">// 冷凍可能なものを解凍する機能</span>
<span class="k">interface</span> <span class="nc">IThawFrozen</span>
<span class="p">{</span>
    <span class="n">IFreezable</span> <span class="nf">Heat</span><span class="p">(</span><span class="n">IFreezable</span> <span class="n">freezable</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">// 冷凍可能なものを解凍する機能をもつ電子レンジ</span>
<span class="k">class</span> <span class="nc">Microwave</span> <span class="p">:</span> <span class="n">IThawFrozen</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">IFreezable</span> <span class="nf">Heat</span><span class="p">(</span><span class="n">IFreezable</span> <span class="n">freezable</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">freezable</span><span class="p">.</span><span class="n">Frozen</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">freezable</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>まだ問題があります。冷凍可能なものの状態を電子レンジ以外で自由に変更可能である点です。これは、IFreezableはIThawFrozenでないと修正できない様にすれば良いような気がします。修正すると</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">interface</span> <span class="nc">IFreezable</span>
<span class="p">{</span>
    <span class="kt">bool</span> <span class="n">Frozen</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">void</span> <span class="nf">Thaw</span><span class="p">(</span><span class="n">IThawFrozen</span> <span class="n">thawFrozen</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">abstract</span> <span class="k">class</span> <span class="nc">Food</span> <span class="p">{</span> <span class="p">}</span>
<span class="k">class</span> <span class="nc">Gyoza</span> <span class="p">:</span> <span class="n">Food</span><span class="p">,</span> <span class="n">IFreezable</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">bool</span> <span class="n">Frozen</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">internal</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">Thaw</span><span class="p">(</span><span class="n">IThawFrozen</span> <span class="n">thawFrozen</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">thawFrozen</span><span class="p">.</span><span class="nf">Heat</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>FrozenのセッターをprivateにしてしまうとMicrowaveのHeatで変更不可になってしまうので同一アセンブリ内を修正可能にするためにinternalとして定義します。</p>

<p>これでOKと思いきや、MicrowaveのHeatでFrozenの状態を変更できません。それもそのはず、IFreezableにセッターは存在しないのです。だけど冷凍可能なものの状態を電子レンジ以外で自由に変更可能なのはどうすれば。。。</p>

<p>必殺技を使います。protected internal interfaceです。Microwaveの中でIFreezableを定義することでそれを実装するGyozaは自身のFrozenプロパティの値を自身とMicrowave以外のオブジェクトからアクセス不可となり明確なアクセス権をMicrowaveだけが持てる様になります。IFreezableがThawを持つ必要もなくなりすっきりしました。保守性も確保できています。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="c1">// 冷凍可能なものを解凍する機能</span>
<span class="k">interface</span> <span class="nc">IThawFrozen</span>
<span class="p">{</span>
    <span class="n">IFreezable</span> <span class="nf">Heat</span><span class="p">(</span><span class="n">IFreezable</span> <span class="n">freezable</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">// 冷凍可能なものを解凍する機能をもつ電子レンジ</span>
<span class="k">class</span> <span class="nc">Microwave</span> <span class="p">:</span> <span class="n">IThawFrozen</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">IFreezable</span> <span class="nf">Heat</span><span class="p">(</span><span class="n">IFreezable</span> <span class="n">freezable</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">freezable</span><span class="p">.</span><span class="n">Frozen</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">freezable</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="c1">// 冷凍可能である機能</span>
    <span class="k">protected</span> <span class="k">internal</span> <span class="k">interface</span> <span class="nc">IFreezable</span>
    <span class="p">{</span>
        <span class="kt">bool</span> <span class="n">Frozen</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">abstract</span> <span class="k">class</span> <span class="nc">Food</span> <span class="p">{</span> <span class="p">}</span>
<span class="k">class</span> <span class="nc">Gyoza</span> <span class="p">:</span> <span class="n">Food</span><span class="p">,</span> <span class="n">Microwave</span><span class="p">.</span><span class="n">IFreezable</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">bool</span> <span class="n">Frozen</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>IFreezableに対してHeatするようになったのでタケシの実装も変わります。例外処理は割愛します。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">class</span> <span class="nc">Takeshi</span> <span class="p">:</span> <span class="n">Human</span><span class="p">,</span> <span class="n">IFoodHeaterUser</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">Food</span> <span class="nf">UseFoodHeater</span><span class="p">(</span><span class="n">FoodHeater</span> <span class="n">foodHeater</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">foodHeater</span><span class="p">.</span><span class="nf">Heat</span><span class="p">((</span><span class="n">IFreezable</span><span class="p">)</span><span class="n">Food</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>最後にメインプログラムですが、メインプログラムが「タケシ」「電子レンジ」「ギョウザ」の実態を知らなくてはならないのは如何なものかと思い立ち、Factoryパターンにて生成するという手法を取ることにしました。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">abstract</span> <span class="k">class</span> <span class="nc">AHumanFactory</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">abstract</span> <span class="n">Human</span> <span class="nf">Create</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">);</span>
<span class="p">}</span> 
<span class="k">class</span> <span class="nc">HumanFactory</span> <span class="p">:</span> <span class="n">AHumanFactory</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="n">Type</span><span class="p">&gt;</span> <span class="n">humans</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="n">Type</span><span class="p">&gt;()</span>
    <span class="p">{</span>
        <span class="p">{</span><span class="s">"Takeshi"</span><span class="p">,</span> <span class="k">typeof</span><span class="p">(</span><span class="n">Takeshi</span><span class="p">)},</span>
        <span class="p">{</span><span class="s">"Kasumi"</span><span class="p">,</span> <span class="k">typeof</span><span class="p">(</span><span class="n">Kasumi</span><span class="p">)},</span>
        <span class="p">{</span><span class="s">"Satoshi"</span><span class="p">,</span> <span class="k">typeof</span><span class="p">(</span><span class="n">Satoshi</span><span class="p">)},</span>
    <span class="p">};</span>
    <span class="k">public</span> <span class="k">override</span> <span class="n">Human</span> <span class="nf">Create</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Type</span> <span class="n">type</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">humans</span><span class="p">.</span><span class="nf">TryGetValue</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="k">out</span> <span class="n">type</span><span class="p">))</span> 
            <span class="k">return</span> <span class="p">(</span><span class="n">Human</span><span class="p">)</span><span class="n">Activator</span><span class="p">.</span><span class="nf">CreateInstance</span><span class="p">(</span><span class="n">type</span><span class="p">);</span>
        <span class="k">return</span> <span class="k">null</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">abstract</span> <span class="k">class</span> <span class="nc">AFoodHeaterFactory</span> <span class="p">{</span> <span class="p">}</span> <span class="c1">// 割愛</span>
<span class="k">abstract</span> <span class="k">class</span> <span class="nc">AFoodFactory</span> <span class="p">{</span> <span class="p">}</span> <span class="c1">// 割愛</span>
</code></pre></div></div>

<p>Factoryを作ったので、メインプログラムを書きます。ファクトリからオブジェクトを生成することでポリモーフィズムを実現しよりカプセル化がなされました。実態が隠されまくっているので一安心です。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">class</span> <span class="nc">TakeshiAndGyoza</span>
<span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">AHumanFactory</span> <span class="n">humanFactory</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">HumanFactory</span><span class="p">();</span>
        <span class="n">AFoodHeaterFactory</span> <span class="n">foodHeaterFactory</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">FoodHeaterFactory</span><span class="p">();</span>
        <span class="n">AFoodFactory</span> <span class="n">foodFactory</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">FoodFactory</span><span class="p">();</span>

        <span class="kt">var</span> <span class="n">human</span> <span class="p">=</span> <span class="n">humanFactory</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s">"Takeshi"</span><span class="p">);</span>
        <span class="kt">var</span> <span class="n">food</span> <span class="p">=</span> <span class="n">foodFactory</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s">"Gyoza"</span><span class="p">);</span>
        <span class="kt">var</span> <span class="n">foodHeater</span> <span class="p">=</span> <span class="n">foodHeaterFactory</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s">"Microwave"</span><span class="p">);</span>

        <span class="n">human</span><span class="p">.</span><span class="n">Food</span> <span class="p">=</span> <span class="n">food</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">human</span> <span class="k">is</span> <span class="n">IFoodHeaterUser</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="p">(</span><span class="n">IFoodHeaterUser</span><span class="p">)</span><span class="n">human</span><span class="p">.</span><span class="nf">UseFoodHeater</span><span class="p">(</span><span class="n">foodHeater</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>さあ、オブジェクト指向満載で書き上げました。あらゆるパターンにも対応させるために色んな技を駆使したプログラムです。</p>

<p>さて、あなたは、このプログラムに100点満点で何点つけますか？</p>

<h2>
<span id="恩恵がけっこうあるバージョンの採点" class="fragment"></span><a href="#%E6%81%A9%E6%81%B5%E3%81%8C%E3%81%91%E3%81%A3%E3%81%93%E3%81%86%E3%81%82%E3%82%8B%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E3%81%AE%E6%8E%A1%E7%82%B9"><i class="fa fa-link"></i></a>恩恵がけっこうあるバージョン？の採点</h2>

<p>採点はしません。<br>
どこから理解するのをやめましたか？<br>
何かがおかしいと思いませんか？</p>

<p>オブジェクト指向のメリットは柔軟性を最大限持たせられる事です。それに則したプログラムになっているはずです。<br>
なんでこんなに面倒くさいのかと思いませんでしたか？<br>
高々「タケシが持っている冷凍ギョウザを電子レンジに入れたら食べられるギョウザとなって出てくる」プログラムを書きたかっただけなのに。こんな労力を使わないといけないのかと思いませんでしたか？</p>

<p>これがオブジェクト指向の<strong>デメリット</strong>です。<br>
ありとあらゆる方面から変更に耐えうる予測を立て考え、試行錯誤し導いた結果の対価に釣り合わないものが出来上がっているのです。<br>
小規模プログラムにおいて柔軟性の最大化を求めると、その労力に見合わない対価しか得られません。<br>
このプログラムは、その規模に対しオブジェクト指向が行き過ぎてしまったようです。</p>

<p>ちなみに、敢えて途中から理解しにくい説明にしました。<br>
後、プログラム色々間違えている箇所がありますが気にしないでください。</p>

<h2>
<span id="結局オブジェクト指向にメリットはあるのか" class="fragment"></span><a href="#%E7%B5%90%E5%B1%80%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%8C%87%E5%90%91%E3%81%AB%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88%E3%81%AF%E3%81%82%E3%82%8B%E3%81%AE%E3%81%8B"><i class="fa fa-link"></i></a>結局オブジェクト指向にメリットはあるのか</h2>

<p>あります。ただし、<br>
幾度となく修正や変更が重なる事が予め予想される中～大規模プログラムを書く時に最も享受できます。<br>
それらは一晩で出来上がるような代物ではないため、地道に基盤を築いていくためにもオブジェクト指向プログラミングは大変有効です。</p>

<p>比較的小規模である。追加や変更の予定がない。使い捨ての予定である。この場合はメリットはあまりありません。<br>
勉強にはなりますが、労力に見合った成果物は得られません。</p>

<p>そして、行き過ぎたオブジェクト指向プログラミングは禁物です。時間がかかるだけで逆にリファクタリングし辛く柔軟性を失う可能性もあります。<br>
常に注意しなくてはいけないのは、<strong>柔軟性に富んでかつ無駄に時間が奪われないプログラミングをするためにどこまでオブジェクト指向を突き詰めるかを意識し続ける</strong>ことです。</p>

<p>今回の例の場合は、私だったらタケシが筋トレ機能を～あたりを実装できたところで突き詰めるのをやめると思います。それ以上は労力に見合った対価を得られるとは思わなかったので。</p>

<p>慣れてくると、どういうインターフェースを予め定義すれば良いのか直ぐにわかるようになり、そのインターフェースを定義しコーディングしていくと面倒な場面に出くわすのかどうかも直感でわかるようになります。抽象クラスについてもデザインパターンについても同様です。</p>

<p>これが出来て初めて、オブジェクト指向の恩恵がより得られる様になるのではないかと思います。</p>

<h2>
<span id="オブジェクト指向のメリットを享受できるアプローチ" class="fragment"></span><a href="#%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%8C%87%E5%90%91%E3%81%AE%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88%E3%82%92%E4%BA%AB%E5%8F%97%E3%81%A7%E3%81%8D%E3%82%8B%E3%82%A2%E3%83%97%E3%83%AD%E3%83%BC%E3%83%81"><i class="fa fa-link"></i></a>オブジェクト指向のメリットを享受できるアプローチ</h2>

<p>じゃあ結局どうすればいいのかという話になります。<br>
これは環境によって変わりますが、個人開発がメインで設計書を具体的に作成しない私の場合はこうします。</p>

<ol>
<li>何を作成したいのか決める</li>
<li>作成するものから明確にオブジェクト分けする</li>
<li>オブジェクトを抽象化してみる</li>
<li>抽象化したものから機能を抽出する</li>
<li>機能をインターフェースにする</li>
<li>変更が多い個所と分かっている場合はインターフェースのままにする</li>
<li>変更されない、極端に少ないと分かっている場合は抽象クラス、クラスにする</li>
<li>オブジェクトの依存度(独立性)を考える</li>
<li>依存度が多そうな場合はデザインパターンから回避法を適用する</li>
</ol>

<p>上記は一例ですが、普遍的なので私はよくこのやり方をコーディング前にしています。<br>
頭の中で考えるのがとても難しい場合は書きながら修正を加えていきます。</p>

<p>このアプローチを適当にお題を決めて具体的に見てみます。</p>

<ol>
<li>タケシがトースターで焼くパンをサトシに与える</li>
<li>タケシ、トースター、パン、サトシに分ける</li>
<li>タケシとサトシは人間、トースターは食べ物を焼くもの、パンは食べ物に抽象化</li>
<li>トースターは食べ物を焼くという機能がある</li>
<li>食べ物を焼く→IFoodBakerにインターフェース化</li>
<li>トースターに機能を付け加えると判明している場合はIFoodBakerのまま</li>
<li>機能を付け加えないと分かっている場合はFoodBakerという抽象クラス、もしくはToasterというクラスのまま</li>
<li>タケシはパンとトースターに依存、トースターはパンに依存、サトシはパンに依存、パンは依存なし</li>
<li>タケシの依存が多いため、人間が食べ物を焼くものを使うという振る舞いをVisiterパターンに任せる</li>
</ol>

<p>みたいな感じです。結構使えるのではないかと思います。<br>
ちなみにこのアプローチが絶対に正しいとは言い切れません。刻々と状況は変わるので。</p>

<h1>
<span id="まとめ" class="fragment"></span><a href="#%E3%81%BE%E3%81%A8%E3%82%81"><i class="fa fa-link"></i></a>まとめ</h1>

<p>デメリットもいろいろ述べましたが、それでもメリットの方が大きいのは確かです。<br>
なので、ぜひともオブジェクト指向にチャレンジして欲しいです。</p>

<p>後、これだけは言えると思います。<br>
オブジェクト指向プログラミングに正解はありません。<br>
長年オブジェクト指向プログラミングをしていますが、こうするのが一番の正解というのはないです。<br>
なぜなら、どこまで修正や追加がされるのかは予め明確に知ることができないからです。明確にわからないから、どこまで突き詰めればいいのかも明確にはわかりません。<br>
時と場合にもよりますし、環境にもよります。</p>

<p>ですので、最後に書いたプログラムも、分からないという人もいれば、分かりやすいという人もいれば、まだ足りないという人もれば、全然だめという人もいるはずです。正解は明確にはわからないので。</p>

<p>しかし、先ほど述べたようにアプローチ、近道はあると思います。どれだけ知識を持っていて予測がどこまでできるかが勝負です。これは長年の経験でようやく得られます。練習するしかないと思います。</p>

<p>長文にお付き合いいただきありがとうございました。</p>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2Fyoship1639%2Fitems%2F5878bf9d64816e93610b&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2Fyoship1639%2Fitems%2F5878bf9d64816e93610b&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/yoship1639/items/5878bf9d64816e93610b/likers" class="css-1iupg5d">563</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">638</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/5878bf9d64816e93610b/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/yoship1639/items/5878bf9d64816e93610b/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/yoship1639/items/5878bf9d64816e93610b/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/yoship1639/items/5878bf9d64816e93610b/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/yoship1639/items/5878bf9d64816e93610b.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-28c4f99a-a73f-4778-818a-9261460b4f26">{"authorAnalyticsTrackingId":null,"organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-4f786af7-36d8-4c26-a567-7658bbb3c8ff"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-4f786af7-36d8-4c26-a567-7658bbb3c8ff">{}</script>
      
<div id="LoginModal-react-component-0864b51a-d05d-4532-afba-884d72c5ae58"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-0864b51a-d05d-4532-afba-884d72c5ae58">{}</script>
      
<div id="StockModal-react-component-72406608-4ffe-432f-8014-e437dce3547d"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-72406608-4ffe-432f-8014-e437dce3547d">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;XiIpc2YKDsPUm4LD2G8MdMw8LVQsEXFh4/oDUSGJo0HIKyINgvPZyQhtKq/9Cos9jMe34kzSWIn/7aX/MGDIdA==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\n\u003ch1\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\n\u003cp\u003eこんにちは、\u003ca href=\"https://twitter.com/yoship1639\" rel=\"nofollow noopener\" target=\"_blank\"\u003eyoship1639\u003c/a\u003eです。\u003cbr\u003e\n普段はゲームエンジンを用いない個人ゲーム開発を行っております。\u003c/p\u003e\n\n\u003cp\u003e本記事は、\u003cstrong\u003eオブジェクト指向がいまいち理解できない人\u003c/strong\u003e、\u003cstrong\u003eなんとなく理解はしたけどプログラムに落とし込めない人\u003c/strong\u003eを対象に、\u003cbr\u003e\n簡単なプログラムをオブジェクト指向満載で実際に書いて、理解を深めてもらおうと思い記述しています。\u003c/p\u003e\n\n\u003cp\u003eプログラミング言語は普段私がよく使う\u003cstrong\u003eC#\u003c/strong\u003eで記述しますが、オブジェクト指向は言語の壁を越えて利用できる概念ですので、\u003cbr\u003e\n言語の記述ではなく、その記述の持つ意味を昇華させ俯瞰的に見ていただけると、より理解が進むのではないかと思います。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"本記事の背景目的\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9C%AC%E8%A8%98%E4%BA%8B%E3%81%AE%E8%83%8C%E6%99%AF%E7%9B%AE%E7%9A%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e本記事の背景・目的\u003c/h1\u003e\n\n\u003cp\u003eオブジェクト指向に関する記述はとても増えてきました。しかし、一部を除いては理解を妨げる解説をしている記事が多数見受けられます。\u003cbr\u003e\n具体的な用語の説明をならべても、抽象化し過ぎた解説しても、プログラミングに落とし込むことはできません。\u003c/p\u003e\n\n\u003cp\u003e「継承」「カプセル化」「ポリモーフィズム」。オブジェクト指向の３大要素と言われていますが、そんなことより大事な事がオブジェクト指向にはあります。\u003cbr\u003e\n「現実世界を正しく捉える」のがオブジェクト指向を言われていますが、抽象化し過ぎているし現実世界を正しく捉えなければオブジェクト指向を使う意味がないかと言われるとそんなこと全くありません、ですが現実正解を正しく捉える考え方をするとオブジェクト指向プログラミングが容易になるのは正しいと思います。なので7割不正解です。\u003c/p\u003e\n\n\u003cp\u003e大事なのは、オブジェクト指向のそもそもの\u003cstrong\u003e利点をどれだけ理解したうえで、どれだけその利点を具体的にプログラミングに正しく落とし込めるか\u003c/strong\u003eです。\u003c/p\u003e\n\n\u003cp\u003eオブジェクト指向の利点。いくつ具体的に挙げられた上でそれを落とし込めるか。それが出来なければハリボテと変わりません。\u003cbr\u003e\nその利点に気が付くため、そして理解を深めるために、実際に書きながら解説しオブジェクト指向の素晴らしさに気が付いてもらいたいと思います。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"オブジェクト指向のメリット\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%8C%87%E5%90%91%E3%81%AE%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eオブジェクト指向のメリット\u003c/h1\u003e\n\n\u003cp\u003e解説する前に、\u003cstrong\u003e何のためにオブジェクト指向を用いるのか\u003c/strong\u003eを簡単に説明します。\u003cbr\u003e\n私は、オブジェクト指向を使うメリットは大きく4つに大別できると考えています。\u003cbr\u003e\nそれは、\u003cstrong\u003e保守性、汎用性、拡張性、独立性\u003c/strong\u003eの維持・確立です。\u003cbr\u003e\nもっと簡潔に言うと、\u003cstrong\u003e人が理解しやすく、あらゆる変更や追加に対して柔軟に対応できる様にするため\u003c/strong\u003eです。\u003cbr\u003e\n1つずつ簡単にメリットを説明します。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"保守性\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BF%9D%E5%AE%88%E6%80%A7\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e保守性\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003e既に記述されたコードのリファクタリングが容易になる\u003c/li\u003e\n\u003cli\u003e必要なデータ・振る舞いのみを提供出来る\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"汎用性\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%B1%8E%E7%94%A8%E6%80%A7\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e汎用性\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003e既に記述されたコードを修正することなく再利用が容易になる\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"拡張性\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%8B%A1%E5%BC%B5%E6%80%A7\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e拡張性\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003e既に記述されたコードを修正することなく上書き,書き足すことが容易になる\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"独立性\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%8B%AC%E7%AB%8B%E6%80%A7\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e独立性\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003eオブジェクト同士が互いに疎遠な関係となることで、保守、汎用化が容易になる\u003c/li\u003e\n\u003cli\u003e修正や追加を加えた際に他オブジェクトへの影響を最小限に抑えることができる\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eこれらのメリットを享受し、柔軟性を最大限高めることがオブジェクト指向を用いる決定的な理由です。\u003cbr\u003e\nデザインパターンも、上記のメリットをより享受するためのシステムデザインを詳細に区分けしたものとなっています。\u003cbr\u003e\nこれはとても大事な概念ですので、しっかりと胸に刻み込んでください。\u003c/p\u003e\n\n\u003cp\u003eもう一度言います、オブジェクト指向を使うメリット、目的を間違えないでください。\u003cbr\u003e\nカプセル化、継承、ポリモーフィズムは\u003cstrong\u003e手段\u003c/strong\u003eです。目的じゃありません。\u003cbr\u003e\n\u003cstrong\u003e保守性、汎用性、拡張性、独立性を確立させることが目的\u003c/strong\u003eです。\u003c/p\u003e\n\n\u003cp\u003eメリットや機能についてはもっと詳細に解説するべきですが、既にとても良い解説をされている記事がありますので、詳細はそれを参考にしてください。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"https://qiita.com/tutinoco/items/6952b01e5fc38914ec4e\" id=\"reference-5731d3e9e8198869ddf4\"\u003eオブジェクト指向と10年戦ってわかったこと\u003c/a\u003e：素晴らしい記事です。読むことをお勧めします。\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"オブジェクト指向で書く\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%8C%87%E5%90%91%E3%81%A7%E6%9B%B8%E3%81%8F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eオブジェクト指向で書く\u003c/h1\u003e\n\n\u003cp\u003eそれでは、実際にオブジェクト指向プログラミングをしながら解説していきたいと思います。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"書く前に絶対気を付けること\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9B%B8%E3%81%8F%E5%89%8D%E3%81%AB%E7%B5%B6%E5%AF%BE%E6%B0%97%E3%82%92%E4%BB%98%E3%81%91%E3%82%8B%E3%81%93%E3%81%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e書く前に絶対気を付けること\u003c/h2\u003e\n\n\u003cp\u003eまず、一番初めに気を付けなければならない事があります。\u003cbr\u003e\nそれは、\u003cstrong\u003e何を作るのか予めハッキリさせる\u003c/strong\u003e事です。\u003cbr\u003e\nなぜかというと、\u003cstrong\u003e作るものを決めなければオブジェクト指向プログラミングが破綻する\u003c/strong\u003e(柔軟性が喪失される)からです。\u003c/p\u003e\n\n\u003cp\u003eオブジェクト指向の基本は、オブジェクト同士がメッセージを送り合うことです。\u003cbr\u003e\n何を作るのか不明であるという事は、\u003cstrong\u003eオブジェクトがメッセージを送れない\u003c/strong\u003e、もしくは\u003cstrong\u003eオブジェクトが意味不明のメッセージを送る\u003c/strong\u003e事と同じです。\u003c/p\u003e\n\n\u003cp\u003eもの凄くダメな例を紹介します。\u003cstrong\u003e考えなしに後から継ぎ足していく・変更を加えていくパターン\u003c/strong\u003eです。\u003cbr\u003e\n例えば、何も考えずAさんとBさんの二人のクラスを作成したとします。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eA\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eB\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e何を作るのかわからないけど、AさんとBさんは\u003cstrong\u003e人間だから\u003c/strong\u003e身長と体重を実装しておきます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eA\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eHeight\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eWeight\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eB\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e \n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eHeight\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eWeight\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e    \n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e後で、AさんがBさんに挨拶しなければならない事が判明しました。すると、AさんはBさんに「挨拶する」というメッセージを送らなければならないので、次のように実装しました。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eA\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eHeight\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eWeight\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eB\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e \n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eHeight\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eWeight\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eGreeting\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eA\u003c/span\u003e \u003cspan class=\"n\"\u003eperson\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// TODO: 挨拶の処理\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e   \n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eさらに、Bさんは挨拶をし返さないといけない事が判明。すると、\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eA\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eHeight\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eWeight\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eReceiveGreeting\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eB\u003c/span\u003e \u003cspan class=\"n\"\u003eperson\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003emes\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// TODO: 挨拶返し処理 \u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eB\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e \n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eHeight\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eWeight\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eMessage\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eGreeting\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eA\u003c/span\u003e \u003cspan class=\"n\"\u003eperson\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003emes\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// TODO: 挨拶処理\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eperson\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eReceiveGreeting\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eMessage\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e   \n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eBさんはAさんの挨拶に対して返す言葉を実装しなければならなくなり、新しくMessageを実装しました。\u003cbr\u003e\n見た感じ、身長と体重がかぶっているので、それを抽出し抽象クラスにしようと思います。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eabstract\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eHuman\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eHeight\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eWeight\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eA\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eHuman\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eReceiveGreeting\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eB\u003c/span\u003e \u003cspan class=\"n\"\u003eperson\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003emes\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// TODO: 挨拶返し処理 \u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eB\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eHuman\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e \n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003eMessage\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eGreeting\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eA\u003c/span\u003e \u003cspan class=\"n\"\u003eperson\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003emes\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// TODO: 挨拶処理\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eperson\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eReceiveGreeting\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eMessage\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e   \n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eカオスになってきましたね。\u003cbr\u003e\nもし、次に新たな新鋭Cさんが登場し挨拶しなければならなくなったらどうしますか？\u003cbr\u003e\nもし、Aさんが実は軟体浮動生物で身長の概念が無かったらどうしますか？\u003cbr\u003e\nもし、Bさんはのっぺら棒でしゃべれなかったとしたらどうしますか？\u003c/p\u003e\n\n\u003cp\u003eこの作り方を続けると、見た目はオブジェクト指向っぽいですが、その恩恵はゼロであるといっても過言ではありません。\u003cbr\u003e\n恩恵がない具体的な理由は以下です。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e使いもしない身長や体重を持つという保守性の欠如\u003c/li\u003e\n\u003cli\u003eAがBを知らないと挨拶ができないという汎用性・独立性の欠如\u003c/li\u003e\n\u003cli\u003eBがAを知らないと挨拶返しができないという汎用性・独立性の欠如\u003c/li\u003e\n\u003cli\u003e新しい概念の導入に対する汎用性・拡張性の欠如\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e何を作るのかハッキリさせないで後から継ぎ足すというのは、上記を見てわかる通り、破滅をもたらすだけで、オブジェクト指向の恩恵どころか、ただの難解なプログラムに化けるだけとなってしまいます。\u003c/p\u003e\n\n\u003cp\u003e何度も言います、\u003cstrong\u003e何を作るのかハッキリさせてからプログラミングしなければ、オブジェクト指向の恩恵を得られません\u003c/strong\u003e。\u003cbr\u003e\n言い換えると、\u003cstrong\u003e設計がとても重要である\u003c/strong\u003eと言えます。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"何を作るか決める\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BD%95%E3%82%92%E4%BD%9C%E3%82%8B%E3%81%8B%E6%B1%BA%E3%82%81%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e何を作るか決める\u003c/h2\u003e\n\n\u003cp\u003e何を作るのかが大事である事を理解した所で、さっそく何を作るかを決めます。\u003cbr\u003e\n簡単な例で解説しますので、今回は「\u003cstrong\u003eタケシが持っている冷凍ギョウザを電子レンジに入れたら食べられるギョウザとなって出てくる\u003c/strong\u003e」という例で解説したいと思います。\u003c/p\u003e\n\n\u003cp\u003eさて、何をしたいのかをはっきりさせると、どうすればいいのかが見えてきます。\u003cbr\u003e\nタケシは冷凍餃子を持っていますね。\u003cbr\u003e\nタケシは電子レンジを操作しますね。\u003cbr\u003e\n電子レンジは冷凍ギョウザを受け取り、ギョウザにして返しますね。\u003cbr\u003e\nギョウザは冷凍されているかという状態を持ちますね。\u003cbr\u003e\n上記のように、何を作るのか決めて初めて、オブジェクトがどんなデータを持ちどんな振る舞いをするのかが見えてきます。\u003c/p\u003e\n\n\u003cp\u003eそれでは、コードに落とし込んでいきます。\u003cbr\u003e\nこれからコーディングするのは、オブジェクト指向の恩恵がほとんど得られないバージョンです。\u003cbr\u003e\nこれは、順に恩恵が得られるバージョンに変化させるために敢えてこの状態からスタートします。\u003cbr\u003e\nくれぐれも、恩恵がほとんどないバージョンを正しいコーディングだと思わないでください。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"恩恵がほとんどないバージョン\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%81%A9%E6%81%B5%E3%81%8C%E3%81%BB%E3%81%A8%E3%82%93%E3%81%A9%E3%81%AA%E3%81%84%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e恩恵がほとんどないバージョン\u003c/h2\u003e\n\n\u003cp\u003eまず、登場人物を確認します。「タケシ」「電子レンジ」「冷凍ギョウザ」「ギョウザ」ですね。\u003cbr\u003e\nまずは、純粋に登場人物をクラス化してみましょう。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eTakeshi\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eMicrowave\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eGyoza\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eFrozenGyoza\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eしかし、冷凍ギョウザとギョウザの違いは、温められているかどうかだけです。なので\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eTakeshi\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eMicrowave\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eGyoza\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003eFrozen\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこの様にFrozenプロパティを実装し、冷凍されているかどうかを定義します。\u003c/p\u003e\n\n\u003cp\u003e次に、電子レンジは温める機能を持っているので、Heatメソッドを定義します。\u003cbr\u003e\nHeatメソッドは、冷凍ギョウザをギョウザに変化させるので、\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eTakeshi\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eMicrowave\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eGyoza\u003c/span\u003e \u003cspan class=\"nf\"\u003eHeat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eGyoza\u003c/span\u003e \u003cspan class=\"n\"\u003egyoza\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003egyoza\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFrozen\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003egyoza\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eGyoza\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003eFrozen\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eFrozenをfalseにし、温められた状態にして返します。\u003c/p\u003e\n\n\u003cp\u003eタケシは冷凍ギョウザを持っているので、プロパティに追加します。\u003cbr\u003e\nタケシは電子レンジを\u003cstrong\u003e操作\u003c/strong\u003eするので、メソッドとして実装します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eTakeshi\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eGyoza\u003c/span\u003e \u003cspan class=\"n\"\u003eGyoza\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eUseMicrowave\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eMicrowave\u003c/span\u003e \u003cspan class=\"n\"\u003emicrowave\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003emicrowave\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eHeat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eGyoza\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eMicrowave\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eGyoza\u003c/span\u003e \u003cspan class=\"nf\"\u003eHeat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eGyoza\u003c/span\u003e \u003cspan class=\"n\"\u003egyoza\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003egyoza\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFrozen\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003egyoza\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eGyoza\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003eFrozen\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eそして、これらを操作するメインプログラムを書きます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eTakeshiAndGyoza\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003etakeshi\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eTakeshi\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// タケシ\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003egyoza\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eGyoza\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"n\"\u003eFrozen\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e \u003cspan class=\"p\"\u003e};\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 冷凍餃子\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003emicrowave\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eMicrowave\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 電子レンジ\u003c/span\u003e\n\n        \u003cspan class=\"n\"\u003etakeshi\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eGyoza\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003egyoza\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// ギョウザを持っている\u003c/span\u003e\n\n        \u003cspan class=\"n\"\u003etakeshi\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eUseMicrowave\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emicrowave\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"c1\"\u003e// タケシが電子レンジを使う\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e出来ました。「タケシが持っている冷凍ギョウザを電子レンジに入れたら食べられるギョウザとなって出てくる」プログラムです。\u003cbr\u003e\n見た感じオブジェクト指向になっているので、問題なさそうに見えます。\u003c/p\u003e\n\n\u003cp\u003eさて、あなたは、このプログラムに100点満点で何点つけますか？\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"恩恵がほとんどないバージョンの採点\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%81%A9%E6%81%B5%E3%81%8C%E3%81%BB%E3%81%A8%E3%82%93%E3%81%A9%E3%81%AA%E3%81%84%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E3%81%AE%E6%8E%A1%E7%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e恩恵がほとんどないバージョンの採点\u003c/h2\u003e\n\n\u003cp\u003e私は5点をつけます。このプログラムで5点は良い方です。\u003cbr\u003e\n言われた通りの機能を実装するという意味では100点です。ちゃんと実装されています。しかし、今後の展開を加味すると全くダメです。\u003cbr\u003e\nオブジェクト指向のメリットを思い出してください。\u003cbr\u003e\n保守性、汎用性、拡張性、独立性をこのプログラムが持っているのか、見ていきます。\u003c/p\u003e\n\n\u003cp\u003eまず、保守性です。\u003cbr\u003e\nオブジェクト毎に分けられていて、リファクタリングする際にはそこまで問題なさそうです。ギョウザに温められた温度を付け加える場合でも、電子レンジに新機能を追加する場合でも、対応はできそうです。しかし、タケシのギョウザの状態を電子レンジ以外でも自由に変更できてしまいますね。なので5点付けます。\u003c/p\u003e\n\n\u003cp\u003e汎用性です。\u003cbr\u003e\n全くありません。タケシではなく、カスミが電子レンジを使う場合は新たにカスミをタケシと同じ様に定義しなければなりません。ギョウザではなく肉まんだった場合電子レンジとタケシの記述を変更しなければなりません。電子レンジで温められるのはギョウザだけというのは如何なものでしょうか。0点です。\u003c/p\u003e\n\n\u003cp\u003e拡張性です。\u003cbr\u003e\n一見ありそうに見えますが、ありません。肉まんに対応する場合タケシに肉まんプロパティを追加すればいいだけですが、ピザまんを追加する場合もシュウマイを追加する場合も同じく記述する羽目になります。タケシの手が持ちません。0点です。\u003c/p\u003e\n\n\u003cp\u003e独立性です。\u003cbr\u003e\n全くありません。タケシはギョウザと電子レンジの存在を知らないと確立できません。電子レンジはギョウザを知らないと存在できません。互いが互いを知らないといけない状態になっています。唯一まともなのはギョウザだけです。しかし0点です。\u003c/p\u003e\n\n\u003cp\u003e柔軟性を持たないと更なる問題に直面します。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eタケシでもカスミでもなくサトシだったら？オーキドだったら？\u003c/li\u003e\n\u003cli\u003e電子レンジじゃなくオーブンレンジだったら？ガスコンロだったら？\u003c/li\u003e\n\u003cli\u003e肉まん、ピザまん、シュウマイ、コロッケ、お魚、hogehoge、etc・・・?\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e何を作るのか決めただけでは、対象が変更される可能性に対応できません。\u003c/p\u003e\n\n\u003cp\u003e先ほどのプログラムは柔軟性がほとんどありません。なので、追加や修正に一苦労です。\u003cbr\u003e\nなので、先ほどのプログラムの柔軟性を上げ、対象が変更される場合でも修正に柔軟に耐えうる形に改良します。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"恩恵がそこそこあるバージョン\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%81%A9%E6%81%B5%E3%81%8C%E3%81%9D%E3%81%93%E3%81%9D%E3%81%93%E3%81%82%E3%82%8B%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e恩恵がそこそこあるバージョン\u003c/h2\u003e\n\n\u003cp\u003e改良と言いつつ、0から記述します。手を加えるのも億劫なので。。。\u003c/p\u003e\n\n\u003cp\u003eまず、登場人物のおさらいです。「タケシ」「電子レンジ」「冷凍ギョウザ」「ギョウザ」です。\u003cbr\u003e\nお題はこれです。「タケシが持っている冷凍ギョウザを電子レンジに入れたら食べられるギョウザとなって出てくる」\u003c/p\u003e\n\n\u003cp\u003eさて、前回の採点を踏まえたら、以下の予想ができました。\u003cbr\u003e\nカスミだったら？サトシだったら？オーキドだったら？\u003cbr\u003e\nオーブンレンジだったら？ガスコンロだったら？\u003cbr\u003e\n肉まん、ピザまん、シュウマイ、コロッケ、お魚、hogehoge、etc・・・?\u003c/p\u003e\n\n\u003cp\u003eまず、タケシじゃなかった場合を考えます。カスミ、サトシが電子レンジを使う場合、タケシ、カスミ、サトシが共通して行うのは「電子レンジを使う」です。なので、「\u003cstrong\u003e電子レンジを使う人\u003c/strong\u003e」として抽象化させ、HumanUsingMicrowaveという抽象クラスを作成します。\u003cbr\u003e\n\u003cstrong\u003e名前付け\u003c/strong\u003eはしっかりして下さい。抽象クラスの名前はHumanでいいでしょと思った人は要注意です。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e// 電子レンジを使う人\u003c/span\u003e\n\u003cspan class=\"k\"\u003eabstract\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eHumanUsingMicrowave\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eGyoza\u003c/span\u003e \u003cspan class=\"n\"\u003eGyoza\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eGyoza\u003c/span\u003e \u003cspan class=\"nf\"\u003eUseMicrowave\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eMicrowave\u003c/span\u003e \u003cspan class=\"n\"\u003emicrowave\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003emicrowave\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eHeat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eGyoza\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eしかし、これではオーブンレンジだったら？肉まんだったら？という問題に対応できていません。\u003cbr\u003e\nなので、タケシの場合と同じ様に「電子レンジ」を「\u003cstrong\u003e食べ物を温めるもの\u003c/strong\u003e」に昇華させます。\u003cbr\u003e\nギョウザも同様に「ギョウザ」ではなく「\u003cstrong\u003e食べ物\u003c/strong\u003e」に昇華させます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e// 食べ物\u003c/span\u003e\n\u003cspan class=\"k\"\u003eabstract\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eFood\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003eFrozen\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// 食べ物を温めるもの\u003c/span\u003e\n\u003cspan class=\"k\"\u003eabstract\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eFoodHeater\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eFood\u003c/span\u003e \u003cspan class=\"nf\"\u003eHeat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eFood\u003c/span\u003e \u003cspan class=\"n\"\u003efood\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003efood\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFrozen\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003efood\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこれらを加味すると、「電子レンジを使う人」は「\u003cstrong\u003e食べ物を温めるものを使う人\u003c/strong\u003e」となります。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e// 食べ物を温めるものを使う人\u003c/span\u003e\n\u003cspan class=\"k\"\u003eabstract\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eHumanUsingFoodHeater\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eFood\u003c/span\u003e \u003cspan class=\"n\"\u003eFood\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eFood\u003c/span\u003e \u003cspan class=\"nf\"\u003eUseFoodHeater\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eFoodHeater\u003c/span\u003e \u003cspan class=\"n\"\u003efoodHeater\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003efoodHeater\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eHeat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eFood\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこれで、「タケシが持っている冷凍ギョウザを電子レンジに入れたら食べられるギョウザとなって出てくる」は\u003cbr\u003e\n「\u003cstrong\u003e食べ物を温めるものを使う人が持っている食べ物を食べ物を温めるものに入れたら食べられる食べ物となって出てくる\u003c/strong\u003e」に昇華しました。言っていることは無茶苦茶ですが、オブジェクト指向的にはウェルカムなお題です。\u003c/p\u003e\n\n\u003cp\u003e抽象クラスを定義したところで、実際にタケシ、電子レンジ、ギョウザを定義します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eTakeshi\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eHumanUsingFoodHeater\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eMicrowave\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eFoodHeater\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eGyoza\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eFreezableFood\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこれで、タケシがカスミになっても、ギョウザが肉まんになっても、サブクラスで定義すれば良いだけになりました。\u003c/p\u003e\n\n\u003cp\u003eメインプログラムを記述します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eTakeshiAndGyoza\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003etakeshi\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eTakeshi\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// タケシ\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003egyoza\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eGyoza\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"n\"\u003eFrozen\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e \u003cspan class=\"p\"\u003e};\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 冷凍餃子\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003emicrowave\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eMicrowave\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 電子レンジ\u003c/span\u003e\n\n        \u003cspan class=\"n\"\u003etakeshi\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFood\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003egyoza\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// ギョウザを持っている\u003c/span\u003e\n\n        \u003cspan class=\"n\"\u003etakeshi\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eUseFoodHeater\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emicrowave\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"c1\"\u003e// タケシが電子レンジを使う\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eメインプログラムは前回のプログラムとほとんど変わっていないように見えますが、抽象クラスをばっちり定義し人や食べ物の変化に柔軟に対応できる様になったので大丈夫でしょう。\u003c/p\u003e\n\n\u003cp\u003eさて、あなたは、このプログラムに100点満点で何点つけますか？\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"恩恵がそこそこあるバージョンの採点\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%81%A9%E6%81%B5%E3%81%8C%E3%81%9D%E3%81%93%E3%81%9D%E3%81%93%E3%81%82%E3%82%8B%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E3%81%AE%E6%8E%A1%E7%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e恩恵がそこそこあるバージョンの採点\u003c/h2\u003e\n\n\u003cp\u003e私は30点をつけます。\u003cbr\u003e\n例によって、オブジェクト指向のメリットである保守性、汎用性、拡張性、独立性をこのプログラムが持っているのか、見ていきます。\u003c/p\u003e\n\n\u003cp\u003eまず、保守性です。\u003cbr\u003e\n前回同様、オブジェクト毎に分けられていて、リファクタリングする際にはそこまで問題なさそうです。食べ物に温められた温度を付け加える場合でも、電子レンジに新機能を追加する場合でも、対応はできそうです。しかし、食べ物の状態を電子レンジ以外でも自由に変更できる点は今だ改善されていません。更に「食べ物」という抽象クラスの名前も微妙です。ここは本来名は体を表すように「冷凍可能な食べ物」となっていなくては意味が通じません。なので5点付けます。\u003c/p\u003e\n\n\u003cp\u003e汎用性です。\u003cbr\u003e\n実はあまりありません。カスミになっても肉まんになっても対応できそうなのに？と思うかもしれませんが、それはこのプログラム上だけの話。人や食べ物の変化に対応できることだけが汎用化ではありません。食べ物の数が変わったらどうするのか、「食べ物を温めるものを使う人」であるタケシを他のプログラムで一体どう扱えばいいのか、、、5点です。\u003c/p\u003e\n\n\u003cp\u003e拡張性です。\u003cbr\u003e\n拡張する場合は容易そうです。既に抽象クラスを定義しているので、タケシだけに筋トレという機能を付けても他のオブジェクトへの影響はあまりなさそうです。15点です。\u003c/p\u003e\n\n\u003cp\u003e独立性です。\u003cbr\u003e\nこちらも実はほとんどありません。抽象クラスというのは思った以上に独立性を確立するものであるとは言えません。「食べ物を温めるものを使う人」「食べ物を温めるもの」を知らないと扱えないのですから。さらにメインプログラムを見てみると「タケシ」「電子レンジ」「ギョウザ」という具体的に具象化されたオブジェクトが散見されています。しかし最初のプログラムよりかはましになってはいます。5点です。\u003c/p\u003e\n\n\u003cp\u003eこの30点を低いと思う方もいれば高いと思う方もいると思います。自分の置かれている境遇や知識量によって評価は変わってくるので。\u003cbr\u003e\n私は、まだ改良の余地があると知っているのでこの位の点数になっています。\u003c/p\u003e\n\n\u003cp\u003e今回のプログラムは柔軟であるとはまだ言えません。例えば次の追加項目があったらどうしますか？\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eタケシとサトシは筋トレができ、カスミは電子レンジを使えて、サトシは電子レンジを使えない\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eここで、「食べ物を温めるものを使う人」である抽象クラスをスーパークラスにしたことを後悔します。\u003cbr\u003e\nHumanUsingFoodHeaterをベースにサブクラスとしてサトシを定義したいところなのに、それが絶対にできないというジレンマを抱えなければならないのですから。\u003c/p\u003e\n\n\u003cp\u003eしょうがないからHumanUsingFoodHeaterのスーパークラスとしてHumanを定義し、サトシはそっちのサブクラスにする事で解決しよう。もしさらに追加されることがあったら、更に分岐させて解決しよう。。。そして、これを繰り返すうちに何がベースなのか、正しい機能分けが出来ているのか、分からなくなっていきます。そしていずれ現れるひし形継承、多重継承。これが抽象クラスしか扱えない場合の泣きの終着点です。\u003c/p\u003e\n\n\u003cp\u003eでは、いったいどうすればいいのか。\u003cbr\u003e\n先ほどのプログラムを更にオブジェクト指向の恩恵が受けられる様に改良していきます。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"恩恵がけっこうあるバージョン\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%81%A9%E6%81%B5%E3%81%8C%E3%81%91%E3%81%A3%E3%81%93%E3%81%86%E3%81%82%E3%82%8B%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e恩恵がけっこうあるバージョン？\u003c/h2\u003e\n\n\u003cp\u003e0から書き直します。さて、抽象クラスでは改良、機能追加に限界があることがわかってきました。\u003cbr\u003e\n度重なる変更や予想もできない変更点が現れた時に、苦肉の対応しかできないのです。\u003c/p\u003e\n\n\u003cp\u003eそこで登場するのが「インターフェース」です。オブジェクト指向の終着点と言っても過言ではないと思います。\u003cbr\u003e\nインターフェースはオブジェクトが持つ\u003cstrong\u003e機能\u003c/strong\u003eを表します。\u003cbr\u003e\nこれが正しく扱えて、ようやくオブジェクト指向ユーザの仲間入りです。\u003c/p\u003e\n\n\u003cp\u003e登場人物のおさらいです。「タケシ」「電子レンジ」「冷凍ギョウザ」「ギョウザ」です。\u003cbr\u003e\nお題はこれです。「タケシが持っている冷凍ギョウザを電子レンジに入れたら食べられるギョウザとなって出てくる」\u003c/p\u003e\n\n\u003cp\u003e先ほどのプログラムで、「タケシ」を「食べ物を温めるものを使う人」。「電子レンジ」を「食べ物を温めるもの」。「ギョウザ」を「食べ物」と抽象化させ抽象クラスとして考えました。\u003c/p\u003e\n\n\u003cp\u003eしかし、度重なる機能追加、修正に耐えられません。\u003cbr\u003e\nここで、抽象化された「食べ物を温めるものを使う人」から機能のみを抽出することにしました。\u003cbr\u003e\nつまり「人間」と「食べ物を温めるものを使う」という機能に分けるという事です。\u003c/p\u003e\n\n\u003cp\u003eこの「食べ物を温めるものを使う」がインターフェースです。コードにすると\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003einterface\u003c/span\u003e \u003cspan class=\"nc\"\u003eIFoodHeaterUser\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eFood\u003c/span\u003e \u003cspan class=\"nf\"\u003eUseFoodHeater\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eFoodHeater\u003c/span\u003e \u003cspan class=\"n\"\u003efoodHeater\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eabstract\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eHuman\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eFood\u003c/span\u003e \u003cspan class=\"n\"\u003eFood\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eここで大事なこと、\u003cstrong\u003eHumanにIFoodHeaterUserを実装させません\u003c/strong\u003e。実装させるとHumanUsingFoodHeaterと同値となってしまいます。\u003cbr\u003e\nではどこで実装するのか。タケシです。タケシは「人間」であり「食べ物を温めるものを使う」機能を有します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eTakeshi\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eHuman\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eIFoodHeaterUser\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eFood\u003c/span\u003e \u003cspan class=\"nf\"\u003eUseFoodHeater\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eFoodHeater\u003c/span\u003e \u003cspan class=\"n\"\u003efoodHeater\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003efoodHeater\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eHeat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eFood\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eここで先ほどの追加項目「タケシとサトシは筋トレができ、カスミは電子レンジを使えて、サトシは電子レンジを使えない」を実装してみます。\u003cbr\u003e\n筋トレができるというのは「筋トレする」という機能になりますね。これはIMuscleTrainerというインターフェースになります。\u003c/p\u003e\n\n\u003cp\u003eそれぞれの特徴を並べるとこうなります。\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align: center\"\u003e\u003c/th\u003e\n\u003cth style=\"text-align: center\"\u003eHuman\u003c/th\u003e\n\u003cth style=\"text-align: center\"\u003eIFoodHeaterUser\u003c/th\u003e\n\u003cth style=\"text-align: center\"\u003eIMuscleTrainer\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eTakeshi\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e〇\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e〇\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e〇\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eKasumi\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e〇\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e〇\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e×\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eSatoshi\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e〇\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e×\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e〇\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003eこの様な場合でもインタフェースを使えば即座に対応可能です。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003einterface\u003c/span\u003e \u003cspan class=\"nc\"\u003eIMuscleTrainer\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eMuscleTraining\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// 温め、筋トレ可能のタケシ\u003c/span\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eTakeshi\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eHuman\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eIFoodHeaterUser\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eIMuscleTrainer\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eFood\u003c/span\u003e \u003cspan class=\"nf\"\u003eUseFoodHeater\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eFoodHeater\u003c/span\u003e \u003cspan class=\"n\"\u003efoodHeater\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003efoodHeater\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eHeat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eFood\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eMuscleTraining\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"c1\"\u003e// TODO: 筋トレ }\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// 温め可能のカスミ\u003c/span\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eKasumi\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eHuman\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eIFoodHeaterUser\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eFood\u003c/span\u003e \u003cspan class=\"nf\"\u003eUseFoodHeater\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eFoodHeater\u003c/span\u003e \u003cspan class=\"n\"\u003efoodHeater\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003efoodHeater\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eHeat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eFood\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// 筋トレ可能のサトシ\u003c/span\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eSatoshi\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eHuman\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eIMuscleTrainer\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eMuscleTraining\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"c1\"\u003e// TODO: 筋トレ }\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eもし抽象クラスで解決しようと考えた場合、継承だらけでカオスなことになるのは目に見えています。\u003cbr\u003e\nインターフェースは柔軟性に非常に優れているのです。\u003cbr\u003e\nもし、別の機能追加が来ても、インターフェースを実装すればいいだけなのですから。\u003cbr\u003e\nもしタケシが筋トレ不可能になったら、IMuscleTrainerを除けばいいだけなのですから。\u003c/p\u003e\n\n\u003cp\u003e次に「電子レンジ」を考えます。「食べ物を温めるもの」として先ほどは捉えました。\u003cbr\u003e\nこれは「もの」と「食べ物を温める」機能に分けられます。しかし、「もの」はあまりにも漠然としていますしオブジェクトそのものを指します。なので、「もの」という抽象クラスは当然作らず、「食べ物を温める」というインターフェースのみを定義します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003einterface\u003c/span\u003e \u003cspan class=\"nc\"\u003eIFoodHeater\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eFood\u003c/span\u003e \u003cspan class=\"nf\"\u003eHeat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eFood\u003c/span\u003e \u003cspan class=\"n\"\u003efood\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eMicrowave\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eIFoodHeater\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eFood\u003c/span\u003e \u003cspan class=\"nf\"\u003eHeat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eFood\u003c/span\u003e \u003cspan class=\"n\"\u003efood\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003efood\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFrozen\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003efood\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこれで、不慮の追加修正が来ても即座に対応できそうです。\u003c/p\u003e\n\n\u003cp\u003e「ギョウザ」です。「食べ物」と定義しましたが「冷凍可能な食べ物」が意味的に正しいと先ほど指摘しました。\u003cbr\u003e\nこの「冷凍可能な食べ物」は「食べ物」と「冷凍可能」という機能に分けられます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003einterface\u003c/span\u003e \u003cspan class=\"nc\"\u003eIFreezable\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003eFrozen\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eabstract\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eFood\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eGyoza\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eFood\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eIFreezable\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003eFrozen\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eよくある間違いが、「冷凍可能な食べ物」もしくは「食べ物」をインターフェースで定義することです。このような間違いは次のように見るとどっちが正しいのかわかります。\u003cbr\u003e\n「冷凍可能な食べ物」は「もの」なのか「機能」なのかです。「機能」だったらインターフェースです。\u003cbr\u003e\n言うまでもなく、「もの」ですのでこれはインターフェースではありません。\u003cbr\u003e\n「冷凍可能」は「機能」なのでインターフェースです。\u003cbr\u003e\nここがよく言われる「Is-a」「Has-a」の部分ですね。\u003c/p\u003e\n\n\u003cp\u003eここで間違えるとどうなるかというと、オブジェクト1つは2つのオブジェクトであるという状態になります。説明するまでもなく理解不能ですね。\u003c/p\u003e\n\n\u003cp\u003e「ギョウザ」を修正したので、「食べ物を温める」も「冷凍可能を解凍」に修正します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e// 冷凍可能なものを解凍する機能\u003c/span\u003e\n\u003cspan class=\"k\"\u003einterface\u003c/span\u003e \u003cspan class=\"nc\"\u003eIThawFrozen\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eIFreezable\u003c/span\u003e \u003cspan class=\"nf\"\u003eHeat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eIFreezable\u003c/span\u003e \u003cspan class=\"n\"\u003efreezable\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// 冷凍可能なものを解凍する機能をもつ電子レンジ\u003c/span\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eMicrowave\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eIThawFrozen\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eIFreezable\u003c/span\u003e \u003cspan class=\"nf\"\u003eHeat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eIFreezable\u003c/span\u003e \u003cspan class=\"n\"\u003efreezable\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003efreezable\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFrozen\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003efreezable\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eまだ問題があります。冷凍可能なものの状態を電子レンジ以外で自由に変更可能である点です。これは、IFreezableはIThawFrozenでないと修正できない様にすれば良いような気がします。修正すると\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003einterface\u003c/span\u003e \u003cspan class=\"nc\"\u003eIFreezable\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003eFrozen\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eThaw\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eIThawFrozen\u003c/span\u003e \u003cspan class=\"n\"\u003ethawFrozen\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eabstract\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eFood\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eGyoza\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eFood\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eIFreezable\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003eFrozen\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003einternal\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eThaw\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eIThawFrozen\u003c/span\u003e \u003cspan class=\"n\"\u003ethawFrozen\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ethawFrozen\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eHeat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eFrozenのセッターをprivateにしてしまうとMicrowaveのHeatで変更不可になってしまうので同一アセンブリ内を修正可能にするためにinternalとして定義します。\u003c/p\u003e\n\n\u003cp\u003eこれでOKと思いきや、MicrowaveのHeatでFrozenの状態を変更できません。それもそのはず、IFreezableにセッターは存在しないのです。だけど冷凍可能なものの状態を電子レンジ以外で自由に変更可能なのはどうすれば。。。\u003c/p\u003e\n\n\u003cp\u003e必殺技を使います。protected internal interfaceです。Microwaveの中でIFreezableを定義することでそれを実装するGyozaは自身のFrozenプロパティの値を自身とMicrowave以外のオブジェクトからアクセス不可となり明確なアクセス権をMicrowaveだけが持てる様になります。IFreezableがThawを持つ必要もなくなりすっきりしました。保守性も確保できています。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e// 冷凍可能なものを解凍する機能\u003c/span\u003e\n\u003cspan class=\"k\"\u003einterface\u003c/span\u003e \u003cspan class=\"nc\"\u003eIThawFrozen\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eIFreezable\u003c/span\u003e \u003cspan class=\"nf\"\u003eHeat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eIFreezable\u003c/span\u003e \u003cspan class=\"n\"\u003efreezable\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// 冷凍可能なものを解凍する機能をもつ電子レンジ\u003c/span\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eMicrowave\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eIThawFrozen\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eIFreezable\u003c/span\u003e \u003cspan class=\"nf\"\u003eHeat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eIFreezable\u003c/span\u003e \u003cspan class=\"n\"\u003efreezable\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003efreezable\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFrozen\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003efreezable\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// 冷凍可能である機能\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprotected\u003c/span\u003e \u003cspan class=\"k\"\u003einternal\u003c/span\u003e \u003cspan class=\"k\"\u003einterface\u003c/span\u003e \u003cspan class=\"nc\"\u003eIFreezable\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003eFrozen\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eabstract\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eFood\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eGyoza\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eFood\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eMicrowave\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eIFreezable\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003eFrozen\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eIFreezableに対してHeatするようになったのでタケシの実装も変わります。例外処理は割愛します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eTakeshi\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eHuman\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eIFoodHeaterUser\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eFood\u003c/span\u003e \u003cspan class=\"nf\"\u003eUseFoodHeater\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eFoodHeater\u003c/span\u003e \u003cspan class=\"n\"\u003efoodHeater\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003efoodHeater\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eHeat\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"n\"\u003eIFreezable\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eFood\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e最後にメインプログラムですが、メインプログラムが「タケシ」「電子レンジ」「ギョウザ」の実態を知らなくてはならないのは如何なものかと思い立ち、Factoryパターンにて生成するという手法を取ることにしました。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eabstract\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eAHumanFactory\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eabstract\u003c/span\u003e \u003cspan class=\"n\"\u003eHuman\u003c/span\u003e \u003cspan class=\"nf\"\u003eCreate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e \n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eHumanFactory\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eAHumanFactory\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eDictionary\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eType\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ehumans\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eDictionary\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eType\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Takeshi\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003etypeof\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eTakeshi\u003c/span\u003e\u003cspan class=\"p\"\u003e)},\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Kasumi\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003etypeof\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eKasumi\u003c/span\u003e\u003cspan class=\"p\"\u003e)},\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Satoshi\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003etypeof\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eSatoshi\u003c/span\u003e\u003cspan class=\"p\"\u003e)},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"n\"\u003eHuman\u003c/span\u003e \u003cspan class=\"nf\"\u003eCreate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eType\u003c/span\u003e \u003cspan class=\"n\"\u003etype\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ehumans\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eTryGetValue\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eout\u003c/span\u003e \u003cspan class=\"n\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eHuman\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eActivator\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCreateInstance\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eabstract\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eAFoodHeaterFactory\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 割愛\u003c/span\u003e\n\u003cspan class=\"k\"\u003eabstract\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eAFoodFactory\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 割愛\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eFactoryを作ったので、メインプログラムを書きます。ファクトリからオブジェクトを生成することでポリモーフィズムを実現しよりカプセル化がなされました。実態が隠されまくっているので一安心です。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eTakeshiAndGyoza\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eAHumanFactory\u003c/span\u003e \u003cspan class=\"n\"\u003ehumanFactory\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eHumanFactory\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eAFoodHeaterFactory\u003c/span\u003e \u003cspan class=\"n\"\u003efoodHeaterFactory\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eFoodHeaterFactory\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eAFoodFactory\u003c/span\u003e \u003cspan class=\"n\"\u003efoodFactory\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eFoodFactory\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n        \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003ehuman\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ehumanFactory\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCreate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Takeshi\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003efood\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003efoodFactory\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCreate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Gyoza\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003efoodHeater\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003efoodHeaterFactory\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCreate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Microwave\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n        \u003cspan class=\"n\"\u003ehuman\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFood\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003efood\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ehuman\u003c/span\u003e \u003cspan class=\"k\"\u003eis\u003c/span\u003e \u003cspan class=\"n\"\u003eIFoodHeaterUser\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eIFoodHeaterUser\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003ehuman\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eUseFoodHeater\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efoodHeater\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eさあ、オブジェクト指向満載で書き上げました。あらゆるパターンにも対応させるために色んな技を駆使したプログラムです。\u003c/p\u003e\n\n\u003cp\u003eさて、あなたは、このプログラムに100点満点で何点つけますか？\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"恩恵がけっこうあるバージョンの採点\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%81%A9%E6%81%B5%E3%81%8C%E3%81%91%E3%81%A3%E3%81%93%E3%81%86%E3%81%82%E3%82%8B%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E3%81%AE%E6%8E%A1%E7%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e恩恵がけっこうあるバージョン？の採点\u003c/h2\u003e\n\n\u003cp\u003e採点はしません。\u003cbr\u003e\nどこから理解するのをやめましたか？\u003cbr\u003e\n何かがおかしいと思いませんか？\u003c/p\u003e\n\n\u003cp\u003eオブジェクト指向のメリットは柔軟性を最大限持たせられる事です。それに則したプログラムになっているはずです。\u003cbr\u003e\nなんでこんなに面倒くさいのかと思いませんでしたか？\u003cbr\u003e\n高々「タケシが持っている冷凍ギョウザを電子レンジに入れたら食べられるギョウザとなって出てくる」プログラムを書きたかっただけなのに。こんな労力を使わないといけないのかと思いませんでしたか？\u003c/p\u003e\n\n\u003cp\u003eこれがオブジェクト指向の\u003cstrong\u003eデメリット\u003c/strong\u003eです。\u003cbr\u003e\nありとあらゆる方面から変更に耐えうる予測を立て考え、試行錯誤し導いた結果の対価に釣り合わないものが出来上がっているのです。\u003cbr\u003e\n小規模プログラムにおいて柔軟性の最大化を求めると、その労力に見合わない対価しか得られません。\u003cbr\u003e\nこのプログラムは、その規模に対しオブジェクト指向が行き過ぎてしまったようです。\u003c/p\u003e\n\n\u003cp\u003eちなみに、敢えて途中から理解しにくい説明にしました。\u003cbr\u003e\n後、プログラム色々間違えている箇所がありますが気にしないでください。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"結局オブジェクト指向にメリットはあるのか\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B5%90%E5%B1%80%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%8C%87%E5%90%91%E3%81%AB%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88%E3%81%AF%E3%81%82%E3%82%8B%E3%81%AE%E3%81%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e結局オブジェクト指向にメリットはあるのか\u003c/h2\u003e\n\n\u003cp\u003eあります。ただし、\u003cbr\u003e\n幾度となく修正や変更が重なる事が予め予想される中～大規模プログラムを書く時に最も享受できます。\u003cbr\u003e\nそれらは一晩で出来上がるような代物ではないため、地道に基盤を築いていくためにもオブジェクト指向プログラミングは大変有効です。\u003c/p\u003e\n\n\u003cp\u003e比較的小規模である。追加や変更の予定がない。使い捨ての予定である。この場合はメリットはあまりありません。\u003cbr\u003e\n勉強にはなりますが、労力に見合った成果物は得られません。\u003c/p\u003e\n\n\u003cp\u003eそして、行き過ぎたオブジェクト指向プログラミングは禁物です。時間がかかるだけで逆にリファクタリングし辛く柔軟性を失う可能性もあります。\u003cbr\u003e\n常に注意しなくてはいけないのは、\u003cstrong\u003e柔軟性に富んでかつ無駄に時間が奪われないプログラミングをするためにどこまでオブジェクト指向を突き詰めるかを意識し続ける\u003c/strong\u003eことです。\u003c/p\u003e\n\n\u003cp\u003e今回の例の場合は、私だったらタケシが筋トレ機能を～あたりを実装できたところで突き詰めるのをやめると思います。それ以上は労力に見合った対価を得られるとは思わなかったので。\u003c/p\u003e\n\n\u003cp\u003e慣れてくると、どういうインターフェースを予め定義すれば良いのか直ぐにわかるようになり、そのインターフェースを定義しコーディングしていくと面倒な場面に出くわすのかどうかも直感でわかるようになります。抽象クラスについてもデザインパターンについても同様です。\u003c/p\u003e\n\n\u003cp\u003eこれが出来て初めて、オブジェクト指向の恩恵がより得られる様になるのではないかと思います。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"オブジェクト指向のメリットを享受できるアプローチ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%8C%87%E5%90%91%E3%81%AE%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88%E3%82%92%E4%BA%AB%E5%8F%97%E3%81%A7%E3%81%8D%E3%82%8B%E3%82%A2%E3%83%97%E3%83%AD%E3%83%BC%E3%83%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eオブジェクト指向のメリットを享受できるアプローチ\u003c/h2\u003e\n\n\u003cp\u003eじゃあ結局どうすればいいのかという話になります。\u003cbr\u003e\nこれは環境によって変わりますが、個人開発がメインで設計書を具体的に作成しない私の場合はこうします。\u003c/p\u003e\n\n\u003col\u003e\n\u003cli\u003e何を作成したいのか決める\u003c/li\u003e\n\u003cli\u003e作成するものから明確にオブジェクト分けする\u003c/li\u003e\n\u003cli\u003eオブジェクトを抽象化してみる\u003c/li\u003e\n\u003cli\u003e抽象化したものから機能を抽出する\u003c/li\u003e\n\u003cli\u003e機能をインターフェースにする\u003c/li\u003e\n\u003cli\u003e変更が多い個所と分かっている場合はインターフェースのままにする\u003c/li\u003e\n\u003cli\u003e変更されない、極端に少ないと分かっている場合は抽象クラス、クラスにする\u003c/li\u003e\n\u003cli\u003eオブジェクトの依存度(独立性)を考える\u003c/li\u003e\n\u003cli\u003e依存度が多そうな場合はデザインパターンから回避法を適用する\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cp\u003e上記は一例ですが、普遍的なので私はよくこのやり方をコーディング前にしています。\u003cbr\u003e\n頭の中で考えるのがとても難しい場合は書きながら修正を加えていきます。\u003c/p\u003e\n\n\u003cp\u003eこのアプローチを適当にお題を決めて具体的に見てみます。\u003c/p\u003e\n\n\u003col\u003e\n\u003cli\u003eタケシがトースターで焼くパンをサトシに与える\u003c/li\u003e\n\u003cli\u003eタケシ、トースター、パン、サトシに分ける\u003c/li\u003e\n\u003cli\u003eタケシとサトシは人間、トースターは食べ物を焼くもの、パンは食べ物に抽象化\u003c/li\u003e\n\u003cli\u003eトースターは食べ物を焼くという機能がある\u003c/li\u003e\n\u003cli\u003e食べ物を焼く→IFoodBakerにインターフェース化\u003c/li\u003e\n\u003cli\u003eトースターに機能を付け加えると判明している場合はIFoodBakerのまま\u003c/li\u003e\n\u003cli\u003e機能を付け加えないと分かっている場合はFoodBakerという抽象クラス、もしくはToasterというクラスのまま\u003c/li\u003e\n\u003cli\u003eタケシはパンとトースターに依存、トースターはパンに依存、サトシはパンに依存、パンは依存なし\u003c/li\u003e\n\u003cli\u003eタケシの依存が多いため、人間が食べ物を焼くものを使うという振る舞いをVisiterパターンに任せる\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cp\u003eみたいな感じです。結構使えるのではないかと思います。\u003cbr\u003e\nちなみにこのアプローチが絶対に正しいとは言い切れません。刻々と状況は変わるので。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"まとめ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eまとめ\u003c/h1\u003e\n\n\u003cp\u003eデメリットもいろいろ述べましたが、それでもメリットの方が大きいのは確かです。\u003cbr\u003e\nなので、ぜひともオブジェクト指向にチャレンジして欲しいです。\u003c/p\u003e\n\n\u003cp\u003e後、これだけは言えると思います。\u003cbr\u003e\nオブジェクト指向プログラミングに正解はありません。\u003cbr\u003e\n長年オブジェクト指向プログラミングをしていますが、こうするのが一番の正解というのはないです。\u003cbr\u003e\nなぜなら、どこまで修正や追加がされるのかは予め明確に知ることができないからです。明確にわからないから、どこまで突き詰めればいいのかも明確にはわかりません。\u003cbr\u003e\n時と場合にもよりますし、環境にもよります。\u003c/p\u003e\n\n\u003cp\u003eですので、最後に書いたプログラムも、分からないという人もいれば、分かりやすいという人もいれば、まだ足りないという人もれば、全然だめという人もいるはずです。正解は明確にはわからないので。\u003c/p\u003e\n\n\u003cp\u003eしかし、先ほど述べたようにアプローチ、近道はあると思います。どれだけ知識を持っていて予測がどこまでできるかが勝負です。これは長年の経験でようやく得られます。練習するしかないと思います。\u003c/p\u003e\n\n\u003cp\u003e長文にお付き合いいただきありがとうございました。\u003c/p\u003e\n","createdAt":"2018-10-22T00:17:33Z","elapsedYearsFromLastModifiedAt":2,"encryptedId":"09vqEdhFV38yJTRGGQiHY4nPyYSZxqzl--dLlWEDakNMEV9cT1--5jZJvg3fm4irA2qrwDwYYw==","isBanned":false,"isDeprecated":true,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":false,"lastModifiedAt":"2018-10-22T00:17:33Z","likesCount":563,"linkUrl":"https://qiita.com/yoship1639/items/5878bf9d64816e93610b","organization":null,"originalId":711427,"stockedCount":638,"title":"オブジェクト指向をより理解するために実際に書いて解説する","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003eはじめに\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%9C%AC%E8%A8%98%E4%BA%8B%E3%81%AE%E8%83%8C%E6%99%AF%E7%9B%AE%E7%9A%84\"\u003e本記事の背景・目的\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%8C%87%E5%90%91%E3%81%AE%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88\"\u003eオブジェクト指向のメリット\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E4%BF%9D%E5%AE%88%E6%80%A7\"\u003e保守性\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%B1%8E%E7%94%A8%E6%80%A7\"\u003e汎用性\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%8B%A1%E5%BC%B5%E6%80%A7\"\u003e拡張性\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%8B%AC%E7%AB%8B%E6%80%A7\"\u003e独立性\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cli\u003e\n\u003ca href=\"#%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%8C%87%E5%90%91%E3%81%A7%E6%9B%B8%E3%81%8F\"\u003eオブジェクト指向で書く\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%9B%B8%E3%81%8F%E5%89%8D%E3%81%AB%E7%B5%B6%E5%AF%BE%E6%B0%97%E3%82%92%E4%BB%98%E3%81%91%E3%82%8B%E3%81%93%E3%81%A8\"\u003e書く前に絶対気を付けること\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E4%BD%95%E3%82%92%E4%BD%9C%E3%82%8B%E3%81%8B%E6%B1%BA%E3%82%81%E3%82%8B\"\u003e何を作るか決める\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%81%A9%E6%81%B5%E3%81%8C%E3%81%BB%E3%81%A8%E3%82%93%E3%81%A9%E3%81%AA%E3%81%84%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3\"\u003e恩恵がほとんどないバージョン\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%81%A9%E6%81%B5%E3%81%8C%E3%81%BB%E3%81%A8%E3%82%93%E3%81%A9%E3%81%AA%E3%81%84%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E3%81%AE%E6%8E%A1%E7%82%B9\"\u003e恩恵がほとんどないバージョンの採点\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%81%A9%E6%81%B5%E3%81%8C%E3%81%9D%E3%81%93%E3%81%9D%E3%81%93%E3%81%82%E3%82%8B%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3\"\u003e恩恵がそこそこあるバージョン\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%81%A9%E6%81%B5%E3%81%8C%E3%81%9D%E3%81%93%E3%81%9D%E3%81%93%E3%81%82%E3%82%8B%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E3%81%AE%E6%8E%A1%E7%82%B9\"\u003e恩恵がそこそこあるバージョンの採点\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%81%A9%E6%81%B5%E3%81%8C%E3%81%91%E3%81%A3%E3%81%93%E3%81%86%E3%81%82%E3%82%8B%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3\"\u003e恩恵がけっこうあるバージョン？\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%81%A9%E6%81%B5%E3%81%8C%E3%81%91%E3%81%A3%E3%81%93%E3%81%86%E3%81%82%E3%82%8B%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E3%81%AE%E6%8E%A1%E7%82%B9\"\u003e恩恵がけっこうあるバージョン？の採点\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%B5%90%E5%B1%80%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%8C%87%E5%90%91%E3%81%AB%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88%E3%81%AF%E3%81%82%E3%82%8B%E3%81%AE%E3%81%8B\"\u003e結局オブジェクト指向にメリットはあるのか\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%8C%87%E5%90%91%E3%81%AE%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88%E3%82%92%E4%BA%AB%E5%8F%97%E3%81%A7%E3%81%8D%E3%82%8B%E3%82%A2%E3%83%97%E3%83%AD%E3%83%BC%E3%83%81\"\u003eオブジェクト指向のメリットを享受できるアプローチ\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"\u003eまとめ\u003c/a\u003e\n\u003c/li\u003e\n\n","totalPv":38606,"uuid":"5878bf9d64816e93610b","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"+WAVYpiptYsFFPc4faXlmRLicN4A--+KYd4Pj9PPSdC0iL--ETDnSRpnQOz91H17SA4HSw==","originalId":113595,"description":"ゲームエンジニア。C#er。バックエンドも触る。ゲーム、ゲームエンジン、仮想通貨等を自作していました。フロントエンドから物理ベースシェーダまで幅広く対応可能。理解しやすく正しい記事を記述することを心がけます。","facebookUrl":null,"githubUrl":"https://github.com/yoship1639","isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"Yoshihiro Ito","profileImageUrl":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/113595/profile-images/1594732889","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F113595%2Fprofile-images%2F1594732889?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=a965ad82da9feffcce9cef12a92425a3","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F113595%2Fprofile-images%2F1594732889?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=716c2b13f79841ad7658dcce03a19ac2","urlName":"yoship1639","websiteUrl":"https://twitter.com/yoship1639","twitterUrl":"https://twitter.com/yoship1639","twitterUrlName":"yoship1639","revealedOrganizations":{"edges":[{"node":{"encryptedId":"E2b3OtbhmpLfIJgeskdW/C24Ppx4Yl9BM8s=--TW0Fmle8PqZm1y/w--SoHloL0Y/mLNp0F5RRJz5A==","isBetaReleaseEnabled":false,"isFollowableByViewer":false,"isFollowedByViewer":false,"name":"Unityゲーム開発者ギルド","logoUrl":"https://s3-ap-northeast-1.amazonaws.com/qiita-organization-image/f7eb993765ddcdb2c5e6890556c43ea3de8fbfb7/original.jpg?1570215690","urlName":"unity-game-dev-guild","description":"趣味・仕事問わずUnityでゲームを作っている開発者のみで構成されるオンラインコミュニティです。Unityでゲームを開発・運用するにあたって必要なあらゆる知見を共有することを目的とします。","url":"https://unity-game-dev-guild.github.io/"}}]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"オブジェクト指向","urlName":"%e3%82%aa%e3%83%96%e3%82%b8%e3%82%a7%e3%82%af%e3%83%88%e6%8c%87%e5%90%91"},{"name":"基礎","urlName":"%e5%9f%ba%e7%a4%8e"},{"name":"プログラミング教育","urlName":"%e3%83%97%e3%83%ad%e3%82%b0%e3%83%a9%e3%83%9f%e3%83%b3%e3%82%b0%e6%95%99%e8%82%b2"}],"followingLikers":{"edges":[]},"comments":{"totalCount":19}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
