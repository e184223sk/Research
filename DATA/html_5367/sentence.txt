More than 3 years have passed since last update.C#、WPFの勉強をしてて覚えたことの覚え書き。
データバインディングがやりたかったけど、初めはなかなか理解できなかったので、自分なりにまとめてみる。記載しているコードは必要な部分のみの抜粋なのであしからず。xaml.csファイルのクラスがViewModelだと思ってたのだが、どうやら違うらしい。
別途ViewModelクラスを作る必要がある。publicなプロパティがXAMLから参照可能なプロパティとなる。XAMLと連携するクラスのDataContextプロパティにViewModelのインスタンスを突っ込む。こうすると、DataContext(ViewModel)のプロパティがXAMLから参照可能になる。XAMLにはどこに何をバインドするか書く。
DataContextを使用すれば、ViewModelに関する記述などは不要。こう書くとMainView.DataContext.BindTextとバインドされる。出来上がったものがこちら。ビルドして実行しただけ。
MainViewModel.BindTextを動的に変更すると、それに合わせてLabelのContentプロパティにも自動的に反映される。上で書いたように、自動的に反映されるようにするにはもう少し手を加える必要があったので、別途記事を書きました。よければご参照ください。


