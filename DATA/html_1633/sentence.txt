C#のお勉強として出井秀行さんの『C# コードレシピ集』を読んでいたらオブジェクトを複製するMemberwiseCloneメソッドというものを知ったので備忘録として残しておきます。以下は値型のメンバーと参照型のメンバーを持つオブジェクトに対し、MemberwiseCloneメソッドを用いて複製を行うサンプルコードです。
オブジェクトがコピーされるのはもちろんですが、コピー後のメンバーがどうなるのかについても確認してみましょう。値型のメンバーはコピー前とコピー後で変更されていますが参照型のメンバーはどちらも変わっています。
MemberwiseCloneメソッドは参照先のアドレスをコピーしているだけなのでなるほど、参照先の値については同じなのですね。
参照型のメンバーも値型と同様の動きにしたい場合は（色々調べてみたのですが）どうやら一度MemberwiseCloneメソッドでオブジェクトのコピーを作成したのちに自前で実装していく必要がありそうでした。
その実装については以下の記事がとても分かりやすかったです！


