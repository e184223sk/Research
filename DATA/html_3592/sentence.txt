More than 1 year has passed since last update.データベースからレコードを取得する前に、以下のコードを挿入します。Qiita初投稿です。もし当記事が少しでもお役に立った場合は「いいね」を頂けると励みになります。
また、誤った記載があった際はコメント欄にて優しいマサカリをお待ちしています。Dapperを使用して取得したレコードの中身をモデルクラスにマッピングしようとした際、
テーブルのカラム名がスネークケース、モデルクラスのプロパティ名がキャメルケースでした。
DataContractAttributeを使用すればマッピングをうまい具合にやってくれると思ったのですが、
Dapperではうまく機能しないようです。personテーブルDapperがカラム名のアンダースコアを無視する設定を追加します。
具体的には、以下のコードをレコードを取得するより前に挿入します。ちなみに、Dapperは大文字小文字はデフォルトで無視するそうなので、上記のプログラムではAgeだけ
マッピングできました。もう一つ、SQL文で素直にカラム名のエイリアスを指定する方法もあります。こちらはカラム名とプロパティ名がケース以外も異なる場合にも使えますが、取得したいカラム数が増えると
すべてにエイリアスを指定する必要があり面倒なので、個人的にはDapperの設定を変更する方法が好きです。DapperはEntity Frameworkと違い軽量かつ導入が簡単で便利なORMですが、意外と日本語情報が少ないので
Dapperをはじめて使用する私のような初心者は頑張りましょう。https://andrewlock.net/using-snake-case-column-names-with-dapper-and-postgresql/amp/
https://webbibouroku.com/Blog/Article/dapper


