More than 3 years have passed since last update.上の画像のような照準(reticle)を実装する方法です。
コントローラーが使えないスマホ用VRアプリ開発などでよく使われるかと思います。銃の位置は適宜合わせてください。HierarchyビューでEmpty Objectを作り、それにScript(ここではRayScript)をアタッチする。Rayを使ってカメラの位置から前に向かって見えない光線のようなものを飛ばしています。
Rayが当たったオブジェクトの情報をRayCastHit型の変数で受け取っていて、hit.pointで衝突したオブジェクトの位置が取れます。
それを、reticle(照準)の位置に更新しているわけです。上述した通り、ある位置からある位置へ見えない光線のようなものを飛ばし、光線が衝突したオブジェクトの情報を取得できます。
今回はカメラの向いている方向にRayを飛ばしましたが、他にもたくさん便利な使い方があって、
Ray ray = Camera.main.ScreenPointToRay(Input.mousePosition);
のようにすると、クリックした座標に向けて、カメラからRayを飛ばすことができます。Rayを使えば光線の当たったオブジェクトの情報を取得できると上述しましたが、それを使っていろんな事ができます。
以前作ったアプリで敵を倒すのに使った方法の一つを紹介します。hitをRaycastHit型だとしたときに取得できます。
照準が当たった瞬間に敵が破壊されてはつまらないので、ここではgazedTimeを定義し、1.4秒間当て続けないといけないようにしました。単にDestroyするだけだとつまらないので、その下でparticleなどを使って演出すると良いかもしれません。
僕はこんな感じでやってます。Instantiate (explosion, monster.transform.position, Quaternion.identity);explosionには、爆発っぽいparticleをアタッチしておいてます。


