More than 1 year has passed since last update.LINEからデータ（テキスト）を受取る方法は前回の記事、「For C#er (ASP.NET Core), Line Botの作成 - Part 1」をご参照ください。ではでは、今日はLINEで受信したテキストに対して返信する仕組みを書きます。次はユーザーからきたメッセージに対して返信をします。シンプルにテキストを返すケースもあればよりリッチなコンテンツを返すケースもあります。まずはテキストの返信から。ユーザーに返信したい場合は、下記のエンドポイントに対してPOSTリクエストを送信します。POST https://api.line.me/v2/bot/message/replyヘッダーは下記のとおりです。ボディーは下記のとおりです。返信メッセージは下記のタイプがありますそしてすべてのメッセージに共通してクイックリプライを付随することができます。 今日はテキストメッセージ、画像メッセージ、動画メッセージ、クイックリプライを使ってみます。では早速テキストから、まずは、受け取ったメッセージをそのまま返すという、意味のない機能を実装してみます。次はクイックリプライに挑戦。テキスト以外のフォーマットでも返信をしてみます。まずはクイックリプライ。クイックリプライの詳細に関してはこちらを参照。
https://developers.line.biz/ja/docs/messaging-api/using-quick-reply/クイックリプライの定義はこちらItemsオブジェクトクイックリプライボタンオブジェクトクイックリプライではチャット画面下部分に小さなアイコン（ボタン）が表示されます、
ボタンをクリックしたときのアクションに、のいずれかを指定することができます。全種類表示してみます。画像のオブジェクトは下記オリジナル画像とプレビュー画像の二つを準備します。上で表示されているのがサムネールで、下がオリジナル動画のオブジェクトは下記、画像と一緒ですね。240 x 240 のjpgイメージと10MB以下のmp4ファイルを用意してサーバーにあげておきます。返信に関する参考ドキュメント
https://developers.line.biz/ja/reference/messaging-api/#send-reply-message静止画だと表現できませんが、下が動画です。引き続き違う種類の返信タイプを試してみます。


