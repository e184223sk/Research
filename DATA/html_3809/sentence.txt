More than 1 year has passed since last update.今回はUnityで、クラロワのようなタワーディフェンスゲームを作る上で、一番近い敵に攻撃しにいくキャラクターの挙動の実装方法を載せます。UnityのComponent、NavMeshAgentを使用します。今回想定するゲームは、
・Player vs Enemy、相手の城を倒したら勝ち
・お互いのキャラは、一番近い敵（城含む）に攻撃しにいくという感じです。イメージは以下のgif参照。（上下にある赤い四角がそれぞれの城。丸がEnemy、四角がPlayer。近くの敵を攻撃して敵の城を目指しています。クラロワみたいな感じ）・フィールドにNavMeshでBakeが行われていること
・キャラクター・城のオブジェクトにそれぞれPlayer、Enemyのタグがつけられていること
・キャラクターにNavMeshAgentコンポーネントをつけていること以下のコード（Character.cs）をキャラクターとなるゲームオブジェクトにアタッチしますまた、このコード内でCastleクラスのhpを減らすという指示をしているので、Castle.csを作って、という感じで城にアタッチする必要があります。Character.csをアタッチした後は、Inspector上で・攻撃力（Attack）
・体力（HP）
・攻撃するキャラのタグ（Enemy or Player）
を設定してください！
コード内の数値も自分の好きなようにいじってみると良いと思います。
↑この３つですちゃんと近い敵に向かって動き、攻撃してくれると思います！攻撃・移動アニメーションやデッキ機能、キャラ生成などを作ると見た目もしっかりとしたタワーディフェンスゲームができるのではと思います！是非役立ててください。コードだけだとよくわからなかった、という方のためにサンプルプロジェクトをあげておきます。（キャラクターは自動生成）GitHub少しでも参考になれば嬉しいです。以上です！


