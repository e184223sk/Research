Razor PagesでBlobストレージに格納したファイルを取得し、ZIPファイルとしてダウンロードさせるボタンを実装します。asp-page-handlerでハンドラメソッドを指定します。OnPostDownloadで上記リクエストを受け取れます。
今回はDonwloadメソッドを実行するように実装します。今回はSAS URIでアクセスします。
ファイルを格納しているコンテナーのSAS URIを取得します。メモリストリームでZIP化処理を実行します。Zip化したファイルをレスポンスとして返します。完成したソースコードです。2つのファイルを取得し、ZIP化するようにしました。


