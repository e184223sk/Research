More than 1 year has passed since last update.アイコンモードで表示する際、秒とかアナログ時計とかののイメージだけをWindow化して画面に出します。アプリにはWindow透過設定を持ってます（Window Opacity利用）。そもそも地味機能ツールなんで、透過させて目立たない表示にできるという意図なんですが、どうせなら設定でクリックイベントを透過させたほうがいいんではと思い、んで方法を検索するとQiita内のページにありがたい記述がありました「→WPF で オーバーレイ表示をする」
クリック透過にすると当然対象Window上のコントロール操作ができなくなるので、NotifyIcon上のコンテキストメニューでON/OFF切り替え可能に。メインウインドウひらっきっぱなし→ずっとWinハンドラ値は変わらないので、最初にグローバルにクリック受けと無視のそれぞれの値を保存しておきます。
WindowのTOPMOSTも変更可能にしてるので、コンテキストメニューでのクリック透過のON/OFFの判定時にはTOPMOST値も考慮してスイッチしてます。こんな感じになります。
（クリック受＋TOPMOST→クリック無視→TOPMOST解除→クリック受けで変化させています）こんな感じの体裁で実装。



