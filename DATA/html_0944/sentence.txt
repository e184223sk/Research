UnityのC#のEditor拡張スクリプトからGitコマンドを叩く機会があったので、忘れない内にまとめます。今回、例として、UnityのC#から以下のコマンドを叩いてみます。改行コードを自動で変換する機能が有効になっているか確認できるコマンドです。以下がサンプルコードです。外部から GetAutocrlf を叩けばコマンドが実行されます。C# の Prosess を使って、Gitコマンドを叩き、その標準出力を読み取るという仕組みです。GetGitPath() では、Gitの実行ファイルのパスを取得しています。Gitの実行ファイルのパスは、環境変数Pathに登録されていることが一般的だと思うので、単に git と記述してもほとんどの場合、問題ないと思います。ただし、私のMac環境ではそれではうまく行かなかったので、 /usr/local/bin/git と usr/bin/git の2種類を明示的にハードコーディングし、どちらか見つかった方を実行ファイルとして利用するようにしました。本記事作成にあたり、以下を参考にしました。ありがとうございました。


