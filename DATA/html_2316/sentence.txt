目的のURLからソースコードを取得できたあと、これを簡単に取り出す方法はないものかと調べたところAngleSharpが現代的な方法と分かり説明していきます。今回はAngleSharpのメソッドの説明よりはAngleSharpを使うとこんな処理ができる！ということを説明する回になりますので詳しい使い方を知りたい方は『C# HTML構造解析 AngleSharpの使い方(2)』（執筆中）をご参照ください。では実際に抜き出したHTMLを見てみましょう。こちらはMJサイトのユーザープレイ履歴画面です。余談ですが、MJではユーザーのプレイ履歴は確認できるのですが得点の集計は有料なのです。以前はブラウザの画面から１つずつコピペかページを見ながら手入力していました（笑）続いてC#の処理内容です。ここからは具体的な処理の内容を説明します。・HTML文字列(string)を分解するためHtmlDocumentコレクションに分解。・HtmlDocumentコレクションからGetElementsByXXXメソッドを使って必要な要素（Node）を抜出す。
　※今回はさらにGetElementsByXXXメソッドを使ってさらに絞り込みを行っています。・ListにNodeのTextContentをループで抜き出し。
　※今はラムダ式を使ってもっとスマートな書き方あるかもしれません。・RegexやTrimを使って目的の箇所のみ取り出す。
　※今回はさらに名前と得点をセットとして一番左にuserが入り、
　　あとは名前順になるよう並び替えもおこなっています。Regex（正規表現）は内容的にすべてググってコピペで事足りるので説明割愛。最後にreturnで返される文字列が次のようになります。2021-05-30 00:11:16,めっつ,-40.3,dartslive,49.9,麻雀野郎,-9.6
2021-05-29 23:55:24,めっつ,45.3,ぱりぴ,4.6,dartslive,-49.9引数のint DataCountはプレイ履歴のうち、上のような成績（一行）を何行とりだすかを決める数でメソッドを呼び出すときに任意で決めます。例えばint DataCount = 50 としておけば上のような成績が50行取り出せます。細かい説明は次回以降で見ていきたいと思います。
つづく言語：C# 
使用ソフト：VisualStudio2019v16.6.0
プロジェクト：コンソールアプリ(.NET Framework)
.NET Framework Version 4.8.04084
NuGetパッケージ
 @AngleSharp v0.15.0 SEGA NET麻雀MJ　ログイン
SEGA NET麻雀MJ　プレイ履歴


