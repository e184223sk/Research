<!DOCTYPE html><html><head><meta charset="utf-8" /><title>Web APIの使い方を森見登美彦風に覚える。 - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/following_ng/items/8facf6310b34476342f9" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="c1dehQnDWqM1Ok4CT+nz8Vx5xElJ1mzppnVatvXYV7u3lwgaiKR67Cirfy1GoyrG8y2u228Xa4le+aWvmtIZjA==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta property="og:type" content="article"><meta property="og:title" content="Web APIの使い方を森見登美彦風に覚える。 - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1WMlZpSUVGUVNlT0JydVM5di1PQmhPYVd1ZU9Da3VhanJ1aW1pLWVadS1lLWp1VzlwdW1pcU9PQnEtaW1tdU9CaU9PQ2ktT0FnZyZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTU0JnR4dC1jbGlwPWVsbGlwc2lzJnR4dC1hbGlnbj1jZW50ZXIlMkNtaWRkbGUmcz1jZGNlYTM3OTQ1OThlYTQxOGFlNzcxOWUwMTllOGQwZg&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RR1p2Ykd4dmQybHVaMTl1WncmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT00NSZ0eHQtYWxpZ249cmlnaHQlMkNib3R0b20mcz0yN2M5YTVhNGFmNDliNDIxYjczMmRiMGU1YzhiMjVmNA&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=ed6da3621a3a36cafb879a065fd12256"><meta property="og:description" content="この記事は、リンク情報システムが主催するイベント「2021新春アドベントカレンダー Tech Connect」のリレー記事です。
engineer.hanzomon のグループメンバによってリレーされます。
 （リンク情報システムのF..."><meta content="https://qiita.com/following_ng/items/8facf6310b34476342f9" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="XML,C#,WebAPI,駅すぱあとWebサービス,森見登美彦" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-23547718-5db0-443d-9330-444bc457839e"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2Ffollowing_ng%2Fitems%2F8facf6310b34476342f9">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2Ffollowing_ng%2Fitems%2F8facf6310b34476342f9">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-23547718-5db0-443d-9330-444bc457839e">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/xml","name":"XML"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2021-02-02T08:15:41.000+09:00","dateModified":"2021-02-02T08:15:41.000+09:00","headline":"Web APIの使い方を森見登美彦風に覚える。","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1WMlZpSUVGUVNlT0JydVM5di1PQmhPYVd1ZU9Da3VhanJ1aW1pLWVadS1lLWp1VzlwdW1pcU9PQnEtaW1tdU9CaU9PQ2ktT0FnZyZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTU0JnR4dC1jbGlwPWVsbGlwc2lzJnR4dC1hbGlnbj1jZW50ZXIlMkNtaWRkbGUmcz1jZGNlYTM3OTQ1OThlYTQxOGFlNzcxOWUwMTllOGQwZg\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RR1p2Ykd4dmQybHVaMTl1WncmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT00NSZ0eHQtYWxpZ249cmlnaHQlMkNib3R0b20mcz0yN2M5YTVhNGFmNDliNDIxYjczMmRiMGU1YzhiMjVmNA\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=ed6da3621a3a36cafb879a065fd12256","mainEntityOfPage":"https://qiita.com/following_ng/items/8facf6310b34476342f9","author":{"@type":"Person","address":"","email":null,"identifier":"following_ng","name":"following_ng","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F317702%2Fprofile-images%2F1566368120?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=e1ac8e747eb3315e24c40fc70bcbff8c","url":"https://qiita.com/following_ng","description":"私はどんなエンジニアや偉い人よりNoel Gallagherを崇拝している。","memberOf":[{"@type":"Organization","address":"東京都千代田区一番町１３番地１　新半蔵門ビル","legalName":"リンク情報システム株式会社","image":"https://s3-ap-northeast-1.amazonaws.com/qiita-organization-image/9869a8b44c5cb9c1ee5097d032f14c590f66771c/original.jpg?1538721773","logo":"https://s3-ap-northeast-1.amazonaws.com/qiita-organization-image/f0915a38b744d6a58d75541909bd7c8d4f0266ae/original.jpg?1537854274","identifier":"link_information_systems","description":"放送・航空宇宙・商社・自動車・通信・防災・データセンター・社会インフラなど広範囲な分野で、ソフトウエア開発からシステム運用まで、またテレビの字幕制作など幅広いサービスを提供しています。"}]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://zine.qiita.com/interview/202107-line-growth-technology/?utm_source=qiita&amp;utm_medium=header-banner">運用ではなくサービス運営の課題解決。LINE Growth Technologyに聞くGrowth開発</a><a target="_blank" id="header_text_message_2" href="https://zine.qiita.com/interview/202107-line-growth-technology/?utm_source=qiita&amp;utm_medium=header-banner">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"following_ng","type":"items","id":"8facf6310b34476342f9"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"運用ではなくサービス運営の課題解決。LINE Growth Technologyに聞くGrowth開発","url":"https://zine.qiita.com/interview/202107-line-growth-technology/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"following_ng","type":"items","id":"8facf6310b34476342f9"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":0,"pos_id":"header_text_message_1","message":"運用ではなくサービス運営の課題解決。LINE Growth Technologyに聞くGrowth開発","url":"https://zine.qiita.com/interview/202107-line-growth-technology/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"following_ng","type":"items","id":"8facf6310b34476342f9"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":0,"pos_id":"header_text_message_2","message":"運用ではなくサービス運営の課題解決。LINE Growth Technologyに聞くGrowth開発","url":"https://zine.qiita.com/interview/202107-line-growth-technology/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/following_ng/items/8facf6310b34476342f9","location":"/following_ng/items/8facf6310b34476342f9","scheme":"https","host":"qiita.com","port":null,"pathname":"/following_ng/items/8facf6310b34476342f9","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"wA6uNumtObgY+nR9SMh1oN6J6c+U9jbE/Y+oucLWyzgEzvipaMoZ9wVrRVJBgqyXcd2DXbI3MaQFA1egrdyFDw==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-17b969af-cde0-481e-83f8-241f2fc28955"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/following_ng/items/8facf6310b34476342f9/likers" class="css-1iupg5d">80</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">59</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/8facf6310b34476342f9/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/following_ng/items/8facf6310b34476342f9/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/following_ng/items/8facf6310b34476342f9/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/following_ng/items/8facf6310b34476342f9/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/following_ng/items/8facf6310b34476342f9.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/following_ng"><img class="css-100alwu eyfquo10" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/317702/profile-images/1566368120" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/following_ng" class="css-10ougpm">@<!-- -->following_ng</a><div class="css-1ay9vb9"><time dateTime="2021-02-01T23:15:41Z" class="css-m19uds">posted at 2021-02-01</time></div></div></div></div></div><h1 class="css-cgzq40">Web APIの使い方を森見登美彦風に覚える。</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/xml" class="css-4czcte">XML</a><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/webapi" class="css-4czcte">WebAPI</a><a href="/tags/%e9%a7%85%e3%81%99%e3%81%b1%e3%81%82%e3%81%a8web%e3%82%b5%e3%83%bc%e3%83%93%e3%82%b9" class="css-4czcte">駅すぱあとWebサービス</a><a href="/tags/%e6%a3%ae%e8%a6%8b%e7%99%bb%e7%be%8e%e5%bd%a6" class="css-4czcte">森見登美彦</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div><p>この記事は、<a href="https://www.lis.co.jp/" rel="nofollow noopener" target="_blank">リンク情報システム</a>が主催するイベント「<a href="https://qiita.com/dgkz/private/eabde6515457d8acec9b" id="reference-8744bcb2c4a5743a84a4">2021新春アドベントカレンダー Tech Connect</a>」のリレー記事です。<br>
engineer.hanzomon のグループメンバによってリレーされます。<br>
 （リンク情報システムのFaceBookは<a href="https://ja-jp.facebook.com/lis.co.jp/" rel="nofollow noopener" target="_blank">こちら</a>から）</p>

<p>最終日らしいです。頑張ります。<br>
こんな記事が最終日で大丈夫か。</p>

<hr>

<p>〇<br>
　色々な点で、私は根本的に間違っている。<br>
何故ならQiitaはこのような文章を投稿する場所ではないからだ。<br>
〇</p>

<h1>
<span id="やる気短し覚えよapi" class="fragment"></span><a href="#%E3%82%84%E3%82%8B%E6%B0%97%E7%9F%AD%E3%81%97%E8%A6%9A%E3%81%88%E3%82%88api"><i class="fa fa-link"></i></a>やる気短し覚えよAPI</h1>

<p>　業務上、長らくC#でのWindowsアプリを作成していた。業務で作成したアプリたちは未だインターネットの海を航行したことはなかった。そしてこれから作るアプリもまた、インターネット海に出航することはないだろう。<br>
このままでは時代に取り残される。危機感を覚えた私は「今のうちにWeb APIなるものを使えるよう練習がしたい」と思い、自宅PCのVisual Studioを起動したのであった。</p>

<p>　常々、何か面白い事をしようと思い立った時、新しい技術の知識/経験に乏しく、何もできないが故に何も思いつかない。そのまま惰眠で時間をじゃぶじゃぶと浪費し、気持ちが急速に失われていくことがある。これを私はやる気殺人と名付けた。<br>
やる気の連続殺人による治安低下で不安がっている私の脳内市民たちに、Web APIを習得することで安心してもらいたいというのが今回の目的である。</p>

<p>　「今更Web APIかよ」「未だに.Net Framework使っている時点で、お前は時代に取り残されてるわ」等の指摘は、私も痛いほど理解しているため控えていただくよう願う。</p>

<h1>
<span id="選定の技術" class="fragment"></span><a href="#%E9%81%B8%E5%AE%9A%E3%81%AE%E6%8A%80%E8%A1%93"><i class="fa fa-link"></i></a>選定の技術</h1>

<p>1月9日<br>
　皆さんお元気だろうか。私は部屋がとても寒いので電気ヒーターの前から動けない中、この手紙を書いている。</p>

<p>　さてWeb APIの件でごちゃごちゃと喚いていた私だが、この度使用するWeb APIをついに決定した。<br>
<a href="https://ekiworld.net/service/sier/webservice/free_provision.html" rel="nofollow noopener" target="_blank"><strong>「駅すぱあとWebサービス」</strong></a>だ。無料で使え、結果が分かりやすく、今回の目的にぴったりではなかろうか。</p>

<p>　今までWeb APIを使ってこなかったため、Web APIを使用するのにWeb申し込みが必要だということを知らなかった。今日申し込んだばかりで、使えるようになるのに数日かかるのは痛い。さらに「コイツはそんなことも知らなかったのか」という皆の目線が突き刺さるのも痛い。しょうがないではないか。</p>

<p>　APIが使えるその日までにやる気が殺されてないといいが、この駄文を書き切らないと後々「Qiita記事書く書く詐欺野郎」という不名誉な称号が付されるため、何が何でも書かなければならない。やる気を生かすか、ゾンビとして復活させるかのどちらかしか、私に道はないのだ。</p>

<p>　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　草々   following_ng<br>
記事を読んでくださる皆さんへ</p>

<h1>
<span id="製造の項" class="fragment"></span><a href="#%E8%A3%BD%E9%80%A0%E3%81%AE%E9%A0%85"><i class="fa fa-link"></i></a>製造の項</h1>

<p><strong>1月10日</strong><br>
　日付が変わると共に手紙を書き終えた私は、いつになるかわからないAPIの使用開始時期に不安を覚えつつ、C#でGUIを作ることにした。<br>
<a href="https://docs.ekispert.com/v1/api/" rel="nofollow noopener" target="_blank"><strong>「駅すぱあとWebサービス」のAPI設計書</strong></a>を見ながら、GUI側でやるべきことを列挙すると以下となる。</p>

<ul>
<li>出発日時を指定する。起動時には現在時刻を表示する。</li>
<li>駅名をあいまい入力し、そこから候補駅をリスト表示する。</li>
<li>リストから出発駅、到着駅を選択し、経路探索ボタンを押下することで経路を表示する。</li>
</ul>

<p>今回はWeb APIを使用できればそれでいいので、上記のような仕様で勘弁願いたい。上記を実現したのが以下である。<br>
<a href="https://camo.qiitausercontent.com/0069b5d8f1cb51d3ec3701e7c401cf60baf33233/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3331373730322f32653837363535382d336534392d663239612d386563612d3366623437323634653737312e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F317702%2F2e876558-3e49-f29a-8eca-3fb47264e771.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=246b53beec1528a86cc24604482ff711" alt="モック画面.PNG" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/317702/2e876558-3e49-f29a-8eca-3fb47264e771.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F317702%2F2e876558-3e49-f29a-8eca-3fb47264e771.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=786d74f85e869c75c33bfa968b0f82e4 1x" loading="lazy"></a><br>
こののっぺりしたGUIを作成し終えた私は、冷たい布団に倒れこみ翌朝まで泥の様に眠るのであった。</p>

<p><strong>1月11日</strong><br>
　昨日、深夜のテンションで書き始めた駄文を読み返し、自分の文才のなさに泣きながら、少しでも奇天烈かつ面白みのある文章にしてやろうと推敲を始めた。しかしいくら時間が経っても駄文は駄文のままなので、私は私を呪った。</p>

<p><strong>1月12日</strong><br>
　APIキーが送られてきた。これで開発の続きができる。Web開発原理主義者に「あいつ逃げやがったぜ」と笑いながら指をさされることは、今のところ回避できそうだ。しかし平日は業務多忙であるため開発作業及び駄文製造は週末に回したいと思う。</p>

<p><strong>1月15日</strong><br>
　さて、この「駅すぱあとWebサービス」ではHTTPを使用してメッセージを送り、XMLもしくはJSON形式でデータの受け取りを行う。XMLとJSON、どちらも不慣れな私は「名前が強そう」という小学生のような理由で、XMLを使用することに決めた。</p>

<p>　兎にも角にもソースを書かなければアプリは出来上がらない。Web  APIを動作させるためGoogle検索エン神に祈りを捧げ情報収集し、以下のようなクラスを作成した。</p>

<div class="code-frame" data-lang="c#"><div class="highlight"><pre class="with-code"><code>    <span class="k">public</span> <span class="k">class</span> <span class="nc">ApiCtrl</span>
    <span class="p">{</span>
        <span class="k">private</span> <span class="n">String</span> <span class="n">ApiAddress</span> <span class="p">=</span> <span class="n">String</span><span class="p">.</span><span class="n">Empty</span><span class="p">;</span>
        <span class="k">public</span> <span class="nf">ApiCtrl</span><span class="p">(</span><span class="n">String</span> <span class="n">Address</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">//基本アドレス</span>
            <span class="n">ApiAddress</span> <span class="p">=</span> <span class="n">Address</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">public</span> <span class="n">XElement</span> <span class="nf">GetResponse</span><span class="p">(</span><span class="n">String</span> <span class="n">Code</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">WebRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">ApiAddress</span> <span class="p">+</span> <span class="n">Code</span><span class="p">);</span>
            <span class="n">Stream</span> <span class="n">response_stream</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">().</span><span class="nf">GetResponseStream</span><span class="p">();</span>
            <span class="n">XElement</span> <span class="n">xml</span> <span class="p">=</span> <span class="n">XElement</span><span class="p">.</span><span class="nf">Load</span><span class="p">(</span><span class="n">response_stream</span><span class="p">);</span>
            <span class="k">return</span> <span class="n">xml</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div></div>

<p>作成してみると意外にシンプルな作りで拍子抜けした。こんなものでWeb APIが動くのか。私はこれから始まる”Web APIとの輝かしい未来”を思い描きつつ作業を進めた。<br>
　続いて上記で作成したWeb API操作クラスを画面から使用するため、以下のようなメソッドを作成した。こちらも中々すっきり書くことができた。誠に申し訳ないが呼び出している変数や画面パーツの内容は変数名で想像してほしい。</p>

<div class="code-frame" data-lang="c#"><div class="highlight"><pre class="with-code"><code><span class="k">private</span> <span class="n">String</span> <span class="n">StationSearchCode</span> <span class="p">=</span> <span class="s">"v1/xml/station/light?key={0}&amp;name={1}&amp;type=train"</span><span class="p">;</span>
<span class="k">private</span> <span class="n">XElement</span> <span class="nf">GetStationInfo</span><span class="p">(</span><span class="n">String</span> <span class="n">Name</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">XElement</span> <span class="n">xml</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>

    <span class="c1">//制御コード作成</span>
    <span class="n">String</span> <span class="n">Code</span> <span class="p">=</span> <span class="n">String</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="n">StationSearchCode</span><span class="p">,</span> <span class="n">AccessKey</span><span class="p">,</span> <span class="n">Name</span><span class="p">);</span>
    <span class="c1">//WebAPIに指示</span>
    <span class="n">xml</span> <span class="p">=</span> <span class="n">api</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">(</span><span class="n">Code</span><span class="p">);</span>

    <span class="k">return</span> <span class="n">xml</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">private</span> <span class="n">String</span> <span class="n">RouteSearchCode</span> <span class="p">=</span> <span class="s">"v1/xml/search/course?key={0}&amp;from={1}&amp;to={2}&amp;date={3}&amp;time={4}"</span><span class="p">;</span>
<span class="k">private</span> <span class="n">XElement</span> <span class="nf">GetRouteInfo</span><span class="p">(</span><span class="n">String</span> <span class="n">FromStation</span><span class="p">,</span> <span class="n">String</span> <span class="n">ToStation</span><span class="p">,</span> <span class="n">DateTime</span> <span class="n">SearchDatetime</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">XElement</span> <span class="n">xml</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
    <span class="c1">//制御コード作成</span>
    <span class="n">String</span> <span class="n">Code</span> <span class="p">=</span> <span class="n">String</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="n">RouteSearchCode</span><span class="p">,</span> <span class="n">AccessKey</span><span class="p">,</span> <span class="n">FromStation</span><span class="p">,</span> <span class="n">ToStation</span><span class="p">,</span> 
                                <span class="n">SearchDatetime</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(</span><span class="s">"yyyyMMdd"</span><span class="p">),</span> <span class="n">SearchDatetime</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(</span><span class="s">"HHmm"</span><span class="p">));</span>
    <span class="c1">//WebAPIに指示</span>
    <span class="n">xml</span> <span class="p">=</span> <span class="n">api</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">(</span><span class="n">Code</span><span class="p">);</span>

    <span class="k">return</span> <span class="n">xml</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>　ここまで来れば後は適当にXMLを読み取り、適当に画面表示を行えば目的は達成できる。ああWeb API、君はなんて単純なやつなんだ。<br>
　私の勝ち誇った顔は、その後自らが犯した過ちによって曇っていくことを、予感させないほど光り輝いていた。この頃に戻って「正気に戻れ」と二三発ほど頬を打ってやりたい気持ちになるが、頬を打ったところで私が無能であることには変わりはない。</p>

<h1>
<span id="新釈動けアプリ-バグ数件" class="fragment"></span><a href="#%E6%96%B0%E9%87%88%E5%8B%95%E3%81%91%E3%82%A2%E3%83%97%E3%83%AA-%E3%83%90%E3%82%B0%E6%95%B0%E4%BB%B6"><i class="fa fa-link"></i></a>【新釈】動けアプリ バグ数件</h1>

<p>　駅情報検索部を作成したが例外が発生し、アプリが途中で終了した。私は頭を抱えた。強そうな名前という理由で選んだXMLは、貧弱な私の手に負えるものではなかったのだ。おのれXML、ゴールを見据えた私の眼前に立ちはだかるとはいい度胸だ。</p>

<p>　以下のコードでXElement型のinfoは私が要素名を指定すると、その要素名に設定された値を返してくれるはずであった。ところが奴は要素名を聞いたところで、当たり前のような顔でNullReferenceExceptionを投げつけてくるのである。これは私に対しての宣戦布告に近しいものであった。</p>

<div class="code-frame" data-lang="c#"><div class="highlight"><pre class="with-code"><code><span class="c1">//コマンドを作成し、Web APIにコマンドを送信する。</span>
<span class="n">XElement</span> <span class="n">element</span> <span class="p">=</span> <span class="nf">GetStationInfo</span><span class="p">(</span><span class="n">Station</span><span class="p">);</span>

<span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">XElement</span><span class="p">&gt;</span> <span class="n">infos</span> <span class="p">=</span> <span class="k">from</span> <span class="n">item</span> <span class="k">in</span> <span class="n">element</span><span class="p">.</span><span class="nf">Elements</span><span class="p">(</span><span class="s">"Point"</span><span class="p">)</span> <span class="k">select</span> <span class="n">item</span><span class="p">;</span>

<span class="n">FromStationInfoList</span><span class="p">.</span><span class="nf">Clear</span><span class="p">();</span>
<span class="n">FromListBox</span><span class="p">.</span><span class="n">Items</span><span class="p">.</span><span class="nf">Clear</span><span class="p">();</span>
<span class="k">foreach</span> <span class="p">(</span><span class="n">XElement</span> <span class="n">info</span> <span class="k">in</span> <span class="n">infos</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">String</span> <span class="n">Name</span> <span class="p">=</span> <span class="n">info</span><span class="p">.</span><span class="nf">Element</span><span class="p">(</span><span class="s">"Name"</span><span class="p">).</span><span class="n">Value</span><span class="p">;</span> <span class="c1">// ここで例外発生</span>
    <span class="n">String</span> <span class="n">Code</span> <span class="p">=</span> <span class="n">info</span><span class="p">.</span><span class="nf">Attribute</span><span class="p">(</span><span class="s">"code"</span><span class="p">).</span><span class="n">Value</span><span class="p">;</span>

    <span class="n">FromStationInfoList</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="k">new</span> <span class="nf">StationInfo</span><span class="p">(</span><span class="n">Name</span><span class="p">,</span> <span class="n">Code</span><span class="p">));</span>
    <span class="n">FromListBox</span><span class="p">.</span><span class="n">Items</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">Name</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>　色々試していると唯々私が阿呆だったということが明らかになっていく。<code>from item in element.Elements("Point") select item;</code>で、Point中の全ての要素に対し、名前を指定すれば値を返してくれるようになると私は勘違いしていた。それを受けてアプリは「Point中にNameなんて名前の要素はありません」と例外を投げつけてくるのである。考えてみれば至極当たり前のことである。<br>
　<code>Name = info.Element("Name").Value;</code>を<code>Name = info.Element("Station").Element("Name").Value;</code>と書くことによって、この問題は解決したのであった。XMLよ、申し訳ない。私が愚かなばかりにお前にいらぬ罪を着せるところだった。</p>

<p>　今度は要の経路探索部で、例外が発生した。今度はWeb APIのエラー応答による例外であった。試しにブラウザで送ったURIを打ち込みアクセスしてみると以下のようなエラーが表示された。</p>

<div class="code-frame" data-lang="xml"><div class="highlight"><pre class="with-code"><code><span class="nt">&lt;ResultSet</span> <span class="na">apiVersion=</span><span class="s">"1.27.0.0"</span> <span class="na">engineVersion=</span><span class="s">""</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Error</span> <span class="na">code=</span><span class="s">"W403"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;Message&gt;</span>
            利用できない機能を呼び出しています。アクセスできる機能は、/corporation,/operationLine,/rail,/search/course/light,/station,/station/info,/station/lightです。
        <span class="nt">&lt;/Message&gt;</span>
    <span class="nt">&lt;/Error&gt;</span>
<span class="nt">&lt;/ResultSet&gt;</span>
</code></pre></div></div>

<p>　私が使用しているプランは、APIフリープランであるため、機能制約があるらしい。何かしらの記事を書かねばと躍起になっていた私は、APIのプラン説明をちゃんと読んでいなかった。誰も責めることはできまい。<br>
　エラー内容を読んでみると経路探索に使えそうな機能は<code>/search/course/light</code>くらいである。しかしAPI設計書を探しても<code>/search/course/light</code>の説明はなかった。試しに<code>/search/course/</code>としていたところを<code>/search/course/light</code>に書き換えて実行すると、エラーは出なくなった。これでやっとゴールにたどり着けると思った私にさらなる試練が待ち受けていたのであった。</p>

<p>　以下が経路探索の結果を示すXMLである。乗る路線や時間、経由地などが記されたXMLが返ってくると思っていた私は目を疑った。なんと<a href="https://roote.ekispert.net/result?arr=%E6%9D%B1%E4%BA%AC&amp;arr_code=22828&amp;connect=true&amp;dep=%E6%96%B0%E5%AE%BF&amp;dep_code=22741&amp;express=true&amp;highway=true&amp;hour=1&amp;liner=true&amp;local=true&amp;minute=52&amp;plane=true&amp;shinkansen=true&amp;ship=true&amp;sleep=false&amp;sort=time&amp;surcharge=3&amp;type=dep&amp;via1=&amp;via1_code=&amp;via2=&amp;via2_code=&amp;yyyymmdd=20210116" rel="nofollow noopener" target="_blank"><strong>Webページで検索した際の結果ページ</strong></a>のURLを返却してきたのである。これではアプリ上に結果を表示することができないではないか。私は膝から崩れ落ちた。</p>

<div class="code-frame" data-lang="xml"><div class="highlight"><pre class="with-code"><code><span class="nt">&lt;ResultSet</span> <span class="na">apiVersion=</span><span class="s">"1.27.0.0"</span> <span class="na">engineVersion=</span><span class="s">"202101_02a"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;ResourceURI&gt;</span>
        https://roote.ekispert.net/result?arr=%E6%9D%B1%E4%BA%AC<span class="err">&amp;</span>arr_code=22828<span class="err">&amp;</span>connect=true<span class="err">&amp;</span>dep=%E6%96%B0%E5%AE%BF<span class="err">&amp;</span>dep_code=22741<span class="err">&amp;</span>express=true<span class="err">&amp;</span>highway=true<span class="err">&amp;</span>hour=1<span class="err">&amp;</span>liner=true<span class="err">&amp;</span>local=true<span class="err">&amp;</span>minute=52<span class="err">&amp;</span>plane=true<span class="err">&amp;</span>shinkansen=true<span class="err">&amp;</span>ship=true<span class="err">&amp;</span>sleep=false<span class="err">&amp;</span>sort=time<span class="err">&amp;</span>surcharge=3<span class="err">&amp;</span>type=dep<span class="err">&amp;</span>via1=<span class="err">&amp;</span>via1_code=<span class="err">&amp;</span>via2=<span class="err">&amp;</span>via2_code=<span class="err">&amp;</span>yyyymmdd=20210116
    <span class="nt">&lt;/ResourceURI&gt;</span>
<span class="nt">&lt;/ResultSet&gt;</span>
</code></pre></div></div>

<p>　私を崖下に突き落とし「ざまぁみろ。」と言わんばかりに、駅すぱあとWebサービスが私を指を刺して笑う妄想が私の頭の中を駆け巡った。”Web APIとの輝かしい未来”とは何だったのか。</p>

<p>　そんなことをぐちゃぐちゃと考えていてもオチがつかないので、どうにか形になるよう私はGoogle検索エン神に祈りと検索文字列を捧げエンターキーを押した。</p>

<h1>
<span id="四畳半結果発表" class="fragment"></span><a href="#%E5%9B%9B%E7%95%B3%E5%8D%8A%E7%B5%90%E6%9E%9C%E7%99%BA%E8%A1%A8"><i class="fa fa-link"></i></a>四畳半結果発表</h1>

<p>　C#もとい.Net Frameworkは私を見放したりはしなかった。Windows.FormsのパーツにWebBrowserというWebページを表示させるための画面パーツが存在したのだ。これで私は結果の画面表示ができるぞ。ありがとう.Net、ありがとうMicrosoft。</p>

<p>　WebBrowserを実装した画面が以下である。多少アプリの見た目が不格好になってしまったが、そんなことはもう気にしてなどいない。</p>

<p><a href="https://camo.qiitausercontent.com/b57f749bd5f52e53c3b91ac3e9e9657742efc207/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3331373730322f61393536643139352d353563652d626532622d336263362d3934356365323861393134332e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F317702%2Fa956d195-55ce-be2b-3bc6-945ce28a9143.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=fa6fa44680070994e4beb07613e3a796" alt="モック画面その2.PNG" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/317702/a956d195-55ce-be2b-3bc6-945ce28a9143.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F317702%2Fa956d195-55ce-be2b-3bc6-945ce28a9143.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=a6ef78dacca08e61d45e76559a0cc05e 1x" loading="lazy"></a></p>

<p>　早速各機能を使用して経路探索を行ってみると以下の様に表示された。</p>

<p><a href="https://camo.qiitausercontent.com/40adcf9005f6013a2c3d66877243a0a441bc56b3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3331373730322f38623932386437392d396135612d376430612d376537392d3439643630393261316434372e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F317702%2F8b928d79-9a5a-7d0a-7e79-49d6092a1d47.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=c79e493dc6a19532ee6577319da5e528" alt="結果表示.PNG" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/317702/8b928d79-9a5a-7d0a-7e79-49d6092a1d47.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F317702%2F8b928d79-9a5a-7d0a-7e79-49d6092a1d47.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=808cb53d029041f8756cc6a30a7e54d6 1x" loading="lazy"></a></p>

<p>　正しく経路探索が行われていることを確認した。この苦しく長い戦いに終止符が打たれたのであった。</p>

<p>〇<br>
　私とWeb APIの関係がその後いかなる展開を見せたのか、それはこの稿の趣旨から逸脱する。したがって、その妙味を逐一書くことはさし控えたい。皆さんもそんな唾棄すべきものを読んで、貴重な時間を溝に捨てたくはないだろう。<br>
　成功した開発ほど語るに値しないものはない。<br>
〇</p>

<h1>
<span id="森見登美彦先生-大変申し訳ございませんでした" class="fragment"></span><a href="#%E6%A3%AE%E8%A6%8B%E7%99%BB%E7%BE%8E%E5%BD%A6%E5%85%88%E7%94%9F-%E5%A4%A7%E5%A4%89%E7%94%B3%E3%81%97%E8%A8%B3%E3%81%94%E3%81%96%E3%81%84%E3%81%BE%E3%81%9B%E3%82%93%E3%81%A7%E3%81%97%E3%81%9F"><i class="fa fa-link"></i></a>森見登美彦先生 大変申し訳ございませんでした。</h1>

<p>　今回Qiitaに投稿する事柄を決めかねた私は、あろうことか好きな作家の書きっぷりを真似て、雑魚技術の習得を大層立派なことをしたかのように書くという過ちを犯しました。</p>

<p><strong>森見登美彦先生 及び 森見登美彦ファンの皆様 誠に申し訳ありません。</strong></p>

<p>次は米澤穂信先生で書きたいですが、もう疲れたので無理です。<br>
あとアドベントカレンダーはこれで終了です。お疲れ様でした。</p>

<hr>

<p><a href="https://www.lis.co.jp/" rel="nofollow noopener" target="_blank">リンク情報システム株式会社</a>では一緒に働く仲間を<a href="https://www.lis.co.jp/employ_top" rel="nofollow noopener" target="_blank">随時募集</a>しています！<br>
 また、お仕事のご依頼、ビジネスパートナー様も募集しております。<a href="https://www.lis.co.jp/inquiry" rel="nofollow noopener" target="_blank">お気軽にご連絡</a>ください。</p>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2Ffollowing_ng%2Fitems%2F8facf6310b34476342f9&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2Ffollowing_ng%2Fitems%2F8facf6310b34476342f9&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/following_ng/items/8facf6310b34476342f9/likers" class="css-1iupg5d">80</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">59</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/8facf6310b34476342f9/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/following_ng/items/8facf6310b34476342f9/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/following_ng/items/8facf6310b34476342f9/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/following_ng/items/8facf6310b34476342f9/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/following_ng/items/8facf6310b34476342f9.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-17b969af-cde0-481e-83f8-241f2fc28955">{"authorAnalyticsTrackingId":null,"organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-2aec3883-619a-4b2f-b4a7-a8814e65b339"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-2aec3883-619a-4b2f-b4a7-a8814e65b339">{}</script>
      
<div id="LoginModal-react-component-6f594439-1127-451a-bf71-c65f3cdc260d"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-6f594439-1127-451a-bf71-c65f3cdc260d">{}</script>
      
<div id="StockModal-react-component-ef85fdd3-c40d-4761-9ec4-a5889dce1d69"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-ef85fdd3-c40d-4761-9ec4-a5889dce1d69">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;ILJMHC3I55NbTHSoY4gHCbXoFqCmQbSa7aqzAr1AI2nkchqDrK/H3EbdRYdqwt4+Grx8MoCAs/oVJkwb0kptXg==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\u003cp\u003eこの記事は、\u003ca href=\"https://www.lis.co.jp/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eリンク情報システム\u003c/a\u003eが主催するイベント「\u003ca href=\"https://qiita.com/dgkz/private/eabde6515457d8acec9b\" id=\"reference-8744bcb2c4a5743a84a4\"\u003e2021新春アドベントカレンダー Tech Connect\u003c/a\u003e」のリレー記事です。\u003cbr\u003e\nengineer.hanzomon のグループメンバによってリレーされます。\u003cbr\u003e\n （リンク情報システムのFaceBookは\u003ca href=\"https://ja-jp.facebook.com/lis.co.jp/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eこちら\u003c/a\u003eから）\u003c/p\u003e\n\n\u003cp\u003e最終日らしいです。頑張ります。\u003cbr\u003e\nこんな記事が最終日で大丈夫か。\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003cp\u003e〇\u003cbr\u003e\n　色々な点で、私は根本的に間違っている。\u003cbr\u003e\n何故ならQiitaはこのような文章を投稿する場所ではないからだ。\u003cbr\u003e\n〇\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"やる気短し覚えよapi\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%84%E3%82%8B%E6%B0%97%E7%9F%AD%E3%81%97%E8%A6%9A%E3%81%88%E3%82%88api\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eやる気短し覚えよAPI\u003c/h1\u003e\n\n\u003cp\u003e　業務上、長らくC#でのWindowsアプリを作成していた。業務で作成したアプリたちは未だインターネットの海を航行したことはなかった。そしてこれから作るアプリもまた、インターネット海に出航することはないだろう。\u003cbr\u003e\nこのままでは時代に取り残される。危機感を覚えた私は「今のうちにWeb APIなるものを使えるよう練習がしたい」と思い、自宅PCのVisual Studioを起動したのであった。\u003c/p\u003e\n\n\u003cp\u003e　常々、何か面白い事をしようと思い立った時、新しい技術の知識/経験に乏しく、何もできないが故に何も思いつかない。そのまま惰眠で時間をじゃぶじゃぶと浪費し、気持ちが急速に失われていくことがある。これを私はやる気殺人と名付けた。\u003cbr\u003e\nやる気の連続殺人による治安低下で不安がっている私の脳内市民たちに、Web APIを習得することで安心してもらいたいというのが今回の目的である。\u003c/p\u003e\n\n\u003cp\u003e　「今更Web APIかよ」「未だに.Net Framework使っている時点で、お前は時代に取り残されてるわ」等の指摘は、私も痛いほど理解しているため控えていただくよう願う。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"選定の技術\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%81%B8%E5%AE%9A%E3%81%AE%E6%8A%80%E8%A1%93\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e選定の技術\u003c/h1\u003e\n\n\u003cp\u003e1月9日\u003cbr\u003e\n　皆さんお元気だろうか。私は部屋がとても寒いので電気ヒーターの前から動けない中、この手紙を書いている。\u003c/p\u003e\n\n\u003cp\u003e　さてWeb APIの件でごちゃごちゃと喚いていた私だが、この度使用するWeb APIをついに決定した。\u003cbr\u003e\n\u003ca href=\"https://ekiworld.net/service/sier/webservice/free_provision.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003e\u003cstrong\u003e「駅すぱあとWebサービス」\u003c/strong\u003e\u003c/a\u003eだ。無料で使え、結果が分かりやすく、今回の目的にぴったりではなかろうか。\u003c/p\u003e\n\n\u003cp\u003e　今までWeb APIを使ってこなかったため、Web APIを使用するのにWeb申し込みが必要だということを知らなかった。今日申し込んだばかりで、使えるようになるのに数日かかるのは痛い。さらに「コイツはそんなことも知らなかったのか」という皆の目線が突き刺さるのも痛い。しょうがないではないか。\u003c/p\u003e\n\n\u003cp\u003e　APIが使えるその日までにやる気が殺されてないといいが、この駄文を書き切らないと後々「Qiita記事書く書く詐欺野郎」という不名誉な称号が付されるため、何が何でも書かなければならない。やる気を生かすか、ゾンビとして復活させるかのどちらかしか、私に道はないのだ。\u003c/p\u003e\n\n\u003cp\u003e　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　草々   following_ng\u003cbr\u003e\n記事を読んでくださる皆さんへ\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"製造の項\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A3%BD%E9%80%A0%E3%81%AE%E9%A0%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e製造の項\u003c/h1\u003e\n\n\u003cp\u003e\u003cstrong\u003e1月10日\u003c/strong\u003e\u003cbr\u003e\n　日付が変わると共に手紙を書き終えた私は、いつになるかわからないAPIの使用開始時期に不安を覚えつつ、C#でGUIを作ることにした。\u003cbr\u003e\n\u003ca href=\"https://docs.ekispert.com/v1/api/\" rel=\"nofollow noopener\" target=\"_blank\"\u003e\u003cstrong\u003e「駅すぱあとWebサービス」のAPI設計書\u003c/strong\u003e\u003c/a\u003eを見ながら、GUI側でやるべきことを列挙すると以下となる。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e出発日時を指定する。起動時には現在時刻を表示する。\u003c/li\u003e\n\u003cli\u003e駅名をあいまい入力し、そこから候補駅をリスト表示する。\u003c/li\u003e\n\u003cli\u003eリストから出発駅、到着駅を選択し、経路探索ボタンを押下することで経路を表示する。\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e今回はWeb APIを使用できればそれでいいので、上記のような仕様で勘弁願いたい。上記を実現したのが以下である。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/0069b5d8f1cb51d3ec3701e7c401cf60baf33233/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3331373730322f32653837363535382d336534392d663239612d386563612d3366623437323634653737312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F317702%2F2e876558-3e49-f29a-8eca-3fb47264e771.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=246b53beec1528a86cc24604482ff711\" alt=\"モック画面.PNG\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/317702/2e876558-3e49-f29a-8eca-3fb47264e771.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F317702%2F2e876558-3e49-f29a-8eca-3fb47264e771.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=786d74f85e869c75c33bfa968b0f82e4 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nこののっぺりしたGUIを作成し終えた私は、冷たい布団に倒れこみ翌朝まで泥の様に眠るのであった。\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003e1月11日\u003c/strong\u003e\u003cbr\u003e\n　昨日、深夜のテンションで書き始めた駄文を読み返し、自分の文才のなさに泣きながら、少しでも奇天烈かつ面白みのある文章にしてやろうと推敲を始めた。しかしいくら時間が経っても駄文は駄文のままなので、私は私を呪った。\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003e1月12日\u003c/strong\u003e\u003cbr\u003e\n　APIキーが送られてきた。これで開発の続きができる。Web開発原理主義者に「あいつ逃げやがったぜ」と笑いながら指をさされることは、今のところ回避できそうだ。しかし平日は業務多忙であるため開発作業及び駄文製造は週末に回したいと思う。\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003e1月15日\u003c/strong\u003e\u003cbr\u003e\n　さて、この「駅すぱあとWebサービス」ではHTTPを使用してメッセージを送り、XMLもしくはJSON形式でデータの受け取りを行う。XMLとJSON、どちらも不慣れな私は「名前が強そう」という小学生のような理由で、XMLを使用することに決めた。\u003c/p\u003e\n\n\u003cp\u003e　兎にも角にもソースを書かなければアプリは出来上がらない。Web  APIを動作させるためGoogle検索エン神に祈りを捧げ情報収集し、以下のようなクラスを作成した。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eApiCtrl\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eString\u003c/span\u003e \u003cspan class=\"n\"\u003eApiAddress\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eString\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEmpty\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003eApiCtrl\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eString\u003c/span\u003e \u003cspan class=\"n\"\u003eAddress\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e//基本アドレス\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eApiAddress\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAddress\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eXElement\u003c/span\u003e \u003cspan class=\"nf\"\u003eGetResponse\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eString\u003c/span\u003e \u003cspan class=\"n\"\u003eCode\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eWebRequest\u003c/span\u003e \u003cspan class=\"n\"\u003erequest\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eWebRequest\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCreate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eApiAddress\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eCode\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eStream\u003c/span\u003e \u003cspan class=\"n\"\u003eresponse_stream\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003erequest\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetResponse\u003c/span\u003e\u003cspan class=\"p\"\u003e().\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetResponseStream\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eXElement\u003c/span\u003e \u003cspan class=\"n\"\u003exml\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eXElement\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLoad\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eresponse_stream\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003exml\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e作成してみると意外にシンプルな作りで拍子抜けした。こんなものでWeb APIが動くのか。私はこれから始まる”Web APIとの輝かしい未来”を思い描きつつ作業を進めた。\u003cbr\u003e\n　続いて上記で作成したWeb API操作クラスを画面から使用するため、以下のようなメソッドを作成した。こちらも中々すっきり書くことができた。誠に申し訳ないが呼び出している変数や画面パーツの内容は変数名で想像してほしい。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eString\u003c/span\u003e \u003cspan class=\"n\"\u003eStationSearchCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"v1/xml/station/light?key={0}\u0026amp;name={1}\u0026amp;type=train\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eXElement\u003c/span\u003e \u003cspan class=\"nf\"\u003eGetStationInfo\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eString\u003c/span\u003e \u003cspan class=\"n\"\u003eName\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eXElement\u003c/span\u003e \u003cspan class=\"n\"\u003exml\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e//制御コード作成\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eString\u003c/span\u003e \u003cspan class=\"n\"\u003eCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eString\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFormat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eStationSearchCode\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAccessKey\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eName\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e//WebAPIに指示\u003c/span\u003e\n    \u003cspan class=\"n\"\u003exml\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eapi\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetResponse\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eCode\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003exml\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eString\u003c/span\u003e \u003cspan class=\"n\"\u003eRouteSearchCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"v1/xml/search/course?key={0}\u0026amp;from={1}\u0026amp;to={2}\u0026amp;date={3}\u0026amp;time={4}\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eXElement\u003c/span\u003e \u003cspan class=\"nf\"\u003eGetRouteInfo\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eString\u003c/span\u003e \u003cspan class=\"n\"\u003eFromStation\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eString\u003c/span\u003e \u003cspan class=\"n\"\u003eToStation\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eDateTime\u003c/span\u003e \u003cspan class=\"n\"\u003eSearchDatetime\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eXElement\u003c/span\u003e \u003cspan class=\"n\"\u003exml\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e//制御コード作成\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eString\u003c/span\u003e \u003cspan class=\"n\"\u003eCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eString\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFormat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eRouteSearchCode\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAccessKey\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eFromStation\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eToStation\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \n                                \u003cspan class=\"n\"\u003eSearchDatetime\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToString\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"yyyyMMdd\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"n\"\u003eSearchDatetime\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToString\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"HHmm\"\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e//WebAPIに指示\u003c/span\u003e\n    \u003cspan class=\"n\"\u003exml\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eapi\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetResponse\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eCode\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003exml\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e　ここまで来れば後は適当にXMLを読み取り、適当に画面表示を行えば目的は達成できる。ああWeb API、君はなんて単純なやつなんだ。\u003cbr\u003e\n　私の勝ち誇った顔は、その後自らが犯した過ちによって曇っていくことを、予感させないほど光り輝いていた。この頃に戻って「正気に戻れ」と二三発ほど頬を打ってやりたい気持ちになるが、頬を打ったところで私が無能であることには変わりはない。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"新釈動けアプリ-バグ数件\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%96%B0%E9%87%88%E5%8B%95%E3%81%91%E3%82%A2%E3%83%97%E3%83%AA-%E3%83%90%E3%82%B0%E6%95%B0%E4%BB%B6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e【新釈】動けアプリ バグ数件\u003c/h1\u003e\n\n\u003cp\u003e　駅情報検索部を作成したが例外が発生し、アプリが途中で終了した。私は頭を抱えた。強そうな名前という理由で選んだXMLは、貧弱な私の手に負えるものではなかったのだ。おのれXML、ゴールを見据えた私の眼前に立ちはだかるとはいい度胸だ。\u003c/p\u003e\n\n\u003cp\u003e　以下のコードでXElement型のinfoは私が要素名を指定すると、その要素名に設定された値を返してくれるはずであった。ところが奴は要素名を聞いたところで、当たり前のような顔でNullReferenceExceptionを投げつけてくるのである。これは私に対しての宣戦布告に近しいものであった。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e//コマンドを作成し、Web APIにコマンドを送信する。\u003c/span\u003e\n\u003cspan class=\"n\"\u003eXElement\u003c/span\u003e \u003cspan class=\"n\"\u003eelement\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003eGetStationInfo\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eStation\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eIEnumerable\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eXElement\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003einfos\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"n\"\u003eitem\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eelement\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eElements\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Point\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003eselect\u003c/span\u003e \u003cspan class=\"n\"\u003eitem\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eFromStationInfoList\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eClear\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"n\"\u003eFromListBox\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eItems\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eClear\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"k\"\u003eforeach\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eXElement\u003c/span\u003e \u003cspan class=\"n\"\u003einfo\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003einfos\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eString\u003c/span\u003e \u003cspan class=\"n\"\u003eName\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003einfo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eElement\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Name\"\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"n\"\u003eValue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// ここで例外発生\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eString\u003c/span\u003e \u003cspan class=\"n\"\u003eCode\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003einfo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAttribute\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"code\"\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"n\"\u003eValue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eFromStationInfoList\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eStationInfo\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eCode\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eFromListBox\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eItems\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e　色々試していると唯々私が阿呆だったということが明らかになっていく。\u003ccode\u003efrom item in element.Elements(\"Point\") select item;\u003c/code\u003eで、Point中の全ての要素に対し、名前を指定すれば値を返してくれるようになると私は勘違いしていた。それを受けてアプリは「Point中にNameなんて名前の要素はありません」と例外を投げつけてくるのである。考えてみれば至極当たり前のことである。\u003cbr\u003e\n　\u003ccode\u003eName = info.Element(\"Name\").Value;\u003c/code\u003eを\u003ccode\u003eName = info.Element(\"Station\").Element(\"Name\").Value;\u003c/code\u003eと書くことによって、この問題は解決したのであった。XMLよ、申し訳ない。私が愚かなばかりにお前にいらぬ罪を着せるところだった。\u003c/p\u003e\n\n\u003cp\u003e　今度は要の経路探索部で、例外が発生した。今度はWeb APIのエラー応答による例外であった。試しにブラウザで送ったURIを打ち込みアクセスしてみると以下のようなエラーが表示された。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"xml\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;ResultSet\u003c/span\u003e \u003cspan class=\"na\"\u003eapiVersion=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"1.27.0.0\"\u003c/span\u003e \u003cspan class=\"na\"\u003eengineVersion=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;Error\u003c/span\u003e \u003cspan class=\"na\"\u003ecode=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"W403\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"nt\"\u003e\u0026lt;Message\u0026gt;\u003c/span\u003e\n            利用できない機能を呼び出しています。アクセスできる機能は、/corporation,/operationLine,/rail,/search/course/light,/station,/station/info,/station/lightです。\n        \u003cspan class=\"nt\"\u003e\u0026lt;/Message\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;/Error\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/ResultSet\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e　私が使用しているプランは、APIフリープランであるため、機能制約があるらしい。何かしらの記事を書かねばと躍起になっていた私は、APIのプラン説明をちゃんと読んでいなかった。誰も責めることはできまい。\u003cbr\u003e\n　エラー内容を読んでみると経路探索に使えそうな機能は\u003ccode\u003e/search/course/light\u003c/code\u003eくらいである。しかしAPI設計書を探しても\u003ccode\u003e/search/course/light\u003c/code\u003eの説明はなかった。試しに\u003ccode\u003e/search/course/\u003c/code\u003eとしていたところを\u003ccode\u003e/search/course/light\u003c/code\u003eに書き換えて実行すると、エラーは出なくなった。これでやっとゴールにたどり着けると思った私にさらなる試練が待ち受けていたのであった。\u003c/p\u003e\n\n\u003cp\u003e　以下が経路探索の結果を示すXMLである。乗る路線や時間、経由地などが記されたXMLが返ってくると思っていた私は目を疑った。なんと\u003ca href=\"https://roote.ekispert.net/result?arr=%E6%9D%B1%E4%BA%AC\u0026amp;arr_code=22828\u0026amp;connect=true\u0026amp;dep=%E6%96%B0%E5%AE%BF\u0026amp;dep_code=22741\u0026amp;express=true\u0026amp;highway=true\u0026amp;hour=1\u0026amp;liner=true\u0026amp;local=true\u0026amp;minute=52\u0026amp;plane=true\u0026amp;shinkansen=true\u0026amp;ship=true\u0026amp;sleep=false\u0026amp;sort=time\u0026amp;surcharge=3\u0026amp;type=dep\u0026amp;via1=\u0026amp;via1_code=\u0026amp;via2=\u0026amp;via2_code=\u0026amp;yyyymmdd=20210116\" rel=\"nofollow noopener\" target=\"_blank\"\u003e\u003cstrong\u003eWebページで検索した際の結果ページ\u003c/strong\u003e\u003c/a\u003eのURLを返却してきたのである。これではアプリ上に結果を表示することができないではないか。私は膝から崩れ落ちた。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"xml\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;ResultSet\u003c/span\u003e \u003cspan class=\"na\"\u003eapiVersion=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"1.27.0.0\"\u003c/span\u003e \u003cspan class=\"na\"\u003eengineVersion=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"202101_02a\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;ResourceURI\u0026gt;\u003c/span\u003e\n        https://roote.ekispert.net/result?arr=%E6%9D%B1%E4%BA%AC\u003cspan class=\"err\"\u003e\u0026amp;\u003c/span\u003earr_code=22828\u003cspan class=\"err\"\u003e\u0026amp;\u003c/span\u003econnect=true\u003cspan class=\"err\"\u003e\u0026amp;\u003c/span\u003edep=%E6%96%B0%E5%AE%BF\u003cspan class=\"err\"\u003e\u0026amp;\u003c/span\u003edep_code=22741\u003cspan class=\"err\"\u003e\u0026amp;\u003c/span\u003eexpress=true\u003cspan class=\"err\"\u003e\u0026amp;\u003c/span\u003ehighway=true\u003cspan class=\"err\"\u003e\u0026amp;\u003c/span\u003ehour=1\u003cspan class=\"err\"\u003e\u0026amp;\u003c/span\u003eliner=true\u003cspan class=\"err\"\u003e\u0026amp;\u003c/span\u003elocal=true\u003cspan class=\"err\"\u003e\u0026amp;\u003c/span\u003eminute=52\u003cspan class=\"err\"\u003e\u0026amp;\u003c/span\u003eplane=true\u003cspan class=\"err\"\u003e\u0026amp;\u003c/span\u003eshinkansen=true\u003cspan class=\"err\"\u003e\u0026amp;\u003c/span\u003eship=true\u003cspan class=\"err\"\u003e\u0026amp;\u003c/span\u003esleep=false\u003cspan class=\"err\"\u003e\u0026amp;\u003c/span\u003esort=time\u003cspan class=\"err\"\u003e\u0026amp;\u003c/span\u003esurcharge=3\u003cspan class=\"err\"\u003e\u0026amp;\u003c/span\u003etype=dep\u003cspan class=\"err\"\u003e\u0026amp;\u003c/span\u003evia1=\u003cspan class=\"err\"\u003e\u0026amp;\u003c/span\u003evia1_code=\u003cspan class=\"err\"\u003e\u0026amp;\u003c/span\u003evia2=\u003cspan class=\"err\"\u003e\u0026amp;\u003c/span\u003evia2_code=\u003cspan class=\"err\"\u003e\u0026amp;\u003c/span\u003eyyyymmdd=20210116\n    \u003cspan class=\"nt\"\u003e\u0026lt;/ResourceURI\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/ResultSet\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e　私を崖下に突き落とし「ざまぁみろ。」と言わんばかりに、駅すぱあとWebサービスが私を指を刺して笑う妄想が私の頭の中を駆け巡った。”Web APIとの輝かしい未来”とは何だったのか。\u003c/p\u003e\n\n\u003cp\u003e　そんなことをぐちゃぐちゃと考えていてもオチがつかないので、どうにか形になるよう私はGoogle検索エン神に祈りと検索文字列を捧げエンターキーを押した。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"四畳半結果発表\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%9B%9B%E7%95%B3%E5%8D%8A%E7%B5%90%E6%9E%9C%E7%99%BA%E8%A1%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e四畳半結果発表\u003c/h1\u003e\n\n\u003cp\u003e　C#もとい.Net Frameworkは私を見放したりはしなかった。Windows.FormsのパーツにWebBrowserというWebページを表示させるための画面パーツが存在したのだ。これで私は結果の画面表示ができるぞ。ありがとう.Net、ありがとうMicrosoft。\u003c/p\u003e\n\n\u003cp\u003e　WebBrowserを実装した画面が以下である。多少アプリの見た目が不格好になってしまったが、そんなことはもう気にしてなどいない。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/b57f749bd5f52e53c3b91ac3e9e9657742efc207/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3331373730322f61393536643139352d353563652d626532622d336263362d3934356365323861393134332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F317702%2Fa956d195-55ce-be2b-3bc6-945ce28a9143.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=fa6fa44680070994e4beb07613e3a796\" alt=\"モック画面その2.PNG\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/317702/a956d195-55ce-be2b-3bc6-945ce28a9143.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F317702%2Fa956d195-55ce-be2b-3bc6-945ce28a9143.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=a6ef78dacca08e61d45e76559a0cc05e 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e　早速各機能を使用して経路探索を行ってみると以下の様に表示された。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/40adcf9005f6013a2c3d66877243a0a441bc56b3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3331373730322f38623932386437392d396135612d376430612d376537392d3439643630393261316434372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F317702%2F8b928d79-9a5a-7d0a-7e79-49d6092a1d47.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c79e493dc6a19532ee6577319da5e528\" alt=\"結果表示.PNG\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/317702/8b928d79-9a5a-7d0a-7e79-49d6092a1d47.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F317702%2F8b928d79-9a5a-7d0a-7e79-49d6092a1d47.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=808cb53d029041f8756cc6a30a7e54d6 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e　正しく経路探索が行われていることを確認した。この苦しく長い戦いに終止符が打たれたのであった。\u003c/p\u003e\n\n\u003cp\u003e〇\u003cbr\u003e\n　私とWeb APIの関係がその後いかなる展開を見せたのか、それはこの稿の趣旨から逸脱する。したがって、その妙味を逐一書くことはさし控えたい。皆さんもそんな唾棄すべきものを読んで、貴重な時間を溝に捨てたくはないだろう。\u003cbr\u003e\n　成功した開発ほど語るに値しないものはない。\u003cbr\u003e\n〇\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"森見登美彦先生-大変申し訳ございませんでした\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%A3%AE%E8%A6%8B%E7%99%BB%E7%BE%8E%E5%BD%A6%E5%85%88%E7%94%9F-%E5%A4%A7%E5%A4%89%E7%94%B3%E3%81%97%E8%A8%B3%E3%81%94%E3%81%96%E3%81%84%E3%81%BE%E3%81%9B%E3%82%93%E3%81%A7%E3%81%97%E3%81%9F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e森見登美彦先生 大変申し訳ございませんでした。\u003c/h1\u003e\n\n\u003cp\u003e　今回Qiitaに投稿する事柄を決めかねた私は、あろうことか好きな作家の書きっぷりを真似て、雑魚技術の習得を大層立派なことをしたかのように書くという過ちを犯しました。\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003e森見登美彦先生 及び 森見登美彦ファンの皆様 誠に申し訳ありません。\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003e次は米澤穂信先生で書きたいですが、もう疲れたので無理です。\u003cbr\u003e\nあとアドベントカレンダーはこれで終了です。お疲れ様でした。\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003cp\u003e\u003ca href=\"https://www.lis.co.jp/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eリンク情報システム株式会社\u003c/a\u003eでは一緒に働く仲間を\u003ca href=\"https://www.lis.co.jp/employ_top\" rel=\"nofollow noopener\" target=\"_blank\"\u003e随時募集\u003c/a\u003eしています！\u003cbr\u003e\n また、お仕事のご依頼、ビジネスパートナー様も募集しております。\u003ca href=\"https://www.lis.co.jp/inquiry\" rel=\"nofollow noopener\" target=\"_blank\"\u003eお気軽にご連絡\u003c/a\u003eください。\u003c/p\u003e\n","createdAt":"2021-02-01T23:15:41Z","elapsedYearsFromLastModifiedAt":0,"encryptedId":"wOHVJbgq0RAhlH6c7S+DgfK6lssBc97FCA==--+X5jNwpUmN+GlP5D--8RFuZ6SjK5hOijzeWTCweQ==","isBanned":false,"isDeprecated":false,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":false,"lastModifiedAt":"2021-02-01T23:15:41Z","likesCount":80,"linkUrl":"https://qiita.com/following_ng/items/8facf6310b34476342f9","organization":null,"originalId":1386432,"stockedCount":59,"title":"Web APIの使い方を森見登美彦風に覚える。","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%84%E3%82%8B%E6%B0%97%E7%9F%AD%E3%81%97%E8%A6%9A%E3%81%88%E3%82%88api\"\u003eやる気短し覚えよAPI\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E9%81%B8%E5%AE%9A%E3%81%AE%E6%8A%80%E8%A1%93\"\u003e選定の技術\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%A3%BD%E9%80%A0%E3%81%AE%E9%A0%85\"\u003e製造の項\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%96%B0%E9%87%88%E5%8B%95%E3%81%91%E3%82%A2%E3%83%97%E3%83%AA-%E3%83%90%E3%82%B0%E6%95%B0%E4%BB%B6\"\u003e【新釈】動けアプリ バグ数件\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%9B%9B%E7%95%B3%E5%8D%8A%E7%B5%90%E6%9E%9C%E7%99%BA%E8%A1%A8\"\u003e四畳半結果発表\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%A3%AE%E8%A6%8B%E7%99%BB%E7%BE%8E%E5%BD%A6%E5%85%88%E7%94%9F-%E5%A4%A7%E5%A4%89%E7%94%B3%E3%81%97%E8%A8%B3%E3%81%94%E3%81%96%E3%81%84%E3%81%BE%E3%81%9B%E3%82%93%E3%81%A7%E3%81%97%E3%81%9F\"\u003e森見登美彦先生 大変申し訳ございませんでした。\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","totalPv":10144,"uuid":"8facf6310b34476342f9","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"SYoUpLMxGlapOjBNoUem9cXeZRRY--grHxNRuHRKLMifYN--RPDCl+LF4EoZ573gqQKvYA==","originalId":317702,"description":"私はどんなエンジニアや偉い人よりNoel Gallagherを崇拝している。","facebookUrl":null,"githubUrl":null,"isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"","profileImageUrl":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/317702/profile-images/1566368120","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F317702%2Fprofile-images%2F1566368120?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=010c2007d08696057ed52d75e63d46ba","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F317702%2Fprofile-images%2F1566368120?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=e1ac8e747eb3315e24c40fc70bcbff8c","urlName":"following_ng","websiteUrl":"","twitterUrl":null,"twitterUrlName":null,"revealedOrganizations":{"edges":[{"node":{"encryptedId":"Lv7vwm8DjIB9yztXUKyw7rO7C906lbxzzL8=--3bYaqHqnLTjg2Ns4--cwgsEAmhg+/2zyZfpcsdcw==","isBetaReleaseEnabled":false,"isFollowableByViewer":false,"isFollowedByViewer":false,"name":"リンク情報システム株式会社","logoUrl":"https://s3-ap-northeast-1.amazonaws.com/qiita-organization-image/f0915a38b744d6a58d75541909bd7c8d4f0266ae/original.jpg?1537854274","urlName":"link_information_systems","description":"放送・航空宇宙・商社・自動車・通信・防災・データセンター・社会インフラなど広範囲な分野で、ソフトウエア開発からシステム運用まで、またテレビの字幕制作など幅広いサービスを提供しています。","url":"https://www.lis.co.jp/"}}]}},"tags":[{"name":"XML","urlName":"xml"},{"name":"C#","urlName":"csharp"},{"name":"WebAPI","urlName":"webapi"},{"name":"駅すぱあとWebサービス","urlName":"%e9%a7%85%e3%81%99%e3%81%b1%e3%81%82%e3%81%a8web%e3%82%b5%e3%83%bc%e3%83%93%e3%82%b9"},{"name":"森見登美彦","urlName":"%e6%a3%ae%e8%a6%8b%e7%99%bb%e7%be%8e%e5%bd%a6"}],"followingLikers":{"edges":[]},"comments":{"totalCount":1}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
