More than 5 years have passed since last update.C#のスクレイピング用のライブラリScrapySharpの使い方を書いてる記事があまりなかったので、まとめておきます。
ScrapySharpはHtmlAgilityPackと組み合わせて使う形になります。まず、ScrapySharpとHtmlAgilityPackライブラリをプロジェクトに追加します。いつもの如くproject.jsonに次のように書いておき、NuGetからライブラリをプロジェクトに追加します。ScrapySharpでは、ScrapingBrowserでスクレイピング対象のページを取得し、取得結果に対してCSSセレクタやXPathを適用してスクレイピング対象のデータを取り込む、という手順になります。例えば、http://example.com/page.html で次のようなHTMLが得られるとします。そのようなページに対してスクレイピングをするコードの例は次の通りです。上のコードのGistはこちら


