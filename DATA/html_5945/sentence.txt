More than 3 years have passed since last update.最近はC#に凝っています。LINQとvarが最高すぎて、Javaにはもどれない(´・ω・｀)リストや配列を生成する際、すべての要素を特定の値で初期化したいという場合、プログラミング言語の種類によっては専用のコンストラクタが用意されているものもありますが、C#ではEnumerable#Repaeatを利用する方法がよさそうです。注意すべきは第1引数の値が要素ごとに複製されないということです。intやstringのようなimmutableなクラスでは問題ありませんが、この方法によりmutableなオブジェクトで配列やリストを初期化したいという場合には気を付ける必要があります。以下のサンプルコードでは、mutableなクラスのうち、もっとも代表的なもののひとつSystem.Collections.Generic.Listを例として、この方法が想定通り動作しないことを示しています。ちなみにこのサンプルコードを想定通りに機能させる場合は、以下のような初期化方法、つまりRepeatではなくRangeとSelectを組み合わせる方法を採用すべきです。


