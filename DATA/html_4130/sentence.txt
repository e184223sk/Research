More than 1 year has passed since last update.Googleで「Unity 緑こうら」と調べてもUnityについての記事が見つからなかったので
今更ですがメモとして書きたいと思います。
(そもそも検索エンジンで出てこないということは調べてる人が少なすぎるということでこの記事の必要性低い?w)3Dで進めていきます。2Dでも少し変えればできます。では早速始めていきましょう。あるシーンに下の様にオブジェクトを作ってください。
MidoriKouraに緑色のマテリアルを付けました。次にMidoriKouraにRigidbodyを追加してy座標を固定してください。
Angular Dragを0にし、Use Gravityのチェックを外します。
Angular Dragは空気抵抗です。0にした場合それが無くなります。
Use Gravityは重力の有無です。
PlayerにもRigidbodyを追加します。値はそのままでいいです。
Physic Materialで摩擦や弾性などを設定できます。
Collider関連のコンポーネントにMaterialという項目がありますよね？
そこにアタッチするものです。ProjectウィンドウでCreate -&gt; Physic Material で作成してください。
名前は何でもいいです。
New Physic Materialを選択してインスペクターから値を変えていきます。
画像のように設定してください。
Friction CombineはMinimum、Bounce CombineはMaximumであることに注意してください。
これをMidoriKouraのBox ColliderにあるMaterialにアタッチしてください
キューブオブジェクトでステージを作ってみました。
床となるStage、壁となるWallでステージを作っています。これらのオブジェクトにはその他のコンポーネントを追加しなくても大丈夫です。今回は、緑こうらの動きをするスクリプトとPlayerを動かすスクリプトの２つを書きます。ゲーム起動時に右上にオブジェクトが押されるようにして、Playerに当たったときに消すだけです。
Playerのオブジェクトの名前が Player じゃない方は、
コード内の"Player"の部分をそのオブジェクトの名前に設定してください。保存したらMidoriKouraにアタッチしてください。そしてプレイしてみてください。壁に跳ね返って動き回ると思います。
Playerに当たると消えると思います。スピードが遅いと感じる方はspeedの値を上げてください。保存したらPlayerにアタッチしてください。
MidoriKouraが当たったらPlayerも消えるようにしただけです。ここまでのスクリプトではMidoriKouraはPlayerに当たるまで永遠に動き回ります。10回壁にあたったら消えるようにしましょう。今のステージでは、コンピュータからしてみれば床や壁の区別がついていません。
同じ扱いを受けています。
このままでは壁だけ反応させることはできません。
他に区別の仕方はあると思いますが、今回はタグを使って区別していこうと思います。壁になっているオブジェクトを選択(CTRLキーで複数選択)して、Tag [Untagged] をクリックしてAdd tag...でタグを追加します。
[+] をクリックしてWallというタグを作ってください。
再びWallゲームオブジェクトを選択してWallを決定してください。
これでWallを認識できました。MidoriKouraMovementをもう一度編集します。MidoriKouraが壁にぶつかるたびにcountを1増やし、
countが10以上になったとき消すようにしています。この状態ではMidoriKouraの力の方向は右奥になります。
これをランダムにします。変えたのはStart()の中だけ変えました。360度の中から乱数で取得します。
その数字にspeedをかけて移動させています。ここのspeedは異常に速いので最初のspeedを200で割ったくらいの数字がちょうどいいです。Qiitaどころか記事を書くのをあまりしたこと無いので分かりづらくてすみません。誤字脱字・情報の誤りがあったらコメントしていただいたら幸いです。


