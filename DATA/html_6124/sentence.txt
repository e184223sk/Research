表現が難しい…。タスクが非同期で複数殺到して処理待ちになるような状況で、現在処理中のタスクと一番最後に来たタスクだけ残して、その他（中間）はキャンセルとする。というものを実装したくなった。下記のようなイメージ。例えばスライダーコントロールとかで、値が変化するたびに値に応じて何らかの処理をしないといけないけど、その処理が若干重い場合。
全部律儀にこなしてたらガクガクになっちゃうので、1発目と最後のだけ処理して、他は捨てたい、そんな時。セマフォを2つ使う。1つ目は初期値2、2つ目は初期値1にする。そしてセマフォとは別にカウンタXを用意して、3つ目以降のタスクが来たら増やすようにする。
wait1、wait2はそれぞれセマフォ1、セマフォ2のwaitの箇所。こんな感じでイケるんじゃないかと！C#でやってみたけど、まあ他の言語でも出来そう。4つ目以降のタスクが来たら処理順が変わっちゃうんじゃないかとも思ったけど、3つ目が来てから2つ目が抹殺されて詰められるまでは多分一瞬なので、基本的に一度に3つ以降のタスクが長時間溜まるような状況は無いんじゃないかと思う。あまり自信無し。


