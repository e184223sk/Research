More than 3 years have passed since last update.普段はSwiftでiOSアプリ開発してるのですが、Swiftで動作している条件式をC#に移植したら、想定外の動作となりハマりました。。。 
以下、実際にハマったコードの再現コードを元に検証していきます。このコードの実行結果は6.2は6.2以上となり、想定通りです。このコードの実行結果は6.2は6.2未満となり、想定通り。。。じゃない！
なんでこうなったのか調べると、条件部分のfloatValue &lt; 6.2の型解決？の動作がSwiftとC＃で異っていることが原因でした。  ※ double型にキャストした6.2は6.19999980926514なので、C#のコードの実行結果とも合致します。このため以下のようにコードを修正（条件部分の6.2を6.2fに修正）して実行すると、このコードの実行結果は6.2は6.2以上となり、めでたく想定通りとなりました！！
最終的にC#的には、fの付け忘れということなんだと思いますが、Swiftだとfをつけなきゃいけないっていう認識がないのでハマりました。。。このSwiftとC#のコードの結果は両方とも以下になりました。精度の高いDoubleへキャストした場合に誤差が発生するみたいです。
なぜなんだろう？


