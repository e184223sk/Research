More than 1 year has passed since last update..NET Coreを始めたのですが、理解が浅かったのでこまめにまとめたいと思います。
ここではWebAPIによるプロジェクトのログ出力についてまとめます。.NET CoreにおけるLoggerの基本的な使い方はDIによる利用になります。例えば、GET: api/samples/{id}のようなエンドポイントを考えます。
以下のようなコードを用意します。指定したIdが存在しない場合、NotFoundResultを返します。この時のレスポンスは以下のようになります。ここで気になるのはtraceIdの存在です。ログの出力をDebugレベルで確認すると、リクエストの開始とレスポンスの完了のタイミングでtraceIdの出力があります。しかし、Debugレベルでの出力になるので、不要なのでは？と思ってしまいます。悩んだ結果、TraceIdをログに出すことにしました。Controllerからであれば、HttpContextプロパティのTraceIdentifierをログ出力すれば良いです。そもそもレスポンスをtraceIdを返さないようにすることもできるんですが、どちらがいいんでしょうか 🤔 


