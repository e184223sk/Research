More than 3 years have passed since last update.C#のExceptionクラスの各プロパティとメソッドの内容をExceptionを順にチェインで結んだプログラムを実行し解読します。具体的にはC#例外クラス(Exception)の以下のプロパティ、メソッドの中身をコードを通して探ります。以下に3つ例外がチェインとして繋がるようにエラーハンドリングし、例外クラスの要素を出力するコードを示します。上記コードには以下3つの例外が存在ThirdLevelException(3番目の例外)が持つinnerExceptionがSecondLevelException(2番目の例外)であり、
SecondLevelExceptionが持つinnerExceptionがDivideByZeroException例外
という関係です。3つの各例外のクラス名
NDP_UE_CS.ThirdLevelException, NDP_UE_CS.SecondLevelException, System.DivideByZeroException3つの各例外共通でファイル名
exception_sample3つの各例外ごとに例外呼び出し元の関数からキャッチされるまでを持つ3つの各例外共通で一番最下のSystem.DivideByZeroException例外自身と自身の持つInnerException例外のスタックトレースを再帰的に出力する。基本的に次に新たな例外を投げるときはキャッチしている例外をコンストラクタに渡すことStackTraceプロパティはその例外の発生とキャッチまでしか保持しないので、その例外だけのStackTraceをログに出すのは不十分GetBaseException()メソッドはその例外の根っこだけを知りたいときに利用する。(基本的にデバッグに用いるもので、ログ出力に用いるべきではなさそう)ToString()メソッドはinnerExceptionを再帰的に呼び出すので十分な情報が得られる。


