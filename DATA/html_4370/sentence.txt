More than 1 year has passed since last update.前回もそうですが、今回書いたやり方は「低レベルAPIを利用したテーブル操作」だったことがわかりました。
ということはもちろん「高レベルAPI」があって、それを使うとより簡単に記述できるようです。
すみません。
高レベルAPIを使ったデータの追加方法について書きました。今回はテーブルへのデータの追加方法の説明のやり直しです。
こちらも基本的にはテーブル作成と同じで、リクエストを作って、それをPutItemAsyncメソッドに渡すことでデータを追加できます。渡すデータはユーザーID（文字列）と保存したい値（キーバリューペア）です。
キーバリューペアはDictionary&lt;string, AttributeValue&gt;でattributes列に入れるデータを作ります。これはAttributeValueのインスタンスです。
AttributeValueは以下のようなプロパティがあり、これらは格納するデータの種類になります。

Alexaスキルではこの「M」プロパティを使います。
このプロパティはDictionary&lt;string,AttributeValue&gt;型なので、キー（文字列）とバリュー（これまたAttributeValue）を入れていきます。
今回はユーザーの発話から取得した星座の情報を保存しますので、「sign」をキーとして、バリューにnew AttributeValue{ S = "ふたご座"}を入れます。
もし、複数ある場合は同じようにして「M」プロパティにAddしていきます。こうしてattributes列に入れるデータを作ったら、それを使ってPutItemRequestを作ります。リクエストができたらPutItemAsyncメソッドに渡せば、指定したテーブルにデータが追加されます。AWSコンソールで確認すると以下のように、Node.js版のスキルで作成されたテーブルと同じ形式でデータが追加れているのがわかります。これで公式トレーニング第4回をC#で書くことができるはずです。あ、データの取得忘れてた。


