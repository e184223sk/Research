More than 3 years have passed since last update.boost::posix_time::time_period 相当のクラスは C# 標準にはないのだけど、誰かが作っているだろうと探してみたのですが、どれも仕様が合致せず。仕方なく、自分で作ることにしました。
ほぼ動いているのでここで晒しておきます。boost::posix_time::time_period の詳細は本家（英語）を参照してもらうことにして、仕様を簡単に記しておきます。となっています。合致しなかったのは、期間の定義です。探した範囲では、どれも終了が期間に含まれていました。指定した期間にチェックする日時が含まれているどうかを判定する時に、終了は含んで欲しくないのですよね。（自分が探し足りないだけでもしかしたら存在するのかもしれませんが・・・）。例えば、大小関係が A &lt; B &lt; C の3つの日時があったとして、X がのどの期間にあるのかを判定する時に、終了が含まれてしまうと、例えば B と同じ日時で判定した場合に、2番 と 3番 の 2 つの期間に含まれていることになってしまいます。これは期間に応じて処理をしたい場合などにおいてちょっとまずいことになります。かといって、終了を指定する際にわざわざ Tick 分だけ差し引いた日時を指定するのも面倒なので、自作することにしました。boost の time_period に含まれる関数相当の機能はほぼ網羅しています。Visual Studio 2015 で動作確認をしています。C#6.0 以上であれば使えるはずです。ソースはご自由に改変して使ってもらって構いません。しかし、何で C# には TimePeriod 的なクラスがないのだろう？


