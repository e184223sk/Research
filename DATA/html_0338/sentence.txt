WPFでListBoxを使用した際に、データによって表示を変更したいことがあります。
そんなときは、TemplateSelectorを使用します。これをたとえばIDの値によって表示するTextや文字色を変更してみますWindow.Resourcesを以下のように記述します次にListBoxを以下のように記述します以下のようにListBoxTemplateSelector を作成します
ここではIDの値が2で割り切れるかどうかで判別しています実行するとこんな感じになります
さきほどまではListBoxItemの値によって表示を変更する方法でしたが、アプリ開発していると、外部の値によってListBoxItemを変更したいということもあります。
こんな感じの機能です

こういうときはDataTriggerを使用すると簡単に実装できますここではViewModelは使用せずに機能するようにしていますListBoxのStyle設定からDataTriggerを使用し、ItemTemplateを動的に変更できるようにしています。今回はListBoxを例に挙げましたが、ContentControlに対して設定すれば、画面内そのものを変更するといったこともできます。
疑似的にページが切り替わったみたいな機能を実装できちゃったりします。多用するとコードがごちゃごちゃするので気を付ける必要がありますが、覚えておくと結構便利かなと思います。


