More than 3 years have passed since last update.OSX 10.11.6
Unity 5.4.2これらを全部自動でやってほしい。まず、生成するスクリプトの元となるテンプレートを用意する。テンプレート内の文字列"#SCRIPTNAME#"はスクリプト名に置換される場所とする。このテキストファイルをStreamReaderで読み込んで置換、csファイルとして保存する。スクリプトを生成した後、コンパイルが走る。
コンパイル終了後に空のGameObjectを生成して生成したスクリプトをアタッチしたいのだが、これが少し厄介。
コンパイルが終わったら処理が終了してしまい変数を保持できないため、必要な情報を外に出しておく必要がある。
今回の場合、Unity終了時に自動的に削除されるTempフォルダの中に一時ファイルとして保存することにした。DidReloadScriptsアトリビュートが設定されたメソッドは、再コンパイル後に自動的に実行される。
コンパイルが正常に終了すれば生成したスクリプトをアタッチできるようになるので、続けてこれをアタッチしたGameObjectを生成してプレハブ化する。これらの処理をGUIで実行できるようにEditorWindowとして作成する。
以下、全ソース。


