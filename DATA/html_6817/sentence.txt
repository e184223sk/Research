More than 3 years have passed since last update.ツール開発に関して自分のなかである程度知識がまとまってきたので、
ちょっと高度な？MVVMについてに記述していきます。下の用な感じでタブコントロールの中身をスマートに変更できるようプログラム作っていきます。
こんな感じです。
まずはC#のほうではDataTemplateSelectorを継承しDockPaneTemplateSelectorを定義します。
これでItemsSourceに値が追加されると、Itemの型を参照し、
ShaderProgramViewModelが追加されたんだったらShaderProgramTemplate使ってねと指定できます。次にxamlのほうです。
一番の注目はContentTemplateSelectorです。
ここでUserControl.Resourceに書いたTabItemTempalateSelectorをBindingしています。
ここで、ShaderProgramTemplateならShaderProgramViewを表示してね
追加されたItemの型はShaderProgramViewModelだよと指定できます。ちなみにVoxelViewとShaderProgramViewはUserControlです。あとはコントロール配置してるだけです。DataTemplateSelectorの他にStyleSelectorなるものもあります。
表示するViewModelによってStyleを変更したいときに使えるようです。このあたり使えるようになるとツール開発やりやすくなってくると思います。


