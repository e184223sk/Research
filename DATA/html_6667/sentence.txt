More than 1 year has passed since last update.注意:ぶっちゃけUnityちゃんもうasync/await使えるんだからそっちのほうがいいと思います！ 食中毒で会社くんなって言われてたときに作ってみました。
Issueにはなってるけどマダカナーってとこですマダカナマダカナーテストまだ不十分だけど一応公開しときます。
テストしたらgitとかにえいしときます。未保証で好きに使ってください。その前に普通にUnityWebRequestつかうのにも問題になりそうなバグなんだか仕様なんだかがあったんで共有。これやってるときにリクエスト終了後のDownloadHandler.textが空になってどうしたもんかなーとなりました。
dataをみても中身入っているのでどうやらエンコードに失敗している模様。これ一部のサイト「 http://google.com/ 」とかでだけおきます。
というかUTF8でエンコードできないとおきます。日本語は死んだ・・・
example.comは問題なく動きました。で、対応方法ですが、自前でエンコードします。どうせ一行ですし。なおエンコードはできてない模様・・・え・・・googleさん文字コードなんなの・・・？ObservableWWWと一緒です。
クラス名違うだけ、あとheaderの引数からHashは亡きものにしました。
ただ、UnityWebRequestのほうが高機能なのでUnityWebRequestをObservableにする拡張メソッドを定義しています。ToObservable,ToObservableBytes,ToObservableAssetBundleって感じです。
それ以上の拡張が欲しい場合はすぐできるんで拡張してみてください。Fetchメソッドを拡張しやすいようにデータの通知部分だけ分離しています。一切無保証です。参考までに。
あとコレだと多分(ライブラリの特性上)あんまり使いやすくないはずなのでさらに一枚自前の通信クラスか何か作ると良いと思います。実装はほぼほぼObservableWWWに合わせています。
自分で考えるより偉い人に右ならえするほうが事故らないよね。（つまり大部分パクりました）パクってるのでライセンス表記
https://github.com/neuecc/UniRx/blob/master/LICENSE


