More than 5 years have passed since last update.Facebook SDK for .NETでは、GetTaskAsync()等でユーザーのプロフィール情報等を取得できるのですが、型を何も指定しないとdynamic型で返されます。dynamic型は便利ではあるのですが、Visual StudioなどのIDEでインテリセンスが使えません。
後々のユニットテストや開発効率のことも考えると戻り値に型を持たせた方が良いため、そのように実装する方法を紹介します。実装が終わると、下図のようにインテリセンスが効くようになります。
Facebook Graph APIで、自分自身のプロフィール（/me）を取ってくる際に型付けを利用してみます。まずは戻り値を格納するクラスを定義します。
Facebook Graph APIのリファレンス を参考に、APIの戻り値にどのようなフィールドがあるかを確認し、それに応じたクラスを定義します。
自分自身のプロフィール（/me）の場合、Graph APIからはUserオブジェクトが返ってきますので、それに応じたフィールドを適宜定義します。あとは、FacebookClientでのGetTaskAsync()呼び出し時に上で定義したAboutMeResultクラスを渡してあげます。
そうすると、AboutMeResultクラスのインスタンスが返されます。


