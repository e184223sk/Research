More than 1 year has passed since last update.基本的にusingステートメントを使用するとブロックの終了時にDisposeが呼ばれます。上記を実行すると、1、2、Disposeと表示されます。
ただし、yieldやasync/awaitを使用する状況ではDisopseが呼ばれない可能性があります。
例えば以下のようなケースです。この場合、1、2までしか表示されません。
UnityがIEnumeratorの列挙を途中でやめてしまうからです。usingステートメントだけではなくtry/finallyも同様です。コルーチンをやめてUniRx.Asyncを使用すればこんなことは起こりません。上記を実行すると、1、2、Disposeと表示されます。
これはUniRx.Asyncがオブジェクトの寿命とは別にタスクを実行していること、
キャンセルがリクエストされたことでOperationCanceledExceptionが発生しているからです。
(逆に言うとトークンを正しく渡さない限りオブジェクトが削除された後でも先に進んでしまいます。)


