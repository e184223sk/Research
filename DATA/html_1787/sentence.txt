3月9日にTwitterに投稿したショートアニメの制作に関するお話です。※こちらのTwitter動画です3月9日なのでエモいショートアニメを作りました。ボイスは巳ノ瀬かなでさん(@minose_kanade )歌は星乃めぐりさん(@hoshi_no_meguri )(詳細はリプへ続く) pic.twitter.com/xBMTTS6lN1Unityでの3Dの映像制作で使ったものや、スピードアップを図ったことなどを書いていきます。3日間でアニメ制作とかいうふざけた日程での制作工程を綴ります。3月9日といえば、レミオロメンの「3月9日」ですよね。「1リットルの涙」のドラマの挿入歌で、その後は卒業シーズンなどのエモい場面で聞くことが多い曲です。ということで、「3月9日に合わせてエモいショートアニメTwitterに流したら超エモくね？」という安直かつ軽率な思考の下、3月6日のお昼頃にこの企画はスタートしました。30分くらいで構想を練り、動画の概要を以下のように設定しましたさらに30分ほど考えて、アニメ本編の世界観を設定しましたこの設定を使ってショートアニメの内容を以下のように作りこみましたアニメ作るなら声を募集しようかなって思ってTwitterでゆるーく募集かけました。知り合いが1人か2人くらい声をかけてくれることを期待していましたが、なんと総勢22名もの方が応募してくださいました。いろいろ悩んだ結果、今回は巳ノ瀬かなでさんにお願いしました。3月9日をBGMとして流したかったのですが、歌付きでBGMとして使って良い音源って転がってないのでTwitterで募集したら、星乃めぐりさんが提供してくださいました。やっとこさUnityでの作業です。今回の制作に関する制限や願望は以下です。1 が最もネックですが、それ故に選択肢が少ないため取捨選択は早かったです。
(全て買ったアセットのみでシンプルに作る、アニメーションはモーションキャプチャで作る、モーションの修正をしない等)お手軽に 2 を実現するため、今回はUnity2019.2.17 HDRPを使いました。HDRPでは高品質なグラフィックが簡単にできるため、映像制作にもってこいだと思います。そして 3 のために、背景用アセットと女の子の3Dモデルを購入。背景用にはアセットストアで学校(Snaps Art HD School)を、女の子はBoothでかなちゃんを購入して使いました。かなちゃんはシェーダーにUTS2.0を指定しておりHDRP対応はしていないため、HDRPで使えるトゥーンシェーダーを使って可愛くみえるようにセットアップします。今回はIsuzuToonShaderのHDRP用のものを使いました。
(ちなみに、HDRP用のビルトインシェーダーを使ってもいいですが、アニメ調のキャラはやはりトゥーンシェーダーの方がしっくりきます)
HDRP/Lit シェーダーでも適切に設定することで良いルックを作ることができます。参考例こちら(2021年3月追記)また、DynamicBoneで髪とスカートの揺れを設定し、スカートは脚が貫通しないようにDynamicBoneColliderを設定しました。(DynamicBoneColliderの調整難しい。。。)(↓↓このシーンのスカートが貫通しないように調整した)
作業を効率よく行うためにとても大事な作業です。
撮影は主にTimelineとCinemachineを使って行いますが、ショートアニメながら多くのカメラワークやアニメーションが必要になります。カット毎にCinemachineのバーチャルカメラが都度必要 &amp; 3Dモデルとアニメーションも必要 &amp; ポストプロセスも必要なため、カット毎(今回は歌詞ごと)にフォルダ分けをします。🌟Hierarchyを歌詞ごとに分ける。空のゲームオブジェクトでフォルダ分けするような感じ
🌟TimelineのTrack Groupをを歌詞ごとに作る。中身は上でフォルダ分けしたゲームオブジェクトのアクティブ制御とモデルのアニメーション、Cinemachineのカメラです。
🌟大量のポストプロセス設定
カット毎に微妙に調整が必要なのでカット毎に作ります(特に被写界深度)。オーソドックスな設定を作って複製しておくと良いです。
カット毎に構図を考え、モデルとカメラを配置します。モデルは適当な静止モーションを適用して仮置きしておきます。カット毎のポストプロセスもここで調整します。アニメのモーションをキーフレームの手打ちでやっていては時間が全く足りないので、モーションキャプチャで自分の動きを収録しました。使ったのはVR Motion Recorderです。「HTC Viveとトラッカーで自宅で簡単モーション収録」な環境が揃っているのでとても時間短縮になります。ここでは全身+ゆびのモーションを取り、表情と口パクのみ後から手付けしています。(↓↓VR Motion Recorderを入れたUnity。HDRP対応はしていないので通常のUnity2017以降で使用)
時間の都合によりすべてのモーションを修正なしにしました。また、修正しなくてもさほど気にならない部分のみ映すなどして回避しています。もしモーションの修正をするならU Motion Proがおすすめです。よりアニメっぽくするために、キャラクターが動くシーンはFPSを下げて10FPSで撮影しています。FPSを下げるのは以下のコード(参考：Unity fpsを変更する)UnityRecorderを使いたいところでしたが、HDRPで使えなかったため(なぜ？)Game画面を最大化して、OBSのウインドウキャプチャで撮りました。Twitter動画なのでまぁ、ヨシ。
※追記：HDRPでUniry Recorderを使う場合はドロップダウンメニューでGame Viewを指定してやる必要があるそうです。使い方の問題だった。
現在はUnityRecorderきちんと使えます。(2021年3月追記)Unityで一気に撮影してしまい、動画編集ソフト側で映像と音のカット&amp;配置作業をします。
これにて動画の完成です。Unityでスピーディに作業するには環境構築がとっても大事だとわかりました。
空のゲームオブジェクトを使って疑似的にフォルダ分けすることで、今どのカットを編集しているのかを迷わなくなります。個人的には、「あとはカメラワーク作ればOK」とか、「あとはモーション撮ればOK」というように、都度やることを1つだけにすることで迷わず作業ができました。あと、HDRPはとても手軽にビジュアルアップになるのでおすすめです。(既存のシェーダーが全て使えないため、対応していない3Dモデルは全て1からセットアップが必要ですが)Twitterでの募集はとても有効。声の応募が多かったのは、私がバーチャルYouTuberなためにフォロワーにその傾向が多少あったことも一因ですが、元々こういう募集情報に感度の高い方が多く、Twitter募集は有効な手段です。以上、『アニメ作ったことないけど3日間でアニメ作った話』でした🌟
それではまた👋八ツ橋まろん


