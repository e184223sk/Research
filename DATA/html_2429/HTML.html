<!DOCTYPE html><html><head><meta charset="utf-8" /><title>Amazon S3 REST APIのパケットキャプチャ - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/yz2cm/items/85c0df29efcdc0ef50db" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="/tnMV5e2AXtXwv6yPcolsLt9OwVDTKYF9Lyta3keHTZUqH+hFdHsuIzg7/CpOxmyH2aid2eZ7vuYXzJqx6ir1Q==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta content="@yz2cm_en" name="twitter:creator" /><meta property="og:type" content="article"><meta property="og:title" content="Amazon S3 REST APIのパケットキャプチャ - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1RVzFoZW05dUlGTXpJRkpGVTFRZ1FWQko0NEd1NDRPUjQ0S3g0NE9ENDRPSTQ0S3Q0NE9qNDRPWDQ0T0I0NE9qJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NTQmdHh0LWNsaXA9ZWxsaXBzaXMmdHh0LWFsaWduPWNlbnRlciUyQ21pZGRsZSZzPWI3ZGZkYjFiMzhhNDJiYzc3ZDI4MjE1NGFiMjUxMjUy&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RSGw2TW1OdCZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPWY3ZTE5OThlOTVkMDMyMmJkOTRiNzFhMzhhZjc0MTFh&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=1b8b2fd5f970c7149c2ed82dd3ae5e25"><meta property="og:description" content="この記事は、Amazon S3 REST APIを呼び出した時のhttpプロトコルシーケンスをパケットキャプチャした結果を記録したものです（読んで面白いものではない）。


前提


S3のTokyoリージョン（ap-northeas..."><meta content="https://qiita.com/yz2cm/items/85c0df29efcdc0ef50db" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="AWS,C#,S3" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 1nzh4zz 38fzdi helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-1nzh4zz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 32px;background-color:#FBE69E;color:rgba(0,0,0,0.87);line-height:1.5;font-weight:600;}@media (max-width:770px){.css-1nzh4zz{padding:16px;}}.css-38fzdi{color:#CA832A;margin-right:4px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-b7d5e14d-0241-432b-bc87-da6e6d085ccf"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2Fyz2cm%2Fitems%2F85c0df29efcdc0ef50db">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2Fyz2cm%2Fitems%2F85c0df29efcdc0ef50db">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-b7d5e14d-0241-432b-bc87-da6e6d085ccf">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/aws","name":"AWS"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2019-11-17T13:27:50.000+09:00","dateModified":"2020-06-14T11:41:33.000+09:00","headline":"Amazon S3 REST APIのパケットキャプチャ","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1RVzFoZW05dUlGTXpJRkpGVTFRZ1FWQko0NEd1NDRPUjQ0S3g0NE9ENDRPSTQ0S3Q0NE9qNDRPWDQ0T0I0NE9qJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NTQmdHh0LWNsaXA9ZWxsaXBzaXMmdHh0LWFsaWduPWNlbnRlciUyQ21pZGRsZSZzPWI3ZGZkYjFiMzhhNDJiYzc3ZDI4MjE1NGFiMjUxMjUy\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RSGw2TW1OdCZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPWY3ZTE5OThlOTVkMDMyMmJkOTRiNzFhMzhhZjc0MTFh\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=1b8b2fd5f970c7149c2ed82dd3ae5e25","mainEntityOfPage":"https://qiita.com/yz2cm/items/85c0df29efcdc0ef50db","author":{"@type":"Person","address":"","email":null,"identifier":"yz2cm","name":"yz2cm","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F51871%2Fprofile-images%2F1609500654?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=f02e821de41785ee3d16db4c37fcfd73","url":"https://qiita.com/yz2cm","description":"チャメさん（茶トラの猫ちゃん）のことを愛しています。AWS認定SAA/DVA/SOA/SCS。","memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://increments.connpass.com/event/211948/">Qiita創業者海野氏登壇！Qiita エンジニアフェスタ 2021 Online Meetupを9/9(木)に開催</a><a target="_blank" id="header_text_message_2" href="https://increments.connpass.com/event/211948/">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"yz2cm","type":"items","id":"85c0df29efcdc0ef50db"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"Qiita創業者海野氏登壇！Qiita エンジニアフェスタ 2021 Online Meetupを9/9(木)に開催","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"yz2cm","type":"items","id":"85c0df29efcdc0ef50db"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":1,"pos_id":"header_text_message_1","message":"Qiita創業者海野氏登壇！Qiita エンジニアフェスタ 2021 Online Meetupを9/9(木)に開催","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"yz2cm","type":"items","id":"85c0df29efcdc0ef50db"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":1,"pos_id":"header_text_message_2","message":"Qiita創業者海野氏登壇！Qiita エンジニアフェスタ 2021 Online Meetupを9/9(木)に開催","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/yz2cm/items/85c0df29efcdc0ef50db","location":"/yz2cm/items/85c0df29efcdc0ef50db","scheme":"https","host":"qiita.com","port":null,"pathname":"/yz2cm/items/85c0df29efcdc0ef50db","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"BKO/6E3eXFlEnbk0oZVaL7abeO2cAGFTZaIh/A3dRkSu0gwez7mxmp+/qHY1ZGYtEoDhn7jVKa0JQb79s2vwpw==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-2fbe9975-ab72-49d1-a448-f184ec3ebba2"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/yz2cm/items/85c0df29efcdc0ef50db/likers" class="css-1iupg5d">1</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">0</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/85c0df29efcdc0ef50db/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/yz2cm/items/85c0df29efcdc0ef50db/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/yz2cm/items/85c0df29efcdc0ef50db/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/yz2cm/items/85c0df29efcdc0ef50db/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/yz2cm/items/85c0df29efcdc0ef50db.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-1nzh4zz"><span class="fa fa-fw fa-warning css-38fzdi"></span><p>More than 1 year has passed since last update.</p></div><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/yz2cm"><img class="css-100alwu eyfquo10" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/51871/profile-images/1609500654" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/yz2cm" class="css-10ougpm">@<!-- -->yz2cm</a><div class="css-1ay9vb9"><span><meta content="2019-11-17T04:27:50Z"/><time dateTime="2020-06-14T02:41:33Z" class="css-m19uds">updated at 2020-06-14</time></span></div></div></div></div></div><h1 class="css-cgzq40">Amazon S3 REST APIのパケットキャプチャ</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/aws" class="css-4czcte">AWS</a><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/s3" class="css-4czcte">S3</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div><p>この記事は、<strong>Amazon S3 REST API</strong>を呼び出した時のhttpプロトコルシーケンスをパケットキャプチャした結果を記録したものです（読んで面白いものではない）。</p>

<h1>
<span id="前提" class="fragment"></span><a href="#%E5%89%8D%E6%8F%90"><i class="fa fa-link"></i></a>前提</h1>

<ul>
<li>S3のTokyoリージョン（<code>ap-northeast-1</code>）のバケット（<em><code>samplebucket</code></em>）に対して、オブジェクト（<em><code>sample.txt</code></em>）をPut/Get/Deleteしました。</li>
<li>APIの署名は、署名バージョン4を使用したものです。</li>
<li>アクセスキーID（<em><code>AKIAXXXXXXXXXXXXXXXX</code></em>）はダミーなので、HTTPリクエストの<code>Authorization</code>ヘッダの署名とはリンクしません。</li>
<li>
<em><code>samplebucket</code></em>には、ライフサイクルポリシー <em><code>sample-lifecycle</code></em>が設定済みです。</li>
<li>クライアントプログラムはC#で実装しています。また、ビルド時のターゲットフレームワークは<code>.NET Framework 4.6.1</code>を指定しています。</li>
<li>HTTPクライアントのクラスは<code>System.Net.Http.HttpClient</code>を使用しています。</li>
</ul>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">クライアントプログラムの実装イメージ（C#）</span></div>
<div class="highlight"><pre class="with-code"><code><span class="kt">var</span> <span class="n">content</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ByteArrayContent</span><span class="p">(</span><span class="s">"hoge\n"</span><span class="p">.</span><span class="nf">ToBytes</span><span class="p">());</span>

<span class="c1">//////// ここでhttpClientを作成（過程は省略）</span>
<span class="c1">//////// var httpClient = new HttpClient(...);</span>

<span class="n">httpClient</span><span class="p">.</span><span class="nf">PutAsync</span><span class="p">(</span><span class="k">new</span> <span class="nf">URI</span><span class="p">(</span><span class="s">"http://samplebucket.s3.amazonaws.com"</span><span class="p">),</span> <span class="n">content</span><span class="p">);</span>
<span class="n">httpClient</span><span class="p">.</span><span class="nf">PutAsync</span><span class="p">(</span><span class="k">new</span> <span class="nf">URI</span><span class="p">(</span><span class="s">"http://samplebucket.s3-accelerate.amazonaws.com"</span><span class="p">),</span> <span class="n">content</span><span class="p">);</span>
<span class="n">httpClient</span><span class="p">.</span><span class="nf">GetAsync</span><span class="p">(</span><span class="k">new</span> <span class="nf">URI</span><span class="p">(</span><span class="s">"http://samplebucket.s3.amazonaws.com"</span><span class="p">));</span>
<span class="n">httpClient</span><span class="p">.</span><span class="nf">DeleteAsync</span><span class="p">(</span><span class="k">new</span> <span class="nf">URI</span><span class="p">(</span><span class="s">"http://samplebucket.s3.amazonaws.com"</span><span class="p">));</span>
</code></pre></div>
</div>

<h1>
<span id="1-httpプロトコルシーケンス" class="fragment"></span><a href="#1-http%E3%83%97%E3%83%AD%E3%83%88%E3%82%B3%E3%83%AB%E3%82%B7%E3%83%BC%E3%82%B1%E3%83%B3%E3%82%B9"><i class="fa fa-link"></i></a>1. HTTPプロトコルシーケンス</h1>

<h1>
<span id="11-putobject" class="fragment"></span><a href="#11-putobject"><i class="fa fa-link"></i></a>1.1 PutObject</h1>

<h2>
<span id="111-クライアント--amazon-s3" class="fragment"></span><a href="#111-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88--amazon-s3"><i class="fa fa-link"></i></a>1.1.1 クライアント → Amazon S3</h2>

<div class="code-frame" data-lang="http"><div class="highlight"><pre class="with-code"><code><span class="nf">PUT</span> <span class="nn">/sample.txt</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">x-amz-content-sha256</span><span class="p">:</span> <span class="s">2e0390eb024a52963db7b95e84a9c2b12c004054a7bad9a97ec0c7c89d4681d2</span>
<span class="na">x-amz-date</span><span class="p">:</span> <span class="s">20191117T001244Z</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">AWS4-HMAC-SHA256 Credential=AKIAXXXXXXXXXXXXXXXX/20191117/ap-northeast-1/s3/aws4_request,SignedHeaders=host;x-amz-content-sha256;x-amz-date,Signature=d4de97b542321428a14c85c3d37c3ba508bd79d50cd40064850e376b804e3ffb</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">samplebucket.s3.amazonaws.com</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">5</span>
<span class="na">Expect</span><span class="p">:</span> <span class="s">100-continue</span>
<span class="na">Connection</span><span class="p">:</span> <span class="s">Keep-Alive</span>
</code></pre></div></div>

<h2>
<span id="112-クライアントamazon-s3" class="fragment"></span><a href="#112-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3"><i class="fa fa-link"></i></a>1.1.2 クライアント　←　Amazon S3</h2>

<div class="code-frame" data-lang="http"><div class="highlight"><pre class="with-code"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">100</span> <span class="ne">Continue</span>

</code></pre></div></div>

<h2>
<span id="113-クライアント-amazon-s3" class="fragment"></span><a href="#113-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88-amazon-s3"><i class="fa fa-link"></i></a>1.1.3 クライアント →　Amazon S3</h2>

<div class="code-frame" data-lang="http"><div class="highlight"><pre class="with-code"><code><span class="nf">PUT</span> <span class="nn">/sample.txt</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">x-amz-content-sha256</span><span class="p">:</span> <span class="s">2e0390eb024a52963db7b95e84a9c2b12c004054a7bad9a97ec0c7c89d4681d2</span>
<span class="na">x-amz-date</span><span class="p">:</span> <span class="s">20191117T001244Z</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">AWS4-HMAC-SHA256 Credential=AKIAXXXXXXXXXXXXXXXX/20191117/ap-northeast-1/s3/aws4_request,SignedHeaders=host;x-amz-content-sha256;x-amz-date,Signature=d4de97b542321428a14c85c3d37c3ba508bd79d50cd40064850e376b804e3ffb</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">samplebucket.s3.amazonaws.com</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">5</span>
<span class="na">Expect</span><span class="p">:</span> <span class="s">100-continue</span>
<span class="na">Connection</span><span class="p">:</span> <span class="s">Keep-Alive</span>

hoge
</code></pre></div></div>

<h2>
<span id="114-クライアントamazon-s3" class="fragment"></span><a href="#114-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3"><i class="fa fa-link"></i></a>1.1.4 クライアント　←　Amazon S3</h2>

<div class="code-frame" data-lang="http"><div class="highlight"><pre class="with-code"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">x-amz-id-2</span><span class="p">:</span> <span class="s">1gGAlxbb3z+elQEmbYNLEJ+hBL5X9jFSbOJFp3Kph91JwVzQybaQzYbDOnbQFU1kH4IxYjMP+Pc=</span>
<span class="na">x-amz-request-id</span><span class="p">:</span> <span class="s">127EE4E6FAAF7A70</span>
<span class="na">Date</span><span class="p">:</span> <span class="s">Sun, 17 Nov 2019 00:12:44 GMT</span>
<span class="na">x-amz-expiration</span><span class="p">:</span> <span class="s">expiry-date="Tue, 19 Nov 2019 00:00:00 GMT", rule-id="sample-lifecycle"</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"c59548c3c576228486a1f0037eb16a1b"</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">0</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">AmazonS3</span>

</code></pre></div></div>

<h1>
<span id="12putobject-transfer-acceleration" class="fragment"></span><a href="#12putobject-transfer-acceleration"><i class="fa fa-link"></i></a>1.2.PutObject (Transfer Acceleration)</h1>

<h2>
<span id="121-クライアントamazon-s3" class="fragment"></span><a href="#121-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3"><i class="fa fa-link"></i></a>1.2.1 クライアント　→　Amazon S3</h2>

<div class="code-frame" data-lang="http"><div class="highlight"><pre class="with-code"><code><span class="nf">PUT</span> <span class="nn">/sample.txt</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">x-amz-content-sha256</span><span class="p">:</span> <span class="s">2e0390eb024a52963db7b95e84a9c2b12c004054a7bad9a97ec0c7c89d4681d2</span>
<span class="na">x-amz-date</span><span class="p">:</span> <span class="s">20191117T032908Z</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">AWS4-HMAC-SHA256 Credential=AKIAXXXXXXXXXXXXXXXX/20191117/ap-northeast-1/s3/aws4_request,SignedHeaders=host;x-amz-content-sha256;x-amz-date,Signature=b57a429bc93f01a0263f69791bd73359249b7e8a5259eb08e0dbb28d479191cc</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">samplebucket.s3-accelerate.amazonaws.com</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">5</span>
<span class="na">Expect</span><span class="p">:</span> <span class="s">100-continue</span>
<span class="na">Connection</span><span class="p">:</span> <span class="s">Keep-Alive</span>

</code></pre></div></div>

<h2>
<span id="122-クライアントamazon-s3" class="fragment"></span><a href="#122-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3"><i class="fa fa-link"></i></a>1.2.2 クライアント　←　Amazon S3</h2>

<div class="code-frame" data-lang="http"><div class="highlight"><pre class="with-code"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">100</span> <span class="ne">Continue</span>

</code></pre></div></div>

<h2>
<span id="123-クライアントamazon-s3" class="fragment"></span><a href="#123-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3"><i class="fa fa-link"></i></a>1.2.3 クライアント　→　Amazon S3</h2>

<div class="code-frame" data-lang="http"><div class="highlight"><pre class="with-code"><code><span class="nf">PUT</span> <span class="nn">/sample.txt</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">x-amz-content-sha256</span><span class="p">:</span> <span class="s">2e0390eb024a52963db7b95e84a9c2b12c004054a7bad9a97ec0c7c89d4681d2</span>
<span class="na">x-amz-date</span><span class="p">:</span> <span class="s">20191117T032908Z</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">AWS4-HMAC-SHA256 Credential=AKIAXXXXXXXXXXXXXXXX/20191117/ap-northeast-1/s3/aws4_request,SignedHeaders=host;x-amz-content-sha256;x-amz-date,Signature=b57a429bc93f01a0263f69791bd73359249b7e8a5259eb08e0dbb28d479191cc</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">samplebucket.s3-accelerate.amazonaws.com</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">5</span>
<span class="na">Expect</span><span class="p">:</span> <span class="s">100-continue</span>
<span class="na">Connection</span><span class="p">:</span> <span class="s">Keep-Alive</span>

hoge
</code></pre></div></div>

<h2>
<span id="124-クライアントamazon-s3" class="fragment"></span><a href="#124-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3"><i class="fa fa-link"></i></a>1.2.4 クライアント　←　Amazon S3</h2>

<div class="code-frame" data-lang="http"><div class="highlight"><pre class="with-code"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">0</span>
<span class="na">Connection</span><span class="p">:</span> <span class="s">keep-alive</span>
<span class="na">x-amz-id-2</span><span class="p">:</span> <span class="s">IhjWCgokNW4vHoZDAlgBmBj6FW/sWyjDeYYI5yPCCRe3wO6Y6n0wxWryDAwkIIBH5ucjGx4Mo2M=</span>
<span class="na">x-amz-request-id</span><span class="p">:</span> <span class="s">CBA86EAD08B58714</span>
<span class="na">Date</span><span class="p">:</span> <span class="s">Sun, 17 Nov 2019 03:29:08 GMT</span>
<span class="na">x-amz-expiration</span><span class="p">:</span> <span class="s">expiry-date="Tue, 19 Nov 2019 00:00:00 GMT", rule-id="sample-lifecycle"</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"c59548c3c576228486a1f0037eb16a1b"</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">AmazonS3</span>
<span class="na">X-Cache</span><span class="p">:</span> <span class="s">Miss from cloudfront</span>
<span class="na">Via</span><span class="p">:</span> <span class="s">1.1 f8f7fa10720e88f937ab7011bfa41fb6.cloudfront.net (CloudFront)</span>
<span class="na">X-Amz-Cf-Pop</span><span class="p">:</span> <span class="s">NRT20-C4</span>
<span class="na">X-Amz-Cf-Id</span><span class="p">:</span> <span class="s">mnZLq--nNnfv6CaTRW2lBEKe5lfncyUNPP55FCBizHA5WhD8lFnd6A==</span>

</code></pre></div></div>

<h1>
<span id="13-getobject" class="fragment"></span><a href="#13-getobject"><i class="fa fa-link"></i></a>1.3. GetObject</h1>

<h2>
<span id="131-クライアントamazon-s3" class="fragment"></span><a href="#131-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3"><i class="fa fa-link"></i></a>1.3.1 クライアント　→　Amazon S3</h2>

<div class="code-frame" data-lang="http"><div class="highlight"><pre class="with-code"><code><span class="nf">GET</span> <span class="nn">/sample.txt</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">x-amz-content-sha256</span><span class="p">:</span> <span class="s">e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855</span>
<span class="na">x-amz-date</span><span class="p">:</span> <span class="s">20191117T030846Z</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">AWS4-HMAC-SHA256 Credential=AKIAXXXXXXXXXXXXXXXX/20191117/ap-northeast-1/s3/aws4_request,SignedHeaders=host;x-amz-content-sha256;x-amz-date,Signature=9075643d96f2632360561e07241a12073a2e24161bb160370520a4c3cca4f529</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">samplebucket.s3.amazonaws.com</span>

</code></pre></div></div>

<h2>
<span id="132-クライアントamazon-s3" class="fragment"></span><a href="#132-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3"><i class="fa fa-link"></i></a>1.3.2 クライアント　←　Amazon S3</h2>

<div class="code-frame" data-lang="http"><div class="highlight"><pre class="with-code"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">x-amz-id-2</span><span class="p">:</span> <span class="s">HcaZFDvu5473rQHE41W24Oc41VEEz9Wap83Of0yeYeqZ2nA91GtBLCJgj9gGiYcX4FMY8Lev+/k=</span>
<span class="na">x-amz-request-id</span><span class="p">:</span> <span class="s">6B87E38BF4BACBAD</span>
<span class="na">Date</span><span class="p">:</span> <span class="s">Sun, 17 Nov 2019 03:08:46 GMT</span>
<span class="na">Last-Modified</span><span class="p">:</span> <span class="s">Sun, 17 Nov 2019 02:25:22 GMT</span>
<span class="na">x-amz-expiration</span><span class="p">:</span> <span class="s">expiry-date="Tue, 19 Nov 2019 00:00:00 GMT", rule-id="sample-lifecycle"</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"c59548c3c576228486a1f0037eb16a1b"</span>
<span class="na">Accept-Ranges</span><span class="p">:</span> <span class="s">bytes</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">binary/octet-stream</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">5</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">AmazonS3</span>

hoge
</code></pre></div></div>

<h1>
<span id="14-deleteobject" class="fragment"></span><a href="#14-deleteobject"><i class="fa fa-link"></i></a>1.4. DeleteObject</h1>

<h2>
<span id="141-クライアントamazon-s3" class="fragment"></span><a href="#141-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3"><i class="fa fa-link"></i></a>1.4.1 クライアント　→　Amazon S3</h2>

<div class="code-frame" data-lang="http"><div class="highlight"><pre class="with-code"><code><span class="nf">DELETE</span> <span class="nn">/sample.txt_1</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">x-amz-content-sha256</span><span class="p">:</span> <span class="s">e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855</span>
<span class="na">x-amz-date</span><span class="p">:</span> <span class="s">20191117T043633Z</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">AWS4-HMAC-SHA256 Credential=AKIAXXXXXXXXXXXXXXXX/20191117/ap-northeast-1/s3/aws4_request,SignedHeaders=host;x-amz-content-sha256;x-amz-date,Signature=a3b9594cb11e4752b64dd1d86399fded7cfd3feddd6776be2d0a3d37e29b88ab</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">samplebucket.s3.amazonaws.com</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">0</span>

</code></pre></div></div>

<h2>
<span id="142-クライアントamazon-s3" class="fragment"></span><a href="#142-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3"><i class="fa fa-link"></i></a>1.4.2 クライアント　←　Amazon S3</h2>

<div class="code-frame" data-lang="http"><div class="highlight"><pre class="with-code"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
<span class="na">x-amz-id-2</span><span class="p">:</span> <span class="s">3ObtFd4sB6or4i4TEAZFi+UvVqtDBx9s8YqkqaPZtLbchBNmNyV+b4YCc+0HVWa11sLP0sKe2fY=</span>
<span class="na">x-amz-request-id</span><span class="p">:</span> <span class="s">83E10C229B619354</span>
<span class="na">Date</span><span class="p">:</span> <span class="s">Sun, 17 Nov 2019 04:36:33 GMT</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">AmazonS3</span>

</code></pre></div></div>

<h1>
<span id="15-deleteobject-transfer-acceleration" class="fragment"></span><a href="#15-deleteobject-transfer-acceleration"><i class="fa fa-link"></i></a>1.5. DeleteObject (Transfer Acceleration)</h1>

<p>GetObjectやDeleteObjectでTransfer Accelerationを使っても問題ないみたい（TAを使うことには意味はないけど、実装を切り替える必要がないという意味では意味がある）。<br>
Cloud Frontを経由するかどうかの違いしかないからかな。</p>

<h2>
<span id="151-クライアントamazon-s3" class="fragment"></span><a href="#151-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3"><i class="fa fa-link"></i></a>1.5.1 クライアント　→　Amazon S3</h2>

<div class="code-frame" data-lang="http"><div class="highlight"><pre class="with-code"><code><span class="nf">DELETE</span> <span class="nn">/sample.txt</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">x-amz-content-sha256</span><span class="p">:</span> <span class="s">e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855</span>
<span class="na">x-amz-date</span><span class="p">:</span> <span class="s">20191117T032225Z</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">AWS4-HMAC-SHA256 Credential=AKIAXXXXXXXXXXXXXXXX/20191117/ap-northeast-1/s3/aws4_request,SignedHeaders=host;x-amz-content-sha256;x-amz-date,Signature=87feb911b7dbcad7538738895feb88e33660b453b62b282b6dbde5f65496e454</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">samplebucket.s3-accelerate.amazonaws.com</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">0</span>

</code></pre></div></div>

<h2>
<span id="152-クライアントamazon-s3" class="fragment"></span><a href="#152-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3"><i class="fa fa-link"></i></a>1.5.2 クライアント　←　Amazon S3</h2>

<div class="code-frame" data-lang="http"><div class="highlight"><pre class="with-code"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
<span class="na">Connection</span><span class="p">:</span> <span class="s">keep-alive</span>
<span class="na">x-amz-id-2</span><span class="p">:</span> <span class="s">8zkozysIbd19ycClxTyFvGOu3Esx4pJwL00XgJdDntvGMBHY9yt/KrIXijTaIsaCzWexPMimAwI=</span>
<span class="na">x-amz-request-id</span><span class="p">:</span> <span class="s">BFDC403D14CC0A69</span>
<span class="na">Date</span><span class="p">:</span> <span class="s">Sun, 17 Nov 2019 03:22:25 GMT</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">AmazonS3</span>
<span class="na">X-Cache</span><span class="p">:</span> <span class="s">Miss from cloudfront</span>
<span class="na">Via</span><span class="p">:</span> <span class="s">1.1 5fa8781927f0b3b53d2119c9d6e2e874.cloudfront.net (CloudFront)</span>
<span class="na">X-Amz-Cf-Pop</span><span class="p">:</span> <span class="s">NRT20-C1</span>
<span class="na">X-Amz-Cf-Id</span><span class="p">:</span> <span class="s">_U_7MT7LFGrhYgQiylaqD5A_QsVawI6_P7IFl6NK1_EfZ0pOX39HSw==</span>

</code></pre></div></div>

<h1>
<span id="2-アイドルソケットのタイムアウト秒数" class="fragment"></span><a href="#2-%E3%82%A2%E3%82%A4%E3%83%89%E3%83%AB%E3%82%BD%E3%82%B1%E3%83%83%E3%83%88%E3%81%AE%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%A2%E3%82%A6%E3%83%88%E7%A7%92%E6%95%B0"><i class="fa fa-link"></i></a>2. アイドルソケットのタイムアウト秒数</h1>

<p>S3のアイドルソケットのタイムアウト秒数は<strong>約20秒</strong>である様子。</p>

<div class="code-frame" data-lang="nc"><div class="highlight"><pre class="with-code"><code>$ time printf "PUT /sample.txt HTTP/1.1\r\nContent-Length: 1\r\n\r\n" | nc samplebucket.s3.amazonaws.com 80
HTTP/1.1 400 Bad Request
Date: Wed, 27 Nov 19 13:10:58 GMT
Connection: close
Transfer-Encoding: chunked
x-amz-id-2: AOLBqJXBiatzDtJFzZ47xz58MCw0Xt2LsrMTfeAWEWB4rM2HyHoWgqhYA8S84puBU2Vnpbdq7bAvfSodhn5PV2DMzOUyUeh2
x-amz-request-id: 7275DD5C1C197259
Content-Type: application/xml

17b
&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;Error&gt;&lt;Code&gt;RequestTimeout&lt;/Code&gt;&lt;Message&gt;Your socket connection to the server was not read from or written to within the timeout period. Idle connections will be closed.&lt;/Message&gt;&lt;RequestId&gt;7275DD5C1C197259&lt;/RequestId&gt;&lt;HostId&gt;AOLBqJXBiatzDtJFzZ47xz58MCw0Xt2LsrMTfeAWEWB4rM2HyHoWgqhYA8S84puBU2Vnpbdq7bAvfSodhn5PV2DMzOUyUeh2&lt;/HostId&gt;&lt;/Error&gt;
0


real    0m21.342s
user    0m0.000s
sys     0m0.000s
</code></pre></div></div>

<div class="code-frame" data-lang="">
<div class="code-lang"><span class="bold">tcpdump</span></div>
<div class="highlight"><pre class="with-code"><code>$ sudo tcpdump -vv port 80
tcpdump: listening on enp0s3, link-type EN10MB (Ethernet), capture size 262144 bytes
22:10:38.055187 IP (tos 0x0, ttl 64, id 58310, offset 0, flags [DF], proto TCP (6), length 60)
    debian.40380 &gt; s3-ap-northeast-1-w.amazonaws.com.http: Flags [S], cksum 0x416d (incorrect -&gt; 0x5208), seq 2938391169, win 29200, options [mss 1460,sackOK,TS val 28289351 ecr 0,nop,wscale 7], length 0
22:10:38.103575 IP (tos 0x0, ttl 64, id 50316, offset 0, flags [none], proto TCP (6), length 44)
    s3-ap-northeast-1-w.amazonaws.com.http &gt; debian.40380: Flags [S.], cksum 0xfd35 (correct), seq 200128001, ack 2938391170, win 65535, options [mss 1460], length 0
22:10:38.103645 IP (tos 0x0, ttl 64, id 58311, offset 0, flags [DF], proto TCP (6), length 40)
    debian.40380 &gt; s3-ap-northeast-1-w.amazonaws.com.http: Flags [.], cksum 0x4159 (incorrect -&gt; 0xa2e2), seq 1, ack 1, win 29200, length 0
22:10:38.103999 IP (tos 0x0, ttl 64, id 58312, offset 0, flags [DF], proto TCP (6), length 87)
    debian.40380 &gt; s3-ap-northeast-1-w.amazonaws.com.http: Flags [P.], cksum 0x4188 (incorrect -&gt; 0x6e21), seq 1:48, ack 1, win 29200, length 47: HTTP, length: 47
        PUT /sample.txt HTTP/1.1
        Content-Length: 1

22:10:38.104554 IP (tos 0x0, ttl 64, id 50317, offset 0, flags [none], proto TCP (6), length 40)
    s3-ap-northeast-1-w.amazonaws.com.http &gt; debian.40380: Flags [.], cksum 0x14c4 (correct), seq 1, ack 48, win 65535, length 0
22:10:59.338162 IP (tos 0x0, ttl 64, id 50318, offset 0, flags [none], proto TCP (6), length 718)
    s3-ap-northeast-1-w.amazonaws.com.http &gt; debian.40380: Flags [P.], cksum 0x356b (correct), seq 1:679, ack 48, win 65535, length 678: HTTP, length: 678
        HTTP/1.1 400 Bad Request
        Date: Wed, 27 Nov 19 13:10:58 GMT
        Connection: close
        Transfer-Encoding: chunked
        x-amz-id-2: AOLBqJXBiatzDtJFzZ47xz58MCw0Xt2LsrMTfeAWEWB4rM2HyHoWgqhYA8S84puBU2Vnpbdq7bAvfSodhn5PV2DMzOUyUeh2
        x-amz-request-id: 7275DD5C1C197259
        Content-Type: application/xml

        17b
        &lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;Error&gt;&lt;Code&gt;RequestTimeout&lt;/Code&gt;&lt;Message&gt;Your socket connection to the server was not read from or written to within the timeout period. Idle connections will be closed.&lt;/Message&gt;&lt;RequestId&gt;7275DD5C1C197259&lt;/RequestId&gt;&lt;HostId&gt;AOLBqJXBiatzDtJFzZ47xz58MCw0Xt2LsrMTfeAWEWB4rM2HyHoWgqhYA8S84puBU2Vnpbdq7bAvfSodhn5PV2DMzOUyUeh2&lt;/HostId&gt;&lt;/Error&gt;
        0

22:10:59.338212 IP (tos 0x0, ttl 64, id 58313, offset 0, flags [DF], proto TCP (6), length 40)
    debian.40380 &gt; s3-ap-northeast-1-w.amazonaws.com.http: Flags [.], cksum 0x4159 (incorrect -&gt; 0x9aef), seq 48, ack 679, win 30510, length 0
22:10:59.338335 IP (tos 0x0, ttl 64, id 50319, offset 0, flags [none], proto TCP (6), length 40)
    s3-ap-northeast-1-w.amazonaws.com.http &gt; debian.40380: Flags [F.], cksum 0x121d (correct), seq 679, ack 48, win 65535, length 0
22:10:59.338605 IP (tos 0x0, ttl 64, id 58314, offset 0, flags [DF], proto TCP (6), length 40)
    debian.40380 &gt; s3-ap-northeast-1-w.amazonaws.com.http: Flags [F.], cksum 0x4159 (incorrect -&gt; 0x9aed), seq 48, ack 680, win 30510, length 0
22:10:59.339222 IP (tos 0x0, ttl 64, id 50320, offset 0, flags [none], proto TCP (6), length 40)
    s3-ap-northeast-1-w.amazonaws.com.http &gt; debian.40380: Flags [.], cksum 0x121c (correct), seq 680, ack 49, win 65535, length 0
</code></pre></div>
</div>

<h1>
<span id="3-tlsハンドシェイク" class="fragment"></span><a href="#3-tls%E3%83%8F%E3%83%B3%E3%83%89%E3%82%B7%E3%82%A7%E3%82%A4%E3%82%AF"><i class="fa fa-link"></i></a>3. TLSハンドシェイク</h1>

<h2>
<span id="31-client-hello-184-bytes" class="fragment"></span><a href="#31-client-hello-184-bytes"><i class="fa fa-link"></i></a>3.1 Client Hello (184 bytes)</h2>

<div class="code-frame" data-lang="">
<div class="code-lang"><span class="bold">ClientHello</span></div>
<div class="highlight"><pre class="with-code"><code>Transport Layer Security
    TLSv1.2 Record Layer: Handshake Protocol: Client Hello
        Content Type: Handshake (22)
        Version: TLS 1.2 (0x0303)
        Length: 179
        Handshake Protocol: Client Hello
            Handshake Type: Client Hello (1)
            Length: 175
            Version: TLS 1.2 (0x0303)
            Random: 5de90933d57dc7688bbf5e479ce77ffe295944f9f4073a0a…
                GMT Unix Time: Dec  5, 2019 22:42:11.000000000 東京 (標準時)
                Random Bytes: d57dc7688bbf5e479ce77ffe295944f9f4073a0ab486c043…
            Session ID Length: 0
            Cipher Suites Length: 42
            Cipher Suites (21 suites)
                Cipher Suite: TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 (0xc02c)
                Cipher Suite: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 (0xc02b)
                Cipher Suite: TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 (0xc030)
                Cipher Suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 (0xc02f)
                Cipher Suite: TLS_DHE_RSA_WITH_AES_256_GCM_SHA384 (0x009f)
                Cipher Suite: TLS_DHE_RSA_WITH_AES_128_GCM_SHA256 (0x009e)
                Cipher Suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384 (0xc024)
                Cipher Suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256 (0xc023)
                Cipher Suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 (0xc028)
                Cipher Suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256 (0xc027)
                Cipher Suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA (0xc00a)
                Cipher Suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA (0xc009)
                Cipher Suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA (0xc014)
                Cipher Suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA (0xc013)
                Cipher Suite: TLS_RSA_WITH_AES_256_GCM_SHA384 (0x009d)
                Cipher Suite: TLS_RSA_WITH_AES_128_GCM_SHA256 (0x009c)
                Cipher Suite: TLS_RSA_WITH_AES_256_CBC_SHA256 (0x003d)
                Cipher Suite: TLS_RSA_WITH_AES_128_CBC_SHA256 (0x003c)
                Cipher Suite: TLS_RSA_WITH_AES_256_CBC_SHA (0x0035)
                Cipher Suite: TLS_RSA_WITH_AES_128_CBC_SHA (0x002f)
                Cipher Suite: TLS_RSA_WITH_3DES_EDE_CBC_SHA (0x000a)
            Compression Methods Length: 1
            Compression Methods (1 method)
                Compression Method: null (0)
            Extensions Length: 92
            Extension: server_name (len=33)
                Type: server_name (0)
                Length: 33
                Server Name Indication extension
                    Server Name list length: 31
                    Server Name Type: host_name (0)
                    Server Name length: 28
                    Server Name: yz2cm-tokyo.s3.amazonaws.com
            Extension: supported_groups (len=8)
                Type: supported_groups (10)
                Length: 8
                Supported Groups List Length: 6
                Supported Groups (3 groups)
                    Supported Group: x25519 (0x001d)
                    Supported Group: secp256r1 (0x0017)
                    Supported Group: secp384r1 (0x0018)
            Extension: ec_point_formats (len=2)
                Type: ec_point_formats (11)
                Length: 2
                EC point formats Length: 1
                Elliptic curves point formats (1)
                    EC point format: uncompressed (0)
            Extension: signature_algorithms (len=20)
                Type: signature_algorithms (13)
                Length: 20
                Signature Hash Algorithms Length: 18
                Signature Hash Algorithms (9 algorithms)
                    Signature Algorithm: rsa_pkcs1_sha256 (0x0401)
                        Signature Hash Algorithm Hash: SHA256 (4)
                        Signature Hash Algorithm Signature: RSA (1)
                    Signature Algorithm: rsa_pkcs1_sha384 (0x0501)
                        Signature Hash Algorithm Hash: SHA384 (5)
                        Signature Hash Algorithm Signature: RSA (1)
                    Signature Algorithm: rsa_pkcs1_sha1 (0x0201)
                        Signature Hash Algorithm Hash: SHA1 (2)
                        Signature Hash Algorithm Signature: RSA (1)
                    Signature Algorithm: ecdsa_secp256r1_sha256 (0x0403)
                        Signature Hash Algorithm Hash: SHA256 (4)
                        Signature Hash Algorithm Signature: ECDSA (3)
                    Signature Algorithm: ecdsa_secp384r1_sha384 (0x0503)
                        Signature Hash Algorithm Hash: SHA384 (5)
                        Signature Hash Algorithm Signature: ECDSA (3)
                    Signature Algorithm: ecdsa_sha1 (0x0203)
                        Signature Hash Algorithm Hash: SHA1 (2)
                        Signature Hash Algorithm Signature: ECDSA (3)
                    Signature Algorithm: SHA1 DSA (0x0202)
                        Signature Hash Algorithm Hash: SHA1 (2)
                        Signature Hash Algorithm Signature: DSA (2)
                    Signature Algorithm: rsa_pkcs1_sha512 (0x0601)
                        Signature Hash Algorithm Hash: SHA512 (6)
                        Signature Hash Algorithm Signature: RSA (1)
                    Signature Algorithm: ecdsa_secp521r1_sha512 (0x0603)
                        Signature Hash Algorithm Hash: SHA512 (6)
                        Signature Hash Algorithm Signature: ECDSA (3)
            Extension: session_ticket (len=0)
                Type: session_ticket (35)
                Length: 0
                Data (0 bytes)
            Extension: extended_master_secret (len=0)
                Type: extended_master_secret (23)
                Length: 0
            Extension: renegotiation_info (len=1)
                Type: renegotiation_info (65281)
                Length: 1
                Renegotiation Info extension
                    Renegotiation info extension length: 0

</code></pre></div>
</div>

<h2>
<span id="32-server-hello-96-bytes" class="fragment"></span><a href="#32-server-hello-96-bytes"><i class="fa fa-link"></i></a>3.2 Server Hello (96 bytes)</h2>

<p><code>TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256</code></p>

<div class="code-frame" data-lang="">
<div class="code-lang"><span class="bold">ServerHello</span></div>
<div class="highlight"><pre class="with-code"><code>Transport Layer Security
    TLSv1.2 Record Layer: Handshake Protocol: Server Hello
        Content Type: Handshake (22)
        Version: TLS 1.2 (0x0303)
        Length: 91
        Handshake Protocol: Server Hello
            Handshake Type: Server Hello (2)
            Length: 87
            Version: TLS 1.2 (0x0303)
            Random: a1a714e5c85a3c351e90d4c93bd643b56810b46da812714b…
                GMT Unix Time: Dec 11, 2055 05:00:37.000000000 東京 (標準時)
                Random Bytes: c85a3c351e90d4c93bd643b56810b46da812714b00c0a836…
            Session ID Length: 32
            Session ID: ea9ce5ca215eba15a90dcdf8df89b16b9dea041ea61cfd59…
            Cipher Suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 (0xc02f)
            Compression Method: null (0)
            Extensions Length: 15
            Extension: server_name (len=0)
                Type: server_name (0)
                Length: 0
            Extension: ec_point_formats (len=2)
                Type: ec_point_formats (11)
                Length: 2
                EC point formats Length: 1
                Elliptic curves point formats (1)
                    EC point format: uncompressed (0)
            Extension: renegotiation_info (len=1)
                Type: renegotiation_info (65281)
                Length: 1
                Renegotiation Info extension
                    Renegotiation info extension length: 0

</code></pre></div>
</div>

<h2>
<span id="33-certificate-185-bytes" class="fragment"></span><a href="#33-certificate-185-bytes"><i class="fa fa-link"></i></a>3.3 Certificate (185 bytes)</h2>

<div class="code-frame" data-lang="">
<div class="code-lang"><span class="bold">Certificate</span></div>
<div class="highlight"><pre class="with-code"><code>Transport Layer Security
    TLSv1.2 Record Layer: Handshake Protocol: Certificate
        Content Type: Handshake (22)
        Version: TLS 1.2 (0x0303)
        Length: 2900
        Handshake Protocol: Certificate
            Handshake Type: Certificate (11)
            Length: 2896
            Certificates Length: 2893
            Certificates (2893 bytes)
                Certificate Length: 1760
                Certificate: 308206dc308205c4a0030201020210082df68ee9c69315be… (id-at-commonName=*.s3.amazonaws.com,id-at-organizationName=Amazon.com, Inc.,id-at-localityName=Seattle,id-at-stateOrProvinceName=Washington,id-at-countryName=US)
                    signedCertificate
                        version: v3 (2)
                        serialNumber: 0x082df68ee9c69315bebf72079b3810fd
                        signature (sha256WithRSAEncryption)
                            Algorithm Id: 1.2.840.113549.1.1.11 (sha256WithRSAEncryption)
                        issuer: rdnSequence (0)
                            rdnSequence: 4 items (id-at-commonName=DigiCert Baltimore CA-2 G2,id-at-organizationalUnitName=www.digicert.com,id-at-organizationName=DigiCert Inc,id-at-countryName=US)
                                RDNSequence item: 1 item (id-at-countryName=US)
                                    RelativeDistinguishedName item (id-at-countryName=US)
                                        Id: 2.5.4.6 (id-at-countryName)
                                        CountryName: US
                                RDNSequence item: 1 item (id-at-organizationName=DigiCert Inc)
                                    RelativeDistinguishedName item (id-at-organizationName=DigiCert Inc)
                                        Id: 2.5.4.10 (id-at-organizationName)
                                        DirectoryString: printableString (1)
                                            printableString: DigiCert Inc
                                RDNSequence item: 1 item (id-at-organizationalUnitName=www.digicert.com)
                                    RelativeDistinguishedName item (id-at-organizationalUnitName=www.digicert.com)
                                        Id: 2.5.4.11 (id-at-organizationalUnitName)
                                        DirectoryString: printableString (1)
                                            printableString: www.digicert.com
                                RDNSequence item: 1 item (id-at-commonName=DigiCert Baltimore CA-2 G2)
                                    RelativeDistinguishedName item (id-at-commonName=DigiCert Baltimore CA-2 G2)
                                        Id: 2.5.4.3 (id-at-commonName)
                                        DirectoryString: printableString (1)
                                            printableString: DigiCert Baltimore CA-2 G2
                        validity
                            notBefore: utcTime (0)
                                utcTime: 19-11-09 00:00:00 (UTC)
                            notAfter: utcTime (0)
                                utcTime: 21-03-12 12:00:00 (UTC)
                        subject: rdnSequence (0)
                            rdnSequence: 5 items (id-at-commonName=*.s3.amazonaws.com,id-at-organizationName=Amazon.com, Inc.,id-at-localityName=Seattle,id-at-stateOrProvinceName=Washington,id-at-countryName=US)
                                RDNSequence item: 1 item (id-at-countryName=US)
                                    RelativeDistinguishedName item (id-at-countryName=US)
                                        Id: 2.5.4.6 (id-at-countryName)
                                        CountryName: US
                                RDNSequence item: 1 item (id-at-stateOrProvinceName=Washington)
                                    RelativeDistinguishedName item (id-at-stateOrProvinceName=Washington)
                                        Id: 2.5.4.8 (id-at-stateOrProvinceName)
                                        DirectoryString: printableString (1)
                                            printableString: Washington
                                RDNSequence item: 1 item (id-at-localityName=Seattle)
                                    RelativeDistinguishedName item (id-at-localityName=Seattle)
                                        Id: 2.5.4.7 (id-at-localityName)
                                        DirectoryString: printableString (1)
                                            printableString: Seattle
                                RDNSequence item: 1 item (id-at-organizationName=Amazon.com, Inc.)
                                    RelativeDistinguishedName item (id-at-organizationName=Amazon.com, Inc.)
                                        Id: 2.5.4.10 (id-at-organizationName)
                                        DirectoryString: printableString (1)
                                            printableString: Amazon.com, Inc.
                                RDNSequence item: 1 item (id-at-commonName=*.s3.amazonaws.com)
                                    RelativeDistinguishedName item (id-at-commonName=*.s3.amazonaws.com)
                                        Id: 2.5.4.3 (id-at-commonName)
                                        DirectoryString: uTF8String (4)
                                            uTF8String: *.s3.amazonaws.com
                        subjectPublicKeyInfo
                            algorithm (rsaEncryption)
                                Algorithm Id: 1.2.840.113549.1.1.1 (rsaEncryption)
                            subjectPublicKey: 3082010a0282010100c95bce91b929589e2b5c147890dbdf…
                                modulus: 0x00c95bce91b929589e2b5c147890dbdf033c316a11a0b5d2…
                                publicExponent: 65537
                        extensions: 10 items
                            Extension (id-ce-authorityKeyIdentifier)
                                Extension Id: 2.5.29.35 (id-ce-authorityKeyIdentifier)
                                AuthorityKeyIdentifier
                                    keyIdentifier: c012b22874684667e97025741a00455b067d5c44
                            Extension (id-ce-subjectKeyIdentifier)
                                Extension Id: 2.5.29.14 (id-ce-subjectKeyIdentifier)
                                SubjectKeyIdentifier: ddf2260064b7caf75ca696a6d7accbe127150c13
                            Extension (id-ce-subjectAltName)
                                Extension Id: 2.5.29.17 (id-ce-subjectAltName)
                                GeneralNames: 2 items
                                    GeneralName: dNSName (2)
                                        dNSName: *.s3.amazonaws.com
                                    GeneralName: dNSName (2)
                                        dNSName: s3.amazonaws.com
                            Extension (id-ce-keyUsage)
                                Extension Id: 2.5.29.15 (id-ce-keyUsage)
                                critical: True
                                Padding: 5
                                KeyUsage: a0 (digitalSignature, keyEncipherment)
                                    1... .... = digitalSignature: True
                                    .0.. .... = contentCommitment: False
                                    ..1. .... = keyEncipherment: True
                                    ...0 .... = dataEncipherment: False
                                    .... 0... = keyAgreement: False
                                    .... .0.. = keyCertSign: False
                                    .... ..0. = cRLSign: False
                                    .... ...0 = encipherOnly: False
                                    0... .... = decipherOnly: False
                            Extension (id-ce-extKeyUsage)
                                Extension Id: 2.5.29.37 (id-ce-extKeyUsage)
                                KeyPurposeIDs: 2 items
                                    KeyPurposeId: 1.3.6.1.5.5.7.3.1 (id-kp-serverAuth)
                                    KeyPurposeId: 1.3.6.1.5.5.7.3.2 (id-kp-clientAuth)
                            Extension (id-ce-cRLDistributionPoints)
                                Extension Id: 2.5.29.31 (id-ce-cRLDistributionPoints)
                                CRLDistPointsSyntax: 2 items
                                    DistributionPoint
                                        distributionPoint: fullName (0)
                                            fullName: 1 item
                                                GeneralName: uniformResourceIdentifier (6)
                                                    uniformResourceIdentifier: http://crl3.digicert.com/DigiCertBaltimoreCA-2G2.crl
                                    DistributionPoint
                                        distributionPoint: fullName (0)
                                            fullName: 1 item
                                                GeneralName: uniformResourceIdentifier (6)
                                                    uniformResourceIdentifier: http://crl4.digicert.com/DigiCertBaltimoreCA-2G2.crl
                            Extension (id-ce-certificatePolicies)
                                Extension Id: 2.5.29.32 (id-ce-certificatePolicies)
                                CertificatePoliciesSyntax: 2 items
                                    PolicyInformation
                                        policyIdentifier: 2.16.840.1.114412.1.1 (US company arc.114412.1.1)
                                        policyQualifiers: 1 item
                                            PolicyQualifierInfo
                                                Id: 1.3.6.1.5.5.7.2.1 (id-qt-cps)
                                                DirectoryString: https://www.digicert.com/CPS
                                    PolicyInformation
                                        policyIdentifier: 2.23.140.1.2.2 (joint-iso-itu-t.23.140.1.2.2)
                            Extension (id-pe-authorityInfoAccess)
                                Extension Id: 1.3.6.1.5.5.7.1.1 (id-pe-authorityInfoAccess)
                                AuthorityInfoAccessSyntax: 2 items
                                    AccessDescription
                                        accessMethod: 1.3.6.1.5.5.7.48.1 (id-ad-ocsp)
                                        accessLocation: 6
                                            uniformResourceIdentifier: http://ocsp.digicert.com
                                    AccessDescription
                                        accessMethod: 1.3.6.1.5.5.7.48.2 (id-ad-caIssuers)
                                        accessLocation: 6
                                            uniformResourceIdentifier: http://cacerts.digicert.com/DigiCertBaltimoreCA-2G2.crt
                            Extension (id-ce-basicConstraints)
                                Extension Id: 2.5.29.19 (id-ce-basicConstraints)
                                critical: True
                                BasicConstraintsSyntax [0 length]
                            Extension (SignedCertificateTimestampList)
                                Extension Id: 1.3.6.1.4.1.11129.2.4.2 (SignedCertificateTimestampList)
                                Serialized SCT List Length: 359
                                Signed Certificate Timestamp (Google 'Pilot' log)
                                    Serialized SCT Length: 118
                                    SCT Version: 0
                                    Log ID: a4b90990b418581487bb13a2cc67700a3c359804f91bdfb8…
                                    Timestamp: Nov  9, 2019 00:00:24.368000000 UTC
                                    Extensions length: 0
                                    Signature Algorithm: ecdsa_secp256r1_sha256 (0x0403)
                                        Signature Hash Algorithm Hash: SHA256 (4)
                                        Signature Hash Algorithm Signature: ECDSA (3)
                                    Signature Length: 71
                                    Signature: 304502210089f1d42959192169051ed1618ffebbc5a6f1cb…
                                Signed Certificate Timestamp (Unknown Log)
                                    Serialized SCT Length: 118
                                    SCT Version: 0
                                    Log ID: 4494652eb0eeceafc44007d8a8fe28c0dae682bed8cb31b5…
                                    Timestamp: Nov  9, 2019 00:00:24.360000000 UTC
                                    Extensions length: 0
                                    Signature Algorithm: ecdsa_secp256r1_sha256 (0x0403)
                                        Signature Hash Algorithm Hash: SHA256 (4)
                                        Signature Hash Algorithm Signature: ECDSA (3)
                                    Signature Length: 71
                                    Signature: 3045022100aefd4229ea2b9753d7f35ba6b65ea9186d441c…
                                Signed Certificate Timestamp (Google 'Skydiver' log)
                                    Serialized SCT Length: 117
                                    SCT Version: 0
                                    Log ID: bbd9dfbc1f8a71b593942397aa927b473857950aab52e81a…
                                    Timestamp: Nov  9, 2019 00:00:24.373000000 UTC
                                    Extensions length: 0
                                    Signature Algorithm: ecdsa_secp256r1_sha256 (0x0403)
                                        Signature Hash Algorithm Hash: SHA256 (4)
                                        Signature Hash Algorithm Signature: ECDSA (3)
                                    Signature Length: 70
                                    Signature: 304402201b83ac5f412f5e1d1559b99256a00f81f29a6f4a…
                    algorithmIdentifier (sha256WithRSAEncryption)
                        Algorithm Id: 1.2.840.113549.1.1.11 (sha256WithRSAEncryption)
                    Padding: 0
                    encrypted: 0c89a8b47822c2568af1a6369e0dac14324090870de1e484…
                Certificate Length: 1127
                Certificate: 308204633082034ba00302010202100182f8098ea2e626b9… (id-at-commonName=DigiCert Baltimore CA-2 G2,id-at-organizationalUnitName=www.digicert.com,id-at-organizationName=DigiCert Inc,id-at-countryName=US)
                    signedCertificate
                        version: v3 (2)
                        serialNumber: 0x0182f8098ea2e626b91a3b27841fb9af
                        signature (sha256WithRSAEncryption)
                            Algorithm Id: 1.2.840.113549.1.1.11 (sha256WithRSAEncryption)
                        issuer: rdnSequence (0)
                            rdnSequence: 4 items (id-at-commonName=Baltimore CyberTrust Root,id-at-organizationalUnitName=CyberTrust,id-at-organizationName=Baltimore,id-at-countryName=IE)
                                RDNSequence item: 1 item (id-at-countryName=IE)
                                    RelativeDistinguishedName item (id-at-countryName=IE)
                                        Id: 2.5.4.6 (id-at-countryName)
                                        CountryName: IE
                                RDNSequence item: 1 item (id-at-organizationName=Baltimore)
                                    RelativeDistinguishedName item (id-at-organizationName=Baltimore)
                                        Id: 2.5.4.10 (id-at-organizationName)
                                        DirectoryString: printableString (1)
                                            printableString: Baltimore
                                RDNSequence item: 1 item (id-at-organizationalUnitName=CyberTrust)
                                    RelativeDistinguishedName item (id-at-organizationalUnitName=CyberTrust)
                                        Id: 2.5.4.11 (id-at-organizationalUnitName)
                                        DirectoryString: printableString (1)
                                            printableString: CyberTrust
                                RDNSequence item: 1 item (id-at-commonName=Baltimore CyberTrust Root)
                                    RelativeDistinguishedName item (id-at-commonName=Baltimore CyberTrust Root)
                                        Id: 2.5.4.3 (id-at-commonName)
                                        DirectoryString: printableString (1)
                                            printableString: Baltimore CyberTrust Root
                        validity
                            notBefore: utcTime (0)
                                utcTime: 15-12-08 12:05:07 (UTC)
                            notAfter: utcTime (0)
                                utcTime: 25-05-10 12:00:00 (UTC)
                        subject: rdnSequence (0)
                            rdnSequence: 4 items (id-at-commonName=DigiCert Baltimore CA-2 G2,id-at-organizationalUnitName=www.digicert.com,id-at-organizationName=DigiCert Inc,id-at-countryName=US)
                                RDNSequence item: 1 item (id-at-countryName=US)
                                    RelativeDistinguishedName item (id-at-countryName=US)
                                        Id: 2.5.4.6 (id-at-countryName)
                                        CountryName: US
                                RDNSequence item: 1 item (id-at-organizationName=DigiCert Inc)
                                    RelativeDistinguishedName item (id-at-organizationName=DigiCert Inc)
                                        Id: 2.5.4.10 (id-at-organizationName)
                                        DirectoryString: printableString (1)
                                            printableString: DigiCert Inc
                                RDNSequence item: 1 item (id-at-organizationalUnitName=www.digicert.com)
                                    RelativeDistinguishedName item (id-at-organizationalUnitName=www.digicert.com)
                                        Id: 2.5.4.11 (id-at-organizationalUnitName)
                                        DirectoryString: printableString (1)
                                            printableString: www.digicert.com
                                RDNSequence item: 1 item (id-at-commonName=DigiCert Baltimore CA-2 G2)
                                    RelativeDistinguishedName item (id-at-commonName=DigiCert Baltimore CA-2 G2)
                                        Id: 2.5.4.3 (id-at-commonName)
                                        DirectoryString: printableString (1)
                                            printableString: DigiCert Baltimore CA-2 G2
                        subjectPublicKeyInfo
                            algorithm (rsaEncryption)
                                Algorithm Id: 1.2.840.113549.1.1.1 (rsaEncryption)
                            subjectPublicKey: 3082010a0282010100bbe700fe000173ef9b88f05c0875f0…
                                modulus: 0x00bbe700fe000173ef9b88f05c0875f05c70731fffb57a1f…
                                publicExponent: 65537
                        extensions: 7 items
                            Extension (id-ce-subjectKeyIdentifier)
                                Extension Id: 2.5.29.14 (id-ce-subjectKeyIdentifier)
                                SubjectKeyIdentifier: c012b22874684667e97025741a00455b067d5c44
                            Extension (id-ce-authorityKeyIdentifier)
                                Extension Id: 2.5.29.35 (id-ce-authorityKeyIdentifier)
                                AuthorityKeyIdentifier
                                    keyIdentifier: e59d5930824758ccacfa085436867b3ab5044df0
                            Extension (id-ce-basicConstraints)
                                Extension Id: 2.5.29.19 (id-ce-basicConstraints)
                                critical: True
                                BasicConstraintsSyntax
                                    cA: True
                                    pathLenConstraint: 0
                            Extension (id-ce-keyUsage)
                                Extension Id: 2.5.29.15 (id-ce-keyUsage)
                                critical: True
                                Padding: 1
                                KeyUsage: 86 (digitalSignature, keyCertSign, cRLSign)
                                    1... .... = digitalSignature: True
                                    .0.. .... = contentCommitment: False
                                    ..0. .... = keyEncipherment: False
                                    ...0 .... = dataEncipherment: False
                                    .... 0... = keyAgreement: False
                                    .... .1.. = keyCertSign: True
                                    .... ..1. = cRLSign: True
                                    .... ...0 = encipherOnly: False
                                    0... .... = decipherOnly: False
                            Extension (id-pe-authorityInfoAccess)
                                Extension Id: 1.3.6.1.5.5.7.1.1 (id-pe-authorityInfoAccess)
                                AuthorityInfoAccessSyntax: 1 item
                                    AccessDescription
                                        accessMethod: 1.3.6.1.5.5.7.48.1 (id-ad-ocsp)
                                        accessLocation: 6
                                            uniformResourceIdentifier: http://ocsp.digicert.com
                            Extension (id-ce-cRLDistributionPoints)
                                Extension Id: 2.5.29.31 (id-ce-cRLDistributionPoints)
                                CRLDistPointsSyntax: 1 item
                                    DistributionPoint
                                        distributionPoint: fullName (0)
                                            fullName: 1 item
                                                GeneralName: uniformResourceIdentifier (6)
                                                    uniformResourceIdentifier: http://crl3.digicert.com/Omniroot2025.crl
                            Extension (id-ce-certificatePolicies)
                                Extension Id: 2.5.29.32 (id-ce-certificatePolicies)
                                CertificatePoliciesSyntax: 1 item
                                    PolicyInformation
                                        policyIdentifier: 2.5.29.32.0 (anyPolicy)
                                        policyQualifiers: 1 item
                                            PolicyQualifierInfo
                                                Id: 1.3.6.1.5.5.7.2.1 (id-qt-cps)
                                                DirectoryString: https://www.digicert.com/CPS
                    algorithmIdentifier (sha256WithRSAEncryption)
                        Algorithm Id: 1.2.840.113549.1.1.11 (sha256WithRSAEncryption)
                    Padding: 0
                    encrypted: 2fe23766c31acf9155ee2914fa5010be998de228f1741607…
</code></pre></div>
</div>

<h2>
<span id="34-server-key-exchange-338-bytes" class="fragment"></span><a href="#34-server-key-exchange-338-bytes"><i class="fa fa-link"></i></a>3.4 Server Key Exchange (338 bytes)</h2>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>Transport Layer Security
    TLSv1.2 Record Layer: Handshake Protocol: Server Key Exchange
        Content Type: Handshake (22)
        Version: TLS 1.2 (0x0303)
        Length: 333
        Handshake Protocol: Server Key Exchange
            Handshake Type: Server Key Exchange (12)
            Length: 329
            EC Diffie-Hellman Server Params
                Curve Type: named_curve (0x03)
                Named Curve: secp256r1 (0x0017)
                Pubkey Length: 65
                Pubkey: 049fb495ea14ab38a012f39ad8e686b827122f19c7242eda…
                Signature Algorithm: rsa_pkcs1_sha256 (0x0401)
                    Signature Hash Algorithm Hash: SHA256 (4)
                    Signature Hash Algorithm Signature: RSA (1)
                Signature Length: 256
                Signature: 1d9e83b5921c6679fcc9d5557bdff9bff07de981ef82b6c3…
</code></pre></div></div>

<h2>
<span id="35-server-hello-done-9-bytes" class="fragment"></span><a href="#35-server-hello-done-9-bytes"><i class="fa fa-link"></i></a>3.5 Server Hello Done (9 bytes)</h2>

<div class="code-frame" data-lang="">
<div class="code-lang"><span class="bold">ServerHelloDone</span></div>
<div class="highlight"><pre class="with-code"><code>Transport Layer Security
    TLSv1.2 Record Layer: Handshake Protocol: Server Hello Done
        Content Type: Handshake (22)
        Version: TLS 1.2 (0x0303)
        Length: 4
        Handshake Protocol: Server Hello Done
            Handshake Type: Server Hello Done (14)
            Length: 0
</code></pre></div>
</div>

<h2>
<span id="36-client-key-exchange-change-cipher-spec-encrypted-handshake-message-126-bytes" class="fragment"></span><a href="#36-client-key-exchange-change-cipher-spec-encrypted-handshake-message-126-bytes"><i class="fa fa-link"></i></a>3.6 Client Key Exchange, Change Cipher Spec, Encrypted Handshake Message (126 bytes)</h2>

<div class="code-frame" data-lang="">
<div class="code-lang"><span class="bold">ClientKeyExchange,ChangeCipherSpec,EncryptedHandshakeMessage</span></div>
<div class="highlight"><pre class="with-code"><code>Transport Layer Security
    TLSv1.2 Record Layer: Handshake Protocol: Client Key Exchange
        Content Type: Handshake (22)
        Version: TLS 1.2 (0x0303)
        Length: 70
        Handshake Protocol: Client Key Exchange
            Handshake Type: Client Key Exchange (16)
            Length: 66
            EC Diffie-Hellman Client Params
                Pubkey Length: 65
                Pubkey: 04af4ea916072eb6a58aaccde749064e170dbc22dbceede6…
    TLSv1.2 Record Layer: Change Cipher Spec Protocol: Change Cipher Spec
        Content Type: Change Cipher Spec (20)
        Version: TLS 1.2 (0x0303)
        Length: 1
        Change Cipher Spec Message
    TLSv1.2 Record Layer: Handshake Protocol: Encrypted Handshake Message
        Content Type: Handshake (22)
        Version: TLS 1.2 (0x0303)
        Length: 40
        Handshake Protocol: Encrypted Handshake Message
</code></pre></div>
</div>

<h2>
<span id="37-change-cipher-spec-6-bytes" class="fragment"></span><a href="#37-change-cipher-spec-6-bytes"><i class="fa fa-link"></i></a>3.7 Change Cipher Spec (6 bytes)</h2>

<div class="code-frame" data-lang="">
<div class="code-lang"><span class="bold">ChangeCipherSpec</span></div>
<div class="highlight"><pre class="with-code"><code>Transport Layer Security
    TLSv1.2 Record Layer: Change Cipher Spec Protocol: Change Cipher Spec
        Content Type: Change Cipher Spec (20)
        Version: TLS 1.2 (0x0303)
        Length: 1
        Change Cipher Spec Message
</code></pre></div>
</div>

<h2>
<span id="38-finished-45-bytes" class="fragment"></span><a href="#38-finished-45-bytes"><i class="fa fa-link"></i></a>3.8 Finished (45 bytes)</h2>

<div class="code-frame" data-lang="">
<div class="code-lang"><span class="bold">Finished</span></div>
<div class="highlight"><pre class="with-code"><code>Transport Layer Security
    TLSv1.2 Record Layer: Handshake Protocol: Encrypted Handshake Message
        Content Type: Handshake (22)
        Version: TLS 1.2 (0x0303)
        Length: 40
        Handshake Protocol: Encrypted Handshake Message
</code></pre></div>
</div>

<h2>
<span id="39-finished-507-bytes" class="fragment"></span><a href="#39-finished-507-bytes"><i class="fa fa-link"></i></a>3.9 Finished (507 bytes)</h2>

<div class="code-frame" data-lang="">
<div class="code-lang"><span class="bold">Finished</span></div>
<div class="highlight"><pre class="with-code"><code>Transport Layer Security
    TLSv1.2 Record Layer: Application Data Protocol: http-over-tls
        Content Type: Application Data (23)
        Version: TLS 1.2 (0x0303)
        Length: 502
        Encrypted Application Data: 00000000000000012b91bd82dd852eba9f2c38497b9d49d6…
</code></pre></div>
</div>

<h2>
<span id="310-application-data-54-bytes" class="fragment"></span><a href="#310-application-data-54-bytes"><i class="fa fa-link"></i></a>3.10 Application Data (54 bytes)</h2>

<div class="code-frame" data-lang="">
<div class="code-lang"><span class="bold">ApplicationData</span></div>
<div class="highlight"><pre class="with-code"><code>Transport Layer Security
    TLSv1.2 Record Layer: Application Data Protocol: http-over-tls
        Content Type: Application Data (23)
        Version: TLS 1.2 (0x0303)
        Length: 49
        Encrypted Application Data: 0000000000000001613b3503a917544189f53347f1acf2eb…
</code></pre></div>
</div>

<h2>
<span id="311-application-data-30-bytes" class="fragment"></span><a href="#311-application-data-30-bytes"><i class="fa fa-link"></i></a>3.11 Application Data (30 bytes)</h2>

<div class="code-frame" data-lang="">
<div class="code-lang"><span class="bold">ApplicationData</span></div>
<div class="highlight"><pre class="with-code"><code>Transport Layer Security
    TLSv1.2 Record Layer: Application Data Protocol: http-over-tls
        Content Type: Application Data (23)
        Version: TLS 1.2 (0x0303)
        Length: 25
        Encrypted Application Data: 0000000000000002560df9a5e059a8525b59a49fe9b4881a…
</code></pre></div>
</div>

<h2>
<span id="312-application-data-386-bytes" class="fragment"></span><a href="#312-application-data-386-bytes"><i class="fa fa-link"></i></a>3.12 Application Data (386 bytes)</h2>

<div class="code-frame" data-lang="">
<div class="code-lang"><span class="bold">ApplicationData</span></div>
<div class="highlight"><pre class="with-code"><code>Transport Layer Security
    TLSv1.2 Record Layer: Application Data Protocol: http-over-tls
        Content Type: Application Data (23)
        Version: TLS 1.2 (0x0303)
        Length: 381
        Encrypted Application Data: 0000000000000002b39f4fcde4ec922bbd358885e08293e3…
</code></pre></div>
</div>

<h2>
<span id="313-encrypted-alert-31-bytes" class="fragment"></span><a href="#313-encrypted-alert-31-bytes"><i class="fa fa-link"></i></a>3.13 Encrypted Alert (31 bytes)</h2>

<div class="code-frame" data-lang="">
<div class="code-lang"><span class="bold">EncryptedAlert</span></div>
<div class="highlight"><pre class="with-code"><code>Transport Layer Security
    TLSv1.2 Record Layer: Encrypted Alert
        Content Type: Alert (21)
        Version: TLS 1.2 (0x0303)
        Length: 26
        Alert Message: Encrypted Alert
</code></pre></div>
</div>

<h1>
<span id="4-参考" class="fragment"></span><a href="#4-%E5%8F%82%E8%80%83"><i class="fa fa-link"></i></a>4. 参考</h1>

<ul>
<li><a href="https://www.iij.ad.jp/dev/report/iir/031/03_05.html" rel="nofollow noopener" target="_blank">Internet Infrastructure Review（IIR）Vol.31</a></li>
<li><a href="https://docs.oracle.com/cd/E92951_01/webtier/administer-ohs/GUID-C76BCA2A-9C28-4D16-9758-9346FBCF7512.htm" rel="nofollow noopener" target="_blank">SSLCipherSuiteディレクティブ</a></li>
<li><a href="https://ciphersuite.info/cs/TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256/" rel="nofollow noopener" target="_blank">Recommended Cipher Suite</a></li>
</ul>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2Fyz2cm%2Fitems%2F85c0df29efcdc0ef50db&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2Fyz2cm%2Fitems%2F85c0df29efcdc0ef50db&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/yz2cm/items/85c0df29efcdc0ef50db/likers" class="css-1iupg5d">1</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">0</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/85c0df29efcdc0ef50db/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/yz2cm/items/85c0df29efcdc0ef50db/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/yz2cm/items/85c0df29efcdc0ef50db/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/yz2cm/items/85c0df29efcdc0ef50db/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/yz2cm/items/85c0df29efcdc0ef50db.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-2fbe9975-ab72-49d1-a448-f184ec3ebba2">{"authorAnalyticsTrackingId":null,"organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-333eb5f8-40bf-49ad-8bcb-fc3f8797e579"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-333eb5f8-40bf-49ad-8bcb-fc3f8797e579">{}</script>
      
<div id="LoginModal-react-component-b71ea3b1-5dab-4f9a-a13f-e38614b45a62"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-b71ea3b1-5dab-4f9a-a13f-e38614b45a62">{}</script>
      
<div id="StockModal-react-component-e181db9e-3007-43e0-b439-44b6a4dcb622"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-e181db9e-3007-43e0-b439-44b6a4dcb622">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;Yy4cOQUj0I8rpTgXL7OBEilfMnjoUFuFBhqj1CPOe//JX6/Ph0Q9TPCHKVW7Qr0QjUSrCsyFE3tq+TzVnXjNHA==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\u003cp\u003eこの記事は、\u003cstrong\u003eAmazon S3 REST API\u003c/strong\u003eを呼び出した時のhttpプロトコルシーケンスをパケットキャプチャした結果を記録したものです（読んで面白いものではない）。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"前提\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%89%8D%E6%8F%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e前提\u003c/h1\u003e\n\n\u003cul\u003e\n\u003cli\u003eS3のTokyoリージョン（\u003ccode\u003eap-northeast-1\u003c/code\u003e）のバケット（\u003cem\u003e\u003ccode\u003esamplebucket\u003c/code\u003e\u003c/em\u003e）に対して、オブジェクト（\u003cem\u003e\u003ccode\u003esample.txt\u003c/code\u003e\u003c/em\u003e）をPut/Get/Deleteしました。\u003c/li\u003e\n\u003cli\u003eAPIの署名は、署名バージョン4を使用したものです。\u003c/li\u003e\n\u003cli\u003eアクセスキーID（\u003cem\u003e\u003ccode\u003eAKIAXXXXXXXXXXXXXXXX\u003c/code\u003e\u003c/em\u003e）はダミーなので、HTTPリクエストの\u003ccode\u003eAuthorization\u003c/code\u003eヘッダの署名とはリンクしません。\u003c/li\u003e\n\u003cli\u003e\n\u003cem\u003e\u003ccode\u003esamplebucket\u003c/code\u003e\u003c/em\u003eには、ライフサイクルポリシー \u003cem\u003e\u003ccode\u003esample-lifecycle\u003c/code\u003e\u003c/em\u003eが設定済みです。\u003c/li\u003e\n\u003cli\u003eクライアントプログラムはC#で実装しています。また、ビルド時のターゲットフレームワークは\u003ccode\u003e.NET Framework 4.6.1\u003c/code\u003eを指定しています。\u003c/li\u003e\n\u003cli\u003eHTTPクライアントのクラスは\u003ccode\u003eSystem.Net.Http.HttpClient\u003c/code\u003eを使用しています。\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eクライアントプログラムの実装イメージ（C#）\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003econtent\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eByteArrayContent\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"hoge\\n\"\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToBytes\u003c/span\u003e\u003cspan class=\"p\"\u003e());\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e//////// ここでhttpClientを作成（過程は省略）\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e//////// var httpClient = new HttpClient(...);\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003ehttpClient\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePutAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eURI\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"http://samplebucket.s3.amazonaws.com\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"n\"\u003econtent\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"n\"\u003ehttpClient\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePutAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eURI\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"http://samplebucket.s3-accelerate.amazonaws.com\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"n\"\u003econtent\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"n\"\u003ehttpClient\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eURI\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"http://samplebucket.s3.amazonaws.com\"\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n\u003cspan class=\"n\"\u003ehttpClient\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eDeleteAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eURI\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"http://samplebucket.s3.amazonaws.com\"\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"1-httpプロトコルシーケンス\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-http%E3%83%97%E3%83%AD%E3%83%88%E3%82%B3%E3%83%AB%E3%82%B7%E3%83%BC%E3%82%B1%E3%83%B3%E3%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. HTTPプロトコルシーケンス\u003c/h1\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"11-putobject\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#11-putobject\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1.1 PutObject\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"111-クライアント--amazon-s3\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#111-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88--amazon-s3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1.1.1 クライアント → Amazon S3\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"http\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"nf\"\u003ePUT\u003c/span\u003e \u003cspan class=\"nn\"\u003e/sample.txt\u003c/span\u003e \u003cspan class=\"k\"\u003eHTTP\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"m\"\u003e1.1\u003c/span\u003e\n\u003cspan class=\"na\"\u003ex-amz-content-sha256\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e2e0390eb024a52963db7b95e84a9c2b12c004054a7bad9a97ec0c7c89d4681d2\u003c/span\u003e\n\u003cspan class=\"na\"\u003ex-amz-date\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e20191117T001244Z\u003c/span\u003e\n\u003cspan class=\"na\"\u003eAuthorization\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eAWS4-HMAC-SHA256 Credential=AKIAXXXXXXXXXXXXXXXX/20191117/ap-northeast-1/s3/aws4_request,SignedHeaders=host;x-amz-content-sha256;x-amz-date,Signature=d4de97b542321428a14c85c3d37c3ba508bd79d50cd40064850e376b804e3ffb\u003c/span\u003e\n\u003cspan class=\"na\"\u003eHost\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003esamplebucket.s3.amazonaws.com\u003c/span\u003e\n\u003cspan class=\"na\"\u003eContent-Length\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e5\u003c/span\u003e\n\u003cspan class=\"na\"\u003eExpect\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e100-continue\u003c/span\u003e\n\u003cspan class=\"na\"\u003eConnection\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eKeep-Alive\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"112-クライアントamazon-s3\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#112-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1.1.2 クライアント　←　Amazon S3\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"http\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eHTTP\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"m\"\u003e1.1\u003c/span\u003e \u003cspan class=\"m\"\u003e100\u003c/span\u003e \u003cspan class=\"ne\"\u003eContinue\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"113-クライアント-amazon-s3\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#113-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88-amazon-s3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1.1.3 クライアント →　Amazon S3\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"http\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"nf\"\u003ePUT\u003c/span\u003e \u003cspan class=\"nn\"\u003e/sample.txt\u003c/span\u003e \u003cspan class=\"k\"\u003eHTTP\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"m\"\u003e1.1\u003c/span\u003e\n\u003cspan class=\"na\"\u003ex-amz-content-sha256\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e2e0390eb024a52963db7b95e84a9c2b12c004054a7bad9a97ec0c7c89d4681d2\u003c/span\u003e\n\u003cspan class=\"na\"\u003ex-amz-date\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e20191117T001244Z\u003c/span\u003e\n\u003cspan class=\"na\"\u003eAuthorization\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eAWS4-HMAC-SHA256 Credential=AKIAXXXXXXXXXXXXXXXX/20191117/ap-northeast-1/s3/aws4_request,SignedHeaders=host;x-amz-content-sha256;x-amz-date,Signature=d4de97b542321428a14c85c3d37c3ba508bd79d50cd40064850e376b804e3ffb\u003c/span\u003e\n\u003cspan class=\"na\"\u003eHost\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003esamplebucket.s3.amazonaws.com\u003c/span\u003e\n\u003cspan class=\"na\"\u003eContent-Length\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e5\u003c/span\u003e\n\u003cspan class=\"na\"\u003eExpect\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e100-continue\u003c/span\u003e\n\u003cspan class=\"na\"\u003eConnection\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eKeep-Alive\u003c/span\u003e\n\nhoge\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"114-クライアントamazon-s3\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#114-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1.1.4 クライアント　←　Amazon S3\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"http\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eHTTP\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"m\"\u003e1.1\u003c/span\u003e \u003cspan class=\"m\"\u003e200\u003c/span\u003e \u003cspan class=\"ne\"\u003eOK\u003c/span\u003e\n\u003cspan class=\"na\"\u003ex-amz-id-2\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e1gGAlxbb3z+elQEmbYNLEJ+hBL5X9jFSbOJFp3Kph91JwVzQybaQzYbDOnbQFU1kH4IxYjMP+Pc=\u003c/span\u003e\n\u003cspan class=\"na\"\u003ex-amz-request-id\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e127EE4E6FAAF7A70\u003c/span\u003e\n\u003cspan class=\"na\"\u003eDate\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eSun, 17 Nov 2019 00:12:44 GMT\u003c/span\u003e\n\u003cspan class=\"na\"\u003ex-amz-expiration\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eexpiry-date=\"Tue, 19 Nov 2019 00:00:00 GMT\", rule-id=\"sample-lifecycle\"\u003c/span\u003e\n\u003cspan class=\"na\"\u003eETag\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e\"c59548c3c576228486a1f0037eb16a1b\"\u003c/span\u003e\n\u003cspan class=\"na\"\u003eContent-Length\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e0\u003c/span\u003e\n\u003cspan class=\"na\"\u003eServer\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eAmazonS3\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"12putobject-transfer-acceleration\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#12putobject-transfer-acceleration\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1.2.PutObject (Transfer Acceleration)\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"121-クライアントamazon-s3\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#121-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1.2.1 クライアント　→　Amazon S3\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"http\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"nf\"\u003ePUT\u003c/span\u003e \u003cspan class=\"nn\"\u003e/sample.txt\u003c/span\u003e \u003cspan class=\"k\"\u003eHTTP\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"m\"\u003e1.1\u003c/span\u003e\n\u003cspan class=\"na\"\u003ex-amz-content-sha256\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e2e0390eb024a52963db7b95e84a9c2b12c004054a7bad9a97ec0c7c89d4681d2\u003c/span\u003e\n\u003cspan class=\"na\"\u003ex-amz-date\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e20191117T032908Z\u003c/span\u003e\n\u003cspan class=\"na\"\u003eAuthorization\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eAWS4-HMAC-SHA256 Credential=AKIAXXXXXXXXXXXXXXXX/20191117/ap-northeast-1/s3/aws4_request,SignedHeaders=host;x-amz-content-sha256;x-amz-date,Signature=b57a429bc93f01a0263f69791bd73359249b7e8a5259eb08e0dbb28d479191cc\u003c/span\u003e\n\u003cspan class=\"na\"\u003eHost\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003esamplebucket.s3-accelerate.amazonaws.com\u003c/span\u003e\n\u003cspan class=\"na\"\u003eContent-Length\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e5\u003c/span\u003e\n\u003cspan class=\"na\"\u003eExpect\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e100-continue\u003c/span\u003e\n\u003cspan class=\"na\"\u003eConnection\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eKeep-Alive\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"122-クライアントamazon-s3\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#122-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1.2.2 クライアント　←　Amazon S3\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"http\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eHTTP\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"m\"\u003e1.1\u003c/span\u003e \u003cspan class=\"m\"\u003e100\u003c/span\u003e \u003cspan class=\"ne\"\u003eContinue\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"123-クライアントamazon-s3\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#123-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1.2.3 クライアント　→　Amazon S3\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"http\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"nf\"\u003ePUT\u003c/span\u003e \u003cspan class=\"nn\"\u003e/sample.txt\u003c/span\u003e \u003cspan class=\"k\"\u003eHTTP\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"m\"\u003e1.1\u003c/span\u003e\n\u003cspan class=\"na\"\u003ex-amz-content-sha256\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e2e0390eb024a52963db7b95e84a9c2b12c004054a7bad9a97ec0c7c89d4681d2\u003c/span\u003e\n\u003cspan class=\"na\"\u003ex-amz-date\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e20191117T032908Z\u003c/span\u003e\n\u003cspan class=\"na\"\u003eAuthorization\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eAWS4-HMAC-SHA256 Credential=AKIAXXXXXXXXXXXXXXXX/20191117/ap-northeast-1/s3/aws4_request,SignedHeaders=host;x-amz-content-sha256;x-amz-date,Signature=b57a429bc93f01a0263f69791bd73359249b7e8a5259eb08e0dbb28d479191cc\u003c/span\u003e\n\u003cspan class=\"na\"\u003eHost\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003esamplebucket.s3-accelerate.amazonaws.com\u003c/span\u003e\n\u003cspan class=\"na\"\u003eContent-Length\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e5\u003c/span\u003e\n\u003cspan class=\"na\"\u003eExpect\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e100-continue\u003c/span\u003e\n\u003cspan class=\"na\"\u003eConnection\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eKeep-Alive\u003c/span\u003e\n\nhoge\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"124-クライアントamazon-s3\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#124-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1.2.4 クライアント　←　Amazon S3\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"http\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eHTTP\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"m\"\u003e1.1\u003c/span\u003e \u003cspan class=\"m\"\u003e200\u003c/span\u003e \u003cspan class=\"ne\"\u003eOK\u003c/span\u003e\n\u003cspan class=\"na\"\u003eContent-Length\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e0\u003c/span\u003e\n\u003cspan class=\"na\"\u003eConnection\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ekeep-alive\u003c/span\u003e\n\u003cspan class=\"na\"\u003ex-amz-id-2\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eIhjWCgokNW4vHoZDAlgBmBj6FW/sWyjDeYYI5yPCCRe3wO6Y6n0wxWryDAwkIIBH5ucjGx4Mo2M=\u003c/span\u003e\n\u003cspan class=\"na\"\u003ex-amz-request-id\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eCBA86EAD08B58714\u003c/span\u003e\n\u003cspan class=\"na\"\u003eDate\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eSun, 17 Nov 2019 03:29:08 GMT\u003c/span\u003e\n\u003cspan class=\"na\"\u003ex-amz-expiration\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eexpiry-date=\"Tue, 19 Nov 2019 00:00:00 GMT\", rule-id=\"sample-lifecycle\"\u003c/span\u003e\n\u003cspan class=\"na\"\u003eETag\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e\"c59548c3c576228486a1f0037eb16a1b\"\u003c/span\u003e\n\u003cspan class=\"na\"\u003eServer\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eAmazonS3\u003c/span\u003e\n\u003cspan class=\"na\"\u003eX-Cache\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eMiss from cloudfront\u003c/span\u003e\n\u003cspan class=\"na\"\u003eVia\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e1.1 f8f7fa10720e88f937ab7011bfa41fb6.cloudfront.net (CloudFront)\u003c/span\u003e\n\u003cspan class=\"na\"\u003eX-Amz-Cf-Pop\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eNRT20-C4\u003c/span\u003e\n\u003cspan class=\"na\"\u003eX-Amz-Cf-Id\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003emnZLq--nNnfv6CaTRW2lBEKe5lfncyUNPP55FCBizHA5WhD8lFnd6A==\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"13-getobject\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#13-getobject\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1.3. GetObject\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"131-クライアントamazon-s3\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#131-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1.3.1 クライアント　→　Amazon S3\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"http\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"nf\"\u003eGET\u003c/span\u003e \u003cspan class=\"nn\"\u003e/sample.txt\u003c/span\u003e \u003cspan class=\"k\"\u003eHTTP\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"m\"\u003e1.1\u003c/span\u003e\n\u003cspan class=\"na\"\u003ex-amz-content-sha256\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ee3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\u003c/span\u003e\n\u003cspan class=\"na\"\u003ex-amz-date\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e20191117T030846Z\u003c/span\u003e\n\u003cspan class=\"na\"\u003eAuthorization\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eAWS4-HMAC-SHA256 Credential=AKIAXXXXXXXXXXXXXXXX/20191117/ap-northeast-1/s3/aws4_request,SignedHeaders=host;x-amz-content-sha256;x-amz-date,Signature=9075643d96f2632360561e07241a12073a2e24161bb160370520a4c3cca4f529\u003c/span\u003e\n\u003cspan class=\"na\"\u003eHost\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003esamplebucket.s3.amazonaws.com\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"132-クライアントamazon-s3\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#132-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1.3.2 クライアント　←　Amazon S3\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"http\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eHTTP\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"m\"\u003e1.1\u003c/span\u003e \u003cspan class=\"m\"\u003e200\u003c/span\u003e \u003cspan class=\"ne\"\u003eOK\u003c/span\u003e\n\u003cspan class=\"na\"\u003ex-amz-id-2\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eHcaZFDvu5473rQHE41W24Oc41VEEz9Wap83Of0yeYeqZ2nA91GtBLCJgj9gGiYcX4FMY8Lev+/k=\u003c/span\u003e\n\u003cspan class=\"na\"\u003ex-amz-request-id\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e6B87E38BF4BACBAD\u003c/span\u003e\n\u003cspan class=\"na\"\u003eDate\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eSun, 17 Nov 2019 03:08:46 GMT\u003c/span\u003e\n\u003cspan class=\"na\"\u003eLast-Modified\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eSun, 17 Nov 2019 02:25:22 GMT\u003c/span\u003e\n\u003cspan class=\"na\"\u003ex-amz-expiration\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eexpiry-date=\"Tue, 19 Nov 2019 00:00:00 GMT\", rule-id=\"sample-lifecycle\"\u003c/span\u003e\n\u003cspan class=\"na\"\u003eETag\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e\"c59548c3c576228486a1f0037eb16a1b\"\u003c/span\u003e\n\u003cspan class=\"na\"\u003eAccept-Ranges\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ebytes\u003c/span\u003e\n\u003cspan class=\"na\"\u003eContent-Type\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ebinary/octet-stream\u003c/span\u003e\n\u003cspan class=\"na\"\u003eContent-Length\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e5\u003c/span\u003e\n\u003cspan class=\"na\"\u003eServer\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eAmazonS3\u003c/span\u003e\n\nhoge\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"14-deleteobject\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#14-deleteobject\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1.4. DeleteObject\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"141-クライアントamazon-s3\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#141-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1.4.1 クライアント　→　Amazon S3\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"http\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"nf\"\u003eDELETE\u003c/span\u003e \u003cspan class=\"nn\"\u003e/sample.txt_1\u003c/span\u003e \u003cspan class=\"k\"\u003eHTTP\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"m\"\u003e1.1\u003c/span\u003e\n\u003cspan class=\"na\"\u003ex-amz-content-sha256\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ee3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\u003c/span\u003e\n\u003cspan class=\"na\"\u003ex-amz-date\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e20191117T043633Z\u003c/span\u003e\n\u003cspan class=\"na\"\u003eAuthorization\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eAWS4-HMAC-SHA256 Credential=AKIAXXXXXXXXXXXXXXXX/20191117/ap-northeast-1/s3/aws4_request,SignedHeaders=host;x-amz-content-sha256;x-amz-date,Signature=a3b9594cb11e4752b64dd1d86399fded7cfd3feddd6776be2d0a3d37e29b88ab\u003c/span\u003e\n\u003cspan class=\"na\"\u003eHost\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003esamplebucket.s3.amazonaws.com\u003c/span\u003e\n\u003cspan class=\"na\"\u003eContent-Length\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e0\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"142-クライアントamazon-s3\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#142-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1.4.2 クライアント　←　Amazon S3\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"http\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eHTTP\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"m\"\u003e1.1\u003c/span\u003e \u003cspan class=\"m\"\u003e204\u003c/span\u003e \u003cspan class=\"ne\"\u003eNo Content\u003c/span\u003e\n\u003cspan class=\"na\"\u003ex-amz-id-2\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e3ObtFd4sB6or4i4TEAZFi+UvVqtDBx9s8YqkqaPZtLbchBNmNyV+b4YCc+0HVWa11sLP0sKe2fY=\u003c/span\u003e\n\u003cspan class=\"na\"\u003ex-amz-request-id\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e83E10C229B619354\u003c/span\u003e\n\u003cspan class=\"na\"\u003eDate\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eSun, 17 Nov 2019 04:36:33 GMT\u003c/span\u003e\n\u003cspan class=\"na\"\u003eServer\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eAmazonS3\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"15-deleteobject-transfer-acceleration\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#15-deleteobject-transfer-acceleration\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1.5. DeleteObject (Transfer Acceleration)\u003c/h1\u003e\n\n\u003cp\u003eGetObjectやDeleteObjectでTransfer Accelerationを使っても問題ないみたい（TAを使うことには意味はないけど、実装を切り替える必要がないという意味では意味がある）。\u003cbr\u003e\nCloud Frontを経由するかどうかの違いしかないからかな。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"151-クライアントamazon-s3\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#151-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1.5.1 クライアント　→　Amazon S3\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"http\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"nf\"\u003eDELETE\u003c/span\u003e \u003cspan class=\"nn\"\u003e/sample.txt\u003c/span\u003e \u003cspan class=\"k\"\u003eHTTP\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"m\"\u003e1.1\u003c/span\u003e\n\u003cspan class=\"na\"\u003ex-amz-content-sha256\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ee3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\u003c/span\u003e\n\u003cspan class=\"na\"\u003ex-amz-date\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e20191117T032225Z\u003c/span\u003e\n\u003cspan class=\"na\"\u003eAuthorization\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eAWS4-HMAC-SHA256 Credential=AKIAXXXXXXXXXXXXXXXX/20191117/ap-northeast-1/s3/aws4_request,SignedHeaders=host;x-amz-content-sha256;x-amz-date,Signature=87feb911b7dbcad7538738895feb88e33660b453b62b282b6dbde5f65496e454\u003c/span\u003e\n\u003cspan class=\"na\"\u003eHost\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003esamplebucket.s3-accelerate.amazonaws.com\u003c/span\u003e\n\u003cspan class=\"na\"\u003eContent-Length\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e0\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"152-クライアントamazon-s3\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#152-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1.5.2 クライアント　←　Amazon S3\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"http\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eHTTP\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"m\"\u003e1.1\u003c/span\u003e \u003cspan class=\"m\"\u003e204\u003c/span\u003e \u003cspan class=\"ne\"\u003eNo Content\u003c/span\u003e\n\u003cspan class=\"na\"\u003eConnection\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ekeep-alive\u003c/span\u003e\n\u003cspan class=\"na\"\u003ex-amz-id-2\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e8zkozysIbd19ycClxTyFvGOu3Esx4pJwL00XgJdDntvGMBHY9yt/KrIXijTaIsaCzWexPMimAwI=\u003c/span\u003e\n\u003cspan class=\"na\"\u003ex-amz-request-id\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eBFDC403D14CC0A69\u003c/span\u003e\n\u003cspan class=\"na\"\u003eDate\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eSun, 17 Nov 2019 03:22:25 GMT\u003c/span\u003e\n\u003cspan class=\"na\"\u003eServer\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eAmazonS3\u003c/span\u003e\n\u003cspan class=\"na\"\u003eX-Cache\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eMiss from cloudfront\u003c/span\u003e\n\u003cspan class=\"na\"\u003eVia\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e1.1 5fa8781927f0b3b53d2119c9d6e2e874.cloudfront.net (CloudFront)\u003c/span\u003e\n\u003cspan class=\"na\"\u003eX-Amz-Cf-Pop\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eNRT20-C1\u003c/span\u003e\n\u003cspan class=\"na\"\u003eX-Amz-Cf-Id\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e_U_7MT7LFGrhYgQiylaqD5A_QsVawI6_P7IFl6NK1_EfZ0pOX39HSw==\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"2-アイドルソケットのタイムアウト秒数\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-%E3%82%A2%E3%82%A4%E3%83%89%E3%83%AB%E3%82%BD%E3%82%B1%E3%83%83%E3%83%88%E3%81%AE%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%A2%E3%82%A6%E3%83%88%E7%A7%92%E6%95%B0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. アイドルソケットのタイムアウト秒数\u003c/h1\u003e\n\n\u003cp\u003eS3のアイドルソケットのタイムアウト秒数は\u003cstrong\u003e約20秒\u003c/strong\u003eである様子。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"nc\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e$ time printf \"PUT /sample.txt HTTP/1.1\\r\\nContent-Length: 1\\r\\n\\r\\n\" | nc samplebucket.s3.amazonaws.com 80\nHTTP/1.1 400 Bad Request\nDate: Wed, 27 Nov 19 13:10:58 GMT\nConnection: close\nTransfer-Encoding: chunked\nx-amz-id-2: AOLBqJXBiatzDtJFzZ47xz58MCw0Xt2LsrMTfeAWEWB4rM2HyHoWgqhYA8S84puBU2Vnpbdq7bAvfSodhn5PV2DMzOUyUeh2\nx-amz-request-id: 7275DD5C1C197259\nContent-Type: application/xml\n\n17b\n\u0026lt;?xml version=\"1.0\" encoding=\"UTF-8\"?\u0026gt;\u0026lt;Error\u0026gt;\u0026lt;Code\u0026gt;RequestTimeout\u0026lt;/Code\u0026gt;\u0026lt;Message\u0026gt;Your socket connection to the server was not read from or written to within the timeout period. Idle connections will be closed.\u0026lt;/Message\u0026gt;\u0026lt;RequestId\u0026gt;7275DD5C1C197259\u0026lt;/RequestId\u0026gt;\u0026lt;HostId\u0026gt;AOLBqJXBiatzDtJFzZ47xz58MCw0Xt2LsrMTfeAWEWB4rM2HyHoWgqhYA8S84puBU2Vnpbdq7bAvfSodhn5PV2DMzOUyUeh2\u0026lt;/HostId\u0026gt;\u0026lt;/Error\u0026gt;\n0\n\n\nreal    0m21.342s\nuser    0m0.000s\nsys     0m0.000s\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003etcpdump\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e$ sudo tcpdump -vv port 80\ntcpdump: listening on enp0s3, link-type EN10MB (Ethernet), capture size 262144 bytes\n22:10:38.055187 IP (tos 0x0, ttl 64, id 58310, offset 0, flags [DF], proto TCP (6), length 60)\n    debian.40380 \u0026gt; s3-ap-northeast-1-w.amazonaws.com.http: Flags [S], cksum 0x416d (incorrect -\u0026gt; 0x5208), seq 2938391169, win 29200, options [mss 1460,sackOK,TS val 28289351 ecr 0,nop,wscale 7], length 0\n22:10:38.103575 IP (tos 0x0, ttl 64, id 50316, offset 0, flags [none], proto TCP (6), length 44)\n    s3-ap-northeast-1-w.amazonaws.com.http \u0026gt; debian.40380: Flags [S.], cksum 0xfd35 (correct), seq 200128001, ack 2938391170, win 65535, options [mss 1460], length 0\n22:10:38.103645 IP (tos 0x0, ttl 64, id 58311, offset 0, flags [DF], proto TCP (6), length 40)\n    debian.40380 \u0026gt; s3-ap-northeast-1-w.amazonaws.com.http: Flags [.], cksum 0x4159 (incorrect -\u0026gt; 0xa2e2), seq 1, ack 1, win 29200, length 0\n22:10:38.103999 IP (tos 0x0, ttl 64, id 58312, offset 0, flags [DF], proto TCP (6), length 87)\n    debian.40380 \u0026gt; s3-ap-northeast-1-w.amazonaws.com.http: Flags [P.], cksum 0x4188 (incorrect -\u0026gt; 0x6e21), seq 1:48, ack 1, win 29200, length 47: HTTP, length: 47\n        PUT /sample.txt HTTP/1.1\n        Content-Length: 1\n\n22:10:38.104554 IP (tos 0x0, ttl 64, id 50317, offset 0, flags [none], proto TCP (6), length 40)\n    s3-ap-northeast-1-w.amazonaws.com.http \u0026gt; debian.40380: Flags [.], cksum 0x14c4 (correct), seq 1, ack 48, win 65535, length 0\n22:10:59.338162 IP (tos 0x0, ttl 64, id 50318, offset 0, flags [none], proto TCP (6), length 718)\n    s3-ap-northeast-1-w.amazonaws.com.http \u0026gt; debian.40380: Flags [P.], cksum 0x356b (correct), seq 1:679, ack 48, win 65535, length 678: HTTP, length: 678\n        HTTP/1.1 400 Bad Request\n        Date: Wed, 27 Nov 19 13:10:58 GMT\n        Connection: close\n        Transfer-Encoding: chunked\n        x-amz-id-2: AOLBqJXBiatzDtJFzZ47xz58MCw0Xt2LsrMTfeAWEWB4rM2HyHoWgqhYA8S84puBU2Vnpbdq7bAvfSodhn5PV2DMzOUyUeh2\n        x-amz-request-id: 7275DD5C1C197259\n        Content-Type: application/xml\n\n        17b\n        \u0026lt;?xml version=\"1.0\" encoding=\"UTF-8\"?\u0026gt;\u0026lt;Error\u0026gt;\u0026lt;Code\u0026gt;RequestTimeout\u0026lt;/Code\u0026gt;\u0026lt;Message\u0026gt;Your socket connection to the server was not read from or written to within the timeout period. Idle connections will be closed.\u0026lt;/Message\u0026gt;\u0026lt;RequestId\u0026gt;7275DD5C1C197259\u0026lt;/RequestId\u0026gt;\u0026lt;HostId\u0026gt;AOLBqJXBiatzDtJFzZ47xz58MCw0Xt2LsrMTfeAWEWB4rM2HyHoWgqhYA8S84puBU2Vnpbdq7bAvfSodhn5PV2DMzOUyUeh2\u0026lt;/HostId\u0026gt;\u0026lt;/Error\u0026gt;\n        0\n\n22:10:59.338212 IP (tos 0x0, ttl 64, id 58313, offset 0, flags [DF], proto TCP (6), length 40)\n    debian.40380 \u0026gt; s3-ap-northeast-1-w.amazonaws.com.http: Flags [.], cksum 0x4159 (incorrect -\u0026gt; 0x9aef), seq 48, ack 679, win 30510, length 0\n22:10:59.338335 IP (tos 0x0, ttl 64, id 50319, offset 0, flags [none], proto TCP (6), length 40)\n    s3-ap-northeast-1-w.amazonaws.com.http \u0026gt; debian.40380: Flags [F.], cksum 0x121d (correct), seq 679, ack 48, win 65535, length 0\n22:10:59.338605 IP (tos 0x0, ttl 64, id 58314, offset 0, flags [DF], proto TCP (6), length 40)\n    debian.40380 \u0026gt; s3-ap-northeast-1-w.amazonaws.com.http: Flags [F.], cksum 0x4159 (incorrect -\u0026gt; 0x9aed), seq 48, ack 680, win 30510, length 0\n22:10:59.339222 IP (tos 0x0, ttl 64, id 50320, offset 0, flags [none], proto TCP (6), length 40)\n    s3-ap-northeast-1-w.amazonaws.com.http \u0026gt; debian.40380: Flags [.], cksum 0x121c (correct), seq 680, ack 49, win 65535, length 0\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"3-tlsハンドシェイク\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3-tls%E3%83%8F%E3%83%B3%E3%83%89%E3%82%B7%E3%82%A7%E3%82%A4%E3%82%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3. TLSハンドシェイク\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"31-client-hello-184-bytes\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#31-client-hello-184-bytes\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.1 Client Hello (184 bytes)\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eClientHello\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003eTransport Layer Security\n    TLSv1.2 Record Layer: Handshake Protocol: Client Hello\n        Content Type: Handshake (22)\n        Version: TLS 1.2 (0x0303)\n        Length: 179\n        Handshake Protocol: Client Hello\n            Handshake Type: Client Hello (1)\n            Length: 175\n            Version: TLS 1.2 (0x0303)\n            Random: 5de90933d57dc7688bbf5e479ce77ffe295944f9f4073a0a…\n                GMT Unix Time: Dec  5, 2019 22:42:11.000000000 東京 (標準時)\n                Random Bytes: d57dc7688bbf5e479ce77ffe295944f9f4073a0ab486c043…\n            Session ID Length: 0\n            Cipher Suites Length: 42\n            Cipher Suites (21 suites)\n                Cipher Suite: TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 (0xc02c)\n                Cipher Suite: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 (0xc02b)\n                Cipher Suite: TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 (0xc030)\n                Cipher Suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 (0xc02f)\n                Cipher Suite: TLS_DHE_RSA_WITH_AES_256_GCM_SHA384 (0x009f)\n                Cipher Suite: TLS_DHE_RSA_WITH_AES_128_GCM_SHA256 (0x009e)\n                Cipher Suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384 (0xc024)\n                Cipher Suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256 (0xc023)\n                Cipher Suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 (0xc028)\n                Cipher Suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256 (0xc027)\n                Cipher Suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA (0xc00a)\n                Cipher Suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA (0xc009)\n                Cipher Suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA (0xc014)\n                Cipher Suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA (0xc013)\n                Cipher Suite: TLS_RSA_WITH_AES_256_GCM_SHA384 (0x009d)\n                Cipher Suite: TLS_RSA_WITH_AES_128_GCM_SHA256 (0x009c)\n                Cipher Suite: TLS_RSA_WITH_AES_256_CBC_SHA256 (0x003d)\n                Cipher Suite: TLS_RSA_WITH_AES_128_CBC_SHA256 (0x003c)\n                Cipher Suite: TLS_RSA_WITH_AES_256_CBC_SHA (0x0035)\n                Cipher Suite: TLS_RSA_WITH_AES_128_CBC_SHA (0x002f)\n                Cipher Suite: TLS_RSA_WITH_3DES_EDE_CBC_SHA (0x000a)\n            Compression Methods Length: 1\n            Compression Methods (1 method)\n                Compression Method: null (0)\n            Extensions Length: 92\n            Extension: server_name (len=33)\n                Type: server_name (0)\n                Length: 33\n                Server Name Indication extension\n                    Server Name list length: 31\n                    Server Name Type: host_name (0)\n                    Server Name length: 28\n                    Server Name: yz2cm-tokyo.s3.amazonaws.com\n            Extension: supported_groups (len=8)\n                Type: supported_groups (10)\n                Length: 8\n                Supported Groups List Length: 6\n                Supported Groups (3 groups)\n                    Supported Group: x25519 (0x001d)\n                    Supported Group: secp256r1 (0x0017)\n                    Supported Group: secp384r1 (0x0018)\n            Extension: ec_point_formats (len=2)\n                Type: ec_point_formats (11)\n                Length: 2\n                EC point formats Length: 1\n                Elliptic curves point formats (1)\n                    EC point format: uncompressed (0)\n            Extension: signature_algorithms (len=20)\n                Type: signature_algorithms (13)\n                Length: 20\n                Signature Hash Algorithms Length: 18\n                Signature Hash Algorithms (9 algorithms)\n                    Signature Algorithm: rsa_pkcs1_sha256 (0x0401)\n                        Signature Hash Algorithm Hash: SHA256 (4)\n                        Signature Hash Algorithm Signature: RSA (1)\n                    Signature Algorithm: rsa_pkcs1_sha384 (0x0501)\n                        Signature Hash Algorithm Hash: SHA384 (5)\n                        Signature Hash Algorithm Signature: RSA (1)\n                    Signature Algorithm: rsa_pkcs1_sha1 (0x0201)\n                        Signature Hash Algorithm Hash: SHA1 (2)\n                        Signature Hash Algorithm Signature: RSA (1)\n                    Signature Algorithm: ecdsa_secp256r1_sha256 (0x0403)\n                        Signature Hash Algorithm Hash: SHA256 (4)\n                        Signature Hash Algorithm Signature: ECDSA (3)\n                    Signature Algorithm: ecdsa_secp384r1_sha384 (0x0503)\n                        Signature Hash Algorithm Hash: SHA384 (5)\n                        Signature Hash Algorithm Signature: ECDSA (3)\n                    Signature Algorithm: ecdsa_sha1 (0x0203)\n                        Signature Hash Algorithm Hash: SHA1 (2)\n                        Signature Hash Algorithm Signature: ECDSA (3)\n                    Signature Algorithm: SHA1 DSA (0x0202)\n                        Signature Hash Algorithm Hash: SHA1 (2)\n                        Signature Hash Algorithm Signature: DSA (2)\n                    Signature Algorithm: rsa_pkcs1_sha512 (0x0601)\n                        Signature Hash Algorithm Hash: SHA512 (6)\n                        Signature Hash Algorithm Signature: RSA (1)\n                    Signature Algorithm: ecdsa_secp521r1_sha512 (0x0603)\n                        Signature Hash Algorithm Hash: SHA512 (6)\n                        Signature Hash Algorithm Signature: ECDSA (3)\n            Extension: session_ticket (len=0)\n                Type: session_ticket (35)\n                Length: 0\n                Data (0 bytes)\n            Extension: extended_master_secret (len=0)\n                Type: extended_master_secret (23)\n                Length: 0\n            Extension: renegotiation_info (len=1)\n                Type: renegotiation_info (65281)\n                Length: 1\n                Renegotiation Info extension\n                    Renegotiation info extension length: 0\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"32-server-hello-96-bytes\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#32-server-hello-96-bytes\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.2 Server Hello (96 bytes)\u003c/h2\u003e\n\n\u003cp\u003e\u003ccode\u003eTLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\u003c/code\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eServerHello\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003eTransport Layer Security\n    TLSv1.2 Record Layer: Handshake Protocol: Server Hello\n        Content Type: Handshake (22)\n        Version: TLS 1.2 (0x0303)\n        Length: 91\n        Handshake Protocol: Server Hello\n            Handshake Type: Server Hello (2)\n            Length: 87\n            Version: TLS 1.2 (0x0303)\n            Random: a1a714e5c85a3c351e90d4c93bd643b56810b46da812714b…\n                GMT Unix Time: Dec 11, 2055 05:00:37.000000000 東京 (標準時)\n                Random Bytes: c85a3c351e90d4c93bd643b56810b46da812714b00c0a836…\n            Session ID Length: 32\n            Session ID: ea9ce5ca215eba15a90dcdf8df89b16b9dea041ea61cfd59…\n            Cipher Suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 (0xc02f)\n            Compression Method: null (0)\n            Extensions Length: 15\n            Extension: server_name (len=0)\n                Type: server_name (0)\n                Length: 0\n            Extension: ec_point_formats (len=2)\n                Type: ec_point_formats (11)\n                Length: 2\n                EC point formats Length: 1\n                Elliptic curves point formats (1)\n                    EC point format: uncompressed (0)\n            Extension: renegotiation_info (len=1)\n                Type: renegotiation_info (65281)\n                Length: 1\n                Renegotiation Info extension\n                    Renegotiation info extension length: 0\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"33-certificate-185-bytes\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#33-certificate-185-bytes\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.3 Certificate (185 bytes)\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eCertificate\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003eTransport Layer Security\n    TLSv1.2 Record Layer: Handshake Protocol: Certificate\n        Content Type: Handshake (22)\n        Version: TLS 1.2 (0x0303)\n        Length: 2900\n        Handshake Protocol: Certificate\n            Handshake Type: Certificate (11)\n            Length: 2896\n            Certificates Length: 2893\n            Certificates (2893 bytes)\n                Certificate Length: 1760\n                Certificate: 308206dc308205c4a0030201020210082df68ee9c69315be… (id-at-commonName=*.s3.amazonaws.com,id-at-organizationName=Amazon.com, Inc.,id-at-localityName=Seattle,id-at-stateOrProvinceName=Washington,id-at-countryName=US)\n                    signedCertificate\n                        version: v3 (2)\n                        serialNumber: 0x082df68ee9c69315bebf72079b3810fd\n                        signature (sha256WithRSAEncryption)\n                            Algorithm Id: 1.2.840.113549.1.1.11 (sha256WithRSAEncryption)\n                        issuer: rdnSequence (0)\n                            rdnSequence: 4 items (id-at-commonName=DigiCert Baltimore CA-2 G2,id-at-organizationalUnitName=www.digicert.com,id-at-organizationName=DigiCert Inc,id-at-countryName=US)\n                                RDNSequence item: 1 item (id-at-countryName=US)\n                                    RelativeDistinguishedName item (id-at-countryName=US)\n                                        Id: 2.5.4.6 (id-at-countryName)\n                                        CountryName: US\n                                RDNSequence item: 1 item (id-at-organizationName=DigiCert Inc)\n                                    RelativeDistinguishedName item (id-at-organizationName=DigiCert Inc)\n                                        Id: 2.5.4.10 (id-at-organizationName)\n                                        DirectoryString: printableString (1)\n                                            printableString: DigiCert Inc\n                                RDNSequence item: 1 item (id-at-organizationalUnitName=www.digicert.com)\n                                    RelativeDistinguishedName item (id-at-organizationalUnitName=www.digicert.com)\n                                        Id: 2.5.4.11 (id-at-organizationalUnitName)\n                                        DirectoryString: printableString (1)\n                                            printableString: www.digicert.com\n                                RDNSequence item: 1 item (id-at-commonName=DigiCert Baltimore CA-2 G2)\n                                    RelativeDistinguishedName item (id-at-commonName=DigiCert Baltimore CA-2 G2)\n                                        Id: 2.5.4.3 (id-at-commonName)\n                                        DirectoryString: printableString (1)\n                                            printableString: DigiCert Baltimore CA-2 G2\n                        validity\n                            notBefore: utcTime (0)\n                                utcTime: 19-11-09 00:00:00 (UTC)\n                            notAfter: utcTime (0)\n                                utcTime: 21-03-12 12:00:00 (UTC)\n                        subject: rdnSequence (0)\n                            rdnSequence: 5 items (id-at-commonName=*.s3.amazonaws.com,id-at-organizationName=Amazon.com, Inc.,id-at-localityName=Seattle,id-at-stateOrProvinceName=Washington,id-at-countryName=US)\n                                RDNSequence item: 1 item (id-at-countryName=US)\n                                    RelativeDistinguishedName item (id-at-countryName=US)\n                                        Id: 2.5.4.6 (id-at-countryName)\n                                        CountryName: US\n                                RDNSequence item: 1 item (id-at-stateOrProvinceName=Washington)\n                                    RelativeDistinguishedName item (id-at-stateOrProvinceName=Washington)\n                                        Id: 2.5.4.8 (id-at-stateOrProvinceName)\n                                        DirectoryString: printableString (1)\n                                            printableString: Washington\n                                RDNSequence item: 1 item (id-at-localityName=Seattle)\n                                    RelativeDistinguishedName item (id-at-localityName=Seattle)\n                                        Id: 2.5.4.7 (id-at-localityName)\n                                        DirectoryString: printableString (1)\n                                            printableString: Seattle\n                                RDNSequence item: 1 item (id-at-organizationName=Amazon.com, Inc.)\n                                    RelativeDistinguishedName item (id-at-organizationName=Amazon.com, Inc.)\n                                        Id: 2.5.4.10 (id-at-organizationName)\n                                        DirectoryString: printableString (1)\n                                            printableString: Amazon.com, Inc.\n                                RDNSequence item: 1 item (id-at-commonName=*.s3.amazonaws.com)\n                                    RelativeDistinguishedName item (id-at-commonName=*.s3.amazonaws.com)\n                                        Id: 2.5.4.3 (id-at-commonName)\n                                        DirectoryString: uTF8String (4)\n                                            uTF8String: *.s3.amazonaws.com\n                        subjectPublicKeyInfo\n                            algorithm (rsaEncryption)\n                                Algorithm Id: 1.2.840.113549.1.1.1 (rsaEncryption)\n                            subjectPublicKey: 3082010a0282010100c95bce91b929589e2b5c147890dbdf…\n                                modulus: 0x00c95bce91b929589e2b5c147890dbdf033c316a11a0b5d2…\n                                publicExponent: 65537\n                        extensions: 10 items\n                            Extension (id-ce-authorityKeyIdentifier)\n                                Extension Id: 2.5.29.35 (id-ce-authorityKeyIdentifier)\n                                AuthorityKeyIdentifier\n                                    keyIdentifier: c012b22874684667e97025741a00455b067d5c44\n                            Extension (id-ce-subjectKeyIdentifier)\n                                Extension Id: 2.5.29.14 (id-ce-subjectKeyIdentifier)\n                                SubjectKeyIdentifier: ddf2260064b7caf75ca696a6d7accbe127150c13\n                            Extension (id-ce-subjectAltName)\n                                Extension Id: 2.5.29.17 (id-ce-subjectAltName)\n                                GeneralNames: 2 items\n                                    GeneralName: dNSName (2)\n                                        dNSName: *.s3.amazonaws.com\n                                    GeneralName: dNSName (2)\n                                        dNSName: s3.amazonaws.com\n                            Extension (id-ce-keyUsage)\n                                Extension Id: 2.5.29.15 (id-ce-keyUsage)\n                                critical: True\n                                Padding: 5\n                                KeyUsage: a0 (digitalSignature, keyEncipherment)\n                                    1... .... = digitalSignature: True\n                                    .0.. .... = contentCommitment: False\n                                    ..1. .... = keyEncipherment: True\n                                    ...0 .... = dataEncipherment: False\n                                    .... 0... = keyAgreement: False\n                                    .... .0.. = keyCertSign: False\n                                    .... ..0. = cRLSign: False\n                                    .... ...0 = encipherOnly: False\n                                    0... .... = decipherOnly: False\n                            Extension (id-ce-extKeyUsage)\n                                Extension Id: 2.5.29.37 (id-ce-extKeyUsage)\n                                KeyPurposeIDs: 2 items\n                                    KeyPurposeId: 1.3.6.1.5.5.7.3.1 (id-kp-serverAuth)\n                                    KeyPurposeId: 1.3.6.1.5.5.7.3.2 (id-kp-clientAuth)\n                            Extension (id-ce-cRLDistributionPoints)\n                                Extension Id: 2.5.29.31 (id-ce-cRLDistributionPoints)\n                                CRLDistPointsSyntax: 2 items\n                                    DistributionPoint\n                                        distributionPoint: fullName (0)\n                                            fullName: 1 item\n                                                GeneralName: uniformResourceIdentifier (6)\n                                                    uniformResourceIdentifier: http://crl3.digicert.com/DigiCertBaltimoreCA-2G2.crl\n                                    DistributionPoint\n                                        distributionPoint: fullName (0)\n                                            fullName: 1 item\n                                                GeneralName: uniformResourceIdentifier (6)\n                                                    uniformResourceIdentifier: http://crl4.digicert.com/DigiCertBaltimoreCA-2G2.crl\n                            Extension (id-ce-certificatePolicies)\n                                Extension Id: 2.5.29.32 (id-ce-certificatePolicies)\n                                CertificatePoliciesSyntax: 2 items\n                                    PolicyInformation\n                                        policyIdentifier: 2.16.840.1.114412.1.1 (US company arc.114412.1.1)\n                                        policyQualifiers: 1 item\n                                            PolicyQualifierInfo\n                                                Id: 1.3.6.1.5.5.7.2.1 (id-qt-cps)\n                                                DirectoryString: https://www.digicert.com/CPS\n                                    PolicyInformation\n                                        policyIdentifier: 2.23.140.1.2.2 (joint-iso-itu-t.23.140.1.2.2)\n                            Extension (id-pe-authorityInfoAccess)\n                                Extension Id: 1.3.6.1.5.5.7.1.1 (id-pe-authorityInfoAccess)\n                                AuthorityInfoAccessSyntax: 2 items\n                                    AccessDescription\n                                        accessMethod: 1.3.6.1.5.5.7.48.1 (id-ad-ocsp)\n                                        accessLocation: 6\n                                            uniformResourceIdentifier: http://ocsp.digicert.com\n                                    AccessDescription\n                                        accessMethod: 1.3.6.1.5.5.7.48.2 (id-ad-caIssuers)\n                                        accessLocation: 6\n                                            uniformResourceIdentifier: http://cacerts.digicert.com/DigiCertBaltimoreCA-2G2.crt\n                            Extension (id-ce-basicConstraints)\n                                Extension Id: 2.5.29.19 (id-ce-basicConstraints)\n                                critical: True\n                                BasicConstraintsSyntax [0 length]\n                            Extension (SignedCertificateTimestampList)\n                                Extension Id: 1.3.6.1.4.1.11129.2.4.2 (SignedCertificateTimestampList)\n                                Serialized SCT List Length: 359\n                                Signed Certificate Timestamp (Google 'Pilot' log)\n                                    Serialized SCT Length: 118\n                                    SCT Version: 0\n                                    Log ID: a4b90990b418581487bb13a2cc67700a3c359804f91bdfb8…\n                                    Timestamp: Nov  9, 2019 00:00:24.368000000 UTC\n                                    Extensions length: 0\n                                    Signature Algorithm: ecdsa_secp256r1_sha256 (0x0403)\n                                        Signature Hash Algorithm Hash: SHA256 (4)\n                                        Signature Hash Algorithm Signature: ECDSA (3)\n                                    Signature Length: 71\n                                    Signature: 304502210089f1d42959192169051ed1618ffebbc5a6f1cb…\n                                Signed Certificate Timestamp (Unknown Log)\n                                    Serialized SCT Length: 118\n                                    SCT Version: 0\n                                    Log ID: 4494652eb0eeceafc44007d8a8fe28c0dae682bed8cb31b5…\n                                    Timestamp: Nov  9, 2019 00:00:24.360000000 UTC\n                                    Extensions length: 0\n                                    Signature Algorithm: ecdsa_secp256r1_sha256 (0x0403)\n                                        Signature Hash Algorithm Hash: SHA256 (4)\n                                        Signature Hash Algorithm Signature: ECDSA (3)\n                                    Signature Length: 71\n                                    Signature: 3045022100aefd4229ea2b9753d7f35ba6b65ea9186d441c…\n                                Signed Certificate Timestamp (Google 'Skydiver' log)\n                                    Serialized SCT Length: 117\n                                    SCT Version: 0\n                                    Log ID: bbd9dfbc1f8a71b593942397aa927b473857950aab52e81a…\n                                    Timestamp: Nov  9, 2019 00:00:24.373000000 UTC\n                                    Extensions length: 0\n                                    Signature Algorithm: ecdsa_secp256r1_sha256 (0x0403)\n                                        Signature Hash Algorithm Hash: SHA256 (4)\n                                        Signature Hash Algorithm Signature: ECDSA (3)\n                                    Signature Length: 70\n                                    Signature: 304402201b83ac5f412f5e1d1559b99256a00f81f29a6f4a…\n                    algorithmIdentifier (sha256WithRSAEncryption)\n                        Algorithm Id: 1.2.840.113549.1.1.11 (sha256WithRSAEncryption)\n                    Padding: 0\n                    encrypted: 0c89a8b47822c2568af1a6369e0dac14324090870de1e484…\n                Certificate Length: 1127\n                Certificate: 308204633082034ba00302010202100182f8098ea2e626b9… (id-at-commonName=DigiCert Baltimore CA-2 G2,id-at-organizationalUnitName=www.digicert.com,id-at-organizationName=DigiCert Inc,id-at-countryName=US)\n                    signedCertificate\n                        version: v3 (2)\n                        serialNumber: 0x0182f8098ea2e626b91a3b27841fb9af\n                        signature (sha256WithRSAEncryption)\n                            Algorithm Id: 1.2.840.113549.1.1.11 (sha256WithRSAEncryption)\n                        issuer: rdnSequence (0)\n                            rdnSequence: 4 items (id-at-commonName=Baltimore CyberTrust Root,id-at-organizationalUnitName=CyberTrust,id-at-organizationName=Baltimore,id-at-countryName=IE)\n                                RDNSequence item: 1 item (id-at-countryName=IE)\n                                    RelativeDistinguishedName item (id-at-countryName=IE)\n                                        Id: 2.5.4.6 (id-at-countryName)\n                                        CountryName: IE\n                                RDNSequence item: 1 item (id-at-organizationName=Baltimore)\n                                    RelativeDistinguishedName item (id-at-organizationName=Baltimore)\n                                        Id: 2.5.4.10 (id-at-organizationName)\n                                        DirectoryString: printableString (1)\n                                            printableString: Baltimore\n                                RDNSequence item: 1 item (id-at-organizationalUnitName=CyberTrust)\n                                    RelativeDistinguishedName item (id-at-organizationalUnitName=CyberTrust)\n                                        Id: 2.5.4.11 (id-at-organizationalUnitName)\n                                        DirectoryString: printableString (1)\n                                            printableString: CyberTrust\n                                RDNSequence item: 1 item (id-at-commonName=Baltimore CyberTrust Root)\n                                    RelativeDistinguishedName item (id-at-commonName=Baltimore CyberTrust Root)\n                                        Id: 2.5.4.3 (id-at-commonName)\n                                        DirectoryString: printableString (1)\n                                            printableString: Baltimore CyberTrust Root\n                        validity\n                            notBefore: utcTime (0)\n                                utcTime: 15-12-08 12:05:07 (UTC)\n                            notAfter: utcTime (0)\n                                utcTime: 25-05-10 12:00:00 (UTC)\n                        subject: rdnSequence (0)\n                            rdnSequence: 4 items (id-at-commonName=DigiCert Baltimore CA-2 G2,id-at-organizationalUnitName=www.digicert.com,id-at-organizationName=DigiCert Inc,id-at-countryName=US)\n                                RDNSequence item: 1 item (id-at-countryName=US)\n                                    RelativeDistinguishedName item (id-at-countryName=US)\n                                        Id: 2.5.4.6 (id-at-countryName)\n                                        CountryName: US\n                                RDNSequence item: 1 item (id-at-organizationName=DigiCert Inc)\n                                    RelativeDistinguishedName item (id-at-organizationName=DigiCert Inc)\n                                        Id: 2.5.4.10 (id-at-organizationName)\n                                        DirectoryString: printableString (1)\n                                            printableString: DigiCert Inc\n                                RDNSequence item: 1 item (id-at-organizationalUnitName=www.digicert.com)\n                                    RelativeDistinguishedName item (id-at-organizationalUnitName=www.digicert.com)\n                                        Id: 2.5.4.11 (id-at-organizationalUnitName)\n                                        DirectoryString: printableString (1)\n                                            printableString: www.digicert.com\n                                RDNSequence item: 1 item (id-at-commonName=DigiCert Baltimore CA-2 G2)\n                                    RelativeDistinguishedName item (id-at-commonName=DigiCert Baltimore CA-2 G2)\n                                        Id: 2.5.4.3 (id-at-commonName)\n                                        DirectoryString: printableString (1)\n                                            printableString: DigiCert Baltimore CA-2 G2\n                        subjectPublicKeyInfo\n                            algorithm (rsaEncryption)\n                                Algorithm Id: 1.2.840.113549.1.1.1 (rsaEncryption)\n                            subjectPublicKey: 3082010a0282010100bbe700fe000173ef9b88f05c0875f0…\n                                modulus: 0x00bbe700fe000173ef9b88f05c0875f05c70731fffb57a1f…\n                                publicExponent: 65537\n                        extensions: 7 items\n                            Extension (id-ce-subjectKeyIdentifier)\n                                Extension Id: 2.5.29.14 (id-ce-subjectKeyIdentifier)\n                                SubjectKeyIdentifier: c012b22874684667e97025741a00455b067d5c44\n                            Extension (id-ce-authorityKeyIdentifier)\n                                Extension Id: 2.5.29.35 (id-ce-authorityKeyIdentifier)\n                                AuthorityKeyIdentifier\n                                    keyIdentifier: e59d5930824758ccacfa085436867b3ab5044df0\n                            Extension (id-ce-basicConstraints)\n                                Extension Id: 2.5.29.19 (id-ce-basicConstraints)\n                                critical: True\n                                BasicConstraintsSyntax\n                                    cA: True\n                                    pathLenConstraint: 0\n                            Extension (id-ce-keyUsage)\n                                Extension Id: 2.5.29.15 (id-ce-keyUsage)\n                                critical: True\n                                Padding: 1\n                                KeyUsage: 86 (digitalSignature, keyCertSign, cRLSign)\n                                    1... .... = digitalSignature: True\n                                    .0.. .... = contentCommitment: False\n                                    ..0. .... = keyEncipherment: False\n                                    ...0 .... = dataEncipherment: False\n                                    .... 0... = keyAgreement: False\n                                    .... .1.. = keyCertSign: True\n                                    .... ..1. = cRLSign: True\n                                    .... ...0 = encipherOnly: False\n                                    0... .... = decipherOnly: False\n                            Extension (id-pe-authorityInfoAccess)\n                                Extension Id: 1.3.6.1.5.5.7.1.1 (id-pe-authorityInfoAccess)\n                                AuthorityInfoAccessSyntax: 1 item\n                                    AccessDescription\n                                        accessMethod: 1.3.6.1.5.5.7.48.1 (id-ad-ocsp)\n                                        accessLocation: 6\n                                            uniformResourceIdentifier: http://ocsp.digicert.com\n                            Extension (id-ce-cRLDistributionPoints)\n                                Extension Id: 2.5.29.31 (id-ce-cRLDistributionPoints)\n                                CRLDistPointsSyntax: 1 item\n                                    DistributionPoint\n                                        distributionPoint: fullName (0)\n                                            fullName: 1 item\n                                                GeneralName: uniformResourceIdentifier (6)\n                                                    uniformResourceIdentifier: http://crl3.digicert.com/Omniroot2025.crl\n                            Extension (id-ce-certificatePolicies)\n                                Extension Id: 2.5.29.32 (id-ce-certificatePolicies)\n                                CertificatePoliciesSyntax: 1 item\n                                    PolicyInformation\n                                        policyIdentifier: 2.5.29.32.0 (anyPolicy)\n                                        policyQualifiers: 1 item\n                                            PolicyQualifierInfo\n                                                Id: 1.3.6.1.5.5.7.2.1 (id-qt-cps)\n                                                DirectoryString: https://www.digicert.com/CPS\n                    algorithmIdentifier (sha256WithRSAEncryption)\n                        Algorithm Id: 1.2.840.113549.1.1.11 (sha256WithRSAEncryption)\n                    Padding: 0\n                    encrypted: 2fe23766c31acf9155ee2914fa5010be998de228f1741607…\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"34-server-key-exchange-338-bytes\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#34-server-key-exchange-338-bytes\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.4 Server Key Exchange (338 bytes)\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003eTransport Layer Security\n    TLSv1.2 Record Layer: Handshake Protocol: Server Key Exchange\n        Content Type: Handshake (22)\n        Version: TLS 1.2 (0x0303)\n        Length: 333\n        Handshake Protocol: Server Key Exchange\n            Handshake Type: Server Key Exchange (12)\n            Length: 329\n            EC Diffie-Hellman Server Params\n                Curve Type: named_curve (0x03)\n                Named Curve: secp256r1 (0x0017)\n                Pubkey Length: 65\n                Pubkey: 049fb495ea14ab38a012f39ad8e686b827122f19c7242eda…\n                Signature Algorithm: rsa_pkcs1_sha256 (0x0401)\n                    Signature Hash Algorithm Hash: SHA256 (4)\n                    Signature Hash Algorithm Signature: RSA (1)\n                Signature Length: 256\n                Signature: 1d9e83b5921c6679fcc9d5557bdff9bff07de981ef82b6c3…\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"35-server-hello-done-9-bytes\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#35-server-hello-done-9-bytes\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.5 Server Hello Done (9 bytes)\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eServerHelloDone\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003eTransport Layer Security\n    TLSv1.2 Record Layer: Handshake Protocol: Server Hello Done\n        Content Type: Handshake (22)\n        Version: TLS 1.2 (0x0303)\n        Length: 4\n        Handshake Protocol: Server Hello Done\n            Handshake Type: Server Hello Done (14)\n            Length: 0\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"36-client-key-exchange-change-cipher-spec-encrypted-handshake-message-126-bytes\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#36-client-key-exchange-change-cipher-spec-encrypted-handshake-message-126-bytes\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.6 Client Key Exchange, Change Cipher Spec, Encrypted Handshake Message (126 bytes)\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eClientKeyExchange,ChangeCipherSpec,EncryptedHandshakeMessage\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003eTransport Layer Security\n    TLSv1.2 Record Layer: Handshake Protocol: Client Key Exchange\n        Content Type: Handshake (22)\n        Version: TLS 1.2 (0x0303)\n        Length: 70\n        Handshake Protocol: Client Key Exchange\n            Handshake Type: Client Key Exchange (16)\n            Length: 66\n            EC Diffie-Hellman Client Params\n                Pubkey Length: 65\n                Pubkey: 04af4ea916072eb6a58aaccde749064e170dbc22dbceede6…\n    TLSv1.2 Record Layer: Change Cipher Spec Protocol: Change Cipher Spec\n        Content Type: Change Cipher Spec (20)\n        Version: TLS 1.2 (0x0303)\n        Length: 1\n        Change Cipher Spec Message\n    TLSv1.2 Record Layer: Handshake Protocol: Encrypted Handshake Message\n        Content Type: Handshake (22)\n        Version: TLS 1.2 (0x0303)\n        Length: 40\n        Handshake Protocol: Encrypted Handshake Message\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"37-change-cipher-spec-6-bytes\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#37-change-cipher-spec-6-bytes\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.7 Change Cipher Spec (6 bytes)\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eChangeCipherSpec\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003eTransport Layer Security\n    TLSv1.2 Record Layer: Change Cipher Spec Protocol: Change Cipher Spec\n        Content Type: Change Cipher Spec (20)\n        Version: TLS 1.2 (0x0303)\n        Length: 1\n        Change Cipher Spec Message\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"38-finished-45-bytes\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#38-finished-45-bytes\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.8 Finished (45 bytes)\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eFinished\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003eTransport Layer Security\n    TLSv1.2 Record Layer: Handshake Protocol: Encrypted Handshake Message\n        Content Type: Handshake (22)\n        Version: TLS 1.2 (0x0303)\n        Length: 40\n        Handshake Protocol: Encrypted Handshake Message\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"39-finished-507-bytes\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#39-finished-507-bytes\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.9 Finished (507 bytes)\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eFinished\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003eTransport Layer Security\n    TLSv1.2 Record Layer: Application Data Protocol: http-over-tls\n        Content Type: Application Data (23)\n        Version: TLS 1.2 (0x0303)\n        Length: 502\n        Encrypted Application Data: 00000000000000012b91bd82dd852eba9f2c38497b9d49d6…\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"310-application-data-54-bytes\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#310-application-data-54-bytes\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.10 Application Data (54 bytes)\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eApplicationData\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003eTransport Layer Security\n    TLSv1.2 Record Layer: Application Data Protocol: http-over-tls\n        Content Type: Application Data (23)\n        Version: TLS 1.2 (0x0303)\n        Length: 49\n        Encrypted Application Data: 0000000000000001613b3503a917544189f53347f1acf2eb…\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"311-application-data-30-bytes\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#311-application-data-30-bytes\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.11 Application Data (30 bytes)\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eApplicationData\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003eTransport Layer Security\n    TLSv1.2 Record Layer: Application Data Protocol: http-over-tls\n        Content Type: Application Data (23)\n        Version: TLS 1.2 (0x0303)\n        Length: 25\n        Encrypted Application Data: 0000000000000002560df9a5e059a8525b59a49fe9b4881a…\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"312-application-data-386-bytes\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#312-application-data-386-bytes\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.12 Application Data (386 bytes)\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eApplicationData\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003eTransport Layer Security\n    TLSv1.2 Record Layer: Application Data Protocol: http-over-tls\n        Content Type: Application Data (23)\n        Version: TLS 1.2 (0x0303)\n        Length: 381\n        Encrypted Application Data: 0000000000000002b39f4fcde4ec922bbd358885e08293e3…\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"313-encrypted-alert-31-bytes\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#313-encrypted-alert-31-bytes\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.13 Encrypted Alert (31 bytes)\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eEncryptedAlert\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003eTransport Layer Security\n    TLSv1.2 Record Layer: Encrypted Alert\n        Content Type: Alert (21)\n        Version: TLS 1.2 (0x0303)\n        Length: 26\n        Alert Message: Encrypted Alert\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"4-参考\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#4-%E5%8F%82%E8%80%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e4. 参考\u003c/h1\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://www.iij.ad.jp/dev/report/iir/031/03_05.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003eInternet Infrastructure Review（IIR）Vol.31\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://docs.oracle.com/cd/E92951_01/webtier/administer-ohs/GUID-C76BCA2A-9C28-4D16-9758-9346FBCF7512.htm\" rel=\"nofollow noopener\" target=\"_blank\"\u003eSSLCipherSuiteディレクティブ\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://ciphersuite.info/cs/TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eRecommended Cipher Suite\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n","createdAt":"2019-11-17T04:27:50Z","elapsedYearsFromLastModifiedAt":1,"encryptedId":"1t6MW8F2wSaz1z2o1yA/d9C2waIfG5pi3w==--Gy+yMndAM9JiwKaU--uEq0uCCJTMAFMDCoNIyb9A==","isBanned":false,"isDeprecated":true,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2020-06-14T02:41:33Z","likesCount":1,"linkUrl":"https://qiita.com/yz2cm/items/85c0df29efcdc0ef50db","organization":null,"originalId":1080371,"stockedCount":0,"title":"Amazon S3 REST APIのパケットキャプチャ","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%89%8D%E6%8F%90\"\u003e前提\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#1-http%E3%83%97%E3%83%AD%E3%83%88%E3%82%B3%E3%83%AB%E3%82%B7%E3%83%BC%E3%82%B1%E3%83%B3%E3%82%B9\"\u003e1. HTTPプロトコルシーケンス\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#11-putobject\"\u003e1.1 PutObject\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#111-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88--amazon-s3\"\u003e1.1.1 クライアント → Amazon S3\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#112-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3\"\u003e1.1.2 クライアント　←　Amazon S3\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#113-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88-amazon-s3\"\u003e1.1.3 クライアント →　Amazon S3\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#114-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3\"\u003e1.1.4 クライアント　←　Amazon S3\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#12putobject-transfer-acceleration\"\u003e1.2.PutObject (Transfer Acceleration)\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#121-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3\"\u003e1.2.1 クライアント　→　Amazon S3\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#122-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3\"\u003e1.2.2 クライアント　←　Amazon S3\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#123-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3\"\u003e1.2.3 クライアント　→　Amazon S3\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#124-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3\"\u003e1.2.4 クライアント　←　Amazon S3\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#13-getobject\"\u003e1.3. GetObject\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#131-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3\"\u003e1.3.1 クライアント　→　Amazon S3\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#132-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3\"\u003e1.3.2 クライアント　←　Amazon S3\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#14-deleteobject\"\u003e1.4. DeleteObject\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#141-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3\"\u003e1.4.1 クライアント　→　Amazon S3\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#142-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3\"\u003e1.4.2 クライアント　←　Amazon S3\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#15-deleteobject-transfer-acceleration\"\u003e1.5. DeleteObject (Transfer Acceleration)\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#151-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3\"\u003e1.5.1 クライアント　→　Amazon S3\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#152-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88amazon-s3\"\u003e1.5.2 クライアント　←　Amazon S3\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#2-%E3%82%A2%E3%82%A4%E3%83%89%E3%83%AB%E3%82%BD%E3%82%B1%E3%83%83%E3%83%88%E3%81%AE%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%A2%E3%82%A6%E3%83%88%E7%A7%92%E6%95%B0\"\u003e2. アイドルソケットのタイムアウト秒数\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#3-tls%E3%83%8F%E3%83%B3%E3%83%89%E3%82%B7%E3%82%A7%E3%82%A4%E3%82%AF\"\u003e3. TLSハンドシェイク\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#31-client-hello-184-bytes\"\u003e3.1 Client Hello (184 bytes)\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#32-server-hello-96-bytes\"\u003e3.2 Server Hello (96 bytes)\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#33-certificate-185-bytes\"\u003e3.3 Certificate (185 bytes)\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#34-server-key-exchange-338-bytes\"\u003e3.4 Server Key Exchange (338 bytes)\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#35-server-hello-done-9-bytes\"\u003e3.5 Server Hello Done (9 bytes)\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#36-client-key-exchange-change-cipher-spec-encrypted-handshake-message-126-bytes\"\u003e3.6 Client Key Exchange, Change Cipher Spec, Encrypted Handshake Message (126 bytes)\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#37-change-cipher-spec-6-bytes\"\u003e3.7 Change Cipher Spec (6 bytes)\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#38-finished-45-bytes\"\u003e3.8 Finished (45 bytes)\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#39-finished-507-bytes\"\u003e3.9 Finished (507 bytes)\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#310-application-data-54-bytes\"\u003e3.10 Application Data (54 bytes)\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#311-application-data-30-bytes\"\u003e3.11 Application Data (30 bytes)\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#312-application-data-386-bytes\"\u003e3.12 Application Data (386 bytes)\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#313-encrypted-alert-31-bytes\"\u003e3.13 Encrypted Alert (31 bytes)\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#4-%E5%8F%82%E8%80%83\"\u003e4. 参考\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","totalPv":4009,"uuid":"85c0df29efcdc0ef50db","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"vi1gtS/cnn6U9Z1jOCXvvWF3aDU=--zkIlmLMgNM03S8Vl--mFvWSmnWcSfR/nb1RSMAEg==","originalId":51871,"description":"チャメさん（茶トラの猫ちゃん）のことを愛しています。AWS認定SAA/DVA/SOA/SCS。","facebookUrl":null,"githubUrl":"https://github.com/yz2cm","isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"","profileImageUrl":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/51871/profile-images/1609500654","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F51871%2Fprofile-images%2F1609500654?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=3c9e64ff575756e89eae07b0b9f2670d","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F51871%2Fprofile-images%2F1609500654?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=f02e821de41785ee3d16db4c37fcfd73","urlName":"yz2cm","websiteUrl":"https://qiita.com/yz2cm/items/0e24e1df40ef5cd43249","twitterUrl":"https://twitter.com/yz2cm_en","twitterUrlName":"yz2cm_en","revealedOrganizations":{"edges":[]}},"tags":[{"name":"AWS","urlName":"aws"},{"name":"C#","urlName":"csharp"},{"name":"S3","urlName":"s3"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
