最近、Visual Studio 2019でWSL 2を用いてLinuxアプリのデバッグができるようになりました。
しかし、自分はつまづいた点がいくつかあったので、紹介したいと思います。Visual Studio の更新が終わったあと、試そうと思ったら

こんな感じで選択肢に、WSL 2の選択肢がありませんでした。
これはすぐに解決しました。公式ホームページによると前提条件の一つに下の一文がありました。.NET Core デバッグと WSL 2 オプション コンポーネントが含まれる Visual Studio 2019 v16.9 Preview 1 以降のバージョン。
[引用]はい「WSL 2 オプション コンポーネント」とやらが入っていなかっただけのようです。
というわけで、Visula Studio Installer から.NET Core Debugging with WSL 2コンポーネントをインストールします。

ただし、この時には「.NET Core クロスプラットホームの開発」のものを選択するようにしましょう。「ASP.NET と Web開発」にあるやつは関係ないです。
インストールが終わると、下のように普通に選択肢がでてきました。
「Properties」ディレクトリにあるlaunchSettings.jsonのworkingDirectoryをいじることでできます。
たとえば、として実行することで、「出力」ウィンドウをみると実際に変更されていることがわかると思います。これも「Properties」ディレクトリにあるlaunchSettings.jsonのcommandLineArgsをいじることでできます。
たとえば、として実行することで、「出力」ウィンドウをみると指定した引数が出力されていると思います。以上の3点が自分がつまづいた点でした。
他にもディストリビューションごとにプロファイルを用意する方法や、詳しい起動プロファイルでの WSL の設定などは公式ホームページを参照してください。


