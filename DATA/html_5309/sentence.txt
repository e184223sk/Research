More than 3 years have passed since last update.LINQでの内部結合、外部結合についてのメモです。
間違いや勘違いに関しましてはご指摘いただけると幸いです。内部結合は結合するテーブル同士で、結合が発生する場合のみ取得する結合方法です。メソッド構文のJoin句は少し複雑になります。メソッド構文のJoin句は、以下のような構成になっています。クエリ式よりも厳密になり、結合後の仮想テーブルを=&gt;以降に定義しています。外部結合はテーブルに結合した際、主体となるテーブルに結合が発生しない行も取得する結合方法です。厳密にはLINQでは外部結合は存在しません。
intoを使用する、グループ結合というLINQ独自の結合を利用して外部結合のような挙動をさせています。
また、LINQでは左外部結合にあたるものしかありません。内部結合と異なる部分は以下です。まず、にて、結合する側を指す範囲変数を定義します。結合する側に「.DefaultIfEmpty()」を付けることで、結合される側（db.PersonTable）の行に、結合する側（db.TeamTable）と結合する要素がない場合、
結合する側（db.TeamTable）の空の内容が生成されます。LINQ to Entitiesの場合、.DefaultIfEmpty()にて生成される内容を定義することができないので、select句で空の場合の処理を入れる必要があります。(person, team)の時に、結合する側（team）がIEnumerable型になっています。
そのため重複しない結合の場合、1つに絞る処理が必要となります。ご指摘いただいた内容を元に、手元の環境に合わせて外部結合のメソッド構文を作成しなおしました。こちらのほうが実行されるSQLもすっきりします。


