More than 1 year has passed since last update..NET Framework の場合、System.Net.WebRequest.DefaultWebProxy を設定すれば概ね何とかなるものの、それが封じられている .NET Core の場合、対象がサポートしていないと手も足も出ない. Azure Storage Client Library の場合は手も足も出なかったわけですが、最近の版で対応が入ったのでメモ.前提条件: Storage Client Library 9.4.1 以降であることStorage Client Library は 9.3.x までは All in One で一つの nuget で Blob, File, Queu, Table に対応していたが、9.4.0 からは Microsoft.Azure.Storage.Blob のように4分割されたので、Update-Package WindowsAzure.Storage をどれだけしても 9.4.x にアップデートされることはないので注意.Storage Client Library 9.4.1 のリリースノートに以下のようにある.ここでも触れられているように Proxy のプロパティが変更できる DelegatingHandler を使う. 最初にそのための DelegatingHandler の実装を作る.これを Client のコンストラクタに渡せば OK!


