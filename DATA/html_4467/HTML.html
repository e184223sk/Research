<!DOCTYPE html><html><head><meta charset="utf-8" /><title>抽象化と継承 - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/dsudo/items/24aa4b6b30f1651e2f4a" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="2/yv0m1syBAydDfEqwpNEOxEm1wXCvABOvhvY/MNrvQpTWPzgcQkBe5iteCOcOUDYHUmZtpP8huN2qGaLCAf+w==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta content="@_dsudo" name="twitter:creator" /><meta property="og:type" content="article"><meta property="og:title" content="抽象化と継承 - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND01b3E5NkxHaDVZeVc0NEdvNTdhWjVvbV8mdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT01NCZ0eHQtY2xpcD1lbGxpcHNpcyZ0eHQtYWxpZ249Y2VudGVyJTJDbWlkZGxlJnM9NDM2ZTQwNzI1MGM2ZGFjYmM5NWM0NzRmMDMxOGRhNTA&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RR1J6ZFdSdiZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPWU3ZjM2NmUxN2YwYjAxYjllOGMwMWEyOTk3YjE0OTc5&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=cf3c5798008848b23c0f648b9054ceca"><meta property="og:description" content="子どもの頃，話が「抽象的すぎる」とよく言われていて，あまりよくない意味に捉えていたときもありました。しかし，よいプログラムを書く際に「抽象化」はとても大切なことの一つです。抽象度を上げたり，下げたり（具体化したり）を自在にできる考え方..."><meta content="https://qiita.com/dsudo/items/24aa4b6b30f1651e2f4a" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,オブジェクト指向,初心者,DI,継承" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-532da9f4-2fac-4cdb-96d2-b51f647c6e49"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2Fdsudo%2Fitems%2F24aa4b6b30f1651e2f4a">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2Fdsudo%2Fitems%2F24aa4b6b30f1651e2f4a">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-532da9f4-2fac-4cdb-96d2-b51f647c6e49">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2018-10-28T00:18:38.000+09:00","dateModified":"2021-03-26T04:59:36.000+09:00","headline":"抽象化と継承","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND01b3E5NkxHaDVZeVc0NEdvNTdhWjVvbV8mdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT01NCZ0eHQtY2xpcD1lbGxpcHNpcyZ0eHQtYWxpZ249Y2VudGVyJTJDbWlkZGxlJnM9NDM2ZTQwNzI1MGM2ZGFjYmM5NWM0NzRmMDMxOGRhNTA\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RR1J6ZFdSdiZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPWU3ZjM2NmUxN2YwYjAxYjllOGMwMWEyOTk3YjE0OTc5\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=cf3c5798008848b23c0f648b9054ceca","mainEntityOfPage":"https://qiita.com/dsudo/items/24aa4b6b30f1651e2f4a","author":{"@type":"Person","address":"Tokyo","email":null,"identifier":"dsudo","name":"dsudo","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F24204273%3Fv%3D3?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=290861af888610aeecc483549d18bb3b","url":"https://qiita.com/dsudo","description":"好きな言語は C# / F# / JavaScript / TypeScript。はじめてプログラミング言語を見たのは高校の教科書に載ってた BASIC（もうなくなったらしい）。はじめてプログラミングっぽいことをしたのは，中学のときに遊んだゲームつくるＰＣソフト。パズルと絵を描くのが好き。モデリングが得意。人生のテーマは「持続可能性(Sustainability)」","memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://zine.qiita.com/interview/202106-uzabase-3/">経済情報で世界を変えていけているユーザベースの可能性</a><a target="_blank" id="header_text_message_2" href="https://zine.qiita.com/interview/202106-uzabase-3/">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"dsudo","type":"items","id":"24aa4b6b30f1651e2f4a"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"経済情報で世界を変えていけているユーザベースの可能性","url":"https://zine.qiita.com/interview/202106-uzabase-3/","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"dsudo","type":"items","id":"24aa4b6b30f1651e2f4a"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":0,"pos_id":"header_text_message_1","message":"経済情報で世界を変えていけているユーザベースの可能性","url":"https://zine.qiita.com/interview/202106-uzabase-3/","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"dsudo","type":"items","id":"24aa4b6b30f1651e2f4a"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":0,"pos_id":"header_text_message_2","message":"経済情報で世界を変えていけているユーザベースの可能性","url":"https://zine.qiita.com/interview/202106-uzabase-3/","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/dsudo/items/24aa4b6b30f1651e2f4a","location":"/dsudo/items/24aa4b6b30f1651e2f4a","scheme":"https","host":"qiita.com","port":null,"pathname":"/dsudo/items/24aa4b6b30f1651e2f4a","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"3aZ9CtRMibpqoTVWu3yjRa8DDoiv5oOBzzslK9Lgj5gvF7ErOORlr7a3t3KeBgtWIzKzsmKjgZt4GevSDc0+lw==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-da610d5f-e110-46c1-87de-7b423b2cb938"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/dsudo/items/24aa4b6b30f1651e2f4a/likers" class="css-1iupg5d">2</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">3</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/24aa4b6b30f1651e2f4a/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/dsudo/items/24aa4b6b30f1651e2f4a/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/dsudo/items/24aa4b6b30f1651e2f4a/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/dsudo/items/24aa4b6b30f1651e2f4a/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/dsudo/items/24aa4b6b30f1651e2f4a.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/dsudo"><img class="css-100alwu eyfquo10" src="https://avatars0.githubusercontent.com/u/24204273?v=3" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/dsudo" class="css-10ougpm">@<!-- -->dsudo</a><div class="css-1ay9vb9"><span><meta content="2018-10-27T15:18:38Z"/><time dateTime="2021-03-25T19:59:36Z" class="css-m19uds">updated at 2021-03-25</time></span></div></div></div></div></div><h1 class="css-cgzq40">抽象化と継承</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/%e3%82%aa%e3%83%96%e3%82%b8%e3%82%a7%e3%82%af%e3%83%88%e6%8c%87%e5%90%91" class="css-4czcte">オブジェクト指向</a><a href="/tags/%e5%88%9d%e5%bf%83%e8%80%85" class="css-4czcte">初心者</a><a href="/tags/di" class="css-4czcte">DI</a><a href="/tags/%e7%b6%99%e6%89%bf" class="css-4czcte">継承</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div><p>子どもの頃，話が「抽象的すぎる」とよく言われていて，あまりよくない意味に捉えていたときもありました。しかし，よいプログラムを書く際に「抽象化」はとても大切なことの一つです。抽象度を上げたり，下げたり（具体化したり）を自在にできる考え方を身に付けることは，システム開発のみならず，様々な場面で有効です。</p>

<p>今回はプログラミングにおける抽象化についてです。継承やインターフェイスなどのオブジェクト指向言語の機能をはじめて覚えたら，何かと使いたくなってしまうものです。ですが，練習用のプログラムならまだしも実践でやたらめったら使ってしまうと大変なことになりかねません。なぜその機能があるのか理解して，適切に使いこなしましょう。</p>

<h1>
<span id="適用可能範囲" class="fragment"></span><a href="#%E9%81%A9%E7%94%A8%E5%8F%AF%E8%83%BD%E7%AF%84%E5%9B%B2"><i class="fa fa-link"></i></a>適用可能範囲</h1>

<p>ある要求（シグネチャ）に対して，適用できるものと適用できないものを考えてみます。まずは，シンプルな関数を見てみましょう。</p>

<div class="code-frame" data-lang="cs"><div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="kt">int</span> <span class="nf">Double</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">x</span> <span class="p">*</span> <span class="m">2</span><span class="p">;</span>
</code></pre></div></div>

<ul>
<li>数値を２倍にして返す</li>
</ul>

<p>この時の要求は int 型の値が１つです。文字列を渡すことはできません。また，整数でなければなりませんし，閾値もあります。<sup id="fnref1"><a href="#fn1" title="C# の int の範囲は -2,147,483,648 ～ 2,147,483,647 。ちなみにこの実装だと int.MinValue および int.MaxValue の半分より大きな値を入れるとオーバーフローしてしまいますね。">1</a></sup></p>

<p><a href="https://camo.qiitausercontent.com/b69dda7288deeaa8c7e5b38dde5c7d1e11c58e16/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3137333439382f31393665366132652d656333342d393638652d313565332d3561346363306330343730632e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F173498%2F196e6a2e-ec34-968e-15e3-5a4cc0c0470c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=8e8976249f89c7579fd9565bb4b4d771" alt="20181023_article_03_01-2.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/173498/196e6a2e-ec34-968e-15e3-5a4cc0c0470c.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F173498%2F196e6a2e-ec34-968e-15e3-5a4cc0c0470c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=53ad662d60d1d7d0242e71b053092616 1x" loading="lazy"></a><br>
このように，要求（シグネチャ）というのは<br>
　<strong>“その関数に適用できる対象の範囲を限定する”</strong><br>
という意味でもあります。</p>

<p>これは数値や文字列だけでなくクラスや構造体であっても同じです。</p>

<div class="code-frame" data-lang="cs"><div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">VectorUtil</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">double</span> <span class="nf">Distance</span><span class="p">(</span><span class="n">Vector2</span> <span class="n">a</span><span class="p">,</span> <span class="n">Vector2</span> <span class="n">b</span><span class="p">)</span> <span class="p">=&gt;</span>
        <span class="nf">Sqrt</span><span class="p">(</span><span class="nf">Pow</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">X</span> <span class="p">-</span> <span class="n">b</span><span class="p">.</span><span class="n">X</span><span class="p">,</span> <span class="m">2</span><span class="p">)</span> <span class="p">+</span> <span class="nf">Pow</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">Y</span> <span class="p">-</span> <span class="n">b</span><span class="p">.</span><span class="n">Y</span><span class="p">,</span> <span class="m">2</span><span class="p">));</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Vector2</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">double</span> <span class="n">X</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">double</span> <span class="n">Y</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>

    <span class="k">public</span> <span class="nf">Vector2</span><span class="p">(</span><span class="kt">double</span> <span class="n">x</span><span class="p">,</span> <span class="kt">double</span> <span class="n">y</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
<li>２点間の距離を返す</li>
</ul>

<p><code>Vector2</code> は double 型のプロパティ <code>X</code>, <code>Y</code> を持ち，２次元ベクトルを表現します。<code>Distance</code> 関数は，これを２つ受け取って２点間の距離を計算します。この場合も <code>Vector2</code> クラスのインスタンスしか適用することができません。引数の型によって受け取ることができるデータの条件を限定しているわけですね。<br>
<a href="https://camo.qiitausercontent.com/fc5cac81fadc5a8993dd3670eefd4261eaaca108/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3137333439382f36343030346632612d376334382d363536612d636462642d3137653362323561313135302e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F173498%2F64004f2a-7c48-656a-cdbd-17e3b25a1150.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=2765cfbba5c51bb46b7267c92d220090" alt="20181023_article_03_02-2.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/173498/64004f2a-7c48-656a-cdbd-17e3b25a1150.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F173498%2F64004f2a-7c48-656a-cdbd-17e3b25a1150.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=9f2b84d04d6a1d70c25266552f0b6132 1x" loading="lazy"></a><br>
しかし，実際に関数が必要としているのは「<code>X</code>, <code>Y</code>（を持っているオブジェクト）」というだけです。同じ意味を持つのであれば，別のクラスのオブジェクトであってもよさそうなものです。これには，インターフェイス（言語の機能における <sup id="fnref2"><a href="#fn2" title="この記事では，言語機能については “インターフェイス”，広義の意味のものについては “I/F” と表記します。">2</a></sup>）を使うことで解決できます。</p>

<p>インターフェイスとは，実装はさておき「属性（プロパティ）および振る舞い（メソッド）はこうなっていますよ」という定義だけを外部に宣言する仕組みです。また，そのインターフェイスを引数や戻り値に取るということは，「ある実装」ではなく「ある宣言」を受け取る，あるいは返却するという意味になります。</p>

<p><code>Distance</code> の引数を <code>IVector2</code> に変更し，<code>Vector2</code> に <code>IVector2</code>　を実装させます。これで，<code>Vector2</code> のインスタンスを渡したときの挙動は先ほどと同じになります。</p>

<div class="code-frame" data-lang="cs"><div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">VectorUtil</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">double</span> <span class="nf">Distance</span><span class="p">(</span><span class="n">IVector2</span> <span class="n">a</span><span class="p">,</span> <span class="n">IVector2</span> <span class="n">b</span><span class="p">)</span> <span class="p">=&gt;</span>
        <span class="nf">Sqrt</span><span class="p">(</span><span class="nf">Pow</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">X</span> <span class="p">-</span> <span class="n">b</span><span class="p">.</span><span class="n">X</span><span class="p">,</span> <span class="m">2</span><span class="p">)</span> <span class="p">+</span> <span class="nf">Pow</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">Y</span> <span class="p">-</span> <span class="n">b</span><span class="p">.</span><span class="n">Y</span><span class="p">,</span> <span class="m">2</span><span class="p">));</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">interface</span> <span class="nc">IVector2</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">X</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
    <span class="kt">int</span> <span class="n">Y</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Vector2</span> <span class="p">:</span> <span class="n">IVector2</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">X</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">Y</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>

    <span class="k">public</span> <span class="nf">Vector2</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ここで，地図上のある点を表す <code>Pin</code> クラスがあったとき，<code>IVector2</code> を実装させることによって，このインスタンスを渡しても同じように結果を得ることができるようになります。</p>

<div class="code-frame" data-lang="cs"><div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">Pin</span> <span class="p">:</span> <span class="n">IVector2</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">Id</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">X</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">Y</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>

    <span class="k">public</span> <span class="nf">Pin</span><span class="p">(</span><span class="kt">int</span> <span class="n">id</span><span class="p">,</span> <span class="kt">string</span> <span class="n">name</span><span class="p">,</span> <span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><code>Pin</code> クラスは <code>X</code>, <code>Y</code> 以外のプロパティも持っていますが，<code>Distance</code> 関数では使いません。実際，引数は <code>IVector2</code> になっているので <code>Distance</code> 関数の中から <code>Id</code> や <code>Name</code> にはアクセスすることはできません。約束事（シグネチャ）は，「<code>X</code>, <code>Y</code>（を持つオブジェクト）」なので，適用する側はそれさえ守れば何を渡してもよいですし，逆に適用される側はそれ以外の要素に言及してはいけない（アクセスしてはいけない）ということです。<br>
<a href="https://camo.qiitausercontent.com/e1d56e585b7e43e36a4932a702feab6773855b3c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3137333439382f39393939316261342d383966642d353636632d613031382d3832306663303665656264352e706e67" target="_blank" rel="nofollow noopener"><img alt="20181023_article_03_03" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F173498%2F99991ba4-89fd-566c-a018-820fc06eebd5.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=71f4d464b692226ee64b7094a846e5d6" width="480" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/173498/99991ba4-89fd-566c-a018-820fc06eebd5.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F173498%2F99991ba4-89fd-566c-a018-820fc06eebd5.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=09247ce222a76ca2e20739d9ca76607f 1x" loading="lazy"></a><br>
ただし，「<code>X</code>, <code>Y</code> を持っている同じ型のオブジェクト」に限定したい場合は次のようにします。</p>

<div class="code-frame" data-lang="cs"><div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">static</span> <span class="kt">double</span> <span class="n">Distance</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;(</span><span class="n">T</span> <span class="n">a</span><span class="p">,</span> <span class="n">T</span> <span class="n">b</span><span class="p">)</span> <span class="k">where</span> <span class="n">T</span> <span class="p">:</span> <span class="n">IVector2</span> <span class="p">=&gt;</span> <span class="p">...</span>
</code></pre></div></div>

<p>こうした場合は，<code>Vector2</code> と <code>Pin</code> の組み合わせを渡すことはできなくなります。<br>
<br><br>
また，さらに <code>Id</code> と <code>Name</code> を持つオブジェクトに対して処理を行いたい別の関数があったとします。新しいインターフェイス <code>IAnyItem</code> を追加して，<code>Pin</code> クラスに実装させてみましょう。この場合，既に対象の要素は持っていたので実装は変えることなく，特定の性質についての定義だけを追加することができます。これで，<code>Pin</code> を適用することができますし，<code>IAnyItem</code> を実装した別のクラスのインスタンスを適用することもできるようになります。<br>
<a href="https://camo.qiitausercontent.com/fbc59cebb5f387640eede49288f0aee79e3538a6/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3137333439382f62646532306636362d326132382d336131662d366137652d3766343531643061313161312e706e67" target="_blank" rel="nofollow noopener"><img alt="20181023_article_03_04" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F173498%2Fbde20f66-2a28-3a1f-6a7e-7f451d0a11a1.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=84df440b5df7254af731cb65dcfde7a1" width="480" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/173498/bde20f66-2a28-3a1f-6a7e-7f451d0a11a1.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F173498%2Fbde20f66-2a28-3a1f-6a7e-7f451d0a11a1.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=ef8a5e3d9f90fb12f7ab0f5aeccee18d 1x" loading="lazy"></a><br>
<code>Distance</code> から見ると，<code>IVector2</code> を実装しているクラスであれば何でも受け入れることができます。また，<code>Pin</code> から見ると <code>IVector2</code> を要求している関数にも <code>IAnyItem</code> を要求している関数にも適用することができます。インターフェイスを使うことで柔軟なプログラミングが可能になります。<br>
　<br>
このように，同一のシグネチャ（呼び出し方）によって複数の型を受け取れる性質を「ポリモーフィズム（Polymorphism）」といいます。多態性，多相性などとも訳されます。<sup id="fnref3"><a href="#fn3" title="広い意味では，オーバーロードや多重ディスパッチなども含まれるようです。ポリモーフィズム - Wikipedia">3</a></sup> これは，振る舞い（メソッド）だけでなく，属性（プロパティ）についても同じです。とくに，オブジェクト指向ではプロパティもカプセル化されるという点で実質的にメソッドと変わりがありません。</p>

<p>I/F における抽象化とは<br>
　<strong>“適用可能な範囲をコントロールする”</strong><br>
ことです。</p>

<h2>
<span id="言語による違い" class="fragment"></span><a href="#%E8%A8%80%E8%AA%9E%E3%81%AB%E3%82%88%E3%82%8B%E9%81%95%E3%81%84"><i class="fa fa-link"></i></a>言語による違い</h2>

<p>インターフェイスの機能は言語によって実装が異なります。</p>

<p>C# や Java のような静的型付け言語では，その型が何者であるのかがコンパイル時に明らかになっていなければなりません。どのような属性や振る舞いを持つのかという特性だけでなく，どのような継承関係なのかも必要です。型には “血統書” が求められます。インターフェイスの実装もその一部ですので，明示的に実装する必要があります。※ どこまで記述する必要があるかどうかは，言語の型推論能力などにも依ります。</p>

<p>Ruby や Python などの動的型付け言語では，実行時に型を判断します。インターフェイスという機能はありません。インターフェイスに限らず，受け入れる側が引数の型を強制する手段がありません。“血統書” は必要ではなく，そのオブジェクトの属性や振る舞いの有無だけが重要です。「ガーガー」鳴くなら，生物のアヒルでも機械のアヒルでもいいわけです。いわゆる「ダック・タイピング（duck typing）」です。ある意味，全面的に多態性を受け入れている（それを表現するためのコーディングも不要）ともいえますが，型の不整合は実行時にならないと分からないため，型の安全性という面では懸念があります。</p>

<h1>
<span id="継承とインターフェイス" class="fragment"></span><a href="#%E7%B6%99%E6%89%BF%E3%81%A8%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9"><i class="fa fa-link"></i></a>継承とインターフェイス</h1>

<p>オブジェクト指向には「継承」という概念があります。多態性を表現するために，（クラスの）継承を用いることもできますが，これは適切ではありません。継承とインターフェイスでは動機が異なります。</p>

<p>（クラスの）継承というのは，サブクラス（子クラス）がスーパークラス（親クラス）からその特性（属性や振る舞い）を受け継ぐことです。受け継いだ特性は継承元のクラスと同じように利用できます。<br>
<a href="https://camo.qiitausercontent.com/8dd51bc376a1ab54f57178a69dc92c0281f3bb35/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3137333439382f66393737656436352d373939342d373131662d656436652d3630666334623235663335382e706e67" target="_blank" rel="nofollow noopener"><img alt="20181023_article_03_05" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F173498%2Ff977ed65-7994-711f-ed6e-60fc4b25f358.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=46f67982c11330ab676c4fc3cb9c2106" width="480" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/173498/f977ed65-7994-711f-ed6e-60fc4b25f358.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F173498%2Ff977ed65-7994-711f-ed6e-60fc4b25f358.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=8569ec0e6575d6b8f0a6d1abdb55bd3a 1x" loading="lazy"></a><br>
継承は，主に<strong>「汎化（一般化）」</strong>と<strong>「再利用」</strong>を目的としています。</p>

<ul>
<li>子 -&gt; 親：汎化</li>
<li>親 -&gt; 子：再利用</li>
</ul>

<p>複数のクラスで同じ意味のプロパティや同じ実装のメソッドがあった場合，それぞれに記述してしまうと冗長的コードになってしまいます。同じ意味のコードが散在していると，機能の修正や変更があったとき，すべての箇所に同じように適用しなければならず，手間なだけでなく，漏れる危険もあります。同じコードは重複して書かずに，１か所にまとめておきたいところです。※ ソースのコピペは厳禁です。</p>

<p><strong>１人が負うべき責務は１つであると同時に，１つの責務を担当する人は１人であるべきです。</strong></p>

<p>というわけで，１か所にまとめるためにそれぞれのクラスから共通する特徴を抽出しようというのが<strong>「汎化」</strong>です。共通する部分をスーパークラスにまとめておき，継承することで各サブクラスで利用できるようにします。</p>

<p>さらに，同じ共通機能を必要とする別のクラスを追加したい場合には，新たにサブクラスとして追加することでその機能を利用することができます。既存のコードを直接変更しないので元のクラスを参照しているコードへの影響がなく安全に機能追加ができます。このように，既存のコード（資産）を<strong>「再利用」</strong>して，変更や拡張を簡単にできるようにしているわけです。</p>

<p>継承は特徴を引き継ぐため，スーパークラスを引数に取る関数に対してサブクラスを渡すことができます。インターフェイスと同じような使い方ができます。<br>
<a href="https://camo.qiitausercontent.com/1bd4e2b1f61d076e3a27150c209bd2170f04ff2d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3137333439382f64313966353135312d396231332d336461612d616437382d6462383830656138313465392e706e67" target="_blank" rel="nofollow noopener"><img alt="20181023_article_03_06" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F173498%2Fd19f5151-9b13-3daa-ad78-db880ea814e9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=4dc1de23822f4e4890345aa54e4d54ee" width="480" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/173498/d19f5151-9b13-3daa-ad78-db880ea814e9.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F173498%2Fd19f5151-9b13-3daa-ad78-db880ea814e9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=0fd2f47f654996f26d8f85a88c188cb6 1x" loading="lazy"></a><br>
しかし，この場合は少し意味が違います。クラスの継承というのは，I/F ではなく「実装」を共通利用するのが目的です。一方，多態性というのは，同一の I/F で異なる実装に対応することです。このように，これらは基本的な動機が異なります。<br>
　<br>
また，多重継承の問題があるため，前述の <code>Pin</code> クラスのように複数のインターフェイスを実装させるということを継承で行うのは難しいという面もあります。C# や Java では多重継承を禁止しており，インターフェイスはその代替としての役割も存在理由のひとつです。</p>

<p>多態性を表現するには，<br>
　<strong>“継承ではなくインターフェイスを使う”</strong><br>
ようにしましょう。</p>

<h1>
<span id="処理の再利用" class="fragment"></span><a href="#%E5%87%A6%E7%90%86%E3%81%AE%E5%86%8D%E5%88%A9%E7%94%A8"><i class="fa fa-link"></i></a>処理の再利用</h1>

<p>そもそもクラスの継承には問題があるため，基本的に利用するべきではありません。</p>

<p>継承を利用した場合，クラス同士の結合度が高まり，柔軟性が低下します。サブクラスは直接的にスーパークラスに依存してしまうため簡単には変更できません。しかし，汎化および再利用は継承を用いずとも可能です。</p>

<p>単純にある機能を共通利用したいだけであれば「継承」ではなく「使用」にしましょう。</p>

<div class="code-frame" data-lang="cs"><div class="highlight"><pre class="with-code"><code><span class="c1">// 共通ロジック</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">CommonModel</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">CommonProc</span><span class="p">()</span> <span class="p">=&gt;</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"(*・з・*)"</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// 継承の場合</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">Successor</span> <span class="p">:</span> <span class="n">CommonModel</span>
<span class="p">{</span>
<span class="p">}</span>

<span class="c1">// 使用の場合</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">Director</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="n">CommonModel</span> <span class="n">Model</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>

    <span class="k">public</span> <span class="nf">Director</span><span class="p">()</span> <span class="p">=&gt;</span> <span class="n">Model</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CommonModel</span><span class="p">();</span>

    <span class="k">public</span> <span class="k">void</span> <span class="nf">CommonProc</span><span class="p">()</span> <span class="p">=&gt;</span> <span class="n">Model</span><span class="p">.</span><span class="nf">CommonProc</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>

<p>共通利用したいロジックを持つクラス <code>CommonModel</code> をどのように扱うか。</p>

<p><code>Successor</code> は，<code>CommonModel</code> を「継承」しています。コードは簡単ですね。そのまま <code>CommonProc</code> が呼び出せます。<br>
<code>Director</code> は，<code>CommonModel</code> を「使用」<sup id="fnref4"><a href="#fn4" title="この場合は「委譲」でもあります。委譲 - Wikipedia">4</a></sup> しています。コードは増えましたが，<code>CommonModel</code> のインスタンスを操作しているだけです。とくに難しいことはありませんね。こちらの場合であれば，別の使用するクラスを追加することもできます。<br>
　<br>
継承は手軽で安全に機能を追加できますが，多重継承できないなどの問題があります。抽象クラスの継承を使った有効なテクニックもありますが，多くの場合，モジュールを切り分け，組み合わせるだけでも十分に効果があります。まずは，こちらの方をマスターしましょう。</p>

<h2>
<span id="依存性の注入di--dependency-injection" class="fragment"></span><a href="#%E4%BE%9D%E5%AD%98%E6%80%A7%E3%81%AE%E6%B3%A8%E5%85%A5di--dependency-injection"><i class="fa fa-link"></i></a>依存性の注入（DI : Dependency injection）</h2>

<p>さらに DI というテクニックを使うと柔軟性が向上します。<br>
先ほどの例では，<code>CommonModel</code> のインスタンスを自身で生成しており，該当クラス（の実装）への依存が確実なため，依存度という点では継承と変わりません。しかし，依存するオブジェクトを外部から受け取ることで依存度を下げられます。受け取る型をインターフェイスにすることで，クラス自体を変更することなしに，状況に応じてその振る舞いを変更することができます。オブジェクト指向において最も大事なことの１つである「実装ではなく抽象に依存しろ」ということにもつながります。<sup id="fnref5"><a href="#fn5" title="DDD や クリーンアーキテクチャ の実装でもこのテクニックは利用されます。依存性逆転の原則 - Wikipedia">5</a></sup></p>

<div class="code-frame" data-lang="cs"><div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">interface</span> <span class="nc">ICommonModel</span>
<span class="p">{</span>
    <span class="k">void</span> <span class="nf">CommonProc</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Flunky</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="n">ICommonModel</span> <span class="n">Model</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>

    <span class="k">public</span> <span class="nf">Flunky</span><span class="p">(</span><span class="n">ICommonModel</span> <span class="n">model</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">Model</span> <span class="p">=</span> <span class="n">model</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">void</span> <span class="nf">CommonProc</span><span class="p">()</span> <span class="p">=&gt;</span> <span class="n">Model</span><span class="p">.</span><span class="nf">CommonProc</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>

<p><a href="https://camo.qiitausercontent.com/3978666fbc4eacc4107058d1962b4b44c2084293/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3137333439382f31643264323937612d373637362d633738332d383662612d3431623634373964376466362e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F173498%2F1d2d297a-7676-c783-86ba-41b6479d7df6.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=08d1e1b8606ff54320feff2bc0554499" alt="20181023_article_03_08.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/173498/1d2d297a-7676-c783-86ba-41b6479d7df6.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F173498%2F1d2d297a-7676-c783-86ba-41b6479d7df6.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=e518af54eabf617f53056453803ad4b1 1x" loading="lazy"></a></p>

<p>DI を用いてインスタンスの生成時に依存するオブジェクトを選択できるようにしておくと，単体テストでモックに差し替えたテストが容易に行えるというメリットもあります。</p>

<h1>
<span id="まとめ" class="fragment"></span><a href="#%E3%81%BE%E3%81%A8%E3%82%81"><i class="fa fa-link"></i></a>まとめ</h1>

<ul>
<li>多態性の表現には「インターフェイス」を使う</li>
<li>コードの冗長性はなるべく減らして一元管理する</li>
<li>基本的にクラスの「継承」は使わず，DI する</li>
</ul>

<p><br><a href="https://qiita.com/dsudo/items/ee3fee1f558c7f1b359f" id="reference-9bfc6beb6a513f547bac">&lt;= To Be Continued...</a></p>

<h1>
<span id="参考図書" class="fragment"></span><a href="#%E5%8F%82%E8%80%83%E5%9B%B3%E6%9B%B8"><i class="fa fa-link"></i></a>参考図書</h1>

<ul>
<li><a href="https://www.amazon.co.jp/gp/product/B071V7MY82" rel="nofollow noopener" target="_blank">プリンシプル オブ プログラミング<br>
3年目までに身につけたい 一生役立つ101の原理原則</a></li>
<li><a href="https://www.amazon.co.jp/dp/4048930656" rel="nofollow noopener" target="_blank">Clean Architecture 達人に学ぶソフトウェアの構造と設計</a></li>
<li><a href="https://www.amazon.co.jp/dp/B01IGW54J0" rel="nofollow noopener" target="_blank">7つの言語 7つの世界</a></li>
</ul>

<div class="footnotes">
<hr>
<ol>

<li id="fn1">
<p>C# の <code>int</code> の範囲は <a href="https://docs.microsoft.com/ja-jp/dotnet/csharp/language-reference/keywords/integral-types-table" rel="nofollow noopener" target="_blank">-2,147,483,648 ～ 2,147,483,647</a> 。ちなみにこの実装だと <code>int.MinValue</code> および <code>int.MaxValue</code> の半分より大きな値を入れるとオーバーフローしてしまいますね。 <a href="#fnref1">↩</a></p>
</li>

<li id="fn2">
<p>この記事では，言語機能については “インターフェイス”，広義の意味のものについては “I/F” と表記します。 <a href="#fnref2">↩</a></p>
</li>

<li id="fn3">
<p>広い意味では，オーバーロードや多重ディスパッチなども含まれるようです。<br><a href="https://ja.wikipedia.org/wiki/%E3%83%9D%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%95%E3%82%A3%E3%82%BA%E3%83%A0" rel="nofollow noopener" target="_blank">ポリモーフィズム - Wikipedia</a> <a href="#fnref3">↩</a></p>
</li>

<li id="fn4">
<p>この場合は「委譲」でもあります。<br><a href="https://ja.wikipedia.org/wiki/%E5%A7%94%E8%AD%B2" rel="nofollow noopener" target="_blank">委譲 - Wikipedia</a> <a href="#fnref4">↩</a></p>
</li>

<li id="fn5">
<p>DDD や クリーンアーキテクチャ の実装でもこのテクニックは利用されます。<br><a href="https://ja.wikipedia.org/wiki/%E4%BE%9D%E5%AD%98%E6%80%A7%E9%80%86%E8%BB%A2%E3%81%AE%E5%8E%9F%E5%89%87" rel="nofollow noopener" target="_blank">依存性逆転の原則 - Wikipedia</a> <a href="#fnref5">↩</a></p>
</li>

</ol>
</div>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2Fdsudo%2Fitems%2F24aa4b6b30f1651e2f4a&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2Fdsudo%2Fitems%2F24aa4b6b30f1651e2f4a&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/dsudo/items/24aa4b6b30f1651e2f4a/likers" class="css-1iupg5d">2</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">3</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/24aa4b6b30f1651e2f4a/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/dsudo/items/24aa4b6b30f1651e2f4a/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/dsudo/items/24aa4b6b30f1651e2f4a/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/dsudo/items/24aa4b6b30f1651e2f4a/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/dsudo/items/24aa4b6b30f1651e2f4a.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-da610d5f-e110-46c1-87de-7b423b2cb938">{"authorAnalyticsTrackingId":null,"organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-4cb71b2b-617f-41f4-bdbb-447f8938b181"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-4cb71b2b-617f-41f4-bdbb-447f8938b181">{}</script>
      
<div id="LoginModal-react-component-13f56400-8ab9-4a00-a29d-7f1367795ed5"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-13f56400-8ab9-4a00-a29d-7f1367795ed5">{}</script>
      
<div id="StockModal-react-component-c266867a-ced7-4797-91c6-dd9dd2d95d28"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-c266867a-ced7-4797-91c6-dd9dd2d95d28">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;hjXar8BTUwaQKsYoDt4PAuCtqBQRvQwtBoNE2uiSADl0hBaOLPu/E0w8RAwrpKcRbJwVLtz4DjexoYojN7+xNg==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\u003cp\u003e子どもの頃，話が「抽象的すぎる」とよく言われていて，あまりよくない意味に捉えていたときもありました。しかし，よいプログラムを書く際に「抽象化」はとても大切なことの一つです。抽象度を上げたり，下げたり（具体化したり）を自在にできる考え方を身に付けることは，システム開発のみならず，様々な場面で有効です。\u003c/p\u003e\n\n\u003cp\u003e今回はプログラミングにおける抽象化についてです。継承やインターフェイスなどのオブジェクト指向言語の機能をはじめて覚えたら，何かと使いたくなってしまうものです。ですが，練習用のプログラムならまだしも実践でやたらめったら使ってしまうと大変なことになりかねません。なぜその機能があるのか理解して，適切に使いこなしましょう。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"適用可能範囲\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%81%A9%E7%94%A8%E5%8F%AF%E8%83%BD%E7%AF%84%E5%9B%B2\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e適用可能範囲\u003c/h1\u003e\n\n\u003cp\u003eある要求（シグネチャ）に対して，適用できるものと適用できないものを考えてみます。まずは，シンプルな関数を見てみましょう。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"cs\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"nf\"\u003eDouble\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cul\u003e\n\u003cli\u003e数値を２倍にして返す\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eこの時の要求は int 型の値が１つです。文字列を渡すことはできません。また，整数でなければなりませんし，閾値もあります。\u003csup id=\"fnref1\"\u003e\u003ca href=\"#fn1\" title=\"C# の int の範囲は -2,147,483,648 ～ 2,147,483,647 。ちなみにこの実装だと int.MinValue および int.MaxValue の半分より大きな値を入れるとオーバーフローしてしまいますね。\"\u003e1\u003c/a\u003e\u003c/sup\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/b69dda7288deeaa8c7e5b38dde5c7d1e11c58e16/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3137333439382f31393665366132652d656333342d393638652d313565332d3561346363306330343730632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F173498%2F196e6a2e-ec34-968e-15e3-5a4cc0c0470c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=8e8976249f89c7579fd9565bb4b4d771\" alt=\"20181023_article_03_01-2.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/173498/196e6a2e-ec34-968e-15e3-5a4cc0c0470c.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F173498%2F196e6a2e-ec34-968e-15e3-5a4cc0c0470c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=53ad662d60d1d7d0242e71b053092616 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nこのように，要求（シグネチャ）というのは\u003cbr\u003e\n　\u003cstrong\u003e“その関数に適用できる対象の範囲を限定する”\u003c/strong\u003e\u003cbr\u003e\nという意味でもあります。\u003c/p\u003e\n\n\u003cp\u003eこれは数値や文字列だけでなくクラスや構造体であっても同じです。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"cs\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eVectorUtil\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"nf\"\u003eDistance\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eVector2\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eVector2\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"nf\"\u003eSqrt\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eY\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eVector2\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003eVector2\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"cm\"\u003e/* ... */\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cul\u003e\n\u003cli\u003e２点間の距離を返す\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003ccode\u003eVector2\u003c/code\u003e は double 型のプロパティ \u003ccode\u003eX\u003c/code\u003e, \u003ccode\u003eY\u003c/code\u003e を持ち，２次元ベクトルを表現します。\u003ccode\u003eDistance\u003c/code\u003e 関数は，これを２つ受け取って２点間の距離を計算します。この場合も \u003ccode\u003eVector2\u003c/code\u003e クラスのインスタンスしか適用することができません。引数の型によって受け取ることができるデータの条件を限定しているわけですね。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/fc5cac81fadc5a8993dd3670eefd4261eaaca108/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3137333439382f36343030346632612d376334382d363536612d636462642d3137653362323561313135302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F173498%2F64004f2a-7c48-656a-cdbd-17e3b25a1150.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2765cfbba5c51bb46b7267c92d220090\" alt=\"20181023_article_03_02-2.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/173498/64004f2a-7c48-656a-cdbd-17e3b25a1150.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F173498%2F64004f2a-7c48-656a-cdbd-17e3b25a1150.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9f2b84d04d6a1d70c25266552f0b6132 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nしかし，実際に関数が必要としているのは「\u003ccode\u003eX\u003c/code\u003e, \u003ccode\u003eY\u003c/code\u003e（を持っているオブジェクト）」というだけです。同じ意味を持つのであれば，別のクラスのオブジェクトであってもよさそうなものです。これには，インターフェイス（言語の機能における \u003csup id=\"fnref2\"\u003e\u003ca href=\"#fn2\" title=\"この記事では，言語機能については “インターフェイス”，広義の意味のものについては “I/F” と表記します。\"\u003e2\u003c/a\u003e\u003c/sup\u003e）を使うことで解決できます。\u003c/p\u003e\n\n\u003cp\u003eインターフェイスとは，実装はさておき「属性（プロパティ）および振る舞い（メソッド）はこうなっていますよ」という定義だけを外部に宣言する仕組みです。また，そのインターフェイスを引数や戻り値に取るということは，「ある実装」ではなく「ある宣言」を受け取る，あるいは返却するという意味になります。\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003eDistance\u003c/code\u003e の引数を \u003ccode\u003eIVector2\u003c/code\u003e に変更し，\u003ccode\u003eVector2\u003c/code\u003e に \u003ccode\u003eIVector2\u003c/code\u003e　を実装させます。これで，\u003ccode\u003eVector2\u003c/code\u003e のインスタンスを渡したときの挙動は先ほどと同じになります。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"cs\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eVectorUtil\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"nf\"\u003eDistance\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eIVector2\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eIVector2\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"nf\"\u003eSqrt\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eY\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003einterface\u003c/span\u003e \u003cspan class=\"nc\"\u003eIVector2\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eVector2\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eIVector2\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003eVector2\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"cm\"\u003e/* ... */\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eここで，地図上のある点を表す \u003ccode\u003ePin\u003c/code\u003e クラスがあったとき，\u003ccode\u003eIVector2\u003c/code\u003e を実装させることによって，このインスタンスを渡しても同じように結果を得ることができるようになります。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"cs\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003ePin\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eIVector2\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eId\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eName\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eY\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003ePin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"cm\"\u003e/* ... */\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003ePin\u003c/code\u003e クラスは \u003ccode\u003eX\u003c/code\u003e, \u003ccode\u003eY\u003c/code\u003e 以外のプロパティも持っていますが，\u003ccode\u003eDistance\u003c/code\u003e 関数では使いません。実際，引数は \u003ccode\u003eIVector2\u003c/code\u003e になっているので \u003ccode\u003eDistance\u003c/code\u003e 関数の中から \u003ccode\u003eId\u003c/code\u003e や \u003ccode\u003eName\u003c/code\u003e にはアクセスすることはできません。約束事（シグネチャ）は，「\u003ccode\u003eX\u003c/code\u003e, \u003ccode\u003eY\u003c/code\u003e（を持つオブジェクト）」なので，適用する側はそれさえ守れば何を渡してもよいですし，逆に適用される側はそれ以外の要素に言及してはいけない（アクセスしてはいけない）ということです。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/e1d56e585b7e43e36a4932a702feab6773855b3c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3137333439382f39393939316261342d383966642d353636632d613031382d3832306663303665656264352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg alt=\"20181023_article_03_03\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F173498%2F99991ba4-89fd-566c-a018-820fc06eebd5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=71f4d464b692226ee64b7094a846e5d6\" width=\"480\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/173498/99991ba4-89fd-566c-a018-820fc06eebd5.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F173498%2F99991ba4-89fd-566c-a018-820fc06eebd5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=09247ce222a76ca2e20739d9ca76607f 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nただし，「\u003ccode\u003eX\u003c/code\u003e, \u003ccode\u003eY\u003c/code\u003e を持っている同じ型のオブジェクト」に限定したい場合は次のようにします。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"cs\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eDistance\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eT\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;(\u003c/span\u003e\u003cspan class=\"n\"\u003eT\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eT\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003ewhere\u003c/span\u003e \u003cspan class=\"n\"\u003eT\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eIVector2\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e...\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこうした場合は，\u003ccode\u003eVector2\u003c/code\u003e と \u003ccode\u003ePin\u003c/code\u003e の組み合わせを渡すことはできなくなります。\u003cbr\u003e\n\u003cbr\u003e\u003cbr\u003e\nまた，さらに \u003ccode\u003eId\u003c/code\u003e と \u003ccode\u003eName\u003c/code\u003e を持つオブジェクトに対して処理を行いたい別の関数があったとします。新しいインターフェイス \u003ccode\u003eIAnyItem\u003c/code\u003e を追加して，\u003ccode\u003ePin\u003c/code\u003e クラスに実装させてみましょう。この場合，既に対象の要素は持っていたので実装は変えることなく，特定の性質についての定義だけを追加することができます。これで，\u003ccode\u003ePin\u003c/code\u003e を適用することができますし，\u003ccode\u003eIAnyItem\u003c/code\u003e を実装した別のクラスのインスタンスを適用することもできるようになります。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/fbc59cebb5f387640eede49288f0aee79e3538a6/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3137333439382f62646532306636362d326132382d336131662d366137652d3766343531643061313161312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg alt=\"20181023_article_03_04\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F173498%2Fbde20f66-2a28-3a1f-6a7e-7f451d0a11a1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=84df440b5df7254af731cb65dcfde7a1\" width=\"480\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/173498/bde20f66-2a28-3a1f-6a7e-7f451d0a11a1.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F173498%2Fbde20f66-2a28-3a1f-6a7e-7f451d0a11a1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ef8a5e3d9f90fb12f7ab0f5aeccee18d 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n\u003ccode\u003eDistance\u003c/code\u003e から見ると，\u003ccode\u003eIVector2\u003c/code\u003e を実装しているクラスであれば何でも受け入れることができます。また，\u003ccode\u003ePin\u003c/code\u003e から見ると \u003ccode\u003eIVector2\u003c/code\u003e を要求している関数にも \u003ccode\u003eIAnyItem\u003c/code\u003e を要求している関数にも適用することができます。インターフェイスを使うことで柔軟なプログラミングが可能になります。\u003cbr\u003e\n　\u003cbr\u003e\nこのように，同一のシグネチャ（呼び出し方）によって複数の型を受け取れる性質を「ポリモーフィズム（Polymorphism）」といいます。多態性，多相性などとも訳されます。\u003csup id=\"fnref3\"\u003e\u003ca href=\"#fn3\" title=\"広い意味では，オーバーロードや多重ディスパッチなども含まれるようです。ポリモーフィズム - Wikipedia\"\u003e3\u003c/a\u003e\u003c/sup\u003e これは，振る舞い（メソッド）だけでなく，属性（プロパティ）についても同じです。とくに，オブジェクト指向ではプロパティもカプセル化されるという点で実質的にメソッドと変わりがありません。\u003c/p\u003e\n\n\u003cp\u003eI/F における抽象化とは\u003cbr\u003e\n　\u003cstrong\u003e“適用可能な範囲をコントロールする”\u003c/strong\u003e\u003cbr\u003e\nことです。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"言語による違い\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A8%80%E8%AA%9E%E3%81%AB%E3%82%88%E3%82%8B%E9%81%95%E3%81%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e言語による違い\u003c/h2\u003e\n\n\u003cp\u003eインターフェイスの機能は言語によって実装が異なります。\u003c/p\u003e\n\n\u003cp\u003eC# や Java のような静的型付け言語では，その型が何者であるのかがコンパイル時に明らかになっていなければなりません。どのような属性や振る舞いを持つのかという特性だけでなく，どのような継承関係なのかも必要です。型には “血統書” が求められます。インターフェイスの実装もその一部ですので，明示的に実装する必要があります。※ どこまで記述する必要があるかどうかは，言語の型推論能力などにも依ります。\u003c/p\u003e\n\n\u003cp\u003eRuby や Python などの動的型付け言語では，実行時に型を判断します。インターフェイスという機能はありません。インターフェイスに限らず，受け入れる側が引数の型を強制する手段がありません。“血統書” は必要ではなく，そのオブジェクトの属性や振る舞いの有無だけが重要です。「ガーガー」鳴くなら，生物のアヒルでも機械のアヒルでもいいわけです。いわゆる「ダック・タイピング（duck typing）」です。ある意味，全面的に多態性を受け入れている（それを表現するためのコーディングも不要）ともいえますが，型の不整合は実行時にならないと分からないため，型の安全性という面では懸念があります。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"継承とインターフェイス\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B6%99%E6%89%BF%E3%81%A8%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e継承とインターフェイス\u003c/h1\u003e\n\n\u003cp\u003eオブジェクト指向には「継承」という概念があります。多態性を表現するために，（クラスの）継承を用いることもできますが，これは適切ではありません。継承とインターフェイスでは動機が異なります。\u003c/p\u003e\n\n\u003cp\u003e（クラスの）継承というのは，サブクラス（子クラス）がスーパークラス（親クラス）からその特性（属性や振る舞い）を受け継ぐことです。受け継いだ特性は継承元のクラスと同じように利用できます。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/8dd51bc376a1ab54f57178a69dc92c0281f3bb35/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3137333439382f66393737656436352d373939342d373131662d656436652d3630666334623235663335382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg alt=\"20181023_article_03_05\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F173498%2Ff977ed65-7994-711f-ed6e-60fc4b25f358.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=46f67982c11330ab676c4fc3cb9c2106\" width=\"480\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/173498/f977ed65-7994-711f-ed6e-60fc4b25f358.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F173498%2Ff977ed65-7994-711f-ed6e-60fc4b25f358.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=8569ec0e6575d6b8f0a6d1abdb55bd3a 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n継承は，主に\u003cstrong\u003e「汎化（一般化）」\u003c/strong\u003eと\u003cstrong\u003e「再利用」\u003c/strong\u003eを目的としています。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e子 -\u0026gt; 親：汎化\u003c/li\u003e\n\u003cli\u003e親 -\u0026gt; 子：再利用\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e複数のクラスで同じ意味のプロパティや同じ実装のメソッドがあった場合，それぞれに記述してしまうと冗長的コードになってしまいます。同じ意味のコードが散在していると，機能の修正や変更があったとき，すべての箇所に同じように適用しなければならず，手間なだけでなく，漏れる危険もあります。同じコードは重複して書かずに，１か所にまとめておきたいところです。※ ソースのコピペは厳禁です。\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003e１人が負うべき責務は１つであると同時に，１つの責務を担当する人は１人であるべきです。\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003eというわけで，１か所にまとめるためにそれぞれのクラスから共通する特徴を抽出しようというのが\u003cstrong\u003e「汎化」\u003c/strong\u003eです。共通する部分をスーパークラスにまとめておき，継承することで各サブクラスで利用できるようにします。\u003c/p\u003e\n\n\u003cp\u003eさらに，同じ共通機能を必要とする別のクラスを追加したい場合には，新たにサブクラスとして追加することでその機能を利用することができます。既存のコードを直接変更しないので元のクラスを参照しているコードへの影響がなく安全に機能追加ができます。このように，既存のコード（資産）を\u003cstrong\u003e「再利用」\u003c/strong\u003eして，変更や拡張を簡単にできるようにしているわけです。\u003c/p\u003e\n\n\u003cp\u003e継承は特徴を引き継ぐため，スーパークラスを引数に取る関数に対してサブクラスを渡すことができます。インターフェイスと同じような使い方ができます。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/1bd4e2b1f61d076e3a27150c209bd2170f04ff2d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3137333439382f64313966353135312d396231332d336461612d616437382d6462383830656138313465392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg alt=\"20181023_article_03_06\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F173498%2Fd19f5151-9b13-3daa-ad78-db880ea814e9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4dc1de23822f4e4890345aa54e4d54ee\" width=\"480\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/173498/d19f5151-9b13-3daa-ad78-db880ea814e9.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F173498%2Fd19f5151-9b13-3daa-ad78-db880ea814e9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=0fd2f47f654996f26d8f85a88c188cb6 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nしかし，この場合は少し意味が違います。クラスの継承というのは，I/F ではなく「実装」を共通利用するのが目的です。一方，多態性というのは，同一の I/F で異なる実装に対応することです。このように，これらは基本的な動機が異なります。\u003cbr\u003e\n　\u003cbr\u003e\nまた，多重継承の問題があるため，前述の \u003ccode\u003ePin\u003c/code\u003e クラスのように複数のインターフェイスを実装させるということを継承で行うのは難しいという面もあります。C# や Java では多重継承を禁止しており，インターフェイスはその代替としての役割も存在理由のひとつです。\u003c/p\u003e\n\n\u003cp\u003e多態性を表現するには，\u003cbr\u003e\n　\u003cstrong\u003e“継承ではなくインターフェイスを使う”\u003c/strong\u003e\u003cbr\u003e\nようにしましょう。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"処理の再利用\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%87%A6%E7%90%86%E3%81%AE%E5%86%8D%E5%88%A9%E7%94%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e処理の再利用\u003c/h1\u003e\n\n\u003cp\u003eそもそもクラスの継承には問題があるため，基本的に利用するべきではありません。\u003c/p\u003e\n\n\u003cp\u003e継承を利用した場合，クラス同士の結合度が高まり，柔軟性が低下します。サブクラスは直接的にスーパークラスに依存してしまうため簡単には変更できません。しかし，汎化および再利用は継承を用いずとも可能です。\u003c/p\u003e\n\n\u003cp\u003e単純にある機能を共通利用したいだけであれば「継承」ではなく「使用」にしましょう。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"cs\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e// 共通ロジック\u003c/span\u003e\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eCommonModel\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eCommonProc\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"(*・з・*)\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// 継承の場合\u003c/span\u003e\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eSuccessor\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eCommonModel\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// 使用の場合\u003c/span\u003e\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eDirector\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eCommonModel\u003c/span\u003e \u003cspan class=\"n\"\u003eModel\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003eDirector\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eModel\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eCommonModel\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eCommonProc\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eModel\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCommonProc\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e共通利用したいロジックを持つクラス \u003ccode\u003eCommonModel\u003c/code\u003e をどのように扱うか。\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003eSuccessor\u003c/code\u003e は，\u003ccode\u003eCommonModel\u003c/code\u003e を「継承」しています。コードは簡単ですね。そのまま \u003ccode\u003eCommonProc\u003c/code\u003e が呼び出せます。\u003cbr\u003e\n\u003ccode\u003eDirector\u003c/code\u003e は，\u003ccode\u003eCommonModel\u003c/code\u003e を「使用」\u003csup id=\"fnref4\"\u003e\u003ca href=\"#fn4\" title=\"この場合は「委譲」でもあります。委譲 - Wikipedia\"\u003e4\u003c/a\u003e\u003c/sup\u003e しています。コードは増えましたが，\u003ccode\u003eCommonModel\u003c/code\u003e のインスタンスを操作しているだけです。とくに難しいことはありませんね。こちらの場合であれば，別の使用するクラスを追加することもできます。\u003cbr\u003e\n　\u003cbr\u003e\n継承は手軽で安全に機能を追加できますが，多重継承できないなどの問題があります。抽象クラスの継承を使った有効なテクニックもありますが，多くの場合，モジュールを切り分け，組み合わせるだけでも十分に効果があります。まずは，こちらの方をマスターしましょう。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"依存性の注入di--dependency-injection\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BE%9D%E5%AD%98%E6%80%A7%E3%81%AE%E6%B3%A8%E5%85%A5di--dependency-injection\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e依存性の注入（DI : Dependency injection）\u003c/h2\u003e\n\n\u003cp\u003eさらに DI というテクニックを使うと柔軟性が向上します。\u003cbr\u003e\n先ほどの例では，\u003ccode\u003eCommonModel\u003c/code\u003e のインスタンスを自身で生成しており，該当クラス（の実装）への依存が確実なため，依存度という点では継承と変わりません。しかし，依存するオブジェクトを外部から受け取ることで依存度を下げられます。受け取る型をインターフェイスにすることで，クラス自体を変更することなしに，状況に応じてその振る舞いを変更することができます。オブジェクト指向において最も大事なことの１つである「実装ではなく抽象に依存しろ」ということにもつながります。\u003csup id=\"fnref5\"\u003e\u003ca href=\"#fn5\" title=\"DDD や クリーンアーキテクチャ の実装でもこのテクニックは利用されます。依存性逆転の原則 - Wikipedia\"\u003e5\u003c/a\u003e\u003c/sup\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"cs\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003einterface\u003c/span\u003e \u003cspan class=\"nc\"\u003eICommonModel\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eCommonProc\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eFlunky\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eICommonModel\u003c/span\u003e \u003cspan class=\"n\"\u003eModel\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003eFlunky\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eICommonModel\u003c/span\u003e \u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eModel\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eCommonProc\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eModel\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCommonProc\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/3978666fbc4eacc4107058d1962b4b44c2084293/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3137333439382f31643264323937612d373637362d633738332d383662612d3431623634373964376466362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F173498%2F1d2d297a-7676-c783-86ba-41b6479d7df6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=08d1e1b8606ff54320feff2bc0554499\" alt=\"20181023_article_03_08.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/173498/1d2d297a-7676-c783-86ba-41b6479d7df6.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F173498%2F1d2d297a-7676-c783-86ba-41b6479d7df6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e518af54eabf617f53056453803ad4b1 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eDI を用いてインスタンスの生成時に依存するオブジェクトを選択できるようにしておくと，単体テストでモックに差し替えたテストが容易に行えるというメリットもあります。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"まとめ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eまとめ\u003c/h1\u003e\n\n\u003cul\u003e\n\u003cli\u003e多態性の表現には「インターフェイス」を使う\u003c/li\u003e\n\u003cli\u003eコードの冗長性はなるべく減らして一元管理する\u003c/li\u003e\n\u003cli\u003e基本的にクラスの「継承」は使わず，DI する\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003cbr\u003e\u003ca href=\"https://qiita.com/dsudo/items/ee3fee1f558c7f1b359f\" id=\"reference-9bfc6beb6a513f547bac\"\u003e\u0026lt;= To Be Continued...\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"参考図書\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83%E5%9B%B3%E6%9B%B8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考図書\u003c/h1\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://www.amazon.co.jp/gp/product/B071V7MY82\" rel=\"nofollow noopener\" target=\"_blank\"\u003eプリンシプル オブ プログラミング\u003cbr\u003e\n3年目までに身につけたい 一生役立つ101の原理原則\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.amazon.co.jp/dp/4048930656\" rel=\"nofollow noopener\" target=\"_blank\"\u003eClean Architecture 達人に学ぶソフトウェアの構造と設計\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.amazon.co.jp/dp/B01IGW54J0\" rel=\"nofollow noopener\" target=\"_blank\"\u003e7つの言語 7つの世界\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cdiv class=\"footnotes\"\u003e\n\u003chr\u003e\n\u003col\u003e\n\n\u003cli id=\"fn1\"\u003e\n\u003cp\u003eC# の \u003ccode\u003eint\u003c/code\u003e の範囲は \u003ca href=\"https://docs.microsoft.com/ja-jp/dotnet/csharp/language-reference/keywords/integral-types-table\" rel=\"nofollow noopener\" target=\"_blank\"\u003e-2,147,483,648 ～ 2,147,483,647\u003c/a\u003e 。ちなみにこの実装だと \u003ccode\u003eint.MinValue\u003c/code\u003e および \u003ccode\u003eint.MaxValue\u003c/code\u003e の半分より大きな値を入れるとオーバーフローしてしまいますね。 \u003ca href=\"#fnref1\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn2\"\u003e\n\u003cp\u003eこの記事では，言語機能については “インターフェイス”，広義の意味のものについては “I/F” と表記します。 \u003ca href=\"#fnref2\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn3\"\u003e\n\u003cp\u003e広い意味では，オーバーロードや多重ディスパッチなども含まれるようです。\u003cbr\u003e\u003ca href=\"https://ja.wikipedia.org/wiki/%E3%83%9D%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%95%E3%82%A3%E3%82%BA%E3%83%A0\" rel=\"nofollow noopener\" target=\"_blank\"\u003eポリモーフィズム - Wikipedia\u003c/a\u003e \u003ca href=\"#fnref3\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn4\"\u003e\n\u003cp\u003eこの場合は「委譲」でもあります。\u003cbr\u003e\u003ca href=\"https://ja.wikipedia.org/wiki/%E5%A7%94%E8%AD%B2\" rel=\"nofollow noopener\" target=\"_blank\"\u003e委譲 - Wikipedia\u003c/a\u003e \u003ca href=\"#fnref4\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003cli id=\"fn5\"\u003e\n\u003cp\u003eDDD や クリーンアーキテクチャ の実装でもこのテクニックは利用されます。\u003cbr\u003e\u003ca href=\"https://ja.wikipedia.org/wiki/%E4%BE%9D%E5%AD%98%E6%80%A7%E9%80%86%E8%BB%A2%E3%81%AE%E5%8E%9F%E5%89%87\" rel=\"nofollow noopener\" target=\"_blank\"\u003e依存性逆転の原則 - Wikipedia\u003c/a\u003e \u003ca href=\"#fnref5\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003c/ol\u003e\n\u003c/div\u003e\n","createdAt":"2018-10-27T15:18:38Z","elapsedYearsFromLastModifiedAt":0,"encryptedId":"POCk1pCJMOqo0c/MhPp/E8NK95p3ddVT--MGZX9FKts3BlzCBj--PmwZyznvtYjsXYTgUK/j8A==","isBanned":false,"isDeprecated":false,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2021-03-25T19:59:36Z","likesCount":2,"linkUrl":"https://qiita.com/dsudo/items/24aa4b6b30f1651e2f4a","organization":null,"originalId":714097,"stockedCount":3,"title":"抽象化と継承","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E9%81%A9%E7%94%A8%E5%8F%AF%E8%83%BD%E7%AF%84%E5%9B%B2\"\u003e適用可能範囲\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%A8%80%E8%AA%9E%E3%81%AB%E3%82%88%E3%82%8B%E9%81%95%E3%81%84\"\u003e言語による違い\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%B6%99%E6%89%BF%E3%81%A8%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9\"\u003e継承とインターフェイス\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%87%A6%E7%90%86%E3%81%AE%E5%86%8D%E5%88%A9%E7%94%A8\"\u003e処理の再利用\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E4%BE%9D%E5%AD%98%E6%80%A7%E3%81%AE%E6%B3%A8%E5%85%A5di--dependency-injection\"\u003e依存性の注入（DI : Dependency injection）\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"\u003eまとめ\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%8F%82%E8%80%83%E5%9B%B3%E6%9B%B8\"\u003e参考図書\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","totalPv":2447,"uuid":"24aa4b6b30f1651e2f4a","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"pxrECk+EI9O/9Fzy+B/Qj7Np3lFa--+dKWyxhdJpMf06Cx--y7qVTIPQXz68XhlbNdADvg==","originalId":173498,"description":"好きな言語は C# / F# / JavaScript / TypeScript。はじめてプログラミング言語を見たのは高校の教科書に載ってた BASIC（もうなくなったらしい）。はじめてプログラミングっぽいことをしたのは，中学のときに遊んだゲームつくるＰＣソフト。パズルと絵を描くのが好き。モデリングが得意。人生のテーマは「持続可能性(Sustainability)」","facebookUrl":null,"githubUrl":"https://github.com/DaisukeSudo","isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":false,"linkedinUrl":null,"name":"Daisuke Sudo","profileImageUrl":"https://avatars0.githubusercontent.com/u/24204273?v=3","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F24204273%3Fv%3D3?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=b2c0b2f8ebd96ec3c6a45f495e25e567","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F24204273%3Fv%3D3?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=290861af888610aeecc483549d18bb3b","urlName":"dsudo","websiteUrl":"https://daisukesudo.github.io/","twitterUrl":"https://twitter.com/_dsudo","twitterUrlName":"_dsudo","revealedOrganizations":{"edges":[]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"オブジェクト指向","urlName":"%e3%82%aa%e3%83%96%e3%82%b8%e3%82%a7%e3%82%af%e3%83%88%e6%8c%87%e5%90%91"},{"name":"初心者","urlName":"%e5%88%9d%e5%bf%83%e8%80%85"},{"name":"DI","urlName":"di"},{"name":"継承","urlName":"%e7%b6%99%e6%89%bf"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
