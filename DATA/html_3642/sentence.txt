More than 1 year has passed since last update.トリッキーな小技なので、本来は使いたくない。検索条件が複数あり、GETクエリで初期表示と検索条件が全て空を分岐したい。IClientValidatableやjavascript側で、検索実行前のValidation処理を実装すれば実現可能だが、簡単な処理に大層な実装をつくりたくない。ASP.NET MVC 3 で独自の検証属性を作成して、クライアントサイド検証を行う - しばやん雑記 https://blog.shibayan.jp/entry/20110108/1294423577検索条件が複数あり、検索条件が全て空かの判定は、IValidatableObjectのValidateメソッドで簡単に実現可能GETクエリの場合、初期表示と検索条件なしはどちらも検索条件をパラメータを指定していない状態のため、IValidatableObjectのValidateメソッドで、検索条件に対しstring.IsNullOrWhiteSpace(prop)を行うと、どちらも同じ結果が返ってしまい、分岐できない。初期表示の場合は、コンストラクタを実行するのみ。
検索条件なしで検索した場合は、ModelBinderを経由するので必ず値はnullになる。これを利用し、モデルクラス側に空文字""の初期値を設定することで、処理を分岐する。


