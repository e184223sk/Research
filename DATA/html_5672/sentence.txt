※追記：2021年12月でFAX機能は終了するようです。
https://support.twilio.com/hc/en-us/articles/1260800821230-Programmable-Fax-Migration-Guide-for-Documo-mFax日本ではまだまだFAXの利用率が高いと聞きますが，私が社内SEとして勤める業界でもFAXはメール以上に利用されている状態です。それで弊社では業務システムから直接FAXを送信できるような仕組みを構築しています。現状としては社内でFAXサーバーを運用しているものの，APIが充実している気が利いた外部のサービスはないものかと時々情報収集していました。そして最近見つけたのが以下の記事です。ついに発表！ FAX 機能リリース（twilioブログ）
https://twilio.kddi-web.com/blog/developer/entry000307.html料金については暫定ということで以下のように記載されています。以前にAPIが使える国内のFAXサービスをいくつか調べてみたことがありますが，だいたい1通あたり20円くらいはしました。この暫定料金であれば（送信するファイルにもよりますが）1通あたり6.9円ということになるので，業務で使えるレベルのコストではないかと思いました。FAX用に番号を購入します。日本の番号でもFAXは使えるようです。最近愛用しているInsomniaを使ってREST APIを試してみます。仕様はこちら。
URLはベーシック認証をURLに組み込んだものを使います。twilioからアクセス可能な場所にPDFファイルを置いておき，そのURLを MediaUrl として設定します。PDFファイルのアップロードはできないようなので，実際に業務で利用する場合にはベーシック認証を設定した場所に置くことになりそうです。これで送信すると，あっさりFAXが送信でき，レスポンスが返ってきました。送信したFAXの情報は以下のURLを使ってGETで取得できます。FaxSidは送信時に返ってきたレスポンスに含まれています。先程送信したFAXの情報を試しに取得してみます。無事送信できているようです。コストも取得できますし，送信したPDFを取得できるURLも記載されています。ちなみに，まだ100ページ以内なので通信費のみになっていますね。まずnugetでTwilioライブラリをインストールします。公式ドキュメントにサンプルコードが記載されているのでアカウント情報，FAX番号，PDFのURLを設定すれば動きます。デバッグで返り値の中を確認してみます。Sidを取得できました。APIやライブラリが活用できるのでFAX機能を実装するのがとても楽です。処理も速く，料金も安いので魅力的なサービスだと思います。PDFファイルをローカルから直接アップロードできないので，そこは一仕事しないといけないかなと思います。もう少し試してみて，FAXサーバーに代わる選択肢として考えてみたいところです。


