More than 1 year has passed since last update.(´・ω・)「矢印キーで回転する3Dオブジェクトを作りたいんだけどどうすれば良い？」と聞かれたので、実際にサンプルを作ってみることにした。まずはヒエラルキータブの上で右クリック→「3D Object」→「Cube」で箱を作る。
回転しているのがわかりやすいようにインスペクタタブでScaleを適当に調整する。
以下のようなオブジェクトができるはず。
Assetsの中にScriptというフォルダを作って、「Create」→「C# Script」でスクリプトファイルを作成する。
矢印キーを押下したら90度ずつ回転するようにするようにUpdateメソッド内に実装する。先ほど作ったスクリプトを作ったオブジェクトにアタッチして動かしてみる。
これでどうだ！(´・ω・)「カクカク回転じゃなくて滑らかに回転して欲しいなぁ」と言われたのでもう一度考え直す・・・・。先ほどのスクリプトでは一気に90度回ってしまうため2度ずつ45回にかけて回るようにスクリプトを修正する。保存し再度動かしてみる。(´・ω・)「さっきと変わってないやん！！」Update()メソッドは毎フレームごとに呼ばれる。
つまり45回for文で回したとしても、一瞬で終わってしまう。
というわけで、再度考え直し・・・。矢印キー押下でAnimationを呼び出し、45回回ったらAnimationを終了させるという風に書いてみた。これでどうだ！(´・ω・)「滑らかになったー！けど回る方向が途中でおかしくなるぞ！」
(↑だと分かりにくいですが、実際に動かすと時々逆回転します)色々調べていると、ワールド座標とローカル座標というのにたどり着いた。
ワールド座標は原点から見た座標になり、ローカル座標は親オブジェクトからの座標になる。ということは、回すときにワールド座標を基準とすればうまくいくのではないかと思い、修正。Animation()内のtransform.Rotateにangle,Space.Worldを引数で渡すように修正。やったー！ちゃんと回したい方向に回るぞー！でもこの3Dオブジェクトって親がいない気が・・・？ここが未だに解決できてないけど一旦やりたいことは出来た。回転させるのって結構大変・・。


