More than 1 year has passed since last update.初投稿です！
よろしくお願いします！・メインOS : Windows10 pro
・VirtualBOX + Ubuntu16.04
・Unity2017.4.4f1
・ROS kineticなお，Ubuntuは仮想環境じゃなくても同じローカルにあるならば通信可能・siemensが作成したオープンソースソフトウェア
・.NETアプリケーション，特にUnityからROSと通信するためのもの以下のURLにアップされています．
https://github.com/siemens/ros-sharpROS#の導入自体の説明はまたの機会に私は以下のサイトを参考にさせていただきました．OculusGoをROSと通信させる
https://qiita.com/Spritaro/items/5eb99b2fcdc26a3816ce・ROS側からpublishされたPointCloud2をUnity側でsubscribeする.・ROS側からPointCloud2がpublishされているものとする（ROSは初心者のためほぼ触れません）
・ROS#の基本的な設定は終わっているものとする
・Unityの経験少々ROS#のGithubをのぞいてLibraries\RosBridgeClient\Messages\Sensorの中にPointCloud2.csがあることを確認これを見てみるとROSの定義しているPCL2とほぼ同じく扱えることが分かります．基本的にintやbool型のものが多いので，そのあたりは通常通り扱えます．今回私が引っかかったのは，byte型で送られてくる点群の座標の扱いです．
これは，Unity側のスクリプトで解決していきます．Assets\RosSharp\Scripts\RosCommunicationに以下のファイルを追加point_stepが一つの座標に用いられているbyteの長さを示し,X,Y,Zはそれぞれ4byteずつ格納されている．
ちなみに，0・4・8という数字はfloat型で保存されていることが分かっているのでこの値です．したがって，n番目の点群の座標情報はbyte型配列の以下の位置からスタートしている．最後にBitConverter.ToSingleというメソッドを使ってfloatに変換したらオッケーです．今回は，初投稿ということもありかなり雑にまとめてしまった感があります．
本当は，初期設定のやり方から新しい型の追加とかまでやりたかった．．．取り急ぎPCL2でひかかったところだけまとめた感じです．何か間違えているところやご指摘などありましたら，よろしくお願いします．


