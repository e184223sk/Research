More than 3 years have passed since last update.開発環境：Unity 2017 + Visual Studio Community 2017
言語：Unity C#, C++今回はC++を使用してDLLを作成するため、
「ファイル」「新規作成」「プロジェクト」ででてくるウィンドウの「ダイナミックリンクライブラリ(DLL)」
を選択する。
自身の環境ではDllForDebugというプロジェクト名で行いました(名前やソリューション等の説明は割愛)。「プロジェクト名.cpp」というファイルがソリューションエクスプローラにて確認できるので、そこに必要な関数を書き込む。
自身のソースファイルを一部抽出したので不自然な関数ですが、int型の4を返す関数「add_b」を定義しています。ヘッダーファイルを新規作成し、以下のように記述する。
今回はプロジェクト名と同じファイル名にしています。プロジェクトのプロパティ、もしくはデフォルトの場合上部にプラットフォームを選択する場所があるので、64bitにしてビルドする。
ここはUnityの環境に合わせる必要がある。今回Unityで簡単に動かすためのプロジェクトを新規作成する。
AssetsフォルダにビルドしたDLLとC#スクリプトを作成する。
SceneにObjectを作成(自分の場合Empty)し、先述のC#スクリプトを追加して実行時に走るようにする。
自身の環境の場合、「RunDLL.cs」という名前にしました。Consoleの場所に4というログが出ているはずです。


