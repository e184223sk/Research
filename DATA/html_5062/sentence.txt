More than 3 years have passed since last update..NET Framerowk 4.6.1
log4net 2.0.8実行環境: Windows 10 Pro / Windows Server 2012コマンドラインアプリケーションにおいて、log4net を利用しているのですが、Debug Build 時にはログが出力されるにも関わらず、Release Build 時にはログが出力されませんでした。App.config に設定を記述する特になんの変哲もない設定です。なぜ Release Build 時にだけログが出ないのかさっぱりわかりませんでした  公式の設定ファイルの書き方のところに普通に書いてありました  Using attributes can be a clearer method for defining where the application's configuration will be loaded from. However it is worth noting that attributes are purely passive. They are information only. Therefore if you use configuration attributes you must invoke log4net to allow it to read the attributes. A simple call to LogManager.GetLogger will cause the attributes on the calling assembly to be read and processed. Therefore it is imperative to make a logging call as early as possible during the application start-up, and certainly before any external assemblies have been loaded and invoked.どうやら、assembly の attribute として記述する場合は、アプリのスタートからできるだけ早く log4net の呼び出しを行わなければいけないようです。実際、私の書いていたコンソールアプリは、起動からそこそこの初期化処理（ DB への I/O もある）の後に Logger を初めて呼び出すようになっていました。エントリーポイントになるクラスで LogManager.GetLogger 相当を呼び出すことで Release Build でもログが問題なく出力されるようになりました。自分の知識だときちんと説明ができないのですが、Debug Build 時には依存アセンブリが事前にある程度ロードされるのではないかと思います。


