<!DOCTYPE html><html><head><meta charset="utf-8" /><title>うぅさんのゆううつ - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/Toraja/items/70ee79148ed089cee377" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="yDc242R9CyM3rZJkCMECNXBriTy7IOMDujRSdOnhI+3Mja/Wg4+muD1fWDX1pNVbs3FlFur4E2FPq8NtiT7sOA==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta property="og:type" content="article"><meta property="og:title" content="うぅさんのゆううつ - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND00NEdHNDRHRjQ0R1Y0NEtUNDRHdTQ0S0c0NEdHNDRHRzQ0R2smdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT01NCZ0eHQtY2xpcD1lbGxpcHNpcyZ0eHQtYWxpZ249Y2VudGVyJTJDbWlkZGxlJnM9YzU4M2VjNGY4YjU2N2U1ZTQ5ZDliZTU2OWE4OWQ5OTE&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRlJ2Y21GcVlRJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NDUmdHh0LWFsaWduPXJpZ2h0JTJDYm90dG9tJnM9ZGU2NGM2NTUxZmZmM2RlMTdhZmEyZTVjMDJmM2Y5Zjg&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=7f12d935022293507d7cf1ffec1f8b92"><meta property="og:description" content="または私は如何にして数学的手法を止めて力ずくで文字列差分を取得するようになったか


序

二つの文字列の差分を抽出したかったんです。
最終的な目的はさておき、まぁやるならうーさんのアルゴリズムを使うことになるんだろう、位に軽く考えて..."><meta content="https://qiita.com/Toraja/items/70ee79148ed089cee377" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,アルゴリズム,diff" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 1nzh4zz 38fzdi helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-1nzh4zz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 32px;background-color:#FBE69E;color:rgba(0,0,0,0.87);line-height:1.5;font-weight:600;}@media (max-width:770px){.css-1nzh4zz{padding:16px;}}.css-38fzdi{color:#CA832A;margin-right:4px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-c81900a3-0ab4-4550-872b-086c23614497"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2FToraja%2Fitems%2F70ee79148ed089cee377">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2FToraja%2Fitems%2F70ee79148ed089cee377">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-c81900a3-0ab4-4550-872b-086c23614497">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2016-11-05T01:18:48.000+09:00","dateModified":"2016-11-06T12:07:04.000+09:00","headline":"うぅさんのゆううつ","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND00NEdHNDRHRjQ0R1Y0NEtUNDRHdTQ0S0c0NEdHNDRHRzQ0R2smdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT01NCZ0eHQtY2xpcD1lbGxpcHNpcyZ0eHQtYWxpZ249Y2VudGVyJTJDbWlkZGxlJnM9YzU4M2VjNGY4YjU2N2U1ZTQ5ZDliZTU2OWE4OWQ5OTE\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRlJ2Y21GcVlRJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NDUmdHh0LWFsaWduPXJpZ2h0JTJDYm90dG9tJnM9ZGU2NGM2NTUxZmZmM2RlMTdhZmEyZTVjMDJmM2Y5Zjg\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=7f12d935022293507d7cf1ffec1f8b92","mainEntityOfPage":"https://qiita.com/Toraja/items/70ee79148ed089cee377","author":{"@type":"Person","address":null,"email":null,"identifier":"Toraja","name":"Toraja","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fprofile-images%2F1473719854?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=3fe263c37ec3e9f024bc324e2d3d09a7","url":"https://qiita.com/Toraja","description":null,"memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://increments.connpass.com/event/211948/">「AirPods Pro」を抽選でプレゼント！Qiita エンジニアフェスタ 2021 Online Meetupを9/9(木)に開催</a><a target="_blank" id="header_text_message_2" href="https://increments.connpass.com/event/211948/">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"Toraja","type":"items","id":"70ee79148ed089cee377"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"「AirPods Pro」を抽選でプレゼント！Qiita エンジニアフェスタ 2021 Online Meetupを9/9(木)に開催","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"Toraja","type":"items","id":"70ee79148ed089cee377"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":0,"pos_id":"header_text_message_1","message":"「AirPods Pro」を抽選でプレゼント！Qiita エンジニアフェスタ 2021 Online Meetupを9/9(木)に開催","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"Toraja","type":"items","id":"70ee79148ed089cee377"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":0,"pos_id":"header_text_message_2","message":"「AirPods Pro」を抽選でプレゼント！Qiita エンジニアフェスタ 2021 Online Meetupを9/9(木)に開催","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/Toraja/items/70ee79148ed089cee377","location":"/Toraja/items/70ee79148ed089cee377","scheme":"https","host":"qiita.com","port":null,"pathname":"/Toraja/items/70ee79148ed089cee377","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"AYrrUe3jubxATdyw6DeRISn3P4VBqDhC60urNThLKOAFMHJkChEUJ0q/FuEVUkZP6u3TrxBwyCAe1DosWJTnNQ==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-de49d604-0c84-47b5-b39e-74e6cc766320"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/Toraja/items/70ee79148ed089cee377/likers" class="css-1iupg5d">4</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">4</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/70ee79148ed089cee377/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/Toraja/items/70ee79148ed089cee377/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/Toraja/items/70ee79148ed089cee377/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/Toraja/items/70ee79148ed089cee377/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/Toraja/items/70ee79148ed089cee377.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-1nzh4zz"><span class="fa fa-fw fa-warning css-38fzdi"></span><p>More than 3 years have passed since last update.</p></div><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/Toraja"><img class="css-100alwu eyfquo10" src="https://qiita-image-store.s3.amazonaws.com/0/136132/profile-images/1473719854" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/Toraja" class="css-10ougpm">@<!-- -->Toraja</a><div class="css-1ay9vb9"><span><meta content="2016-11-04T16:18:48Z"/><time dateTime="2016-11-06T03:07:04Z" class="css-m19uds">updated at 2016-11-06</time></span></div></div></div></div></div><h1 class="css-cgzq40">うぅさんのゆううつ</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/%e3%82%a2%e3%83%ab%e3%82%b4%e3%83%aa%e3%82%ba%e3%83%a0" class="css-4czcte">アルゴリズム</a><a href="/tags/diff" class="css-4czcte">diff</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div><p>または私は如何にして数学的手法を止めて力ずくで文字列差分を取得するようになったか</p>

<h1>
<span id="序" class="fragment"></span><a href="#%E5%BA%8F"><i class="fa fa-link"></i></a>序</h1>

<p>二つの文字列の差分を抽出したかったんです。<br>
最終的な目的はさておき、まぁやるなら<a href="http://www.bookoff.co.jp/ir/library/report1/pdf/np_diff.pdf" rel="nofollow noopener" target="_blank">うーさんのアルゴリズム</a>を使うことになるんだろう、位に軽く考えていました。</p>

<p>結果—<br>
うーさん、良く分からないよ…</p>

<h1>
<span id="予習" class="fragment"></span><a href="#%E4%BA%88%E7%BF%92"><i class="fa fa-link"></i></a>予習</h1>

<p>あっちこっち解説サイト（限る日本語）探して読み漁るもイマイチ腑に落ちない。<br>
いや、えー、全体的な流れは大丈夫、きっと分かってる筈。</p>

<p>何がやりたいのかイマイチぴんと来ない。すっごい細かい処の説明に終始していて、それらがどいう風に繋がっているのか伝わって来ない。<br>
それらを最初にきちんと説明して下さいよー、うーさん。</p>

<p>あ、うーさんは説明してくれているのかも知れない。<br>
私、英語不自由な身なので、そこに当たれていないだけ。日本語解説してくれている人たちはそんな事は充分すぎるほど分かってるんで説明する必要性を感じていないのかも知れない。</p>

<p>うん、きっとそうに違いない…</p>

<blockquote>
<p>尚これ以降、多分に感覚的な説明が中心になります<br>
数学的・論理的に厳密な話がお好きな方はごめんなさい</p>
</blockquote>

<h1>
<span id="確認" class="fragment"></span><a href="#%E7%A2%BA%E8%AA%8D"><i class="fa fa-link"></i></a>確認</h1>

<p>取り敢えず最初に、うーさんの方法の目的をおさらいしておこう。</p>

<blockquote>
<p>文字列１に対して、「１文字削除」「１文字挿入」を繰り返して、文字列２に変形する方法を計算する。</p>
</blockquote>

<p>ルールは以下の通り。</p>

<ul>
<li>下図の「S」の左上（0,0)から「G」の右下(12,10)まで進む</li>
<li>但し、格子の線に沿って、

<ul>
<li>右に進む、か</li>
<li>下に進む、か</li>
<li>（格子に対角線が引かれている場合は）対角線を右下に向かって進む、か<br>の何れかの方向にしか進めない</li>
</ul>
</li>
<li>対角線に沿って進む場合のコストを「０（ゼロ）」
格子<ruby>一<rt>ひと</rt></ruby>マス分進むコストを「１」
として、一番コストの掛からないルートを探してね</li>
</ul>

<p><a href="https://camo.qiitausercontent.com/58866af32fbda0b3fab5d906f2b74e3ccc52686e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f62306134643134352d396166642d343234352d646134352d3061313431373663376130612e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fb0a4d145-9afd-4245-da45-0a14176c7a0a.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d5bd61ed0b789bd969da3ce27816bce7" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/136132/b0a4d145-9afd-4245-da45-0a14176c7a0a.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fb0a4d145-9afd-4245-da45-0a14176c7a0a.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=e3b98126775b573c117f6ba5dc5694ed 1x" loading="lazy"></a></p>

<p>と云う問題ですね。<br>
<br><br>
そこで、うーさんは考えた…<br>
文字列１は文字列２より<code>Delta</code>文字だけ長いから少なくとも「１文字削除」を<code>Delta</code>回は行う必要があるのは明らか。<br>
逆の表現をすると、コスト<code>Delta</code>で進むためには、以下の図の黄色いマスの格子辺・対角線（ごめん、破線は<code>Delta</code>説明用の補助線として引いただけで、対角線じゃないんです）からはみ出さずに進めた場合だけである。（はみ出さなかったからと云って、コスト<code>Delta</code>で進めるとは限らないけどね）</p>

<p><a href="https://camo.qiitausercontent.com/d1c8552ee46536a05d754f0d11345da1f21af66e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f38363238366131642d323565322d633764342d386131612d3732336464633635323764652e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F86286a1d-25e2-c7d4-8a1a-723ddc6527de.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=ce8aba1e3682c81854f8b0fa9d95902b" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/136132/86286a1d-25e2-c7d4-8a1a-723ddc6527de.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F86286a1d-25e2-c7d4-8a1a-723ddc6527de.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=32f2a213665228c654f98c4eefac9ad3 1x" loading="lazy"></a></p>

<p>そこで、最小コストはいくつであるかを以下の手順で探っていこう！<br>
と云うのがうーさんの方法である（筈なのである）。</p>

<ol>
<li>まず最初に、黄色い枠内だけを可動範囲としてスタート地点(0,0)を出発、コスト<code>Delta</code>で進める範囲を探る</li>
<li>もし最小コスト<code>Delta</code>でGoalに辿り着けなかった場合は、この黄色の領域を拡張する（緑のマスを拡張しました）<br><a href="https://camo.qiitausercontent.com/4ca9376a9a0a1e9b10f249dc804fcd223ec8ccdd/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f35353339653065632d396334642d356233342d356163332d3062646237646266383365352e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F5539e0ec-9c4d-5b34-5ac3-0bdb7dbf83e5.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=db7564365d009b1496a731e8c6042034" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/136132/5539e0ec-9c4d-5b34-5ac3-0bdb7dbf83e5.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F5539e0ec-9c4d-5b34-5ac3-0bdb7dbf83e5.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=b8743aac465804eab22685e1c291dbaa 1x" loading="lazy"></a>
</li>
<li> そしたらこの色付き部分を可動範囲として、コスト<code>Delta + 2</code>で進める範囲を探る<br>なんで<code>＋2</code>するかって？<br>う～ん…　取り敢えず、上下に可動範囲を一マスづつ拡張したから、程度で納得して下さい</li>
<li>それでもGoalに辿り着けなかった場合は、更に上下に一マスずつ拡張してコストもゆるくしてGoalを目指す、ってのを繰り返すうちにGoalに辿り着く最小コストにぶち当たる筈（と云うか必ずGoalに辿り着ける最小コストが存在する）</li>
</ol>

<p>上記がうーさんの論理構成じゃないかと理解した。<br>
<br><br>
そして可動範囲を絞りながら、そこに許されたコストで進める範囲を上手い事判定するナイスな方法が存在する！　と云うのがうーさんアルゴリズムの肝。</p>

<p>で、そのナイスな方法ってのは先達の皆さんが解説して下さっている。<br>
例えば<a href="http://gihyo.jp/dev/column/01/prog/2011/diff_sd200906" rel="nofollow noopener" target="_blank">こちら</a>。<br>
その方法の解説に関してはそちらにお任せしよう。<br>
<br><br>
実は、私が今分かっている所はここまで。<br>
という事が分かったよ。（ナイスな方法ってのが充分理解できていない事も含めて）<br>
ふー</p>

<h1>
<span id="自習" class="fragment"></span><a href="#%E8%87%AA%E7%BF%92"><i class="fa fa-link"></i></a>自習</h1>

<p>致し方ないので、うーさんのアルゴリズムを実装。各種状態をトレースして確認作業をしていこう。</p>

<p>以降、例としては基本的にうーさんの論文にある文字列を使う。<br>
これね↓（この表の作成法に関しては前述のサイトなどを参照して下さい）</p>

<p><a href="https://camo.qiitausercontent.com/269e444024d1d2374eebb787ad08c17ea109834c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f32363535363437302d373139342d353164382d353161332d3161643939666630303931332e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F26556470-7194-51d8-51a3-1ad99ff00913.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=6d1884ecb6093624e6d62f73d64f3371" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/136132/26556470-7194-51d8-51a3-1ad99ff00913.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F26556470-7194-51d8-51a3-1ad99ff00913.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=165788f683f75f9e689e02573bf74968 1x" loading="lazy"></a><br>
<br></p>

<p>で、こんな感じのコードでテストをしたと思ってね。<br>
※ <a href="http://qiita.com/Toraja/items/c8173fddad66c0e3642a" id="reference-cd575626323ca7291310">VArrayについては別稿</a>を参照のこと。（これがやりたかったのだよ）</p>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">コードイメージ</span></div>
<div class="highlight"><pre><code><span class="kt">string</span> <span class="n">strX</span> <span class="p">=</span> <span class="s">"acebdabbabed"</span><span class="p">;</span>
<span class="kt">string</span> <span class="n">strY</span> <span class="p">=</span> <span class="s">"acbswacbed"</span><span class="p">;</span>

<span class="kt">int</span> <span class="n">delta</span> <span class="p">=</span> <span class="n">strX</span><span class="p">.</span><span class="n">Length</span> <span class="p">-</span> <span class="n">strY</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span>
<span class="n">VArray</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">fp</span> <span class="p">=</span> <span class="k">new</span> <span class="n">VArray</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;(-(</span><span class="n">strY</span><span class="p">.</span><span class="n">Length</span> <span class="p">+</span> <span class="m">1</span><span class="p">),</span> <span class="n">strX</span><span class="p">.</span><span class="n">Length</span> <span class="p">+</span> <span class="m">1</span><span class="p">);</span>
<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="n">fp</span><span class="p">.</span><span class="n">LBound</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;=</span> <span class="n">fp</span><span class="p">.</span><span class="n">UBound</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
    <span class="n">fp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="p">-</span><span class="m">1</span><span class="p">;</span>

<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">p</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="p">;</span> <span class="n">p</span><span class="p">++)</span> <span class="p">{</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="p">=</span> <span class="p">-</span><span class="n">p</span><span class="p">;</span> <span class="n">k</span> <span class="p">&lt;</span> <span class="n">delta</span><span class="p">;</span> <span class="n">k</span><span class="p">++)</span>
        <span class="n">fp</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="p">=</span> <span class="nf">Snake</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Max</span><span class="p">(</span><span class="n">fp</span><span class="p">[</span><span class="n">k</span> <span class="p">-</span> <span class="m">1</span><span class="p">]</span> <span class="p">+</span> <span class="m">1</span><span class="p">,</span> <span class="n">fp</span><span class="p">[</span><span class="n">k</span> <span class="p">+</span> <span class="m">1</span><span class="p">]));</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="p">=</span> <span class="n">delta</span> <span class="p">+</span> <span class="n">p</span><span class="p">;</span> <span class="n">k</span> <span class="p">&gt;</span> <span class="n">delta</span><span class="p">;</span> <span class="n">k</span><span class="p">--)</span>
        <span class="n">fp</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="p">=</span> <span class="nf">Snake</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Max</span><span class="p">(</span><span class="n">fp</span><span class="p">[</span><span class="n">k</span> <span class="p">-</span> <span class="m">1</span><span class="p">]</span> <span class="p">+</span> <span class="m">1</span><span class="p">,</span> <span class="n">fp</span><span class="p">[</span><span class="n">k</span> <span class="p">+</span> <span class="m">1</span><span class="p">]));</span>
    <span class="n">fp</span><span class="p">[</span><span class="n">delta</span><span class="p">]</span> <span class="p">=</span> <span class="nf">Snake</span><span class="p">(</span><span class="n">delta</span><span class="p">,</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Max</span><span class="p">(</span><span class="n">fp</span><span class="p">[</span><span class="n">delta</span> <span class="p">-</span> <span class="m">1</span><span class="p">]</span> <span class="p">+</span> <span class="m">1</span><span class="p">,</span> <span class="n">fp</span><span class="p">[</span><span class="n">delta</span> <span class="p">+</span> <span class="m">1</span><span class="p">]));</span>

    <span class="k">if</span><span class="p">(</span><span class="n">fp</span><span class="p">[</span><span class="n">delta</span><span class="p">]</span> <span class="p">==</span> <span class="n">strX</span><span class="p">.</span><span class="n">Length</span><span class="p">)</span>
        <span class="k">break</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">Snake</span><span class="p">(</span><span class="kt">int</span> <span class="n">k</span><span class="p">,</span> <span class="kt">int</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">y</span> <span class="p">=</span> <span class="n">x</span> <span class="p">-</span> <span class="n">k</span><span class="p">;</span>

    <span class="k">while</span><span class="p">(</span><span class="n">x</span> <span class="p">&lt;</span> <span class="n">strX</span><span class="p">.</span><span class="n">Length</span> <span class="p">&amp;&amp;</span> <span class="n">y</span> <span class="p">&lt;</span> <span class="n">strY</span><span class="p">.</span><span class="n">Length</span> <span class="p">&amp;&amp;</span> <span class="n">strX</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="p">==</span> <span class="n">strY</span><span class="p">[</span><span class="n">y</span><span class="p">])</span> <span class="p">{</span>
        <span class="n">x</span><span class="p">++;</span>
        <span class="n">y</span><span class="p">++;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">x</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>おー、ここで思い出した。</p>

<blockquote>
<p>うーさんの論文では、縦軸を<code>x</code>・横軸を<code>y</code>で表すと云う変態グラフが使われているんですが、何とも取っ付き難いので本稿では一般的な数学グラフと同じ<code>y</code>を縦軸・<code>x</code>を横軸になる様に表現しておりま…</p>

<p>あれ？　数学グラフでもないぞ…<br>
Windowsディスプレイの座標系だ</p>
</blockquote>

<p>fp[]の値が気になるところなので、そこを中心に攻めてみる。<br>
<a href="https://camo.qiitausercontent.com/4d3f927d48255a9dd1c3afb0c320afba3c69871a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f34323339623839372d313937632d393965622d373863642d3564646136373863633365622e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F4239b897-197c-99eb-78cd-5dda678cc3eb.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=1ac51af817f7c7bbbc81a067409be7b3" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/136132/4239b897-197c-99eb-78cd-5dda678cc3eb.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F4239b897-197c-99eb-78cd-5dda678cc3eb.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=eac61af2ccee84b280ef0ccae2982715 1x" loading="lazy"></a><br>
で、こっちから法則性を検証してみるという事で。<br>
<br><br>
ふむふむ、あぁ～、なるほど。<br>
ここで、例の図が出てくる訳ね。<br>
<a href="https://camo.qiitausercontent.com/0fab812dbd0e196c153a344102afecaa00281ff6/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f36346262383439632d396630642d353431612d653864632d3831653864343162396130302e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F64bb849c-9f0d-541a-e8dc-81e8d41b9a00.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=82fbddf0c0236084ba9224db0814896c" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/136132/64bb849c-9f0d-541a-e8dc-81e8d41b9a00.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F64bb849c-9f0d-541a-e8dc-81e8d41b9a00.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=afa15b20d3494b4a51783b32194727ce 1x" loading="lazy"></a><br>
fp[]はこの赤破線群に対応している訳だ。そしてその中身は「最遠点」って言われてる<code>x</code>の値だな。ただここでは最遠点が何であるかは置いとこう。いずれ明らかにするつもりで…</p>

<p>そう云う事で<code>k</code>の値はこのラインの識別子で、取り敢えず<code>p</code>の方は「寄り道レベル」とでも名前を付けちゃって、<code>k=0</code>のラインを「スタートライン」、<code>k=Delta</code>のラインを「ゴールライン」、全体を纏めて「Ｋライン」と呼ぶ事にしよう。<br>
もう一つ、最初に<code>(0,0)</code>位置に赤丸を置いて、これを「カレントポジション」って名前を付けましょうか。</p>

<p><a href="https://camo.qiitausercontent.com/8ddc5fb96256309a0c3859ce1a046abe68329858/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f63303031663332392d356234332d396438372d623033612d6533626437303764623635622e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fc001f329-5b43-9d87-b03a-e3bd707db65b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=cef89c9e78c2f314d6bf3fe6ec64daf2" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/136132/c001f329-5b43-9d87-b03a-e3bd707db65b.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fc001f329-5b43-9d87-b03a-e3bd707db65b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=45e413506a0517c1476e91e16cc29489 1x" loading="lazy"></a><br>
そこで、既出のルールを改めてここにマッピングすると、やりたい事は次の様になるかな。</p>

<ul>
<li>「スタートライン」上の<code>(0,0)</code>位置にある「カレントポジション」を、許容コスト内で「ゴールライン」の先端位置<code>(12,10)</code>まで持って行きたい</li>
<li>許容コスト内でゴールに着けなかった場合は「寄り道レベル」を上げながら上記を繰り返す</li>
</ul>

<p>一応確認までにここで再掲するが、カレントポジションの移動方向についての制約が存在する事と、寄り道レベルに応じて許容されるコストに上限がある事を忘れてはいけない。</p>

<p>なので、ゴール判定ってのが次の式で表される。</p>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">あくまでコードイメージ</span></div>
<div class="highlight"><pre><code><span class="k">if</span> <span class="p">(</span><span class="n">fp</span><span class="p">[</span><span class="n">Delta</span><span class="p">]==</span><span class="err">文字列１</span><span class="p">.</span><span class="n">Length</span><span class="p">)</span>  <span class="err">ゴール！</span>
</code></pre></div>
</div>

<p>つまり—</p>

<p><a href="https://camo.qiitausercontent.com/2dead053877f6f4ab71e05a3b94c41ad27846b6d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f63323635303739652d613166652d346562322d303731372d6364653731373136346534322e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fc265079e-a1fe-4eb2-0717-cde717164e42.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=ae2d84343d47a5ba7a38f3ae20a8e69a" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/136132/c265079e-a1fe-4eb2-0717-cde717164e42.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fc265079e-a1fe-4eb2-0717-cde717164e42.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=674be18bc083ae29dcf085b8e5c6887c 1x" loading="lazy"></a></p>

<p>fp[]表を寄り道レベル毎に評価を繰り返して、最終的にゴールライン上にある<code>fp[Delta]</code>の値が<code>文字列１.Length</code>になった時が終着点って事になる。</p>

<p>で、最遠点の意味が分かった。各寄り道レベルにおける許容コストで進める<code>x</code>方向の最大値だ！<br>
って、何だそのままじゃん。<br>
<br><br>
さて、ここからが正念場。<br>
<code>fp[]</code>の値はどうやって導かれるか、だ。<br>
上手く説明できるかな…</p>

<p>寄り道レベル<code>p</code>における<code>fp[n]</code>の値は、寄り道レベル<code>p-1</code>における<code>fp[n-1]</code>と<code>fp[n+1]</code>の値から導かれる—<br>
ってのが、うーさんの云いたい事だ。</p>

<p>何故ならば、<code>k=n</code>のライン上にカレントポジションを移動させるという事は、取り敢えず隣のＫラインから移ってくるしか方法はないからね。（対角線に関しては後述するので、ここでは対角線はない状態だけを考えてください）</p>

<p><a href="https://camo.qiitausercontent.com/c523b0ca4d710c45b7d4c7f155c360ca1230a1d5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f63653239616162362d333030342d643862352d656436612d3063616337653635396130332e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fce29aab6-3004-d8b5-ed6a-0cac7e659a03.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=2a452488dad1abe2ca0eedd6f9d65e7c" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/136132/ce29aab6-3004-d8b5-ed6a-0cac7e659a03.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fce29aab6-3004-d8b5-ed6a-0cac7e659a03.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=280ec321e89e5d1cef2943baa2af4b83 1x" loading="lazy"></a></p>

<p>カレントポジションの移動制限と考え合わせると、<code>k=n-1</code>ラインから移ってきたときには<code>x</code>方向には１マス分進めるが、<code>k=n+1</code>ラインから移ってきた場合には<code>x</code>方向への進展はない。</p>

<p>また、<code>k=n</code>ラインへの移動が行われるパターンが二つ存在する（<code>k=n ± 1</code>）けど、<code>k=n</code>の評価としてはそのうちのより値の大きい方を採用すれば良い、と云うのは特に問題ないよね。</p>

<p>ところで、<code>fp[n]</code>ラインを評価した結果、その位置に対角線があったらどうなるだろう？<br>
「そりゃぁ思わず脚踏み外して滑り落ちていくよねー」って云うのが<code>うーさんのSnake関数</code>だ。（私的には<code>Slope</code>とか<code>Slider</code>とかそういう名前にしたい所だな）</p>

<p><a href="https://camo.qiitausercontent.com/a2c9370e8584c4c1e405cd3b797e37a00d75fc6f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f30633435363965632d376665662d353639612d633534652d3737363339623265363262612e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F0c4569ec-7fef-569a-c54e-77639b2e62ba.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=39ed05a2eda0fda5d6b0d3796a934a5d" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/136132/0c4569ec-7fef-569a-c54e-77639b2e62ba.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F0c4569ec-7fef-569a-c54e-77639b2e62ba.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=35784fc0d0fb214e877b2e462cbfca72 1x" loading="lazy"></a></p>

<p>結果、落ちるところまで落ちた先の<code>x</code>値が最終的な評価結果になるって訳。</p>

<p>上での結果を文章に起こすと—</p>

<blockquote>
<p>寄り道レベル<code>p</code>における<code>fp[n]</code>は、寄り道レベル<code>p-1</code>における<code>fp[n-1] + 1</code>と<code>fp[n+1]</code>のうち、大きい方の値を<code>Snake</code>関数で評価した結果となる</p>
</blockquote>

<p><br><br>
さて、ここから最後の仕上げ。<br>
各々の寄り道レベルにおける<code>fp[]</code>値を、「具体的に」どうやって算出していくかだ。</p>

<p>計算のゴールを再確認しておこう。</p>

<blockquote>
<p>ゴールライン上の<code>fp[Delta]</code>の値が<code>文字列１.Length</code>の値に等しくなったとき</p>
</blockquote>

<p>つまり、下の図のピンク色の所を計算で求めよう！<br>
ってのが目的だな。</p>

<p><a href="https://camo.qiitausercontent.com/eaf469ad89770e139d971fdf22d6d0e0f1812948/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f33613437393266342d333231662d383664332d323031372d3065653534303537353864372e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F3a4792f4-321f-86d3-2017-0ee5405758d7.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=2b333f8d90c81a32454281d5dc043545" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/136132/3a4792f4-321f-86d3-2017-0ee5405758d7.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F3a4792f4-321f-86d3-2017-0ee5405758d7.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=0098e263ebab0821132f2630123e1576 1x" loading="lazy"></a></p>

<p>で、前述したように、<code>fp[Delta]</code>の値は<code>fp[Delta ± 1]</code>から導かれる。<br>
こういう事（下図）。</p>

<p><a href="https://camo.qiitausercontent.com/890a4261fc2f890b975b7d22d8a40b3de1281dec/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f38376334663063642d326136612d613164612d383433322d3863616330653465376236392e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F87c4f0cd-2a6a-a1da-8432-8cac0e4e7b69.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=eb192cd9776dbb540f245d7b529b49b8" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/136132/87c4f0cd-2a6a-a1da-8432-8cac0e4e7b69.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F87c4f0cd-2a6a-a1da-8432-8cac0e4e7b69.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=cdbd4a653e641e46254ae5b6c6c47852 1x" loading="lazy"></a></p>

<p>ちゅー事は、<code>fp[Delta]</code>の値を求める前には、まずは<code>fp[Delta - 1]</code>の値が判明していなくてはならない。</p>

<p><a href="https://camo.qiitausercontent.com/2a91a8abea21237c3b03c78152e1c8dbb778cdc0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f66353831653031612d343030662d303436312d356333392d3730323631383734623561322e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Ff581e01a-400f-0461-5c39-70261874b5a2.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=66922559292688d9571f795253841eea" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/136132/f581e01a-400f-0461-5c39-70261874b5a2.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Ff581e01a-400f-0461-5c39-70261874b5a2.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=141378f262003161731a2ab2d5d25d6b 1x" loading="lazy"></a></p>

<p>で、<code>fp[Delta - 1]</code>の値を求める前には<code>fp[Delta -2]</code>の値が確定していなくてはならない。<code>fp[Delta - 2]</code>の値が（以下繰り返し）…</p>

<p>結局、こういう事。</p>

<p><a href="https://camo.qiitausercontent.com/7af62638291668cf88a5d4c89bb6fa3e4a6e14d2/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f33393261636531622d373664632d663933622d343933622d3438393262633863643136322e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F392ace1b-76dc-f93b-493b-4892bc8cd162.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=286082dddc2800bb91b01f9b8359f344" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/136132/392ace1b-76dc-f93b-493b-4892bc8cd162.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F392ace1b-76dc-f93b-493b-4892bc8cd162.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=a748e13a039f7ad2b484f75bd04b526f 1x" loading="lazy"></a></p>

<p>だから、<code>fp[-p]</code>から<code>fp[Delta - 1]</code>まで<code>fp[]</code>値を確定させていく。つまりゴールラインに向かって<code>fp[]</code>値を確定させていく訳ですね。</p>

<p>ゴールラインの右側も同様にゴールラインに向かって確定させていけばいいので、<code>fp[Delta+p]</code>から始めて<code>fp[Delta + 1]</code>まで<code>fp[]</code>値を確定させていく。</p>

<p><a href="https://camo.qiitausercontent.com/cbb16640db65a9128c19e71d282b6be01bb47c9b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f65316431346664652d656639342d653332632d393833372d3965356138353135326266612e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fe1d14fde-ef94-e32c-9837-9e5a85152bfa.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d8b87aca798c31da563e26d78e361b20" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/136132/e1d14fde-ef94-e32c-9837-9e5a85152bfa.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fe1d14fde-ef94-e32c-9837-9e5a85152bfa.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=cfb04b9fb86e341d6a40cbffabb780fa 1x" loading="lazy"></a></p>

<p>そこまで行って最後のダメ押し、<code>fp[Delta ± 1]</code>の値を使って<code>fp[Delta]</code>の値を決定すれば、寄り道レベル<code>p</code>における<code>fp[]</code>値が全て確定する。</p>

<p>この一連の<code>fp[]</code>値決定プロセスを繰り返して、<code>fp[Delta]</code>の値が<code>文字列１.Length</code>になれば<code>Complete</code>、繰り返した回数が「寄り道レベル<code>p</code>」って事だ。</p>

<p><a href="https://camo.qiitausercontent.com/fc9ed75e9098eec93755b27bff943e37c58e7aff/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f33373631373666632d333866302d666661612d383931642d6433373166633039333561392e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F376176fc-38f0-ffaa-891d-d371fc0935a9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=67cee549256d3716098a4ffbf9835126" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/136132/376176fc-38f0-ffaa-891d-d371fc0935a9.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F376176fc-38f0-ffaa-891d-d371fc0935a9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=40271bf8d16de7a26e11926d72a52cea 1x" loading="lazy"></a><br>
<br><br>
ふー、長かったけど達成感<img alt=":thumbsup:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/1f44d.png" title=":thumbsup:" width="20" loading="lazy"></p>

<h1>
<span id="憂鬱のタネ" class="fragment"></span><a href="#%E6%86%82%E9%AC%B1%E3%81%AE%E3%82%BF%E3%83%8D"><i class="fa fa-link"></i></a>憂鬱のタネ</h1>

<p>よしっ、じゃぁ早速文字列の差分を計算してみよう！<br>
って、あれ？</p>

<p>今まで解き明かしてきた方法で分かったのは、寄り道レベルだけだぞ。<br>
上の例では寄り道レベル<code>p=2</code>だったので、文字列変換をするのに<code>p * 2 + Delta = 6 回</code>の１文字削除・１文字挿入が必要になるよー、ってのが判明しただけ。</p>

<p>うん、識者の方々も変換手順を実装するには、それ用のコードが必要だと仰っておられる。ルート探索に一番メモリが必要だとも言っている。<br>
うーん…</p>

<p>と云うのが、第一のタネ。<br>
<br><br>
ま、それはちょこっと横に置いといて、力技でルート探索しましたよ。ただ余りにも力技過ぎて恥ずかしいのでソース掲載は控えたい。</p>

<p>で、ルートを結んで出てきたのが下図。</p>

<p><a href="https://camo.qiitausercontent.com/1066e9abb5a5f43b55b11ed9f80c1a667c18f80e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f31346435303530302d363937642d393266392d396136312d3865616538666666653764382e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F14d50500-697d-92f9-9a61-8eae8fffe7d8.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=6c446c11658293d26e74f5cd85eee978" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/136132/14d50500-697d-92f9-9a61-8eae8fffe7d8.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F14d50500-697d-92f9-9a61-8eae8fffe7d8.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=b9865e11b9f34db5b3c031840c9d4796 1x" loading="lazy"></a></p>

<p>違和感満載…</p>

<p><a href="https://camo.qiitausercontent.com/5d3ac2fc1f0ddc0c83953cae4e3d0f9cee6ff548/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f63663839393639352d653530362d353066382d356132632d6632333365383437376334372e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fcf899695-e506-50f8-5a2c-f233e8477c47.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=4c678b992c075db664dae9d55287acfa" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/136132/cf899695-e506-50f8-5a2c-f233e8477c47.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fcf899695-e506-50f8-5a2c-f233e8477c47.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=5dd9aef8b5471ccfb744099ff64e91e4 1x" loading="lazy"></a></p>

<p>なんで、最後の３文字セットを採用しないかなぁ…<br>
人間の感覚には合わないよね。</p>

<p>所詮、LCSを求めるための数学的アルゴリズムであって、自然なルートを探索するアルゴリズムではない…<br>
んだろうなと激しく思った。</p>

<p>と云うのが、第二のタネ。<br>
<br><br>
そんじゃ、うーさんアルゴリズムを改良して、上記悩みを解決しよう！<br>
って意気込んではみたものの、それ無理ですから。</p>

<p>結局、<code>うーさんのSnake関数</code>の呪いですね。だって坂道踏んだら必ず滑りこけてしまうんだもん。その先にもっと良い手があるかも知れない、何てTry&amp;Errorしてたら、折角の綺麗なアルゴリズムが台無しになってしまう。<br>
<br><br>
早い話が、うーさんのアルゴリズムはLCS求める以外には使い出がない、って事になるんですかねぇ…<br>
全探索をする訳でもなく最小の手数だけで答えを探索しているからね。<br>
綺麗なアルゴリズムなんだけどなー</p>

<h1>
<span id="対策" class="fragment"></span><a href="#%E5%AF%BE%E7%AD%96"><i class="fa fa-link"></i></a>対策</h1>

<p>そこで、私は考えた…<br>
これは虱潰すしかないな。（安直）</p>

<p>しかし、虱潰すっても効率の良い潰し方がある筈。<br>
うむうむ、折角うーさんが良い表を作ってくれてるし、あれを利用しない手はないよ。</p>

<p>方針としては、うーさんのアルゴリズムでは思わぬ伏兵であった「スライダー」。あの一覧を作って、その総当たりって事で如何でしょう？</p>

<p>対象としては、マス一辺ずつ相手にするより遥かに少ないよね。<br>
しかも、連続する対角線はそれを１スライダーとして扱う、となると横入りはなくなるので、人間っぽいルートが常に提示される筈。</p>

<p>つまり、抜き出したスライダー全てに対して総当たりを行って、例えば下図の様な順番でスライダーが選ばれたとしたらその間を横・縦のマス移動で補完することにより、全体のルートを確定させるという寸法だ。</p>

<p><a href="https://camo.qiitausercontent.com/c960195cd2b3430230a16882a43a9cc6acc26837/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f32613633306230322d646664642d363933332d393466382d3638396166326231393461312e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F2a630b02-dfdd-6933-94f8-689af2b194a1.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=b1bcefab7b839e8c5a2999d9322c4315" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/136132/2a630b02-dfdd-6933-94f8-689af2b194a1.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F2a630b02-dfdd-6933-94f8-689af2b194a1.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=77b844333076dec5b18e156c488befc5 1x" loading="lazy"></a></p>

<p>でも、これだけではまだ効率が悪い。ここでうーさんのアイディアを<del>パクっ</del>参考にさせて頂いて、更に探索対象を絞っていこう。勿論ここで採用すべき考え方は「寄り道レベル」だ。<br>
つまり、寄り道レベル<code>p=0</code>なら、この黄色い範囲のスライダーのみ対象とする。</p>

<p><a href="https://camo.qiitausercontent.com/8a85bef59bd08402cbcc264ddc5718f1e8048469/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f34626363626466342d636466662d613166622d333134332d3833626638653036636564652e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F4bccbdf4-cdff-a1fb-3143-83bf8e06cede.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=20ff320809b254c4947a22809bffd18e" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/136132/4bccbdf4-cdff-a1fb-3143-83bf8e06cede.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F4bccbdf4-cdff-a1fb-3143-83bf8e06cede.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=d7243384d749cf3ef3360ac0e6321acc 1x" loading="lazy"></a></p>

<p>寄り道レベル<code>p=1</code>ならば、上下に一マスずつ拡張したこの色付きの部分に含まれるスライダーのみ対象とする…</p>

<p><a href="https://camo.qiitausercontent.com/592fffe7b5dc404a802f67990045d2b5da9ff9a7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f39366638363539332d386133362d356336352d633231612d3136646339343632353132372e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F96f86593-8a36-5c65-c21a-16dc94625127.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=30f09fa778f487e693492c7d21885708" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/136132/96f86593-8a36-5c65-c21a-16dc94625127.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F96f86593-8a36-5c65-c21a-16dc94625127.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=6ea71ff2b6a61a8feee42eb985f84108 1x" loading="lazy"></a></p>

<p>ってな感じでね。<br>
見るからに対象が絞られる感満載でしょ？</p>

<p>でもまだまだ。</p>

<p><a href="https://camo.qiitausercontent.com/ad803a8b166dc76d71ddcc83e1f51c258a4f7546/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f34326434656164322d663230652d373666392d386531312d3461343533363634336238632e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F42d4ead2-f20e-76f9-8e11-4a4536643b8c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=f13e36da22ddf1972b8c9485d99d3252" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/136132/42d4ead2-f20e-76f9-8e11-4a4536643b8c.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F42d4ead2-f20e-76f9-8e11-4a4536643b8c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=49b3ad7e8fbe120e2ee5773e8e036d73 1x" loading="lazy"></a></p>

<p>進行方向に向かって、９０度の範囲にあるスライダーだけを対象にすれば事足りる。<br>
これに先の寄り道レベルが組み合わされる訳で、ぐぐっと対象が絞られる。</p>

<p>もう一つ言うと、それぞれのスライダーが選ばれる毎に許容されるコストが消費されるので、コストが底を尽きたタイミングで探索を中断する事も有効な対策であるし、残りコストから許容コストを動的に絞る事も可能だ。</p>

<p>あー、感覚的過ぎる…<br>
つまり、寄り道レベル<code>p=0</code>の場合許容されるコストは<code>Delta</code>だけだから、下図の①の様にいきなりコスト<code>Delta</code>を使い切ってしまった場合は、青線で示されるように、ゴールに向かって滑り落ちていくルートしか残されていない。この（①のコストを使い切った）時点で黄色い許容範囲は青い線上に収束してしまう、と言える訳だ。</p>

<p><a href="https://camo.qiitausercontent.com/1080abb6046a06a877c9fc7a8610f6e0f79041ad/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f30663337623664322d313962372d316333382d666231642d6264306131303633613731622e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F0f37b6d2-19b7-1c38-fb1d-bd0a1063a71b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=b9a47bbffaa8ea9618770c3a925d3e22" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/136132/0f37b6d2-19b7-1c38-fb1d-bd0a1063a71b.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F0f37b6d2-19b7-1c38-fb1d-bd0a1063a71b.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=1806c40a46a050aab192cd39b0602926 1x" loading="lazy"></a></p>

<p>この手順の全体的なイメージを表現すると、下図の様に探索範囲が狭められていく筈（なんだろう）。</p>

<p><a href="https://camo.qiitausercontent.com/9f898ebe674fd2f387213de3fdb2c4208c2965af/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f64633662386364392d356235642d386365652d356665362d3637343766323231336133322e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fdc6b8cd9-5b5d-8cee-5fe6-6747f2213a32.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=be3ccc50d21693a2e1ba643682e84370" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/136132/dc6b8cd9-5b5d-8cee-5fe6-6747f2213a32.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fdc6b8cd9-5b5d-8cee-5fe6-6747f2213a32.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=b0276afe25122887028a35f895f887da 1x" loading="lazy"></a></p>

<p><br><br>
ところでこれ以上話を進める前に、横入りナシと云う制限を設けても横入りアリよりコストが掛かるケースが存在しない事を保証しなければならない。そこをここで確認しておこう。</p>

<p>とか言いながら実は、こんな文字列だったら…</p>

<p><a href="https://camo.qiitausercontent.com/0ea164520940615318a5908e0f956c83e3a3cb66/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f38356438623730372d663930662d333139352d303739612d3134653162616530313533652e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F85d8b707-f90f-3195-079a-14e1bae0153e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=77a98061f5cc5e1a1e90639b0a254241" alt="image" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/136132/85d8b707-f90f-3195-079a-14e1bae0153e.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F85d8b707-f90f-3195-079a-14e1bae0153e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=b664855b54e0d6c06240a7e62962bca5 1x" loading="lazy"></a></p>

<p>今更だけど、横入りしないと最小コストでゴールできないなぁ…</p>

<p>これは困った。<br>
「最小コスト」ってのと「イイ感じの手順」ってのが両立しないぞ。</p>

<h1>
<span id="方針" class="fragment"></span><a href="#%E6%96%B9%E9%87%9D"><i class="fa fa-link"></i></a>方針</h1>

<p>ま、それはそれとして色々出揃ったので、今後の方針を纏めてみよう。</p>

<p>「最小コスト」と「イイ感じ」が両立しないのであれば、解法も二階層にならざるを得ない。</p>

<p>色んな二階層があると思うんですが—<br>
んんんー、今回は次の手法で行きましょう。</p>

<ol>
<li>寄り道レベルが最小のルート全てを求める（横入りアリ）</li>
<li>「イイ感じ度」を数値化、其々のルートを評価して一番イイ感じのルートを一つ選び出す</li>
</ol>

<p>ナイスっ！</p>

<p>全ルートを求めるのは、スライダーの総当たり作戦で。<br>
イイ感じ度は以下の様にして図れば良いかな。</p>

<ul>
<li>SES上の要素長さの自乗和を計算、でかい方が勝ち<br>
SES上では連続する文字削除・文字挿入が其々一纏めに表現されているとする</li>
<li>ま、それでも同率首位ってのはあるだろうから、そこは先着順ででも</li>
</ul>

<h1>
<span id="実装" class="fragment"></span><a href="#%E5%AE%9F%E8%A3%85"><i class="fa fa-link"></i></a>実装</h1>

<p>まずはメイン部分から。<br>
こんな感じで書くと結果が表示されると云う寸法。</p>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">Program.cs</span></div>
<div class="highlight"><pre><code><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Program</span> <span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">foreach</span><span class="p">(</span><span class="n">StringDiff</span> <span class="n">diff</span> <span class="k">in</span> <span class="nf">GetDifference</span><span class="p">(</span><span class="s">"acebdabbabed"</span><span class="p">,</span> <span class="s">"acbdeacbed"</span><span class="p">).</span><span class="nf">OrderByDescending</span><span class="p">(</span><span class="n">s</span> <span class="p">=&gt;</span> <span class="n">s</span><span class="p">.</span><span class="n">Similarity</span><span class="p">))</span> <span class="p">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"---{0:0.00000}---"</span><span class="p">,</span> <span class="n">diff</span><span class="p">.</span><span class="n">Similarity</span><span class="p">);</span>
            <span class="k">foreach</span><span class="p">(</span><span class="kt">string</span> <span class="n">info</span> <span class="k">in</span> <span class="n">diff</span><span class="p">.</span><span class="n">Items</span><span class="p">)</span>
                <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">info</span><span class="p">);</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>うーさんのサンプル文字列の比較では、以下の４パターンが導き出された。<br>
何れも6文字分の寄り道をしているので、寄り道レベルは2って事で先の例と一致。<br>
類似度に関しては絶対値だと良く分からないので、相対比較ができるように0.0～1.0の範囲での評価結果を得られるように調整してみた。（適当ですけど）<br>
先で気になった点に関して云えば、期待通り3文字削除の方が評価結果が高いという事に落ち着いて一先ずは意図した通りの動きをしているんだろうなぁ、という感想。<br>
気に入った点は、比較対象と被比較対象の文字列の長さの制約がない処。ま、総当たりで探索しているからね、当たり前っちゃ当たり前。</p>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">結果</span></div>
<div class="highlight"><pre><code>---0.43125---
  ac
- e
  bd
- abb
+ e
  a
+ c
  bed

---0.43125---
  ac
- e
  bd
+ e
  a
- bba
+ c
  bed

---0.41042---
  ac
- e
  bd
+ e
  a
+ c
  b
- bab
  ed

---0.33542---
  ac
- e
  bd
+ e
  a
- b
+ c
  b
- ab
  ed
</code></pre></div>
</div>

<p>それでは、以下細かい処へ…</p>

<div class="code-frame" data-lang="csharp">
<div class="code-lang"><span class="bold">Program.cs(続き)</span></div>
<div class="highlight"><pre><code><span class="k">class</span> <span class="nc">Program</span> <span class="p">{</span>
        <span class="err">：（既出の</span><span class="nf">Main</span><span class="p">()</span><span class="err">）</span>
    <span class="c1">//    globalな変数（う～ん）</span>
    <span class="k">static</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Slider</span><span class="p">&gt;</span> <span class="n">SliderList</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Slider</span><span class="p">&gt;();</span>
    <span class="k">static</span> <span class="n">Stack</span><span class="p">&lt;</span><span class="n">Slider</span><span class="p">&gt;</span> <span class="n">stack</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Stack</span><span class="p">&lt;</span><span class="n">Slider</span><span class="p">&gt;();</span>

    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// 文字列の差分情報を１セットずつ返す</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="c1">/// &lt;param name="strX"&gt;比較対象文字列１&lt;/param&gt;</span>
    <span class="c1">/// &lt;param name="strY"&gt;比較対象文字列２&lt;/param&gt;</span>
    <span class="c1">/// &lt;returns&gt;文字列差分情報&lt;/returns&gt;</span>
    <span class="k">static</span> <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">StringDiff</span><span class="p">&gt;</span> <span class="nf">GetDifference</span><span class="p">(</span><span class="kt">string</span> <span class="n">strX</span><span class="p">,</span> <span class="kt">string</span> <span class="n">strY</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">delta</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Abs</span><span class="p">(</span><span class="n">strX</span><span class="p">.</span><span class="n">Length</span> <span class="p">-</span> <span class="n">strY</span><span class="p">.</span><span class="n">Length</span><span class="p">);</span>
        <span class="kt">int</span> <span class="n">minlen</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Min</span><span class="p">(</span><span class="n">strX</span><span class="p">.</span><span class="n">Length</span><span class="p">,</span> <span class="n">strY</span><span class="p">.</span><span class="n">Length</span><span class="p">);</span>

        <span class="c1">//************************</span>
        <span class="c1">//  Sliderを洗い出す</span>
        <span class="c1">//************************</span>

        <span class="n">SliderList</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Slider</span><span class="p">&gt;();</span>

        <span class="n">SliderList</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="k">new</span> <span class="nf">Slider</span><span class="p">(</span><span class="n">Location</span><span class="p">.</span><span class="n">Origin</span><span class="p">,</span> <span class="n">Location</span><span class="p">.</span><span class="n">Origin</span><span class="p">));</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">y</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">y</span> <span class="p">&lt;</span> <span class="n">strY</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span> <span class="n">y</span><span class="p">++)</span> <span class="p">{</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">x</span> <span class="p">&lt;</span> <span class="n">strX</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span> <span class="n">x</span><span class="p">++)</span> <span class="p">{</span>
                <span class="k">if</span><span class="p">(</span><span class="n">strX</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="p">!=</span> <span class="n">strY</span><span class="p">[</span><span class="n">y</span><span class="p">])</span> <span class="k">continue</span><span class="p">;</span>
                <span class="k">if</span><span class="p">(</span><span class="n">x</span> <span class="p">!=</span> <span class="m">0</span> <span class="p">&amp;&amp;</span> <span class="n">y</span> <span class="p">!=</span> <span class="m">0</span> <span class="p">&amp;&amp;</span> <span class="n">strX</span><span class="p">[</span><span class="n">x</span> <span class="p">-</span> <span class="m">1</span><span class="p">]</span> <span class="p">==</span> <span class="n">strY</span><span class="p">[</span><span class="n">y</span> <span class="p">-</span> <span class="m">1</span><span class="p">])</span> <span class="k">continue</span><span class="p">;</span>

                <span class="kt">int</span> <span class="n">dx</span> <span class="p">=</span> <span class="n">x</span><span class="p">;</span>
                <span class="kt">int</span> <span class="n">dy</span> <span class="p">=</span> <span class="n">y</span><span class="p">;</span>
                <span class="n">Location</span> <span class="n">sLoc</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Location</span><span class="p">(</span><span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="p">);</span>
                <span class="k">while</span><span class="p">(</span><span class="n">dx</span> <span class="p">&lt;</span> <span class="n">strX</span><span class="p">.</span><span class="n">Length</span> <span class="p">&amp;&amp;</span> <span class="n">dy</span> <span class="p">&lt;</span> <span class="n">strY</span><span class="p">.</span><span class="n">Length</span> <span class="p">&amp;&amp;</span> <span class="n">strX</span><span class="p">[</span><span class="n">dx</span><span class="p">]</span> <span class="p">==</span> <span class="n">strY</span><span class="p">[</span><span class="n">dy</span><span class="p">])</span> <span class="p">{</span> <span class="n">dx</span><span class="p">++;</span> <span class="n">dy</span><span class="p">++;</span> <span class="p">}</span>
                <span class="n">Location</span> <span class="n">eLoc</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Location</span><span class="p">(</span><span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="p">);</span>

                <span class="n">SliderList</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="k">new</span> <span class="nf">Slider</span><span class="p">(</span><span class="n">sLoc</span><span class="p">,</span> <span class="n">eLoc</span><span class="p">));</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="n">SliderList</span><span class="p">.</span><span class="nf">Reverse</span><span class="p">();</span>

        <span class="c1">//************************</span>
        <span class="c1">//  総当たりを仕掛ける</span>
        <span class="c1">//************************</span>

        <span class="n">Location</span> <span class="n">Goal</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Location</span><span class="p">(</span><span class="n">strX</span><span class="p">.</span><span class="n">Length</span><span class="p">,</span> <span class="n">strY</span><span class="p">.</span><span class="n">Length</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">p</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">p</span> <span class="p">&lt;=</span> <span class="n">minlen</span><span class="p">;</span> <span class="n">p</span><span class="p">++)</span> <span class="p">{</span>
            <span class="k">foreach</span><span class="p">(</span><span class="n">Slider</span> <span class="n">slider</span> <span class="k">in</span> <span class="nf">GetSlider</span><span class="p">(</span><span class="k">new</span> <span class="nf">Slider</span><span class="p">(</span><span class="n">Goal</span><span class="p">,</span> <span class="n">Goal</span><span class="p">),</span> <span class="n">delta</span> <span class="p">+</span> <span class="n">p</span> <span class="p">*</span> <span class="m">2</span><span class="p">))</span> <span class="p">{</span>
                <span class="n">StringDiff</span> <span class="n">Diff</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StringDiff</span><span class="p">();</span>
                <span class="n">Location</span> <span class="n">last</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Location</span><span class="p">();</span>
                <span class="k">foreach</span><span class="p">(</span><span class="n">Slider</span> <span class="n">curr</span> <span class="k">in</span> <span class="n">stack</span><span class="p">)</span> <span class="p">{</span>
                    <span class="kt">int</span> <span class="n">del</span> <span class="p">=</span> <span class="n">curr</span><span class="p">.</span><span class="n">StartLoc</span><span class="p">.</span><span class="n">x</span> <span class="p">-</span> <span class="n">last</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>
                    <span class="kt">int</span> <span class="k">add</span> <span class="p">=</span> <span class="n">curr</span><span class="p">.</span><span class="n">StartLoc</span><span class="p">.</span><span class="n">y</span> <span class="p">-</span> <span class="n">last</span><span class="p">.</span><span class="n">y</span><span class="p">;</span>
                    <span class="kt">int</span> <span class="n">sty</span> <span class="p">=</span> <span class="n">curr</span><span class="p">.</span><span class="n">EndLoc</span><span class="p">.</span><span class="n">x</span> <span class="p">-</span> <span class="n">curr</span><span class="p">.</span><span class="n">StartLoc</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>

                    <span class="k">if</span><span class="p">(</span><span class="n">last</span><span class="p">.</span><span class="n">x</span> <span class="p">&gt;</span> <span class="n">curr</span><span class="p">.</span><span class="n">StartLoc</span><span class="p">.</span><span class="n">x</span> <span class="p">||</span> <span class="n">last</span><span class="p">.</span><span class="n">y</span> <span class="p">&gt;</span> <span class="n">curr</span><span class="p">.</span><span class="n">StartLoc</span><span class="p">.</span><span class="n">y</span><span class="p">)</span> <span class="p">{</span>
                        <span class="k">if</span><span class="p">((</span><span class="n">last</span><span class="p">.</span><span class="n">x</span> <span class="p">-</span> <span class="n">last</span><span class="p">.</span><span class="n">y</span><span class="p">)</span> <span class="p">&lt;</span> <span class="p">(</span><span class="n">curr</span><span class="p">.</span><span class="n">StartLoc</span><span class="p">.</span><span class="n">x</span> <span class="p">-</span> <span class="n">curr</span><span class="p">.</span><span class="n">StartLoc</span><span class="p">.</span><span class="n">y</span><span class="p">))</span> <span class="p">{</span>
                            <span class="n">del</span> <span class="p">=</span> <span class="p">(</span><span class="n">curr</span><span class="p">.</span><span class="n">StartLoc</span><span class="p">.</span><span class="n">x</span> <span class="p">-</span> <span class="n">curr</span><span class="p">.</span><span class="n">StartLoc</span><span class="p">.</span><span class="n">y</span><span class="p">)</span> <span class="p">-</span> <span class="p">(</span><span class="n">last</span><span class="p">.</span><span class="n">x</span> <span class="p">-</span> <span class="n">last</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>
                            <span class="k">add</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
                            <span class="n">sty</span> <span class="p">=</span> <span class="n">curr</span><span class="p">.</span><span class="n">EndLoc</span><span class="p">.</span><span class="n">x</span> <span class="p">-</span> <span class="n">last</span><span class="p">.</span><span class="n">x</span> <span class="p">-</span> <span class="n">del</span><span class="p">;</span>
                        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                            <span class="n">del</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
                            <span class="k">add</span> <span class="p">=</span> <span class="p">(</span><span class="n">last</span><span class="p">.</span><span class="n">x</span> <span class="p">-</span> <span class="n">last</span><span class="p">.</span><span class="n">y</span><span class="p">)</span> <span class="p">-</span> <span class="p">(</span><span class="n">curr</span><span class="p">.</span><span class="n">StartLoc</span><span class="p">.</span><span class="n">x</span> <span class="p">-</span> <span class="n">curr</span><span class="p">.</span><span class="n">StartLoc</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>
                            <span class="n">sty</span> <span class="p">=</span> <span class="n">curr</span><span class="p">.</span><span class="n">EndLoc</span><span class="p">.</span><span class="n">y</span> <span class="p">-</span> <span class="n">last</span><span class="p">.</span><span class="n">y</span> <span class="p">-</span> <span class="k">add</span><span class="p">;</span>
                        <span class="p">}</span>
                    <span class="p">}</span>

                    <span class="k">if</span><span class="p">(</span><span class="n">del</span> <span class="p">!=</span> <span class="m">0</span><span class="p">)</span> <span class="n">Diff</span><span class="p">.</span><span class="nf">DeleteString</span><span class="p">(</span><span class="n">strX</span><span class="p">.</span><span class="nf">Substring</span><span class="p">(</span><span class="n">last</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">del</span><span class="p">));</span>
                    <span class="k">if</span><span class="p">(</span><span class="k">add</span> <span class="p">!=</span> <span class="m">0</span><span class="p">)</span> <span class="n">Diff</span><span class="p">.</span><span class="nf">InsertString</span><span class="p">(</span><span class="n">strY</span><span class="p">.</span><span class="nf">Substring</span><span class="p">(</span><span class="n">last</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="k">add</span><span class="p">));</span>
                    <span class="k">if</span><span class="p">(</span><span class="n">sty</span> <span class="p">!=</span> <span class="m">0</span><span class="p">)</span> <span class="n">Diff</span><span class="p">.</span><span class="nf">AsItIsString</span><span class="p">(</span><span class="n">strX</span><span class="p">.</span><span class="nf">Substring</span><span class="p">(</span><span class="n">curr</span><span class="p">.</span><span class="n">EndLoc</span><span class="p">.</span><span class="n">x</span> <span class="p">-</span> <span class="n">sty</span><span class="p">,</span> <span class="n">sty</span><span class="p">));</span>

                    <span class="n">last</span> <span class="p">=</span> <span class="n">curr</span><span class="p">.</span><span class="n">EndLoc</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="n">p</span> <span class="p">=</span> <span class="n">minlen</span><span class="p">;</span>
                <span class="k">yield</span> <span class="k">return</span> <span class="n">Diff</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// 次に進めるスライダを洗い出す</span>
    <span class="c1">/// 候補スライダを返す度にルートスタックを更新する</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="c1">/// &lt;param name="slider"&gt;カレントスライダ&lt;/param&gt;</span>
    <span class="c1">/// &lt;param name="distance"&gt;ゴールまでに残された距離&lt;/param&gt;</span>
    <span class="c1">/// &lt;returns&gt;次に進んでも良いスライダ&lt;/returns&gt;</span>
    <span class="k">static</span> <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">Slider</span><span class="p">&gt;</span> <span class="nf">GetSlider</span><span class="p">(</span><span class="n">Slider</span> <span class="n">slider</span><span class="p">,</span> <span class="kt">int</span> <span class="n">distance</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">distance</span> <span class="p">&lt;</span> <span class="m">0</span><span class="p">)</span>
            <span class="k">yield</span> <span class="k">break</span><span class="p">;</span>

        <span class="n">stack</span><span class="p">.</span><span class="nf">Push</span><span class="p">(</span><span class="n">slider</span><span class="p">);</span>

        <span class="k">if</span><span class="p">(</span><span class="n">slider</span><span class="p">.</span><span class="n">EndLoc</span><span class="p">.</span><span class="n">IsOrigin</span><span class="p">)</span>
            <span class="k">yield</span> <span class="k">return</span> <span class="n">slider</span><span class="p">;</span>

        <span class="kt">int</span> <span class="n">delta</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Abs</span><span class="p">(</span><span class="n">strX</span><span class="p">.</span><span class="n">Length</span> <span class="p">-</span> <span class="n">strY</span><span class="p">.</span><span class="n">Length</span><span class="p">);</span>
        <span class="k">foreach</span><span class="p">(</span><span class="n">Slider</span> <span class="n">locs</span> <span class="k">in</span> <span class="n">SliderList</span><span class="p">)</span>
            <span class="k">if</span><span class="p">(!</span><span class="n">slider</span><span class="p">.</span><span class="nf">Equals</span><span class="p">(</span><span class="n">locs</span><span class="p">)</span> <span class="p">&amp;&amp;</span> <span class="n">slider</span><span class="p">.</span><span class="n">EndLoc</span><span class="p">.</span><span class="n">x</span> <span class="p">&gt;=</span> <span class="n">locs</span><span class="p">.</span><span class="n">EndLoc</span><span class="p">.</span><span class="n">x</span> <span class="p">&amp;&amp;</span> <span class="n">slider</span><span class="p">.</span><span class="n">EndLoc</span><span class="p">.</span><span class="n">y</span> <span class="p">&gt;=</span> <span class="n">locs</span><span class="p">.</span><span class="n">EndLoc</span><span class="p">.</span><span class="n">y</span><span class="p">)</span>
                <span class="k">if</span><span class="p">(</span><span class="n">slider</span><span class="p">.</span><span class="n">StartLoc</span><span class="p">.</span><span class="nf">Equals</span><span class="p">(</span><span class="n">slider</span><span class="p">.</span><span class="n">EndLoc</span><span class="p">)</span> <span class="p">||</span> <span class="p">(</span><span class="n">slider</span><span class="p">.</span><span class="n">EndLoc</span><span class="p">.</span><span class="n">x</span> <span class="p">!=</span> <span class="n">locs</span><span class="p">.</span><span class="n">EndLoc</span><span class="p">.</span><span class="n">x</span> <span class="p">&amp;&amp;</span> <span class="n">slider</span><span class="p">.</span><span class="n">EndLoc</span><span class="p">.</span><span class="n">y</span> <span class="p">!=</span> <span class="n">locs</span><span class="p">.</span><span class="n">EndLoc</span><span class="p">.</span><span class="n">y</span><span class="p">))</span>
                    <span class="k">if</span><span class="p">((</span><span class="n">locs</span><span class="p">.</span><span class="n">StartLoc</span><span class="p">.</span><span class="n">x</span> <span class="p">+</span> <span class="p">(</span><span class="n">distance</span> <span class="p">-</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Ceiling</span><span class="p">(</span><span class="n">delta</span> <span class="p">/</span> <span class="m">2F</span><span class="p">))</span> <span class="p">&gt;=</span> <span class="n">locs</span><span class="p">.</span><span class="n">StartLoc</span><span class="p">.</span><span class="n">y</span><span class="p">)</span> <span class="p">&amp;&amp;</span> <span class="p">(</span><span class="n">locs</span><span class="p">.</span><span class="n">StartLoc</span><span class="p">.</span><span class="n">x</span> <span class="p">-</span> <span class="p">(</span><span class="n">distance</span> <span class="p">+</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Ceiling</span><span class="p">(</span><span class="n">delta</span> <span class="p">/</span> <span class="m">2F</span><span class="p">))</span> <span class="p">&lt;=</span> <span class="n">locs</span><span class="p">.</span><span class="n">StartLoc</span><span class="p">.</span><span class="n">y</span><span class="p">))</span>
                        <span class="k">foreach</span><span class="p">(</span><span class="n">Slider</span> <span class="n">slope</span> <span class="k">in</span> <span class="nf">GetSlider</span><span class="p">(</span><span class="n">locs</span><span class="p">,</span> <span class="n">distance</span> <span class="p">-</span> <span class="n">slider</span><span class="p">.</span><span class="n">StartLoc</span><span class="p">.</span><span class="nf">Distance</span><span class="p">(</span><span class="n">locs</span><span class="p">.</span><span class="n">EndLoc</span><span class="p">)))</span>
                            <span class="k">yield</span> <span class="k">return</span> <span class="n">slope</span><span class="p">;</span>
        <span class="n">stack</span><span class="p">.</span><span class="nf">Pop</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>サポートクラス</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre><code><span class="k">public</span> <span class="k">class</span> <span class="nc">Location</span> <span class="p">{</span>
    <span class="k">public</span> <span class="nf">Location</span><span class="p">()</span> <span class="p">:</span> <span class="k">this</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">}</span>
    <span class="k">public</span> <span class="nf">Location</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="n">x</span> <span class="p">=</span> <span class="n">x</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="n">y</span> <span class="p">=</span> <span class="n">y</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="kt">int</span> <span class="n">x</span><span class="p">;</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">y</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">static</span> <span class="k">readonly</span> <span class="n">Location</span> <span class="n">Origin</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Location</span><span class="p">();</span>
    <span class="k">public</span> <span class="kt">bool</span> <span class="n">IsOrigin</span> <span class="p">{</span> <span class="k">get</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nf">Equals</span><span class="p">(</span><span class="n">Origin</span><span class="p">);</span> <span class="p">}</span> <span class="p">}</span>

    <span class="k">public</span> <span class="kt">int</span> <span class="nf">Distance</span><span class="p">(</span><span class="n">Location</span> <span class="n">loc</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">loc</span><span class="p">.</span><span class="n">x</span> <span class="p">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="n">x</span> <span class="p">&amp;&amp;</span> <span class="n">loc</span><span class="p">.</span><span class="n">y</span> <span class="p">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="n">y</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Abs</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">x</span> <span class="p">-</span> <span class="n">loc</span><span class="p">.</span><span class="n">x</span><span class="p">)</span> <span class="p">+</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Abs</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">y</span> <span class="p">-</span> <span class="n">loc</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>
        <span class="k">else</span>
            <span class="k">return</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Abs</span><span class="p">((</span><span class="k">this</span><span class="p">.</span><span class="n">x</span> <span class="p">-</span> <span class="k">this</span><span class="p">.</span><span class="n">y</span><span class="p">)</span> <span class="p">-</span> <span class="p">(</span><span class="n">loc</span><span class="p">.</span><span class="n">x</span> <span class="p">-</span> <span class="n">loc</span><span class="p">.</span><span class="n">y</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Slider</span> <span class="p">{</span>
    <span class="k">public</span> <span class="nf">Slider</span><span class="p">(</span><span class="n">Location</span> <span class="n">sLoc</span><span class="p">,</span> <span class="n">Location</span> <span class="n">eLoc</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="n">StartLoc</span> <span class="p">=</span> <span class="n">sLoc</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="n">EndLoc</span> <span class="p">=</span> <span class="n">eLoc</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="n">Location</span> <span class="n">StartLoc</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">private</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="n">Location</span> <span class="n">EndLoc</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">private</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">StringDiff</span> <span class="p">{</span>
    <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">Operation</span><span class="p">;</span>

    <span class="k">public</span> <span class="nf">StringDiff</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nf">Clear</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">void</span> <span class="nf">Clear</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">Operation</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;();</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">void</span> <span class="nf">DeleteString</span><span class="p">(</span><span class="kt">string</span> <span class="n">Substring</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">Operation</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"- "</span> <span class="p">+</span> <span class="n">Substring</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">void</span> <span class="nf">InsertString</span><span class="p">(</span><span class="kt">string</span> <span class="n">Substring</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">Operation</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"+ "</span> <span class="p">+</span> <span class="n">Substring</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">void</span> <span class="nf">AsItIsString</span><span class="p">(</span><span class="kt">string</span> <span class="n">Substring</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">Operation</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"  "</span> <span class="p">+</span> <span class="n">Substring</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">Items</span> <span class="p">{</span>
        <span class="k">get</span> <span class="p">{</span>
            <span class="k">foreach</span><span class="p">(</span><span class="kt">string</span> <span class="n">item</span> <span class="k">in</span> <span class="n">Operation</span><span class="p">)</span>
                <span class="k">yield</span> <span class="k">return</span> <span class="n">item</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="kt">double</span> <span class="n">Similarity</span> <span class="p">{</span>
        <span class="k">get</span> <span class="p">{</span>
            <span class="kt">double</span> <span class="n">rdel</span> <span class="p">=</span> <span class="nf">Ratio</span><span class="p">(</span><span class="s">"- "</span><span class="p">)</span> <span class="p">*</span> <span class="m">0.9</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">cdel</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sign</span><span class="p">(</span><span class="n">rdel</span><span class="p">);</span>
            <span class="kt">double</span> <span class="n">radd</span> <span class="p">=</span> <span class="nf">Ratio</span><span class="p">(</span><span class="s">"+ "</span><span class="p">)</span> <span class="p">*</span> <span class="m">0.9</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">cadd</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sign</span><span class="p">(</span><span class="n">radd</span><span class="p">);</span>
            <span class="kt">double</span> <span class="n">rsty</span> <span class="p">=</span> <span class="nf">Ratio</span><span class="p">(</span><span class="s">"  "</span><span class="p">)</span> <span class="p">*</span> <span class="m">1.0</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">csty</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Sign</span><span class="p">(</span><span class="n">rsty</span><span class="p">);</span>

            <span class="k">return</span> <span class="p">(</span><span class="n">rdel</span> <span class="p">+</span> <span class="n">radd</span> <span class="p">+</span> <span class="n">rsty</span><span class="p">)</span> <span class="p">/</span> <span class="p">(</span><span class="n">cdel</span> <span class="p">+</span> <span class="n">cadd</span> <span class="p">+</span> <span class="m">1</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kt">double</span> <span class="nf">Ratio</span><span class="p">(</span><span class="kt">string</span> <span class="n">type</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">double</span> <span class="n">len</span> <span class="p">=</span> <span class="n">Operation</span><span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="n">s</span> <span class="p">=&gt;</span> <span class="n">s</span><span class="p">.</span><span class="nf">StartsWith</span><span class="p">(</span><span class="n">type</span><span class="p">)).</span><span class="nf">Sum</span><span class="p">(</span><span class="n">s</span> <span class="p">=&gt;</span> <span class="n">s</span><span class="p">.</span><span class="n">Length</span> <span class="p">-</span> <span class="m">2</span><span class="p">);</span>
        <span class="kt">double</span> <span class="n">sum</span> <span class="p">=</span> <span class="n">Operation</span><span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="n">s</span> <span class="p">=&gt;</span> <span class="n">s</span><span class="p">.</span><span class="nf">StartsWith</span><span class="p">(</span><span class="n">type</span><span class="p">)).</span><span class="nf">Sum</span><span class="p">(</span><span class="n">s</span> <span class="p">=&gt;</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">Length</span> <span class="p">-</span> <span class="m">2</span><span class="p">,</span> <span class="m">2</span><span class="p">));</span>

        <span class="k">return</span> <span class="n">len</span> <span class="p">==</span> <span class="m">0</span> <span class="p">?</span> <span class="m">0</span> <span class="p">:</span> <span class="n">sum</span> <span class="p">/</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="n">len</span><span class="p">,</span> <span class="m">2</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>尚、類似度最大の候補を一つだけ受け取ればよい場合は、<code>Main()</code>を以下の様にすれば良い。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre><code><span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">StringDiff</span> <span class="n">diff</span> <span class="p">=</span> <span class="nf">GetDifference</span><span class="p">(</span><span class="n">strX</span><span class="p">,</span> <span class="n">strY</span><span class="p">).</span><span class="nf">OrderByDescending</span><span class="p">(</span><span class="n">s</span> <span class="p">=&gt;</span> <span class="n">s</span><span class="p">.</span><span class="n">Similarity</span><span class="p">).</span><span class="nf">Take</span><span class="p">(</span><span class="m">1</span><span class="p">).</span><span class="nf">ToArray</span><span class="p">()[</span><span class="m">0</span><span class="p">];</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"---{0:0.00000}---"</span><span class="p">,</span> <span class="n">diff</span><span class="p">.</span><span class="n">Similarity</span><span class="p">);</span>
    <span class="k">foreach</span><span class="p">(</span><span class="kt">string</span> <span class="n">info</span> <span class="k">in</span> <span class="n">diff</span><span class="p">.</span><span class="n">Items</span><span class="p">)</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">info</span><span class="p">);</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>

<h1>
<span id="結" class="fragment"></span><a href="#%E7%B5%90"><i class="fa fa-link"></i></a>結</h1>

<p>ん～～～<br>
やっぱり力ずくはイマイチ美しさが足りないかなぁ…<br>
そして、色んな意味で分かり難くて申し訳ない。</p>

<p>タイトルに関していえば、ただ単に「う」を一杯使ってみたい衝動に抗えなかったのです…</p>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2FToraja%2Fitems%2F70ee79148ed089cee377&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2FToraja%2Fitems%2F70ee79148ed089cee377&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/Toraja/items/70ee79148ed089cee377/likers" class="css-1iupg5d">4</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">4</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/70ee79148ed089cee377/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/Toraja/items/70ee79148ed089cee377/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/Toraja/items/70ee79148ed089cee377/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/Toraja/items/70ee79148ed089cee377/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/Toraja/items/70ee79148ed089cee377.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-de49d604-0c84-47b5-b39e-74e6cc766320">{"authorAnalyticsTrackingId":null,"organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-ced5af0e-2ac4-48c4-98c1-965bb838ec2c"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-ced5af0e-2ac4-48c4-98c1-965bb838ec2c">{}</script>
      
<div id="LoginModal-react-component-6523a818-120e-426d-a14a-a6e08d2e5933"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-6523a818-120e-426d-a14a-a6e08d2e5933">{}</script>
      
<div id="StockModal-react-component-7e9630f1-ac28-4ecb-b23e-850dfe091645"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-7e9630f1-ac28-4ecb-b23e-850dfe091645">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;ezf2BGi3VuKpMvQn/vxmkktjnAr+3TjbQAM7wFd7dHp/jW8xj0X7eaPAPnYDmbH8iHlwIK8FyLm1nKrZN6S7rw==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\u003cp\u003eまたは私は如何にして数学的手法を止めて力ずくで文字列差分を取得するようになったか\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"序\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%BA%8F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e序\u003c/h1\u003e\n\n\u003cp\u003e二つの文字列の差分を抽出したかったんです。\u003cbr\u003e\n最終的な目的はさておき、まぁやるなら\u003ca href=\"http://www.bookoff.co.jp/ir/library/report1/pdf/np_diff.pdf\" rel=\"nofollow noopener\" target=\"_blank\"\u003eうーさんのアルゴリズム\u003c/a\u003eを使うことになるんだろう、位に軽く考えていました。\u003c/p\u003e\n\n\u003cp\u003e結果—\u003cbr\u003e\nうーさん、良く分からないよ…\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"予習\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BA%88%E7%BF%92\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e予習\u003c/h1\u003e\n\n\u003cp\u003eあっちこっち解説サイト（限る日本語）探して読み漁るもイマイチ腑に落ちない。\u003cbr\u003e\nいや、えー、全体的な流れは大丈夫、きっと分かってる筈。\u003c/p\u003e\n\n\u003cp\u003e何がやりたいのかイマイチぴんと来ない。すっごい細かい処の説明に終始していて、それらがどいう風に繋がっているのか伝わって来ない。\u003cbr\u003e\nそれらを最初にきちんと説明して下さいよー、うーさん。\u003c/p\u003e\n\n\u003cp\u003eあ、うーさんは説明してくれているのかも知れない。\u003cbr\u003e\n私、英語不自由な身なので、そこに当たれていないだけ。日本語解説してくれている人たちはそんな事は充分すぎるほど分かってるんで説明する必要性を感じていないのかも知れない。\u003c/p\u003e\n\n\u003cp\u003eうん、きっとそうに違いない…\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003e尚これ以降、多分に感覚的な説明が中心になります\u003cbr\u003e\n数学的・論理的に厳密な話がお好きな方はごめんなさい\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"確認\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%A2%BA%E8%AA%8D\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e確認\u003c/h1\u003e\n\n\u003cp\u003e取り敢えず最初に、うーさんの方法の目的をおさらいしておこう。\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003e文字列１に対して、「１文字削除」「１文字挿入」を繰り返して、文字列２に変形する方法を計算する。\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003eルールは以下の通り。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e下図の「S」の左上（0,0)から「G」の右下(12,10)まで進む\u003c/li\u003e\n\u003cli\u003e但し、格子の線に沿って、\n\n\u003cul\u003e\n\u003cli\u003e右に進む、か\u003c/li\u003e\n\u003cli\u003e下に進む、か\u003c/li\u003e\n\u003cli\u003e（格子に対角線が引かれている場合は）対角線を右下に向かって進む、か\u003cbr\u003eの何れかの方向にしか進めない\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e対角線に沿って進む場合のコストを「０（ゼロ）」\n格子\u003cruby\u003e一\u003crt\u003eひと\u003c/rt\u003e\u003c/ruby\u003eマス分進むコストを「１」\nとして、一番コストの掛からないルートを探してね\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/58866af32fbda0b3fab5d906f2b74e3ccc52686e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f62306134643134352d396166642d343234352d646134352d3061313431373663376130612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fb0a4d145-9afd-4245-da45-0a14176c7a0a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d5bd61ed0b789bd969da3ce27816bce7\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/136132/b0a4d145-9afd-4245-da45-0a14176c7a0a.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fb0a4d145-9afd-4245-da45-0a14176c7a0a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e3b98126775b573c117f6ba5dc5694ed 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eと云う問題ですね。\u003cbr\u003e\n\u003cbr\u003e\u003cbr\u003e\nそこで、うーさんは考えた…\u003cbr\u003e\n文字列１は文字列２より\u003ccode\u003eDelta\u003c/code\u003e文字だけ長いから少なくとも「１文字削除」を\u003ccode\u003eDelta\u003c/code\u003e回は行う必要があるのは明らか。\u003cbr\u003e\n逆の表現をすると、コスト\u003ccode\u003eDelta\u003c/code\u003eで進むためには、以下の図の黄色いマスの格子辺・対角線（ごめん、破線は\u003ccode\u003eDelta\u003c/code\u003e説明用の補助線として引いただけで、対角線じゃないんです）からはみ出さずに進めた場合だけである。（はみ出さなかったからと云って、コスト\u003ccode\u003eDelta\u003c/code\u003eで進めるとは限らないけどね）\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/d1c8552ee46536a05d754f0d11345da1f21af66e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f38363238366131642d323565322d633764342d386131612d3732336464633635323764652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F86286a1d-25e2-c7d4-8a1a-723ddc6527de.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ce8aba1e3682c81854f8b0fa9d95902b\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/136132/86286a1d-25e2-c7d4-8a1a-723ddc6527de.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F86286a1d-25e2-c7d4-8a1a-723ddc6527de.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=32f2a213665228c654f98c4eefac9ad3 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eそこで、最小コストはいくつであるかを以下の手順で探っていこう！\u003cbr\u003e\nと云うのがうーさんの方法である（筈なのである）。\u003c/p\u003e\n\n\u003col\u003e\n\u003cli\u003eまず最初に、黄色い枠内だけを可動範囲としてスタート地点(0,0)を出発、コスト\u003ccode\u003eDelta\u003c/code\u003eで進める範囲を探る\u003c/li\u003e\n\u003cli\u003eもし最小コスト\u003ccode\u003eDelta\u003c/code\u003eでGoalに辿り着けなかった場合は、この黄色の領域を拡張する（緑のマスを拡張しました）\u003cbr\u003e\u003ca href=\"https://camo.qiitausercontent.com/4ca9376a9a0a1e9b10f249dc804fcd223ec8ccdd/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f35353339653065632d396334642d356233342d356163332d3062646237646266383365352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F5539e0ec-9c4d-5b34-5ac3-0bdb7dbf83e5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=db7564365d009b1496a731e8c6042034\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/136132/5539e0ec-9c4d-5b34-5ac3-0bdb7dbf83e5.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F5539e0ec-9c4d-5b34-5ac3-0bdb7dbf83e5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=b8743aac465804eab22685e1c291dbaa 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e そしたらこの色付き部分を可動範囲として、コスト\u003ccode\u003eDelta + 2\u003c/code\u003eで進める範囲を探る\u003cbr\u003eなんで\u003ccode\u003e＋2\u003c/code\u003eするかって？\u003cbr\u003eう～ん…　取り敢えず、上下に可動範囲を一マスづつ拡張したから、程度で納得して下さい\u003c/li\u003e\n\u003cli\u003eそれでもGoalに辿り着けなかった場合は、更に上下に一マスずつ拡張してコストもゆるくしてGoalを目指す、ってのを繰り返すうちにGoalに辿り着く最小コストにぶち当たる筈（と云うか必ずGoalに辿り着ける最小コストが存在する）\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cp\u003e上記がうーさんの論理構成じゃないかと理解した。\u003cbr\u003e\n\u003cbr\u003e\u003cbr\u003e\nそして可動範囲を絞りながら、そこに許されたコストで進める範囲を上手い事判定するナイスな方法が存在する！　と云うのがうーさんアルゴリズムの肝。\u003c/p\u003e\n\n\u003cp\u003eで、そのナイスな方法ってのは先達の皆さんが解説して下さっている。\u003cbr\u003e\n例えば\u003ca href=\"http://gihyo.jp/dev/column/01/prog/2011/diff_sd200906\" rel=\"nofollow noopener\" target=\"_blank\"\u003eこちら\u003c/a\u003e。\u003cbr\u003e\nその方法の解説に関してはそちらにお任せしよう。\u003cbr\u003e\n\u003cbr\u003e\u003cbr\u003e\n実は、私が今分かっている所はここまで。\u003cbr\u003e\nという事が分かったよ。（ナイスな方法ってのが充分理解できていない事も含めて）\u003cbr\u003e\nふー\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"自習\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%87%AA%E7%BF%92\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e自習\u003c/h1\u003e\n\n\u003cp\u003e致し方ないので、うーさんのアルゴリズムを実装。各種状態をトレースして確認作業をしていこう。\u003c/p\u003e\n\n\u003cp\u003e以降、例としては基本的にうーさんの論文にある文字列を使う。\u003cbr\u003e\nこれね↓（この表の作成法に関しては前述のサイトなどを参照して下さい）\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/269e444024d1d2374eebb787ad08c17ea109834c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f32363535363437302d373139342d353164382d353161332d3161643939666630303931332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F26556470-7194-51d8-51a3-1ad99ff00913.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=6d1884ecb6093624e6d62f73d64f3371\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/136132/26556470-7194-51d8-51a3-1ad99ff00913.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F26556470-7194-51d8-51a3-1ad99ff00913.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=165788f683f75f9e689e02573bf74968 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n\u003cbr\u003e\u003c/p\u003e\n\n\u003cp\u003eで、こんな感じのコードでテストをしたと思ってね。\u003cbr\u003e\n※ \u003ca href=\"http://qiita.com/Toraja/items/c8173fddad66c0e3642a\" id=\"reference-cd575626323ca7291310\"\u003eVArrayについては別稿\u003c/a\u003eを参照のこと。（これがやりたかったのだよ）\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eコードイメージ\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003estrX\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"acebdabbabed\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003estrY\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"acbswacbed\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003edelta\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003estrX\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003estrY\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"n\"\u003eVArray\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003efp\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eVArray\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;(-(\u003c/span\u003e\u003cspan class=\"n\"\u003estrY\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"n\"\u003estrX\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"k\"\u003efor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003efp\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLBound\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;=\u003c/span\u003e \u003cspan class=\"n\"\u003efp\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUBound\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e++)\u003c/span\u003e\n    \u003cspan class=\"n\"\u003efp\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003efor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e++)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ek\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ek\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003edelta\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ek\u003c/span\u003e\u003cspan class=\"p\"\u003e++)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003efp\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ek\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003eSnake\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ek\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eMax\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efp\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ek\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003efp\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ek\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]));\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ek\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003edelta\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ek\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003edelta\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ek\u003c/span\u003e\u003cspan class=\"p\"\u003e--)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003efp\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ek\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003eSnake\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ek\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eMax\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efp\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ek\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003efp\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ek\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]));\u003c/span\u003e\n    \u003cspan class=\"n\"\u003efp\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003edelta\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003eSnake\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edelta\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eMax\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efp\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003edelta\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003efp\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003edelta\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]));\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efp\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003edelta\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"n\"\u003estrX\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ebreak\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"nf\"\u003eSnake\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ek\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ek\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003ewhile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003estrX\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003estrY\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003estrX\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"n\"\u003estrY\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e++;\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e++;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eおー、ここで思い出した。\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003eうーさんの論文では、縦軸を\u003ccode\u003ex\u003c/code\u003e・横軸を\u003ccode\u003ey\u003c/code\u003eで表すと云う変態グラフが使われているんですが、何とも取っ付き難いので本稿では一般的な数学グラフと同じ\u003ccode\u003ey\u003c/code\u003eを縦軸・\u003ccode\u003ex\u003c/code\u003eを横軸になる様に表現しておりま…\u003c/p\u003e\n\n\u003cp\u003eあれ？　数学グラフでもないぞ…\u003cbr\u003e\nWindowsディスプレイの座標系だ\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003efp[]の値が気になるところなので、そこを中心に攻めてみる。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/4d3f927d48255a9dd1c3afb0c320afba3c69871a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f34323339623839372d313937632d393965622d373863642d3564646136373863633365622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F4239b897-197c-99eb-78cd-5dda678cc3eb.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=1ac51af817f7c7bbbc81a067409be7b3\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/136132/4239b897-197c-99eb-78cd-5dda678cc3eb.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F4239b897-197c-99eb-78cd-5dda678cc3eb.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=eac61af2ccee84b280ef0ccae2982715 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nで、こっちから法則性を検証してみるという事で。\u003cbr\u003e\n\u003cbr\u003e\u003cbr\u003e\nふむふむ、あぁ～、なるほど。\u003cbr\u003e\nここで、例の図が出てくる訳ね。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/0fab812dbd0e196c153a344102afecaa00281ff6/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f36346262383439632d396630642d353431612d653864632d3831653864343162396130302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F64bb849c-9f0d-541a-e8dc-81e8d41b9a00.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=82fbddf0c0236084ba9224db0814896c\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/136132/64bb849c-9f0d-541a-e8dc-81e8d41b9a00.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F64bb849c-9f0d-541a-e8dc-81e8d41b9a00.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=afa15b20d3494b4a51783b32194727ce 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nfp[]はこの赤破線群に対応している訳だ。そしてその中身は「最遠点」って言われてる\u003ccode\u003ex\u003c/code\u003eの値だな。ただここでは最遠点が何であるかは置いとこう。いずれ明らかにするつもりで…\u003c/p\u003e\n\n\u003cp\u003eそう云う事で\u003ccode\u003ek\u003c/code\u003eの値はこのラインの識別子で、取り敢えず\u003ccode\u003ep\u003c/code\u003eの方は「寄り道レベル」とでも名前を付けちゃって、\u003ccode\u003ek=0\u003c/code\u003eのラインを「スタートライン」、\u003ccode\u003ek=Delta\u003c/code\u003eのラインを「ゴールライン」、全体を纏めて「Ｋライン」と呼ぶ事にしよう。\u003cbr\u003e\nもう一つ、最初に\u003ccode\u003e(0,0)\u003c/code\u003e位置に赤丸を置いて、これを「カレントポジション」って名前を付けましょうか。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/8ddc5fb96256309a0c3859ce1a046abe68329858/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f63303031663332392d356234332d396438372d623033612d6533626437303764623635622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fc001f329-5b43-9d87-b03a-e3bd707db65b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=cef89c9e78c2f314d6bf3fe6ec64daf2\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/136132/c001f329-5b43-9d87-b03a-e3bd707db65b.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fc001f329-5b43-9d87-b03a-e3bd707db65b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=45e413506a0517c1476e91e16cc29489 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\nそこで、既出のルールを改めてここにマッピングすると、やりたい事は次の様になるかな。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e「スタートライン」上の\u003ccode\u003e(0,0)\u003c/code\u003e位置にある「カレントポジション」を、許容コスト内で「ゴールライン」の先端位置\u003ccode\u003e(12,10)\u003c/code\u003eまで持って行きたい\u003c/li\u003e\n\u003cli\u003e許容コスト内でゴールに着けなかった場合は「寄り道レベル」を上げながら上記を繰り返す\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e一応確認までにここで再掲するが、カレントポジションの移動方向についての制約が存在する事と、寄り道レベルに応じて許容されるコストに上限がある事を忘れてはいけない。\u003c/p\u003e\n\n\u003cp\u003eなので、ゴール判定ってのが次の式で表される。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eあくまでコードイメージ\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efp\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eDelta\u003c/span\u003e\u003cspan class=\"p\"\u003e]==\u003c/span\u003e\u003cspan class=\"err\"\u003e文字列１\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e  \u003cspan class=\"err\"\u003eゴール！\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eつまり—\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/2dead053877f6f4ab71e05a3b94c41ad27846b6d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f63323635303739652d613166652d346562322d303731372d6364653731373136346534322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fc265079e-a1fe-4eb2-0717-cde717164e42.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ae2d84343d47a5ba7a38f3ae20a8e69a\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/136132/c265079e-a1fe-4eb2-0717-cde717164e42.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fc265079e-a1fe-4eb2-0717-cde717164e42.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=674be18bc083ae29dcf085b8e5c6887c 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003efp[]表を寄り道レベル毎に評価を繰り返して、最終的にゴールライン上にある\u003ccode\u003efp[Delta]\u003c/code\u003eの値が\u003ccode\u003e文字列１.Length\u003c/code\u003eになった時が終着点って事になる。\u003c/p\u003e\n\n\u003cp\u003eで、最遠点の意味が分かった。各寄り道レベルにおける許容コストで進める\u003ccode\u003ex\u003c/code\u003e方向の最大値だ！\u003cbr\u003e\nって、何だそのままじゃん。\u003cbr\u003e\n\u003cbr\u003e\u003cbr\u003e\nさて、ここからが正念場。\u003cbr\u003e\n\u003ccode\u003efp[]\u003c/code\u003eの値はどうやって導かれるか、だ。\u003cbr\u003e\n上手く説明できるかな…\u003c/p\u003e\n\n\u003cp\u003e寄り道レベル\u003ccode\u003ep\u003c/code\u003eにおける\u003ccode\u003efp[n]\u003c/code\u003eの値は、寄り道レベル\u003ccode\u003ep-1\u003c/code\u003eにおける\u003ccode\u003efp[n-1]\u003c/code\u003eと\u003ccode\u003efp[n+1]\u003c/code\u003eの値から導かれる—\u003cbr\u003e\nってのが、うーさんの云いたい事だ。\u003c/p\u003e\n\n\u003cp\u003e何故ならば、\u003ccode\u003ek=n\u003c/code\u003eのライン上にカレントポジションを移動させるという事は、取り敢えず隣のＫラインから移ってくるしか方法はないからね。（対角線に関しては後述するので、ここでは対角線はない状態だけを考えてください）\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/c523b0ca4d710c45b7d4c7f155c360ca1230a1d5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f63653239616162362d333030342d643862352d656436612d3063616337653635396130332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fce29aab6-3004-d8b5-ed6a-0cac7e659a03.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2a452488dad1abe2ca0eedd6f9d65e7c\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/136132/ce29aab6-3004-d8b5-ed6a-0cac7e659a03.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fce29aab6-3004-d8b5-ed6a-0cac7e659a03.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=280ec321e89e5d1cef2943baa2af4b83 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eカレントポジションの移動制限と考え合わせると、\u003ccode\u003ek=n-1\u003c/code\u003eラインから移ってきたときには\u003ccode\u003ex\u003c/code\u003e方向には１マス分進めるが、\u003ccode\u003ek=n+1\u003c/code\u003eラインから移ってきた場合には\u003ccode\u003ex\u003c/code\u003e方向への進展はない。\u003c/p\u003e\n\n\u003cp\u003eまた、\u003ccode\u003ek=n\u003c/code\u003eラインへの移動が行われるパターンが二つ存在する（\u003ccode\u003ek=n ± 1\u003c/code\u003e）けど、\u003ccode\u003ek=n\u003c/code\u003eの評価としてはそのうちのより値の大きい方を採用すれば良い、と云うのは特に問題ないよね。\u003c/p\u003e\n\n\u003cp\u003eところで、\u003ccode\u003efp[n]\u003c/code\u003eラインを評価した結果、その位置に対角線があったらどうなるだろう？\u003cbr\u003e\n「そりゃぁ思わず脚踏み外して滑り落ちていくよねー」って云うのが\u003ccode\u003eうーさんのSnake関数\u003c/code\u003eだ。（私的には\u003ccode\u003eSlope\u003c/code\u003eとか\u003ccode\u003eSlider\u003c/code\u003eとかそういう名前にしたい所だな）\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/a2c9370e8584c4c1e405cd3b797e37a00d75fc6f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f30633435363965632d376665662d353639612d633534652d3737363339623265363262612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F0c4569ec-7fef-569a-c54e-77639b2e62ba.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=39ed05a2eda0fda5d6b0d3796a934a5d\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/136132/0c4569ec-7fef-569a-c54e-77639b2e62ba.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F0c4569ec-7fef-569a-c54e-77639b2e62ba.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=35784fc0d0fb214e877b2e462cbfca72 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e結果、落ちるところまで落ちた先の\u003ccode\u003ex\u003c/code\u003e値が最終的な評価結果になるって訳。\u003c/p\u003e\n\n\u003cp\u003e上での結果を文章に起こすと—\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003e寄り道レベル\u003ccode\u003ep\u003c/code\u003eにおける\u003ccode\u003efp[n]\u003c/code\u003eは、寄り道レベル\u003ccode\u003ep-1\u003c/code\u003eにおける\u003ccode\u003efp[n-1] + 1\u003c/code\u003eと\u003ccode\u003efp[n+1]\u003c/code\u003eのうち、大きい方の値を\u003ccode\u003eSnake\u003c/code\u003e関数で評価した結果となる\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003e\u003cbr\u003e\u003cbr\u003e\nさて、ここから最後の仕上げ。\u003cbr\u003e\n各々の寄り道レベルにおける\u003ccode\u003efp[]\u003c/code\u003e値を、「具体的に」どうやって算出していくかだ。\u003c/p\u003e\n\n\u003cp\u003e計算のゴールを再確認しておこう。\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003eゴールライン上の\u003ccode\u003efp[Delta]\u003c/code\u003eの値が\u003ccode\u003e文字列１.Length\u003c/code\u003eの値に等しくなったとき\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003eつまり、下の図のピンク色の所を計算で求めよう！\u003cbr\u003e\nってのが目的だな。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/eaf469ad89770e139d971fdf22d6d0e0f1812948/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f33613437393266342d333231662d383664332d323031372d3065653534303537353864372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F3a4792f4-321f-86d3-2017-0ee5405758d7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2b333f8d90c81a32454281d5dc043545\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/136132/3a4792f4-321f-86d3-2017-0ee5405758d7.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F3a4792f4-321f-86d3-2017-0ee5405758d7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=0098e263ebab0821132f2630123e1576 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eで、前述したように、\u003ccode\u003efp[Delta]\u003c/code\u003eの値は\u003ccode\u003efp[Delta ± 1]\u003c/code\u003eから導かれる。\u003cbr\u003e\nこういう事（下図）。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/890a4261fc2f890b975b7d22d8a40b3de1281dec/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f38376334663063642d326136612d613164612d383433322d3863616330653465376236392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F87c4f0cd-2a6a-a1da-8432-8cac0e4e7b69.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=eb192cd9776dbb540f245d7b529b49b8\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/136132/87c4f0cd-2a6a-a1da-8432-8cac0e4e7b69.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F87c4f0cd-2a6a-a1da-8432-8cac0e4e7b69.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=cdbd4a653e641e46254ae5b6c6c47852 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eちゅー事は、\u003ccode\u003efp[Delta]\u003c/code\u003eの値を求める前には、まずは\u003ccode\u003efp[Delta - 1]\u003c/code\u003eの値が判明していなくてはならない。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/2a91a8abea21237c3b03c78152e1c8dbb778cdc0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f66353831653031612d343030662d303436312d356333392d3730323631383734623561322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Ff581e01a-400f-0461-5c39-70261874b5a2.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=66922559292688d9571f795253841eea\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/136132/f581e01a-400f-0461-5c39-70261874b5a2.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Ff581e01a-400f-0461-5c39-70261874b5a2.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=141378f262003161731a2ab2d5d25d6b 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eで、\u003ccode\u003efp[Delta - 1]\u003c/code\u003eの値を求める前には\u003ccode\u003efp[Delta -2]\u003c/code\u003eの値が確定していなくてはならない。\u003ccode\u003efp[Delta - 2]\u003c/code\u003eの値が（以下繰り返し）…\u003c/p\u003e\n\n\u003cp\u003e結局、こういう事。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/7af62638291668cf88a5d4c89bb6fa3e4a6e14d2/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f33393261636531622d373664632d663933622d343933622d3438393262633863643136322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F392ace1b-76dc-f93b-493b-4892bc8cd162.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=286082dddc2800bb91b01f9b8359f344\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/136132/392ace1b-76dc-f93b-493b-4892bc8cd162.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F392ace1b-76dc-f93b-493b-4892bc8cd162.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=a748e13a039f7ad2b484f75bd04b526f 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eだから、\u003ccode\u003efp[-p]\u003c/code\u003eから\u003ccode\u003efp[Delta - 1]\u003c/code\u003eまで\u003ccode\u003efp[]\u003c/code\u003e値を確定させていく。つまりゴールラインに向かって\u003ccode\u003efp[]\u003c/code\u003e値を確定させていく訳ですね。\u003c/p\u003e\n\n\u003cp\u003eゴールラインの右側も同様にゴールラインに向かって確定させていけばいいので、\u003ccode\u003efp[Delta+p]\u003c/code\u003eから始めて\u003ccode\u003efp[Delta + 1]\u003c/code\u003eまで\u003ccode\u003efp[]\u003c/code\u003e値を確定させていく。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/cbb16640db65a9128c19e71d282b6be01bb47c9b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f65316431346664652d656639342d653332632d393833372d3965356138353135326266612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fe1d14fde-ef94-e32c-9837-9e5a85152bfa.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d8b87aca798c31da563e26d78e361b20\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/136132/e1d14fde-ef94-e32c-9837-9e5a85152bfa.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fe1d14fde-ef94-e32c-9837-9e5a85152bfa.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=cfb04b9fb86e341d6a40cbffabb780fa 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eそこまで行って最後のダメ押し、\u003ccode\u003efp[Delta ± 1]\u003c/code\u003eの値を使って\u003ccode\u003efp[Delta]\u003c/code\u003eの値を決定すれば、寄り道レベル\u003ccode\u003ep\u003c/code\u003eにおける\u003ccode\u003efp[]\u003c/code\u003e値が全て確定する。\u003c/p\u003e\n\n\u003cp\u003eこの一連の\u003ccode\u003efp[]\u003c/code\u003e値決定プロセスを繰り返して、\u003ccode\u003efp[Delta]\u003c/code\u003eの値が\u003ccode\u003e文字列１.Length\u003c/code\u003eになれば\u003ccode\u003eComplete\u003c/code\u003e、繰り返した回数が「寄り道レベル\u003ccode\u003ep\u003c/code\u003e」って事だ。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/fc9ed75e9098eec93755b27bff943e37c58e7aff/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f33373631373666632d333866302d666661612d383931642d6433373166633039333561392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F376176fc-38f0-ffaa-891d-d371fc0935a9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=67cee549256d3716098a4ffbf9835126\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/136132/376176fc-38f0-ffaa-891d-d371fc0935a9.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F376176fc-38f0-ffaa-891d-d371fc0935a9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=40271bf8d16de7a26e11926d72a52cea 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n\u003cbr\u003e\u003cbr\u003e\nふー、長かったけど達成感\u003cimg alt=\":thumbsup:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f44d.png\" title=\":thumbsup:\" width=\"20\" loading=\"lazy\"\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"憂鬱のタネ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%86%82%E9%AC%B1%E3%81%AE%E3%82%BF%E3%83%8D\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e憂鬱のタネ\u003c/h1\u003e\n\n\u003cp\u003eよしっ、じゃぁ早速文字列の差分を計算してみよう！\u003cbr\u003e\nって、あれ？\u003c/p\u003e\n\n\u003cp\u003e今まで解き明かしてきた方法で分かったのは、寄り道レベルだけだぞ。\u003cbr\u003e\n上の例では寄り道レベル\u003ccode\u003ep=2\u003c/code\u003eだったので、文字列変換をするのに\u003ccode\u003ep * 2 + Delta = 6 回\u003c/code\u003eの１文字削除・１文字挿入が必要になるよー、ってのが判明しただけ。\u003c/p\u003e\n\n\u003cp\u003eうん、識者の方々も変換手順を実装するには、それ用のコードが必要だと仰っておられる。ルート探索に一番メモリが必要だとも言っている。\u003cbr\u003e\nうーん…\u003c/p\u003e\n\n\u003cp\u003eと云うのが、第一のタネ。\u003cbr\u003e\n\u003cbr\u003e\u003cbr\u003e\nま、それはちょこっと横に置いといて、力技でルート探索しましたよ。ただ余りにも力技過ぎて恥ずかしいのでソース掲載は控えたい。\u003c/p\u003e\n\n\u003cp\u003eで、ルートを結んで出てきたのが下図。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/1066e9abb5a5f43b55b11ed9f80c1a667c18f80e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f31346435303530302d363937642d393266392d396136312d3865616538666666653764382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F14d50500-697d-92f9-9a61-8eae8fffe7d8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=6c446c11658293d26e74f5cd85eee978\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/136132/14d50500-697d-92f9-9a61-8eae8fffe7d8.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F14d50500-697d-92f9-9a61-8eae8fffe7d8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=b9865e11b9f34db5b3c031840c9d4796 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e違和感満載…\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/5d3ac2fc1f0ddc0c83953cae4e3d0f9cee6ff548/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f63663839393639352d653530362d353066382d356132632d6632333365383437376334372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fcf899695-e506-50f8-5a2c-f233e8477c47.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4c678b992c075db664dae9d55287acfa\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/136132/cf899695-e506-50f8-5a2c-f233e8477c47.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fcf899695-e506-50f8-5a2c-f233e8477c47.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=5dd9aef8b5471ccfb744099ff64e91e4 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eなんで、最後の３文字セットを採用しないかなぁ…\u003cbr\u003e\n人間の感覚には合わないよね。\u003c/p\u003e\n\n\u003cp\u003e所詮、LCSを求めるための数学的アルゴリズムであって、自然なルートを探索するアルゴリズムではない…\u003cbr\u003e\nんだろうなと激しく思った。\u003c/p\u003e\n\n\u003cp\u003eと云うのが、第二のタネ。\u003cbr\u003e\n\u003cbr\u003e\u003cbr\u003e\nそんじゃ、うーさんアルゴリズムを改良して、上記悩みを解決しよう！\u003cbr\u003e\nって意気込んではみたものの、それ無理ですから。\u003c/p\u003e\n\n\u003cp\u003e結局、\u003ccode\u003eうーさんのSnake関数\u003c/code\u003eの呪いですね。だって坂道踏んだら必ず滑りこけてしまうんだもん。その先にもっと良い手があるかも知れない、何てTry\u0026amp;Errorしてたら、折角の綺麗なアルゴリズムが台無しになってしまう。\u003cbr\u003e\n\u003cbr\u003e\u003cbr\u003e\n早い話が、うーさんのアルゴリズムはLCS求める以外には使い出がない、って事になるんですかねぇ…\u003cbr\u003e\n全探索をする訳でもなく最小の手数だけで答えを探索しているからね。\u003cbr\u003e\n綺麗なアルゴリズムなんだけどなー\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"対策\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AF%BE%E7%AD%96\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e対策\u003c/h1\u003e\n\n\u003cp\u003eそこで、私は考えた…\u003cbr\u003e\nこれは虱潰すしかないな。（安直）\u003c/p\u003e\n\n\u003cp\u003eしかし、虱潰すっても効率の良い潰し方がある筈。\u003cbr\u003e\nうむうむ、折角うーさんが良い表を作ってくれてるし、あれを利用しない手はないよ。\u003c/p\u003e\n\n\u003cp\u003e方針としては、うーさんのアルゴリズムでは思わぬ伏兵であった「スライダー」。あの一覧を作って、その総当たりって事で如何でしょう？\u003c/p\u003e\n\n\u003cp\u003e対象としては、マス一辺ずつ相手にするより遥かに少ないよね。\u003cbr\u003e\nしかも、連続する対角線はそれを１スライダーとして扱う、となると横入りはなくなるので、人間っぽいルートが常に提示される筈。\u003c/p\u003e\n\n\u003cp\u003eつまり、抜き出したスライダー全てに対して総当たりを行って、例えば下図の様な順番でスライダーが選ばれたとしたらその間を横・縦のマス移動で補完することにより、全体のルートを確定させるという寸法だ。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/c960195cd2b3430230a16882a43a9cc6acc26837/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f32613633306230322d646664642d363933332d393466382d3638396166326231393461312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F2a630b02-dfdd-6933-94f8-689af2b194a1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b1bcefab7b839e8c5a2999d9322c4315\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/136132/2a630b02-dfdd-6933-94f8-689af2b194a1.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F2a630b02-dfdd-6933-94f8-689af2b194a1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=77b844333076dec5b18e156c488befc5 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eでも、これだけではまだ効率が悪い。ここでうーさんのアイディアを\u003cdel\u003eパクっ\u003c/del\u003e参考にさせて頂いて、更に探索対象を絞っていこう。勿論ここで採用すべき考え方は「寄り道レベル」だ。\u003cbr\u003e\nつまり、寄り道レベル\u003ccode\u003ep=0\u003c/code\u003eなら、この黄色い範囲のスライダーのみ対象とする。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/8a85bef59bd08402cbcc264ddc5718f1e8048469/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f34626363626466342d636466662d613166622d333134332d3833626638653036636564652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F4bccbdf4-cdff-a1fb-3143-83bf8e06cede.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=20ff320809b254c4947a22809bffd18e\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/136132/4bccbdf4-cdff-a1fb-3143-83bf8e06cede.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F4bccbdf4-cdff-a1fb-3143-83bf8e06cede.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=d7243384d749cf3ef3360ac0e6321acc 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e寄り道レベル\u003ccode\u003ep=1\u003c/code\u003eならば、上下に一マスずつ拡張したこの色付きの部分に含まれるスライダーのみ対象とする…\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/592fffe7b5dc404a802f67990045d2b5da9ff9a7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f39366638363539332d386133362d356336352d633231612d3136646339343632353132372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F96f86593-8a36-5c65-c21a-16dc94625127.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=30f09fa778f487e693492c7d21885708\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/136132/96f86593-8a36-5c65-c21a-16dc94625127.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F96f86593-8a36-5c65-c21a-16dc94625127.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=6ea71ff2b6a61a8feee42eb985f84108 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eってな感じでね。\u003cbr\u003e\n見るからに対象が絞られる感満載でしょ？\u003c/p\u003e\n\n\u003cp\u003eでもまだまだ。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/ad803a8b166dc76d71ddcc83e1f51c258a4f7546/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f34326434656164322d663230652d373666392d386531312d3461343533363634336238632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F42d4ead2-f20e-76f9-8e11-4a4536643b8c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=f13e36da22ddf1972b8c9485d99d3252\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/136132/42d4ead2-f20e-76f9-8e11-4a4536643b8c.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F42d4ead2-f20e-76f9-8e11-4a4536643b8c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=49b3ad7e8fbe120e2ee5773e8e036d73 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e進行方向に向かって、９０度の範囲にあるスライダーだけを対象にすれば事足りる。\u003cbr\u003e\nこれに先の寄り道レベルが組み合わされる訳で、ぐぐっと対象が絞られる。\u003c/p\u003e\n\n\u003cp\u003eもう一つ言うと、それぞれのスライダーが選ばれる毎に許容されるコストが消費されるので、コストが底を尽きたタイミングで探索を中断する事も有効な対策であるし、残りコストから許容コストを動的に絞る事も可能だ。\u003c/p\u003e\n\n\u003cp\u003eあー、感覚的過ぎる…\u003cbr\u003e\nつまり、寄り道レベル\u003ccode\u003ep=0\u003c/code\u003eの場合許容されるコストは\u003ccode\u003eDelta\u003c/code\u003eだけだから、下図の①の様にいきなりコスト\u003ccode\u003eDelta\u003c/code\u003eを使い切ってしまった場合は、青線で示されるように、ゴールに向かって滑り落ちていくルートしか残されていない。この（①のコストを使い切った）時点で黄色い許容範囲は青い線上に収束してしまう、と言える訳だ。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/1080abb6046a06a877c9fc7a8610f6e0f79041ad/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f30663337623664322d313962372d316333382d666231642d6264306131303633613731622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F0f37b6d2-19b7-1c38-fb1d-bd0a1063a71b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b9a47bbffaa8ea9618770c3a925d3e22\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/136132/0f37b6d2-19b7-1c38-fb1d-bd0a1063a71b.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F0f37b6d2-19b7-1c38-fb1d-bd0a1063a71b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=1806c40a46a050aab192cd39b0602926 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eこの手順の全体的なイメージを表現すると、下図の様に探索範囲が狭められていく筈（なんだろう）。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/9f898ebe674fd2f387213de3fdb2c4208c2965af/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f64633662386364392d356235642d386365652d356665362d3637343766323231336133322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fdc6b8cd9-5b5d-8cee-5fe6-6747f2213a32.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=be3ccc50d21693a2e1ba643682e84370\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/136132/dc6b8cd9-5b5d-8cee-5fe6-6747f2213a32.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fdc6b8cd9-5b5d-8cee-5fe6-6747f2213a32.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=b0276afe25122887028a35f895f887da 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003cbr\u003e\u003cbr\u003e\nところでこれ以上話を進める前に、横入りナシと云う制限を設けても横入りアリよりコストが掛かるケースが存在しない事を保証しなければならない。そこをここで確認しておこう。\u003c/p\u003e\n\n\u003cp\u003eとか言いながら実は、こんな文字列だったら…\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/0ea164520940615318a5908e0f956c83e3a3cb66/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3133363133322f38356438623730372d663930662d333139352d303739612d3134653162616530313533652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F85d8b707-f90f-3195-079a-14e1bae0153e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=77a98061f5cc5e1a1e90639b0a254241\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/136132/85d8b707-f90f-3195-079a-14e1bae0153e.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2F85d8b707-f90f-3195-079a-14e1bae0153e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=b664855b54e0d6c06240a7e62962bca5 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e今更だけど、横入りしないと最小コストでゴールできないなぁ…\u003c/p\u003e\n\n\u003cp\u003eこれは困った。\u003cbr\u003e\n「最小コスト」ってのと「イイ感じの手順」ってのが両立しないぞ。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"方針\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%96%B9%E9%87%9D\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e方針\u003c/h1\u003e\n\n\u003cp\u003eま、それはそれとして色々出揃ったので、今後の方針を纏めてみよう。\u003c/p\u003e\n\n\u003cp\u003e「最小コスト」と「イイ感じ」が両立しないのであれば、解法も二階層にならざるを得ない。\u003c/p\u003e\n\n\u003cp\u003e色んな二階層があると思うんですが—\u003cbr\u003e\nんんんー、今回は次の手法で行きましょう。\u003c/p\u003e\n\n\u003col\u003e\n\u003cli\u003e寄り道レベルが最小のルート全てを求める（横入りアリ）\u003c/li\u003e\n\u003cli\u003e「イイ感じ度」を数値化、其々のルートを評価して一番イイ感じのルートを一つ選び出す\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cp\u003eナイスっ！\u003c/p\u003e\n\n\u003cp\u003e全ルートを求めるのは、スライダーの総当たり作戦で。\u003cbr\u003e\nイイ感じ度は以下の様にして図れば良いかな。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eSES上の要素長さの自乗和を計算、でかい方が勝ち\u003cbr\u003e\nSES上では連続する文字削除・文字挿入が其々一纏めに表現されているとする\u003c/li\u003e\n\u003cli\u003eま、それでも同率首位ってのはあるだろうから、そこは先着順ででも\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"実装\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装\u003c/h1\u003e\n\n\u003cp\u003eまずはメイン部分から。\u003cbr\u003e\nこんな感じで書くと結果が表示されると云う寸法。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eProgram.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Collections.Generic\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Linq\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eProgram\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eforeach\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eStringDiff\u003c/span\u003e \u003cspan class=\"n\"\u003ediff\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"nf\"\u003eGetDifference\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"acebdabbabed\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"acbdeacbed\"\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eOrderByDescending\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003es\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003es\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSimilarity\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"---{0:0.00000}---\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ediff\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSimilarity\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eforeach\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003einfo\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003ediff\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eItems\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einfo\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eうーさんのサンプル文字列の比較では、以下の４パターンが導き出された。\u003cbr\u003e\n何れも6文字分の寄り道をしているので、寄り道レベルは2って事で先の例と一致。\u003cbr\u003e\n類似度に関しては絶対値だと良く分からないので、相対比較ができるように0.0～1.0の範囲での評価結果を得られるように調整してみた。（適当ですけど）\u003cbr\u003e\n先で気になった点に関して云えば、期待通り3文字削除の方が評価結果が高いという事に落ち着いて一先ずは意図した通りの動きをしているんだろうなぁ、という感想。\u003cbr\u003e\n気に入った点は、比較対象と被比較対象の文字列の長さの制約がない処。ま、総当たりで探索しているからね、当たり前っちゃ当たり前。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e結果\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e---0.43125---\n  ac\n- e\n  bd\n- abb\n+ e\n  a\n+ c\n  bed\n\n---0.43125---\n  ac\n- e\n  bd\n+ e\n  a\n- bba\n+ c\n  bed\n\n---0.41042---\n  ac\n- e\n  bd\n+ e\n  a\n+ c\n  b\n- bab\n  ed\n\n---0.33542---\n  ac\n- e\n  bd\n+ e\n  a\n- b\n+ c\n  b\n- ab\n  ed\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eそれでは、以下細かい処へ…\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eProgram.cs(続き)\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eProgram\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"err\"\u003e：（既出の\u003c/span\u003e\u003cspan class=\"nf\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"err\"\u003e）\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e//    globalな変数（う～ん）\u003c/span\u003e\n    \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"n\"\u003eList\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eSlider\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eSliderList\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eList\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eSlider\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;();\u003c/span\u003e\n    \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"n\"\u003eStack\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eSlider\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003estack\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eStack\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eSlider\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;();\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// 文字列の差分情報を１セットずつ返す\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"strX\"\u0026gt;比較対象文字列１\u0026lt;/param\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"strY\"\u0026gt;比較対象文字列２\u0026lt;/param\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;returns\u0026gt;文字列差分情報\u0026lt;/returns\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"n\"\u003eIEnumerable\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eStringDiff\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nf\"\u003eGetDifference\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003estrX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003estrY\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003edelta\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAbs\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrX\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003estrY\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eminlen\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eMin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrX\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003estrY\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e//************************\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e//  Sliderを洗い出す\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e//************************\u003c/span\u003e\n\n        \u003cspan class=\"n\"\u003eSliderList\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eList\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eSlider\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;();\u003c/span\u003e\n\n        \u003cspan class=\"n\"\u003eSliderList\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eSlider\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eLocation\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eOrigin\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eLocation\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eOrigin\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n        \u003cspan class=\"k\"\u003efor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003estrY\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e++)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003efor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003estrX\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e++)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrX\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"n\"\u003estrY\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e \u003cspan class=\"k\"\u003econtinue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003estrX\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"n\"\u003estrY\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e \u003cspan class=\"k\"\u003econtinue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n                \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003edx\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003edy\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eLocation\u003c/span\u003e \u003cspan class=\"n\"\u003esLoc\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eLocation\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edx\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003edy\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ewhile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edx\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003estrX\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003edy\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003estrY\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003estrX\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003edx\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"n\"\u003estrY\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003edy\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"n\"\u003edx\u003c/span\u003e\u003cspan class=\"p\"\u003e++;\u003c/span\u003e \u003cspan class=\"n\"\u003edy\u003c/span\u003e\u003cspan class=\"p\"\u003e++;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eLocation\u003c/span\u003e \u003cspan class=\"n\"\u003eeLoc\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eLocation\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edx\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003edy\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n                \u003cspan class=\"n\"\u003eSliderList\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eSlider\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eeLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"n\"\u003eSliderList\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eReverse\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e//************************\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e//  総当たりを仕掛ける\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e//************************\u003c/span\u003e\n\n        \u003cspan class=\"n\"\u003eLocation\u003c/span\u003e \u003cspan class=\"n\"\u003eGoal\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eLocation\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrX\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003estrY\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"k\"\u003efor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;=\u003c/span\u003e \u003cspan class=\"n\"\u003eminlen\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e++)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eforeach\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eSlider\u003c/span\u003e \u003cspan class=\"n\"\u003eslider\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"nf\"\u003eGetSlider\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eSlider\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eGoal\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eGoal\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"n\"\u003edelta\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ep\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eStringDiff\u003c/span\u003e \u003cspan class=\"n\"\u003eDiff\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eStringDiff\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eLocation\u003c/span\u003e \u003cspan class=\"n\"\u003elast\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eLocation\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eforeach\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eSlider\u003c/span\u003e \u003cspan class=\"n\"\u003ecurr\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003estack\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003edel\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ecurr\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStartLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003elast\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"k\"\u003eadd\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ecurr\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStartLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003elast\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003esty\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ecurr\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEndLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ecurr\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStartLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n                    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elast\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ecurr\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStartLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"n\"\u003elast\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ecurr\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStartLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                        \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"n\"\u003elast\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003elast\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecurr\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStartLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ecurr\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStartLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                            \u003cspan class=\"n\"\u003edel\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecurr\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStartLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ecurr\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStartLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elast\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003elast\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                            \u003cspan class=\"k\"\u003eadd\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                            \u003cspan class=\"n\"\u003esty\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ecurr\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEndLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003elast\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003edel\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                        \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003eelse\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                            \u003cspan class=\"n\"\u003edel\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                            \u003cspan class=\"k\"\u003eadd\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elast\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003elast\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecurr\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStartLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003ecurr\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStartLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                            \u003cspan class=\"n\"\u003esty\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ecurr\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEndLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003elast\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"k\"\u003eadd\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n                    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edel\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"n\"\u003eDiff\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eDeleteString\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrX\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSubstring\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elast\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003edel\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003eadd\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"n\"\u003eDiff\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eInsertString\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrY\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSubstring\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elast\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eadd\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esty\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"n\"\u003eDiff\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAsItIsString\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrX\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSubstring\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecurr\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEndLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003esty\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003esty\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n\n                    \u003cspan class=\"n\"\u003elast\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ecurr\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEndLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ep\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eminlen\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eDiff\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// 次に進めるスライダを洗い出す\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// 候補スライダを返す度にルートスタックを更新する\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"slider\"\u0026gt;カレントスライダ\u0026lt;/param\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;param name=\"distance\"\u0026gt;ゴールまでに残された距離\u0026lt;/param\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e/// \u0026lt;returns\u0026gt;次に進んでも良いスライダ\u0026lt;/returns\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"n\"\u003eIEnumerable\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eSlider\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nf\"\u003eGetSlider\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eSlider\u003c/span\u003e \u003cspan class=\"n\"\u003eslider\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003edistance\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edistance\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"k\"\u003ebreak\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n        \u003cspan class=\"n\"\u003estack\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePush\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eslider\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eslider\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEndLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eIsOrigin\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eslider\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n        \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003edelta\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAbs\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrX\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003estrY\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eforeach\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eSlider\u003c/span\u003e \u003cspan class=\"n\"\u003elocs\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eSliderList\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(!\u003c/span\u003e\u003cspan class=\"n\"\u003eslider\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eEquals\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elocs\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003eslider\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEndLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;=\u003c/span\u003e \u003cspan class=\"n\"\u003elocs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEndLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003eslider\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEndLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;=\u003c/span\u003e \u003cspan class=\"n\"\u003elocs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEndLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eslider\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStartLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eEquals\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eslider\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEndLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eslider\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEndLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"n\"\u003elocs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEndLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003eslider\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEndLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"n\"\u003elocs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEndLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"n\"\u003elocs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStartLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edistance\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCeiling\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edelta\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e2F\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;=\u003c/span\u003e \u003cspan class=\"n\"\u003elocs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStartLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elocs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStartLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edistance\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCeiling\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edelta\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e2F\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;=\u003c/span\u003e \u003cspan class=\"n\"\u003elocs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStartLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n                        \u003cspan class=\"k\"\u003eforeach\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eSlider\u003c/span\u003e \u003cspan class=\"n\"\u003eslope\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"nf\"\u003eGetSlider\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elocs\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003edistance\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eslider\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStartLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eDistance\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elocs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEndLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n                            \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eslope\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"n\"\u003estack\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePop\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eサポートクラス\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eLocation\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003eLocation\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003eLocation\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"n\"\u003eLocation\u003c/span\u003e \u003cspan class=\"n\"\u003eOrigin\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eLocation\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"n\"\u003eIsOrigin\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eEquals\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eOrigin\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"nf\"\u003eDistance\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eLocation\u003c/span\u003e \u003cspan class=\"n\"\u003eloc\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eloc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003eloc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAbs\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eloc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAbs\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eloc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAbs\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eloc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eloc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eSlider\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003eSlider\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eLocation\u003c/span\u003e \u003cspan class=\"n\"\u003esLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eLocation\u003c/span\u003e \u003cspan class=\"n\"\u003eeLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStartLoc\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEndLoc\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eeLoc\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eLocation\u003c/span\u003e \u003cspan class=\"n\"\u003eStartLoc\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eLocation\u003c/span\u003e \u003cspan class=\"n\"\u003eEndLoc\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eStringDiff\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eList\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eOperation\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003eStringDiff\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eClear\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eClear\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eOperation\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eList\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;();\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eDeleteString\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eSubstring\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eOperation\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"- \"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eSubstring\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eInsertString\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eSubstring\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eOperation\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"+ \"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eSubstring\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eAsItIsString\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eSubstring\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eOperation\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"  \"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eSubstring\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eIEnumerable\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eItems\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eget\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eforeach\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eitem\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eOperation\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eitem\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eSimilarity\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eget\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003erdel\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003eRatio\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"- \"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e0.9\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ecdel\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSign\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003erdel\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003eradd\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003eRatio\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"+ \"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e0.9\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ecadd\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSign\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eradd\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003ersty\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003eRatio\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"  \"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"m\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ecsty\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSign\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ersty\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003erdel\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eradd\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ersty\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecdel\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ecadd\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"nf\"\u003eRatio\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003elen\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eOperation\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWhere\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003es\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003es\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eStartsWith\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e)).\u003c/span\u003e\u003cspan class=\"nf\"\u003eSum\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003es\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003es\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003edouble\u003c/span\u003e \u003cspan class=\"n\"\u003esum\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eOperation\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWhere\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003es\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003es\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eStartsWith\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e)).\u003c/span\u003e\u003cspan class=\"nf\"\u003eSum\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003es\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003es\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003elen\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e \u003cspan class=\"p\"\u003e?\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003esum\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elen\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e尚、類似度最大の候補を一つだけ受け取ればよい場合は、\u003ccode\u003eMain()\u003c/code\u003eを以下の様にすれば良い。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eStringDiff\u003c/span\u003e \u003cspan class=\"n\"\u003ediff\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003eGetDifference\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrX\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003estrY\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eOrderByDescending\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003es\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003es\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSimilarity\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eTake\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eToArray\u003c/span\u003e\u003cspan class=\"p\"\u003e()[\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"---{0:0.00000}---\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ediff\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSimilarity\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eforeach\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003einfo\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003ediff\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eItems\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einfo\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"結\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B5%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e結\u003c/h1\u003e\n\n\u003cp\u003eん～～～\u003cbr\u003e\nやっぱり力ずくはイマイチ美しさが足りないかなぁ…\u003cbr\u003e\nそして、色んな意味で分かり難くて申し訳ない。\u003c/p\u003e\n\n\u003cp\u003eタイトルに関していえば、ただ単に「う」を一杯使ってみたい衝動に抗えなかったのです…\u003c/p\u003e\n","createdAt":"2016-11-04T16:18:48Z","elapsedYearsFromLastModifiedAt":4,"encryptedId":"DNbOws5dhytEnAVULCQszRaT6DIV8tAP--pEwg6adjA1HHN5Uh--9+w/dtxfyJK98BZrWFenUw==","isBanned":false,"isDeprecated":true,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2016-11-06T03:07:04Z","likesCount":4,"linkUrl":"https://qiita.com/Toraja/items/70ee79148ed089cee377","organization":null,"originalId":435725,"stockedCount":4,"title":"うぅさんのゆううつ","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%BA%8F\"\u003e序\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E4%BA%88%E7%BF%92\"\u003e予習\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%A2%BA%E8%AA%8D\"\u003e確認\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%87%AA%E7%BF%92\"\u003e自習\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%86%82%E9%AC%B1%E3%81%AE%E3%82%BF%E3%83%8D\"\u003e憂鬱のタネ\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%AF%BE%E7%AD%96\"\u003e対策\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%96%B9%E9%87%9D\"\u003e方針\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%AE%9F%E8%A3%85\"\u003e実装\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%B5%90\"\u003e結\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","totalPv":1236,"uuid":"70ee79148ed089cee377","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"P4ZE7XzIkzwH0mO3y0rIC2vbY9OU--M3F1msngr5KPD4uy--FyiNzWhLjKUWKQ0f8L2vmg==","originalId":136132,"description":"","facebookUrl":null,"githubUrl":null,"isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"","profileImageUrl":"https://qiita-image-store.s3.amazonaws.com/0/136132/profile-images/1473719854","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fprofile-images%2F1473719854?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=3162a0f26a44c47aca4d462da23befe7","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F136132%2Fprofile-images%2F1473719854?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=3fe263c37ec3e9f024bc324e2d3d09a7","urlName":"Toraja","websiteUrl":null,"twitterUrl":null,"twitterUrlName":null,"revealedOrganizations":{"edges":[]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"アルゴリズム","urlName":"%e3%82%a2%e3%83%ab%e3%82%b4%e3%83%aa%e3%82%ba%e3%83%a0"},{"name":"diff","urlName":"diff"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
