More than 1 year has passed since last update.デスクトップアプリケーションで、画面の入力値や、状態を全て復元したい場面があるかと思います。
そんな時、Infragistics社製のPersistence Frameworkは、とても柔軟に保存および復元が可能です。
Persistence Frameworkは、各コントロール型毎に保存対象のプロパティを設定できたり、グループ化してまとめて処理したり等、柔軟に保存/読込を行う事が可能です。もちろん、WPF標準のコントロールだけではなく、カスタムコントロールのプロパティも自在に保存、復元(読込)ができます。サンプルアプリケーションを用意しました。
デフォルトのコントロールを配置し、保存ボタンで入力値を保存、読込ボタンで保存時の状態を復元します。
GitHub
https://github.com/furugen/wpf-samples-persistence保存対象のコントロールをグループ(PersistenceGroup)として登録することでグループ単位で処理が可能となり、後続でまとめての処理が行いやすいのため、まずはグループ登録します。上記のようにグループ化してあげれば、グループ単位での保存、読込が可能となります。コントロールの型毎に保存対象のプロパティを設定しています。たとえば、TextBoxであれば、Textプロパティを対象にしています。このように対象のコントロール毎に柔軟にプロパティの設定ができるので、標準コントロールだけではなく、カスタムコントロールなどの指定も簡単にできます。また、今回は入力値を保存対象プロパティに指定してますが、Width,Heightといった外観に関わるプロパティも指定可能です。グループ化している状態であれば、PersistenceGroupと保存内容のMemortyStreamをPersistenceManagerに渡してあげればOK。今回はStreamでの取り扱いでしたが、XML形式での保存も対応しています。入力値の保存や復元を簡単にするPersistence Frameworkの紹介でしたが如何でしょうか。
柔軟に様々なコントロールの保存や読込に対応。データベースだけではなく、ローカルファイルへの保存もできますのでデータベースでの管理までは必要ないけど、ユーザーの登録値は保存したい！という場面などにもご利用いただけます！


