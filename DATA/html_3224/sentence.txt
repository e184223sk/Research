More than 1 year has passed since last update.Unity 2019.1.0f2
Photon Unity Network(バージョン1.97)端的に説明すると、ルーム内で共有できるハッシュテーブルです。(注：ハッシュテーブルとはC#で言うDictionaryのこと)【ExitGames.Client.Photon】とネームスペースから記述しているのはC#にもともとあるHashtableと区別するためです。次にSetRoomProperty関数ですが、これはまぁそのままですね。このHashtableはDictionaryクラスをまんま継承しているので使い方はDictionaryとなにも変わりません。唯一目新しいのはこの部分でしょうかここでPhotonの機能を使っています。ローカルで中身を変更したHashtableを現在自分がいるルームに送信しています。最後にOnPhotonCustomRoomPropertiesChanged関数です。この関数はPhotonが用意している関数でコメントの通り戻り値の型、関数名、引数を一致させると呼ばれます。Unityのスクリプティングランタイムとはまた少し違った仕組みなのですが、見た目上は完全に同じようなものです呼ばれるタイミングはルームに新しくハッシュが送信された時です。以下、流れです。
ルームプロパティはルームに設定するプロパティなので、ルームに入ってからセットしないとエラーが出ます。またPhotonのターンを制御する機能としてPunTurnManagerがありますが、その制御方法にルームプロパティを使っているので新しく値をルームプロパティに設定しようとするとPunTurnManagerクラスを拡張する必要が出てきます。(これは公式のリファレンスにもちょろっと書いてあったと思います)
値を新しく設定する必要があるのであれば独自でターン制御を作ったほうが手っ取り早いかもしれません。毎回プロパティを使うたびに長い関数を書くのは正直しんどいのでラッパークラスを作ることをおすすめします。一応例を載せさせていただきます。以下それぞれの関数の使い方をまとめました良ければお使いください。【Unity】僕もPhotonを使いたい #11 カスタムプロパティ


