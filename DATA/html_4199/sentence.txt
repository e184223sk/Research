More than 1 year has passed since last update.「シクシク素数列 Advent Calendar 2018」の16日目の記事になります。問題詳細は当該アドベントカレンダーのページを参照していただくとして、ごく簡単にまとめておくと「100以下の自然数nが与えられたとき、n番目までの"シクシク素数"を求めて、カンマ区切りで出力しなさい」というものになります。なお"シクシク素数"とは数値として4または9を含む素数を指します。本記事ではこの"シクシク素数"問題をC#で解答しています。解答コードは次の通りです。シンプルな問題なので解答方法はいろいろあると思いますが、今回は次のような方針を採用してみます:「素数列から4949性を満たすものをフィルタリングする」。まず素数列の生成ですが、今回はいわゆるエラトステネスのふるいを利用することにしました。エラトステネスのふるいは素数判定法のひとつで、指定された整数以下の素数を単純かつ効率的に求めることができ、プログラミングの教材にもよく利用されます。「指定された整数以下の素数を求める」という記述を見ると、今回のように「無限に素数を作りたい」という要件にマッチしないようにも思えますが、工夫次第ではなんとでもなり、それを実装したものがPrimesメソッドになります。4949性を満たすかどうか--すなわち与えられた整数が数値として4または9を含むかの判定を行っているのがメソッドHasFourOrNineで、除法をうまく利用して整数xを各桁ごとにばらしています。


