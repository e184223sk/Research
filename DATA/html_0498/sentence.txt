C#初学者用記事をいろいろ書き込んでる最中ですが、自分の為の備忘録。WPFのTreeViewにXMLデータをそのまま流し込む方法として、XDocumentを適用する方法はいくつか見つかったものの、XElementを元データとしてBindingする方法がなかなか見つからなかったのでメモ
# そんなニッチなことするやつあんまいないのか上記参考記事と同様に、気象庁のサンプルデータを使わせてもらうことにする
気象庁防災情報XMLフォーマット　技術資料基本的には上記参考ページと同じ内容となるので、諸々割愛しつつ、ソースコードを貼るxamlは以下の通り。
※注意 デフォルトの"MainWindow"という名前から"MainView"という名前に変えている主に説明しておくべきところとしてはコメントにも書いてるが、XAMLに記載している"XTreeRoot"というプロパティのみがViewModel側とバインドされるもので、それより下階層のBinding要素はXElementオブジェクトにバインドされている
HierarchicalDataTemplate下のStackPanelやTriggersに関しては、完全に個人的な趣向で書いているので自由にカスタマイズ可能ViewModelの前にXAttributeをバインドする為のConverterを書いておくConvertではXElementオブジェクトのIEnumerableを返すように書いている。今回の例ではXMLの内容は更新しないのでTreeViewはOneWay（Source→Viewの方向のみ）としている
なのでConvertBackは使用しないのでNotImplementedExceptionとしておく。これで次のような画面が表示される
デフォルトではツリーは全て閉じた状態で始まる為、もし最初から開いた状態にしておきたい場合、
最初に挙げた参考記事を参照方読み込んでいるファイルは適当に選んでいる（大きすぎず、小さすぎないくらいのファイル）
XAMLのコメントにも書いたが、以下2点が肝要。（自分が詰まったので）
* バインドするのはIEnumerable
* XAttributeはバインドサポート外なのでconverter使う


