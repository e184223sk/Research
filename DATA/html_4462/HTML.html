<!DOCTYPE html><html><head><meta charset="utf-8" /><title>プログラマーを惑わせる３種類の委譲(委譲・Delegation／転送・Forwarding／.NET Delegates) - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/jesus_isao/items/4b6b7846ccf5eb46b1bc" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="JR4+qcddR9CgP8jnXyd8igmml1g0rqJuNRNQobTD315F8KFbgpw9aFqB3rIYrkLr2uGyVkY8Gp76shVNMa5MCg==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta content="@jesus_isao" name="twitter:creator" /><meta property="og:type" content="article"><meta property="og:title" content="プログラマーを惑わせる３種類の委譲(委譲・Delegation／転送・Forwarding／.NET Delegates) - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND00NE9YNDRPdDQ0S3c0NE9wNDRPZTQ0Tzg0NEtTNW9PUjQ0S1A0NEdiNDRLTDc3eVQ1Nml1NmFHZTQ0R3U1YWVVNksyeUtPV25sT2l0c3VPRHUwUmxiR1ZuWVhScGIyN3Z2SV9vdTZMcGdJSGpnN3RHYjNKM1lYSmthVzVuNzd5UExrNUZWQ0JFWld4bFoyRjBaWE1wJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NTQmdHh0LWNsaXA9ZWxsaXBzaXMmdHh0LWFsaWduPWNlbnRlciUyQ21pZGRsZSZzPTQwNjk4ODQwMTFjNGZmZmZhZGYwYzExNmI2NjAyZGY2&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RR3BsYzNWelgybHpZVzgmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT00NSZ0eHQtYWxpZ249cmlnaHQlMkNib3R0b20mcz1jYzllZjkzOWE4NGMwYWUwNDc4NmQ3YWYxMzJjYTQ0NA&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=9b9c1d701d56cb49eff1147891e3e337"><meta property="og:description" content="

委譲チョットデキル人向けの要約

「委譲」や「デリゲート」が指すものはプログラマーによって違うことがある。
少なくとも下記３パターンあってマジ初見殺しだよねって話です。


Forwarding（転送）のこと。GoFがDelega..."><meta content="https://qiita.com/jesus_isao/items/4b6b7846ccf5eb46b1bc" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="JavaScript,C#,Delegate,デザインパターン,委譲" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 1nzh4zz 38fzdi helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-1nzh4zz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 32px;background-color:#FBE69E;color:rgba(0,0,0,0.87);line-height:1.5;font-weight:600;}@media (max-width:770px){.css-1nzh4zz{padding:16px;}}.css-38fzdi{color:#CA832A;margin-right:4px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-ce6e5a47-bdbc-41d7-8a9a-7ffcc961a564"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2Fjesus_isao%2Fitems%2F4b6b7846ccf5eb46b1bc">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2Fjesus_isao%2Fitems%2F4b6b7846ccf5eb46b1bc">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-ce6e5a47-bdbc-41d7-8a9a-7ffcc961a564">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/javascript","name":"JavaScript"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2018-10-28T22:30:50.000+09:00","dateModified":"2019-12-19T15:55:41.000+09:00","headline":"プログラマーを惑わせる３種類の委譲(委譲・Delegation／転送・Forwarding／.NET Delegates)","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND00NE9YNDRPdDQ0S3c0NE9wNDRPZTQ0Tzg0NEtTNW9PUjQ0S1A0NEdiNDRLTDc3eVQ1Nml1NmFHZTQ0R3U1YWVVNksyeUtPV25sT2l0c3VPRHUwUmxiR1ZuWVhScGIyN3Z2SV9vdTZMcGdJSGpnN3RHYjNKM1lYSmthVzVuNzd5UExrNUZWQ0JFWld4bFoyRjBaWE1wJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NTQmdHh0LWNsaXA9ZWxsaXBzaXMmdHh0LWFsaWduPWNlbnRlciUyQ21pZGRsZSZzPTQwNjk4ODQwMTFjNGZmZmZhZGYwYzExNmI2NjAyZGY2\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RR3BsYzNWelgybHpZVzgmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT00NSZ0eHQtYWxpZ249cmlnaHQlMkNib3R0b20mcz1jYzllZjkzOWE4NGMwYWUwNDc4NmQ3YWYxMzJjYTQ0NA\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=9b9c1d701d56cb49eff1147891e3e337","mainEntityOfPage":"https://qiita.com/jesus_isao/items/4b6b7846ccf5eb46b1bc","author":{"@type":"Person","address":"関東","email":null,"identifier":"jesus_isao","name":"jesus_isao","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F265900%2Fprofile-images%2F1558443684?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=71b4f35c2336473fbca02bf27c6fe852","url":"https://qiita.com/jesus_isao","description":"ぜんぶ壺のせい","memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://zine.qiita.com/interview/202107-hitachi/?utm_source=qiita&amp;utm_medium=header-banner">グループ会社出納業務の証票処理を70％自動化。日立のAI-OCR技術とは？</a><a target="_blank" id="header_text_message_2" href="https://zine.qiita.com/interview/202107-hitachi/?utm_source=qiita&amp;utm_medium=header-banner">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"jesus_isao","type":"items","id":"4b6b7846ccf5eb46b1bc"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"グループ会社出納業務の証票処理を70％自動化。日立のAI-OCR技術とは？","url":"https://zine.qiita.com/interview/202107-hitachi/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"jesus_isao","type":"items","id":"4b6b7846ccf5eb46b1bc"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":1,"pos_id":"header_text_message_1","message":"グループ会社出納業務の証票処理を70％自動化。日立のAI-OCR技術とは？","url":"https://zine.qiita.com/interview/202107-hitachi/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"jesus_isao","type":"items","id":"4b6b7846ccf5eb46b1bc"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":1,"pos_id":"header_text_message_2","message":"グループ会社出納業務の証票処理を70％自動化。日立のAI-OCR技術とは？","url":"https://zine.qiita.com/interview/202107-hitachi/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/jesus_isao/items/4b6b7846ccf5eb46b1bc","location":"/jesus_isao/items/4b6b7846ccf5eb46b1bc","scheme":"https","host":"qiita.com","port":null,"pathname":"/jesus_isao/items/4b6b7846ccf5eb46b1bc","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"jGnAb96I1BfMnrPVwWSHd1xBgoWo+PTbU9lCl13GGbjsh1+dm0murzYgpYCG7bkWjwani9pqTCuceAd72KuK7A==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-103bc836-9902-4600-bc70-ac50f1cf0801"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/jesus_isao/items/4b6b7846ccf5eb46b1bc/likers" class="css-1iupg5d">136</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">134</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/4b6b7846ccf5eb46b1bc/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/jesus_isao/items/4b6b7846ccf5eb46b1bc/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/jesus_isao/items/4b6b7846ccf5eb46b1bc/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/jesus_isao/items/4b6b7846ccf5eb46b1bc/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/jesus_isao/items/4b6b7846ccf5eb46b1bc.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-1nzh4zz"><span class="fa fa-fw fa-warning css-38fzdi"></span><p>More than 1 year has passed since last update.</p></div><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/jesus_isao"><img class="css-100alwu eyfquo10" src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/265900/profile-images/1558443684" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/jesus_isao" class="css-10ougpm">@<!-- -->jesus_isao</a><div class="css-1ay9vb9"><span><meta content="2018-10-28T13:30:50Z"/><time dateTime="2019-12-19T06:55:41Z" class="css-m19uds">updated at 2019-12-19</time></span></div></div></div></div></div><h1 class="css-cgzq40">プログラマーを惑わせる３種類の委譲(委譲・Delegation／転送・Forwarding／.NET Delegates)</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/javascript" class="css-4czcte">JavaScript</a><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/delegate" class="css-4czcte">Delegate</a><a href="/tags/%e3%83%87%e3%82%b6%e3%82%a4%e3%83%b3%e3%83%91%e3%82%bf%e3%83%bc%e3%83%b3" class="css-4czcte">デザインパターン</a><a href="/tags/%e5%a7%94%e8%ad%b2" class="css-4czcte">委譲</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div>
<h2>
<span id="委譲チョットデキル人向けの要約" class="fragment"></span><a href="#%E5%A7%94%E8%AD%B2%E3%83%81%E3%83%A7%E3%83%83%E3%83%88%E3%83%87%E3%82%AD%E3%83%AB%E4%BA%BA%E5%90%91%E3%81%91%E3%81%AE%E8%A6%81%E7%B4%84"><i class="fa fa-link"></i></a>委譲チョットデキル人向けの要約</h2>

<p>「委譲」や「デリゲート」が指すものはプログラマーによって違うことがある。<br>
少なくとも下記３パターンあってマジ初見殺しだよねって話です。</p>

<ol>
<li>Forwarding（転送）のこと。GoFがDelegationであると誤用して広まった。元は誤用なのにこれが多数派。</li>
<li>JavaScriptなどのプロトタイプベースオブジェクト指向言語などでよく出てくる真のDelegationのこと。Henry Liebermanが定義した。（※JSの場合は暗黙の委譲をよく使っているはず）</li>
<li>.NET Frameworkの仕様であるDelegatesや、その実装のこと。</li>
</ol>

<p><strong>転送と委譲の違いについて分かりやすくまとめた画像</strong></p>

<p><a href="https://camo.qiitausercontent.com/23644366ad10962a1a81b7b903cbd0700f9f933a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3236353930302f65663336613630302d636437352d616261382d636462332d3336613232363336316338322e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F265900%2Fef36a600-cd75-aba8-cdb3-36a226361c82.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=e097634b9d3750115deb1dea5ba112a2" width="30%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/265900/ef36a600-cd75-aba8-cdb3-36a226361c82.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F265900%2Fef36a600-cd75-aba8-cdb3-36a226361c82.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=3cb10807739a6d8208c2d8f1901cb093 1x" loading="lazy"></a><br>
<a href="https://camo.qiitausercontent.com/09eac05807746c403a6a90c1361fabbb716838da/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3236353930302f62353462383936302d613632662d623635312d323037322d3166336333343563646435312e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F265900%2Fb54b8960-a62f-b651-2072-1f3c345cdd51.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d5c62fa058c811d311e7c3774748718e" width="30%" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/265900/b54b8960-a62f-b651-2072-1f3c345cdd51.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F265900%2Fb54b8960-a62f-b651-2072-1f3c345cdd51.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=c9d8d9c97159c93bb6025cfda88e5dee 1x" loading="lazy"></a></p>

<h2>
<span id="想定読者" class="fragment"></span><a href="#%E6%83%B3%E5%AE%9A%E8%AA%AD%E8%80%85"><i class="fa fa-link"></i></a>想定読者</h2>

<ul>
<li>専門書や記事を読んで委譲やデリゲート(delegate/delegation)という単語が出てきて、何それ？と思ってる人。</li>
<li>ある日、天啓があって「プログラミング　委譲」で検索してきた人。</li>
<li>継承、ポリモーフィズムなどの文法を一通り知っている、C#やJavaなどのクラスベースオブジェクト指向言語のプログラマー。</li>
<li>JavaScriptなどのプロトタイプベースオブジェクト指向言語で継承をやったことがあるプログラマー。</li>
<li>JavaもしくはC#を読むことができ、そしてJavaScriptを読むことができるプログラマー。</li>
</ul>

<h2>
<span id="この記事のゴール" class="fragment"></span><a href="#%E3%81%93%E3%81%AE%E8%A8%98%E4%BA%8B%E3%81%AE%E3%82%B4%E3%83%BC%E3%83%AB"><i class="fa fa-link"></i></a>この記事のゴール</h2>

<ul>
<li>委譲と転送の違いが理解できるようになり、ある文脈で「委譲」や「デリゲート」という文字を目にした時に、それが指すものが委譲なのか、転送なのか、それとも全く別の何かなのかを判断できるようになること。</li>
</ul>

<h2>
<span id="デリゲートとは" class="fragment"></span><a href="#%E3%83%87%E3%83%AA%E3%82%B2%E3%83%BC%E3%83%88%E3%81%A8%E3%81%AF"><i class="fa fa-link"></i></a>デリゲートとは？</h2>

<p>デリゲートというと難しく聞こえますが、実はその「言葉の意味」自体は簡単です。<br>
デリゲートとは委譲のことです。他の何者かに、<strong>委（ゆだ）ね、譲（ゆず）る</strong>ことです。</p>

<p><strong>delegateは動詞で「委譲する」</strong><br>
<strong>delegationは名詞で「委譲」</strong></p>

<p>課長「A社さんの保守、今日から君に譲るわ。うん、大変なお客様かもしれないが、若いうちは何事も経験さ」<br>
部下「冗談だろ！？（はい。分かりました）」</p>

<p>みたいなことです。<br>
デリゲートはあなたの生活の一部なのです。</p>

<p>簡単じゃん！ デリゲート完全に理解したわ！<br>
これで理解できたら苦労しません。</p>

<h2>
<span id="デリゲートはなぜ難しいか" class="fragment"></span><a href="#%E3%83%87%E3%83%AA%E3%82%B2%E3%83%BC%E3%83%88%E3%81%AF%E3%81%AA%E3%81%9C%E9%9B%A3%E3%81%97%E3%81%84%E3%81%8B"><i class="fa fa-link"></i></a>デリゲートはなぜ難しいか</h2>

<p>デリゲートの難しさは２つの構成要素からできています。</p>

<ol>
<li>人やコミュニティによって指し示すものが違う</li>
<li>デリゲートの書き方/文法そのものが複雑</li>
</ol>

<h3>
<span id="難しさ１人やコミュニティによって指し示すものが違う" class="fragment"></span><a href="#%E9%9B%A3%E3%81%97%E3%81%95%EF%BC%91%E4%BA%BA%E3%82%84%E3%82%B3%E3%83%9F%E3%83%A5%E3%83%8B%E3%83%86%E3%82%A3%E3%81%AB%E3%82%88%E3%81%A3%E3%81%A6%E6%8C%87%E3%81%97%E7%A4%BA%E3%81%99%E3%82%82%E3%81%AE%E3%81%8C%E9%81%95%E3%81%86"><i class="fa fa-link"></i></a>難しさ１：人やコミュニティによって指し示すものが違う</h3>

<p>プログラマーのいうデリゲートには、少なくとも私が知っている限りでは、大きく分けて３つの種類があります。</p>

<ul>
<li>クラスベース言語のデザインパターンによく出てくる「転送(Forwarding)」の誤用</li>
<li>学問的に正しい意味での委譲(Delegation)。プロトタイプベース言語で登場することが多い</li>
<li>.NET Frameworkで高階関数の実装を実現できる仕様であるDelegatesのこと。</li>
</ul>

<p>なんか難しげな気配が漂ってきましたね。<br>
現時点では、なんかデリゲートが指すものは色々あるらしいなと知っておくだけでよいです。</p>

<p>複数の指し示す対象があるせいで、委譲・Delegation・デリゲートといくら調べても、<br>
自分の求めるデリゲートと、そうでないデリゲートの情報が濁流のように押し寄せて、<br>
わけがわかるものもわけがわからなくなります。</p>

<h3>
<span id="難しさ２デリゲートそのものが複雑" class="fragment"></span><a href="#%E9%9B%A3%E3%81%97%E3%81%95%EF%BC%92%E3%83%87%E3%83%AA%E3%82%B2%E3%83%BC%E3%83%88%E3%81%9D%E3%81%AE%E3%82%82%E3%81%AE%E3%81%8C%E8%A4%87%E9%9B%91"><i class="fa fa-link"></i></a>難しさ２：デリゲートそのものが複雑</h3>

<p>デリゲートそのものも、複雑で難しく見えます。少なくとも、私が１年目の新入社員だったら、たとえ１つのデリゲートだって理解できなかったことでしょう。<br>
デリゲートを克服するには、ある程度はプログラミングに慣れている必要があります。</p>

<p>クラスのフィールドに別クラスのインスタンスを持たせてそのラッピーのメソッドに処理をぶん投げたり、「クラスをもとに生成されるオブジェクト」とは違う「プロトタイプから作られるオブジェクト」という概念の言語が出てきたり、関数オブジェクトを定義したりします。</p>

<p><strong>は？</strong></p>

<p>わけわかんないですよね。でもわけわかってもらいます。<br>
どのデリゲートも、デリゲートを知らなかった人にとっては複雑に思えて、拒絶反応を起こすかもしれません。<br>
けれどもちゃんとプログラマーとしてキャリアを積むのであれば、デリゲートという文字列はよく目にするものになるかもしれません。分からない気持ち悪さを解消するために、共に頑張りましょう。</p>

<h1>
<span id="いくつかの種類のデリゲート" class="fragment"></span><a href="#%E3%81%84%E3%81%8F%E3%81%A4%E3%81%8B%E3%81%AE%E7%A8%AE%E9%A1%9E%E3%81%AE%E3%83%87%E3%83%AA%E3%82%B2%E3%83%BC%E3%83%88"><i class="fa fa-link"></i></a>いくつかの種類のデリゲート</h1>

<p>以下では、いくつかのデリゲート（と呼ばれるものたち）について説明していきます。<br>
あまりデリゲートデリゲート言っていると、どのデリゲートについて話しているのか私自身が分からなくなってくるため、これから登場するデリゲート系の用語のここでの使い方を決定しておきます。<br>
下記のルールに則って書いていきます。</p>

<h2>
<span id="ここでの用語の定義" class="fragment"></span><a href="#%E3%81%93%E3%81%93%E3%81%A7%E3%81%AE%E7%94%A8%E8%AA%9E%E3%81%AE%E5%AE%9A%E7%BE%A9"><i class="fa fa-link"></i></a>ここでの用語の定義</h2>

<h3>
<span id="デリゲート" class="fragment"></span><a href="#%E3%83%87%E3%83%AA%E3%82%B2%E3%83%BC%E3%83%88"><i class="fa fa-link"></i></a>デリゲート</h3>

<p>なんかふわっとした言葉。転送／委譲／.NET Delegatesをすべて含めている。<br>
ここで扱うデリゲート的なもの全体を指す。</p>

<h3>
<span id="転送forwarding" class="fragment"></span><a href="#%E8%BB%A2%E9%80%81forwarding"><i class="fa fa-link"></i></a>転送（Forwarding）</h3>

<p>その1で紹介する用語。デリゲートのうちの一つ。<br>
実際には委譲と言われることが多いので、たまにカッコをつけて「委譲」とも書く。</p>

<h3>
<span id="委譲delegation" class="fragment"></span><a href="#%E5%A7%94%E8%AD%B2delegation"><i class="fa fa-link"></i></a>委譲（Delegation）</h3>

<p>その2で紹介する用語。デリゲートのうちの一つ。真のデリゲート。</p>

<h3>
<span id="net-delegates" class="fragment"></span><a href="#net-delegates"><i class="fa fa-link"></i></a>.NET Delegates</h3>

<p>その3で紹介する用語。.NETの言語仕様。デリゲートのうちの一つ。<br>
おそらく、「デリゲート」で検索するとこれが一番ヒットする。<br>
Javaの人のためにざっくり説明すると、.NETはC#やVBで必須なフレームワークのこと。</p>

<h5>
<span id="delegatenet-delegates" class="fragment"></span><a href="#delegatenet-delegates"><i class="fa fa-link"></i></a>delegate（.NET Delegates）</h5>

<p>その3で紹介する、.NET Delegatesの実装。C#で予約語となっている。デリゲートのうちの一つ。</p>

<h5>
<span id="systemdelegate型net-delegates" class="fragment"></span><a href="#systemdelegate%E5%9E%8Bnet-delegates"><i class="fa fa-link"></i></a>System.Delegate型（.NET Delegates）</h5>

<p>その3で紹介する、.NET Delegatesの実装。.NETのクラスライブラリのクラス。デリゲートのうちの一つ。</p>

<h2>
<span id="１デザインパターンによく出てくる転送forwardingの誤用" class="fragment"></span><a href="#%EF%BC%91%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3%E3%81%AB%E3%82%88%E3%81%8F%E5%87%BA%E3%81%A6%E3%81%8F%E3%82%8B%E8%BB%A2%E9%80%81forwarding%E3%81%AE%E8%AA%A4%E7%94%A8"><i class="fa fa-link"></i></a>（１）デザインパターンによく出てくる、「転送(Forwarding)」の誤用</h2>

<h3>
<span id="誤用" class="fragment"></span><a href="#%E8%AA%A4%E7%94%A8"><i class="fa fa-link"></i></a>誤用？</h3>

<p><strong>最もよく知られているデリゲートは、転送(Forwarding)の誤用です。</strong>えっ！？<br>
ただ、元々誤用ではありますが、このデリゲートだけ知っておけば、とりあえずは一息つくことができます。クラスベースのオブジェクト指向言語の専門書でも、このデリゲートだけ知っていれば大丈夫。<br>
けれども、誤用なんだということは理解しておいて損はありません。主なメリットとして、ある日、デリゲート原理主義者に<strong>「オマエの言ってる委譲は委譲ちゃうわ！」</strong>とマサカリをぶん投げられてもびっくりせずに済むというものがあります。<br>
本当は転送(Forwarding)というのが正しいんですが、<strong>むしろ転送という言葉の方がマイナーなので通じない可能性が高い</strong>です。</p>

<p>なぜ本当は転送であるべきはずのものが委譲として広まってしまったのでしょうか。<br>
一説によれば、GoF（Gang of Four）のデザインパターン本で「転送」が「委譲」として紹介されてしまったことが原因であると言われています。<sup id="fnref1"><a href="#fn1" title="参考：Jim Gay - The Gang of Four is wrong and you don't understand delegation">1</a></sup><br>
有名なFowlerの『リファクタリング』でも、結城浩の『Java言語で学ぶデザインパターン入門』でも、ついでに2018年10月26日現在の日本語Wikipediaの「委譲」のページでも、転送が委譲として紹介されています。<br>
誤解のないように言っておくと、今先に挙げた２冊の本は、どちゃくそ良い本です。<br>
そういった良書に登場するほどに、転送の誤用としてのデリゲートは広まっているということです。</p>

<p>そもそも、JavaやC#などの言語では本来的な意味での委譲（Delegation）が登場することは<strong>とても稀</strong>です。書くとしたら難解になります。本来の委譲（Delegation）は、転送の次に紹介しますが、JavaScriptのようなプロトタイプベースオブジェクト指向言語で言語としてサポートされているため、こちらで登場することが多いです。</p>

<h3>
<span id="転送forwardingの書き方" class="fragment"></span><a href="#%E8%BB%A2%E9%80%81forwarding%E3%81%AE%E6%9B%B8%E3%81%8D%E6%96%B9"><i class="fa fa-link"></i></a>転送(Forwarding)の書き方</h3>

<p>そういうわけで、まずここでは転送の書き方について説明します。小難しい転送の定義については後回しにしましょう。<br>
転送を制する者はデリゲートを制すと言っても過言ではありません！</p>

<p>クラスベースオブジェクト指向プログラミング言語では、継承という機能が存在します。<br>
転送は、この継承と対になるように登場することがあります。継承と、転送。「この場合は継承より転送の方がいいね」みたいに言います。（※実際には転送ではなく、「委譲」と書かれることがほとんどです。）<br>
転送は、継承という言語としての機能を、継承を使わずに実装する方法として使われることが多いです。継承と転送はよく似ていて、やろうとしていることは基本的に同じです。</p>

<p>それでは実際に継承で書く場合と、転送で書く場合を比較して、どのように実装に違いが出るのか見てみましょう。<br>
ここでは「哺乳類（Mammal）」クラスと、それを継承する「人間（Human）」クラスについて考えてみます。</p>

<h3>
<span id="継承を使って実装するこれは転送ではないよ" class="fragment"></span><a href="#%E7%B6%99%E6%89%BF%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B%E3%81%93%E3%82%8C%E3%81%AF%E8%BB%A2%E9%80%81%E3%81%A7%E3%81%AF%E3%81%AA%E3%81%84%E3%82%88"><i class="fa fa-link"></i></a>継承を使って実装する（これは転送ではないよ）</h3>

<p><code>Mammal</code>クラスをこんな風に実装したとします。なんてことはありません。<br>
例はC#で書いていますが、見た目はJavaと似たようなものなので、Javaが読めれば読めます。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code>    <span class="k">public</span> <span class="k">class</span> <span class="nc">Mammal</span>
    <span class="p">{</span>
        <span class="k">private</span> <span class="k">readonly</span> <span class="kt">string</span> <span class="n">_identity</span> <span class="p">=</span> <span class="s">"Mammal"</span><span class="p">;</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">IntroduceMyself</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"I am a "</span> <span class="p">+</span> <span class="n">_identity</span><span class="p">);</span> <span class="c1">// 大事なのはメンバ変数を呼んでいるとこ。</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div></div>

<p>そして呼び出し。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code>    <span class="kt">var</span> <span class="n">mammal</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Mammal</span><span class="p">();</span>
    <span class="n">mammal</span><span class="p">.</span><span class="nf">IntroduceMyself</span><span class="p">();</span> <span class="c1">// I am a Mammal</span>
</code></pre></div></div>

<p>うん、いいね。<br>
そして、<code>Mammal</code>を継承した<code>Human</code>を実装します。<br>
人間らしく<code>Talk()</code>メソッドを追加しましょう。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code>    <span class="c1">// 継承版</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">Human</span> <span class="p">:</span> <span class="n">Mammal</span> <span class="c1">// HumanはMammalを継承している、という書き方</span>
    <span class="p">{</span>
        <span class="k">private</span> <span class="k">readonly</span> <span class="kt">string</span> <span class="n">_identity</span> <span class="p">=</span> <span class="s">"Human"</span><span class="p">;</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">Talk</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"A "</span> <span class="p">+</span> <span class="n">_identity</span> <span class="p">+</span> <span class="s">" is talking...ぺちゃくちゃ..."</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div></div>

<p>うん、良いんじゃないかな。<br>
<del>筆者は「<code>Human</code>のインスタンスはTanakaやSuzukiみたいな個人じゃないと変だ！」とか、そういうオブジェクト指向べき論について一切気にしない人で、ついでに例もかなり適当です。</del><br>
さあ呼び出しはどうだ！</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code>    <span class="c1">// 継承版</span>
    <span class="kt">var</span> <span class="n">human</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Human</span><span class="p">();</span>
    <span class="n">human</span><span class="p">.</span><span class="nf">IntroduceMyself</span><span class="p">();</span> <span class="c1">// I am a Mammal（HumanなのにMammal。これ大事）</span>
    <span class="n">human</span><span class="p">.</span><span class="nf">Talk</span><span class="p">();</span> <span class="c1">// A Human is talking...ぺちゃくちゃ...</span>
</code></pre></div></div>

<p>……おや？　<code>IntroduceMyself()</code>で"I am a Human"と言って欲しかったんだけどな……。<br>
と思うかもしれませんが、これは仕方ないことです。継承がしていることは、親クラスを子クラスの内部でnewしているのと同じで、子クラスはそれを使っているだけです。ここではOverrideも何もしていないので<code>IntroduceMyself()</code>は親クラスのものそのものですし、参照するのは親クラスの_identityです。"I am a Human"と言わせたければ、Overrideして再定義してやる必要があります。<br>
この継承による<code>IntroduceMyself()</code>の挙動は、転送（Forwarding）ではない委譲（Delegation）を理解する上でもとても大事なので覚えておいて下さい。<br>
まぁ"I am a Mammal"「私は哺乳類です」でも<strong>間違っちゃいないので</strong>（？）、ここでは、子クラスでのOverrideは行わないで完了とします。</p>

<h3>
<span id="転送を使って実装する" class="fragment"></span><a href="#%E8%BB%A2%E9%80%81%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>転送を使って実装する</h3>

<p>さて、継承を使って実装できたので、上で書いたHumanクラスと<strong>全く同じように振る舞う</strong>転送バージョンを書いてみます。<br>
Mammalクラスは前に作ったものをそのまま再利用します。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code>    <span class="c1">// 転送版。</span>
    <span class="c1">// この場合、ForwardingHumanはMammalをラップしているラッパークラスであるという。</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">ForwardingHuman</span>
    <span class="p">{</span>
        <span class="k">private</span> <span class="k">readonly</span> <span class="n">Mammal</span> <span class="n">_mammal</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Mammal</span><span class="p">();</span> <span class="c1">// メンバ変数にMammalを持っている！</span>
        <span class="k">private</span> <span class="k">readonly</span> <span class="kt">string</span> <span class="n">_identity</span> <span class="p">=</span> <span class="s">"Human"</span><span class="p">;</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">IntroduceMyself</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">_mammal</span><span class="p">.</span><span class="nf">IntroduceMyself</span><span class="p">();</span> <span class="c1">// 転送する</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">Talk</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"A "</span> <span class="p">+</span> <span class="n">_identity</span> <span class="p">+</span> <span class="s">" is talking...ぺちゃくちゃ..."</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div></div>

<p>そして呼び出し。うん、継承と一緒ですね。<br>
相変わらずの"I am a Mammal"<br>
素晴らしい。完成！　これこそ転送だ！</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code>    <span class="c1">// 転送版</span>
    <span class="kt">var</span> <span class="n">fhuman</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ForwardingHuman</span><span class="p">();</span>
    <span class="n">fhuman</span><span class="p">.</span><span class="nf">IntroduceMyself</span><span class="p">();</span> <span class="c1">// I am a Mammal</span>
    <span class="n">fhuman</span><span class="p">.</span><span class="nf">Talk</span><span class="p">();</span> <span class="c1">// A Human is talking...ぺちゃくちゃ...</span>

    <span class="c1">//　比較用。継承版</span>
    <span class="kt">var</span> <span class="n">human</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Human</span><span class="p">();</span>
    <span class="n">human</span><span class="p">.</span><span class="nf">IntroduceMyself</span><span class="p">();</span> <span class="c1">// I am a Mammal</span>
    <span class="n">human</span><span class="p">.</span><span class="nf">Talk</span><span class="p">();</span> <span class="c1">// A Human is talking...ぺちゃくちゃ...</span>
</code></pre></div></div>

<p><strong>「めんどくさっ」</strong></p>

<p><strong>ちょっと待ってください！！！！！！！！！！</strong><br>
転送は大事です。転送が継承よりも優れた設計となるケースもあります！<br>
残念ながらここでは主題から逸れるので詳細に説明はできませんが、後で少しだけ触れましょう。<br>
まずは、転送の定義について確認しておきましょう。</p>

<h3>
<span id="転送forwardingとは" class="fragment"></span><a href="#%E8%BB%A2%E9%80%81forwarding%E3%81%A8%E3%81%AF"><i class="fa fa-link"></i></a>転送（Forwarding）とは</h3>

<p>英語のwikipediaの"Forwarding (object-oriented programming)"のページから引っ張ってきます。</p>

<blockquote>
<p>In object-oriented programming, forwarding means that using a member of an object (either a property or a method) results in actually using the corresponding member of a different object: the use is forwarded to another object. Forwarding is used in a number of design patterns, where some members are forwarded to another object, while others are handled by the directly used object. The forwarding object is frequently called a wrapper object, and explicit forwarding members are called wrapper functions.</p>

<p>筆者訳：<br>
オブジェクト指向プログラミングにおける転送（Forwarding）は、あるオブジェクトのメンバ（プロパティかメソッドのどちらか）を使うことが、実際には別のオブジェクトの対応するメンバを呼び出していることを意味します。つまり、別のオブジェクトを「使う」ことが、その別のオブジェクトに対して「転送している」ということです。<br>
転送は多くのデザインパターンで使用されています。そのデザインパターンでは、いくつかのメンバは別オブジェクトに転送する一方で、残りのメンバは直接、オブジェクト内で処理しています。転送する側のオブジェクトはしばしばラッパーオブジェクトと呼ばれ、明示的に転送しているメンバのことはラッパー関数と呼ばれます。</p>
</blockquote>

<p>上で私が書いた例でいうと、人間（ForwardingHuman）クラスは哺乳類（Mammal）クラスをラップした（＝包み込んだ）、ラッパーオブジェクトなわけですね。<code>ForwardingHuman</code>クラスのメンバである<code>IntroduceMyself()</code>メソッドが<code>Mammal</code>クラスの<code>IntroduceMyself()</code>メソッドに転送しているということです。<br>
ちなみにラップする側のラッパー（wrapper）に対して、ラップされる側をラッピー（wrappee）ということもあります。ラッパーはラッピーに転送します。</p>

<p>転送がやりたいことは、基本的に継承と同じことです。振る舞いの再利用がしたいだけです。<br>
じゃあなんで継承で書かないの？　と思うかもしれません。もちろん理由はあります。継承で書けるなら、継承で書いても良いのです。しかし継承ではどうにもならないケースというのも確かに存在します。たとえば、継承では、子クラスから見た親クラスは常に固定化されています。親クラス１に対して、子クラスがnある関係です。子クラスが１で、親クラスがnにはなれません。継承している子クラスは、別の親クラスに継承先を切り替えることができません。そのため、次で紹介するような転送を使ったデザインパターンが登場します。</p>

<h3>
<span id="転送の応用" class="fragment"></span><a href="#%E8%BB%A2%E9%80%81%E3%81%AE%E5%BF%9C%E7%94%A8"><i class="fa fa-link"></i></a>転送の応用</h3>

<p>ここでは転送の使い所の1例として、Strategyパターンの使い所をほんのちょっと紹介しますが、<strong>本題から逸れるためStrategyの説明自体はしません。Strategyの説明については、別の記事に「委譲」します。</strong>Strategyについてもっと知りたければ、デザインパターンを紹介している技術書や記事などを参照してください。</p>

<p>さて、人間には人種があります。そして個人には性格があります。人間クラスをもっとしっかり設計する上で、次のような特徴をもつものを実装することにしました。</p>

<ul>
<li>人種4つ：コーカソイド・ネグロイド・モンゴロイド・オーストラロイド</li>
<li>性格4つ：神経質・外交的・調和的・勤勉</li>
</ul>

<p>そして、それぞれを実装するインスタンスにこんな振る舞いをさせたくなりました。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code>    <span class="c1">// モンゴロイドで外交的な人間。</span>
    <span class="n">mongoloidDiplomacyHuman</span><span class="p">.</span><span class="nf">Invite</span><span class="p">();</span> <span class="c1">// Let's party!</span>
    <span class="c1">// コーカソイドで外交的な人間。</span>
    <span class="n">caucasoidDiplomacyHuman</span><span class="p">.</span><span class="nf">Invite</span><span class="p">();</span> <span class="c1">// Let's party!</span>
    <span class="c1">// モンゴロイドで勤勉な人間。</span>
    <span class="n">mongoloidDiligenceHuman</span><span class="p">.</span><span class="nf">Invite</span><span class="p">();</span> <span class="c1">// Let's write a program</span>

    <span class="n">mongoloidDiplomacyHuman</span><span class="p">.</span><span class="nf">TalkAboutRace</span><span class="p">();</span> <span class="c1">// Skin color of Mongoloid is generally yellow</span>
    <span class="n">caucasoidDiplomacyHuman</span><span class="p">.</span><span class="nf">TalkAboutRace</span><span class="p">();</span> <span class="c1">// Skin color of Caucasoid is generally white</span>
    <span class="n">mongoloidDiligenceHuman</span><span class="p">.</span><span class="nf">TalkAboutRace</span><span class="p">();</span> <span class="c1">// Skin color of Mongoloid is generally yellow</span>

    <span class="c1">// すべてに共通の処理</span>
    <span class="n">mongoloidDiplomacyHuman</span><span class="p">.</span><span class="nf">Laugh</span><span class="p">();</span> <span class="c1">// Hahahaha</span>
    <span class="n">caucasoidDiplomacyHuman</span><span class="p">.</span><span class="nf">Laugh</span><span class="p">();</span> <span class="c1">// Hahahaha</span>
    <span class="n">mongoloidDiplomacyHuman</span><span class="p">.</span><span class="nf">Laugh</span><span class="p">();</span> <span class="c1">// Hahahaha</span>

    <span class="c1">// 実際の呼び出しではポリモーフィズムを使う。</span>
    <span class="c1">// 何が呼び出されるかは分からない。</span>
    <span class="n">human</span><span class="p">.</span><span class="nf">Invite</span><span class="p">();</span>
    <span class="n">human</span><span class="p">.</span><span class="nf">TalkAboutRace</span><span class="p">();</span>
    <span class="n">human</span><span class="p">.</span><span class="nf">Laugh</span><span class="p">();</span>
</code></pre></div></div>

<p>人種と性格の組み合わせは4*4=16通りです。コーカソイド神経質、コーカソイド外交的、コーカソイド調和的、コーカソイド勤勉……オーストラロイド勤勉まで、全部で16通りの組み合わせを作る必要があります。<br>
継承で作った場合は、コーカソイド神経質クラスは、コーカソイドクラスを継承して作るようになるでしょう。そうすると、コーカソイドクラス、ネグロイドクラス、モンゴロイドクラス、オーストラロイドクラスといったスーパークラスがそれぞれ必要になり、4+16の合計20個のクラスが出来上がります。多すぎますね。更に人種や性格は、より細分化するなどして増える可能性があります。最初に一回だけ実装するなら、脳死しながらひたすらクラスを追加していくだけです。ちょっと手間で、地味で退屈ですが、<strong>簡単</strong>な作業です。簡単さは大切ですよね。</p>

<p>しかし<strong>現実は非情</strong>であり、いつか機能修正や機能追加の時が訪れます。もしかしたら、案外すぐかもしれません。<br>
<strong>「あの、現場からですね……人種と性格はそれぞれ8種じゃないとこのシステムは使い物にならないって言われるんですけど」</strong></p>

<p>無理に継承を使う必要はありません。Humanクラスの中にif文で実装するという手もあります。この場合はそちらの方が簡単でしょう。<code>new Human("mongoloid","diplomacy")</code>のようにすると、Humanのプロパティとして引数の値がセットされ、IntroduceMyself()の中にそのプロパティを読む条件分岐を沢山作っておくのです。ifの分岐が沢山できますが、これもまた簡単な作業です。</p>

<p>でも、これは<strong>ただの例だからそれで済む</strong>のであって、現実にはこうした分岐の中の処理が<code>Console.WriteLine("Let's party!")</code>だけで済むはずがありません。もっと複雑で長い処理になることでしょう。<br>
ifのコードブロックは巨大化し、1ファイルがやがて数千行になってしまうことが想像できます。これではおちおちパーリーもできません。</p>

<p>そうならないためにStrategyが使えます。<br>
……。<br>
もし、Strategyパターンを知らないというのであれば、Strategyについて学び、モンゴロイドで外交的な人間などをぜひ実装してみて下さい。<br>
おそらく2つのinterfaceと4つの人種クラス、4つの性格クラス、そしてそれらに転送をする人間クラスができるはずです。<br>
最近流行り（？）のDI（Dependency Injection）コンテナのもとになっているのはDIパターンで、DIパターンはStrategyパターンそのものです。応用できるところはとても多いので学んでいて損はないはずです。</p>

<p>最後に、転送を使ったデザインパターンの代表例を挙げておきます。</p>

<ul>
<li>Chain of Responsibility</li>
<li>Decorator</li>
<li>Strategy</li>
</ul>

<p>他にも色々あります。</p>

<h2>
<span id="２henry-liebermanが定義した真の委譲delegation" class="fragment"></span><a href="#%EF%BC%92henry-lieberman%E3%81%8C%E5%AE%9A%E7%BE%A9%E3%81%97%E3%81%9F%E7%9C%9F%E3%81%AE%E5%A7%94%E8%AD%B2delegation"><i class="fa fa-link"></i></a>（２）Henry Liebermanが定義した、真の委譲（Delegation）</h2>

<h3>
<span id="これこそが本当の委譲" class="fragment"></span><a href="#%E3%81%93%E3%82%8C%E3%81%93%E3%81%9D%E3%81%8C%E6%9C%AC%E5%BD%93%E3%81%AE%E5%A7%94%E8%AD%B2"><i class="fa fa-link"></i></a>これこそが本当の委譲</h3>

<p>お待たせしました。<br>
学術的には、ここで紹介する委譲（Delegation）こそが唯一絶対のデリゲートです。デリゲート原理主義者が崇拝するデリゲート唯一神はこの委譲のことです。</p>

<p>OOPSLA (Object-Oriented Programming, Systems, Languages &amp; Applications) という、2018年現在に至るまで毎年開催されているオブジェクト指向プログラミングの学会があります。<br>
その第１回目である1986年、当時MITの研究者だったHenry Liebermanが"Using Prototypical Objects to Implement Shared Behavior in Object Oriented Systems"（筆者訳：「オブジェクト指向システムで共通の振る舞い（Behavior）を実装するための原型的な(Prototypical)オブジェクトの使用」）という論文を発表しました。<br>
86年当時のものではありませんが、Lieberman自身の手で更新されたその論文は、<a href="http://web.media.mit.edu/%7Elieber/Lieberary/OOP/Delegation/Delegation.html" rel="nofollow noopener" target="_blank">ここ</a>で読むことができます。その論文の中で、Delegationが初めて登場しました。</p>

<p>Henry Liebermanが発案したDelegationは、プロトタイプベースのオブジェクト指向プログラミング言語"Self"で実装されました。そしてそのSelfに大きな影響を受けたのが、現在フロントエンドで大活躍中の<strong>JavaScript</strong>です。Delegationの実装は、JavaScriptにしっかりと引き継がれています。<strong>プロトタイプチェーン</strong>の根っこの考え方に、Delegationそのものがあります。<br>
JavaScriptでは言語として委譲（Delegation）が強力にサポートされており、そのプロトタイプチェーンを用いて勝手に行われる委譲のことを<strong>暗黙の委譲(Implicit Delegation)</strong>と言ったりします。<br>
ここでは、一番目にする機会が多いであろう、暗黙の委譲についてご紹介します。</p>

<h3>
<span id="おいおいそもそもプロトタイプベースのオブジェクト指向言語って何だよ" class="fragment"></span><a href="#%E3%81%8A%E3%81%84%E3%81%8A%E3%81%84%E3%81%9D%E3%82%82%E3%81%9D%E3%82%82%E3%83%97%E3%83%AD%E3%83%88%E3%82%BF%E3%82%A4%E3%83%97%E3%83%99%E3%83%BC%E3%82%B9%E3%81%AE%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%8C%87%E5%90%91%E8%A8%80%E8%AA%9E%E3%81%A3%E3%81%A6%E4%BD%95%E3%81%A0%E3%82%88"><i class="fa fa-link"></i></a>おいおい、そもそもプロトタイプベースのオブジェクト指向言語って何だよ！</h3>

<p>主題からちょっと逸れますが、必要なため、プロトタイプベースについて少しだけ説明します。Javaのようなクラスベース言語では、クラス（設計書）とインスタンス（実体）がありますが、JavaScriptのようなプロトタイプベース言語では、そんなものありません。ないんですよオブジェクト指向言語なのに！　びっくりしました？　……とは言っても、JavaScriptはES6以降でclassの糖衣構文が書けるので、「ない」と言ってしまうのは乱暴かもしれません。そのclassは内部的にプロトタイプを使って「見かけ上」クラスとインスタンスを実現していますが、本質的にはプロトタイプベースです。「JavaとJavaScriptは似ている」というのは誤りで、根本的な部分が全く異なっています。</p>

<p>プロトタイプベースは、インスタンスベースという別名もあるくらいで、ただインスタンスがあるだけです。クラス（設計図）とインスタンス（実体）ではありません。オブジェクトの全てが<strong>独立した</strong>インスタンスです。新しく実体を作るときには、クラスから組み立てるのではなく、既存のインスタンスから新しいインスタンスを作成します。そしてその作成元を、プロトタイプ（原型）と呼びます。なのでプロトタイプベースと呼びます。</p>

<p>（※ちなみにクラスベース言語を対象としたGoFのデザインパターンでも、クラスではなく既存のインスタンスから新しいインスタンスを作成するPrototypeパターンがあります。こっちではクローン（複製）しますが、JSではインスタンス作成時に全く同じものを作るクローンを行うわけではありません）</p>

<p>プロトタイプをもとにして新しくインスタンスを作るときに、クラスベースオブジェクト指向言語に出てくる、継承のようなことがしたくなるわけです。でも、プロトタイプの考え方では、作成元と新規のオブジェクトはそれぞれ独立した別のものです。ん？　まるっと同じメンバ変数やメソッドを新しく複製するとしたら、メモリの無駄じゃないの？</p>

<p>そこで登場するのが委譲（Delegation）です。</p>

<h3>
<span id="javascriptで委譲delegationを学ぶ" class="fragment"></span><a href="#javascript%E3%81%A7%E5%A7%94%E8%AD%B2delegation%E3%82%92%E5%AD%A6%E3%81%B6"><i class="fa fa-link"></i></a>JavaScriptで委譲（Delegation）を学ぶ</h3>

<p>それではJavaScriptのコードを見てみましょう。ここでは「あえて」class構文を使わず、昔ながらのprototypeで書いてみます。実際のプロジェクトでは書かないで下さいね。場合によっては怖い先輩に殺されます。</p>

<p>ここでは、<code>Creature</code>←<code>Animal</code>←<code>Mammal</code>←<code>Human</code>でオブジェクトが繋がっています。<br>
やっている内容は上のC#の例で紹介した、<code>Mammal</code>←<code>Human</code>の例と大差ありません。</p>

<div class="code-frame" data-lang="js"><div class="highlight"><pre class="with-code"><code><span class="c1">// 定義しているのはクラスっぽく見えるけど、クラスではない。</span>
<span class="c1">// すべてがインスタンス。</span>
<span class="kd">function</span> <span class="nx">Creature</span> <span class="p">()</span> <span class="p">{};</span>
<span class="nx">Creature</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">identity</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">Creature</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">Creature</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">introduceMyself</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">I am </span><span class="dl">"</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">identity</span><span class="p">)</span> <span class="p">};</span>
<span class="nx">Creature</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">alive</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">identity</span> <span class="o">+</span> <span class="dl">"</span><span class="s2"> is alive...生存中...</span><span class="dl">"</span><span class="p">)</span> <span class="p">}</span>

<span class="c1">// ------------------------------------------</span>

<span class="kd">function</span> <span class="nx">Animal</span><span class="p">(){};</span>
<span class="nx">Animal</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Creature</span><span class="p">();</span> <span class="c1">// これで継承っぽいことが実現できる</span>
<span class="nx">Animal</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">identity</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">Animal</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">Animal</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">walk</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">identity</span> <span class="o">+</span> <span class="dl">"</span><span class="s2"> is walking...散歩中...</span><span class="dl">"</span><span class="p">)</span> <span class="p">};</span> 

<span class="c1">// ------------------------------------------</span>

<span class="kd">function</span> <span class="nx">Mammal</span><span class="p">(){};</span>
<span class="nx">Mammal</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Animal</span><span class="p">();</span>
<span class="nx">Mammal</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">identity</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">Mammal</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">Mammal</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">breastFeed</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">identity</span> <span class="o">+</span> <span class="dl">"</span><span class="s2"> is breastFeeding...授乳中...</span><span class="dl">"</span><span class="p">)</span> <span class="p">};</span> 

<span class="c1">// ------------------------------------------</span>

<span class="c1">// ※さらっと大事なことを言うと、コンストラクタでのthis.~~への代入は、</span>
<span class="c1">// 新しく作られた（newされた）オブジェクトそのもののプロパティとして登録される。</span>
<span class="kd">function</span> <span class="nx">Human</span><span class="p">(</span><span class="nx">identity</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">identity</span> <span class="o">=</span> <span class="nx">identity</span><span class="p">};</span> 
<span class="nx">Human</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Mammal</span><span class="p">();</span>
<span class="nx">Human</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">identity</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">Human</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">Human</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">talk</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">identity</span> <span class="o">+</span> <span class="dl">"</span><span class="s2"> is talking...ぺちゃくちゃ...</span><span class="dl">"</span><span class="p">)</span> <span class="p">};</span>
</code></pre></div></div>

<p>大事なのはここからです。Humanから新しいインスタンス、Tanakaを作りましょう。<br>
（newされた後の<code>human</code>インスタンスは完全に<code>Human</code>とは別物なので、前みたく<code>human = new Human();</code>としてしまうと、流石にそれは分かりにくいかな……？　と思って今回は<code>Tanaka</code>に変えました。）</p>

<div class="code-frame" data-lang="js"><div class="highlight"><pre class="with-code"><code><span class="c1">// Tanaka はHumanから生成されたObject。</span>
<span class="c1">// ※JSでは、newされたあとはもはやHumanではない。Tanakaという別のオブジェクト。</span>
<span class="kd">const</span> <span class="nx">Tanaka</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Human</span><span class="p">(</span><span class="dl">"</span><span class="s2">Tanaka</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">Tanaka</span><span class="p">.</span><span class="nx">introduceMyself</span><span class="p">();</span> <span class="c1">// どうなる？</span>
<span class="nx">Tanaka</span><span class="p">.</span><span class="nx">talk</span><span class="p">();</span> <span class="c1">// どうなる？</span>
<span class="nx">Tanaka</span><span class="p">.</span><span class="nx">walk</span><span class="p">();</span> <span class="c1">// どうなる？</span>
<span class="nx">Tanaka</span><span class="p">.</span><span class="nx">breastFeed</span><span class="p">();</span> <span class="c1">// どうなる？</span>
<span class="nx">Tanaka</span><span class="p">.</span><span class="nx">alive</span><span class="p">();</span> <span class="c1">// どうなる？</span>
</code></pre></div></div>

<p><code>Tanaka.introduceMyself();</code>の実行結果はどうなると思いますか？</p>

<p>もう騙されんぞ！<br>
<code>introduceMyself();</code>は<code>Creature</code>で定義されているから、<code>identity:"Creature"</code>を読む！<br>
答えは"I am Creature"だ！　バカめ！　冠詞のaが抜けてるぞ！　"I am a Creature"だ！<br>
……そう思いましたか？　そう思ったあなたは、上の転送（Forwarding）の内容をしっかり理解している人です。素晴らしい。</p>

<p>でも、今回は結果が違います。<br>
これが暗黙の委譲（Implicit Delegation）です。<br>
ここに、<strong>転送と委譲の違い</strong>を見ることができます。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>I am Tanaka
Tanaka is talking...ぺちゃくちゃ...
Tanaka is walking...散歩中...
Tanaka is breastFeeding...授乳中...
Tanaka is alive...生存中...
</code></pre></div></div>

<p><strong>どういうことだってばよ。</strong></p>

<p>さて、<code>Tanaka</code>の中には、<code>Creature</code>や<code>Animal</code>や<code>Mammal</code>はおろか、<code>Human</code>インスタンスの複製さえも存在しません。<code>Tanaka</code>が持っているのは、<code>Creature</code>や<code>Animal</code>や<code>Mammal</code>や<code>Human</code>インスタンスへの参照です。その参照はどこにあるかというと、<code>Tanaka</code>オブジェクトの<code>__proto__</code>という隠しプロパティに存在します。JSの仕様です。例のように、継承される側のインスタンスで<code>prototype</code>に代入した値は、そのインスタンスをnewした時に、新しく作られる側のインスタンスの<code>__proto__</code>に放り込まれます。</p>

<p><strong>つまり、<code>const Spider = new Creature();</code>とすると、<code>Spider.__proto__</code>に<code>Creature.prototype</code>が入ります。<br>
そして<code>Animal.prototype = new Creature();</code>とすると、<code>Animal.prototype.__proto__</code>に、<code>Creature.prototype</code>が入るということです。クッソややこしいですね。</strong></p>

<p><code>Tanaka</code>の中にある値は、<code>__proto__</code>を除くと<code>new Human("Tanaka");</code>した時に代入された<code>identity:"Tanaka"</code>だけです。<code>Human</code>のコンストラクタである<code>function Human(identity){this.identity = identity};</code>だけが、<code>Tanaka</code>オブジェクトにプロパティを登録します。</p>

<div class="code-frame" data-lang="js"><div class="highlight"><pre class="with-code"><code><span class="c1">// ちなみに、prototypeではなく、Tanaka自身にメソッドを定義して呼び出すことももちろん可能。</span>
<span class="c1">// ただ、prototypeの中に定義しないものは、次のインスタンスをnewしたときに__proto__には入らない。</span>
<span class="c1">// つまり継承されないので注意。</span>
<span class="nx">Tanaka</span><span class="p">.</span><span class="nx">learn</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">identity</span> <span class="o">+</span> <span class="dl">"</span><span class="s2"> is learning...プロトタイプわけわからん...</span><span class="dl">"</span><span class="p">)</span> <span class="p">};</span>
<span class="nx">Tanaka</span><span class="p">.</span><span class="nx">learn</span><span class="p">();</span> <span class="c1">// Tanaka is learning...プロトタイプわけわからん...</span>
</code></pre></div></div>

<p><strong>図で分かりやすくしましょう。</strong><br>
<code>Tanaka</code>の中身はどうなっているかというと、こうなっています。<br>
<code>__proto__</code>の中に<code>__proto__</code>が入れ子になっていることが分かります。</p>

<p><a href="https://camo.qiitausercontent.com/6554f76cb35d05e72b8ae461a597529e8cc1d083/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3236353930302f34633463613032392d323135352d366566612d383836372d3664363738666463353138302e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F265900%2F4c4ca029-2155-6efa-8867-6d678fdc5180.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=97490b4a8e30244da93aabfc7d94ff3b" alt="proto記入済み.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/265900/4c4ca029-2155-6efa-8867-6d678fdc5180.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F265900%2F4c4ca029-2155-6efa-8867-6d678fdc5180.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=1329249e70791946fdfcdce218741087 1x" loading="lazy"></a></p>

<p>Chrome Developer Toolsの表示上、<code>Tanaka</code>の中に<code>Creature</code>や<code>Animal</code>や<code>Mammal</code>や<code>Human</code>が存在してそうな雰囲気がありますが、実際はそれらのオブジェクトへの参照が入っています。</p>

<p>さぁ、<code>Tanaka.introduceMyself();</code>が実行された時、JavaScriptがどう動くかを見てみましょう。</p>

<p><code>Tanaka</code>で<code>introduceMyself()</code>が呼び出された。そんなメソッドある？→ないね。でも<code>Human</code>への参照があるね。<br>
じゃあ<code>Human</code>にある？→ないね。でも<code>Mammal</code>への参照があるね。<br>
じゃあ<code>Mammal</code>にある？→ないね。でも<code>Animal</code>への参照があるね。<br>
じゃあ<code>Animal</code>にある？→ないね。でも<code>Creature</code>への参照があるね。<br>
じゃあ<code>Creature</code>にある？→あった！！！あったよ！！！<code>introduceMyself()</code>があった！！！これ呼び出したれ！！！</p>

<p>この繋がりを<strong>プロトタイプチェーン</strong>といいます。<br>
<code>Creature</code>の<code>introduceMyself()</code>を呼び出すことが決まりました。<br>
しかし<code>Tanaka</code>オブジェクトで勝手に<code>Creature</code>をクローンして呼び出すことはありません。</p>

<p>ではどうするのかというと、単純です。<code>introduceMyself()</code>を、<strong>あたかも元々<code>Tanaka</code>のメソッドであったかのように、素知らぬ顔で呼び出す</strong>のです。そのため、<code>introduceMyself()</code>の中にある<code>this.identity</code>は、元々<code>introduceMyself()</code>が定義してあった<code>Creature.prototype</code>にある<code>identity</code>ではなく、<code>Tanaka</code>の<code>identity</code>を使用します。<br>
これが暗黙の委譲です。<br>
つまり、<strong><code>introduceMyself()</code>を、<code>Tanaka</code>のものとして扱う</strong>ということです。<br>
そのため、次のコードと全く同じ挙動をします。</p>

<div class="code-frame" data-lang="js"><div class="highlight"><pre class="with-code"><code><span class="kd">const</span> <span class="nx">Tanaka</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Human</span><span class="p">(</span><span class="dl">"</span><span class="s2">Tanaka</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">Tanaka</span><span class="p">.</span><span class="nx">introduceMyself</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">I am </span><span class="dl">"</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">identity</span><span class="p">)</span> <span class="p">};</span> <span class="c1">// </span>
<span class="nx">Tanaka</span><span class="p">.</span><span class="nx">introduceMyself</span><span class="p">();</span> <span class="c1">// I am Tanaka</span>
</code></pre></div></div>

<p>以上が、JavaScriptにおける暗黙の委譲の説明です。</p>

<p>じゃあ暗黙じゃない、<strong>明示的な委譲（Explicit Delegation）</strong>はどうしたらいいん？<br>
もうお分かりかもしれませんね。<code>__proto__</code>が空っぽで、<code>Human</code>と何の関わりもないSuzukiを作ります。</p>

<div class="code-frame" data-lang="js"><div class="highlight"><pre class="with-code"><code><span class="kd">const</span> <span class="nx">Suzuki</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nx">Suzuki</span><span class="p">.</span><span class="nx">identity</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">Suzuki</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">Suzuki</span><span class="p">.</span><span class="nx">introduceMyself</span> <span class="o">=</span> <span class="nx">Creature</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">introduceMyself</span><span class="p">;</span> <span class="c1">// これは上で定義したやつ</span>
<span class="nx">Suzuki</span><span class="p">.</span><span class="nx">introduceMyself</span><span class="p">();</span> <span class="c1">// I am Suzuki</span>
</code></pre></div></div>

<p>これで完璧。<br>
さて、委譲の定義を確認しましょう。</p>

<h3>
<span id="委譲delegationとは" class="fragment"></span><a href="#%E5%A7%94%E8%AD%B2delegation%E3%81%A8%E3%81%AF"><i class="fa fa-link"></i></a>委譲（Delegation）とは</h3>

<p>英語のwikipediaの"Delegation (object-oriented programming)"のページから引っ張ってきます。</p>

<blockquote>
<p>In object-oriented programming, delegation refers to evaluating a member (property or method) of one object (the receiver) in the context of another original object (the sender). Delegation can be done explicitly, by passing the sending object to the receiving object, which can be done in any object-oriented language; or implicitly, by the member lookup rules of the language, which requires language support for the feature. Implicit delegation is the fundamental method for behavior reuse in prototype-based programming, corresponding to inheritance in class-based programming.</p>

<p>筆者訳：<br>
オブジェクト指向プログラミングで、委譲は、送信側のオブジェクトの文脈で受信側のオブジェクトのメンバ（プロパティやメソッド）を評価することを指します。送信側のオブジェクトを受信側に渡すことで、どんなオブジェクト指向言語でも、委譲は明示的に行うことができます。あるいは、言語で機能としてサポートされていれば、暗黙的に行うこともできます。暗黙の委譲はプロトタイプベースプログラミングで振る舞いの再利用を行うための基本的な方法で、クラスベースプログラミングにおける継承に相当するような存在です。</p>
</blockquote>

<p>さぁ、言ってる内容が分かりましたでしょうか。上で挙げた例では、<code>Tanaka</code>が送信側のオブジェクトで、<code>Creature</code>が受信側のオブジェクトです。そして<code>Creature</code>の<code>introduceMyself()</code>が、<code>Tanaka</code>の文脈で評価されているということです。それから、暗黙の委譲も大丈夫ですね。でも、まだ一つ分からないことがあります。<strong>「送信側のオブジェクトを受信側に渡すことで、どんなオブジェクト指向言語でも、委譲は明示的に行うことができます。」</strong>と書かれていますね。つまり、C#やJavaでも委譲ができると書いてあります。それをどうするかは先に回しましょう。</p>

<h3>
<span id="転送と委譲の決定的な違い" class="fragment"></span><a href="#%E8%BB%A2%E9%80%81%E3%81%A8%E5%A7%94%E8%AD%B2%E3%81%AE%E6%B1%BA%E5%AE%9A%E7%9A%84%E3%81%AA%E9%81%95%E3%81%84"><i class="fa fa-link"></i></a>転送と委譲の決定的な違い</h3>

<p>さて、転送と委譲の決定的な違いを図でまとめました。この内容が理解できたら、あなたは転送・委譲マスターです。</p>

<p>このスライドではJavaScriptはモダンなclassの書き方を使っています。コンストラクタ内で<code>super();</code>が強制されること以外は、やってる内容に違いはありません。</p>

<p><a href="https://camo.qiitausercontent.com/23644366ad10962a1a81b7b903cbd0700f9f933a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3236353930302f65663336613630302d636437352d616261382d636462332d3336613232363336316338322e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F265900%2Fef36a600-cd75-aba8-cdb3-36a226361c82.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=e097634b9d3750115deb1dea5ba112a2" alt="Slide1.JPG" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/265900/ef36a600-cd75-aba8-cdb3-36a226361c82.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F265900%2Fef36a600-cd75-aba8-cdb3-36a226361c82.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=3cb10807739a6d8208c2d8f1901cb093 1x" loading="lazy"></a></p>

<hr>

<p><a href="https://camo.qiitausercontent.com/09eac05807746c403a6a90c1361fabbb716838da/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3236353930302f62353462383936302d613632662d623635312d323037322d3166336333343563646435312e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F265900%2Fb54b8960-a62f-b651-2072-1f3c345cdd51.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d5c62fa058c811d311e7c3774748718e" alt="Slide2.JPG" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/265900/b54b8960-a62f-b651-2072-1f3c345cdd51.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F265900%2Fb54b8960-a62f-b651-2072-1f3c345cdd51.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=c9d8d9c97159c93bb6025cfda88e5dee 1x" loading="lazy"></a></p>

<p>委譲と転送の違いはこれで完璧ですね！</p>

<h3>
<span id="クラスベース言語で委譲" class="fragment"></span><a href="#%E3%82%AF%E3%83%A9%E3%82%B9%E3%83%99%E3%83%BC%E3%82%B9%E8%A8%80%E8%AA%9E%E3%81%A7%E5%A7%94%E8%AD%B2"><i class="fa fa-link"></i></a>クラスベース言語で委譲</h3>

<p>C#やJavaでも真の委譲がしたい！という方のために、最後にC#での委譲の書き方だけ説明しておきます。ただ、言語として暗黙的にサポートされているJavaScriptの委譲よりも書き方として難解になるため、どうしても、そう、<strong>どうしても</strong>必要に迫られない限りは避けた方が良いでしょう。<br>
先に挙げたwikipediaの<strong>「送信側のオブジェクトを受信側に渡すことで、どんなオブジェクト指向言語でも、委譲は明示的に行うことができます。」</strong>というのは、このような書き方のことを指しています。</p>

<p>サクッと書きましょうね～。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code>    <span class="c1">// identityを取得するためにinterfaceを定義する。</span>
    <span class="c1">// 名前の先頭に"I"をつけるのはinterfaceでよくある命名。</span>
    <span class="k">public</span> <span class="k">interface</span> <span class="nc">IIdentity</span>
    <span class="p">{</span>
        <span class="kt">string</span> <span class="nf">GetIdentity</span><span class="p">();</span>
    <span class="p">}</span>
</code></pre></div></div>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code>    <span class="c1">// 受信側。IIdentityを実装してるよ。</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">DelegatingMammal</span> <span class="p">:</span> <span class="n">IIdentity</span>
    <span class="p">{</span>
        <span class="k">private</span> <span class="k">readonly</span> <span class="kt">string</span> <span class="n">_identity</span> <span class="p">=</span> <span class="s">"Mammal"</span><span class="p">;</span>

        <span class="k">public</span> <span class="kt">string</span> <span class="nf">GetIdentity</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">_identity</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">// interface型の引数なのがポイント。</span>
        <span class="c1">// あと、デフォルト引数でnullにして、nullだった場合にthisをセットする。</span>
        <span class="c1">// 引数が(IIdentity iidentity = this)だとC#の都合でコンパイルが通らない。</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">IntroduceMyself</span><span class="p">(</span><span class="n">IIdentity</span> <span class="n">iidentity</span> <span class="p">=</span> <span class="k">null</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">iidentity</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">iidentity</span> <span class="p">=</span> <span class="k">this</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"I am a "</span> <span class="p">+</span> <span class="n">iidentity</span><span class="p">.</span><span class="nf">GetIdentity</span><span class="p">());</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div></div>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code>    <span class="c1">// 送信側。こっちもIIdentityを実装してるよ。</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">DelegatingHuman</span> <span class="p">:</span> <span class="n">IIdentity</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="k">readonly</span> <span class="kt">string</span> <span class="n">_identity</span> <span class="p">=</span> <span class="s">"Human"</span><span class="p">;</span>
        <span class="k">private</span> <span class="k">readonly</span> <span class="n">DelegatingMammal</span> <span class="n">_mammal</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DelegatingMammal</span><span class="p">();</span>

        <span class="k">public</span> <span class="kt">string</span> <span class="nf">GetIdentity</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">_identity</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">IntroduceMyself</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">_mammal</span><span class="p">.</span><span class="nf">IntroduceMyself</span><span class="p">(</span><span class="k">this</span><span class="p">);</span> <span class="c1">// 委譲する。thisを突っ込むのがポイント。</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">Talk</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">_identity</span> <span class="p">+</span> <span class="s">" is talking...ぺちゃくちゃ..."</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div></div>

<p>そして実行。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="kt">var</span> <span class="n">dmammal</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DelegatingMammal</span><span class="p">();</span>
<span class="n">dmammal</span><span class="p">.</span><span class="nf">IntroduceMyself</span><span class="p">();</span> <span class="c1">// I am a Mammal</span>

<span class="kt">var</span> <span class="n">dhuman</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DelegatingHuman</span><span class="p">();</span>
<span class="n">dhuman</span><span class="p">.</span><span class="nf">IntroduceMyself</span><span class="p">();</span> <span class="c1">// I am a Human</span>
</code></pre></div></div>

<p>今回、送信側の文脈として評価しているのは、<code>_identity</code>ではなく<code>GetIdentity()</code>です。送信側のオブジェクトをそのままinterfaceである<code>IIdentity</code>型の引数として渡すことで、送信側の<code>GetIdentity()</code>を呼んでいるわけです。<br>
これでオッケー。しっかりと"I am a Human"ですね。</p>

<h2>
<span id="３net-frameworkの仕様であるnet-delegates" class="fragment"></span><a href="#%EF%BC%93net-framework%E3%81%AE%E4%BB%95%E6%A7%98%E3%81%A7%E3%81%82%E3%82%8Bnet-delegates"><i class="fa fa-link"></i></a>（３）.NET Frameworkの仕様である.NET Delegates</h2>

<h3>
<span id="またまたそんなご冗談を" class="fragment"></span><a href="#%E3%81%BE%E3%81%9F%E3%81%BE%E3%81%9F%E3%81%9D%E3%82%93%E3%81%AA%E3%81%94%E5%86%97%E8%AB%87%E3%82%92"><i class="fa fa-link"></i></a>またまたそんな、ご冗談を</h3>

<p>さぁ、第３のデリゲートは.NET Frameworkの仕様です。フレームワークの仕様と聞いて、きっと、上で紹介された委譲か転送かを特定の言語で書きやすくしたものだと、あなたは思うことでしょう。違います。</p>

<p><strong>このデリゲートは委譲（Delegation）とも転送（Forwarding）とも一切関係ありません。正しく、「第３の」デリゲートです。</strong><br>
おっと、観客席から激しいブーイングが上がっております！</p>

<p>C#の文脈以外ではこのデリゲートは滅多に登場しないため、C#やVBを書く方以外は、このデリゲートについてあまり気にする必要はありません。<br>
ここでは他のデリゲートと区別するために<code>.NET Delegates</code>と記していますが、実際に登場する時は単に「デリゲート(Delegates)」と呼ばれることが多いです。</p>

<h3>
<span id="netで高階関数" class="fragment"></span><a href="#net%E3%81%A7%E9%AB%98%E9%9A%8E%E9%96%A2%E6%95%B0"><i class="fa fa-link"></i></a>.NETで高階関数</h3>

<p><code>.NET Delegates</code>という仕様は、.NETで<strong>部分的な関数型プログラミング</strong>をするための仕様である……と考えると、おそらく最初は理解しやすいでしょう。<code>.NET Delegates</code>の実装を使うことで、関数を引数にしたり、関数を返り値にしたりするような関数を定義することができるようになります。そのような関数を<strong>高階関数</strong>といいます。その高階関数が引数にしたり、返り値にしたりする関数の型はすべて、C#では「<code>System.Delegate</code>型の子クラス」です。<code>System.Delegate</code>型は<code>.NET Delegates</code>の仕様をプログラムに落とし込んだものというわけです。</p>

<p>（※【重要】<code>.NET Delegates</code>によって実現できることは高階関数を書くことだけではありません。これはあくまでそう使われることが多く、そのように考えると、とりあえず<code>.NET Delegates</code>の使い方の基本を理解できるだろうと思っての説明です）</p>

<p>そしてC#には、<code>delegate</code>という予約語があります。この<code>delegate</code>は「<code>System.Delegate</code>型の子クラス」を定義するためのものです。どんな風に書くかを例に書いてみましょう。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code>    <span class="c1">// 引数(string name) &amp; 返り値なし(void)の関数の型として、</span>
    <span class="c1">// [System.Delegate型の子クラス]であるDelegateSubIntroduce型を定義するよという意味</span>
    <span class="c1">// 名前にSubとつけたのはSystem.Delegate型のサブクラス（＝子クラス）だから</span>
    <span class="k">public</span> <span class="k">delegate</span> <span class="k">void</span> <span class="nf">DelegateSubIntroduce</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">);</span>
</code></pre></div></div>

<p>これ自体はメソッドではありません。「<code>System.Delegate</code>型の子クラス」、つまりは型です。なので引数にしたり、返り値にしたりすることができます。</p>

<p>さて、Lisaクラスの<code>Talk()</code>メソッドの引数に、さっき定義した関数型を入れてみましょう。例によって超適当な例ですね。なんなんだLisaクラスって。もし関数型プログラミングをこの記事で初めて知ったという人が読んでいたら、本当に申し訳ありません。高階関数の使い所などについて説明するのはこの記事の目的ではないので、もっと適切な例を挙げている別の記事を読んで学んでください。こんな例では使い方は分かっても、いつ使ったらいいかさっぱり分かりません。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code>    <span class="k">public</span> <span class="k">static</span> <span class="k">class</span> <span class="nc">Lisa</span>
    <span class="p">{</span>
        <span class="c1">// さっき定義したDelegateSubIntroduceを引数に。これで、関数を引数に持つことができるようになった。</span>
        <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Talk</span><span class="p">(</span><span class="n">DelegateIntroduce</span> <span class="n">delIntro</span><span class="p">,</span> <span class="kt">string</span> <span class="n">name</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nf">delIntro</span><span class="p">(</span><span class="n">name</span><span class="p">);</span> <span class="c1">// ここで引数の関数が実行される。後ろにカッコをつけないと、関数は実行されない。</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="s">"Hi. I'm Lisa."</span><span class="p">);</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div></div>

<p>そして、Talkメソッドの引数として突っ込む予定の、何の面白みもないメソッドを作っておきましょう。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code>    <span class="k">public</span> <span class="k">static</span> <span class="k">class</span> <span class="nc">Someone</span>
    <span class="p">{</span>
        <span class="c1">// このメソッドを、メソッドごと変数に突っ込む予定。（※正確にはメソッドへの参照を渡す）</span>
        <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">IntroduceMyself</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Hi. I am "</span> <span class="p">+</span> <span class="n">name</span> <span class="p">+</span> <span class="s">"."</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div></div>

<p>実際に動かします。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code>    <span class="c1">// ここでは何も出力されない。メソッドをDelegateIntroduceに代入する（※メソッドへの参照を渡す）だけ。</span>
    <span class="n">DelegateSubIntroduce</span> <span class="n">delIntro</span> <span class="p">=</span> <span class="n">Someone</span><span class="p">.</span><span class="n">IntroduceMyself</span><span class="p">;</span>

    <span class="c1">// ここで初めてコンソール出力される。</span>
    <span class="n">Lisa</span><span class="p">.</span><span class="nf">Talk</span><span class="p">(</span><span class="n">delIntro</span><span class="p">,</span> <span class="s">"Yuki"</span><span class="p">);</span> 
</code></pre></div></div>

<p>出力はこうなります。私が中学生の時、英語の教科書で最初に目にしたのがこの文でした。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre class="with-code"><code>    Hi. I am Yuki.
    Hi. I'm Lisa.
</code></pre></div></div>

<p><code>delegate</code>と、それが作り出す<code>System.Delegate</code>の子クラスについての説明は以上です。</p>

<h3>
<span id="代表的なsystemdelegateの子クラス" class="fragment"></span><a href="#%E4%BB%A3%E8%A1%A8%E7%9A%84%E3%81%AAsystemdelegate%E3%81%AE%E5%AD%90%E3%82%AF%E3%83%A9%E3%82%B9"><i class="fa fa-link"></i></a>代表的なSystem.Delegateの子クラス</h3>

<p>いちいち<code>DelegateSubIntroduce</code>型なんて定義したくない、面倒くさい、という人のために、最初から作られている便利な<code>System.Delegate</code>型の子クラスがあります。昔のC#ではこれらはありませんでしたが、今では予約語の<code>delegate</code>を使って子クラスを定義することは稀かもしれません。代わりに使うのがこの２つです。</p>

<ul>
<li>
<code>Func</code>（返り値があるとき）</li>
<li>
<code>Action</code>（返り値がないとき）</li>
</ul>

<p>他にもありますが、使わなくても済むため、使う機会はそう多くないかもしれません。<code>Func&lt;int,string,bool&gt;</code>のように書くと、その変数は引数(int, string)、返り値boolの関数を入れられるようになります。これらの使い方については、説明している記事は他に沢山あるため、別の記事にデリゲートすることにしましょう。</p>

<h2>
<span id="おわりに" class="fragment"></span><a href="#%E3%81%8A%E3%82%8F%E3%82%8A%E3%81%AB"><i class="fa fa-link"></i></a>おわりに</h2>

<p>記事を書いてる途中で、デリゲートデリゲート書きすぎたせいで何回か発狂しかけました。<br>
この記事が、本当に、本当に、本当にややこしいデリゲートへの、あなたの理解の一助となれば幸いです。</p>

<p>今回初めてQiitaの記事を書きましたが、書く上で分からないことが噴出し、色々調べて、私自身めっちゃめちゃ勉強になりました。<br>
長い記事でしたがここまで読んで頂いて、本当にありがとうございました。</p>

<p>内容におかしな点があったら遠慮なくマサカリください。<br>
.NETの仕様についておかしかったところを指摘して下さったsoiさん、ありがとうございます。</p>

<h4>
<span id="重要な更新履歴" class="fragment"></span><a href="#%E9%87%8D%E8%A6%81%E3%81%AA%E6%9B%B4%E6%96%B0%E5%B1%A5%E6%AD%B4"><i class="fa fa-link"></i></a>重要な更新履歴</h4>

<ul>
<li>2018/11/01 ３番目のデリゲート、.NET Delegatesの内容についてご指摘を受けたため修正・加筆を行いました。それに合わせて、表題や大項目も<code>delegate syntax</code> → <code>.NET Delegates</code>に変更しました。最初はこのデリゲートはオマケみたいに書いていましたが、より一層、デリケートにデリゲートを扱うようになりました。</li>
</ul>

<h2>
<span id="参考url" class="fragment"></span><a href="#%E5%8F%82%E8%80%83url"><i class="fa fa-link"></i></a>参考URL</h2>

<p><a href="https://en.wikipedia.org/wiki/Delegation_(object-oriented_programming)" rel="nofollow noopener" target="_blank">Wikipedia - Delegation (object-oriented_programming)</a><br>
<a href="https://en.wikipedia.org/wiki/Forwarding_(object-oriented_programming)" rel="nofollow noopener" target="_blank">Wikipedia - Forwarding (object-oriented_programming)</a><br>
<a href="https://www.saturnflyer.com/blog/the-gang-of-four-is-wrong-and-you-dont-understand-delegation" rel="nofollow noopener" target="_blank">Jim Gay - The Gang of Four is wrong and you don't understand delegation</a><br>
<a href="http://web.media.mit.edu/%7Elieber/Lieberary/OOP/Delegation/Delegation.html" rel="nofollow noopener" target="_blank">Henry Lieberman - Using Prototypical Objects to Implement Shared Behavior in Object Oriented Systems</a><br>
<a href="https://docs.microsoft.com/ja-jp/dotnet/csharp/delegates-overview" rel="nofollow noopener" target="_blank">microsoft - デリゲートの概要</a></p>

<div class="footnotes">
<hr>
<ol>

<li id="fn1">
<p>参考：Jim Gay - The Gang of Four is wrong and you don't understand delegation <a href="#fnref1">↩</a></p>
</li>

</ol>
</div>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2Fjesus_isao%2Fitems%2F4b6b7846ccf5eb46b1bc&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2Fjesus_isao%2Fitems%2F4b6b7846ccf5eb46b1bc&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/jesus_isao/items/4b6b7846ccf5eb46b1bc/likers" class="css-1iupg5d">136</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">134</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/4b6b7846ccf5eb46b1bc/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/jesus_isao/items/4b6b7846ccf5eb46b1bc/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/jesus_isao/items/4b6b7846ccf5eb46b1bc/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/jesus_isao/items/4b6b7846ccf5eb46b1bc/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/jesus_isao/items/4b6b7846ccf5eb46b1bc.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-103bc836-9902-4600-bc70-ac50f1cf0801">{"authorAnalyticsTrackingId":null,"organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-2a3314b4-8c5d-484a-a568-640a72de1c28"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-2a3314b4-8c5d-484a-a568-640a72de1c28">{}</script>
      
<div id="LoginModal-react-component-8481737d-538e-4434-b952-20bdb11518d7"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-8481737d-538e-4434-b952-20bdb11518d7">{}</script>
      
<div id="StockModal-react-component-e8f7dafb-6c48-4d61-8354-5030bfd3f760"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-e8f7dafb-6c48-4d61-8354-5030bfd3f760">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;7dcrX2joZQ7L9j11C4tRjd6WksKLdszHryPk0aoeiX+NObStLSkftjFIKyBMAm/sDdG3zPnkdDdggqE9L3MaKw==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\n\u003ch2\u003e\n\u003cspan id=\"委譲チョットデキル人向けの要約\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%A7%94%E8%AD%B2%E3%83%81%E3%83%A7%E3%83%83%E3%83%88%E3%83%87%E3%82%AD%E3%83%AB%E4%BA%BA%E5%90%91%E3%81%91%E3%81%AE%E8%A6%81%E7%B4%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e委譲チョットデキル人向けの要約\u003c/h2\u003e\n\n\u003cp\u003e「委譲」や「デリゲート」が指すものはプログラマーによって違うことがある。\u003cbr\u003e\n少なくとも下記３パターンあってマジ初見殺しだよねって話です。\u003c/p\u003e\n\n\u003col\u003e\n\u003cli\u003eForwarding（転送）のこと。GoFがDelegationであると誤用して広まった。元は誤用なのにこれが多数派。\u003c/li\u003e\n\u003cli\u003eJavaScriptなどのプロトタイプベースオブジェクト指向言語などでよく出てくる真のDelegationのこと。Henry Liebermanが定義した。（※JSの場合は暗黙の委譲をよく使っているはず）\u003c/li\u003e\n\u003cli\u003e.NET Frameworkの仕様であるDelegatesや、その実装のこと。\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cp\u003e\u003cstrong\u003e転送と委譲の違いについて分かりやすくまとめた画像\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/23644366ad10962a1a81b7b903cbd0700f9f933a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3236353930302f65663336613630302d636437352d616261382d636462332d3336613232363336316338322e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F265900%2Fef36a600-cd75-aba8-cdb3-36a226361c82.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e097634b9d3750115deb1dea5ba112a2\" width=\"30%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/265900/ef36a600-cd75-aba8-cdb3-36a226361c82.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F265900%2Fef36a600-cd75-aba8-cdb3-36a226361c82.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=3cb10807739a6d8208c2d8f1901cb093 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/09eac05807746c403a6a90c1361fabbb716838da/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3236353930302f62353462383936302d613632662d623635312d323037322d3166336333343563646435312e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F265900%2Fb54b8960-a62f-b651-2072-1f3c345cdd51.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d5c62fa058c811d311e7c3774748718e\" width=\"30%\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/265900/b54b8960-a62f-b651-2072-1f3c345cdd51.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F265900%2Fb54b8960-a62f-b651-2072-1f3c345cdd51.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c9d8d9c97159c93bb6025cfda88e5dee 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"想定読者\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%83%B3%E5%AE%9A%E8%AA%AD%E8%80%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e想定読者\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003e専門書や記事を読んで委譲やデリゲート(delegate/delegation)という単語が出てきて、何それ？と思ってる人。\u003c/li\u003e\n\u003cli\u003eある日、天啓があって「プログラミング　委譲」で検索してきた人。\u003c/li\u003e\n\u003cli\u003e継承、ポリモーフィズムなどの文法を一通り知っている、C#やJavaなどのクラスベースオブジェクト指向言語のプログラマー。\u003c/li\u003e\n\u003cli\u003eJavaScriptなどのプロトタイプベースオブジェクト指向言語で継承をやったことがあるプログラマー。\u003c/li\u003e\n\u003cli\u003eJavaもしくはC#を読むことができ、そしてJavaScriptを読むことができるプログラマー。\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"この記事のゴール\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%93%E3%81%AE%E8%A8%98%E4%BA%8B%E3%81%AE%E3%82%B4%E3%83%BC%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eこの記事のゴール\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003e委譲と転送の違いが理解できるようになり、ある文脈で「委譲」や「デリゲート」という文字を目にした時に、それが指すものが委譲なのか、転送なのか、それとも全く別の何かなのかを判断できるようになること。\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"デリゲートとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%87%E3%83%AA%E3%82%B2%E3%83%BC%E3%83%88%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eデリゲートとは？\u003c/h2\u003e\n\n\u003cp\u003eデリゲートというと難しく聞こえますが、実はその「言葉の意味」自体は簡単です。\u003cbr\u003e\nデリゲートとは委譲のことです。他の何者かに、\u003cstrong\u003e委（ゆだ）ね、譲（ゆず）る\u003c/strong\u003eことです。\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003edelegateは動詞で「委譲する」\u003c/strong\u003e\u003cbr\u003e\n\u003cstrong\u003edelegationは名詞で「委譲」\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003e課長「A社さんの保守、今日から君に譲るわ。うん、大変なお客様かもしれないが、若いうちは何事も経験さ」\u003cbr\u003e\n部下「冗談だろ！？（はい。分かりました）」\u003c/p\u003e\n\n\u003cp\u003eみたいなことです。\u003cbr\u003e\nデリゲートはあなたの生活の一部なのです。\u003c/p\u003e\n\n\u003cp\u003e簡単じゃん！ デリゲート完全に理解したわ！\u003cbr\u003e\nこれで理解できたら苦労しません。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"デリゲートはなぜ難しいか\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%87%E3%83%AA%E3%82%B2%E3%83%BC%E3%83%88%E3%81%AF%E3%81%AA%E3%81%9C%E9%9B%A3%E3%81%97%E3%81%84%E3%81%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eデリゲートはなぜ難しいか\u003c/h2\u003e\n\n\u003cp\u003eデリゲートの難しさは２つの構成要素からできています。\u003c/p\u003e\n\n\u003col\u003e\n\u003cli\u003e人やコミュニティによって指し示すものが違う\u003c/li\u003e\n\u003cli\u003eデリゲートの書き方/文法そのものが複雑\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"難しさ１人やコミュニティによって指し示すものが違う\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%9B%A3%E3%81%97%E3%81%95%EF%BC%91%E4%BA%BA%E3%82%84%E3%82%B3%E3%83%9F%E3%83%A5%E3%83%8B%E3%83%86%E3%82%A3%E3%81%AB%E3%82%88%E3%81%A3%E3%81%A6%E6%8C%87%E3%81%97%E7%A4%BA%E3%81%99%E3%82%82%E3%81%AE%E3%81%8C%E9%81%95%E3%81%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e難しさ１：人やコミュニティによって指し示すものが違う\u003c/h3\u003e\n\n\u003cp\u003eプログラマーのいうデリゲートには、少なくとも私が知っている限りでは、大きく分けて３つの種類があります。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eクラスベース言語のデザインパターンによく出てくる「転送(Forwarding)」の誤用\u003c/li\u003e\n\u003cli\u003e学問的に正しい意味での委譲(Delegation)。プロトタイプベース言語で登場することが多い\u003c/li\u003e\n\u003cli\u003e.NET Frameworkで高階関数の実装を実現できる仕様であるDelegatesのこと。\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eなんか難しげな気配が漂ってきましたね。\u003cbr\u003e\n現時点では、なんかデリゲートが指すものは色々あるらしいなと知っておくだけでよいです。\u003c/p\u003e\n\n\u003cp\u003e複数の指し示す対象があるせいで、委譲・Delegation・デリゲートといくら調べても、\u003cbr\u003e\n自分の求めるデリゲートと、そうでないデリゲートの情報が濁流のように押し寄せて、\u003cbr\u003e\nわけがわかるものもわけがわからなくなります。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"難しさ２デリゲートそのものが複雑\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%9B%A3%E3%81%97%E3%81%95%EF%BC%92%E3%83%87%E3%83%AA%E3%82%B2%E3%83%BC%E3%83%88%E3%81%9D%E3%81%AE%E3%82%82%E3%81%AE%E3%81%8C%E8%A4%87%E9%9B%91\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e難しさ２：デリゲートそのものが複雑\u003c/h3\u003e\n\n\u003cp\u003eデリゲートそのものも、複雑で難しく見えます。少なくとも、私が１年目の新入社員だったら、たとえ１つのデリゲートだって理解できなかったことでしょう。\u003cbr\u003e\nデリゲートを克服するには、ある程度はプログラミングに慣れている必要があります。\u003c/p\u003e\n\n\u003cp\u003eクラスのフィールドに別クラスのインスタンスを持たせてそのラッピーのメソッドに処理をぶん投げたり、「クラスをもとに生成されるオブジェクト」とは違う「プロトタイプから作られるオブジェクト」という概念の言語が出てきたり、関数オブジェクトを定義したりします。\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003eは？\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003eわけわかんないですよね。でもわけわかってもらいます。\u003cbr\u003e\nどのデリゲートも、デリゲートを知らなかった人にとっては複雑に思えて、拒絶反応を起こすかもしれません。\u003cbr\u003e\nけれどもちゃんとプログラマーとしてキャリアを積むのであれば、デリゲートという文字列はよく目にするものになるかもしれません。分からない気持ち悪さを解消するために、共に頑張りましょう。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"いくつかの種類のデリゲート\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%84%E3%81%8F%E3%81%A4%E3%81%8B%E3%81%AE%E7%A8%AE%E9%A1%9E%E3%81%AE%E3%83%87%E3%83%AA%E3%82%B2%E3%83%BC%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eいくつかの種類のデリゲート\u003c/h1\u003e\n\n\u003cp\u003e以下では、いくつかのデリゲート（と呼ばれるものたち）について説明していきます。\u003cbr\u003e\nあまりデリゲートデリゲート言っていると、どのデリゲートについて話しているのか私自身が分からなくなってくるため、これから登場するデリゲート系の用語のここでの使い方を決定しておきます。\u003cbr\u003e\n下記のルールに則って書いていきます。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"ここでの用語の定義\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%93%E3%81%93%E3%81%A7%E3%81%AE%E7%94%A8%E8%AA%9E%E3%81%AE%E5%AE%9A%E7%BE%A9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eここでの用語の定義\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"デリゲート\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%87%E3%83%AA%E3%82%B2%E3%83%BC%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eデリゲート\u003c/h3\u003e\n\n\u003cp\u003eなんかふわっとした言葉。転送／委譲／.NET Delegatesをすべて含めている。\u003cbr\u003e\nここで扱うデリゲート的なもの全体を指す。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"転送forwarding\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%BB%A2%E9%80%81forwarding\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e転送（Forwarding）\u003c/h3\u003e\n\n\u003cp\u003eその1で紹介する用語。デリゲートのうちの一つ。\u003cbr\u003e\n実際には委譲と言われることが多いので、たまにカッコをつけて「委譲」とも書く。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"委譲delegation\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%A7%94%E8%AD%B2delegation\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e委譲（Delegation）\u003c/h3\u003e\n\n\u003cp\u003eその2で紹介する用語。デリゲートのうちの一つ。真のデリゲート。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"net-delegates\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#net-delegates\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e.NET Delegates\u003c/h3\u003e\n\n\u003cp\u003eその3で紹介する用語。.NETの言語仕様。デリゲートのうちの一つ。\u003cbr\u003e\nおそらく、「デリゲート」で検索するとこれが一番ヒットする。\u003cbr\u003e\nJavaの人のためにざっくり説明すると、.NETはC#やVBで必須なフレームワークのこと。\u003c/p\u003e\n\n\u003ch5\u003e\n\u003cspan id=\"delegatenet-delegates\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#delegatenet-delegates\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003edelegate（.NET Delegates）\u003c/h5\u003e\n\n\u003cp\u003eその3で紹介する、.NET Delegatesの実装。C#で予約語となっている。デリゲートのうちの一つ。\u003c/p\u003e\n\n\u003ch5\u003e\n\u003cspan id=\"systemdelegate型net-delegates\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#systemdelegate%E5%9E%8Bnet-delegates\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eSystem.Delegate型（.NET Delegates）\u003c/h5\u003e\n\n\u003cp\u003eその3で紹介する、.NET Delegatesの実装。.NETのクラスライブラリのクラス。デリゲートのうちの一つ。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"１デザインパターンによく出てくる転送forwardingの誤用\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%EF%BC%91%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3%E3%81%AB%E3%82%88%E3%81%8F%E5%87%BA%E3%81%A6%E3%81%8F%E3%82%8B%E8%BB%A2%E9%80%81forwarding%E3%81%AE%E8%AA%A4%E7%94%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e（１）デザインパターンによく出てくる、「転送(Forwarding)」の誤用\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"誤用\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%AA%A4%E7%94%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e誤用？\u003c/h3\u003e\n\n\u003cp\u003e\u003cstrong\u003e最もよく知られているデリゲートは、転送(Forwarding)の誤用です。\u003c/strong\u003eえっ！？\u003cbr\u003e\nただ、元々誤用ではありますが、このデリゲートだけ知っておけば、とりあえずは一息つくことができます。クラスベースのオブジェクト指向言語の専門書でも、このデリゲートだけ知っていれば大丈夫。\u003cbr\u003e\nけれども、誤用なんだということは理解しておいて損はありません。主なメリットとして、ある日、デリゲート原理主義者に\u003cstrong\u003e「オマエの言ってる委譲は委譲ちゃうわ！」\u003c/strong\u003eとマサカリをぶん投げられてもびっくりせずに済むというものがあります。\u003cbr\u003e\n本当は転送(Forwarding)というのが正しいんですが、\u003cstrong\u003eむしろ転送という言葉の方がマイナーなので通じない可能性が高い\u003c/strong\u003eです。\u003c/p\u003e\n\n\u003cp\u003eなぜ本当は転送であるべきはずのものが委譲として広まってしまったのでしょうか。\u003cbr\u003e\n一説によれば、GoF（Gang of Four）のデザインパターン本で「転送」が「委譲」として紹介されてしまったことが原因であると言われています。\u003csup id=\"fnref1\"\u003e\u003ca href=\"#fn1\" title=\"参考：Jim Gay - The Gang of Four is wrong and you don't understand delegation\"\u003e1\u003c/a\u003e\u003c/sup\u003e\u003cbr\u003e\n有名なFowlerの『リファクタリング』でも、結城浩の『Java言語で学ぶデザインパターン入門』でも、ついでに2018年10月26日現在の日本語Wikipediaの「委譲」のページでも、転送が委譲として紹介されています。\u003cbr\u003e\n誤解のないように言っておくと、今先に挙げた２冊の本は、どちゃくそ良い本です。\u003cbr\u003e\nそういった良書に登場するほどに、転送の誤用としてのデリゲートは広まっているということです。\u003c/p\u003e\n\n\u003cp\u003eそもそも、JavaやC#などの言語では本来的な意味での委譲（Delegation）が登場することは\u003cstrong\u003eとても稀\u003c/strong\u003eです。書くとしたら難解になります。本来の委譲（Delegation）は、転送の次に紹介しますが、JavaScriptのようなプロトタイプベースオブジェクト指向言語で言語としてサポートされているため、こちらで登場することが多いです。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"転送forwardingの書き方\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%BB%A2%E9%80%81forwarding%E3%81%AE%E6%9B%B8%E3%81%8D%E6%96%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e転送(Forwarding)の書き方\u003c/h3\u003e\n\n\u003cp\u003eそういうわけで、まずここでは転送の書き方について説明します。小難しい転送の定義については後回しにしましょう。\u003cbr\u003e\n転送を制する者はデリゲートを制すと言っても過言ではありません！\u003c/p\u003e\n\n\u003cp\u003eクラスベースオブジェクト指向プログラミング言語では、継承という機能が存在します。\u003cbr\u003e\n転送は、この継承と対になるように登場することがあります。継承と、転送。「この場合は継承より転送の方がいいね」みたいに言います。（※実際には転送ではなく、「委譲」と書かれることがほとんどです。）\u003cbr\u003e\n転送は、継承という言語としての機能を、継承を使わずに実装する方法として使われることが多いです。継承と転送はよく似ていて、やろうとしていることは基本的に同じです。\u003c/p\u003e\n\n\u003cp\u003eそれでは実際に継承で書く場合と、転送で書く場合を比較して、どのように実装に違いが出るのか見てみましょう。\u003cbr\u003e\nここでは「哺乳類（Mammal）」クラスと、それを継承する「人間（Human）」クラスについて考えてみます。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"継承を使って実装するこれは転送ではないよ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B6%99%E6%89%BF%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B%E3%81%93%E3%82%8C%E3%81%AF%E8%BB%A2%E9%80%81%E3%81%A7%E3%81%AF%E3%81%AA%E3%81%84%E3%82%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e継承を使って実装する（これは転送ではないよ）\u003c/h3\u003e\n\n\u003cp\u003e\u003ccode\u003eMammal\u003c/code\u003eクラスをこんな風に実装したとします。なんてことはありません。\u003cbr\u003e\n例はC#で書いていますが、見た目はJavaと似たようなものなので、Javaが読めれば読めます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eMammal\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003e_identity\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Mammal\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eIntroduceMyself\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"I am a \"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003e_identity\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 大事なのはメンバ変数を呼んでいるとこ。\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eそして呼び出し。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003emammal\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eMammal\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"n\"\u003emammal\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eIntroduceMyself\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// I am a Mammal\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eうん、いいね。\u003cbr\u003e\nそして、\u003ccode\u003eMammal\u003c/code\u003eを継承した\u003ccode\u003eHuman\u003c/code\u003eを実装します。\u003cbr\u003e\n人間らしく\u003ccode\u003eTalk()\u003c/code\u003eメソッドを追加しましょう。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e    \u003cspan class=\"c1\"\u003e// 継承版\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eHuman\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eMammal\u003c/span\u003e \u003cspan class=\"c1\"\u003e// HumanはMammalを継承している、という書き方\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003e_identity\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Human\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eTalk\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"A \"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003e_identity\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e\" is talking...ぺちゃくちゃ...\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eうん、良いんじゃないかな。\u003cbr\u003e\n\u003cdel\u003e筆者は「\u003ccode\u003eHuman\u003c/code\u003eのインスタンスはTanakaやSuzukiみたいな個人じゃないと変だ！」とか、そういうオブジェクト指向べき論について一切気にしない人で、ついでに例もかなり適当です。\u003c/del\u003e\u003cbr\u003e\nさあ呼び出しはどうだ！\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e    \u003cspan class=\"c1\"\u003e// 継承版\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003ehuman\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eHuman\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ehuman\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eIntroduceMyself\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// I am a Mammal（HumanなのにMammal。これ大事）\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ehuman\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eTalk\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// A Human is talking...ぺちゃくちゃ...\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e……おや？　\u003ccode\u003eIntroduceMyself()\u003c/code\u003eで\"I am a Human\"と言って欲しかったんだけどな……。\u003cbr\u003e\nと思うかもしれませんが、これは仕方ないことです。継承がしていることは、親クラスを子クラスの内部でnewしているのと同じで、子クラスはそれを使っているだけです。ここではOverrideも何もしていないので\u003ccode\u003eIntroduceMyself()\u003c/code\u003eは親クラスのものそのものですし、参照するのは親クラスの_identityです。\"I am a Human\"と言わせたければ、Overrideして再定義してやる必要があります。\u003cbr\u003e\nこの継承による\u003ccode\u003eIntroduceMyself()\u003c/code\u003eの挙動は、転送（Forwarding）ではない委譲（Delegation）を理解する上でもとても大事なので覚えておいて下さい。\u003cbr\u003e\nまぁ\"I am a Mammal\"「私は哺乳類です」でも\u003cstrong\u003e間違っちゃいないので\u003c/strong\u003e（？）、ここでは、子クラスでのOverrideは行わないで完了とします。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"転送を使って実装する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%BB%A2%E9%80%81%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e転送を使って実装する\u003c/h3\u003e\n\n\u003cp\u003eさて、継承を使って実装できたので、上で書いたHumanクラスと\u003cstrong\u003e全く同じように振る舞う\u003c/strong\u003e転送バージョンを書いてみます。\u003cbr\u003e\nMammalクラスは前に作ったものをそのまま再利用します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e    \u003cspan class=\"c1\"\u003e// 転送版。\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// この場合、ForwardingHumanはMammalをラップしているラッパークラスであるという。\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eForwardingHuman\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"n\"\u003eMammal\u003c/span\u003e \u003cspan class=\"n\"\u003e_mammal\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eMammal\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// メンバ変数にMammalを持っている！\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003e_identity\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Human\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eIntroduceMyself\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003e_mammal\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eIntroduceMyself\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 転送する\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eTalk\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"A \"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003e_identity\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e\" is talking...ぺちゃくちゃ...\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eそして呼び出し。うん、継承と一緒ですね。\u003cbr\u003e\n相変わらずの\"I am a Mammal\"\u003cbr\u003e\n素晴らしい。完成！　これこそ転送だ！\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e    \u003cspan class=\"c1\"\u003e// 転送版\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003efhuman\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eForwardingHuman\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"n\"\u003efhuman\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eIntroduceMyself\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// I am a Mammal\u003c/span\u003e\n    \u003cspan class=\"n\"\u003efhuman\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eTalk\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// A Human is talking...ぺちゃくちゃ...\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e//　比較用。継承版\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003ehuman\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eHuman\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ehuman\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eIntroduceMyself\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// I am a Mammal\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ehuman\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eTalk\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// A Human is talking...ぺちゃくちゃ...\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003cstrong\u003e「めんどくさっ」\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003eちょっと待ってください！！！！！！！！！！\u003c/strong\u003e\u003cbr\u003e\n転送は大事です。転送が継承よりも優れた設計となるケースもあります！\u003cbr\u003e\n残念ながらここでは主題から逸れるので詳細に説明はできませんが、後で少しだけ触れましょう。\u003cbr\u003e\nまずは、転送の定義について確認しておきましょう。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"転送forwardingとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%BB%A2%E9%80%81forwarding%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e転送（Forwarding）とは\u003c/h3\u003e\n\n\u003cp\u003e英語のwikipediaの\"Forwarding (object-oriented programming)\"のページから引っ張ってきます。\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003eIn object-oriented programming, forwarding means that using a member of an object (either a property or a method) results in actually using the corresponding member of a different object: the use is forwarded to another object. Forwarding is used in a number of design patterns, where some members are forwarded to another object, while others are handled by the directly used object. The forwarding object is frequently called a wrapper object, and explicit forwarding members are called wrapper functions.\u003c/p\u003e\n\n\u003cp\u003e筆者訳：\u003cbr\u003e\nオブジェクト指向プログラミングにおける転送（Forwarding）は、あるオブジェクトのメンバ（プロパティかメソッドのどちらか）を使うことが、実際には別のオブジェクトの対応するメンバを呼び出していることを意味します。つまり、別のオブジェクトを「使う」ことが、その別のオブジェクトに対して「転送している」ということです。\u003cbr\u003e\n転送は多くのデザインパターンで使用されています。そのデザインパターンでは、いくつかのメンバは別オブジェクトに転送する一方で、残りのメンバは直接、オブジェクト内で処理しています。転送する側のオブジェクトはしばしばラッパーオブジェクトと呼ばれ、明示的に転送しているメンバのことはラッパー関数と呼ばれます。\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003e上で私が書いた例でいうと、人間（ForwardingHuman）クラスは哺乳類（Mammal）クラスをラップした（＝包み込んだ）、ラッパーオブジェクトなわけですね。\u003ccode\u003eForwardingHuman\u003c/code\u003eクラスのメンバである\u003ccode\u003eIntroduceMyself()\u003c/code\u003eメソッドが\u003ccode\u003eMammal\u003c/code\u003eクラスの\u003ccode\u003eIntroduceMyself()\u003c/code\u003eメソッドに転送しているということです。\u003cbr\u003e\nちなみにラップする側のラッパー（wrapper）に対して、ラップされる側をラッピー（wrappee）ということもあります。ラッパーはラッピーに転送します。\u003c/p\u003e\n\n\u003cp\u003e転送がやりたいことは、基本的に継承と同じことです。振る舞いの再利用がしたいだけです。\u003cbr\u003e\nじゃあなんで継承で書かないの？　と思うかもしれません。もちろん理由はあります。継承で書けるなら、継承で書いても良いのです。しかし継承ではどうにもならないケースというのも確かに存在します。たとえば、継承では、子クラスから見た親クラスは常に固定化されています。親クラス１に対して、子クラスがnある関係です。子クラスが１で、親クラスがnにはなれません。継承している子クラスは、別の親クラスに継承先を切り替えることができません。そのため、次で紹介するような転送を使ったデザインパターンが登場します。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"転送の応用\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%BB%A2%E9%80%81%E3%81%AE%E5%BF%9C%E7%94%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e転送の応用\u003c/h3\u003e\n\n\u003cp\u003eここでは転送の使い所の1例として、Strategyパターンの使い所をほんのちょっと紹介しますが、\u003cstrong\u003e本題から逸れるためStrategyの説明自体はしません。Strategyの説明については、別の記事に「委譲」します。\u003c/strong\u003eStrategyについてもっと知りたければ、デザインパターンを紹介している技術書や記事などを参照してください。\u003c/p\u003e\n\n\u003cp\u003eさて、人間には人種があります。そして個人には性格があります。人間クラスをもっとしっかり設計する上で、次のような特徴をもつものを実装することにしました。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e人種4つ：コーカソイド・ネグロイド・モンゴロイド・オーストラロイド\u003c/li\u003e\n\u003cli\u003e性格4つ：神経質・外交的・調和的・勤勉\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eそして、それぞれを実装するインスタンスにこんな振る舞いをさせたくなりました。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e    \u003cspan class=\"c1\"\u003e// モンゴロイドで外交的な人間。\u003c/span\u003e\n    \u003cspan class=\"n\"\u003emongoloidDiplomacyHuman\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eInvite\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// Let's party!\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// コーカソイドで外交的な人間。\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ecaucasoidDiplomacyHuman\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eInvite\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// Let's party!\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// モンゴロイドで勤勉な人間。\u003c/span\u003e\n    \u003cspan class=\"n\"\u003emongoloidDiligenceHuman\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eInvite\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// Let's write a program\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003emongoloidDiplomacyHuman\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eTalkAboutRace\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// Skin color of Mongoloid is generally yellow\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ecaucasoidDiplomacyHuman\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eTalkAboutRace\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// Skin color of Caucasoid is generally white\u003c/span\u003e\n    \u003cspan class=\"n\"\u003emongoloidDiligenceHuman\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eTalkAboutRace\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// Skin color of Mongoloid is generally yellow\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// すべてに共通の処理\u003c/span\u003e\n    \u003cspan class=\"n\"\u003emongoloidDiplomacyHuman\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLaugh\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// Hahahaha\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ecaucasoidDiplomacyHuman\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLaugh\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// Hahahaha\u003c/span\u003e\n    \u003cspan class=\"n\"\u003emongoloidDiplomacyHuman\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLaugh\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// Hahahaha\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// 実際の呼び出しではポリモーフィズムを使う。\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// 何が呼び出されるかは分からない。\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ehuman\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eInvite\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ehuman\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eTalkAboutRace\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ehuman\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLaugh\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e人種と性格の組み合わせは4*4=16通りです。コーカソイド神経質、コーカソイド外交的、コーカソイド調和的、コーカソイド勤勉……オーストラロイド勤勉まで、全部で16通りの組み合わせを作る必要があります。\u003cbr\u003e\n継承で作った場合は、コーカソイド神経質クラスは、コーカソイドクラスを継承して作るようになるでしょう。そうすると、コーカソイドクラス、ネグロイドクラス、モンゴロイドクラス、オーストラロイドクラスといったスーパークラスがそれぞれ必要になり、4+16の合計20個のクラスが出来上がります。多すぎますね。更に人種や性格は、より細分化するなどして増える可能性があります。最初に一回だけ実装するなら、脳死しながらひたすらクラスを追加していくだけです。ちょっと手間で、地味で退屈ですが、\u003cstrong\u003e簡単\u003c/strong\u003eな作業です。簡単さは大切ですよね。\u003c/p\u003e\n\n\u003cp\u003eしかし\u003cstrong\u003e現実は非情\u003c/strong\u003eであり、いつか機能修正や機能追加の時が訪れます。もしかしたら、案外すぐかもしれません。\u003cbr\u003e\n\u003cstrong\u003e「あの、現場からですね……人種と性格はそれぞれ8種じゃないとこのシステムは使い物にならないって言われるんですけど」\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003e無理に継承を使う必要はありません。Humanクラスの中にif文で実装するという手もあります。この場合はそちらの方が簡単でしょう。\u003ccode\u003enew Human(\"mongoloid\",\"diplomacy\")\u003c/code\u003eのようにすると、Humanのプロパティとして引数の値がセットされ、IntroduceMyself()の中にそのプロパティを読む条件分岐を沢山作っておくのです。ifの分岐が沢山できますが、これもまた簡単な作業です。\u003c/p\u003e\n\n\u003cp\u003eでも、これは\u003cstrong\u003eただの例だからそれで済む\u003c/strong\u003eのであって、現実にはこうした分岐の中の処理が\u003ccode\u003eConsole.WriteLine(\"Let's party!\")\u003c/code\u003eだけで済むはずがありません。もっと複雑で長い処理になることでしょう。\u003cbr\u003e\nifのコードブロックは巨大化し、1ファイルがやがて数千行になってしまうことが想像できます。これではおちおちパーリーもできません。\u003c/p\u003e\n\n\u003cp\u003eそうならないためにStrategyが使えます。\u003cbr\u003e\n……。\u003cbr\u003e\nもし、Strategyパターンを知らないというのであれば、Strategyについて学び、モンゴロイドで外交的な人間などをぜひ実装してみて下さい。\u003cbr\u003e\nおそらく2つのinterfaceと4つの人種クラス、4つの性格クラス、そしてそれらに転送をする人間クラスができるはずです。\u003cbr\u003e\n最近流行り（？）のDI（Dependency Injection）コンテナのもとになっているのはDIパターンで、DIパターンはStrategyパターンそのものです。応用できるところはとても多いので学んでいて損はないはずです。\u003c/p\u003e\n\n\u003cp\u003e最後に、転送を使ったデザインパターンの代表例を挙げておきます。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eChain of Responsibility\u003c/li\u003e\n\u003cli\u003eDecorator\u003c/li\u003e\n\u003cli\u003eStrategy\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e他にも色々あります。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"２henry-liebermanが定義した真の委譲delegation\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%EF%BC%92henry-lieberman%E3%81%8C%E5%AE%9A%E7%BE%A9%E3%81%97%E3%81%9F%E7%9C%9F%E3%81%AE%E5%A7%94%E8%AD%B2delegation\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e（２）Henry Liebermanが定義した、真の委譲（Delegation）\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"これこそが本当の委譲\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%93%E3%82%8C%E3%81%93%E3%81%9D%E3%81%8C%E6%9C%AC%E5%BD%93%E3%81%AE%E5%A7%94%E8%AD%B2\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eこれこそが本当の委譲\u003c/h3\u003e\n\n\u003cp\u003eお待たせしました。\u003cbr\u003e\n学術的には、ここで紹介する委譲（Delegation）こそが唯一絶対のデリゲートです。デリゲート原理主義者が崇拝するデリゲート唯一神はこの委譲のことです。\u003c/p\u003e\n\n\u003cp\u003eOOPSLA (Object-Oriented Programming, Systems, Languages \u0026amp; Applications) という、2018年現在に至るまで毎年開催されているオブジェクト指向プログラミングの学会があります。\u003cbr\u003e\nその第１回目である1986年、当時MITの研究者だったHenry Liebermanが\"Using Prototypical Objects to Implement Shared Behavior in Object Oriented Systems\"（筆者訳：「オブジェクト指向システムで共通の振る舞い（Behavior）を実装するための原型的な(Prototypical)オブジェクトの使用」）という論文を発表しました。\u003cbr\u003e\n86年当時のものではありませんが、Lieberman自身の手で更新されたその論文は、\u003ca href=\"http://web.media.mit.edu/%7Elieber/Lieberary/OOP/Delegation/Delegation.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003eここ\u003c/a\u003eで読むことができます。その論文の中で、Delegationが初めて登場しました。\u003c/p\u003e\n\n\u003cp\u003eHenry Liebermanが発案したDelegationは、プロトタイプベースのオブジェクト指向プログラミング言語\"Self\"で実装されました。そしてそのSelfに大きな影響を受けたのが、現在フロントエンドで大活躍中の\u003cstrong\u003eJavaScript\u003c/strong\u003eです。Delegationの実装は、JavaScriptにしっかりと引き継がれています。\u003cstrong\u003eプロトタイプチェーン\u003c/strong\u003eの根っこの考え方に、Delegationそのものがあります。\u003cbr\u003e\nJavaScriptでは言語として委譲（Delegation）が強力にサポートされており、そのプロトタイプチェーンを用いて勝手に行われる委譲のことを\u003cstrong\u003e暗黙の委譲(Implicit Delegation)\u003c/strong\u003eと言ったりします。\u003cbr\u003e\nここでは、一番目にする機会が多いであろう、暗黙の委譲についてご紹介します。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"おいおいそもそもプロトタイプベースのオブジェクト指向言語って何だよ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%8A%E3%81%84%E3%81%8A%E3%81%84%E3%81%9D%E3%82%82%E3%81%9D%E3%82%82%E3%83%97%E3%83%AD%E3%83%88%E3%82%BF%E3%82%A4%E3%83%97%E3%83%99%E3%83%BC%E3%82%B9%E3%81%AE%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%8C%87%E5%90%91%E8%A8%80%E8%AA%9E%E3%81%A3%E3%81%A6%E4%BD%95%E3%81%A0%E3%82%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eおいおい、そもそもプロトタイプベースのオブジェクト指向言語って何だよ！\u003c/h3\u003e\n\n\u003cp\u003e主題からちょっと逸れますが、必要なため、プロトタイプベースについて少しだけ説明します。Javaのようなクラスベース言語では、クラス（設計書）とインスタンス（実体）がありますが、JavaScriptのようなプロトタイプベース言語では、そんなものありません。ないんですよオブジェクト指向言語なのに！　びっくりしました？　……とは言っても、JavaScriptはES6以降でclassの糖衣構文が書けるので、「ない」と言ってしまうのは乱暴かもしれません。そのclassは内部的にプロトタイプを使って「見かけ上」クラスとインスタンスを実現していますが、本質的にはプロトタイプベースです。「JavaとJavaScriptは似ている」というのは誤りで、根本的な部分が全く異なっています。\u003c/p\u003e\n\n\u003cp\u003eプロトタイプベースは、インスタンスベースという別名もあるくらいで、ただインスタンスがあるだけです。クラス（設計図）とインスタンス（実体）ではありません。オブジェクトの全てが\u003cstrong\u003e独立した\u003c/strong\u003eインスタンスです。新しく実体を作るときには、クラスから組み立てるのではなく、既存のインスタンスから新しいインスタンスを作成します。そしてその作成元を、プロトタイプ（原型）と呼びます。なのでプロトタイプベースと呼びます。\u003c/p\u003e\n\n\u003cp\u003e（※ちなみにクラスベース言語を対象としたGoFのデザインパターンでも、クラスではなく既存のインスタンスから新しいインスタンスを作成するPrototypeパターンがあります。こっちではクローン（複製）しますが、JSではインスタンス作成時に全く同じものを作るクローンを行うわけではありません）\u003c/p\u003e\n\n\u003cp\u003eプロトタイプをもとにして新しくインスタンスを作るときに、クラスベースオブジェクト指向言語に出てくる、継承のようなことがしたくなるわけです。でも、プロトタイプの考え方では、作成元と新規のオブジェクトはそれぞれ独立した別のものです。ん？　まるっと同じメンバ変数やメソッドを新しく複製するとしたら、メモリの無駄じゃないの？\u003c/p\u003e\n\n\u003cp\u003eそこで登場するのが委譲（Delegation）です。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"javascriptで委譲delegationを学ぶ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#javascript%E3%81%A7%E5%A7%94%E8%AD%B2delegation%E3%82%92%E5%AD%A6%E3%81%B6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eJavaScriptで委譲（Delegation）を学ぶ\u003c/h3\u003e\n\n\u003cp\u003eそれではJavaScriptのコードを見てみましょう。ここでは「あえて」class構文を使わず、昔ながらのprototypeで書いてみます。実際のプロジェクトでは書かないで下さいね。場合によっては怖い先輩に殺されます。\u003c/p\u003e\n\n\u003cp\u003eここでは、\u003ccode\u003eCreature\u003c/code\u003e←\u003ccode\u003eAnimal\u003c/code\u003e←\u003ccode\u003eMammal\u003c/code\u003e←\u003ccode\u003eHuman\u003c/code\u003eでオブジェクトが繋がっています。\u003cbr\u003e\nやっている内容は上のC#の例で紹介した、\u003ccode\u003eMammal\u003c/code\u003e←\u003ccode\u003eHuman\u003c/code\u003eの例と大差ありません。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e// 定義しているのはクラスっぽく見えるけど、クラスではない。\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// すべてがインスタンス。\u003c/span\u003e\n\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nx\"\u003eCreature\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{};\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eCreature\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprototype\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eidentity\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eCreature\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eCreature\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprototype\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eintroduceMyself\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e(){\u003c/span\u003e \u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eI am \u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eidentity\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eCreature\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprototype\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ealive\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e(){\u003c/span\u003e \u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eidentity\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e is alive...生存中...\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// ------------------------------------------\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nx\"\u003eAnimal\u003c/span\u003e\u003cspan class=\"p\"\u003e(){};\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eAnimal\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprototype\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nx\"\u003eCreature\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// これで継承っぽいことが実現できる\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eAnimal\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprototype\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eidentity\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eAnimal\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eAnimal\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprototype\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ewalk\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e(){\u003c/span\u003e \u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eidentity\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e is walking...散歩中...\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e};\u003c/span\u003e \n\n\u003cspan class=\"c1\"\u003e// ------------------------------------------\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nx\"\u003eMammal\u003c/span\u003e\u003cspan class=\"p\"\u003e(){};\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eMammal\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprototype\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nx\"\u003eAnimal\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eMammal\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprototype\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eidentity\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eMammal\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eMammal\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprototype\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ebreastFeed\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e(){\u003c/span\u003e \u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eidentity\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e is breastFeeding...授乳中...\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e};\u003c/span\u003e \n\n\u003cspan class=\"c1\"\u003e// ------------------------------------------\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// ※さらっと大事なことを言うと、コンストラクタでのthis.~~への代入は、\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// 新しく作られた（newされた）オブジェクトそのもののプロパティとして登録される。\u003c/span\u003e\n\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nx\"\u003eHuman\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eidentity\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eidentity\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eidentity\u003c/span\u003e\u003cspan class=\"p\"\u003e};\u003c/span\u003e \n\u003cspan class=\"nx\"\u003eHuman\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprototype\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nx\"\u003eMammal\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eHuman\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprototype\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eidentity\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eHuman\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eHuman\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprototype\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etalk\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e(){\u003c/span\u003e \u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eidentity\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e is talking...ぺちゃくちゃ...\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e大事なのはここからです。Humanから新しいインスタンス、Tanakaを作りましょう。\u003cbr\u003e\n（newされた後の\u003ccode\u003ehuman\u003c/code\u003eインスタンスは完全に\u003ccode\u003eHuman\u003c/code\u003eとは別物なので、前みたく\u003ccode\u003ehuman = new Human();\u003c/code\u003eとしてしまうと、流石にそれは分かりにくいかな……？　と思って今回は\u003ccode\u003eTanaka\u003c/code\u003eに変えました。）\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e// Tanaka はHumanから生成されたObject。\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// ※JSでは、newされたあとはもはやHumanではない。Tanakaという別のオブジェクト。\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eTanaka\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nx\"\u003eHuman\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eTanaka\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eTanaka\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eintroduceMyself\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// どうなる？\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eTanaka\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etalk\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// どうなる？\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eTanaka\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ewalk\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// どうなる？\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eTanaka\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ebreastFeed\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// どうなる？\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eTanaka\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ealive\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// どうなる？\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003eTanaka.introduceMyself();\u003c/code\u003eの実行結果はどうなると思いますか？\u003c/p\u003e\n\n\u003cp\u003eもう騙されんぞ！\u003cbr\u003e\n\u003ccode\u003eintroduceMyself();\u003c/code\u003eは\u003ccode\u003eCreature\u003c/code\u003eで定義されているから、\u003ccode\u003eidentity:\"Creature\"\u003c/code\u003eを読む！\u003cbr\u003e\n答えは\"I am Creature\"だ！　バカめ！　冠詞のaが抜けてるぞ！　\"I am a Creature\"だ！\u003cbr\u003e\n……そう思いましたか？　そう思ったあなたは、上の転送（Forwarding）の内容をしっかり理解している人です。素晴らしい。\u003c/p\u003e\n\n\u003cp\u003eでも、今回は結果が違います。\u003cbr\u003e\nこれが暗黙の委譲（Implicit Delegation）です。\u003cbr\u003e\nここに、\u003cstrong\u003e転送と委譲の違い\u003c/strong\u003eを見ることができます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003eI am Tanaka\nTanaka is talking...ぺちゃくちゃ...\nTanaka is walking...散歩中...\nTanaka is breastFeeding...授乳中...\nTanaka is alive...生存中...\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003cstrong\u003eどういうことだってばよ。\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003eさて、\u003ccode\u003eTanaka\u003c/code\u003eの中には、\u003ccode\u003eCreature\u003c/code\u003eや\u003ccode\u003eAnimal\u003c/code\u003eや\u003ccode\u003eMammal\u003c/code\u003eはおろか、\u003ccode\u003eHuman\u003c/code\u003eインスタンスの複製さえも存在しません。\u003ccode\u003eTanaka\u003c/code\u003eが持っているのは、\u003ccode\u003eCreature\u003c/code\u003eや\u003ccode\u003eAnimal\u003c/code\u003eや\u003ccode\u003eMammal\u003c/code\u003eや\u003ccode\u003eHuman\u003c/code\u003eインスタンスへの参照です。その参照はどこにあるかというと、\u003ccode\u003eTanaka\u003c/code\u003eオブジェクトの\u003ccode\u003e__proto__\u003c/code\u003eという隠しプロパティに存在します。JSの仕様です。例のように、継承される側のインスタンスで\u003ccode\u003eprototype\u003c/code\u003eに代入した値は、そのインスタンスをnewした時に、新しく作られる側のインスタンスの\u003ccode\u003e__proto__\u003c/code\u003eに放り込まれます。\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003eつまり、\u003ccode\u003econst Spider = new Creature();\u003c/code\u003eとすると、\u003ccode\u003eSpider.__proto__\u003c/code\u003eに\u003ccode\u003eCreature.prototype\u003c/code\u003eが入ります。\u003cbr\u003e\nそして\u003ccode\u003eAnimal.prototype = new Creature();\u003c/code\u003eとすると、\u003ccode\u003eAnimal.prototype.__proto__\u003c/code\u003eに、\u003ccode\u003eCreature.prototype\u003c/code\u003eが入るということです。クッソややこしいですね。\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003eTanaka\u003c/code\u003eの中にある値は、\u003ccode\u003e__proto__\u003c/code\u003eを除くと\u003ccode\u003enew Human(\"Tanaka\");\u003c/code\u003eした時に代入された\u003ccode\u003eidentity:\"Tanaka\"\u003c/code\u003eだけです。\u003ccode\u003eHuman\u003c/code\u003eのコンストラクタである\u003ccode\u003efunction Human(identity){this.identity = identity};\u003c/code\u003eだけが、\u003ccode\u003eTanaka\u003c/code\u003eオブジェクトにプロパティを登録します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e// ちなみに、prototypeではなく、Tanaka自身にメソッドを定義して呼び出すことももちろん可能。\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// ただ、prototypeの中に定義しないものは、次のインスタンスをnewしたときに__proto__には入らない。\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// つまり継承されないので注意。\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eTanaka\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elearn\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e(){\u003c/span\u003e \u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eidentity\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e is learning...プロトタイプわけわからん...\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eTanaka\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elearn\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// Tanaka is learning...プロトタイプわけわからん...\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003cstrong\u003e図で分かりやすくしましょう。\u003c/strong\u003e\u003cbr\u003e\n\u003ccode\u003eTanaka\u003c/code\u003eの中身はどうなっているかというと、こうなっています。\u003cbr\u003e\n\u003ccode\u003e__proto__\u003c/code\u003eの中に\u003ccode\u003e__proto__\u003c/code\u003eが入れ子になっていることが分かります。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/6554f76cb35d05e72b8ae461a597529e8cc1d083/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3236353930302f34633463613032392d323135352d366566612d383836372d3664363738666463353138302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F265900%2F4c4ca029-2155-6efa-8867-6d678fdc5180.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=97490b4a8e30244da93aabfc7d94ff3b\" alt=\"proto記入済み.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/265900/4c4ca029-2155-6efa-8867-6d678fdc5180.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F265900%2F4c4ca029-2155-6efa-8867-6d678fdc5180.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=1329249e70791946fdfcdce218741087 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eChrome Developer Toolsの表示上、\u003ccode\u003eTanaka\u003c/code\u003eの中に\u003ccode\u003eCreature\u003c/code\u003eや\u003ccode\u003eAnimal\u003c/code\u003eや\u003ccode\u003eMammal\u003c/code\u003eや\u003ccode\u003eHuman\u003c/code\u003eが存在してそうな雰囲気がありますが、実際はそれらのオブジェクトへの参照が入っています。\u003c/p\u003e\n\n\u003cp\u003eさぁ、\u003ccode\u003eTanaka.introduceMyself();\u003c/code\u003eが実行された時、JavaScriptがどう動くかを見てみましょう。\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003eTanaka\u003c/code\u003eで\u003ccode\u003eintroduceMyself()\u003c/code\u003eが呼び出された。そんなメソッドある？→ないね。でも\u003ccode\u003eHuman\u003c/code\u003eへの参照があるね。\u003cbr\u003e\nじゃあ\u003ccode\u003eHuman\u003c/code\u003eにある？→ないね。でも\u003ccode\u003eMammal\u003c/code\u003eへの参照があるね。\u003cbr\u003e\nじゃあ\u003ccode\u003eMammal\u003c/code\u003eにある？→ないね。でも\u003ccode\u003eAnimal\u003c/code\u003eへの参照があるね。\u003cbr\u003e\nじゃあ\u003ccode\u003eAnimal\u003c/code\u003eにある？→ないね。でも\u003ccode\u003eCreature\u003c/code\u003eへの参照があるね。\u003cbr\u003e\nじゃあ\u003ccode\u003eCreature\u003c/code\u003eにある？→あった！！！あったよ！！！\u003ccode\u003eintroduceMyself()\u003c/code\u003eがあった！！！これ呼び出したれ！！！\u003c/p\u003e\n\n\u003cp\u003eこの繋がりを\u003cstrong\u003eプロトタイプチェーン\u003c/strong\u003eといいます。\u003cbr\u003e\n\u003ccode\u003eCreature\u003c/code\u003eの\u003ccode\u003eintroduceMyself()\u003c/code\u003eを呼び出すことが決まりました。\u003cbr\u003e\nしかし\u003ccode\u003eTanaka\u003c/code\u003eオブジェクトで勝手に\u003ccode\u003eCreature\u003c/code\u003eをクローンして呼び出すことはありません。\u003c/p\u003e\n\n\u003cp\u003eではどうするのかというと、単純です。\u003ccode\u003eintroduceMyself()\u003c/code\u003eを、\u003cstrong\u003eあたかも元々\u003ccode\u003eTanaka\u003c/code\u003eのメソッドであったかのように、素知らぬ顔で呼び出す\u003c/strong\u003eのです。そのため、\u003ccode\u003eintroduceMyself()\u003c/code\u003eの中にある\u003ccode\u003ethis.identity\u003c/code\u003eは、元々\u003ccode\u003eintroduceMyself()\u003c/code\u003eが定義してあった\u003ccode\u003eCreature.prototype\u003c/code\u003eにある\u003ccode\u003eidentity\u003c/code\u003eではなく、\u003ccode\u003eTanaka\u003c/code\u003eの\u003ccode\u003eidentity\u003c/code\u003eを使用します。\u003cbr\u003e\nこれが暗黙の委譲です。\u003cbr\u003e\nつまり、\u003cstrong\u003e\u003ccode\u003eintroduceMyself()\u003c/code\u003eを、\u003ccode\u003eTanaka\u003c/code\u003eのものとして扱う\u003c/strong\u003eということです。\u003cbr\u003e\nそのため、次のコードと全く同じ挙動をします。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eTanaka\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nx\"\u003eHuman\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eTanaka\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eTanaka\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eintroduceMyself\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e(){\u003c/span\u003e \u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eI am \u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eidentity\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e};\u003c/span\u003e \u003cspan class=\"c1\"\u003e// \u003c/span\u003e\n\u003cspan class=\"nx\"\u003eTanaka\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eintroduceMyself\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// I am Tanaka\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e以上が、JavaScriptにおける暗黙の委譲の説明です。\u003c/p\u003e\n\n\u003cp\u003eじゃあ暗黙じゃない、\u003cstrong\u003e明示的な委譲（Explicit Delegation）\u003c/strong\u003eはどうしたらいいん？\u003cbr\u003e\nもうお分かりかもしれませんね。\u003ccode\u003e__proto__\u003c/code\u003eが空っぽで、\u003ccode\u003eHuman\u003c/code\u003eと何の関わりもないSuzukiを作ります。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eSuzuki\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{};\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eSuzuki\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eidentity\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eSuzuki\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eSuzuki\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eintroduceMyself\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eCreature\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprototype\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eintroduceMyself\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// これは上で定義したやつ\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eSuzuki\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eintroduceMyself\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// I am Suzuki\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこれで完璧。\u003cbr\u003e\nさて、委譲の定義を確認しましょう。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"委譲delegationとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%A7%94%E8%AD%B2delegation%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e委譲（Delegation）とは\u003c/h3\u003e\n\n\u003cp\u003e英語のwikipediaの\"Delegation (object-oriented programming)\"のページから引っ張ってきます。\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003eIn object-oriented programming, delegation refers to evaluating a member (property or method) of one object (the receiver) in the context of another original object (the sender). Delegation can be done explicitly, by passing the sending object to the receiving object, which can be done in any object-oriented language; or implicitly, by the member lookup rules of the language, which requires language support for the feature. Implicit delegation is the fundamental method for behavior reuse in prototype-based programming, corresponding to inheritance in class-based programming.\u003c/p\u003e\n\n\u003cp\u003e筆者訳：\u003cbr\u003e\nオブジェクト指向プログラミングで、委譲は、送信側のオブジェクトの文脈で受信側のオブジェクトのメンバ（プロパティやメソッド）を評価することを指します。送信側のオブジェクトを受信側に渡すことで、どんなオブジェクト指向言語でも、委譲は明示的に行うことができます。あるいは、言語で機能としてサポートされていれば、暗黙的に行うこともできます。暗黙の委譲はプロトタイプベースプログラミングで振る舞いの再利用を行うための基本的な方法で、クラスベースプログラミングにおける継承に相当するような存在です。\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003eさぁ、言ってる内容が分かりましたでしょうか。上で挙げた例では、\u003ccode\u003eTanaka\u003c/code\u003eが送信側のオブジェクトで、\u003ccode\u003eCreature\u003c/code\u003eが受信側のオブジェクトです。そして\u003ccode\u003eCreature\u003c/code\u003eの\u003ccode\u003eintroduceMyself()\u003c/code\u003eが、\u003ccode\u003eTanaka\u003c/code\u003eの文脈で評価されているということです。それから、暗黙の委譲も大丈夫ですね。でも、まだ一つ分からないことがあります。\u003cstrong\u003e「送信側のオブジェクトを受信側に渡すことで、どんなオブジェクト指向言語でも、委譲は明示的に行うことができます。」\u003c/strong\u003eと書かれていますね。つまり、C#やJavaでも委譲ができると書いてあります。それをどうするかは先に回しましょう。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"転送と委譲の決定的な違い\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%BB%A2%E9%80%81%E3%81%A8%E5%A7%94%E8%AD%B2%E3%81%AE%E6%B1%BA%E5%AE%9A%E7%9A%84%E3%81%AA%E9%81%95%E3%81%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e転送と委譲の決定的な違い\u003c/h3\u003e\n\n\u003cp\u003eさて、転送と委譲の決定的な違いを図でまとめました。この内容が理解できたら、あなたは転送・委譲マスターです。\u003c/p\u003e\n\n\u003cp\u003eこのスライドではJavaScriptはモダンなclassの書き方を使っています。コンストラクタ内で\u003ccode\u003esuper();\u003c/code\u003eが強制されること以外は、やってる内容に違いはありません。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/23644366ad10962a1a81b7b903cbd0700f9f933a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3236353930302f65663336613630302d636437352d616261382d636462332d3336613232363336316338322e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F265900%2Fef36a600-cd75-aba8-cdb3-36a226361c82.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e097634b9d3750115deb1dea5ba112a2\" alt=\"Slide1.JPG\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/265900/ef36a600-cd75-aba8-cdb3-36a226361c82.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F265900%2Fef36a600-cd75-aba8-cdb3-36a226361c82.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=3cb10807739a6d8208c2d8f1901cb093 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/09eac05807746c403a6a90c1361fabbb716838da/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3236353930302f62353462383936302d613632662d623635312d323037322d3166336333343563646435312e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F265900%2Fb54b8960-a62f-b651-2072-1f3c345cdd51.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d5c62fa058c811d311e7c3774748718e\" alt=\"Slide2.JPG\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/265900/b54b8960-a62f-b651-2072-1f3c345cdd51.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F265900%2Fb54b8960-a62f-b651-2072-1f3c345cdd51.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c9d8d9c97159c93bb6025cfda88e5dee 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e委譲と転送の違いはこれで完璧ですね！\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"クラスベース言語で委譲\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%AF%E3%83%A9%E3%82%B9%E3%83%99%E3%83%BC%E3%82%B9%E8%A8%80%E8%AA%9E%E3%81%A7%E5%A7%94%E8%AD%B2\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eクラスベース言語で委譲\u003c/h3\u003e\n\n\u003cp\u003eC#やJavaでも真の委譲がしたい！という方のために、最後にC#での委譲の書き方だけ説明しておきます。ただ、言語として暗黙的にサポートされているJavaScriptの委譲よりも書き方として難解になるため、どうしても、そう、\u003cstrong\u003eどうしても\u003c/strong\u003e必要に迫られない限りは避けた方が良いでしょう。\u003cbr\u003e\n先に挙げたwikipediaの\u003cstrong\u003e「送信側のオブジェクトを受信側に渡すことで、どんなオブジェクト指向言語でも、委譲は明示的に行うことができます。」\u003c/strong\u003eというのは、このような書き方のことを指しています。\u003c/p\u003e\n\n\u003cp\u003eサクッと書きましょうね～。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e    \u003cspan class=\"c1\"\u003e// identityを取得するためにinterfaceを定義する。\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// 名前の先頭に\"I\"をつけるのはinterfaceでよくある命名。\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003einterface\u003c/span\u003e \u003cspan class=\"nc\"\u003eIIdentity\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"nf\"\u003eGetIdentity\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e    \u003cspan class=\"c1\"\u003e// 受信側。IIdentityを実装してるよ。\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eDelegatingMammal\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eIIdentity\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003e_identity\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Mammal\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"nf\"\u003eGetIdentity\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003e_identity\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e// interface型の引数なのがポイント。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// あと、デフォルト引数でnullにして、nullだった場合にthisをセットする。\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// 引数が(IIdentity iidentity = this)だとC#の都合でコンパイルが通らない。\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eIntroduceMyself\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eIIdentity\u003c/span\u003e \u003cspan class=\"n\"\u003eiidentity\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eiidentity\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eiidentity\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"I am a \"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eiidentity\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetIdentity\u003c/span\u003e\u003cspan class=\"p\"\u003e());\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e    \u003cspan class=\"c1\"\u003e// 送信側。こっちもIIdentityを実装してるよ。\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eDelegatingHuman\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eIIdentity\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003e_identity\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Human\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003ereadonly\u003c/span\u003e \u003cspan class=\"n\"\u003eDelegatingMammal\u003c/span\u003e \u003cspan class=\"n\"\u003e_mammal\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eDelegatingMammal\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"nf\"\u003eGetIdentity\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003e_identity\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eIntroduceMyself\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003e_mammal\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eIntroduceMyself\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 委譲する。thisを突っ込むのがポイント。\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eTalk\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003e_identity\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e\" is talking...ぺちゃくちゃ...\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eそして実行。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003edmammal\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eDelegatingMammal\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"n\"\u003edmammal\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eIntroduceMyself\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// I am a Mammal\u003c/span\u003e\n\n\u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003edhuman\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eDelegatingHuman\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"n\"\u003edhuman\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eIntroduceMyself\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// I am a Human\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e今回、送信側の文脈として評価しているのは、\u003ccode\u003e_identity\u003c/code\u003eではなく\u003ccode\u003eGetIdentity()\u003c/code\u003eです。送信側のオブジェクトをそのままinterfaceである\u003ccode\u003eIIdentity\u003c/code\u003e型の引数として渡すことで、送信側の\u003ccode\u003eGetIdentity()\u003c/code\u003eを呼んでいるわけです。\u003cbr\u003e\nこれでオッケー。しっかりと\"I am a Human\"ですね。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"３net-frameworkの仕様であるnet-delegates\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%EF%BC%93net-framework%E3%81%AE%E4%BB%95%E6%A7%98%E3%81%A7%E3%81%82%E3%82%8Bnet-delegates\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e（３）.NET Frameworkの仕様である.NET Delegates\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"またまたそんなご冗談を\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%BE%E3%81%9F%E3%81%BE%E3%81%9F%E3%81%9D%E3%82%93%E3%81%AA%E3%81%94%E5%86%97%E8%AB%87%E3%82%92\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eまたまたそんな、ご冗談を\u003c/h3\u003e\n\n\u003cp\u003eさぁ、第３のデリゲートは.NET Frameworkの仕様です。フレームワークの仕様と聞いて、きっと、上で紹介された委譲か転送かを特定の言語で書きやすくしたものだと、あなたは思うことでしょう。違います。\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003eこのデリゲートは委譲（Delegation）とも転送（Forwarding）とも一切関係ありません。正しく、「第３の」デリゲートです。\u003c/strong\u003e\u003cbr\u003e\nおっと、観客席から激しいブーイングが上がっております！\u003c/p\u003e\n\n\u003cp\u003eC#の文脈以外ではこのデリゲートは滅多に登場しないため、C#やVBを書く方以外は、このデリゲートについてあまり気にする必要はありません。\u003cbr\u003e\nここでは他のデリゲートと区別するために\u003ccode\u003e.NET Delegates\u003c/code\u003eと記していますが、実際に登場する時は単に「デリゲート(Delegates)」と呼ばれることが多いです。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"netで高階関数\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#net%E3%81%A7%E9%AB%98%E9%9A%8E%E9%96%A2%E6%95%B0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e.NETで高階関数\u003c/h3\u003e\n\n\u003cp\u003e\u003ccode\u003e.NET Delegates\u003c/code\u003eという仕様は、.NETで\u003cstrong\u003e部分的な関数型プログラミング\u003c/strong\u003eをするための仕様である……と考えると、おそらく最初は理解しやすいでしょう。\u003ccode\u003e.NET Delegates\u003c/code\u003eの実装を使うことで、関数を引数にしたり、関数を返り値にしたりするような関数を定義することができるようになります。そのような関数を\u003cstrong\u003e高階関数\u003c/strong\u003eといいます。その高階関数が引数にしたり、返り値にしたりする関数の型はすべて、C#では「\u003ccode\u003eSystem.Delegate\u003c/code\u003e型の子クラス」です。\u003ccode\u003eSystem.Delegate\u003c/code\u003e型は\u003ccode\u003e.NET Delegates\u003c/code\u003eの仕様をプログラムに落とし込んだものというわけです。\u003c/p\u003e\n\n\u003cp\u003e（※【重要】\u003ccode\u003e.NET Delegates\u003c/code\u003eによって実現できることは高階関数を書くことだけではありません。これはあくまでそう使われることが多く、そのように考えると、とりあえず\u003ccode\u003e.NET Delegates\u003c/code\u003eの使い方の基本を理解できるだろうと思っての説明です）\u003c/p\u003e\n\n\u003cp\u003eそしてC#には、\u003ccode\u003edelegate\u003c/code\u003eという予約語があります。この\u003ccode\u003edelegate\u003c/code\u003eは「\u003ccode\u003eSystem.Delegate\u003c/code\u003e型の子クラス」を定義するためのものです。どんな風に書くかを例に書いてみましょう。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e    \u003cspan class=\"c1\"\u003e// 引数(string name) \u0026amp; 返り値なし(void)の関数の型として、\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// [System.Delegate型の子クラス]であるDelegateSubIntroduce型を定義するよという意味\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// 名前にSubとつけたのはSystem.Delegate型のサブクラス（＝子クラス）だから\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003edelegate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eDelegateSubIntroduce\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこれ自体はメソッドではありません。「\u003ccode\u003eSystem.Delegate\u003c/code\u003e型の子クラス」、つまりは型です。なので引数にしたり、返り値にしたりすることができます。\u003c/p\u003e\n\n\u003cp\u003eさて、Lisaクラスの\u003ccode\u003eTalk()\u003c/code\u003eメソッドの引数に、さっき定義した関数型を入れてみましょう。例によって超適当な例ですね。なんなんだLisaクラスって。もし関数型プログラミングをこの記事で初めて知ったという人が読んでいたら、本当に申し訳ありません。高階関数の使い所などについて説明するのはこの記事の目的ではないので、もっと適切な例を挙げている別の記事を読んで学んでください。こんな例では使い方は分かっても、いつ使ったらいいかさっぱり分かりません。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eLisa\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// さっき定義したDelegateSubIntroduceを引数に。これで、関数を引数に持つことができるようになった。\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eTalk\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eDelegateIntroduce\u003c/span\u003e \u003cspan class=\"n\"\u003edelIntro\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003edelIntro\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"c1\"\u003e// ここで引数の関数が実行される。後ろにカッコをつけないと、関数は実行されない。\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWrite\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Hi. I'm Lisa.\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eそして、Talkメソッドの引数として突っ込む予定の、何の面白みもないメソッドを作っておきましょう。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eSomeone\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// このメソッドを、メソッドごと変数に突っ込む予定。（※正確にはメソッドへの参照を渡す）\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eIntroduceMyself\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Hi. I am \"\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ename\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e\".\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e実際に動かします。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e    \u003cspan class=\"c1\"\u003e// ここでは何も出力されない。メソッドをDelegateIntroduceに代入する（※メソッドへの参照を渡す）だけ。\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eDelegateSubIntroduce\u003c/span\u003e \u003cspan class=\"n\"\u003edelIntro\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eSomeone\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eIntroduceMyself\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// ここで初めてコンソール出力される。\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eLisa\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eTalk\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edelIntro\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Yuki\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e出力はこうなります。私が中学生の時、英語の教科書で最初に目にしたのがこの文でした。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e    Hi. I am Yuki.\n    Hi. I'm Lisa.\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003edelegate\u003c/code\u003eと、それが作り出す\u003ccode\u003eSystem.Delegate\u003c/code\u003eの子クラスについての説明は以上です。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"代表的なsystemdelegateの子クラス\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BB%A3%E8%A1%A8%E7%9A%84%E3%81%AAsystemdelegate%E3%81%AE%E5%AD%90%E3%82%AF%E3%83%A9%E3%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e代表的なSystem.Delegateの子クラス\u003c/h3\u003e\n\n\u003cp\u003eいちいち\u003ccode\u003eDelegateSubIntroduce\u003c/code\u003e型なんて定義したくない、面倒くさい、という人のために、最初から作られている便利な\u003ccode\u003eSystem.Delegate\u003c/code\u003e型の子クラスがあります。昔のC#ではこれらはありませんでしたが、今では予約語の\u003ccode\u003edelegate\u003c/code\u003eを使って子クラスを定義することは稀かもしれません。代わりに使うのがこの２つです。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\n\u003ccode\u003eFunc\u003c/code\u003e（返り値があるとき）\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003eAction\u003c/code\u003e（返り値がないとき）\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e他にもありますが、使わなくても済むため、使う機会はそう多くないかもしれません。\u003ccode\u003eFunc\u0026lt;int,string,bool\u0026gt;\u003c/code\u003eのように書くと、その変数は引数(int, string)、返り値boolの関数を入れられるようになります。これらの使い方については、説明している記事は他に沢山あるため、別の記事にデリゲートすることにしましょう。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"おわりに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%8A%E3%82%8F%E3%82%8A%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eおわりに\u003c/h2\u003e\n\n\u003cp\u003e記事を書いてる途中で、デリゲートデリゲート書きすぎたせいで何回か発狂しかけました。\u003cbr\u003e\nこの記事が、本当に、本当に、本当にややこしいデリゲートへの、あなたの理解の一助となれば幸いです。\u003c/p\u003e\n\n\u003cp\u003e今回初めてQiitaの記事を書きましたが、書く上で分からないことが噴出し、色々調べて、私自身めっちゃめちゃ勉強になりました。\u003cbr\u003e\n長い記事でしたがここまで読んで頂いて、本当にありがとうございました。\u003c/p\u003e\n\n\u003cp\u003e内容におかしな点があったら遠慮なくマサカリください。\u003cbr\u003e\n.NETの仕様についておかしかったところを指摘して下さったsoiさん、ありがとうございます。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"重要な更新履歴\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%87%8D%E8%A6%81%E3%81%AA%E6%9B%B4%E6%96%B0%E5%B1%A5%E6%AD%B4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e重要な更新履歴\u003c/h4\u003e\n\n\u003cul\u003e\n\u003cli\u003e2018/11/01 ３番目のデリゲート、.NET Delegatesの内容についてご指摘を受けたため修正・加筆を行いました。それに合わせて、表題や大項目も\u003ccode\u003edelegate syntax\u003c/code\u003e → \u003ccode\u003e.NET Delegates\u003c/code\u003eに変更しました。最初はこのデリゲートはオマケみたいに書いていましたが、より一層、デリケートにデリゲートを扱うようになりました。\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"参考url\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83url\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考URL\u003c/h2\u003e\n\n\u003cp\u003e\u003ca href=\"https://en.wikipedia.org/wiki/Delegation_(object-oriented_programming)\" rel=\"nofollow noopener\" target=\"_blank\"\u003eWikipedia - Delegation (object-oriented_programming)\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://en.wikipedia.org/wiki/Forwarding_(object-oriented_programming)\" rel=\"nofollow noopener\" target=\"_blank\"\u003eWikipedia - Forwarding (object-oriented_programming)\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://www.saturnflyer.com/blog/the-gang-of-four-is-wrong-and-you-dont-understand-delegation\" rel=\"nofollow noopener\" target=\"_blank\"\u003eJim Gay - The Gang of Four is wrong and you don't understand delegation\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"http://web.media.mit.edu/%7Elieber/Lieberary/OOP/Delegation/Delegation.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003eHenry Lieberman - Using Prototypical Objects to Implement Shared Behavior in Object Oriented Systems\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://docs.microsoft.com/ja-jp/dotnet/csharp/delegates-overview\" rel=\"nofollow noopener\" target=\"_blank\"\u003emicrosoft - デリゲートの概要\u003c/a\u003e\u003c/p\u003e\n\n\u003cdiv class=\"footnotes\"\u003e\n\u003chr\u003e\n\u003col\u003e\n\n\u003cli id=\"fn1\"\u003e\n\u003cp\u003e参考：Jim Gay - The Gang of Four is wrong and you don't understand delegation \u003ca href=\"#fnref1\"\u003e↩\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\n\u003c/ol\u003e\n\u003c/div\u003e\n","createdAt":"2018-10-28T13:30:50Z","elapsedYearsFromLastModifiedAt":1,"encryptedId":"G7MyU2PTqgse18gG28sOXL43LhFuJ73B--R4fHeNhhw/8dgnke--jOKCH0YpJtQ1DmGc2rgc0A==","isBanned":false,"isDeprecated":true,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2019-12-19T06:55:41Z","likesCount":136,"linkUrl":"https://qiita.com/jesus_isao/items/4b6b7846ccf5eb46b1bc","organization":null,"originalId":714506,"stockedCount":134,"title":"プログラマーを惑わせる３種類の委譲(委譲・Delegation／転送・Forwarding／.NET Delegates)","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%A7%94%E8%AD%B2%E3%83%81%E3%83%A7%E3%83%83%E3%83%88%E3%83%87%E3%82%AD%E3%83%AB%E4%BA%BA%E5%90%91%E3%81%91%E3%81%AE%E8%A6%81%E7%B4%84\"\u003e委譲チョットデキル人向けの要約\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%83%B3%E5%AE%9A%E8%AA%AD%E8%80%85\"\u003e想定読者\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%93%E3%81%AE%E8%A8%98%E4%BA%8B%E3%81%AE%E3%82%B4%E3%83%BC%E3%83%AB\"\u003eこの記事のゴール\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%87%E3%83%AA%E3%82%B2%E3%83%BC%E3%83%88%E3%81%A8%E3%81%AF\"\u003eデリゲートとは？\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%87%E3%83%AA%E3%82%B2%E3%83%BC%E3%83%88%E3%81%AF%E3%81%AA%E3%81%9C%E9%9B%A3%E3%81%97%E3%81%84%E3%81%8B\"\u003eデリゲートはなぜ難しいか\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E9%9B%A3%E3%81%97%E3%81%95%EF%BC%91%E4%BA%BA%E3%82%84%E3%82%B3%E3%83%9F%E3%83%A5%E3%83%8B%E3%83%86%E3%82%A3%E3%81%AB%E3%82%88%E3%81%A3%E3%81%A6%E6%8C%87%E3%81%97%E7%A4%BA%E3%81%99%E3%82%82%E3%81%AE%E3%81%8C%E9%81%95%E3%81%86\"\u003e難しさ１：人やコミュニティによって指し示すものが違う\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E9%9B%A3%E3%81%97%E3%81%95%EF%BC%92%E3%83%87%E3%83%AA%E3%82%B2%E3%83%BC%E3%83%88%E3%81%9D%E3%81%AE%E3%82%82%E3%81%AE%E3%81%8C%E8%A4%87%E9%9B%91\"\u003e難しさ２：デリゲートそのものが複雑\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%84%E3%81%8F%E3%81%A4%E3%81%8B%E3%81%AE%E7%A8%AE%E9%A1%9E%E3%81%AE%E3%83%87%E3%83%AA%E3%82%B2%E3%83%BC%E3%83%88\"\u003eいくつかの種類のデリゲート\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%93%E3%81%93%E3%81%A7%E3%81%AE%E7%94%A8%E8%AA%9E%E3%81%AE%E5%AE%9A%E7%BE%A9\"\u003eここでの用語の定義\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%87%E3%83%AA%E3%82%B2%E3%83%BC%E3%83%88\"\u003eデリゲート\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%BB%A2%E9%80%81forwarding\"\u003e転送（Forwarding）\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%A7%94%E8%AD%B2delegation\"\u003e委譲（Delegation）\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#net-delegates\"\u003e.NET Delegates\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#delegatenet-delegates\"\u003edelegate（.NET Delegates）\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#systemdelegate%E5%9E%8Bnet-delegates\"\u003eSystem.Delegate型（.NET Delegates）\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cli\u003e\n\u003ca href=\"#%EF%BC%91%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3%E3%81%AB%E3%82%88%E3%81%8F%E5%87%BA%E3%81%A6%E3%81%8F%E3%82%8B%E8%BB%A2%E9%80%81forwarding%E3%81%AE%E8%AA%A4%E7%94%A8\"\u003e（１）デザインパターンによく出てくる、「転送(Forwarding)」の誤用\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%AA%A4%E7%94%A8\"\u003e誤用？\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%BB%A2%E9%80%81forwarding%E3%81%AE%E6%9B%B8%E3%81%8D%E6%96%B9\"\u003e転送(Forwarding)の書き方\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%B6%99%E6%89%BF%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B%E3%81%93%E3%82%8C%E3%81%AF%E8%BB%A2%E9%80%81%E3%81%A7%E3%81%AF%E3%81%AA%E3%81%84%E3%82%88\"\u003e継承を使って実装する（これは転送ではないよ）\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%BB%A2%E9%80%81%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B\"\u003e転送を使って実装する\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%BB%A2%E9%80%81forwarding%E3%81%A8%E3%81%AF\"\u003e転送（Forwarding）とは\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%BB%A2%E9%80%81%E3%81%AE%E5%BF%9C%E7%94%A8\"\u003e転送の応用\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%EF%BC%92henry-lieberman%E3%81%8C%E5%AE%9A%E7%BE%A9%E3%81%97%E3%81%9F%E7%9C%9F%E3%81%AE%E5%A7%94%E8%AD%B2delegation\"\u003e（２）Henry Liebermanが定義した、真の委譲（Delegation）\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%93%E3%82%8C%E3%81%93%E3%81%9D%E3%81%8C%E6%9C%AC%E5%BD%93%E3%81%AE%E5%A7%94%E8%AD%B2\"\u003eこれこそが本当の委譲\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%8A%E3%81%84%E3%81%8A%E3%81%84%E3%81%9D%E3%82%82%E3%81%9D%E3%82%82%E3%83%97%E3%83%AD%E3%83%88%E3%82%BF%E3%82%A4%E3%83%97%E3%83%99%E3%83%BC%E3%82%B9%E3%81%AE%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%8C%87%E5%90%91%E8%A8%80%E8%AA%9E%E3%81%A3%E3%81%A6%E4%BD%95%E3%81%A0%E3%82%88\"\u003eおいおい、そもそもプロトタイプベースのオブジェクト指向言語って何だよ！\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#javascript%E3%81%A7%E5%A7%94%E8%AD%B2delegation%E3%82%92%E5%AD%A6%E3%81%B6\"\u003eJavaScriptで委譲（Delegation）を学ぶ\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%A7%94%E8%AD%B2delegation%E3%81%A8%E3%81%AF\"\u003e委譲（Delegation）とは\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%BB%A2%E9%80%81%E3%81%A8%E5%A7%94%E8%AD%B2%E3%81%AE%E6%B1%BA%E5%AE%9A%E7%9A%84%E3%81%AA%E9%81%95%E3%81%84\"\u003e転送と委譲の決定的な違い\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%AF%E3%83%A9%E3%82%B9%E3%83%99%E3%83%BC%E3%82%B9%E8%A8%80%E8%AA%9E%E3%81%A7%E5%A7%94%E8%AD%B2\"\u003eクラスベース言語で委譲\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%EF%BC%93net-framework%E3%81%AE%E4%BB%95%E6%A7%98%E3%81%A7%E3%81%82%E3%82%8Bnet-delegates\"\u003e（３）.NET Frameworkの仕様である.NET Delegates\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%BE%E3%81%9F%E3%81%BE%E3%81%9F%E3%81%9D%E3%82%93%E3%81%AA%E3%81%94%E5%86%97%E8%AB%87%E3%82%92\"\u003eまたまたそんな、ご冗談を\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#net%E3%81%A7%E9%AB%98%E9%9A%8E%E9%96%A2%E6%95%B0\"\u003e.NETで高階関数\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E4%BB%A3%E8%A1%A8%E7%9A%84%E3%81%AAsystemdelegate%E3%81%AE%E5%AD%90%E3%82%AF%E3%83%A9%E3%82%B9\"\u003e代表的なSystem.Delegateの子クラス\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%8A%E3%82%8F%E3%82%8A%E3%81%AB\"\u003eおわりに\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E9%87%8D%E8%A6%81%E3%81%AA%E6%9B%B4%E6%96%B0%E5%B1%A5%E6%AD%B4\"\u003e重要な更新履歴\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\n\n\u003cli\u003e\n\u003ca href=\"#%E5%8F%82%E8%80%83url\"\u003e参考URL\u003c/a\u003e\n\u003c/li\u003e\n\n","totalPv":21180,"uuid":"4b6b7846ccf5eb46b1bc","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"LXW+Z6KZDEh/edL4QJo8FauYBRD5--3xO1I2lCj+MolevP--xjBxi7UDH9f1ml6D4DIZ0A==","originalId":265900,"description":"ぜんぶ壺のせい","facebookUrl":null,"githubUrl":"https://github.com/jesusisao","isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"ジーザス勲","profileImageUrl":"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/265900/profile-images/1558443684","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F265900%2Fprofile-images%2F1558443684?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=08861292c8f39012ca058894d6327fd8","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F265900%2Fprofile-images%2F1558443684?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=71b4f35c2336473fbca02bf27c6fe852","urlName":"jesus_isao","websiteUrl":"","twitterUrl":"https://twitter.com/jesus_isao","twitterUrlName":"jesus_isao","revealedOrganizations":{"edges":[]}},"tags":[{"name":"JavaScript","urlName":"javascript"},{"name":"C#","urlName":"csharp"},{"name":"Delegate","urlName":"delegate"},{"name":"デザインパターン","urlName":"%e3%83%87%e3%82%b6%e3%82%a4%e3%83%b3%e3%83%91%e3%82%bf%e3%83%bc%e3%83%b3"},{"name":"委譲","urlName":"%e5%a7%94%e8%ad%b2"}],"followingLikers":{"edges":[]},"comments":{"totalCount":6}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
