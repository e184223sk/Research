注：何か役に立つような話は書いてないです。既存の部品に組み合わせる部品をFusion 360でモデリングをしていて、ふと「本当にこの大きさでいいんだろうか?」と不安になりました(相手が謎の寸法の曲面を含むので)。で、いざ実寸で印刷してみようと思ったところ、どうやらFusion 360には印刷機能はないようです。
ググると「PDFで出力して印刷しろ」という説明が出てきますが、どうやらPDFの出力には有料ライセンスである必要があるようです。
DXFで出力することもできますが、あいにく僕のマシンにはDXFを表示できるソフトウェアが入っていません(以前使用していたソフトはライセンス形態が変わって使えなくなった)。AutodeskはDXFビューアも提供していますが、オンライン版では実寸での印刷ができず、オフライン版はただのビュアーのくせしてインストーラが850MBもあります。
ADSLすらも通っていないド田舎の深夜、800MBもダウンロードしていてはいったいいつになったら終わるのか検討も付きません。で、待ってる間にボーッとしていると、とある記憶が思い浮かんできました。
「前にC#でSTLファイルを読み込んだことあったな?」
「前にC#から正しい寸法で印刷できることを確認したな?」
こうなったら作るしかない!!ということで、FusionからSTLデータをエクスポートし、それを実寸で印刷するソフトを作りました。
表示結果が以下の画面です。3割ほどしかダウンロードしきらないうちにSTLの読み込みから印刷まで実装できてしまいました。
やっぱゴリ押しは強いね!! そりゃ伝書鳩がインターネットより早いとか言われるよ。とりあえず表示はできるようになりましたが、もう少し機能を追加しました。といっても、視点の変更とかプリンタの設定画面を開くとか、その程度ですが。ソースコードは以下のとおりです。3次元の頂点を2次元に変換してからPointFに変換する処理が冗長ですが、このあたりは各自好きなように実装すればいいかと思います。Vector2に適当な定数をかければ2倍や5倍、10分の1や48分の1のような拡大・縮小機能も実装できます。
さすがに斜めの視点からの投影は面倒ですが、それでもVector3.Transformを使えば実装できるはずです。
3次元空間で回転方向を調べて裏表を判定し、先に裏面をグレー等でレンダリングするような機能とかも有ればいいかもしれませんが、さすがに機能が増えてくると既存のソフトを探すほうが楽かと思います。


