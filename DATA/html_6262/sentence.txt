最近AZ-204を受験して合格しました。
普段仕事で使わない機能についてかなり問われたのですが、
そのなかでAzure Notification Hubsをしっかり使ってみたいなと思ったので試してみました。
Xamarin.Androidも今回初めて使用。私の携帯がAndroidということと、macを持っていなかったので今回Androidを採用しました。Xamarin.Android側のアプリの発行はしていないので、デバックでのみの確認ですが。。。
Azure Functionsのタイマートリガーを使って、毎週火曜日の7:25に
もうすぐモルカーが始まるプッシュ通知を送信。
公式のチュートリアルを基本的に参考にして作ったのですが、うまくいかないところがあり、
こちらのサイトAzure Notification HubsでXamarin.FormsアプリにPush通知 メモ (Android編)を真似て作ったらうまくいきました。Googleのアカウントを持っていれば無料で作れました。
作成方法はMSの公式チュートリアル通りです。こちらもMSの公式チュートリアル通りに作成しました。Visual Studio プロジェクトを作成し、NuGet パッケージを追加する、Google Services JSON ファイルを追加するという部分までは、MSの公式チュートリアル通りに作成しました。その先のソースコードはAzure Notification HubsでXamarin.FormsアプリにPush通知 メモ (Android編)を参考にして作成しています。Constants.csクラスを作成し、定数値を定義します。ここでは受信したメッセージの処理をしています。
SetContentTitleのところを変えてあげれば、push通知時のタイトルが変えられますね。私はVisual Studioから作成したものをAzureで発行しました。
こちらの方の作成記事がわかりやすくていいかもです。本当はhubの情報は違うクラスに持っといたほうがいいですが、今回お試しだったので直書きしてます。AzureFunctionsからテストで動かしているので時間がおかしいですが。
すごく寂しい感じなので、画像とかも載せたいですね。Xamarinをよくわかってないのもあってか、公式のチュートリアル通りにやってもうまくいかず、？？？となったのですが、最初に紹介したサイトのおかげでうまく通知させることまでひとまずできました。
AZ-204とりあえず取ったはいいのですが、このテストで出てきた他の機能ももう少し見てみたいところです。


