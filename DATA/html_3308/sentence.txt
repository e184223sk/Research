More than 1 year has passed since last update.C#をまじめに使い始めて10日程度のド素人です。
やっている案件はAccess2016＋VBAで突貫で造った膨大なデータベース処理をごっそりC#+MySQLに移植すること。
そして、処理速度、ユーザーへのアプリ配布の円滑化、開発効率、セキュリティの全てを改善すること。VBAではデバッグ表示にテキストファイルにオレオレロガーで生成していましたが、1ファイル20MB以上ある大きなCSVを何個も読み込んであれこれしているため、CSV以上にでかいテキストファイルからトレースするのは大変でした。C#はIDEで簡単なトレースできますが、リリース時はLogファイルにして、普段はコンソールに出たら便利だなあとNLogを使うことに。
以下、コンソールアプリケーションでないのにコンソールを出してロギングするのに意外とはまったので備忘録メモNuGetでNLogを入れます。
たくさん情報あるので、configをソースで行う場合の部分のみ。何気に、多重起動防止、ログインフォームをさくっと実装するパターンに改変しています。コンソールが出ないので期待した動作結果になりません
具体的には下記のコードの何が悪いかと悩む羽目になります

config.AddTarget("console", consoleTarget);
粗削りですが下記で起動時にコンソールが出るようになります。色々書きましたが、3時間後、Console.WriteLineでええやんとわかりました。
NLog自体がエラーを吐いたり、デバック出力オプションをいじれば、Console.WriteLineで十分とわかったため。VisualStudio2019 + C# では、長らく更新されていないNLogに頼るよりも、C#の基本構成でやるほうが、意図せぬエラーに遭遇することもなく、そもそも、理解しながらコーディングできるので早いです。Console.WriteLine自体をログファイルに書き出しもできるようですし、知っていることをコツコツが最短手のようです。


