More than 3 years have passed since last update.本文
この記事は、Unity Advent Calendar 2017 の10日目の記事になります。
前日の記事は @lycoris102 さんの [Unity] Editor拡張でInspectorの"戻る"を実現する です。gifを用いた非常に丁寧な投稿でした。本内容ですが、以前にShaderのCullingやZTest等のMaterialPorpertyをEnumにて指定できるようにしましたが、
コメントにてMaterialのEditor拡張を行うCustomShaderGUIを教えて頂きました。大分期間が空いてしまいましたが、今回それを用いてBlend Modeのプリセットを指定できるよう拡張しました。
サンプルとしてSpriteRenderer用のシンプルなシェーダーを作ります。プリセットのSprite-Defaultシェーダーは加算ブレンドがない為、
Particle/Additive等を代用したり自前で用意したりする必要がありますが
もうこの際シンプルなシェーダーはコレ一つで足りるようにします。これで下記画像のように半透明・加算のマテリアル等を用意すればこのShaderひとつで対応できます。
今回Sprite用のマテリアルなのでMainTexの表記はInspector上に表示しないようにしています。
Tintカラーもやや蛇足な処理なので今回は無視しています。GPU Instancingを対応したい場合はビルトインシェーダーのUnitySprite.cgincを参考にすればよいでしょう。
※ビルトインシェーダーはMITライセンスが明記されていますのでその旨ご注意ください。次の記事は @Kan_Kikuchi さんによる 日本語から変数や関数名を生成するエディタ拡張になります！


