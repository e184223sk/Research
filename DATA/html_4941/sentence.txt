More than 3 years have passed since last update.JSON.NETはConverterを書かなくてもプロパティを読んでくれてjsonに変換してくれるのですが、変換された形式が望んでいるものとは違うこともあります。このjsonを以下のようなクラスに変換する。JsonConverterを継承したクラスを作ることで特定のクラスのCustom Converterを作ることができます。
継承したクラスでオーバーライドするメソッドは以下。そしてこんなふうに実際のConverterは以下のようになる。ちょっと長いけど、それぞれでやってることは
CanConvertで変換できるクラスを指定する。
ReadJsonではreaderから一つずつトークンを読み込み、インスタンスに値を次々設定していく。
WriteJsonは引数で変換するインスタンスが渡されるので、writerに書き込む。各クラスにJsonConverter属性を指定します。これだけ書いたらDeserializeObjectで変換できる。


