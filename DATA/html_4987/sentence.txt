More than 3 years have passed since last update.ニコニコのAPI経由で動画を取得しようとすると以下のような手順が必要です。非常にめんどくさいですが全部WebRequestなのでURLとCookie用のHashtableさえ用意すれば簡単に行くはずなんですが。ログインAPIにPOSTしてもSet-Cookieヘッダにuser_sessionが含まれないのです。というわけで数時間思考した結果に見つけた結論を以下にはっつけておきます。とこんな感じになります。ニコニコのログインAPIって、ログイン情報渡した後に公式サイトかユーザーページにリダイレクトしてくるっぽいのです。そしてリダイレクト時に新たなSet-Cookieヘッダがセットされる？ためログイン時にセットされたSet-Cookieヘッダが消える？のです。なので、UnityWebRequestのインスタンスのredirectLimitを0にしてやるとRedirectを許さないリクエストになりLoginサーバーがセットしたSet-Cookieヘッダがそのまま受け取れます。ちなみに、残りのGETリクエストに関してはredirectLimitは必要ないです。


