<!DOCTYPE html><html><head><meta charset="utf-8" /><title>AzureにUbuntuたててOpenLDAPいれてWin10のC#プログラムから接続してみる - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/gebo/items/497fcbafcbb5b3f5abaf" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="BzyibLBWR0h+hEKQNQ5XYhnazJjWnhEtDxqdaMNw3bMBe/E8e8sK2MjAMxGcggL5uTiuYmUIl9FP0pDVWBUzxA==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta content="@gebogebogeboge" name="twitter:creator" /><meta property="og:type" content="article"><meta property="og:title" content="AzureにUbuntuたててOpenLDAPいれてWin10のC#プログラムから接続してみる - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1RWHAxY21YamdhdFZZblZ1ZEhYamdaX2pnYWJqZ2FaUGNHVnVURVJCVU9PQmhPT0NqT09CcGxkcGJqRXc0NEd1UXlQamc1ZmpnNjNqZ3JEamc2bmpnNkRqZ1l2amdvbm1qcVhudHByamdaZmpnYWJqZ2JfamdvcyZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTU0JnR4dC1jbGlwPWVsbGlwc2lzJnR4dC1hbGlnbj1jZW50ZXIlMkNtaWRkbGUmcz0zMTZiMjhmNGEwMWVkZjczM2ExNTc0N2Y3MWFlNDgyMw&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RR2RsWW04JnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NDUmdHh0LWFsaWduPXJpZ2h0JTJDYm90dG9tJnM9ZTBmMDZhMGJmNmUzYjI2ZmZlMzllOGNhMzkzZDI0ZGQ&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=7d35bb96e69b36d1602904e183484ca4"><meta property="og:description" content="

はじめに

LDAPの勉強をしたまとめです。
Azure上の仮想マシンにUbuntuを構築して、OpenLDAPをインストールしてから、
Windows10からOpenLDAPにアクセスするC#プログラムサンプルプログラムを作成す..."><meta content="https://qiita.com/gebo/items/497fcbafcbb5b3f5abaf" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="Windows,Ubuntu,C#,Azure,LDAP" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 1nzh4zz 38fzdi helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-1nzh4zz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 32px;background-color:#FBE69E;color:rgba(0,0,0,0.87);line-height:1.5;font-weight:600;}@media (max-width:770px){.css-1nzh4zz{padding:16px;}}.css-38fzdi{color:#CA832A;margin-right:4px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-8678db13-f192-408f-af14-ec0bf8bf2b59"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2Fgebo%2Fitems%2F497fcbafcbb5b3f5abaf">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2Fgebo%2Fitems%2F497fcbafcbb5b3f5abaf">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-8678db13-f192-408f-af14-ec0bf8bf2b59">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/windows","name":"Windows"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2019-05-16T19:42:23.000+09:00","dateModified":"2019-05-16T19:42:23.000+09:00","headline":"AzureにUbuntuたててOpenLDAPいれてWin10のC#プログラムから接続してみる","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1RWHAxY21YamdhdFZZblZ1ZEhYamdaX2pnYWJqZ2FaUGNHVnVURVJCVU9PQmhPT0NqT09CcGxkcGJqRXc0NEd1UXlQamc1ZmpnNjNqZ3JEamc2bmpnNkRqZ1l2amdvbm1qcVhudHByamdaZmpnYWJqZ2JfamdvcyZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTU0JnR4dC1jbGlwPWVsbGlwc2lzJnR4dC1hbGlnbj1jZW50ZXIlMkNtaWRkbGUmcz0zMTZiMjhmNGEwMWVkZjczM2ExNTc0N2Y3MWFlNDgyMw\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RR2RsWW04JnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NDUmdHh0LWFsaWduPXJpZ2h0JTJDYm90dG9tJnM9ZTBmMDZhMGJmNmUzYjI2ZmZlMzllOGNhMzkzZDI0ZGQ\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=7d35bb96e69b36d1602904e183484ca4","mainEntityOfPage":"https://qiita.com/gebo/items/497fcbafcbb5b3f5abaf","author":{"@type":"Person","address":"","email":null,"identifier":"gebo","name":"gebo","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fs3-ap-northeast-1.amazonaws.com%2Fqiita-image-store%2F0%2F252291%2F259049ef3da2854c57fc30166d776b5ac272df00%2Fx_large.png%3F1614046902?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=5099eac7ef4c965d458c7a95649b4f8d","url":"https://qiita.com/gebo","description":"認証,認可,FIDO,CTAP,NFC,BLE,c,c++,c#,Rust,ねこのげぼく","memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://zine.qiita.com/interview/202105-uzabase-2/?utm_source=qiita&amp;utm_medium=header-banner">常にメンバーが開発しやすい環境を作るNewsPicksの組織作りとは</a><a target="_blank" id="header_text_message_2" href="https://zine.qiita.com/interview/202105-uzabase-2/?utm_source=qiita&amp;utm_medium=header-banner">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"gebo","type":"items","id":"497fcbafcbb5b3f5abaf"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"常にメンバーが開発しやすい環境を作るNewsPicksの組織作りとは","url":"https://zine.qiita.com/interview/202105-uzabase-2/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"gebo","type":"items","id":"497fcbafcbb5b3f5abaf"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":2,"pos_id":"header_text_message_1","message":"常にメンバーが開発しやすい環境を作るNewsPicksの組織作りとは","url":"https://zine.qiita.com/interview/202105-uzabase-2/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"gebo","type":"items","id":"497fcbafcbb5b3f5abaf"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":2,"pos_id":"header_text_message_2","message":"常にメンバーが開発しやすい環境を作るNewsPicksの組織作りとは","url":"https://zine.qiita.com/interview/202105-uzabase-2/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/gebo/items/497fcbafcbb5b3f5abaf","location":"/gebo/items/497fcbafcbb5b3f5abaf","scheme":"https","host":"qiita.com","port":null,"pathname":"/gebo/items/497fcbafcbb5b3f5abaf","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"qag135CEK9v8YgFz4lgyHmU3pObmrq8V0E+6UNnfl2Ov72aPWxlmS0omcPJL1GeFxdXGHFU4KemQh7ftQrp5FA==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-fb31022c-4a2f-4591-95a9-2676f77fe6c9"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/gebo/items/497fcbafcbb5b3f5abaf/likers" class="css-1iupg5d">1</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">1</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/497fcbafcbb5b3f5abaf/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/gebo/items/497fcbafcbb5b3f5abaf/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/gebo/items/497fcbafcbb5b3f5abaf/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/gebo/items/497fcbafcbb5b3f5abaf/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/gebo/items/497fcbafcbb5b3f5abaf.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-1nzh4zz"><span class="fa fa-fw fa-warning css-38fzdi"></span><p>More than 1 year has passed since last update.</p></div><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/gebo"><img class="css-100alwu eyfquo10" src="https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/252291/259049ef3da2854c57fc30166d776b5ac272df00/x_large.png?1614046902" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/gebo" class="css-10ougpm">@<!-- -->gebo</a><div class="css-1ay9vb9"><time dateTime="2019-05-16T10:42:23Z" class="css-m19uds">posted at 2019-05-16</time></div></div></div></div></div><h1 class="css-cgzq40">AzureにUbuntuたててOpenLDAPいれてWin10のC#プログラムから接続してみる</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/windows" class="css-4czcte">Windows</a><a href="/tags/ubuntu" class="css-4czcte">Ubuntu</a><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/azure" class="css-4czcte">Azure</a><a href="/tags/ldap" class="css-4czcte">LDAP</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div>
<h1>
<span id="はじめに" class="fragment"></span><a href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB"><i class="fa fa-link"></i></a>はじめに</h1>

<p>LDAPの勉強をしたまとめです。<br>
Azure上の仮想マシンにUbuntuを構築して、OpenLDAPをインストールしてから、<br>
Windows10からOpenLDAPにアクセスするC#プログラムサンプルプログラムを作成するところまでです。</p>

<p><img alt=":o:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/2b55-fe0f.png" title=":o:" width="20" loading="lazy">以下のことが書いてあります<img alt=":o:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/2b55-fe0f.png" title=":o:" width="20" loading="lazy">   </p>

<ul>
<li>Azure上でのUbuntuの構築</li>
<li>OpenLDAPのインストール</li>
<li>C#プログラムからLDAPへのアクセス</li>
</ul>

<p><img alt=":x:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/274c.png" title=":x:" width="20" loading="lazy">以下のことは書いていません<img alt=":x:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/274c.png" title=":x:" width="20" loading="lazy">   </p>

<ul>
<li>Azureのユーザー登録方法</li>
<li>Ubuntuとは何か？</li>
<li>LDAPとは何か？</li>
</ul>

<p><strong>※細かいことは考えずとりあえずやってみた系です</strong></p>

<h1>
<span id="環境" class="fragment"></span><a href="#%E7%92%B0%E5%A2%83"><i class="fa fa-link"></i></a>環境</h1>

<p>作業はWindows10のPC1台でやってますが、Azureに仮想マシン作るのでマシン的には2台です。</p>

<ul>
<li>Server OS=Ubuntu Server 18.04 LTS(Microsoft Azure)

<ul>
<li>OpenLDAP(Apr 10 2019 12:53:11)</li>
</ul>
</li>
<li>Client OS=Windows10 Pro 1809 (64bit)

<ul>
<li>Tera Term(Version 4.102)</li>
<li>LDAP Admin(Version 1.8.3.0)</li>
<li>SampleProject=Visual Studio 2019 C# WPF アプリケーション(.Net Framework 4.7.2)</li>
</ul>
</li>
</ul>

<h1>
<span id="概要" class="fragment"></span><a href="#%E6%A6%82%E8%A6%81"><i class="fa fa-link"></i></a>概要</h1>

<p>以下の手順でやっていきます。<br>
各項目は Windowsでやる／Azureでやる／Ubuntuでやる のいずれかです。</p>

<ol>
<li>TeraTermでキーペアを作成する</li>
<li>仮想マシン(Ubuntu)を作成する</li>
<li>Ubuntuに接続</li>
<li>OpenLDAPのセットアップ</li>
<li>UbuntuのLDAPポート開放</li>
<li>WindowsからLDAPに接続</li>
<li>OpenLDAPのDN変更</li>
<li>LDAPにアクセスするC#プログラム</li>
</ol>

<h1>
<span id="1-teratermでキーペアを作成する" class="fragment"></span><a href="#1-teraterm%E3%81%A7%E3%82%AD%E3%83%BC%E3%83%9A%E3%82%A2%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>1. TeraTermでキーペアを作成する</h1>

<p><strong>※Windowsでの作業です※</strong></p>

<p>操作するWindowsPCにTeraTermを入れてSSH接続用のキーペア(秘密鍵、公開鍵)を作成します。</p>

<h3>
<span id="teratermのインストール" class="fragment"></span><a href="#teraterm%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB"><i class="fa fa-link"></i></a>TeraTermのインストール</h3>

<p>以下のサイトからTeraTermをダウンロードしてインストールします。<br>
- <a href="https://ja.osdn.net/projects/ttssh2/" rel="nofollow noopener" target="_blank">Tera Term (テラターム) プロジェクト日本語トップページ</a></p>

<p><a href="https://camo.qiitausercontent.com/7f7866adee97a172923e674a84d2e1d6ea4949b2/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f36623961643637332d363931652d626666392d656564652d3839356130623763373963332e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F6b9ad673-691e-bff9-eede-895a0b7c79c3.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=72ef196dc9e0df53c83a9f04689606bb" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/6b9ad673-691e-bff9-eede-895a0b7c79c3.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F6b9ad673-691e-bff9-eede-895a0b7c79c3.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=1e93fcfab6bb52e591c1de800ae36b10 1x" loading="lazy"></a></p>

<h3>
<span id="鍵生成" class="fragment"></span><a href="#%E9%8D%B5%E7%94%9F%E6%88%90"><i class="fa fa-link"></i></a>鍵生成</h3>

<p>UbuntuにはSSH-公開鍵認証方式で接続します。<br>
キーペア（秘密鍵を公開鍵）を生成してUbuntu側に公開鍵を設定、TeraTerm側に秘密鍵を設定する必要があります。<br>
今回はTeraTermでキーペアを生成します。</p>

<ul>
<li><p>TeraTermを起動してメニューから[鍵生成]を実行<br>
<a href="https://camo.qiitausercontent.com/99c0add371337b420e48b1a3544186feeb17bea1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f37393237656361372d303166392d666130302d366166382d6366373261663331633532372e706e67" target="_blank" rel="nofollow noopener"><img width="494" alt="1.png" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F7927eca7-01f9-fa00-6af8-cf72af31c527.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=a94633cb6f2a26708406190d7f3c1317" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/7927eca7-01f9-fa00-6af8-cf72af31c527.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F7927eca7-01f9-fa00-6af8-cf72af31c527.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=632267c7e8928b4bc1dd20e867c84c2f 1x" loading="lazy"></a></p></li>
<li>
<p>パラメータを設定して[生成]</p>

<ul>
<li>とりあえず、この画面の通りに設定すればいいと思います。</li>
</ul>
</li>
</ul>

<p><a href="https://camo.qiitausercontent.com/4c0908702ab741cf344afbcb5e3a48c72c6c9a58/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f36356661613932342d323433342d646234372d333034332d6534663339366563653265342e706e67" target="_blank" rel="nofollow noopener"><img width="289" alt="2.png" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F65faa924-2434-db47-3043-e4f396ece2e4.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=9c1a67ffbfc5dfbe6201cd5e0d23bba4" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/65faa924-2434-db47-3043-e4f396ece2e4.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F65faa924-2434-db47-3043-e4f396ece2e4.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=0a9eeb0cdea0031166cdf6e79d60bd6c 1x" loading="lazy"></a></p>

<ul>
<li>
<strong>パスフレーズ</strong>を入力して[公開鍵を保存]、さらに[秘密鍵を保存]

<ul>
<li>
<strong>パスフレーズ</strong>は秘密鍵を暗号化するキーです。忘れないようにしましょう。</li>
<li>公開鍵、秘密鍵はわかりやすいファイル名にして、適当なところに保存しておきましょう。後で使います。</li>
</ul>
</li>
</ul>

<p><a href="https://camo.qiitausercontent.com/9797ad52178d4f6ebafce21f8386ba11aa437824/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f39323731356632362d626463652d306134632d303264372d3432666331663963623636652e706e67" target="_blank" rel="nofollow noopener"><img width="289" alt="3.PNG" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F92715f26-bdce-0a4c-02d7-42fc1f9cb66e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=6275a07bbb56e3be2aad1099b0bfcae1" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/92715f26-bdce-0a4c-02d7-42fc1f9cb66e.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F92715f26-bdce-0a4c-02d7-42fc1f9cb66e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=717d947169dafb3c186d9b10a793430a 1x" loading="lazy"></a></p>

<p>次はAzure上に仮想マシンを構築します。</p>

<h1>
<span id="2-azureに仮想マシンubuntuを作成する" class="fragment"></span><a href="#2-azure%E3%81%AB%E4%BB%AE%E6%83%B3%E3%83%9E%E3%82%B7%E3%83%B3ubuntu%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>2. Azureに仮想マシン(Ubuntu)を作成する</h1>

<p><strong>※Azureでの作業です※</strong></p>

<p>Azureへの登録、ログインは完了していて、リソースがまだ作成されていない状態から始めます。<br>
<a href="https://camo.qiitausercontent.com/944d603cca66ecca6a55869492c750ea0a3f3761/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f65613039353935302d646362362d373433322d336564632d6134636434666362663337632e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fea095950-dcb6-7432-3edc-a4cd4fcbf37c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=ccb63b18b50d23cc30a5e9d2d1f201e4" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/ea095950-dcb6-7432-3edc-a4cd4fcbf37c.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fea095950-dcb6-7432-3edc-a4cd4fcbf37c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=db3a9454aee476bc252793afa3cbd3bc 1x" loading="lazy"></a></p>

<h3>
<span id="リソースグループの作成" class="fragment"></span><a href="#%E3%83%AA%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E3%81%AE%E4%BD%9C%E6%88%90"><i class="fa fa-link"></i></a>リソースグループの作成</h3>

<p>Azureの左メニュの[リソース グループ]からリソースを作成します。</p>

<p>TESTという名前でリソースグループを作成します。<br>
（リージョンは東日本にしました）<br>
<a href="https://camo.qiitausercontent.com/f0ec7f8e2a41fd8b4f0332bc28c3190c9717799d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f33346665373832342d636663352d616463612d316631332d6538386164373133666363632e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F34fe7824-cfc5-adca-1f13-e88ad713fccc.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=fee51690c5c0375b9eb34cc69da1e840" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/34fe7824-cfc5-adca-1f13-e88ad713fccc.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F34fe7824-cfc5-adca-1f13-e88ad713fccc.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=861b7b6a0b55f64ca56880a6c7554f95 1x" loading="lazy"></a></p>

<h3>
<span id="仮想マシンの作成" class="fragment"></span><a href="#%E4%BB%AE%E6%83%B3%E3%83%9E%E3%82%B7%E3%83%B3%E3%81%AE%E4%BD%9C%E6%88%90"><i class="fa fa-link"></i></a>仮想マシンの作成</h3>

<p>Azureの左メニュの[Virtual Machines]から仮想マシンを作成します。<br>
選択項目がたくさんあります。<br>
今回は以下の設定で作成しています。<br>
記載のない項目はデフォルトのママ、変更していないということです。</p>

<h4>
<span id="基本" class="fragment"></span><a href="#%E5%9F%BA%E6%9C%AC"><i class="fa fa-link"></i></a>基本</h4>

<table>
<thead>
<tr>
<th style="text-align: center">項目</th>
<th style="text-align: left">設定値</th>
<th style="text-align: left">備考</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center">リソースグループ</td>
<td style="text-align: left">TEST</td>
<td style="text-align: left">先ほど作成したもの</td>
</tr>
<tr>
<td style="text-align: center">仮想マシン名</td>
<td style="text-align: left">Ubuntu</td>
<td style="text-align: left">名前なんでお好みで</td>
</tr>
<tr>
<td style="text-align: center">地域</td>
<td style="text-align: left">東日本</td>
<td style="text-align: left">お好みで</td>
</tr>
<tr>
<td style="text-align: center">イメージ</td>
<td style="text-align: left">Ubuntu Server 18.04 LTS</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: center">サイズ</td>
<td style="text-align: left">Standart B1s</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: center">認証の種類</td>
<td style="text-align: left">SSH 公開キー</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: center">ユーザー名</td>
<td style="text-align: left">gebo</td>
<td style="text-align: left">ログインするときのユーザー名です</td>
</tr>
<tr>
<td style="text-align: center">SSH公開キー</td>
<td style="text-align: left">※後述</td>
<td style="text-align: left">さっき作成した公開鍵、パスワードの代わりみたいなもの</td>
</tr>
<tr>
<td style="text-align: center">パブリック受信ポート</td>
<td style="text-align: left">選択したポートを許可する</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: center">受信ポートを選択する</td>
<td style="text-align: left">SSH(22)</td>
<td style="text-align: left"></td>
</tr>
</tbody>
</table>

<p><strong>※SSH公開キー</strong><br>
SSH公開キーはテキストです、先ほどTeraTermで作成した公開鍵を指定します。<br>
- 公開鍵をメモ帳で開きます。<br>
- ssh-rsa、半角スペースの後に<code>AAAAB3N...</code>といった意味不明のデータが書いてありますが、最後の半角スペースの後のユーザー情報みたいなもの(下例では<code>gebo@WINDOWS10PC</code>)は不要ですので、そこを除いたデータを[SSH公開キー]の入力欄にコピペします。</p>

<div class="code-frame" data-lang="">
<div class="code-lang"><span class="bold">SSH公開鍵</span></div>
<div class="highlight"><pre class="with-code"><code>// これの[ssh-rsa～N2ZB+Q==]が公開鍵
ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAoVx0oQzVrkmPiLPad/4Ms132itkbHZ38GFTXtFJ95qrNSO4DzkuXOViISOmNgJtzSVMM9UQ3nvCdqIPEztbt7rxnW+6SlY7ie7paDsJceLZAbLQ+jv6Uwczf2IbI4Yxcq8Zs7JipS/ZYNV8vPxn6QBDxikco2JZsgYeuWDNKsRthAO7iRetBbgogaRSX+pbDuw0SKHvAwzw1vK/P3kbAYFPRglCASmc5sYIvuqH5bGqQMUCrKiQE+HMScr87lPnSSQBvxxtUmZg0qFSHL2aK7uCmBid3zW/haQI35JZ3CU+H2kmRHrA6Rm9qhBMy9xHotspMiBvW2lRhBBbPN2ZB+Q== gebo@WINDOWS10PC
</code></pre></div>
</div>

<h4>
<span id="ディスク" class="fragment"></span><a href="#%E3%83%87%E3%82%A3%E3%82%B9%E3%82%AF"><i class="fa fa-link"></i></a>ディスク</h4>

<table>
<thead>
<tr>
<th style="text-align: center">項目</th>
<th style="text-align: left">設定値</th>
<th style="text-align: left">備考</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center">OSディスク種類</td>
<td style="text-align: left">Standard SSD</td>
<td style="text-align: left"></td>
</tr>
</tbody>
</table>

<h4>
<span id="管理" class="fragment"></span><a href="#%E7%AE%A1%E7%90%86"><i class="fa fa-link"></i></a>管理</h4>

<table>
<thead>
<tr>
<th style="text-align: center">項目</th>
<th style="text-align: left">設定値</th>
<th style="text-align: left">備考</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center">ブート診断</td>
<td style="text-align: left">オフ</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: center">自動シャットダウンを有効にする</td>
<td style="text-align: left">オン</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: center">シャットダウン時刻</td>
<td style="text-align: left">19:00</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: center">タイムゾーン</td>
<td style="text-align: left">(UTC+9:00)大阪、札幌、東京</td>
<td style="text-align: left"></td>
</tr>
</tbody>
</table>

<p><a href="https://camo.qiitausercontent.com/83258c88aea2398f66c13f9ca7198e1ac619ff3b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f31666666363235322d333139312d636638662d623239632d6635353463633765346230372e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F1fff6252-3191-cf8f-b29c-f554cc7e4b07.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=695242e844134ad18db5914da43e30dd" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/1fff6252-3191-cf8f-b29c-f554cc7e4b07.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F1fff6252-3191-cf8f-b29c-f554cc7e4b07.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=9aecd7badcfd63f3509285fe56354406 1x" loading="lazy"></a></p>

<p><a href="https://camo.qiitausercontent.com/37a77bb573ad27238cc91c6b0c6a4cddee36841f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f34626633663136302d663131382d363763642d613233342d3861363232323339383964312e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F4bf3f160-f118-67cd-a234-8a62223989d1.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=3d5c8948a971ae9ac9991bff0a9b5f59" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/4bf3f160-f118-67cd-a234-8a62223989d1.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F4bf3f160-f118-67cd-a234-8a62223989d1.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=aa053fb8464d9c89cd3bb67a5d3be6fb 1x" loading="lazy"></a></p>

<p>※私の環境では2分ほどでデプロイが完了しました、速い・・・<br>
デプロイが完了すると仮想マシンはそのまま起動していますので、IPアドレスを確認しておきましょう。<br>
Azureの<code>ホーム&gt;Virtual Machines&gt;[マシン名]</code>から<code>[パブリック IP アドレス]</code>で確認することができます。<br>
この後、Windowsから仮想マシンに接続してUbuntuの初期設定を行います。</p>

<h1>
<span id="3-ubuntuに接続" class="fragment"></span><a href="#3-ubuntu%E3%81%AB%E6%8E%A5%E7%B6%9A"><i class="fa fa-link"></i></a>3. Ubuntuに接続</h1>

<p><strong>※Windowsでの作業です※</strong></p>

<p>操作しているWindowsPCからAzure上に構築したUbuntuへの接続にはTeraTermを使います。<br>
（Windowsに標準で入っているリモートデスクトップでは接続できません)</p>

<h3>
<span id="teratermで接続する" class="fragment"></span><a href="#teraterm%E3%81%A7%E6%8E%A5%E7%B6%9A%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>TeraTermで接続する</h3>

<ul>
<li>TeraTermを起動してメニューから[新しい接続]を実行

<ul>
<li>ホストにUbuntuのIPアドレスを設定(さっき作成した仮想マシンのパブリックIPアドレスです)</li>
<li>TCPポートに22</li>
<li>SSHを選択</li>
<li>[OK]で接続</li>
</ul>
</li>
</ul>

<p><a href="https://camo.qiitausercontent.com/d907e72699a1e9daa11cf272d355c4901c925e3f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f63336134613938322d633137362d363036382d666165352d3237613933326163616561662e706e67" target="_blank" rel="nofollow noopener"><img width="494" alt="4.PNG" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fc3a4a982-c176-6068-fae5-27a932acaeaf.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=8cdb29ac8ed586d3e44aee5f33240536" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/c3a4a982-c176-6068-fae5-27a932acaeaf.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fc3a4a982-c176-6068-fae5-27a932acaeaf.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=d258b03fa44f81636622765ee0e5a82c 1x" loading="lazy"></a></p>

<ul>
<li>認証の画面

<ul>
<li>ユーザ名にUbuntuのユーザー(<a href="">仮想マシンの作成-基本</a>のとこで設定したものです)</li>
<li>パスフレーズに秘密鍵のパスフレーズ(<a href="">鍵生成</a>のとこで設定したものです)</li>
<li>秘密鍵ファイルを指定(<a href="">鍵生成</a>のとこで保存したものです)</li>
<li>[OK]で接続</li>
</ul>
</li>
</ul>

<p><a href="https://camo.qiitausercontent.com/a87db7d34b1712403f6b71e4aef7ce3c9c473ce8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f39333265636338312d346337632d303838302d396462312d3063643366363065363438642e706e67" target="_blank" rel="nofollow noopener"><img width="372" alt="5.PNG" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F932ecc81-4c7c-0880-9db1-0cd3f60e648d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=c865580d69557188d6ff6f75e47cc861" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/932ecc81-4c7c-0880-9db1-0cd3f60e648d.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F932ecc81-4c7c-0880-9db1-0cd3f60e648d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=738fbddfc75db2d26cf8cbd7f1c8b08c 1x" loading="lazy"></a></p>

<ul>
<li>なにやら情報が出てプロンプトが表示されれば接続OK

<ul>
<li>試しにpwdコマンドを打ってみましょう。自分のいる場所（パス）が表示されます。</li>
</ul>
</li>
</ul>

<p><a href="https://camo.qiitausercontent.com/edc1f947cfb723075f432820d436008e23fe1461/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f39303762623336372d663037382d323839312d346330352d3235643963373635643063392e706e67" target="_blank" rel="nofollow noopener"><img width="494" alt="6.PNG" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F907bb367-f078-2891-4c05-25d9c765d0c9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=3ef7b3c87c85f4f63f4673fe0a887c01" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/907bb367-f078-2891-4c05-25d9c765d0c9.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F907bb367-f078-2891-4c05-25d9c765d0c9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=d5ad95c1e1ff6f5dd5575f0291de1abb 1x" loading="lazy"></a></p>

<p>接続ができたらUbuntuの初期設定をしていきましょう。</p>

<h1>
<span id="4-openldapのセットアップ" class="fragment"></span><a href="#4-openldap%E3%81%AE%E3%82%BB%E3%83%83%E3%83%88%E3%82%A2%E3%83%83%E3%83%97"><i class="fa fa-link"></i></a>4. OpenLDAPのセットアップ</h1>

<p><strong>※Ubuntuでの作業です※</strong></p>

<h4>
<span id="openldapのインストール" class="fragment"></span><a href="#openldap%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB"><i class="fa fa-link"></i></a>OpenLDAPのインストール</h4>

<p>TeraTermでUbuntuに接続して以下のコマンドを実行します。</p>

<p><strong>sudo apt-get update</strong><br>
(環境のアップデート、と思われる)</p>

<ul>
<li>
<code>sudo apt-get update</code>はapt-getコマンドを管理者権限で実行するという意味です。</li>
</ul>

<div class="code-frame" data-lang="">
<div class="code-lang"><span class="bold">アップデート</span></div>
<div class="highlight"><pre class="with-code"><code>gebo@Ubuntu:~$ sudo apt-get update
Hit:1 http://azure.archive.ubuntu.com/ubuntu bionic InRelease
Hit:2 http://azure.archive.ubuntu.com/ubuntu bionic-updates InRelease
Hit:3 http://azure.archive.ubuntu.com/ubuntu bionic-backports InRelease
Hit:4 http://security.ubuntu.com/ubuntu bionic-security InRelease
Reading package lists... Done
gebo@Ubuntu:~$
</code></pre></div>
</div>

<p><strong>sudo apt install slapd ldap-utils</strong><br>
(OpenLDAPのインストール)</p>

<div class="code-frame" data-lang="">
<div class="code-lang"><span class="bold">OpenLDAPのインストール</span></div>
<div class="highlight"><pre class="with-code"><code>gebo@Ubuntu:~$ sudo apt install slapd ldap-utils
Reading package lists... Done
Building dependency tree
</code></pre></div>
</div>

<p>OpenLDAPの管理者パスワードの入力の画面が出てくるので、パスワードを入力します。</p>

<p><a href="https://camo.qiitausercontent.com/9b33d73a2d52afdc34f408484cc94e6f84c77de7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f64366635316265352d353465352d643061632d623037382d3032383862626165396335302e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fd6f51be5-54e5-d0ac-b078-0288bbae9c50.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=b07ca13363fce11770fde637838268ef" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/d6f51be5-54e5-d0ac-b078-0288bbae9c50.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fd6f51be5-54e5-d0ac-b078-0288bbae9c50.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=7a2ad7f8e9e53f650a573be648dce76f 1x" loading="lazy"></a></p>

<p><strong>slapd -V</strong><br>
(正常にインストールされたかどうか確認)</p>

<div class="code-frame" data-lang="">
<div class="code-lang"><span class="bold">OpenLDAPのバージョン確認</span></div>
<div class="highlight"><pre class="with-code"><code>gebo@Ubuntu:~$ slapd -V
@(#) $OpenLDAP: slapd  (Ubuntu) (Apr 10 2019 12:53:11) $
        Debian OpenLDAP Maintainers &lt;pkg-openldap-devel@lists.alioth.debian.org&gt;
</code></pre></div>
</div>

<h3>
<span id="ldapの接続情報をget" class="fragment"></span><a href="#ldap%E3%81%AE%E6%8E%A5%E7%B6%9A%E6%83%85%E5%A0%B1%E3%82%92get"><i class="fa fa-link"></i></a>LDAPの接続情報をGET</h3>

<p><strong>sudo slapcat</strong><br>
(<code>slapcat</code>はLDAPのディレクトリデータを出力するコマンドです)</p>

<p>実行すると、ダラダラと出てきます。</p>

<div class="code-frame" data-lang="bash">
<div class="code-lang"><span class="bold">slapcat</span></div>
<div class="highlight"><pre class="with-code"><code>gebo@Ubuntu:~<span class="nv">$ </span><span class="nb">sudo </span>slapcat
dn: <span class="nv">dc</span><span class="o">=</span>etnxy3denhdednurc4eny0pxja,dc<span class="o">=</span>lx,dc<span class="o">=</span>internal,dc<span class="o">=</span>cloudapp,dc<span class="o">=</span>net
objectClass: top
objectClass: dcObject
objectClass: organization
o: etnxy3denhdednurc4eny0pxja.lx.internal.cloudapp.net
dc: etnxy3denhdednurc4eny0pxja
structuralObjectClass: organization
entryUUID: 72428406-09c4-1039-9f29-6ddfd98d1f52
creatorsName: <span class="nv">cn</span><span class="o">=</span>admin,dc<span class="o">=</span>etnxy3denhdednurc4eny0pxja,dc<span class="o">=</span>lx,dc<span class="o">=</span>internal,dc<span class="o">=</span>cl
 oudapp,dc<span class="o">=</span>net
createTimestamp: 20190513121448Z
entryCSN: 20190513121448.270870Z#000000#000#000000
modifiersName: <span class="nv">cn</span><span class="o">=</span>admin,dc<span class="o">=</span>etnxy3denhdednurc4eny0pxja,dc<span class="o">=</span>lx,dc<span class="o">=</span>internal,dc<span class="o">=</span>c
 loudapp,dc<span class="o">=</span>net
modifyTimestamp: 20190513121448Z

dn: <span class="nv">cn</span><span class="o">=</span>admin,dc<span class="o">=</span>etnxy3denhdednurc4eny0pxja,dc<span class="o">=</span>lx,dc<span class="o">=</span>internal,dc<span class="o">=</span>cloudapp,dc<span class="o">=</span>
 net
objectClass: simpleSecurityObject
objectClass: organizationalRole
cn: admin
description: LDAP administrator
userPassword:: <span class="nv">e1NTSEF9ZG9YTWV2UlFXT1dGREE3TFk0ZUszVUtUYUJvUUhPWnQ</span><span class="o">=</span>
structuralObjectClass: organizationalRole
entryUUID: 7244270c-09c4-1039-9f2a-6ddfd98d1f52
creatorsName: <span class="nv">cn</span><span class="o">=</span>admin,dc<span class="o">=</span>etnxy3denhdednurc4eny0pxja,dc<span class="o">=</span>lx,dc<span class="o">=</span>internal,dc<span class="o">=</span>cl
 oudapp,dc<span class="o">=</span>net
createTimestamp: 20190513121448Z
entryCSN: 20190513121448.281637Z#000000#000#000000
modifiersName: <span class="nv">cn</span><span class="o">=</span>admin,dc<span class="o">=</span>etnxy3denhdednurc4eny0pxja,dc<span class="o">=</span>lx,dc<span class="o">=</span>internal,dc<span class="o">=</span>c
 loudapp,dc<span class="o">=</span>net
modifyTimestamp: 20190513121448Z

</code></pre></div>
</div>

<div class="code-frame" data-lang="bash">
<div class="code-lang"><span class="bold">ちなみにslapcatのusage</span></div>
<div class="highlight"><pre class="with-code"><code>usage: slapcat 
       <span class="o">[</span><span class="nt">-v</span><span class="o">]</span> <span class="o">[</span><span class="nt">-d</span> debuglevel] <span class="o">[</span><span class="nt">-f</span> configfile] <span class="o">[</span><span class="nt">-F</span> configdir] 
       <span class="o">[</span><span class="nt">-o</span> &lt;name&gt;[<span class="o">=</span>&lt;value&gt;]] <span class="o">[</span><span class="nt">-c</span><span class="o">]</span> <span class="o">[</span><span class="nt">-g</span><span class="o">]</span> 
       <span class="o">[</span><span class="nt">-n</span> databasenumber | <span class="nt">-b</span> suffix] <span class="o">[</span><span class="nt">-l</span> ldiffile]
       <span class="o">[</span><span class="nt">-a</span> filter] <span class="o">[</span><span class="nt">-s</span> subtree] <span class="o">[</span><span class="nt">-H</span> url]
</code></pre></div>
</div>

<p>slapcatの結果をよく見ると、2つのレコードがあるっぽいです。</p>

<p>①ルートDN（と言っていいかどうかわからないが、LDAPデータの頂点になるレコード)<br>
<code>dn: dc=etnxy3denhdednurc4eny0pxja,dc=lx,dc=internal,dc=cloudapp,dc=net</code></p>

<p>②アドミンCN（と言っていいかどうかわからないが、OpenLDAPをインストールするときに作ったAdminのレコード)<br>
<code>dn: cn=admin,dc=etnxy3denhdednurc4eny0pxja,dc=lx,dc=internal,dc=cloudapp,dc=net</code></p>

<p><strong>この①ルートDN、②アドミンCNの値をメモっておきましょう。<br>
外部からLDAPに接続する際に必要な情報です。</strong></p>

<p>OpenLDAPのセットアップが完了したら、外部から接続するための設定をしていきます。</p>

<h1>
<span id="5-ubuntuのldapポート開放" class="fragment"></span><a href="#5-ubuntu%E3%81%AEldap%E3%83%9D%E3%83%BC%E3%83%88%E9%96%8B%E6%94%BE"><i class="fa fa-link"></i></a>5. UbuntuのLDAPポート開放</h1>

<p><strong>※Azureでの作業です※</strong></p>

<p>LDAPは389番ポートを使うのがデフォルトです。<br>
Ubuntu側はまだポートを開けていないのでAzureでポートを開けてやります。</p>

<p>1)Azureにログイン<br>
2)ホーム&gt;Virtual Machines&gt;Ubuntu(仮想マシン名) - ネットワーク<br>
3)受信ポートの規則を追加する<br>
4)[受信セキュリティ規則の追加]で宛先ポート範囲：389とする<br>
5)名前：Port_389とする<br>
6)それ以外はそのままで作成</p>

<p><a href="https://camo.qiitausercontent.com/9a025c7f420ad0588b4c1d5969f1022613493fc3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f65633737333531392d336666382d626133652d613334322d3266646537346266306134312e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fec773519-3ff8-ba3e-a342-2fde74bf0a41.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=1cf46f84d1d8665ca0f690da2a1fe144" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/ec773519-3ff8-ba3e-a342-2fde74bf0a41.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fec773519-3ff8-ba3e-a342-2fde74bf0a41.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=e1c923ce1b33ab8b84c0ace132cb9db1 1x" loading="lazy"></a></p>

<p><a href="https://camo.qiitausercontent.com/a7934b1bc1d87684d924743c3a058402defe5f91/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f36366666306236372d396239632d363738382d613462372d6261366531343865653930652e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F66ff0b67-9b9c-6788-a4b7-ba6e148ee90e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=8186bbbe6ed8f16732052533f3211205" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/66ff0b67-9b9c-6788-a4b7-ba6e148ee90e.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F66ff0b67-9b9c-6788-a4b7-ba6e148ee90e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=f5341dd2ed7b6241d1460a982fa23302 1x" loading="lazy"></a></p>

<p>これでポート389が解放され、外部から接続できるようになります。</p>

<h1>
<span id="6-windowsからldapに接続" class="fragment"></span><a href="#6-windows%E3%81%8B%E3%82%89ldap%E3%81%AB%E6%8E%A5%E7%B6%9A"><i class="fa fa-link"></i></a>6. WindowsからLDAPに接続</h1>

<p><strong>※Windowsでの作業です※</strong></p>

<p>操作しているWindowsPCからAzure上のUbuntuで動作しているOpenLDAPに接続します。<br>
LDAPに接続するクライアントツールはいろいろありますが、今回はLDAP Adminを使います。<br>
LDAPに接続するために必要な情報<br>
- UbuntuのIPアドレス<br>
- ポート情報＝LDAPはデフォルトで389ポートで接続します。<br>
- LDAPのDN＝<a href="">LDAPの接続情報をGET</a>で①ルートDNとしてメモっておいたものです。<br>
- LDAPユーザー名＝<a href="">LDAPの接続情報をGET</a>で②アドミンCNとしてメモっておいたものです。<br>
- パスワード＝<a href="">4. OpenLDAPのセットアップ</a>で登録したAdministrator passwordです。</p>

<h3>
<span id="ldap-adminをダウンロードする" class="fragment"></span><a href="#ldap-admin%E3%82%92%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>LDAP Adminをダウンロードする</h3>

<p><a href="https://ja.osdn.net/projects/sfnet_ldapadmin/" rel="nofollow noopener" target="_blank">LDAPAdmin 日本語情報トップページ</a>からダウンロードします。</p>

<p><a href="https://camo.qiitausercontent.com/71d9b00892d64d745f2265524d867e112d269c83/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f63313130306630642d313361632d623265332d616332612d3934663634393762623362392e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fc1100f0d-13ac-b2e3-ac2a-94f6497bb3b9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=f93a0db240cbd77cc3c774db064157c3" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/c1100f0d-13ac-b2e3-ac2a-94f6497bb3b9.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fc1100f0d-13ac-b2e3-ac2a-94f6497bb3b9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=736e972828cc213c685d93fc858d7ce2 1x" loading="lazy"></a></p>

<p>※インストールは不要です。LdapAdmin.exeをクリックで起動します。</p>

<p><a href="https://camo.qiitausercontent.com/d56dde1a67407e4beec6eca2c4f261524e7c6ffe/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f36633530386533312d633539322d316135662d646662612d3839306634663132653034372e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F6c508e31-c592-1a5f-dfba-890f4f12e047.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=ed93afe2f1eb4c3577469f26dafeba30" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/6c508e31-c592-1a5f-dfba-890f4f12e047.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F6c508e31-c592-1a5f-dfba-890f4f12e047.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=231e0a5f25837dd2c3cae0e564e271ba 1x" loading="lazy"></a></p>

<h3>
<span id="ldap-adminで接続" class="fragment"></span><a href="#ldap-admin%E3%81%A7%E6%8E%A5%E7%B6%9A"><i class="fa fa-link"></i></a>LDAP Adminで接続</h3>

<ul>
<li>メニューから[Connect]で[New Connecttion]を実行します。</li>
<li>パラメータを入力して、[OK]で接続します。

<ul>
<li>ConnectionNameは接続名なんで、任意の文字列でOK</li>
<li>HostはUbuntuのIPアドレス</li>
<li>Baseは<a href="">LDAPの接続情報をGET</a>で①ルートDNとしてメモっておいたもの</li>
<li>Usernameは<a href="">LDAPの接続情報をGET</a>で②アドミンCNとしてメモっておいたもの</li>
<li>Passwordは<a href="">4. OpenLDAPのセットアップ</a>で登録したAdministrator password</li>
</ul>
</li>
</ul>

<p><a href="https://camo.qiitausercontent.com/0a35102ae456780c23e99fe80f8cf7f14fe4bf68/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f64376161393763662d323866342d353739642d313262342d6465313165613134363262302e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fd7aa97cf-28f4-579d-12b4-de11ea1462b0.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=48424b3411dc66619b9609320b2e6b5f" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/d7aa97cf-28f4-579d-12b4-de11ea1462b0.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fd7aa97cf-28f4-579d-12b4-de11ea1462b0.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=f0ba70998b6a90071199380e27567378 1x" loading="lazy"></a></p>

<ul>
<li>こんな感じでLDAPディレクトリの内容が表示されればOk</li>
</ul>

<p><a href="https://camo.qiitausercontent.com/6ad26b388d568584cd5dde275a79cfa7014ee26c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f33366536633039312d623966652d366330332d646431372d3030346561383465653861652e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F36e6c091-b9fe-6c03-dd17-004ea84ee8ae.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=7a0b71c5fcbd60815d2a3e3da53483a1" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/36e6c091-b9fe-6c03-dd17-004ea84ee8ae.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F36e6c091-b9fe-6c03-dd17-004ea84ee8ae.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=549826072e0ff83b18b113101428b810 1x" loading="lazy"></a></p>

<h1>
<span id="7-openldapのdn変更" class="fragment"></span><a href="#7-openldap%E3%81%AEdn%E5%A4%89%E6%9B%B4"><i class="fa fa-link"></i></a>7. OpenLDAPのDN変更</h1>

<p><strong>※Ubuntuでの作業です※</strong></p>

<p>①ルートDNとしてメモっておいたもの<br>
<code>dc=etnxy3denhdednurc4eny0pxja,dc=lx,dc=internal,dc=cloudapp,dc=net</code><br>
なんだか長くて嫌なので<br>
<code>dc=gebogebo,dc=com</code><br>
に変更してみます。</p>

<p>ルートDNの設定変更は<strong>dpkg</strong>コマンドで行います。<br>
このコマンドはOpenLDAPの設定全般の設定変更をするコマンドです。以降の手順はルートDN以外の設定変更はしません。</p>

<p>以下のコマンドを実行します。</p>

<div class="code-frame" data-lang="bash">
<div class="code-lang"><span class="bold">dpkg</span></div>
<div class="highlight"><pre class="with-code"><code>gebo@Ubuntu:~<span class="nv">$ </span><span class="nb">sudo </span>dpkg <span class="nt">-reconfigure</span> slapd
</code></pre></div>
</div>

<p>そうするとこんな画面が出てきます。<br>
Noで先に進む、Yesでキャンセルです。<br>
<a href="https://camo.qiitausercontent.com/db9f4f8277479a5d3751c552ba2b38be94c12f65/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f65343336323030362d656562632d373839362d323036362d3533343463353563613934372e706e67" target="_blank" rel="nofollow noopener"><img width="478" alt="11.PNG" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fe4362006-eebc-7896-2066-5344c55ca947.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=b35d456bc24e08117d04691065a1fc57" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/e4362006-eebc-7896-2066-5344c55ca947.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fe4362006-eebc-7896-2066-5344c55ca947.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=1862994692645a0c6dc2b46c6a87b7d7 1x" loading="lazy"></a></p>

<p>この画面のDNS dmain nameでルートDNを変更します。<br>
gebogebo.comと入力してOK<br>
<a href="https://camo.qiitausercontent.com/b7ebcf06dce4ab426fc4d1de89929f6cc6e7253c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f34383133376630372d303230342d626266642d643066612d3837313533323735653833362e706e67" target="_blank" rel="nofollow noopener"><img width="480" alt="12.PNG" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F48137f07-0204-bbfd-d0fa-87153275e836.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=7e43e7d4bf1a01245ebb676073dfea1c" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/48137f07-0204-bbfd-d0fa-87153275e836.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F48137f07-0204-bbfd-d0fa-87153275e836.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=39f0201fa7f7f2e78f31e75e23ef186c 1x" loading="lazy"></a></p>

<p>Organization name。組織名でしょうか、gebogeboと入れてOK<br>
<a href="https://camo.qiitausercontent.com/813c5c520bedc2778acad48ae0f28fbbe41f3a00/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f63373633373062362d643430372d663431352d383933322d3938663931646565376230652e706e67" target="_blank" rel="nofollow noopener"><img width="479" alt="13.PNG" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fc76370b6-d407-f415-8932-98f91dee7b0e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=097c6e1c1bf250ffd63c5db1ac71e580" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/c76370b6-d407-f415-8932-98f91dee7b0e.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fc76370b6-d407-f415-8932-98f91dee7b0e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=883c7dd6713776ccc7e1e307eb47bd6c 1x" loading="lazy"></a></p>

<p>Administrator password。変えるつもりはないので同じものを入力。<br>
<a href="https://camo.qiitausercontent.com/563f6a29b49575cc432910f1cd9f8ead6cb9db25/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f32316332366464622d313939332d616564652d366662372d6231396137623633343765632e706e67" target="_blank" rel="nofollow noopener"><img width="479" alt="14.PNG" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F21c26ddb-1993-aede-6fb7-b19a7b6347ec.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=ac9dc7063d97a66bd2b90e74eccb1691" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/21c26ddb-1993-aede-6fb7-b19a7b6347ec.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F21c26ddb-1993-aede-6fb7-b19a7b6347ec.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=0b36335a8279b882d99599202e4f0cc5 1x" loading="lazy"></a></p>

<p>パスワードの再入力。<br>
<a href="https://camo.qiitausercontent.com/250ab16b2bf135bfdf24e4fbe79b3dc0061e3bc7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f33656131653636322d616334362d643265612d373932342d3732663062313365353032302e706e67" target="_blank" rel="nofollow noopener"><img width="483" alt="15.PNG" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F3ea1e662-ac46-d2ea-7924-72f0b13e5020.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=cb5acdeeade7d6efe81db469cc16c0c7" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/3ea1e662-ac46-d2ea-7924-72f0b13e5020.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F3ea1e662-ac46-d2ea-7924-72f0b13e5020.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=c961d78e939e4039cde3f8c9d5d18d5c 1x" loading="lazy"></a></p>

<p>BDB、HDB、MDBの選択。LDAPのDB形式の指定のようです、最初から選択されているMDBのままでOK。<br>
<a href="https://camo.qiitausercontent.com/fd77ae308cefbe46f70ac08d25d803ae8ca4a89c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f39363465336334312d323938302d386233652d386336642d3232393134616133393161652e706e67" target="_blank" rel="nofollow noopener"><img width="476" alt="16.PNG" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F964e3c41-2980-8b3e-8c6d-22914aa391ae.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d8b48ed1e245e3fc04d16f07cd918ff9" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/964e3c41-2980-8b3e-8c6d-22914aa391ae.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F964e3c41-2980-8b3e-8c6d-22914aa391ae.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=a9ed1649bcd4b8c834a9bc8c850d7e18 1x" loading="lazy"></a></p>

<p>databese removeとかナントカ...Noにします。<br>
<a href="https://camo.qiitausercontent.com/1f32b456077f0586aa370e55a746541323179f2d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f65646263346264392d383638352d306362322d303166662d3836623733343236363461382e706e67" target="_blank" rel="nofollow noopener"><img width="480" alt="17.PNG" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fedbc4bd9-8685-0cb2-01ff-86b7342664a8.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=e257384ef02922aef1ba32a905aa71c6" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/edbc4bd9-8685-0cb2-01ff-86b7342664a8.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fedbc4bd9-8685-0cb2-01ff-86b7342664a8.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=e076633a5afbf11c5f0b4548ee89438e 1x" loading="lazy"></a></p>

<p>Move old database?よくわからないのでデフォルトで選択されているYesを選択。<br>
<a href="https://camo.qiitausercontent.com/c87c719f9d3e739ebd884f60539448eab7d4e344/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f64316234663564352d646434322d306139652d626133302d3238393133633533333638352e706e67" target="_blank" rel="nofollow noopener"><img width="477" alt="18.PNG" src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fd1b4f5d5-dd42-0a9e-ba30-28913c533685.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=3519c161c37c330dcb0811720526af50" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/d1b4f5d5-dd42-0a9e-ba30-28913c533685.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fd1b4f5d5-dd42-0a9e-ba30-28913c533685.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=896be86f52d7ad0fde23f1b09be8be7e 1x" loading="lazy"></a></p>

<p>以上で設定は終了です。doneとログが出て終了です。</p>

<div class="code-frame" data-lang="bash">
<div class="code-lang"><span class="bold">dpkg実行後</span></div>
<div class="highlight"><pre class="with-code"><code>gebo@Ubuntu:~<span class="nv">$ </span><span class="nb">sudo </span>dpkg <span class="nt">-reconfigure</span> slapd
  Backing up /etc/ldap/slapd.d <span class="k">in</span> /var/backups/slapd-2.4.45+dfsg-1ubuntu1.2... <span class="k">done</span><span class="nb">.</span>
  Moving old database directory to /var/backups:
  - directory unknown... <span class="k">done</span><span class="nb">.</span>
  Creating initial configuration... <span class="k">done</span><span class="nb">.</span>
  Creating LDAP directory... <span class="k">done</span><span class="nb">.</span>
</code></pre></div>
</div>

<p>slapcatしてみてみましょう。<br>
（ちゃんと変わっています）</p>

<div class="code-frame" data-lang="bash">
<div class="code-lang"><span class="bold">slapcat</span></div>
<div class="highlight"><pre class="with-code"><code>gebo@Ubuntu:~<span class="nv">$ </span><span class="nb">sudo </span>slapcat
dn: <span class="nv">dc</span><span class="o">=</span>gebogebo,dc<span class="o">=</span>com
objectClass: top
objectClass: dcObject
objectClass: organization
o: gebogebo
dc: gebogebo
structuralObjectClass: organization
entryUUID: 97fdb884-0adf-1039-8a27-3dd7d18b91fb
creatorsName: <span class="nv">cn</span><span class="o">=</span>admin,dc<span class="o">=</span>gebogebo,dc<span class="o">=</span>com
createTimestamp: 20190514220139Z
entryCSN: 20190514220139.147880Z#000000#000#000000
modifiersName: <span class="nv">cn</span><span class="o">=</span>admin,dc<span class="o">=</span>gebogebo,dc<span class="o">=</span>com
modifyTimestamp: 20190514220139Z

dn: <span class="nv">cn</span><span class="o">=</span>admin,dc<span class="o">=</span>gebogebo,dc<span class="o">=</span>com
objectClass: simpleSecurityObject
objectClass: organizationalRole
cn: admin
description: LDAP administrator
userPassword:: <span class="nv">e1NTSEF9RlRtUTMvaXg4NU1Kc2VSWGRqM1FFYWlaOTVETzZlbGU</span><span class="o">=</span>
structuralObjectClass: organizationalRole
entryUUID: 98005cc4-0adf-1039-8a28-3dd7d18b91fb
creatorsName: <span class="nv">cn</span><span class="o">=</span>admin,dc<span class="o">=</span>gebogebo,dc<span class="o">=</span>com
createTimestamp: 20190514220139Z
entryCSN: 20190514220139.165269Z#000000#000#000000
modifiersName: <span class="nv">cn</span><span class="o">=</span>admin,dc<span class="o">=</span>gebogebo,dc<span class="o">=</span>com
modifyTimestamp: 20190514220139Z
</code></pre></div>
</div>

<p>LDAP Adminで接続するときのBaseとUsernameも変えて接続確認をしておきましょう。</p>

<h1>
<span id="8-ldapにアクセスするcプログラム" class="fragment"></span><a href="#8-ldap%E3%81%AB%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%81%99%E3%82%8Bc%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0"><i class="fa fa-link"></i></a>8. LDAPにアクセスするC#プログラム</h1>

<p><strong>※Windowsでの作業です※</strong></p>

<p>C#でLDAPにアクセスするプログラムを作成します。</p>

<ul>
<li>Visual Studio 2019 C# WPF アプリケーション(.Net Framework 4.7.2)でプロジェクトを作成します。</li>
<li>参照に<code>System.DirectoryServices</code>を追加します。</li>
<li>ソースコードには<code>using System.DirectoryServices;</code>を追加します。</li>
</ul>

<p><a href="https://camo.qiitausercontent.com/1c113809f52df07be0c84a4fda66cd7f5e0b7802/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f31306338663538622d323561612d393464392d363566662d6439326565333863626138352e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F10c8f58b-25aa-94d9-65ff-d92ee38cba85.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d97c933da633228f73b63b32ee0f4c0a" alt="image.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/10c8f58b-25aa-94d9-65ff-d92ee38cba85.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F10c8f58b-25aa-94d9-65ff-d92ee38cba85.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=4a8b99e200bcdf85dc0b89b192d27336 1x" loading="lazy"></a></p>

<h3>
<span id="ldapへの接続" class="fragment"></span><a href="#ldap%E3%81%B8%E3%81%AE%E6%8E%A5%E7%B6%9A"><i class="fa fa-link"></i></a>LDAPへの接続</h3>

<p>DirectoryEntryクラスを生成し、NativeObjectを取得することで接続を確認することができますが、DirectoryEntryクラスのコンストラクタに指定する引数がわかりずらいので注意です。</p>

<div class="code-frame" data-lang="CS">
<div class="code-lang"><span class="bold">DirectoryEntryコンストラクタ</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="nf">DirectoryEntry</span><span class="p">(</span><span class="kt">string</span> <span class="n">path</span><span class="p">,</span> <span class="kt">string</span> <span class="n">username</span><span class="p">,</span> <span class="kt">string</span> <span class="n">password</span><span class="p">,</span> <span class="n">AuthenticationTypes</span> <span class="n">authenticationType</span><span class="p">);</span>
</code></pre></div>
</div>

<h4>
<span id="path" class="fragment"></span><a href="#path"><i class="fa fa-link"></i></a>path</h4>

<p>接続するDNを<strong>URL形式で</strong>指定します。</p>

<div class="code-frame" data-lang="">
<div class="code-lang"><span class="bold">LDAP_URL形式</span></div>
<div class="highlight"><pre class="with-code"><code>ldap:// &lt; LDAPホスト名 &gt; : &lt; LDAPポート番号 &gt; / &lt;検索ベース&gt;
</code></pre></div>
</div>

<h4>
<span id="username" class="fragment"></span><a href="#username"><i class="fa fa-link"></i></a>username</h4>

<p>OpenLDAPに登録されているユーザー名を<strong>DN形式で</strong>指定します。</p>

<h4>
<span id="password" class="fragment"></span><a href="#password"><i class="fa fa-link"></i></a>password</h4>

<p>usernameで指定したユーザーの<strong>パスワードをそのまま指定</strong>します。</p>

<h4>
<span id="authenticationtype" class="fragment"></span><a href="#authenticationtype"><i class="fa fa-link"></i></a>authenticationType</h4>

<p>この引数が今一つわからないのですが、以下で接続できます。<br>
AuthenticationTypes.None</p>

<div class="code-frame" data-lang="cs">
<div class="code-lang"><span class="bold">接続確認</span></div>
<div class="highlight"><pre class="with-code"><code><span class="kt">string</span> <span class="n">message</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
<span class="k">try</span> <span class="p">{</span>
    <span class="kt">string</span> <span class="n">lserver</span> <span class="p">=</span> <span class="s">$"LDAP://</span><span class="p">{</span><span class="n">LDAP</span><span class="err">サーバーの</span><span class="n">IP</span><span class="err">アドレス</span><span class="p">}</span><span class="s">/dc=gebogebo,dc=com"</span><span class="p">;</span>
    <span class="kt">string</span> <span class="n">domainAndUsername</span> <span class="p">=</span> <span class="s">$"cn=admin,dc=gebogebo,dc=com"</span><span class="p">;</span>
    <span class="kt">string</span> <span class="n">pwd</span> <span class="p">=</span> <span class="s">$"password"</span><span class="p">;</span>

    <span class="n">DirectoryEntry</span> <span class="n">entry</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DirectoryEntry</span><span class="p">(</span><span class="n">lserver</span><span class="p">,</span> <span class="n">domainAndUsername</span><span class="p">,</span> <span class="n">pwd</span><span class="p">,</span> <span class="n">AuthenticationTypes</span><span class="p">.</span><span class="n">None</span><span class="p">);</span>
    <span class="c1">// Exceptionが発生しなければ接続成功</span>
    <span class="kt">object</span> <span class="n">obj</span> <span class="p">=</span> <span class="n">entry</span><span class="p">.</span><span class="n">NativeObject</span><span class="p">;</span>

    <span class="n">message</span> <span class="p">=</span> <span class="s">"接続成功しました"</span><span class="p">;</span>

<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Error</span>
    <span class="n">message</span> <span class="p">=</span> <span class="n">ex</span><span class="p">.</span><span class="n">Message</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">MessageBox</span><span class="p">.</span><span class="nf">Show</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
</code></pre></div>
</div>

<h3>
<span id="ouの作成" class="fragment"></span><a href="#ou%E3%81%AE%E4%BD%9C%E6%88%90"><i class="fa fa-link"></i></a>OUの作成</h3>

<p>接続確認と同様の方法でDirectoryEntryを生成した後に、Children.Add()します。<br>
Add()の結果で得られたオブジェクトでCommitChanges()しないといけないところが注意です。<br>
以下サンプルではtestouというOUを作成しています。<br>
実行後にLDAPAdminで実際に生成されていることを確認してみましょう。</p>

<div class="code-frame" data-lang="cs">
<div class="code-lang"><span class="bold">OUの作成</span></div>
<div class="highlight"><pre class="with-code"><code><span class="kt">string</span> <span class="n">message</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
<span class="k">try</span> <span class="p">{</span>
    <span class="kt">string</span> <span class="n">lserver</span> <span class="p">=</span> <span class="s">$"LDAP://</span><span class="p">{</span><span class="n">LDAP</span><span class="err">サーバーの</span><span class="n">IP</span><span class="err">アドレス</span><span class="p">}</span><span class="s">/dc=gebogebo,dc=com"</span><span class="p">;</span>
    <span class="kt">string</span> <span class="n">domainAndUsername</span> <span class="p">=</span> <span class="s">$"cn=admin,dc=gebogebo,dc=com"</span><span class="p">;</span>
    <span class="kt">string</span> <span class="n">pwd</span> <span class="p">=</span> <span class="s">$"password"</span><span class="p">;</span>

    <span class="n">DirectoryEntry</span> <span class="n">entry</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DirectoryEntry</span><span class="p">(</span><span class="n">lserver</span><span class="p">,</span> <span class="n">domainAndUsername</span><span class="p">,</span> <span class="n">pwd</span><span class="p">,</span> <span class="n">AuthenticationTypes</span><span class="p">.</span><span class="n">None</span><span class="p">);</span>

    <span class="kt">var</span> <span class="n">ou</span> <span class="p">=</span> <span class="n">entry</span><span class="p">.</span><span class="n">Children</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"ou=testou"</span><span class="p">,</span> <span class="s">"OrganizationalUnit"</span><span class="p">);</span>
    <span class="n">ou</span><span class="p">.</span><span class="nf">CommitChanges</span><span class="p">();</span>

    <span class="n">message</span> <span class="p">=</span> <span class="s">"OUの作成に成功しました"</span><span class="p">;</span>

<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">message</span> <span class="p">=</span> <span class="n">ex</span><span class="p">.</span><span class="n">Message</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">MessageBox</span><span class="p">.</span><span class="nf">Show</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
</code></pre></div>
</div>

<h3>
<span id="cnの作成" class="fragment"></span><a href="#cn%E3%81%AE%E4%BD%9C%E6%88%90"><i class="fa fa-link"></i></a>CNの作成</h3>

<p>DirectoryEntryを生成した後に、Children.Add()するのですが、DirectoryEntryのコンストラクタに指定するpahは先ほどのサンプルで指定したtestouを指定します。<br>
こうすることで、testouの下にCNを作成することになります。<br>
Add()の結果で得られたオブジェクトでCommitChanges()しないといけないところが注意です。</p>

<p>このサンプルでは<code>testcn</code>というinetOrgPerson型のCNを作成し、uid,sn,displayName,homePhone,homePostalAddress属性を設定しています。</p>

<div class="code-frame" data-lang="cs">
<div class="code-lang"><span class="bold">CNの作成</span></div>
<div class="highlight"><pre class="with-code"><code><span class="kt">string</span> <span class="n">message</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
<span class="k">try</span> <span class="p">{</span>
    <span class="kt">string</span> <span class="n">lserver</span> <span class="p">=</span> <span class="s">$"LDAP://</span><span class="p">{</span><span class="n">LDAP</span><span class="err">サーバーの</span><span class="n">IP</span><span class="err">アドレス</span><span class="p">}</span><span class="s">/ou=testou,dc=gebogebo,dc=com"</span><span class="p">;</span>
    <span class="kt">string</span> <span class="n">domainAndUsername</span> <span class="p">=</span> <span class="s">$"cn=admin,dc=gebogebo,dc=com"</span><span class="p">;</span>
    <span class="kt">string</span> <span class="n">pwd</span> <span class="p">=</span> <span class="s">$"password"</span><span class="p">;</span>

    <span class="n">DirectoryEntry</span> <span class="n">ou</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DirectoryEntry</span><span class="p">(</span><span class="n">lserver</span><span class="p">,</span> <span class="n">domainAndUsername</span><span class="p">,</span> <span class="n">pwd</span><span class="p">,</span> <span class="n">AuthenticationTypes</span><span class="p">.</span><span class="n">None</span><span class="p">);</span>

    <span class="kt">string</span> <span class="n">uid</span> <span class="p">=</span> <span class="s">"testcn"</span><span class="p">;</span>

    <span class="kt">var</span> <span class="n">user</span> <span class="p">=</span> <span class="n">ou</span><span class="p">.</span><span class="n">Children</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"cn=testcn"</span><span class="p">,</span> <span class="s">"inetOrgPerson"</span><span class="p">);</span>
    <span class="n">user</span><span class="p">.</span><span class="n">Properties</span><span class="p">[</span><span class="s">"uid"</span><span class="p">].</span><span class="n">Value</span> <span class="p">=</span> <span class="n">uid</span><span class="p">;</span>
    <span class="n">user</span><span class="p">.</span><span class="n">Properties</span><span class="p">[</span><span class="s">"sn"</span><span class="p">].</span><span class="n">Value</span> <span class="p">=</span> <span class="n">uid</span><span class="p">;</span>
    <span class="n">user</span><span class="p">.</span><span class="n">Properties</span><span class="p">[</span><span class="s">"displayName"</span><span class="p">].</span><span class="n">Value</span> <span class="p">=</span> <span class="s">"なまえ"</span><span class="p">;</span>
    <span class="n">user</span><span class="p">.</span><span class="n">Properties</span><span class="p">[</span><span class="s">"homePhone"</span><span class="p">].</span><span class="n">Value</span> <span class="p">=</span> <span class="s">"????"</span><span class="p">;</span>
    <span class="n">user</span><span class="p">.</span><span class="n">Properties</span><span class="p">[</span><span class="s">"homePostalAddress"</span><span class="p">].</span><span class="n">Value</span> <span class="p">=</span> <span class="s">"xxxxx"</span><span class="p">;</span>

    <span class="n">user</span><span class="p">.</span><span class="nf">CommitChanges</span><span class="p">();</span>

    <span class="n">message</span> <span class="p">=</span> <span class="s">"CNの作成に成功しました"</span><span class="p">;</span>

<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">message</span> <span class="p">=</span> <span class="n">ex</span><span class="p">.</span><span class="n">Message</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">MessageBox</span><span class="p">.</span><span class="nf">Show</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
</code></pre></div>
</div>

<h3>
<span id="ouの削除" class="fragment"></span><a href="#ou%E3%81%AE%E5%89%8A%E9%99%A4"><i class="fa fa-link"></i></a>OUの削除</h3>

<p>Find()で削除対象のオブジェクトを取得してから、Remove()で削除します。<br>
Remove()の場合はCommitChanges()がいらないようです（<em>いちいちわかりにくいんだよなぁ</em>)</p>

<p>以下サンプルはtestouを削除します。</p>

<div class="code-frame" data-lang="cs">
<div class="code-lang"><span class="bold">OUの削除</span></div>
<div class="highlight"><pre class="with-code"><code><span class="kt">string</span> <span class="n">message</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
<span class="k">try</span> <span class="p">{</span>
    <span class="kt">string</span> <span class="n">lserver</span> <span class="p">=</span> <span class="s">$"LDAP://</span><span class="p">{</span><span class="n">LDAP</span><span class="err">サーバーの</span><span class="n">IP</span><span class="err">アドレス</span><span class="p">}</span><span class="s">/ou=testou,dc=gebogebo,dc=com"</span><span class="p">;</span>
    <span class="kt">string</span> <span class="n">domainAndUsername</span> <span class="p">=</span> <span class="s">$"cn=admin,dc=gebogebo,dc=com"</span><span class="p">;</span>
    <span class="kt">string</span> <span class="n">pwd</span> <span class="p">=</span> <span class="s">$"password"</span><span class="p">;</span>

    <span class="n">DirectoryEntry</span> <span class="n">ou</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DirectoryEntry</span><span class="p">(</span><span class="n">lserver</span><span class="p">,</span> <span class="n">domainAndUsername</span><span class="p">,</span> <span class="n">pwd</span><span class="p">,</span> <span class="n">AuthenticationTypes</span><span class="p">.</span><span class="n">None</span><span class="p">);</span>

    <span class="kt">var</span> <span class="n">cn</span> <span class="p">=</span> <span class="n">ou</span><span class="p">.</span><span class="n">Children</span><span class="p">.</span><span class="nf">Find</span><span class="p">(</span><span class="s">"ou=testou"</span><span class="p">);</span>

    <span class="n">ou</span><span class="p">.</span><span class="n">Children</span><span class="p">.</span><span class="nf">Remove</span><span class="p">(</span><span class="n">cn</span><span class="p">);</span>

    <span class="n">message</span> <span class="p">=</span> <span class="s">"OUの削除に成功しました"</span><span class="p">;</span>

<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">message</span> <span class="p">=</span> <span class="n">ex</span><span class="p">.</span><span class="n">Message</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">MessageBox</span><span class="p">.</span><span class="nf">Show</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</code></pre></div>
</div>

<h3>
<span id="cnの削除" class="fragment"></span><a href="#cn%E3%81%AE%E5%89%8A%E9%99%A4"><i class="fa fa-link"></i></a>CNの削除</h3>

<p>Find()で削除対象のオブジェクトを取得してから、Remove()で削除します。</p>

<p>以下サンプルはtestcnを削除します。</p>

<div class="code-frame" data-lang="cs">
<div class="code-lang"><span class="bold">CNの削除</span></div>
<div class="highlight"><pre class="with-code"><code><span class="kt">string</span> <span class="n">message</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
<span class="k">try</span> <span class="p">{</span>
    <span class="kt">string</span> <span class="n">lserver</span> <span class="p">=</span> <span class="s">$"LDAP://</span><span class="p">{</span><span class="n">LDAP</span><span class="err">サーバーの</span><span class="n">IP</span><span class="err">アドレス</span><span class="p">}</span><span class="s">/ou=testou,dc=gebogebo,dc=com"</span><span class="p">;</span>
    <span class="kt">string</span> <span class="n">domainAndUsername</span> <span class="p">=</span> <span class="s">$"cn=admin,dc=gebogebo,dc=com"</span><span class="p">;</span>
    <span class="kt">string</span> <span class="n">pwd</span> <span class="p">=</span> <span class="s">$"password"</span><span class="p">;</span>

    <span class="n">DirectoryEntry</span> <span class="n">ou</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DirectoryEntry</span><span class="p">(</span><span class="n">lserver</span><span class="p">,</span> <span class="n">domainAndUsername</span><span class="p">,</span> <span class="n">pwd</span><span class="p">,</span> <span class="n">AuthenticationTypes</span><span class="p">.</span><span class="n">None</span><span class="p">);</span>

    <span class="kt">var</span> <span class="n">cn</span> <span class="p">=</span> <span class="n">ou</span><span class="p">.</span><span class="n">Children</span><span class="p">.</span><span class="nf">Find</span><span class="p">(</span><span class="s">"cn=testcn"</span><span class="p">);</span>

    <span class="n">ou</span><span class="p">.</span><span class="n">Children</span><span class="p">.</span><span class="nf">Remove</span><span class="p">(</span><span class="n">cn</span><span class="p">);</span>

    <span class="n">message</span> <span class="p">=</span> <span class="s">"CNの削除に成功しました"</span><span class="p">;</span>

<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">message</span> <span class="p">=</span> <span class="n">ex</span><span class="p">.</span><span class="n">Message</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">MessageBox</span><span class="p">.</span><span class="nf">Show</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
</code></pre></div>
</div>

<p>これらのソースは<a href="https://github.com/gebogebogebo/LDAPConnector" rel="nofollow noopener" target="_blank">GitHub</a>にもアップしています。<br>
<a href="https://github.com/gebogebogebo/LDAPConnector" rel="nofollow noopener" target="_blank">LDAPConnector</a></p>

<h1>
<span id="おつかれさまでした" class="fragment"></span><a href="#%E3%81%8A%E3%81%A4%E3%81%8B%E3%82%8C%E3%81%95%E3%81%BE%E3%81%A7%E3%81%97%E3%81%9F"><i class="fa fa-link"></i></a>おつかれさまでした</h1>

<p>LDAP以外と情報少ない。</p>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2Fgebo%2Fitems%2F497fcbafcbb5b3f5abaf&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2Fgebo%2Fitems%2F497fcbafcbb5b3f5abaf&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/gebo/items/497fcbafcbb5b3f5abaf/likers" class="css-1iupg5d">1</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">1</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/497fcbafcbb5b3f5abaf/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/gebo/items/497fcbafcbb5b3f5abaf/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/gebo/items/497fcbafcbb5b3f5abaf/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/gebo/items/497fcbafcbb5b3f5abaf/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/gebo/items/497fcbafcbb5b3f5abaf.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-fb31022c-4a2f-4591-95a9-2676f77fe6c9">{"authorAnalyticsTrackingId":null,"organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-abc71b06-8ca3-499b-8f2c-4ac5badcc6f7"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-abc71b06-8ca3-499b-8f2c-4ac5badcc6f7">{}</script>
      
<div id="LoginModal-react-component-56b412f2-24f4-49a6-bd48-f9bdb6e9c200"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-56b412f2-24f4-49a6-bd48-f9bdb6e9c200">{}</script>
      
<div id="StockModal-react-component-27565aa0-6e81-439e-84ba-7845e702584b"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-27565aa0-6e81-439e-84ba-7845e702584b">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;OpKidzIqo5xVDuTOpKCQZek4r3ogKxskwgdpMc7mzA481fEn+bfuDONKlU8NLMX+SdrNgJO9ndiCz2SMVYMieQ==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\n\u003ch1\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\n\u003cp\u003eLDAPの勉強をしたまとめです。\u003cbr\u003e\nAzure上の仮想マシンにUbuntuを構築して、OpenLDAPをインストールしてから、\u003cbr\u003e\nWindows10からOpenLDAPにアクセスするC#プログラムサンプルプログラムを作成するところまでです。\u003c/p\u003e\n\n\u003cp\u003e\u003cimg alt=\":o:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/2b55-fe0f.png\" title=\":o:\" width=\"20\" loading=\"lazy\"\u003e以下のことが書いてあります\u003cimg alt=\":o:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/2b55-fe0f.png\" title=\":o:\" width=\"20\" loading=\"lazy\"\u003e   \u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eAzure上でのUbuntuの構築\u003c/li\u003e\n\u003cli\u003eOpenLDAPのインストール\u003c/li\u003e\n\u003cli\u003eC#プログラムからLDAPへのアクセス\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003cimg alt=\":x:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/274c.png\" title=\":x:\" width=\"20\" loading=\"lazy\"\u003e以下のことは書いていません\u003cimg alt=\":x:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/274c.png\" title=\":x:\" width=\"20\" loading=\"lazy\"\u003e   \u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eAzureのユーザー登録方法\u003c/li\u003e\n\u003cli\u003eUbuntuとは何か？\u003c/li\u003e\n\u003cli\u003eLDAPとは何か？\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003cstrong\u003e※細かいことは考えずとりあえずやってみた系です\u003c/strong\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"環境\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%92%B0%E5%A2%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e環境\u003c/h1\u003e\n\n\u003cp\u003e作業はWindows10のPC1台でやってますが、Azureに仮想マシン作るのでマシン的には2台です。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eServer OS=Ubuntu Server 18.04 LTS(Microsoft Azure)\n\n\u003cul\u003e\n\u003cli\u003eOpenLDAP(Apr 10 2019 12:53:11)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eClient OS=Windows10 Pro 1809 (64bit)\n\n\u003cul\u003e\n\u003cli\u003eTera Term(Version 4.102)\u003c/li\u003e\n\u003cli\u003eLDAP Admin(Version 1.8.3.0)\u003c/li\u003e\n\u003cli\u003eSampleProject=Visual Studio 2019 C# WPF アプリケーション(.Net Framework 4.7.2)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"概要\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%A6%82%E8%A6%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e概要\u003c/h1\u003e\n\n\u003cp\u003e以下の手順でやっていきます。\u003cbr\u003e\n各項目は Windowsでやる／Azureでやる／Ubuntuでやる のいずれかです。\u003c/p\u003e\n\n\u003col\u003e\n\u003cli\u003eTeraTermでキーペアを作成する\u003c/li\u003e\n\u003cli\u003e仮想マシン(Ubuntu)を作成する\u003c/li\u003e\n\u003cli\u003eUbuntuに接続\u003c/li\u003e\n\u003cli\u003eOpenLDAPのセットアップ\u003c/li\u003e\n\u003cli\u003eUbuntuのLDAPポート開放\u003c/li\u003e\n\u003cli\u003eWindowsからLDAPに接続\u003c/li\u003e\n\u003cli\u003eOpenLDAPのDN変更\u003c/li\u003e\n\u003cli\u003eLDAPにアクセスするC#プログラム\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"1-teratermでキーペアを作成する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-teraterm%E3%81%A7%E3%82%AD%E3%83%BC%E3%83%9A%E3%82%A2%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. TeraTermでキーペアを作成する\u003c/h1\u003e\n\n\u003cp\u003e\u003cstrong\u003e※Windowsでの作業です※\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003e操作するWindowsPCにTeraTermを入れてSSH接続用のキーペア(秘密鍵、公開鍵)を作成します。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"teratermのインストール\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#teraterm%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eTeraTermのインストール\u003c/h3\u003e\n\n\u003cp\u003e以下のサイトからTeraTermをダウンロードしてインストールします。\u003cbr\u003e\n- \u003ca href=\"https://ja.osdn.net/projects/ttssh2/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eTera Term (テラターム) プロジェクト日本語トップページ\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/7f7866adee97a172923e674a84d2e1d6ea4949b2/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f36623961643637332d363931652d626666392d656564652d3839356130623763373963332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F6b9ad673-691e-bff9-eede-895a0b7c79c3.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=72ef196dc9e0df53c83a9f04689606bb\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/6b9ad673-691e-bff9-eede-895a0b7c79c3.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F6b9ad673-691e-bff9-eede-895a0b7c79c3.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=1e93fcfab6bb52e591c1de800ae36b10 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"鍵生成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%8D%B5%E7%94%9F%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e鍵生成\u003c/h3\u003e\n\n\u003cp\u003eUbuntuにはSSH-公開鍵認証方式で接続します。\u003cbr\u003e\nキーペア（秘密鍵を公開鍵）を生成してUbuntu側に公開鍵を設定、TeraTerm側に秘密鍵を設定する必要があります。\u003cbr\u003e\n今回はTeraTermでキーペアを生成します。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003eTeraTermを起動してメニューから[鍵生成]を実行\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/99c0add371337b420e48b1a3544186feeb17bea1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f37393237656361372d303166392d666130302d366166382d6366373261663331633532372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"494\" alt=\"1.png\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F7927eca7-01f9-fa00-6af8-cf72af31c527.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a94633cb6f2a26708406190d7f3c1317\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/7927eca7-01f9-fa00-6af8-cf72af31c527.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F7927eca7-01f9-fa00-6af8-cf72af31c527.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=632267c7e8928b4bc1dd20e867c84c2f 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eパラメータを設定して[生成]\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eとりあえず、この画面の通りに設定すればいいと思います。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/4c0908702ab741cf344afbcb5e3a48c72c6c9a58/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f36356661613932342d323433342d646234372d333034332d6534663339366563653265342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"289\" alt=\"2.png\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F65faa924-2434-db47-3043-e4f396ece2e4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=9c1a67ffbfc5dfbe6201cd5e0d23bba4\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/65faa924-2434-db47-3043-e4f396ece2e4.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F65faa924-2434-db47-3043-e4f396ece2e4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=0a9eeb0cdea0031166cdf6e79d60bd6c 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\n\u003cstrong\u003eパスフレーズ\u003c/strong\u003eを入力して[公開鍵を保存]、さらに[秘密鍵を保存]\n\n\u003cul\u003e\n\u003cli\u003e\n\u003cstrong\u003eパスフレーズ\u003c/strong\u003eは秘密鍵を暗号化するキーです。忘れないようにしましょう。\u003c/li\u003e\n\u003cli\u003e公開鍵、秘密鍵はわかりやすいファイル名にして、適当なところに保存しておきましょう。後で使います。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/9797ad52178d4f6ebafce21f8386ba11aa437824/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f39323731356632362d626463652d306134632d303264372d3432666331663963623636652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"289\" alt=\"3.PNG\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F92715f26-bdce-0a4c-02d7-42fc1f9cb66e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=6275a07bbb56e3be2aad1099b0bfcae1\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/92715f26-bdce-0a4c-02d7-42fc1f9cb66e.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F92715f26-bdce-0a4c-02d7-42fc1f9cb66e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=717d947169dafb3c186d9b10a793430a 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e次はAzure上に仮想マシンを構築します。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"2-azureに仮想マシンubuntuを作成する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-azure%E3%81%AB%E4%BB%AE%E6%83%B3%E3%83%9E%E3%82%B7%E3%83%B3ubuntu%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. Azureに仮想マシン(Ubuntu)を作成する\u003c/h1\u003e\n\n\u003cp\u003e\u003cstrong\u003e※Azureでの作業です※\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003eAzureへの登録、ログインは完了していて、リソースがまだ作成されていない状態から始めます。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/944d603cca66ecca6a55869492c750ea0a3f3761/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f65613039353935302d646362362d373433322d336564632d6134636434666362663337632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fea095950-dcb6-7432-3edc-a4cd4fcbf37c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ccb63b18b50d23cc30a5e9d2d1f201e4\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/ea095950-dcb6-7432-3edc-a4cd4fcbf37c.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fea095950-dcb6-7432-3edc-a4cd4fcbf37c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=db3a9454aee476bc252793afa3cbd3bc 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"リソースグループの作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AA%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eリソースグループの作成\u003c/h3\u003e\n\n\u003cp\u003eAzureの左メニュの[リソース グループ]からリソースを作成します。\u003c/p\u003e\n\n\u003cp\u003eTESTという名前でリソースグループを作成します。\u003cbr\u003e\n（リージョンは東日本にしました）\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/f0ec7f8e2a41fd8b4f0332bc28c3190c9717799d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f33346665373832342d636663352d616463612d316631332d6538386164373133666363632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F34fe7824-cfc5-adca-1f13-e88ad713fccc.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=fee51690c5c0375b9eb34cc69da1e840\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/34fe7824-cfc5-adca-1f13-e88ad713fccc.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F34fe7824-cfc5-adca-1f13-e88ad713fccc.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=861b7b6a0b55f64ca56880a6c7554f95 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"仮想マシンの作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BB%AE%E6%83%B3%E3%83%9E%E3%82%B7%E3%83%B3%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e仮想マシンの作成\u003c/h3\u003e\n\n\u003cp\u003eAzureの左メニュの[Virtual Machines]から仮想マシンを作成します。\u003cbr\u003e\n選択項目がたくさんあります。\u003cbr\u003e\n今回は以下の設定で作成しています。\u003cbr\u003e\n記載のない項目はデフォルトのママ、変更していないということです。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"基本\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%9F%BA%E6%9C%AC\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e基本\u003c/h4\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align: center\"\u003e項目\u003c/th\u003e\n\u003cth style=\"text-align: left\"\u003e設定値\u003c/th\u003e\n\u003cth style=\"text-align: left\"\u003e備考\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eリソースグループ\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eTEST\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e先ほど作成したもの\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e仮想マシン名\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eUbuntu\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e名前なんでお好みで\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e地域\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e東日本\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eお好みで\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eイメージ\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eUbuntu Server 18.04 LTS\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eサイズ\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eStandart B1s\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e認証の種類\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eSSH 公開キー\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eユーザー名\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003egebo\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eログインするときのユーザー名です\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eSSH公開キー\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e※後述\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eさっき作成した公開鍵、パスワードの代わりみたいなもの\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eパブリック受信ポート\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e選択したポートを許可する\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e受信ポートを選択する\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eSSH(22)\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003e\u003cstrong\u003e※SSH公開キー\u003c/strong\u003e\u003cbr\u003e\nSSH公開キーはテキストです、先ほどTeraTermで作成した公開鍵を指定します。\u003cbr\u003e\n- 公開鍵をメモ帳で開きます。\u003cbr\u003e\n- ssh-rsa、半角スペースの後に\u003ccode\u003eAAAAB3N...\u003c/code\u003eといった意味不明のデータが書いてありますが、最後の半角スペースの後のユーザー情報みたいなもの(下例では\u003ccode\u003egebo@WINDOWS10PC\u003c/code\u003e)は不要ですので、そこを除いたデータを[SSH公開キー]の入力欄にコピペします。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eSSH公開鍵\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e// これの[ssh-rsa～N2ZB+Q==]が公開鍵\nssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAoVx0oQzVrkmPiLPad/4Ms132itkbHZ38GFTXtFJ95qrNSO4DzkuXOViISOmNgJtzSVMM9UQ3nvCdqIPEztbt7rxnW+6SlY7ie7paDsJceLZAbLQ+jv6Uwczf2IbI4Yxcq8Zs7JipS/ZYNV8vPxn6QBDxikco2JZsgYeuWDNKsRthAO7iRetBbgogaRSX+pbDuw0SKHvAwzw1vK/P3kbAYFPRglCASmc5sYIvuqH5bGqQMUCrKiQE+HMScr87lPnSSQBvxxtUmZg0qFSHL2aK7uCmBid3zW/haQI35JZ3CU+H2kmRHrA6Rm9qhBMy9xHotspMiBvW2lRhBBbPN2ZB+Q== gebo@WINDOWS10PC\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"ディスク\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%87%E3%82%A3%E3%82%B9%E3%82%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eディスク\u003c/h4\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align: center\"\u003e項目\u003c/th\u003e\n\u003cth style=\"text-align: left\"\u003e設定値\u003c/th\u003e\n\u003cth style=\"text-align: left\"\u003e備考\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eOSディスク種類\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eStandard SSD\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"管理\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%AE%A1%E7%90%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e管理\u003c/h4\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align: center\"\u003e項目\u003c/th\u003e\n\u003cth style=\"text-align: left\"\u003e設定値\u003c/th\u003e\n\u003cth style=\"text-align: left\"\u003e備考\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eブート診断\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eオフ\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e自動シャットダウンを有効にする\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eオン\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eシャットダウン時刻\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e19:00\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eタイムゾーン\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e(UTC+9:00)大阪、札幌、東京\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/83258c88aea2398f66c13f9ca7198e1ac619ff3b/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f31666666363235322d333139312d636638662d623239632d6635353463633765346230372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F1fff6252-3191-cf8f-b29c-f554cc7e4b07.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=695242e844134ad18db5914da43e30dd\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/1fff6252-3191-cf8f-b29c-f554cc7e4b07.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F1fff6252-3191-cf8f-b29c-f554cc7e4b07.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9aecd7badcfd63f3509285fe56354406 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/37a77bb573ad27238cc91c6b0c6a4cddee36841f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f34626633663136302d663131382d363763642d613233342d3861363232323339383964312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F4bf3f160-f118-67cd-a234-8a62223989d1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=3d5c8948a971ae9ac9991bff0a9b5f59\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/4bf3f160-f118-67cd-a234-8a62223989d1.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F4bf3f160-f118-67cd-a234-8a62223989d1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=aa053fb8464d9c89cd3bb67a5d3be6fb 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e※私の環境では2分ほどでデプロイが完了しました、速い・・・\u003cbr\u003e\nデプロイが完了すると仮想マシンはそのまま起動していますので、IPアドレスを確認しておきましょう。\u003cbr\u003e\nAzureの\u003ccode\u003eホーム\u0026gt;Virtual Machines\u0026gt;[マシン名]\u003c/code\u003eから\u003ccode\u003e[パブリック IP アドレス]\u003c/code\u003eで確認することができます。\u003cbr\u003e\nこの後、Windowsから仮想マシンに接続してUbuntuの初期設定を行います。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"3-ubuntuに接続\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3-ubuntu%E3%81%AB%E6%8E%A5%E7%B6%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3. Ubuntuに接続\u003c/h1\u003e\n\n\u003cp\u003e\u003cstrong\u003e※Windowsでの作業です※\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003e操作しているWindowsPCからAzure上に構築したUbuntuへの接続にはTeraTermを使います。\u003cbr\u003e\n（Windowsに標準で入っているリモートデスクトップでは接続できません)\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"teratermで接続する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#teraterm%E3%81%A7%E6%8E%A5%E7%B6%9A%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eTeraTermで接続する\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003eTeraTermを起動してメニューから[新しい接続]を実行\n\n\u003cul\u003e\n\u003cli\u003eホストにUbuntuのIPアドレスを設定(さっき作成した仮想マシンのパブリックIPアドレスです)\u003c/li\u003e\n\u003cli\u003eTCPポートに22\u003c/li\u003e\n\u003cli\u003eSSHを選択\u003c/li\u003e\n\u003cli\u003e[OK]で接続\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/d907e72699a1e9daa11cf272d355c4901c925e3f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f63336134613938322d633137362d363036382d666165352d3237613933326163616561662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"494\" alt=\"4.PNG\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fc3a4a982-c176-6068-fae5-27a932acaeaf.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=8cdb29ac8ed586d3e44aee5f33240536\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/c3a4a982-c176-6068-fae5-27a932acaeaf.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fc3a4a982-c176-6068-fae5-27a932acaeaf.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=d258b03fa44f81636622765ee0e5a82c 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e認証の画面\n\n\u003cul\u003e\n\u003cli\u003eユーザ名にUbuntuのユーザー(\u003ca href=\"\"\u003e仮想マシンの作成-基本\u003c/a\u003eのとこで設定したものです)\u003c/li\u003e\n\u003cli\u003eパスフレーズに秘密鍵のパスフレーズ(\u003ca href=\"\"\u003e鍵生成\u003c/a\u003eのとこで設定したものです)\u003c/li\u003e\n\u003cli\u003e秘密鍵ファイルを指定(\u003ca href=\"\"\u003e鍵生成\u003c/a\u003eのとこで保存したものです)\u003c/li\u003e\n\u003cli\u003e[OK]で接続\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/a87db7d34b1712403f6b71e4aef7ce3c9c473ce8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f39333265636338312d346337632d303838302d396462312d3063643366363065363438642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"372\" alt=\"5.PNG\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F932ecc81-4c7c-0880-9db1-0cd3f60e648d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c865580d69557188d6ff6f75e47cc861\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/932ecc81-4c7c-0880-9db1-0cd3f60e648d.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F932ecc81-4c7c-0880-9db1-0cd3f60e648d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=738fbddfc75db2d26cf8cbd7f1c8b08c 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eなにやら情報が出てプロンプトが表示されれば接続OK\n\n\u003cul\u003e\n\u003cli\u003e試しにpwdコマンドを打ってみましょう。自分のいる場所（パス）が表示されます。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/edc1f947cfb723075f432820d436008e23fe1461/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f39303762623336372d663037382d323839312d346330352d3235643963373635643063392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"494\" alt=\"6.PNG\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F907bb367-f078-2891-4c05-25d9c765d0c9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=3ef7b3c87c85f4f63f4673fe0a887c01\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/907bb367-f078-2891-4c05-25d9c765d0c9.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F907bb367-f078-2891-4c05-25d9c765d0c9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=d5ad95c1e1ff6f5dd5575f0291de1abb 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e接続ができたらUbuntuの初期設定をしていきましょう。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"4-openldapのセットアップ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#4-openldap%E3%81%AE%E3%82%BB%E3%83%83%E3%83%88%E3%82%A2%E3%83%83%E3%83%97\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e4. OpenLDAPのセットアップ\u003c/h1\u003e\n\n\u003cp\u003e\u003cstrong\u003e※Ubuntuでの作業です※\u003c/strong\u003e\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"openldapのインストール\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#openldap%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eOpenLDAPのインストール\u003c/h4\u003e\n\n\u003cp\u003eTeraTermでUbuntuに接続して以下のコマンドを実行します。\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003esudo apt-get update\u003c/strong\u003e\u003cbr\u003e\n(環境のアップデート、と思われる)\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\n\u003ccode\u003esudo apt-get update\u003c/code\u003eはapt-getコマンドを管理者権限で実行するという意味です。\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eアップデート\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003egebo@Ubuntu:~$ sudo apt-get update\nHit:1 http://azure.archive.ubuntu.com/ubuntu bionic InRelease\nHit:2 http://azure.archive.ubuntu.com/ubuntu bionic-updates InRelease\nHit:3 http://azure.archive.ubuntu.com/ubuntu bionic-backports InRelease\nHit:4 http://security.ubuntu.com/ubuntu bionic-security InRelease\nReading package lists... Done\ngebo@Ubuntu:~$\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e\u003cstrong\u003esudo apt install slapd ldap-utils\u003c/strong\u003e\u003cbr\u003e\n(OpenLDAPのインストール)\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eOpenLDAPのインストール\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003egebo@Ubuntu:~$ sudo apt install slapd ldap-utils\nReading package lists... Done\nBuilding dependency tree\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eOpenLDAPの管理者パスワードの入力の画面が出てくるので、パスワードを入力します。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/9b33d73a2d52afdc34f408484cc94e6f84c77de7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f64366635316265352d353465352d643061632d623037382d3032383862626165396335302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fd6f51be5-54e5-d0ac-b078-0288bbae9c50.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b07ca13363fce11770fde637838268ef\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/d6f51be5-54e5-d0ac-b078-0288bbae9c50.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fd6f51be5-54e5-d0ac-b078-0288bbae9c50.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=7a2ad7f8e9e53f650a573be648dce76f 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003eslapd -V\u003c/strong\u003e\u003cbr\u003e\n(正常にインストールされたかどうか確認)\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eOpenLDAPのバージョン確認\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003egebo@Ubuntu:~$ slapd -V\n@(#) $OpenLDAP: slapd  (Ubuntu) (Apr 10 2019 12:53:11) $\n        Debian OpenLDAP Maintainers \u0026lt;pkg-openldap-devel@lists.alioth.debian.org\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"ldapの接続情報をget\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#ldap%E3%81%AE%E6%8E%A5%E7%B6%9A%E6%83%85%E5%A0%B1%E3%82%92get\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eLDAPの接続情報をGET\u003c/h3\u003e\n\n\u003cp\u003e\u003cstrong\u003esudo slapcat\u003c/strong\u003e\u003cbr\u003e\n(\u003ccode\u003eslapcat\u003c/code\u003eはLDAPのディレクトリデータを出力するコマンドです)\u003c/p\u003e\n\n\u003cp\u003e実行すると、ダラダラと出てきます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"bash\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eslapcat\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003egebo@Ubuntu:~\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003esudo \u003c/span\u003eslapcat\ndn: \u003cspan class=\"nv\"\u003edc\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003eetnxy3denhdednurc4eny0pxja,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003elx,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003einternal,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003ecloudapp,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003enet\nobjectClass: top\nobjectClass: dcObject\nobjectClass: organization\no: etnxy3denhdednurc4eny0pxja.lx.internal.cloudapp.net\ndc: etnxy3denhdednurc4eny0pxja\nstructuralObjectClass: organization\nentryUUID: 72428406-09c4-1039-9f29-6ddfd98d1f52\ncreatorsName: \u003cspan class=\"nv\"\u003ecn\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003eadmin,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003eetnxy3denhdednurc4eny0pxja,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003elx,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003einternal,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003ecl\n oudapp,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003enet\ncreateTimestamp: 20190513121448Z\nentryCSN: 20190513121448.270870Z#000000#000#000000\nmodifiersName: \u003cspan class=\"nv\"\u003ecn\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003eadmin,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003eetnxy3denhdednurc4eny0pxja,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003elx,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003einternal,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003ec\n loudapp,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003enet\nmodifyTimestamp: 20190513121448Z\n\ndn: \u003cspan class=\"nv\"\u003ecn\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003eadmin,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003eetnxy3denhdednurc4eny0pxja,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003elx,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003einternal,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003ecloudapp,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003e\n net\nobjectClass: simpleSecurityObject\nobjectClass: organizationalRole\ncn: admin\ndescription: LDAP administrator\nuserPassword:: \u003cspan class=\"nv\"\u003ee1NTSEF9ZG9YTWV2UlFXT1dGREE3TFk0ZUszVUtUYUJvUUhPWnQ\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\nstructuralObjectClass: organizationalRole\nentryUUID: 7244270c-09c4-1039-9f2a-6ddfd98d1f52\ncreatorsName: \u003cspan class=\"nv\"\u003ecn\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003eadmin,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003eetnxy3denhdednurc4eny0pxja,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003elx,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003einternal,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003ecl\n oudapp,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003enet\ncreateTimestamp: 20190513121448Z\nentryCSN: 20190513121448.281637Z#000000#000#000000\nmodifiersName: \u003cspan class=\"nv\"\u003ecn\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003eadmin,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003eetnxy3denhdednurc4eny0pxja,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003elx,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003einternal,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003ec\n loudapp,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003enet\nmodifyTimestamp: 20190513121448Z\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"bash\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eちなみにslapcatのusage\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003eusage: slapcat \n       \u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"nt\"\u003e-v\u003c/span\u003e\u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"nt\"\u003e-d\u003c/span\u003e debuglevel] \u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"nt\"\u003e-f\u003c/span\u003e configfile] \u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"nt\"\u003e-F\u003c/span\u003e configdir] \n       \u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"nt\"\u003e-o\u003c/span\u003e \u0026lt;name\u0026gt;[\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u0026lt;value\u0026gt;]] \u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"nt\"\u003e-c\u003c/span\u003e\u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"nt\"\u003e-g\u003c/span\u003e\u003cspan class=\"o\"\u003e]\u003c/span\u003e \n       \u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"nt\"\u003e-n\u003c/span\u003e databasenumber | \u003cspan class=\"nt\"\u003e-b\u003c/span\u003e suffix] \u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"nt\"\u003e-l\u003c/span\u003e ldiffile]\n       \u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"nt\"\u003e-a\u003c/span\u003e filter] \u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"nt\"\u003e-s\u003c/span\u003e subtree] \u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"nt\"\u003e-H\u003c/span\u003e url]\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eslapcatの結果をよく見ると、2つのレコードがあるっぽいです。\u003c/p\u003e\n\n\u003cp\u003e①ルートDN（と言っていいかどうかわからないが、LDAPデータの頂点になるレコード)\u003cbr\u003e\n\u003ccode\u003edn: dc=etnxy3denhdednurc4eny0pxja,dc=lx,dc=internal,dc=cloudapp,dc=net\u003c/code\u003e\u003c/p\u003e\n\n\u003cp\u003e②アドミンCN（と言っていいかどうかわからないが、OpenLDAPをインストールするときに作ったAdminのレコード)\u003cbr\u003e\n\u003ccode\u003edn: cn=admin,dc=etnxy3denhdednurc4eny0pxja,dc=lx,dc=internal,dc=cloudapp,dc=net\u003c/code\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003eこの①ルートDN、②アドミンCNの値をメモっておきましょう。\u003cbr\u003e\n外部からLDAPに接続する際に必要な情報です。\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003eOpenLDAPのセットアップが完了したら、外部から接続するための設定をしていきます。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"5-ubuntuのldapポート開放\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#5-ubuntu%E3%81%AEldap%E3%83%9D%E3%83%BC%E3%83%88%E9%96%8B%E6%94%BE\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e5. UbuntuのLDAPポート開放\u003c/h1\u003e\n\n\u003cp\u003e\u003cstrong\u003e※Azureでの作業です※\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003eLDAPは389番ポートを使うのがデフォルトです。\u003cbr\u003e\nUbuntu側はまだポートを開けていないのでAzureでポートを開けてやります。\u003c/p\u003e\n\n\u003cp\u003e1)Azureにログイン\u003cbr\u003e\n2)ホーム\u0026gt;Virtual Machines\u0026gt;Ubuntu(仮想マシン名) - ネットワーク\u003cbr\u003e\n3)受信ポートの規則を追加する\u003cbr\u003e\n4)[受信セキュリティ規則の追加]で宛先ポート範囲：389とする\u003cbr\u003e\n5)名前：Port_389とする\u003cbr\u003e\n6)それ以外はそのままで作成\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/9a025c7f420ad0588b4c1d5969f1022613493fc3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f65633737333531392d336666382d626133652d613334322d3266646537346266306134312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fec773519-3ff8-ba3e-a342-2fde74bf0a41.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=1cf46f84d1d8665ca0f690da2a1fe144\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/ec773519-3ff8-ba3e-a342-2fde74bf0a41.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fec773519-3ff8-ba3e-a342-2fde74bf0a41.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e1c923ce1b33ab8b84c0ace132cb9db1 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/a7934b1bc1d87684d924743c3a058402defe5f91/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f36366666306236372d396239632d363738382d613462372d6261366531343865653930652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F66ff0b67-9b9c-6788-a4b7-ba6e148ee90e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=8186bbbe6ed8f16732052533f3211205\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/66ff0b67-9b9c-6788-a4b7-ba6e148ee90e.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F66ff0b67-9b9c-6788-a4b7-ba6e148ee90e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=f5341dd2ed7b6241d1460a982fa23302 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eこれでポート389が解放され、外部から接続できるようになります。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"6-windowsからldapに接続\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#6-windows%E3%81%8B%E3%82%89ldap%E3%81%AB%E6%8E%A5%E7%B6%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e6. WindowsからLDAPに接続\u003c/h1\u003e\n\n\u003cp\u003e\u003cstrong\u003e※Windowsでの作業です※\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003e操作しているWindowsPCからAzure上のUbuntuで動作しているOpenLDAPに接続します。\u003cbr\u003e\nLDAPに接続するクライアントツールはいろいろありますが、今回はLDAP Adminを使います。\u003cbr\u003e\nLDAPに接続するために必要な情報\u003cbr\u003e\n- UbuntuのIPアドレス\u003cbr\u003e\n- ポート情報＝LDAPはデフォルトで389ポートで接続します。\u003cbr\u003e\n- LDAPのDN＝\u003ca href=\"\"\u003eLDAPの接続情報をGET\u003c/a\u003eで①ルートDNとしてメモっておいたものです。\u003cbr\u003e\n- LDAPユーザー名＝\u003ca href=\"\"\u003eLDAPの接続情報をGET\u003c/a\u003eで②アドミンCNとしてメモっておいたものです。\u003cbr\u003e\n- パスワード＝\u003ca href=\"\"\u003e4. OpenLDAPのセットアップ\u003c/a\u003eで登録したAdministrator passwordです。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"ldap-adminをダウンロードする\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#ldap-admin%E3%82%92%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eLDAP Adminをダウンロードする\u003c/h3\u003e\n\n\u003cp\u003e\u003ca href=\"https://ja.osdn.net/projects/sfnet_ldapadmin/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eLDAPAdmin 日本語情報トップページ\u003c/a\u003eからダウンロードします。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/71d9b00892d64d745f2265524d867e112d269c83/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f63313130306630642d313361632d623265332d616332612d3934663634393762623362392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fc1100f0d-13ac-b2e3-ac2a-94f6497bb3b9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=f93a0db240cbd77cc3c774db064157c3\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/c1100f0d-13ac-b2e3-ac2a-94f6497bb3b9.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fc1100f0d-13ac-b2e3-ac2a-94f6497bb3b9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=736e972828cc213c685d93fc858d7ce2 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e※インストールは不要です。LdapAdmin.exeをクリックで起動します。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/d56dde1a67407e4beec6eca2c4f261524e7c6ffe/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f36633530386533312d633539322d316135662d646662612d3839306634663132653034372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F6c508e31-c592-1a5f-dfba-890f4f12e047.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ed93afe2f1eb4c3577469f26dafeba30\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/6c508e31-c592-1a5f-dfba-890f4f12e047.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F6c508e31-c592-1a5f-dfba-890f4f12e047.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=231e0a5f25837dd2c3cae0e564e271ba 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"ldap-adminで接続\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#ldap-admin%E3%81%A7%E6%8E%A5%E7%B6%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eLDAP Adminで接続\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003eメニューから[Connect]で[New Connecttion]を実行します。\u003c/li\u003e\n\u003cli\u003eパラメータを入力して、[OK]で接続します。\n\n\u003cul\u003e\n\u003cli\u003eConnectionNameは接続名なんで、任意の文字列でOK\u003c/li\u003e\n\u003cli\u003eHostはUbuntuのIPアドレス\u003c/li\u003e\n\u003cli\u003eBaseは\u003ca href=\"\"\u003eLDAPの接続情報をGET\u003c/a\u003eで①ルートDNとしてメモっておいたもの\u003c/li\u003e\n\u003cli\u003eUsernameは\u003ca href=\"\"\u003eLDAPの接続情報をGET\u003c/a\u003eで②アドミンCNとしてメモっておいたもの\u003c/li\u003e\n\u003cli\u003ePasswordは\u003ca href=\"\"\u003e4. OpenLDAPのセットアップ\u003c/a\u003eで登録したAdministrator password\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/0a35102ae456780c23e99fe80f8cf7f14fe4bf68/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f64376161393763662d323866342d353739642d313262342d6465313165613134363262302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fd7aa97cf-28f4-579d-12b4-de11ea1462b0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=48424b3411dc66619b9609320b2e6b5f\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/d7aa97cf-28f4-579d-12b4-de11ea1462b0.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fd7aa97cf-28f4-579d-12b4-de11ea1462b0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=f0ba70998b6a90071199380e27567378 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eこんな感じでLDAPディレクトリの内容が表示されればOk\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/6ad26b388d568584cd5dde275a79cfa7014ee26c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f33366536633039312d623966652d366330332d646431372d3030346561383465653861652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F36e6c091-b9fe-6c03-dd17-004ea84ee8ae.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7a0b71c5fcbd60815d2a3e3da53483a1\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/36e6c091-b9fe-6c03-dd17-004ea84ee8ae.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F36e6c091-b9fe-6c03-dd17-004ea84ee8ae.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=549826072e0ff83b18b113101428b810 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"7-openldapのdn変更\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#7-openldap%E3%81%AEdn%E5%A4%89%E6%9B%B4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e7. OpenLDAPのDN変更\u003c/h1\u003e\n\n\u003cp\u003e\u003cstrong\u003e※Ubuntuでの作業です※\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003e①ルートDNとしてメモっておいたもの\u003cbr\u003e\n\u003ccode\u003edc=etnxy3denhdednurc4eny0pxja,dc=lx,dc=internal,dc=cloudapp,dc=net\u003c/code\u003e\u003cbr\u003e\nなんだか長くて嫌なので\u003cbr\u003e\n\u003ccode\u003edc=gebogebo,dc=com\u003c/code\u003e\u003cbr\u003e\nに変更してみます。\u003c/p\u003e\n\n\u003cp\u003eルートDNの設定変更は\u003cstrong\u003edpkg\u003c/strong\u003eコマンドで行います。\u003cbr\u003e\nこのコマンドはOpenLDAPの設定全般の設定変更をするコマンドです。以降の手順はルートDN以外の設定変更はしません。\u003c/p\u003e\n\n\u003cp\u003e以下のコマンドを実行します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"bash\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003edpkg\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003egebo@Ubuntu:~\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003esudo \u003c/span\u003edpkg \u003cspan class=\"nt\"\u003e-reconfigure\u003c/span\u003e slapd\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eそうするとこんな画面が出てきます。\u003cbr\u003e\nNoで先に進む、Yesでキャンセルです。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/db9f4f8277479a5d3751c552ba2b38be94c12f65/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f65343336323030362d656562632d373839362d323036362d3533343463353563613934372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"478\" alt=\"11.PNG\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fe4362006-eebc-7896-2066-5344c55ca947.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b35d456bc24e08117d04691065a1fc57\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/e4362006-eebc-7896-2066-5344c55ca947.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fe4362006-eebc-7896-2066-5344c55ca947.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=1862994692645a0c6dc2b46c6a87b7d7 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eこの画面のDNS dmain nameでルートDNを変更します。\u003cbr\u003e\ngebogebo.comと入力してOK\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/b7ebcf06dce4ab426fc4d1de89929f6cc6e7253c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f34383133376630372d303230342d626266642d643066612d3837313533323735653833362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"480\" alt=\"12.PNG\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F48137f07-0204-bbfd-d0fa-87153275e836.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7e43e7d4bf1a01245ebb676073dfea1c\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/48137f07-0204-bbfd-d0fa-87153275e836.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F48137f07-0204-bbfd-d0fa-87153275e836.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=39f0201fa7f7f2e78f31e75e23ef186c 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eOrganization name。組織名でしょうか、gebogeboと入れてOK\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/813c5c520bedc2778acad48ae0f28fbbe41f3a00/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f63373633373062362d643430372d663431352d383933322d3938663931646565376230652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"479\" alt=\"13.PNG\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fc76370b6-d407-f415-8932-98f91dee7b0e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=097c6e1c1bf250ffd63c5db1ac71e580\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/c76370b6-d407-f415-8932-98f91dee7b0e.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fc76370b6-d407-f415-8932-98f91dee7b0e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=883c7dd6713776ccc7e1e307eb47bd6c 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eAdministrator password。変えるつもりはないので同じものを入力。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/563f6a29b49575cc432910f1cd9f8ead6cb9db25/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f32316332366464622d313939332d616564652d366662372d6231396137623633343765632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"479\" alt=\"14.PNG\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F21c26ddb-1993-aede-6fb7-b19a7b6347ec.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ac9dc7063d97a66bd2b90e74eccb1691\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/21c26ddb-1993-aede-6fb7-b19a7b6347ec.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F21c26ddb-1993-aede-6fb7-b19a7b6347ec.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=0b36335a8279b882d99599202e4f0cc5 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eパスワードの再入力。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/250ab16b2bf135bfdf24e4fbe79b3dc0061e3bc7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f33656131653636322d616334362d643265612d373932342d3732663062313365353032302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"483\" alt=\"15.PNG\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F3ea1e662-ac46-d2ea-7924-72f0b13e5020.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=cb5acdeeade7d6efe81db469cc16c0c7\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/3ea1e662-ac46-d2ea-7924-72f0b13e5020.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F3ea1e662-ac46-d2ea-7924-72f0b13e5020.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c961d78e939e4039cde3f8c9d5d18d5c 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eBDB、HDB、MDBの選択。LDAPのDB形式の指定のようです、最初から選択されているMDBのままでOK。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/fd77ae308cefbe46f70ac08d25d803ae8ca4a89c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f39363465336334312d323938302d386233652d386336642d3232393134616133393161652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"476\" alt=\"16.PNG\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F964e3c41-2980-8b3e-8c6d-22914aa391ae.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d8b48ed1e245e3fc04d16f07cd918ff9\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/964e3c41-2980-8b3e-8c6d-22914aa391ae.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F964e3c41-2980-8b3e-8c6d-22914aa391ae.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=a9ed1649bcd4b8c834a9bc8c850d7e18 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003edatabese removeとかナントカ...Noにします。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/1f32b456077f0586aa370e55a746541323179f2d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f65646263346264392d383638352d306362322d303166662d3836623733343236363461382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"480\" alt=\"17.PNG\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fedbc4bd9-8685-0cb2-01ff-86b7342664a8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e257384ef02922aef1ba32a905aa71c6\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/edbc4bd9-8685-0cb2-01ff-86b7342664a8.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fedbc4bd9-8685-0cb2-01ff-86b7342664a8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e076633a5afbf11c5f0b4548ee89438e 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eMove old database?よくわからないのでデフォルトで選択されているYesを選択。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/c87c719f9d3e739ebd884f60539448eab7d4e344/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f64316234663564352d646434322d306139652d626133302d3238393133633533333638352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"477\" alt=\"18.PNG\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fd1b4f5d5-dd42-0a9e-ba30-28913c533685.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=3519c161c37c330dcb0811720526af50\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/d1b4f5d5-dd42-0a9e-ba30-28913c533685.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2Fd1b4f5d5-dd42-0a9e-ba30-28913c533685.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=896be86f52d7ad0fde23f1b09be8be7e 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e以上で設定は終了です。doneとログが出て終了です。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"bash\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003edpkg実行後\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003egebo@Ubuntu:~\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003esudo \u003c/span\u003edpkg \u003cspan class=\"nt\"\u003e-reconfigure\u003c/span\u003e slapd\n  Backing up /etc/ldap/slapd.d \u003cspan class=\"k\"\u003ein\u003c/span\u003e /var/backups/slapd-2.4.45+dfsg-1ubuntu1.2... \u003cspan class=\"k\"\u003edone\u003c/span\u003e\u003cspan class=\"nb\"\u003e.\u003c/span\u003e\n  Moving old database directory to /var/backups:\n  - directory unknown... \u003cspan class=\"k\"\u003edone\u003c/span\u003e\u003cspan class=\"nb\"\u003e.\u003c/span\u003e\n  Creating initial configuration... \u003cspan class=\"k\"\u003edone\u003c/span\u003e\u003cspan class=\"nb\"\u003e.\u003c/span\u003e\n  Creating LDAP directory... \u003cspan class=\"k\"\u003edone\u003c/span\u003e\u003cspan class=\"nb\"\u003e.\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eslapcatしてみてみましょう。\u003cbr\u003e\n（ちゃんと変わっています）\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"bash\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eslapcat\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003egebo@Ubuntu:~\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003esudo \u003c/span\u003eslapcat\ndn: \u003cspan class=\"nv\"\u003edc\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003egebogebo,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003ecom\nobjectClass: top\nobjectClass: dcObject\nobjectClass: organization\no: gebogebo\ndc: gebogebo\nstructuralObjectClass: organization\nentryUUID: 97fdb884-0adf-1039-8a27-3dd7d18b91fb\ncreatorsName: \u003cspan class=\"nv\"\u003ecn\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003eadmin,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003egebogebo,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003ecom\ncreateTimestamp: 20190514220139Z\nentryCSN: 20190514220139.147880Z#000000#000#000000\nmodifiersName: \u003cspan class=\"nv\"\u003ecn\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003eadmin,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003egebogebo,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003ecom\nmodifyTimestamp: 20190514220139Z\n\ndn: \u003cspan class=\"nv\"\u003ecn\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003eadmin,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003egebogebo,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003ecom\nobjectClass: simpleSecurityObject\nobjectClass: organizationalRole\ncn: admin\ndescription: LDAP administrator\nuserPassword:: \u003cspan class=\"nv\"\u003ee1NTSEF9RlRtUTMvaXg4NU1Kc2VSWGRqM1FFYWlaOTVETzZlbGU\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\nstructuralObjectClass: organizationalRole\nentryUUID: 98005cc4-0adf-1039-8a28-3dd7d18b91fb\ncreatorsName: \u003cspan class=\"nv\"\u003ecn\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003eadmin,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003egebogebo,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003ecom\ncreateTimestamp: 20190514220139Z\nentryCSN: 20190514220139.165269Z#000000#000#000000\nmodifiersName: \u003cspan class=\"nv\"\u003ecn\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003eadmin,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003egebogebo,dc\u003cspan class=\"o\"\u003e=\u003c/span\u003ecom\nmodifyTimestamp: 20190514220139Z\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eLDAP Adminで接続するときのBaseとUsernameも変えて接続確認をしておきましょう。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"8-ldapにアクセスするcプログラム\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#8-ldap%E3%81%AB%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%81%99%E3%82%8Bc%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e8. LDAPにアクセスするC#プログラム\u003c/h1\u003e\n\n\u003cp\u003e\u003cstrong\u003e※Windowsでの作業です※\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003eC#でLDAPにアクセスするプログラムを作成します。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eVisual Studio 2019 C# WPF アプリケーション(.Net Framework 4.7.2)でプロジェクトを作成します。\u003c/li\u003e\n\u003cli\u003e参照に\u003ccode\u003eSystem.DirectoryServices\u003c/code\u003eを追加します。\u003c/li\u003e\n\u003cli\u003eソースコードには\u003ccode\u003eusing System.DirectoryServices;\u003c/code\u003eを追加します。\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/1c113809f52df07be0c84a4fda66cd7f5e0b7802/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3235323239312f31306338663538622d323561612d393464392d363566662d6439326565333863626138352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F10c8f58b-25aa-94d9-65ff-d92ee38cba85.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d97c933da633228f73b63b32ee0f4c0a\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/252291/10c8f58b-25aa-94d9-65ff-d92ee38cba85.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F252291%2F10c8f58b-25aa-94d9-65ff-d92ee38cba85.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=4a8b99e200bcdf85dc0b89b192d27336 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"ldapへの接続\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#ldap%E3%81%B8%E3%81%AE%E6%8E%A5%E7%B6%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eLDAPへの接続\u003c/h3\u003e\n\n\u003cp\u003eDirectoryEntryクラスを生成し、NativeObjectを取得することで接続を確認することができますが、DirectoryEntryクラスのコンストラクタに指定する引数がわかりずらいので注意です。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"CS\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eDirectoryEntryコンストラクタ\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003eDirectoryEntry\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003epath\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eusername\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003epassword\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAuthenticationTypes\u003c/span\u003e \u003cspan class=\"n\"\u003eauthenticationType\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"path\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#path\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003epath\u003c/h4\u003e\n\n\u003cp\u003e接続するDNを\u003cstrong\u003eURL形式で\u003c/strong\u003e指定します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eLDAP_URL形式\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003eldap:// \u0026lt; LDAPホスト名 \u0026gt; : \u0026lt; LDAPポート番号 \u0026gt; / \u0026lt;検索ベース\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"username\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#username\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eusername\u003c/h4\u003e\n\n\u003cp\u003eOpenLDAPに登録されているユーザー名を\u003cstrong\u003eDN形式で\u003c/strong\u003e指定します。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"password\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#password\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003epassword\u003c/h4\u003e\n\n\u003cp\u003eusernameで指定したユーザーの\u003cstrong\u003eパスワードをそのまま指定\u003c/strong\u003eします。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"authenticationtype\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#authenticationtype\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eauthenticationType\u003c/h4\u003e\n\n\u003cp\u003eこの引数が今一つわからないのですが、以下で接続できます。\u003cbr\u003e\nAuthenticationTypes.None\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"cs\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e接続確認\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003emessage\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003etry\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003elserver\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"LDAP://\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003eLDAP\u003c/span\u003e\u003cspan class=\"err\"\u003eサーバーの\u003c/span\u003e\u003cspan class=\"n\"\u003eIP\u003c/span\u003e\u003cspan class=\"err\"\u003eアドレス\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e/dc=gebogebo,dc=com\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003edomainAndUsername\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"cn=admin,dc=gebogebo,dc=com\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003epwd\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"password\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eDirectoryEntry\u003c/span\u003e \u003cspan class=\"n\"\u003eentry\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eDirectoryEntry\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elserver\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003edomainAndUsername\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003epwd\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAuthenticationTypes\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// Exceptionが発生しなければ接続成功\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003eobject\u003c/span\u003e \u003cspan class=\"n\"\u003eobj\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eentry\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eNativeObject\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003emessage\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"接続成功しました\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003ecatch\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eException\u003c/span\u003e \u003cspan class=\"n\"\u003eex\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// Error\u003c/span\u003e\n    \u003cspan class=\"n\"\u003emessage\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eex\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eMessage\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"n\"\u003eMessageBox\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eShow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"ouの作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#ou%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eOUの作成\u003c/h3\u003e\n\n\u003cp\u003e接続確認と同様の方法でDirectoryEntryを生成した後に、Children.Add()します。\u003cbr\u003e\nAdd()の結果で得られたオブジェクトでCommitChanges()しないといけないところが注意です。\u003cbr\u003e\n以下サンプルではtestouというOUを作成しています。\u003cbr\u003e\n実行後にLDAPAdminで実際に生成されていることを確認してみましょう。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"cs\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eOUの作成\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003emessage\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003etry\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003elserver\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"LDAP://\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003eLDAP\u003c/span\u003e\u003cspan class=\"err\"\u003eサーバーの\u003c/span\u003e\u003cspan class=\"n\"\u003eIP\u003c/span\u003e\u003cspan class=\"err\"\u003eアドレス\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e/dc=gebogebo,dc=com\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003edomainAndUsername\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"cn=admin,dc=gebogebo,dc=com\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003epwd\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"password\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eDirectoryEntry\u003c/span\u003e \u003cspan class=\"n\"\u003eentry\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eDirectoryEntry\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elserver\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003edomainAndUsername\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003epwd\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAuthenticationTypes\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003eou\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eentry\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eChildren\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ou=testou\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"OrganizationalUnit\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eou\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCommitChanges\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003emessage\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"OUの作成に成功しました\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003ecatch\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eException\u003c/span\u003e \u003cspan class=\"n\"\u003eex\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003emessage\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eex\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eMessage\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"n\"\u003eMessageBox\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eShow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"cnの作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#cn%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eCNの作成\u003c/h3\u003e\n\n\u003cp\u003eDirectoryEntryを生成した後に、Children.Add()するのですが、DirectoryEntryのコンストラクタに指定するpahは先ほどのサンプルで指定したtestouを指定します。\u003cbr\u003e\nこうすることで、testouの下にCNを作成することになります。\u003cbr\u003e\nAdd()の結果で得られたオブジェクトでCommitChanges()しないといけないところが注意です。\u003c/p\u003e\n\n\u003cp\u003eこのサンプルでは\u003ccode\u003etestcn\u003c/code\u003eというinetOrgPerson型のCNを作成し、uid,sn,displayName,homePhone,homePostalAddress属性を設定しています。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"cs\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eCNの作成\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003emessage\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003etry\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003elserver\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"LDAP://\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003eLDAP\u003c/span\u003e\u003cspan class=\"err\"\u003eサーバーの\u003c/span\u003e\u003cspan class=\"n\"\u003eIP\u003c/span\u003e\u003cspan class=\"err\"\u003eアドレス\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e/ou=testou,dc=gebogebo,dc=com\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003edomainAndUsername\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"cn=admin,dc=gebogebo,dc=com\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003epwd\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"password\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eDirectoryEntry\u003c/span\u003e \u003cspan class=\"n\"\u003eou\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eDirectoryEntry\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elserver\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003edomainAndUsername\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003epwd\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAuthenticationTypes\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003euid\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"testcn\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003euser\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eou\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eChildren\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"cn=testcn\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"inetOrgPerson\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003euser\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eProperties\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"uid\"\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eValue\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003euid\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003euser\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eProperties\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"sn\"\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eValue\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003euid\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003euser\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eProperties\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"displayName\"\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eValue\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"なまえ\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003euser\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eProperties\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"homePhone\"\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eValue\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"????\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003euser\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eProperties\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"homePostalAddress\"\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eValue\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"xxxxx\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003euser\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCommitChanges\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003emessage\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"CNの作成に成功しました\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003ecatch\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eException\u003c/span\u003e \u003cspan class=\"n\"\u003eex\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003emessage\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eex\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eMessage\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"n\"\u003eMessageBox\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eShow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"ouの削除\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#ou%E3%81%AE%E5%89%8A%E9%99%A4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eOUの削除\u003c/h3\u003e\n\n\u003cp\u003eFind()で削除対象のオブジェクトを取得してから、Remove()で削除します。\u003cbr\u003e\nRemove()の場合はCommitChanges()がいらないようです（\u003cem\u003eいちいちわかりにくいんだよなぁ\u003c/em\u003e)\u003c/p\u003e\n\n\u003cp\u003e以下サンプルはtestouを削除します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"cs\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eOUの削除\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003emessage\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003etry\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003elserver\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"LDAP://\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003eLDAP\u003c/span\u003e\u003cspan class=\"err\"\u003eサーバーの\u003c/span\u003e\u003cspan class=\"n\"\u003eIP\u003c/span\u003e\u003cspan class=\"err\"\u003eアドレス\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e/ou=testou,dc=gebogebo,dc=com\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003edomainAndUsername\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"cn=admin,dc=gebogebo,dc=com\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003epwd\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"password\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eDirectoryEntry\u003c/span\u003e \u003cspan class=\"n\"\u003eou\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eDirectoryEntry\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elserver\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003edomainAndUsername\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003epwd\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAuthenticationTypes\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003ecn\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eou\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eChildren\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFind\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ou=testou\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eou\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eChildren\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eRemove\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecn\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003emessage\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"OUの削除に成功しました\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003ecatch\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eException\u003c/span\u003e \u003cspan class=\"n\"\u003eex\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003emessage\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eex\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eMessage\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"n\"\u003eMessageBox\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eShow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"cnの削除\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#cn%E3%81%AE%E5%89%8A%E9%99%A4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eCNの削除\u003c/h3\u003e\n\n\u003cp\u003eFind()で削除対象のオブジェクトを取得してから、Remove()で削除します。\u003c/p\u003e\n\n\u003cp\u003e以下サンプルはtestcnを削除します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"cs\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eCNの削除\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003emessage\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003etry\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003elserver\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"LDAP://\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003eLDAP\u003c/span\u003e\u003cspan class=\"err\"\u003eサーバーの\u003c/span\u003e\u003cspan class=\"n\"\u003eIP\u003c/span\u003e\u003cspan class=\"err\"\u003eアドレス\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e/ou=testou,dc=gebogebo,dc=com\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003edomainAndUsername\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"cn=admin,dc=gebogebo,dc=com\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003epwd\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"password\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eDirectoryEntry\u003c/span\u003e \u003cspan class=\"n\"\u003eou\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eDirectoryEntry\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elserver\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003edomainAndUsername\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003epwd\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAuthenticationTypes\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003ecn\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eou\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eChildren\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFind\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"cn=testcn\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eou\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eChildren\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eRemove\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecn\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003emessage\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"CNの削除に成功しました\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003ecatch\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eException\u003c/span\u003e \u003cspan class=\"n\"\u003eex\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003emessage\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eex\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eMessage\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"n\"\u003eMessageBox\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eShow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eこれらのソースは\u003ca href=\"https://github.com/gebogebogebo/LDAPConnector\" rel=\"nofollow noopener\" target=\"_blank\"\u003eGitHub\u003c/a\u003eにもアップしています。\u003cbr\u003e\n\u003ca href=\"https://github.com/gebogebogebo/LDAPConnector\" rel=\"nofollow noopener\" target=\"_blank\"\u003eLDAPConnector\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"おつかれさまでした\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%8A%E3%81%A4%E3%81%8B%E3%82%8C%E3%81%95%E3%81%BE%E3%81%A7%E3%81%97%E3%81%9F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eおつかれさまでした\u003c/h1\u003e\n\n\u003cp\u003eLDAP以外と情報少ない。\u003c/p\u003e\n","createdAt":"2019-05-16T10:42:23Z","elapsedYearsFromLastModifiedAt":2,"encryptedId":"k3s9liUtC/g22p4FrjH9zuIGgM7QE2h0--U0Q/8E6bfGlfMcp1--dl1iCIoibSjWFfjq+R+qfA==","isBanned":false,"isDeprecated":true,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":false,"lastModifiedAt":"2019-05-16T10:42:23Z","likesCount":1,"linkUrl":"https://qiita.com/gebo/items/497fcbafcbb5b3f5abaf","organization":null,"originalId":898110,"stockedCount":1,"title":"AzureにUbuntuたててOpenLDAPいれてWin10のC#プログラムから接続してみる","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003eはじめに\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%92%B0%E5%A2%83\"\u003e環境\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%A6%82%E8%A6%81\"\u003e概要\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#1-teraterm%E3%81%A7%E3%82%AD%E3%83%BC%E3%83%9A%E3%82%A2%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B\"\u003e1. TeraTermでキーペアを作成する\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#teraterm%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"\u003eTeraTermのインストール\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E9%8D%B5%E7%94%9F%E6%88%90\"\u003e鍵生成\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cli\u003e\n\u003ca href=\"#2-azure%E3%81%AB%E4%BB%AE%E6%83%B3%E3%83%9E%E3%82%B7%E3%83%B3ubuntu%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B\"\u003e2. Azureに仮想マシン(Ubuntu)を作成する\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%AA%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E3%81%AE%E4%BD%9C%E6%88%90\"\u003eリソースグループの作成\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E4%BB%AE%E6%83%B3%E3%83%9E%E3%82%B7%E3%83%B3%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e仮想マシンの作成\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%9F%BA%E6%9C%AC\"\u003e基本\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%87%E3%82%A3%E3%82%B9%E3%82%AF\"\u003eディスク\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%AE%A1%E7%90%86\"\u003e管理\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\n\n\u003cli\u003e\n\u003ca href=\"#3-ubuntu%E3%81%AB%E6%8E%A5%E7%B6%9A\"\u003e3. Ubuntuに接続\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#teraterm%E3%81%A7%E6%8E%A5%E7%B6%9A%E3%81%99%E3%82%8B\"\u003eTeraTermで接続する\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\n\n\u003cli\u003e\n\u003ca href=\"#4-openldap%E3%81%AE%E3%82%BB%E3%83%83%E3%83%88%E3%82%A2%E3%83%83%E3%83%97\"\u003e4. OpenLDAPのセットアップ\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#openldap%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"\u003eOpenLDAPのインストール\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#ldap%E3%81%AE%E6%8E%A5%E7%B6%9A%E6%83%85%E5%A0%B1%E3%82%92get\"\u003eLDAPの接続情報をGET\u003c/a\u003e\n\u003c/li\u003e\n\n\n\n\n\u003cli\u003e\n\u003ca href=\"#5-ubuntu%E3%81%AEldap%E3%83%9D%E3%83%BC%E3%83%88%E9%96%8B%E6%94%BE\"\u003e5. UbuntuのLDAPポート開放\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#6-windows%E3%81%8B%E3%82%89ldap%E3%81%AB%E6%8E%A5%E7%B6%9A\"\u003e6. WindowsからLDAPに接続\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#ldap-admin%E3%82%92%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89%E3%81%99%E3%82%8B\"\u003eLDAP Adminをダウンロードする\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#ldap-admin%E3%81%A7%E6%8E%A5%E7%B6%9A\"\u003eLDAP Adminで接続\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\n\n\u003cli\u003e\n\u003ca href=\"#7-openldap%E3%81%AEdn%E5%A4%89%E6%9B%B4\"\u003e7. OpenLDAPのDN変更\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#8-ldap%E3%81%AB%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%81%99%E3%82%8Bc%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0\"\u003e8. LDAPにアクセスするC#プログラム\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#ldap%E3%81%B8%E3%81%AE%E6%8E%A5%E7%B6%9A\"\u003eLDAPへの接続\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#path\"\u003epath\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#username\"\u003eusername\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#password\"\u003epassword\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#authenticationtype\"\u003eauthenticationType\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#ou%E3%81%AE%E4%BD%9C%E6%88%90\"\u003eOUの作成\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#cn%E3%81%AE%E4%BD%9C%E6%88%90\"\u003eCNの作成\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#ou%E3%81%AE%E5%89%8A%E9%99%A4\"\u003eOUの削除\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#cn%E3%81%AE%E5%89%8A%E9%99%A4\"\u003eCNの削除\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\n\n\u003cli\u003e\n\u003ca href=\"#%E3%81%8A%E3%81%A4%E3%81%8B%E3%82%8C%E3%81%95%E3%81%BE%E3%81%A7%E3%81%97%E3%81%9F\"\u003eおつかれさまでした\u003c/a\u003e\n\u003c/li\u003e\n\n","totalPv":1454,"uuid":"497fcbafcbb5b3f5abaf","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"8oaCb+ChJ3I0Nb2FBxUd1s8dNd/T--ag4qQuGjy3iBZx+5--BMMDwjW9jT4ZVe2a/Ei1YQ==","originalId":252291,"description":"認証,認可,FIDO,CTAP,NFC,BLE,c,c++,c#,Rust,ねこのげぼく","facebookUrl":null,"githubUrl":"https://github.com/gebogebogebo","isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"Satoshi Suzuki","profileImageUrl":"https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/252291/259049ef3da2854c57fc30166d776b5ac272df00/x_large.png?1614046902","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fs3-ap-northeast-1.amazonaws.com%2Fqiita-image-store%2F0%2F252291%2F259049ef3da2854c57fc30166d776b5ac272df00%2Fx_large.png%3F1614046902?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=da68ce3463d091cbdf102f2918d35763","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fs3-ap-northeast-1.amazonaws.com%2Fqiita-image-store%2F0%2F252291%2F259049ef3da2854c57fc30166d776b5ac272df00%2Fx_large.png%3F1614046902?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=5099eac7ef4c965d458c7a95649b4f8d","urlName":"gebo","websiteUrl":"https://zenn.dev/gebo","twitterUrl":"https://twitter.com/gebogebogeboge","twitterUrlName":"gebogebogeboge","revealedOrganizations":{"edges":[]}},"tags":[{"name":"Windows","urlName":"windows"},{"name":"Ubuntu","urlName":"ubuntu"},{"name":"C#","urlName":"csharp"},{"name":"Azure","urlName":"azure"},{"name":"LDAP","urlName":"ldap"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
