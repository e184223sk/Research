<!DOCTYPE html><html><head><meta charset="utf-8" /><title>RETROF-16統合開発環境の製作（１）DockingWindowの実現とRichTextBoxの継承　 - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/RETROF/items/66a9694acc4dd625d003" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="HMn2JSm3FoUF8/mPHqia9rzCbVMy1zZmMpH/SAHbSCncI1j0IkJDy56oTkDUFSMEgY/l1R9uNlBrx/85X3HYxw==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta property="og:type" content="article"><meta property="og:title" content="RETROF-16統合開発環境の製作（１）DockingWindowの実現とRichTextBoxの継承　 - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1Va1ZVVWs5R0xURTI1N1d4NVpDSTZaYUw1NW02NTVLdzVhS0Q0NEd1NktPOTVMMmM3N3lJNzd5Ujc3eUpSRzlqYTJsdVoxZHBibVJ2ZC1PQnJ1V3VuLWVQdnVPQnFGSnBZMmhVWlhoMFFtOTQ0NEd1NTdhWjVvbV80NENBJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NTQmdHh0LWNsaXA9ZWxsaXBzaXMmdHh0LWFsaWduPWNlbnRlciUyQ21pZGRsZSZzPTk4N2Q5ODUzOWIwOTc0MzdhYWUyNTZhZTUwM2M4YmE0&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRkpGVkZKUFJnJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NDUmdHh0LWFsaWduPXJpZ2h0JTJDYm90dG9tJnM9NzBmYTBmN2M0NTUzOTZiODM2N2NmNzRlYWJjYWM2Y2U&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=a845c5b64ab48ff55a261ef9ea3810fa"><meta property="og:description" content="

はじめに


本記事の内容

本記事は以下の外観と機能を持つアプリケーションの作り方を解説します。一部の自動生成されるソースコードを除く全ソースコードを公開します。
なお、このアプリ自体はキーボードから何を入力しても「Unknow..."><meta content="https://qiita.com/RETROF/items/66a9694acc4dd625d003" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,.NET,ドッキングウィンドウ,コントロール継承,独自イベント" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-4a909839-c899-4ad8-8327-3d9dacb875b6"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2FRETROF%2Fitems%2F66a9694acc4dd625d003">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2FRETROF%2Fitems%2F66a9694acc4dd625d003">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-4a909839-c899-4ad8-8327-3d9dacb875b6">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2020-09-10T14:13:41.000+09:00","dateModified":"2020-12-06T05:42:16.000+09:00","headline":"RETROF-16統合開発環境の製作（１）DockingWindowの実現とRichTextBoxの継承　","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1Va1ZVVWs5R0xURTI1N1d4NVpDSTZaYUw1NW02NTVLdzVhS0Q0NEd1NktPOTVMMmM3N3lJNzd5Ujc3eUpSRzlqYTJsdVoxZHBibVJ2ZC1PQnJ1V3VuLWVQdnVPQnFGSnBZMmhVWlhoMFFtOTQ0NEd1NTdhWjVvbV80NENBJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NTQmdHh0LWNsaXA9ZWxsaXBzaXMmdHh0LWFsaWduPWNlbnRlciUyQ21pZGRsZSZzPTk4N2Q5ODUzOWIwOTc0MzdhYWUyNTZhZTUwM2M4YmE0\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRkpGVkZKUFJnJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NDUmdHh0LWFsaWduPXJpZ2h0JTJDYm90dG9tJnM9NzBmYTBmN2M0NTUzOTZiODM2N2NmNzRlYWJjYWM2Y2U\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=a845c5b64ab48ff55a261ef9ea3810fa","mainEntityOfPage":"https://qiita.com/RETROF/items/66a9694acc4dd625d003","author":{"@type":"Person","address":"SAPPORO JAPAN","email":null,"identifier":"RETROF","name":"RETROF","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fs3-ap-northeast-1.amazonaws.com%2Fqiita-image-store%2F0%2F535901%2Fa478dcbc679f29c90b2c34aab03fdc04d18bed8d%2Fx_large.png%3F1580685015?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=be8a86c2fedbc23da5383fdf10f804ba","url":"https://qiita.com/RETROF","description":"Twitterのduo6750を参照してください。","memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://increments.connpass.com/event/211948/">Qiita創業者海野氏登壇！Qiita エンジニアフェスタ 2021 Online Meetupを9/9(木)に開催</a><a target="_blank" id="header_text_message_2" href="https://increments.connpass.com/event/211948/">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"RETROF","type":"items","id":"66a9694acc4dd625d003"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"Qiita創業者海野氏登壇！Qiita エンジニアフェスタ 2021 Online Meetupを9/9(木)に開催","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"RETROF","type":"items","id":"66a9694acc4dd625d003"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":1,"pos_id":"header_text_message_1","message":"Qiita創業者海野氏登壇！Qiita エンジニアフェスタ 2021 Online Meetupを9/9(木)に開催","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"RETROF","type":"items","id":"66a9694acc4dd625d003"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":1,"pos_id":"header_text_message_2","message":"Qiita創業者海野氏登壇！Qiita エンジニアフェスタ 2021 Online Meetupを9/9(木)に開催","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/RETROF/items/66a9694acc4dd625d003","location":"/RETROF/items/66a9694acc4dd625d003","scheme":"https","host":"qiita.com","port":null,"pathname":"/RETROF/items/66a9694acc4dd625d003","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"gAxlURhbC2OWswzm9fma2VGfmQ7B0beudTBZlKB5JSRA5suAE65eLQ3ouyk/RCMrbNIRiOxot5gsZlnl/tO1yg==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-393c88fc-59bc-42c6-b95a-0ee5bce133fa"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/RETROF/items/66a9694acc4dd625d003/likers" class="css-1iupg5d">3</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">6</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/66a9694acc4dd625d003/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/RETROF/items/66a9694acc4dd625d003/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/RETROF/items/66a9694acc4dd625d003/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/RETROF/items/66a9694acc4dd625d003/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/RETROF/items/66a9694acc4dd625d003.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/RETROF"><img class="css-100alwu eyfquo10" src="https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/535901/a478dcbc679f29c90b2c34aab03fdc04d18bed8d/x_large.png?1580685015" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/RETROF" class="css-10ougpm">@<!-- -->RETROF</a><div class="css-1ay9vb9"><span><meta content="2020-09-10T05:13:41Z"/><time dateTime="2020-12-05T20:42:16Z" class="css-m19uds">updated at 2020-12-05</time></span></div></div></div></div></div><h1 class="css-cgzq40">RETROF-16統合開発環境の製作（１）DockingWindowの実現とRichTextBoxの継承　</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/.net" class="css-4czcte">.NET</a><a href="/tags/%e3%83%89%e3%83%83%e3%82%ad%e3%83%b3%e3%82%b0%e3%82%a6%e3%82%a3%e3%83%b3%e3%83%89%e3%82%a6" class="css-4czcte">ドッキングウィンドウ</a><a href="/tags/%e3%82%b3%e3%83%b3%e3%83%88%e3%83%ad%e3%83%bc%e3%83%ab%e7%b6%99%e6%89%bf" class="css-4czcte">コントロール継承</a><a href="/tags/%e7%8b%ac%e8%87%aa%e3%82%a4%e3%83%99%e3%83%b3%e3%83%88" class="css-4czcte">独自イベント</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div>
<h2>
<span id="はじめに" class="fragment"></span><a href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB"><i class="fa fa-link"></i></a>はじめに</h2>

<h4>
<span id="本記事の内容" class="fragment"></span><a href="#%E6%9C%AC%E8%A8%98%E4%BA%8B%E3%81%AE%E5%86%85%E5%AE%B9"><i class="fa fa-link"></i></a>本記事の内容</h4>

<p>本記事は以下の外観と機能を持つアプリケーションの作り方を解説します。一部の自動生成されるソースコードを除く<strong>全ソースコードを公開</strong>します。<br>
なお、このアプリ自体はキーボードから何を入力しても「Unknown command」を返すだけであり、具体的な事は何もできません。しかしこのアプリのソースコードに順次手を加えて行く事により、様々なアプリケーションに変身する事が可能です。すなわち、ここで紹介するアプリは<strong>同様の画面構成をを持つ全てのアプリの土台</strong>として利用することを想定しています。</p>

<p><a href="https://camo.qiitausercontent.com/8a633274266ce2f5a92b357dbc204b062f2e3e36/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f36303531653365352d626337312d613765632d633961622d6363633763376531386165612e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F6051e3e5-bc71-a7ec-c9ab-ccc7c7e18aea.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=c384036dee0a9a5c6933f92642f00c7c" alt="WS2019_000697.jpg" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/6051e3e5-bc71-a7ec-c9ab-ccc7c7e18aea.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F6051e3e5-bc71-a7ec-c9ab-ccc7c7e18aea.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=538230935d3e47c4523e24230034a4b5 1x" loading="lazy"></a><br>
各領域は自由に配置できます。<br>
<a href="https://camo.qiitausercontent.com/7138b5f7ac2f14bc7ed4d742e271e420ea568df2/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f35373634613463332d613261382d343738372d643465372d6132356538313666623333302e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F5764a4c3-a2a8-4787-d4e7-a25e816fb330.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=a47fba2231859d6b98dc7d32d9ece6e3" alt="WS2019_000704.jpg" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/5764a4c3-a2a8-4787-d4e7-a25e816fb330.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F5764a4c3-a2a8-4787-d4e7-a25e816fb330.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=44274053a8c7e9e2b1a46cf3a78067e2 1x" loading="lazy"></a></p>

<p>プログラミング上の主なテーマは以下の通り。</p>

<ul>
<li>複数の<strong>ドッキングウィンドウ</strong>を持つアプリの作成方法</li>
<li>既存の<strong>コントロールの継承</strong>方法と、その具体的な利用方法</li>
<li>継承コントロールからの<strong>独自イベントの発生</strong>方法と、その受取方法</li>
</ul>

<p>尚、ここで紹介するアプリは筆者が別途作成した「RETROF-16統合開発環境」の土台となっています。このため本記事のタイトルにRETROF-16統合開発環境という文言が含まれていますが、本記事内では「RETROF-16統合開発環境」に関する説明は一切ありません。本記事はあくまでも本記事内で完結する「Unknown command」を返すだけのアプリの作り方を紹介するものです。</p>

<h4>
<span id="開発環境等" class="fragment"></span><a href="#%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%E7%AD%89"><i class="fa fa-link"></i></a>開発環境等</h4>

<ul>
<li>OS Windows10　バージョン 1909 ビルド 18363.1198</li>
<li>Microsoft Visual Studio Community 2019 Version 16.8.2</li>
<li>Microsoft .NET FrameWork Version 4.8.03752</li>
</ul>

<h2>
<span id="下準備" class="fragment"></span><a href="#%E4%B8%8B%E6%BA%96%E5%82%99"><i class="fa fa-link"></i></a>下準備</h2>

<h4>
<span id="本アプリの開発用のフォルダ作成" class="fragment"></span><a href="#%E6%9C%AC%E3%82%A2%E3%83%97%E3%83%AA%E3%81%AE%E9%96%8B%E7%99%BA%E7%94%A8%E3%81%AE%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E4%BD%9C%E6%88%90"><i class="fa fa-link"></i></a>本アプリの開発用のフォルダ作成</h4>

<p>C:直下にR16BLACKの名でフォルダを作ります。C:直下に作るのは好きではありませんが、こちらの方が何かと説明が楽なのでこうしました。実際にはどこでも構いません。<br>
R16BLACKは、ここではその意味の詳細説明は割愛します。「筆者にとって特別な意味あるワード」とお考え下さい。これも実際には任意の名で構いません。</p>

<h4>
<span id="必要なdll" class="fragment"></span><a href="#%E5%BF%85%E8%A6%81%E3%81%AAdll"><i class="fa fa-link"></i></a>必要なDLL</h4>

<p>R16BLACKフォルダに「WeifenLuo.WinFormsUI.Docking.dll」を置きます。<br>
このDLLの入手方法やその役割は「WeifenLuo.WinFormsUI.Docking.dll download」等で検索するとダウンロード可能なサイトがいくつか見つかると思います。<br>
<a href="https://www.dllme.com/dll/" class="autolink" rel="nofollow noopener" target="_blank">https://www.dllme.com/dll/</a><br>
上記はその一例ですが、サイトによっては<strong>悪意のある改変dll</strong>を提供するサイトも存在します。ダウンロードに関する危険性は全て<strong>自己責任</strong>で行って下さい。</p>

<h4>
<span id="プロジェクトの作成" class="fragment"></span><a href="#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90"><i class="fa fa-link"></i></a>プロジェクトの作成</h4>

<p>次に、普通にプロジェクトを作成します。プロジェクト名は任意ですが、ここでは「RETROF」としたものとして話を薦めます。</p>

<p><a href="https://camo.qiitausercontent.com/d57e3b59ed3586c3f6322490b8796c9422cdb59c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f63356436323831372d643863642d653439392d653833662d6439383964383766373739352e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2Fc5d62817-d8cd-e499-e83f-d989d87f7795.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=3ff1716d804baa0d2ae062cebf9d3508" width="75%" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/c5d62817-d8cd-e499-e83f-d989d87f7795.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2Fc5d62817-d8cd-e499-e83f-d989d87f7795.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=fcf3389bc64a636499d03fbbdaa9140a 1x" loading="lazy"></a></p>

<p>ここでビルド（及び実行）を行うと、いつもの以下の画面が出ます。通常のツール開発では、ここにフォーム等を配置して行きますが、ここではその前に一工夫します。</p>

<p><a href="https://camo.qiitausercontent.com/96cc10b53a57465ffc4869bb36af36f39f78e2f1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f35396262623761302d646562392d303131312d343464372d3330353664613731313461332e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F59bbb7a0-deb9-0111-44d7-3056da7114a3.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=00b0166051656a156d763e3b2590d6d9" width="75%" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/59bbb7a0-deb9-0111-44d7-3056da7114a3.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F59bbb7a0-deb9-0111-44d7-3056da7114a3.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=99d11e7c7f48763d5703f3c4d7a7a0ec 1x" loading="lazy"></a></p>

<h2>
<span id="ドックパネルの採用" class="fragment"></span><a href="#%E3%83%89%E3%83%83%E3%82%AF%E3%83%91%E3%83%8D%E3%83%AB%E3%81%AE%E6%8E%A1%E7%94%A8"><i class="fa fa-link"></i></a>ドックパネルの採用</h2>

<p>様々な機能を有するウィンドウズアプリを開発する場合、ウィンドウ（フォーム）をいくつかの区画に分割し、その区画単位に各々の機能の入出力領域を割り振るのが一般的な作り方です。<br>
勿論、アプリによってはこの作り方で十分な場合をありますが、ここでは更に一歩進んだ「ドックパネル」を全面的に採用します。</p>

<h4>
<span id="ドックパネルとは" class="fragment"></span><a href="#%E3%83%89%E3%83%83%E3%82%AF%E3%83%91%E3%83%8D%E3%83%AB%E3%81%A8%E3%81%AF"><i class="fa fa-link"></i></a>ドックパネルとは</h4>

<p>ドックパネルとはパネルの一種で、そのパネル（以下、親パネル）に含まれる子パネル（以下、<strong>ドッキングウィンドウ</strong>）の配置をユーザー自身が自由に決めることができる機能です。子パネルを親パネルの外に出すと子パネルは独立したフォームの様に振舞います。</p>

<p>VS（Visual Studio）自身がこの機能を使ったアプリケーションですので、VSをお使いの方は必ずこの機能を使っているはずです。しかし不思議な事に、このドックパネルを用いたアプリ開発はVS自身が持つ標準機能では実現できません。このため、前述の「WeifenLuo.WinFormsUI.Docking.dll」の取り込みが必要になります。</p>

<h4>
<span id="補足他のdllに関して" class="fragment"></span><a href="#%E8%A3%9C%E8%B6%B3%E4%BB%96%E3%81%AEdll%E3%81%AB%E9%96%A2%E3%81%97%E3%81%A6"><i class="fa fa-link"></i></a>（補足）他のDLLに関して</h4>

<p>ドックパネルを実現するDLLは複数あります。本ツールでは「WeifenLuo.WinFormsUI.Docking.dll」を利用しましたが他のDLLとの性能比較はしてません。従ってこれが最適なDLLなのかは分かりません。単に最もポピュラーなDLLに思えたので、これを採用しました。</p>

<h2>
<span id="ドックパネルを使える様にする手順" class="fragment"></span><a href="#%E3%83%89%E3%83%83%E3%82%AF%E3%83%91%E3%83%8D%E3%83%AB%E3%82%92%E4%BD%BF%E3%81%88%E3%82%8B%E6%A7%98%E3%81%AB%E3%81%99%E3%82%8B%E6%89%8B%E9%A0%86"><i class="fa fa-link"></i></a>ドックパネルを使える様にする手順</h2>

<h4>
<span id="既にdockingdllが取り込まれているvsの場合" class="fragment"></span><a href="#%E6%97%A2%E3%81%ABdockingdll%E3%81%8C%E5%8F%96%E3%82%8A%E8%BE%BC%E3%81%BE%E3%82%8C%E3%81%A6%E3%81%84%E3%82%8Bvs%E3%81%AE%E5%A0%B4%E5%90%88"><i class="fa fa-link"></i></a>既に「Docking.dll」が取り込まれているVSの場合</h4>

<p>「ツール」⇒「ツールボックスアイテムの選択」を開き、右クリックで「アイテムの選択」を選択。<br>
下記のダイアログボックスが現れるので、「WeifenLuo.WinFormsUI.Docking.dll」を選択し「OK」。<br>
（初めてドックパネルを使う場合は、「WeifenLuo.WinFormsUI.Docking.dll」は現れませんので、キャンセルをして次項の “初めて「Docking.dll」を使うVSの場合” に進んで下さい）</p>

<p><a href="https://camo.qiitausercontent.com/82474ee9418ba922f1a7fc700dfe7e4ff5270bf4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f31613736363536332d363839362d653064312d663562652d3930346137626235336661372e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F1a766563-6896-e0d1-f5be-904a7bb53fa7.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=8f37cc1efe0005c22b127272fadffec7" alt="WS2019_000674.jpg" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/1a766563-6896-e0d1-f5be-904a7bb53fa7.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F1a766563-6896-e0d1-f5be-904a7bb53fa7.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=af600064f92a525e93e3b8c781911f8e 1x" loading="lazy"></a><br>
「OK」ボタンを押しダイアログを閉じると、ツールボックスに「DockPanel」が出現します。</p>

<h4>
<span id="初めてdockingdllを使うvsの場合" class="fragment"></span><a href="#%E5%88%9D%E3%82%81%E3%81%A6dockingdll%E3%82%92%E4%BD%BF%E3%81%86vs%E3%81%AE%E5%A0%B4%E5%90%88"><i class="fa fa-link"></i></a>初めて「Docking.dll」を使うVSの場合</h4>

<p>「ツールボックス」を開き、右クリックで「アイテムの選択」を選択。<br>
上記のダイアログボックスが現れます。但し「WeifenLuo.WinFormsUI.Docking.dll」はそこにはありません。<br>
参照ボタンを押し、「C:\R16BLACK\Docking.dll」を指定すると、ダイアログに「Dock Panel」が現れますので、それを指定して「OK」。</p>

<h4>
<span id="参考ドックパネルが使えるツールボックスと使えないツールボックス" class="fragment"></span><a href="#%E5%8F%82%E8%80%83%E3%83%89%E3%83%83%E3%82%AF%E3%83%91%E3%83%8D%E3%83%AB%E3%81%8C%E4%BD%BF%E3%81%88%E3%82%8B%E3%83%84%E3%83%BC%E3%83%AB%E3%83%9C%E3%83%83%E3%82%AF%E3%82%B9%E3%81%A8%E4%BD%BF%E3%81%88%E3%81%AA%E3%81%84%E3%83%84%E3%83%BC%E3%83%AB%E3%83%9C%E3%83%83%E3%82%AF%E3%82%B9"><i class="fa fa-link"></i></a>(参考)ドックパネルが使えるツールボックスと使えないツールボックス</h4>

<p>右がドックパネルが使えるようになったツールボックスです。ドックパネルが使えるようになった後でアルファベット順にソートしていない場合は、追加された「Dock Panel」はリストの末尾に現れますので注意して下さい。</p>

<p><a href="https://camo.qiitausercontent.com/08b5f57d77779349442b0fc8b2e581ea57325df9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f64636663303635652d353665382d633131662d653432392d3466613337343634313333352e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2Fdcfc065e-56e8-c11f-e429-4fa374641335.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=0548184c55df1930e4ab59b9d80d9173" width="40%" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/dcfc065e-56e8-c11f-e429-4fa374641335.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2Fdcfc065e-56e8-c11f-e429-4fa374641335.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=1cf8ac3a3d474a0a7e6574fa1310bb80 1x" loading="lazy"></a>　　<a href="https://camo.qiitausercontent.com/c544784210327179ec43df2033eec7c3c26a8000/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f32613836663734312d383164342d353065622d623338342d3665636532663234396636342e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F2a86f741-81d4-50eb-b384-6ece2f249f64.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=253960d190714b7dac1f6c57c7e0d06d" width="40%" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/2a86f741-81d4-50eb-b384-6ece2f249f64.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F2a86f741-81d4-50eb-b384-6ece2f249f64.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=708a8594c631e1883088262bb5f448fc 1x" loading="lazy"></a></p>

<h2>
<span id="親パネルを含むフォームの生成" class="fragment"></span><a href="#%E8%A6%AA%E3%83%91%E3%83%8D%E3%83%AB%E3%82%92%E5%90%AB%E3%82%80%E3%83%95%E3%82%A9%E3%83%BC%E3%83%A0%E3%81%AE%E7%94%9F%E6%88%90"><i class="fa fa-link"></i></a>親パネルを含むフォームの生成</h2>

<p>ツールボックスから必要なアイテムを選びフォームに貼り付けます。以下の表は貼り付けるアイテムの一覧です。メニューバーやツールバーも中身は空のままで構わないのでここで貼り付けておきます。<br>
各コントロールの名前は任意で構いませんが、VSが暗黙で決める名前（種別＋数字）は区別しずらいのでお勧めできません。</p>

<table>
<thead>
<tr>
<th>名前</th>
<th>種別</th>
<th>生成位置</th>
<th>補足説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>MainForm</td>
<td>Form</td>
<td>（全体）</td>
<td>最初から存在するので貼り付け不要</td>
</tr>
<tr>
<td>MenuBar</td>
<td>MenuStrip</td>
<td>Formの最上部</td>
<td>Windowsアプリの標準的な要素</td>
</tr>
<tr>
<td>ToolBar</td>
<td>ToolStrip</td>
<td>MenuStripの下</td>
<td>Windowsアプリの標準的な要素</td>
</tr>
<tr>
<td>StatusBar</td>
<td>StatusStrip</td>
<td>Formの最下部</td>
<td>Windowsアプリの標準的な要素</td>
</tr>
<tr>
<td>MainDock</td>
<td>DockPanel</td>
<td>Formの残り領域全体</td>
<td>配置には外部DLLが必要</td>
</tr>
</tbody>
</table>

<h4>
<span id="ここまでの実行結果" class="fragment"></span><a href="#%E3%81%93%E3%81%93%E3%81%BE%E3%81%A7%E3%81%AE%E5%AE%9F%E8%A1%8C%E7%B5%90%E6%9E%9C"><i class="fa fa-link"></i></a>ここまでの実行結果</h4>

<p>この状態でビルド（及び実行）を行うと、以下に示す形状のアプリが起動します。<br>
見かけ上の形状は、C#によるウィンドウズアプリ構築の入門書等ででよく見かけますが、中央の灰色の広い領域が「ドッキングパネル」という特殊な領域になっている点が一般の入門書と異なります。<br>
<a href="https://camo.qiitausercontent.com/db239a42ec02fcee5583f04b1d235282329ab91d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f32653238316537632d306165352d303466302d343832392d6136643336633731613933612e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F2e281e7c-0ae5-04f0-4829-a6d36c71a93a.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=3b0e3a86b4b0d286fc138f8805c3e01c" alt="WS2019_000673.jpg" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/2e281e7c-0ae5-04f0-4829-a6d36c71a93a.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F2e281e7c-0ae5-04f0-4829-a6d36c71a93a.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=d08af0fb68d41b887ef7adc34e47fda1 1x" loading="lazy"></a></p>

<h2>
<span id="ドッキングウィンドウ子パネルの配置" class="fragment"></span><a href="#%E3%83%89%E3%83%83%E3%82%AD%E3%83%B3%E3%82%B0%E3%82%A6%E3%82%A3%E3%83%B3%E3%83%89%E3%82%A6%E5%AD%90%E3%83%91%E3%83%8D%E3%83%AB%E3%81%AE%E9%85%8D%E7%BD%AE"><i class="fa fa-link"></i></a>ドッキングウィンドウ（子パネル）の配置</h2>

<p>今回用意するドッキングウィンドウ（子パネル）は下記の表の通りです。現時点では全く必要がなく、その存在理由も曖昧なものも含まれますが、ここでまとめて作ります。<br>
生成位置と占有サイズは仮の値です。後で使い勝手を見ながら微調整します。<br>
ここでは詳細説明は割愛しますが、ドッキングウィンドウを追加したり削除する事も後で簡単に行う事ができます。</p>

<table>
<thead>
<tr>
<th>名前</th>
<th>生成位置と<br>占有サイズ</th>
<th style="text-align: center">背景色</th>
<th>生成目的（ここでは目的は<br>まだ意味を持ちません）</th>
</tr>
</thead>
<tbody>
<tr>
<td>MapWin</td>
<td>Maindockの<br>右側40%</td>
<td style="text-align: center">薄桃</td>
<td>メモリマップを表示予定</td>
</tr>
<tr>
<td>SrcWin</td>
<td>Maindockの<br>上部30%</td>
<td style="text-align: center">薄黄</td>
<td>ソースプログラムのエディタを<br>構築予定</td>
</tr>
<tr>
<td>CslWin</td>
<td>上記2つの<br>残り領域</td>
<td style="text-align: center">灰色</td>
<td>コンソール風の会話領域を<br>構築予定</td>
</tr>
<tr>
<td>ObJWin</td>
<td>SrcWinの<br>右側30%</td>
<td style="text-align: center">薄緑</td>
<td>RETROF-16のメモリダンプを<br>表示予定</td>
</tr>
<tr>
<td>EmuWin</td>
<td>ObJWinの<br>上部40％</td>
<td style="text-align: center">濃紺</td>
<td>RETROF-16のエミュレータを<br>構築予定</td>
</tr>
</tbody>
</table>

<h4>
<span id="子パネルの生成方法" class="fragment"></span><a href="#%E5%AD%90%E3%83%91%E3%83%8D%E3%83%AB%E3%81%AE%E7%94%9F%E6%88%90%E6%96%B9%E6%B3%95"><i class="fa fa-link"></i></a>子パネルの生成方法</h4>

<p>EmuWinを例として手順を紹介します。</p>

<p>この手順内では、まだ各々の子パネルの生成位置と占有サイズはまだ未定となります。また子パネルそのものもビルド（及び実行）をしてもまだ現れません。</p>

<h6>
<span id="手順1" class="fragment"></span><a href="#%E6%89%8B%E9%A0%861"><i class="fa fa-link"></i></a>手順1</h6>

<p>「プロジェクト」⇒「新しい項目の追加」、現れたダイアログの左ペインで「Windows Forms」を選択、右ペインで「継承フォーム（Windows フォーム）」を選択し、名前をEmuWinとして「追加」。<br>
<a href="https://camo.qiitausercontent.com/cdae0f4990d83e5ff756b085d718099e678b640a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f63353937393630302d633265662d653363632d363464362d6633343836616164336132342e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2Fc5979600-c2ef-e3cc-64d6-f3486aad3a24.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=bbc8fbcc6a0b6256c162c5eec74cd875" alt="WS2019_000693.jpg" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/c5979600-c2ef-e3cc-64d6-f3486aad3a24.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2Fc5979600-c2ef-e3cc-64d6-f3486aad3a24.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=81ccc392498d474582b8359c76762fb1 1x" loading="lazy"></a></p>

<h6>
<span id="手順2" class="fragment"></span><a href="#%E6%89%8B%E9%A0%862"><i class="fa fa-link"></i></a>手順2</h6>

<p>継承ピッカーが現れますので、そのまま何もせずに「参照」をクリックし、現れたエクスプローラで、本記事冒頭でダウンロードした「WeifenLuo.WinFormsUI.dll」を指定。</p>

<h6>
<span id="手順3" class="fragment"></span><a href="#%E6%89%8B%E9%A0%863"><i class="fa fa-link"></i></a>手順3</h6>

<p>継承ピッカーの項目が増えます。「DockContent」を選択し「OK」。<br>
<a href="https://camo.qiitausercontent.com/b1f7a9463b69e922ba23e4e291e017053bb9c278/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f64656165353663352d336530322d666238362d646430342d3761363064336539643065332e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2Fdeae56c5-3e02-fb86-dd04-7a60d3e9d0e3.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=b592af4ef60435d1645eb82098008064" alt="WS2019_000695.jpg" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/deae56c5-3e02-fb86-dd04-7a60d3e9d0e3.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2Fdeae56c5-3e02-fb86-dd04-7a60d3e9d0e3.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=a950d8db5e83eee55726bb2635bd7032 1x" loading="lazy"></a></p>

<h6>
<span id="手順4" class="fragment"></span><a href="#%E6%89%8B%E9%A0%864"><i class="fa fa-link"></i></a>手順4</h6>

<p>作成した子パネルに対する、普通のフォームと同様のデザイナーが表示されます。<br>
ここでは背景色のみ変更し、他は何もせずデザインを終了します。</p>

<p><a href="https://camo.qiitausercontent.com/454f9450a4520fa33bf34e5d7c5e16f369b0fe24/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f64373932336338642d643939332d373236652d636430332d3661363230356132303865372e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2Fd7923c8d-d993-726e-cd03-6a6205a208e7.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=5cfd47cef0208cf57e4584db99adddda" alt="WS2019_000696.jpg" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/d7923c8d-d993-726e-cd03-6a6205a208e7.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2Fd7923c8d-d993-726e-cd03-6a6205a208e7.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=c3c57bb548b8e65d667c452d14a046a6 1x" loading="lazy"></a></p>

<h6>
<span id="手順5" class="fragment"></span><a href="#%E6%89%8B%E9%A0%865"><i class="fa fa-link"></i></a>手順5</h6>

<p>他の子パネルも同様に生成します。</p>

<h4>
<span id="ソースコードの変更" class="fragment"></span><a href="#%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E5%A4%89%E6%9B%B4"><i class="fa fa-link"></i></a>ソースコードの変更</h4>

<p>この時点でビルドしても何も変化はありません。生成した子パネルを表示させるには、直接ソースファイルに手を加える必要があります。手を加えるソースファイルはMainForm.csです。生成（new）と、表示位置、サイズを指定しているだけですので、特に解説は不要かと思います。</p>

<p><details><summary><font color="Red"><strong>MainForm.csの全リスト</strong></font>(クリックで展開）</summary><div>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">MainForm.cs</span></div>
<div class="highlight"><pre><code><span class="k">using</span> <span class="nn">System.Windows.Forms</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">WeifenLuo.WinFormsUI.Docking</span><span class="p">;</span>
<span class="k">namespace</span> <span class="nn">RETROF</span> <span class="p">{</span>
    <span class="k">public</span> <span class="k">partial</span> <span class="k">class</span> <span class="nc">MainForm</span> <span class="p">:</span> <span class="n">Form</span> <span class="p">{</span>
        <span class="k">public</span> <span class="nf">MainForm</span><span class="p">()</span> <span class="p">{</span>
            <span class="nf">InitializeComponent</span><span class="p">();</span>
            <span class="c1">//-------------------------------------------</span>
            <span class="c1">//フォームをMDIコンテナにする</span>
            <span class="n">IsMdiContainer</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
            <span class="c1">//ドッキングウィンドウ以外の領域（ドキュメント領域）をSDIドキュメントとする。</span>
            <span class="n">MainDock</span><span class="p">.</span><span class="n">DocumentStyle</span> <span class="p">=</span> <span class="n">DocumentStyle</span><span class="p">.</span><span class="n">DockingSdi</span><span class="p">;</span> 

            <span class="c1">//子パネルの生成</span>
            <span class="n">CslWin</span> <span class="n">CslWin</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CslWin</span><span class="p">();</span>
            <span class="n">EmuWin</span> <span class="n">EmuWin</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">EmuWin</span><span class="p">();</span>
            <span class="n">ObjWin</span> <span class="n">ObjWin</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ObjWin</span><span class="p">();</span>
            <span class="n">SrcWin</span> <span class="n">SrcWin</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">SrcWin</span><span class="p">();</span>
            <span class="n">MapWin</span> <span class="n">MapWin</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MapWin</span><span class="p">();</span>

            <span class="c1">//子パネルの表示</span>
            <span class="n">MainDock</span><span class="p">.</span><span class="n">DockRightPortion</span> <span class="p">=</span> <span class="m">0.4</span><span class="p">;</span>
            <span class="n">MapWin</span><span class="p">.</span><span class="nf">Show</span><span class="p">(</span><span class="n">MainDock</span><span class="p">,</span> <span class="n">DockState</span><span class="p">.</span><span class="n">DockRight</span><span class="p">);</span>
            <span class="n">MainDock</span><span class="p">.</span><span class="n">DockTopPortion</span> <span class="p">=</span> <span class="m">0.3</span><span class="p">;</span>
            <span class="n">SrcWin</span><span class="p">.</span><span class="nf">Show</span><span class="p">(</span><span class="n">MainDock</span><span class="p">,</span> <span class="n">DockState</span><span class="p">.</span><span class="n">DockTop</span><span class="p">);</span>
            <span class="n">CslWin</span><span class="p">.</span><span class="nf">Show</span><span class="p">(</span><span class="n">MainDock</span><span class="p">,</span> <span class="n">DockState</span><span class="p">.</span><span class="n">Document</span><span class="p">);</span>
            <span class="n">ObjWin</span><span class="p">.</span><span class="nf">Show</span><span class="p">(</span><span class="n">SrcWin</span><span class="p">.</span><span class="n">Pane</span><span class="p">,</span> <span class="n">DockAlignment</span><span class="p">.</span><span class="n">Right</span><span class="p">,</span> <span class="m">0.3</span><span class="p">);</span>
            <span class="n">EmuWin</span><span class="p">.</span><span class="nf">Show</span><span class="p">(</span><span class="n">ObjWin</span><span class="p">.</span><span class="n">Pane</span><span class="p">,</span> <span class="n">DockAlignment</span><span class="p">.</span><span class="n">Top</span><span class="p">,</span> <span class="m">0.4</span><span class="p">);</span>
            <span class="c1">//-------------------------------------------</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>　<br>
</p>
</div></details></p>

<p>MainForm.csを変更後、ビルド（及び実行）を行うと、以下の外観を持つアプリが現れます。</p>

<p><a href="https://camo.qiitausercontent.com/e54db0487fc13a20b46b12430142436777460658/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f37613637366333642d343034652d363462312d323438302d3338356137393036393039622e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F7a676c3d-404e-64b1-2480-385a7906909b.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=51d2a06fa55a8180d0b8946c04c40a86" alt="aaa.jpg" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/7a676c3d-404e-64b1-2480-385a7906909b.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F7a676c3d-404e-64b1-2480-385a7906909b.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=44eb9bd6b067be50b0c01b8f10ef3094 1x" loading="lazy"></a></p>



<h2>
<span id="richtextboxの継承" class="fragment"></span><a href="#richtextbox%E3%81%AE%E7%B6%99%E6%89%BF"><i class="fa fa-link"></i></a>RichTextBoxの継承</h2>

<p>既存コントロールを単に継承するだけならば、その方法の詳細は「C# 既存コントロール 継承」等で検索すると多くの記事が見つかると思います。<br>
ここでは標準コントロールであるRichTextBoxを単純に継承する方法ではなく、<strong>具体的な意味を持つ独自コントロール</strong>を作る方法を解説します。<br>
具体的には標準コントロールであるRichTextBoxを継承し、独自コントロールShellTextBoxを作る方法となります。</p>

<h4>
<span id="まずはrichtextboxを単純継承しshelltextboxを作る" class="fragment"></span><a href="#%E3%81%BE%E3%81%9A%E3%81%AFrichtextbox%E3%82%92%E5%8D%98%E7%B4%94%E7%B6%99%E6%89%BF%E3%81%97shelltextbox%E3%82%92%E4%BD%9C%E3%82%8B"><i class="fa fa-link"></i></a>まずはRichTextBoxを単純継承しShellTextBoxを作る</h4>

<p>これは機械的な作業ですので手順の概略のみ以下に示します。</p>

<p>1.　[プロジェクト(P)]⇒[新しい項目の追加(W…)]<br>
2.　現れたダイアログで『ユーザーコントロール（Windowsフォーム）』を選択<br>
3.　『名前』を「ShellTextBox.cs」として『追加』<br>
<a href="https://camo.qiitausercontent.com/450e20c1f8ec99e09245f557507161bc2e3c89ae/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f39393061393463332d396631392d303833392d326531312d3035386366376565336664662e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F990a94c3-9f19-0839-2e11-058cf7ee3fdf.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=eabdf4f1fcef1462415a28aaee396a8e" width="30%" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/990a94c3-9f19-0839-2e11-058cf7ee3fdf.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F990a94c3-9f19-0839-2e11-058cf7ee3fdf.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=7517fe9b8290af59cfd9cf0190b7e944 1x" loading="lazy"></a> 　<br>
4. 上記の絵が出るので、この絵の上で右ボタンメニュー[コードの表示]<br>
5. 継承元がUserControlになっているので、これをRichTextBoxに変更<br>
6. ビルドするとShellTextBox.Designer.の27行目でエラーが出るのでこの行をコメントアウト(MS公認バグ？)<br>
<a href="https://camo.qiitausercontent.com/f4e4b351ac26d289d6374bc2e554a62dea178653/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f64623866303861382d373039612d383539352d333861312d3036303135646134653166342e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2Fdb8f08a8-709a-8595-38a1-06015da4e1f4.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=98ccb99ba5128b43ffedba27b954499a" width="75%" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/db8f08a8-709a-8595-38a1-06015da4e1f4.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2Fdb8f08a8-709a-8595-38a1-06015da4e1f4.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=509db7a42440a8a766babd0906f2e393 1x" loading="lazy"></a> <br>
7. 再度ビルドし、ツールボックスにShellTextBoxが現れることを確認<br>
<a href="https://camo.qiitausercontent.com/c41088feec66ad1413a08d1e95148a0a9a5890f0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f31376436613862332d336536382d633134662d636538392d6535376564623164343265362e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F17d6a8b3-3e68-c14f-ce89-e57edb1d42e6.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=5fb93cdbedeba655c30d612f1ae6d184" width="40%" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/17d6a8b3-3e68-c14f-ce89-e57edb1d42e6.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F17d6a8b3-3e68-c14f-ce89-e57edb1d42e6.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=a9dd1a0eab4878f4a33ee65875ec6502 1x" loading="lazy"></a> </p>

<h4>
<span id="shelltextboxを単純継承した状態で使ってみる" class="fragment"></span><a href="#shelltextbox%E3%82%92%E5%8D%98%E7%B4%94%E7%B6%99%E6%89%BF%E3%81%97%E3%81%9F%E7%8A%B6%E6%85%8B%E3%81%A7%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%8B"><i class="fa fa-link"></i></a>ShellTextBoxを単純継承した状態で使ってみる</h4>

<p>ツールボックスに現れたShellTextBoxをデザイナーを用いてCslWinの全面（DockプロパティをFillに設定）に名前を<strong>Shell</strong>として貼り付け、ビルド（及び実行）します。</p>

<h6>
<span id="shellと言う名前について" class="fragment"></span><a href="#shell%E3%81%A8%E8%A8%80%E3%81%86%E5%90%8D%E5%89%8D%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6"><i class="fa fa-link"></i></a>Shellと言う名前について</h6>

<p>プログラム的には、この名前自体は任意で構いませんが、ここでは以降の解説の都合上<strong>Shell</strong>として下さい。デザイナーは名前を<strong>shellTextBox</strong>を暗黙で設定しますから、これを<strong>Shell</strong>に変更が必要です。<br>
<a href="https://camo.qiitausercontent.com/b8ea490978d2a25e91fdcc3d0a26360814b019af/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f35643931396161342d353861352d356139382d333031352d3938346335303261653536652e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F5d919aa4-58a5-5a98-3015-984c502ae56e.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=c3c1366275ef255349318f6dee791d44" width="75%" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/5d919aa4-58a5-5a98-3015-984c502ae56e.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F5d919aa4-58a5-5a98-3015-984c502ae56e.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=ea143d7c2569ce85b4181d0be3a2e317 1x" loading="lazy"></a></p>

<h6>
<span id="この時点での実行結果" class="fragment"></span><a href="#%E3%81%93%E3%81%AE%E6%99%82%E7%82%B9%E3%81%A7%E3%81%AE%E5%AE%9F%E8%A1%8C%E7%B5%90%E6%9E%9C"><i class="fa fa-link"></i></a>この時点での実行結果</h6>

<p><a href="https://camo.qiitausercontent.com/50e1f0435a5c1a81bb0b75255c623d9f9a4f5f8f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f63343965313339652d653534342d396436332d326537622d6339653135376335383531612e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2Fc49e139e-e544-9d63-2e7b-c9e157c5851a.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=cffbabea499d40efe29ff65baa817ba2" alt="WS2019_000694.jpg" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/c49e139e-e544-9d63-2e7b-c9e157c5851a.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2Fc49e139e-e544-9d63-2e7b-c9e157c5851a.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=dd0ca9469f66a480483310de33c65b79 1x" loading="lazy"></a></p>

<p>継承したとは言え、機能はRichTextBoxのままですから当然、RichTextBoxを張り付けた場合と何ら変わりません。</p>

<h4>
<span id="shelltextbox独自の処理を実装する" class="fragment"></span><a href="#shelltextbox%E7%8B%AC%E8%87%AA%E3%81%AE%E5%87%A6%E7%90%86%E3%82%92%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>ShellTextBox独自の処理を実装する</h4>

<p>ShellTextBox.csに独自コードを書き込みます。継承元のRichTextBoxに加わる主な機能は以下の通りです。</p>

<ul>
<li>任意の文字列からなるプロンプトの表示</li>
<li>プロンプト領域を侵すカーソル移動（BSキーや左矢印キー）を制限</li>
<li>プロンプトに対する「文字列＋Enterキー」入力に対する独自イベントの発生</li>
<li>プロンプト、入力文字列、出力文字列の色分け機能の実装</li>
</ul>

<p>具体的なコードは以下となります。コードの説明はコード中にコメントとして記載してますので、それを参照して下さい。</p>

<p><details><summary><font color="Red"><strong>ShellTextBox.csの全リスト</strong></font>(クリックで展開）</summary><div>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">ShellTextBox.cs</span></div>
<div class="highlight"><pre><code><span class="k">using</span> <span class="nn">System.Windows.Forms</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Drawing</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">RETROF</span> <span class="p">{</span>
    <span class="c1">///補助クラス、EventArgsクラスを継承するためだけに存在</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">ShellEventArgs</span> <span class="p">:</span> <span class="n">System</span><span class="p">.</span><span class="n">EventArgs</span> <span class="p">{</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">Command</span><span class="p">;</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">Result</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">///独自クラス</span>
    <span class="k">public</span> <span class="k">partial</span> <span class="k">class</span> <span class="nc">ShellTextBox</span> <span class="p">:</span> <span class="n">RichTextBox</span> <span class="p">{</span>
        <span class="c1">///プロパティ</span>
        <span class="k">private</span> <span class="kt">string</span> <span class="n">Prompt</span> <span class="p">=</span><span class="s">"RETROF&gt;"</span><span class="p">;</span>
        <span class="k">private</span> <span class="k">const</span> <span class="kt">string</span> <span class="n">LFCR</span> <span class="p">=</span><span class="s">"\r\n"</span><span class="p">;</span>
        <span class="k">private</span> <span class="k">const</span> <span class="kt">char</span> <span class="n">CR</span> <span class="p">=</span><span class="sc">'\n'</span><span class="p">;</span>
        <span class="k">private</span> <span class="k">const</span> <span class="kt">char</span> <span class="n">COUTIONCHER</span> <span class="p">=</span><span class="sc">'!'</span><span class="p">;</span>
        <span class="k">private</span> <span class="n">Color</span> <span class="n">ResultColor</span><span class="p">;</span>
        <span class="k">private</span> <span class="n">Color</span> <span class="n">PromptColor</span><span class="p">;</span>
        <span class="k">private</span> <span class="n">Color</span> <span class="n">CommandColor</span><span class="p">;</span>
        <span class="k">private</span> <span class="n">Color</span> <span class="n">CoutionColor</span><span class="p">;</span>

        <span class="c1">///デリゲートの宣言　（独自に継承したShellEventArgs型の引数を伴う）</span>
        <span class="k">public</span> <span class="k">delegate</span> <span class="k">void</span> <span class="nf">ShellEventHandler</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">ShellEventArgs</span> <span class="n">e</span><span class="p">);</span>

        <span class="c1">///上記デリゲートのインスタンスを（イベント型として）定義</span>
        <span class="k">public</span> <span class="k">event</span> <span class="n">ShellEventHandler</span> <span class="n">KeyEnter</span><span class="p">;</span>

        <span class="c1">///本クラスのコンストラクタ</span>
        <span class="k">public</span> <span class="nf">ShellTextBox</span><span class="p">()</span> <span class="p">{</span>
            <span class="c1">//RichTextBoxのアジア圏のフォント化け（公認バグ？）の抑制</span>
            <span class="n">LanguageOption</span> <span class="p">=</span> <span class="n">RichTextBoxLanguageOptions</span><span class="p">.</span><span class="n">UIFonts</span><span class="p">;</span>
            <span class="n">Prompt</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span> <span class="c1">//仮設定、正式な設定はInitialize()で行う</span>
        <span class="p">}</span>

        <span class="c1">///初期化</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">Initialize</span><span class="p">(</span><span class="kt">string</span> <span class="n">prompt</span><span class="p">,</span> <span class="n">Color</span> <span class="n">prompt_color</span> <span class="p">=</span> <span class="k">default</span><span class="p">(</span><span class="n">Color</span><span class="p">),</span>
            <span class="n">Color</span> <span class="n">command_color</span> <span class="p">=</span> <span class="k">default</span><span class="p">(</span><span class="n">Color</span><span class="p">),</span> <span class="n">Color</span> <span class="n">coution_color</span> <span class="p">=</span> <span class="k">default</span><span class="p">(</span><span class="n">Color</span><span class="p">))</span> <span class="p">{</span>
            <span class="n">Prompt</span> <span class="p">=</span> <span class="n">prompt</span><span class="p">;</span>
            <span class="n">PromptColor</span> <span class="p">=</span> <span class="p">(</span><span class="n">prompt_color</span> <span class="p">!=</span> <span class="k">default</span><span class="p">(</span><span class="n">Color</span><span class="p">))</span> <span class="p">?</span> <span class="n">prompt_color</span> <span class="p">:</span> <span class="n">SelectionColor</span><span class="p">;</span>
            <span class="n">CommandColor</span> <span class="p">=</span> <span class="p">(</span><span class="n">command_color</span> <span class="p">!=</span> <span class="k">default</span><span class="p">(</span><span class="n">Color</span><span class="p">))</span> <span class="p">?</span> <span class="n">command_color</span> <span class="p">:</span> <span class="n">SelectionColor</span><span class="p">;</span>
            <span class="n">CoutionColor</span> <span class="p">=</span> <span class="p">(</span><span class="n">coution_color</span> <span class="p">!=</span> <span class="k">default</span><span class="p">(</span><span class="n">Color</span><span class="p">))</span> <span class="p">?</span> <span class="n">coution_color</span> <span class="p">:</span> <span class="n">Color</span><span class="p">.</span><span class="n">Red</span><span class="p">;</span>
            <span class="n">ResultColor</span> <span class="p">=</span> <span class="n">SelectionColor</span><span class="p">;</span>
            <span class="nf">ShowPrompt</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="c1">///MyEnterが空（==null）ではない事を確認し、「Enterキーが押されたイベント」を発行する</span>
        <span class="k">protected</span> <span class="k">virtual</span> <span class="k">void</span> <span class="nf">OnConsole</span><span class="p">(</span><span class="n">ShellEventArgs</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">//KeyEnter(this, e);　//確認しないならこちらで十分</span>
            <span class="n">KeyEnter</span><span class="p">?.</span><span class="nf">Invoke</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="n">e</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">///（オーバーライド）マウスクリックによるカーソル移動を強制的に末尾にする</span>
        <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnMouseUp</span><span class="p">(</span><span class="n">MouseEventArgs</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">base</span><span class="p">.</span><span class="nf">OnMouseUp</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
            <span class="n">SelectionStart</span> <span class="p">=</span> <span class="kt">int</span><span class="p">.</span><span class="n">MaxValue</span><span class="p">;</span> <span class="c1">//領域末尾を超す値の指定は領域末尾に移動する</span>
        <span class="p">}</span>

        <span class="c1">///（オーバーライド）矢印キー、BSキー、Enterキーの挙動変更</span>
        <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnKeyDown</span><span class="p">(</span><span class="n">KeyEventArgs</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">//カーソル上下移動の無効化</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">KeyCode</span> <span class="p">==</span> <span class="n">Keys</span><span class="p">.</span><span class="n">Up</span> <span class="p">||</span> <span class="n">e</span><span class="p">.</span><span class="n">KeyCode</span> <span class="p">==</span> <span class="n">Keys</span><span class="p">.</span><span class="n">Down</span><span class="p">)</span> <span class="p">{</span> <span class="n">e</span><span class="p">.</span><span class="n">Handled</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span> <span class="k">return</span><span class="p">;</span> <span class="p">}</span>
            <span class="c1">//プロンプト文字列領域を侵すBackSpace(もしくはカーソル左移動)の無効化</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">KeyCode</span> <span class="p">==</span> <span class="n">Keys</span><span class="p">.</span><span class="n">Left</span> <span class="p">||</span> <span class="n">e</span><span class="p">.</span><span class="n">KeyCode</span> <span class="p">==</span> <span class="n">Keys</span><span class="p">.</span><span class="n">Back</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="nf">GetColumn</span><span class="p">()</span> <span class="p">&lt;</span> <span class="n">Prompt</span><span class="p">.</span><span class="n">Length</span> <span class="p">+</span> <span class="m">1</span><span class="p">)</span> <span class="p">{</span> <span class="n">e</span><span class="p">.</span><span class="n">Handled</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span> <span class="k">return</span><span class="p">;</span> <span class="p">}</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">KeyCode</span> <span class="p">!=</span> <span class="n">Keys</span><span class="p">.</span><span class="n">Enter</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span> <span class="c1">//Enterキー以外なら終わり</span>
            <span class="c1">//以下はEnterキーが押下された場合</span>
            <span class="n">ShellEventArgs</span> <span class="n">ee</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ShellEventArgs</span><span class="p">();</span>
            <span class="n">ee</span><span class="p">.</span><span class="n">Command</span> <span class="p">=</span> <span class="nf">GetCommand</span><span class="p">();</span><span class="err">　　　</span><span class="c1">//コマンド（入力文字列）をShellEventArgsに設定</span>
            <span class="nf">OnConsole</span><span class="p">(</span><span class="n">ee</span><span class="p">);</span><span class="err">　　　</span>            <span class="c1">//実行　　　</span>
            <span class="n">SelectionColor</span> <span class="p">=</span> <span class="n">ResultColor</span><span class="p">;</span>   <span class="c1">//実行結果の表示色を設定</span>
            <span class="c1">//表示文字列の先頭が「！」なら、その一文字を削除し、表示色をCoutionColorに変更</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">ee</span><span class="p">.</span><span class="n">Result</span> <span class="p">!=</span> <span class="k">null</span> <span class="p">&amp;&amp;</span> <span class="n">ee</span><span class="p">.</span><span class="n">Result</span><span class="p">.</span><span class="n">Length</span> <span class="p">!=</span> <span class="m">0</span> <span class="p">&amp;&amp;</span> <span class="n">ee</span><span class="p">.</span><span class="n">Result</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="p">==</span> <span class="n">COUTIONCHER</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">ee</span><span class="p">.</span><span class="n">Result</span> <span class="p">=</span> <span class="n">ee</span><span class="p">.</span><span class="n">Result</span><span class="p">.</span><span class="nf">Remove</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">1</span><span class="p">);</span>
                <span class="n">SelectionColor</span> <span class="p">=</span> <span class="n">CoutionColor</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="c1">//実行結果の表示</span>
            <span class="nf">AppendText</span><span class="p">(</span><span class="n">LFCR</span> <span class="p">+</span> <span class="n">ee</span><span class="p">.</span><span class="n">Result</span> <span class="p">+</span> <span class="n">LFCR</span><span class="p">);</span>
            <span class="nf">ShowPrompt</span><span class="p">();</span>
            <span class="n">e</span><span class="p">.</span><span class="n">Handled</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">///（視認性向上目的のprivateな補助関数）プロンプトを除く現在行の取り出し</span>
        <span class="k">private</span> <span class="kt">string</span> <span class="nf">GetCommand</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">Text</span><span class="p">.</span><span class="nf">Substring</span><span class="p">(</span><span class="n">Text</span><span class="p">.</span><span class="n">Length</span> <span class="p">-</span> <span class="nf">GetColumn</span><span class="p">()).</span><span class="nf">Substring</span><span class="p">(</span><span class="n">Prompt</span><span class="p">.</span><span class="n">Length</span><span class="p">));</span>
        <span class="p">}</span>

        <span class="c1">///（視認性向上目的のprivateな補助関数）現在のカーソルのカラム位置を返す</span>
        <span class="k">private</span> <span class="kt">int</span> <span class="nf">GetColumn</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">SelectionStart</span> <span class="p">-</span> <span class="n">Text</span><span class="p">.</span><span class="nf">LastIndexOf</span><span class="p">(</span><span class="n">CR</span><span class="p">)</span> <span class="p">-</span> <span class="m">1</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">///（視認性向上目的のprivateな補助関数）プロンプトを指定色で表示する</span>
        <span class="k">private</span> <span class="k">void</span> <span class="nf">ShowPrompt</span><span class="p">()</span> <span class="p">{</span>
            <span class="n">SelectionColor</span> <span class="p">=</span> <span class="n">PromptColor</span><span class="p">;</span>
            <span class="nf">AppendText</span><span class="p">(</span><span class="n">Prompt</span><span class="p">);</span>
            <span class="n">SelectionColor</span> <span class="p">=</span> <span class="n">CommandColor</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>　<br>
</p>
</div></details></p>

<p>この時点でビルド（及び実行）を行うと、RichTextBoxとはかなり異なる動きをする事を確認できると思います。但しこの時点ではまだプロンプトも表示されませんし、何を入力しても何も表示されません。</p>

<h4>
<span id="shelltextboxが発する独自イベントを受け取る" class="fragment"></span><a href="#shelltextbox%E3%81%8C%E7%99%BA%E3%81%99%E3%82%8B%E7%8B%AC%E8%87%AA%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88%E3%82%92%E5%8F%97%E3%81%91%E5%8F%96%E3%82%8B"><i class="fa fa-link"></i></a>ShellTextBoxが発する独自イベントを受け取る</h4>

<p>ShellTextBoxがEnterキーを押下された時に発生するイベントは誰が（どのクラスもインスタンスが）受け取っても構いません。一般的にはShellTextBoxを生成したCslWin.csが受け取る事が多いですが、ここではMainForm.csにコードを追加し、MainForm.csが受け取る例を紹介します。</p>

<h6>
<span id="手順１" class="fragment"></span><a href="#%E6%89%8B%E9%A0%86%EF%BC%91"><i class="fa fa-link"></i></a>手順１.</h6>

<p>ShellTextBoxを利用には、MainForm.csに下記の一行の追加が必要です。最初のプロンプトはこの関数が呼ばれた時に表示されます。</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">MainForm.cs</span></div>
<div class="highlight"><pre><code> <span class="n">CslWin</span><span class="p">.</span><span class="n">Shell</span><span class="p">.</span><span class="nf">Initialize</span><span class="p">(</span><span class="s">"PROMPT&gt;"</span><span class="p">,</span> <span class="n">Color</span><span class="p">.</span><span class="n">DarkViolet</span><span class="p">,</span> <span class="n">Color</span><span class="p">.</span><span class="n">Green</span><span class="p">,</span> <span class="n">Color</span><span class="p">.</span><span class="n">Red</span><span class="p">);</span>
</code></pre></div>
</div>

<p>引数の意味は以下の通りです。</p>

<table>
<thead>
<tr>
<th></th>
<th>型</th>
<th>意味</th>
<th>省略の可否</th>
</tr>
</thead>
<tbody>
<tr>
<td>第1引数</td>
<td>String</td>
<td>プロンプト文字列</td>
<td>省略不可</td>
</tr>
<tr>
<td>第2引数</td>
<td>Color</td>
<td>プロンプトの色</td>
<td>省略時はTextCororプロパティの色</td>
</tr>
<tr>
<td>第3引数</td>
<td>Color</td>
<td>入力文字列の色</td>
<td>省略時はTextCororプロパティの色</td>
</tr>
<tr>
<td>第4引数</td>
<td>Color</td>
<td>警告色</td>
<td>省略時はColor.Red（赤色）<br>警告色の意味は<strong>手順2</strong>を参照</td>
</tr>
</tbody>
</table>

<p>上記1行を追記すると、"CslWin.Shellはアクセスできない保護レベルになっています"のエラーが発生しますので、ClsWin.Designer.csの末尾に自動生成されたShellの定義をprivateからpublicに変更します。これでプロンプトが出現し、それに対してコマンドを入力できる事を確認でます。</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">ClsWin.Designer.cs</span></div>
<div class="highlight"><pre><code> <span class="c1">// private ShellTextBox Shell;</span>
    <span class="k">public</span> <span class="n">ShellTextBox</span> <span class="n">Shell</span><span class="p">;</span>
</code></pre></div>
</div>

<h6>
<span id="手順２" class="fragment"></span><a href="#%E6%89%8B%E9%A0%86%EF%BC%92"><i class="fa fa-link"></i></a>手順２.</h6>

<p>ShellTextBoxが発する独自イベントを受け取る宣言と、そのイベントが発生した時の処理をMainForm.csの末尾に追加します。</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">MainForm.cs</span></div>
<div class="highlight"><pre><code><span class="c1">///Shellに入力があれば、本クラス内の OnShell() をコールする様に設定</span>
<span class="n">CslWin</span><span class="p">.</span><span class="n">Shell</span><span class="p">.</span><span class="n">KeyEnter</span> <span class="p">+=</span> <span class="k">new</span> <span class="n">ShellTextBox</span><span class="p">.</span><span class="nf">ShellEventHandler</span><span class="p">(</span><span class="n">OnShell</span><span class="p">);</span>

<span class="c1">///Enterキーダウン時に発生する独自イベントの処理</span>
<span class="c1">///現時点では何を入力しても、入力文字列＋" : Unknown command"と表示する</span>
<span class="k">void</span> <span class="nf">OnShell</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">ShellEventArgs</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">e</span><span class="p">.</span><span class="n">Result</span> <span class="p">=</span> <span class="n">e</span><span class="p">.</span><span class="n">Command</span> <span class="p">+</span> <span class="s">" : Unknown command"</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>OnShell()はShellTextBox内でEnterキーを押下した時に呼ばれます。この時にe.CommandにプロンプトからEnterキーまでに入力したコマンド文字列（プロンプトとEnterキーは含まない、空文の場合もある）が格納されています。またOnShell()内で任意の文字列をe.Resultに設定するとそれがOnShell()終了後にShellTextBoxに表示されます。</p>

<p>上記のOnShell()は単に入力文字列に、" : Unknown command"を付加したものを出力するだけの処理を行っています。出力文字の色はTextColorプロパティと同色になりますが、出力文字列の先頭文字が"!"の場合は、Initialize()の第4引数で指定した警告色で"!"を除く文字列が表示されます。</p>

<h6>
<span id="shelleventargsのメンバ" class="fragment"></span><a href="#shelleventargs%E3%81%AE%E3%83%A1%E3%83%B3%E3%83%90"><i class="fa fa-link"></i></a>ShellEventArgsのメンバ</h6>

<table>
<thead>
<tr>
<th>メンバ名</th>
<th>型</th>
<th>意味</th>
</tr>
</thead>
<tbody>
<tr>
<td>command</td>
<td>String</td>
<td>入力された文字列がセットされる</td>
</tr>
<tr>
<td>result</td>
<td>String</td>
<td>出力したい文字列をセットする<br>先頭文字が"!"の場合は文字色が変わる<br>（先頭文字の"!"は表示されない）</td>
</tr>
<tr>
<td>その他</td>
<td></td>
<td>継承元であるSystem.EventArgsと同じ</td>
</tr>
</tbody>
</table>

<h2>
<span id="終わりに" class="fragment"></span><a href="#%E7%B5%82%E3%82%8F%E3%82%8A%E3%81%AB"><i class="fa fa-link"></i></a>終わりに</h2>

<p>以上で、本記事冒頭で紹介した「何を入力してもUnKnownは返るアプリ」の完成です。</p>

<p><a href="https://camo.qiitausercontent.com/238012c7b77aad1ba7304e5e60163e723615ddfc/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f37336631393639632d323436372d383536612d363837622d3466386338363734666332392e6a706567" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F73f1969c-2467-856a-687b-4f8c8674fc29.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=dd82171a4cad2f298f836c1e8209e5e8" alt="WS2019_000697.jpg" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/73f1969c-2467-856a-687b-4f8c8674fc29.jpeg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F73f1969c-2467-856a-687b-4f8c8674fc29.jpeg?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=571c9495d861a0600479e0c1c73a856e 1x" loading="lazy"></a></p>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2FRETROF%2Fitems%2F66a9694acc4dd625d003&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2FRETROF%2Fitems%2F66a9694acc4dd625d003&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/RETROF/items/66a9694acc4dd625d003/likers" class="css-1iupg5d">3</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">6</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/66a9694acc4dd625d003/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/RETROF/items/66a9694acc4dd625d003/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/RETROF/items/66a9694acc4dd625d003/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/RETROF/items/66a9694acc4dd625d003/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/RETROF/items/66a9694acc4dd625d003.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-393c88fc-59bc-42c6-b95a-0ee5bce133fa">{"authorAnalyticsTrackingId":null,"organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-ac479abf-ee09-449e-9ce8-7c1bf8c804f6"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-ac479abf-ee09-449e-9ce8-7c1bf8c804f6">{}</script>
      
<div id="LoginModal-react-component-fb9a8034-3046-4661-8706-b11142dd5e9a"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-fb9a8034-3046-4661-8706-b11142dd5e9a">{}</script>
      
<div id="StockModal-react-component-9e2f4565-287c-4d1a-9989-74c6d612a8d3"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-9e2f4565-287c-4d1a-9989-74c6d612a8d3">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;GOHpfABenN0LyhUCvkcErmtF6RusIqpJckyl5ZZz+yHYC0etC6vJk5CRos10+r1cVghhnYGbqn8rGqWUyNlrzw==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\n\u003ch2\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"本記事の内容\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9C%AC%E8%A8%98%E4%BA%8B%E3%81%AE%E5%86%85%E5%AE%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e本記事の内容\u003c/h4\u003e\n\n\u003cp\u003e本記事は以下の外観と機能を持つアプリケーションの作り方を解説します。一部の自動生成されるソースコードを除く\u003cstrong\u003e全ソースコードを公開\u003c/strong\u003eします。\u003cbr\u003e\nなお、このアプリ自体はキーボードから何を入力しても「Unknown command」を返すだけであり、具体的な事は何もできません。しかしこのアプリのソースコードに順次手を加えて行く事により、様々なアプリケーションに変身する事が可能です。すなわち、ここで紹介するアプリは\u003cstrong\u003e同様の画面構成をを持つ全てのアプリの土台\u003c/strong\u003eとして利用することを想定しています。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/8a633274266ce2f5a92b357dbc204b062f2e3e36/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f36303531653365352d626337312d613765632d633961622d6363633763376531386165612e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F6051e3e5-bc71-a7ec-c9ab-ccc7c7e18aea.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c384036dee0a9a5c6933f92642f00c7c\" alt=\"WS2019_000697.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/6051e3e5-bc71-a7ec-c9ab-ccc7c7e18aea.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F6051e3e5-bc71-a7ec-c9ab-ccc7c7e18aea.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=538230935d3e47c4523e24230034a4b5 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n各領域は自由に配置できます。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/7138b5f7ac2f14bc7ed4d742e271e420ea568df2/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f35373634613463332d613261382d343738372d643465372d6132356538313666623333302e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F5764a4c3-a2a8-4787-d4e7-a25e816fb330.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a47fba2231859d6b98dc7d32d9ece6e3\" alt=\"WS2019_000704.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/5764a4c3-a2a8-4787-d4e7-a25e816fb330.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F5764a4c3-a2a8-4787-d4e7-a25e816fb330.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=44274053a8c7e9e2b1a46cf3a78067e2 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eプログラミング上の主なテーマは以下の通り。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e複数の\u003cstrong\u003eドッキングウィンドウ\u003c/strong\u003eを持つアプリの作成方法\u003c/li\u003e\n\u003cli\u003e既存の\u003cstrong\u003eコントロールの継承\u003c/strong\u003e方法と、その具体的な利用方法\u003c/li\u003e\n\u003cli\u003e継承コントロールからの\u003cstrong\u003e独自イベントの発生\u003c/strong\u003e方法と、その受取方法\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e尚、ここで紹介するアプリは筆者が別途作成した「RETROF-16統合開発環境」の土台となっています。このため本記事のタイトルにRETROF-16統合開発環境という文言が含まれていますが、本記事内では「RETROF-16統合開発環境」に関する説明は一切ありません。本記事はあくまでも本記事内で完結する「Unknown command」を返すだけのアプリの作り方を紹介するものです。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"開発環境等\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%E7%AD%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e開発環境等\u003c/h4\u003e\n\n\u003cul\u003e\n\u003cli\u003eOS Windows10　バージョン 1909 ビルド 18363.1198\u003c/li\u003e\n\u003cli\u003eMicrosoft Visual Studio Community 2019 Version 16.8.2\u003c/li\u003e\n\u003cli\u003eMicrosoft .NET FrameWork Version 4.8.03752\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"下準備\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%B8%8B%E6%BA%96%E5%82%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e下準備\u003c/h2\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"本アプリの開発用のフォルダ作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9C%AC%E3%82%A2%E3%83%97%E3%83%AA%E3%81%AE%E9%96%8B%E7%99%BA%E7%94%A8%E3%81%AE%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e本アプリの開発用のフォルダ作成\u003c/h4\u003e\n\n\u003cp\u003eC:直下にR16BLACKの名でフォルダを作ります。C:直下に作るのは好きではありませんが、こちらの方が何かと説明が楽なのでこうしました。実際にはどこでも構いません。\u003cbr\u003e\nR16BLACKは、ここではその意味の詳細説明は割愛します。「筆者にとって特別な意味あるワード」とお考え下さい。これも実際には任意の名で構いません。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"必要なdll\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%BF%85%E8%A6%81%E3%81%AAdll\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e必要なDLL\u003c/h4\u003e\n\n\u003cp\u003eR16BLACKフォルダに「WeifenLuo.WinFormsUI.Docking.dll」を置きます。\u003cbr\u003e\nこのDLLの入手方法やその役割は「WeifenLuo.WinFormsUI.Docking.dll download」等で検索するとダウンロード可能なサイトがいくつか見つかると思います。\u003cbr\u003e\n\u003ca href=\"https://www.dllme.com/dll/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.dllme.com/dll/\u003c/a\u003e\u003cbr\u003e\n上記はその一例ですが、サイトによっては\u003cstrong\u003e悪意のある改変dll\u003c/strong\u003eを提供するサイトも存在します。ダウンロードに関する危険性は全て\u003cstrong\u003e自己責任\u003c/strong\u003eで行って下さい。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"プロジェクトの作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eプロジェクトの作成\u003c/h4\u003e\n\n\u003cp\u003e次に、普通にプロジェクトを作成します。プロジェクト名は任意ですが、ここでは「RETROF」としたものとして話を薦めます。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/d57e3b59ed3586c3f6322490b8796c9422cdb59c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f63356436323831372d643863642d653439392d653833662d6439383964383766373739352e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2Fc5d62817-d8cd-e499-e83f-d989d87f7795.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=3ff1716d804baa0d2ae062cebf9d3508\" width=\"75%\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/c5d62817-d8cd-e499-e83f-d989d87f7795.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2Fc5d62817-d8cd-e499-e83f-d989d87f7795.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=fcf3389bc64a636499d03fbbdaa9140a 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eここでビルド（及び実行）を行うと、いつもの以下の画面が出ます。通常のツール開発では、ここにフォーム等を配置して行きますが、ここではその前に一工夫します。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/96cc10b53a57465ffc4869bb36af36f39f78e2f1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f35396262623761302d646562392d303131312d343464372d3330353664613731313461332e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F59bbb7a0-deb9-0111-44d7-3056da7114a3.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=00b0166051656a156d763e3b2590d6d9\" width=\"75%\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/59bbb7a0-deb9-0111-44d7-3056da7114a3.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F59bbb7a0-deb9-0111-44d7-3056da7114a3.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=99d11e7c7f48763d5703f3c4d7a7a0ec 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"ドックパネルの採用\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%89%E3%83%83%E3%82%AF%E3%83%91%E3%83%8D%E3%83%AB%E3%81%AE%E6%8E%A1%E7%94%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eドックパネルの採用\u003c/h2\u003e\n\n\u003cp\u003e様々な機能を有するウィンドウズアプリを開発する場合、ウィンドウ（フォーム）をいくつかの区画に分割し、その区画単位に各々の機能の入出力領域を割り振るのが一般的な作り方です。\u003cbr\u003e\n勿論、アプリによってはこの作り方で十分な場合をありますが、ここでは更に一歩進んだ「ドックパネル」を全面的に採用します。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"ドックパネルとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%89%E3%83%83%E3%82%AF%E3%83%91%E3%83%8D%E3%83%AB%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eドックパネルとは\u003c/h4\u003e\n\n\u003cp\u003eドックパネルとはパネルの一種で、そのパネル（以下、親パネル）に含まれる子パネル（以下、\u003cstrong\u003eドッキングウィンドウ\u003c/strong\u003e）の配置をユーザー自身が自由に決めることができる機能です。子パネルを親パネルの外に出すと子パネルは独立したフォームの様に振舞います。\u003c/p\u003e\n\n\u003cp\u003eVS（Visual Studio）自身がこの機能を使ったアプリケーションですので、VSをお使いの方は必ずこの機能を使っているはずです。しかし不思議な事に、このドックパネルを用いたアプリ開発はVS自身が持つ標準機能では実現できません。このため、前述の「WeifenLuo.WinFormsUI.Docking.dll」の取り込みが必要になります。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"補足他のdllに関して\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A3%9C%E8%B6%B3%E4%BB%96%E3%81%AEdll%E3%81%AB%E9%96%A2%E3%81%97%E3%81%A6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e（補足）他のDLLに関して\u003c/h4\u003e\n\n\u003cp\u003eドックパネルを実現するDLLは複数あります。本ツールでは「WeifenLuo.WinFormsUI.Docking.dll」を利用しましたが他のDLLとの性能比較はしてません。従ってこれが最適なDLLなのかは分かりません。単に最もポピュラーなDLLに思えたので、これを採用しました。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"ドックパネルを使える様にする手順\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%89%E3%83%83%E3%82%AF%E3%83%91%E3%83%8D%E3%83%AB%E3%82%92%E4%BD%BF%E3%81%88%E3%82%8B%E6%A7%98%E3%81%AB%E3%81%99%E3%82%8B%E6%89%8B%E9%A0%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eドックパネルを使える様にする手順\u003c/h2\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"既にdockingdllが取り込まれているvsの場合\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%97%A2%E3%81%ABdockingdll%E3%81%8C%E5%8F%96%E3%82%8A%E8%BE%BC%E3%81%BE%E3%82%8C%E3%81%A6%E3%81%84%E3%82%8Bvs%E3%81%AE%E5%A0%B4%E5%90%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e既に「Docking.dll」が取り込まれているVSの場合\u003c/h4\u003e\n\n\u003cp\u003e「ツール」⇒「ツールボックスアイテムの選択」を開き、右クリックで「アイテムの選択」を選択。\u003cbr\u003e\n下記のダイアログボックスが現れるので、「WeifenLuo.WinFormsUI.Docking.dll」を選択し「OK」。\u003cbr\u003e\n（初めてドックパネルを使う場合は、「WeifenLuo.WinFormsUI.Docking.dll」は現れませんので、キャンセルをして次項の “初めて「Docking.dll」を使うVSの場合” に進んで下さい）\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/82474ee9418ba922f1a7fc700dfe7e4ff5270bf4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f31613736363536332d363839362d653064312d663562652d3930346137626235336661372e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F1a766563-6896-e0d1-f5be-904a7bb53fa7.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=8f37cc1efe0005c22b127272fadffec7\" alt=\"WS2019_000674.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/1a766563-6896-e0d1-f5be-904a7bb53fa7.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F1a766563-6896-e0d1-f5be-904a7bb53fa7.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=af600064f92a525e93e3b8c781911f8e 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n「OK」ボタンを押しダイアログを閉じると、ツールボックスに「DockPanel」が出現します。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"初めてdockingdllを使うvsの場合\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%88%9D%E3%82%81%E3%81%A6dockingdll%E3%82%92%E4%BD%BF%E3%81%86vs%E3%81%AE%E5%A0%B4%E5%90%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e初めて「Docking.dll」を使うVSの場合\u003c/h4\u003e\n\n\u003cp\u003e「ツールボックス」を開き、右クリックで「アイテムの選択」を選択。\u003cbr\u003e\n上記のダイアログボックスが現れます。但し「WeifenLuo.WinFormsUI.Docking.dll」はそこにはありません。\u003cbr\u003e\n参照ボタンを押し、「C:\\R16BLACK\\Docking.dll」を指定すると、ダイアログに「Dock Panel」が現れますので、それを指定して「OK」。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"参考ドックパネルが使えるツールボックスと使えないツールボックス\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83%E3%83%89%E3%83%83%E3%82%AF%E3%83%91%E3%83%8D%E3%83%AB%E3%81%8C%E4%BD%BF%E3%81%88%E3%82%8B%E3%83%84%E3%83%BC%E3%83%AB%E3%83%9C%E3%83%83%E3%82%AF%E3%82%B9%E3%81%A8%E4%BD%BF%E3%81%88%E3%81%AA%E3%81%84%E3%83%84%E3%83%BC%E3%83%AB%E3%83%9C%E3%83%83%E3%82%AF%E3%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e(参考)ドックパネルが使えるツールボックスと使えないツールボックス\u003c/h4\u003e\n\n\u003cp\u003e右がドックパネルが使えるようになったツールボックスです。ドックパネルが使えるようになった後でアルファベット順にソートしていない場合は、追加された「Dock Panel」はリストの末尾に現れますので注意して下さい。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/08b5f57d77779349442b0fc8b2e581ea57325df9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f64636663303635652d353665382d633131662d653432392d3466613337343634313333352e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2Fdcfc065e-56e8-c11f-e429-4fa374641335.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=0548184c55df1930e4ab59b9d80d9173\" width=\"40%\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/dcfc065e-56e8-c11f-e429-4fa374641335.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2Fdcfc065e-56e8-c11f-e429-4fa374641335.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=1cf8ac3a3d474a0a7e6574fa1310bb80 1x\" loading=\"lazy\"\u003e\u003c/a\u003e　　\u003ca href=\"https://camo.qiitausercontent.com/c544784210327179ec43df2033eec7c3c26a8000/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f32613836663734312d383164342d353065622d623338342d3665636532663234396636342e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F2a86f741-81d4-50eb-b384-6ece2f249f64.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=253960d190714b7dac1f6c57c7e0d06d\" width=\"40%\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/2a86f741-81d4-50eb-b384-6ece2f249f64.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F2a86f741-81d4-50eb-b384-6ece2f249f64.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=708a8594c631e1883088262bb5f448fc 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"親パネルを含むフォームの生成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A6%AA%E3%83%91%E3%83%8D%E3%83%AB%E3%82%92%E5%90%AB%E3%82%80%E3%83%95%E3%82%A9%E3%83%BC%E3%83%A0%E3%81%AE%E7%94%9F%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e親パネルを含むフォームの生成\u003c/h2\u003e\n\n\u003cp\u003eツールボックスから必要なアイテムを選びフォームに貼り付けます。以下の表は貼り付けるアイテムの一覧です。メニューバーやツールバーも中身は空のままで構わないのでここで貼り付けておきます。\u003cbr\u003e\n各コントロールの名前は任意で構いませんが、VSが暗黙で決める名前（種別＋数字）は区別しずらいのでお勧めできません。\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e名前\u003c/th\u003e\n\u003cth\u003e種別\u003c/th\u003e\n\u003cth\u003e生成位置\u003c/th\u003e\n\u003cth\u003e補足説明\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003eMainForm\u003c/td\u003e\n\u003ctd\u003eForm\u003c/td\u003e\n\u003ctd\u003e（全体）\u003c/td\u003e\n\u003ctd\u003e最初から存在するので貼り付け不要\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eMenuBar\u003c/td\u003e\n\u003ctd\u003eMenuStrip\u003c/td\u003e\n\u003ctd\u003eFormの最上部\u003c/td\u003e\n\u003ctd\u003eWindowsアプリの標準的な要素\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eToolBar\u003c/td\u003e\n\u003ctd\u003eToolStrip\u003c/td\u003e\n\u003ctd\u003eMenuStripの下\u003c/td\u003e\n\u003ctd\u003eWindowsアプリの標準的な要素\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eStatusBar\u003c/td\u003e\n\u003ctd\u003eStatusStrip\u003c/td\u003e\n\u003ctd\u003eFormの最下部\u003c/td\u003e\n\u003ctd\u003eWindowsアプリの標準的な要素\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eMainDock\u003c/td\u003e\n\u003ctd\u003eDockPanel\u003c/td\u003e\n\u003ctd\u003eFormの残り領域全体\u003c/td\u003e\n\u003ctd\u003e配置には外部DLLが必要\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"ここまでの実行結果\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%93%E3%81%93%E3%81%BE%E3%81%A7%E3%81%AE%E5%AE%9F%E8%A1%8C%E7%B5%90%E6%9E%9C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eここまでの実行結果\u003c/h4\u003e\n\n\u003cp\u003eこの状態でビルド（及び実行）を行うと、以下に示す形状のアプリが起動します。\u003cbr\u003e\n見かけ上の形状は、C#によるウィンドウズアプリ構築の入門書等ででよく見かけますが、中央の灰色の広い領域が「ドッキングパネル」という特殊な領域になっている点が一般の入門書と異なります。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/db239a42ec02fcee5583f04b1d235282329ab91d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f32653238316537632d306165352d303466302d343832392d6136643336633731613933612e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F2e281e7c-0ae5-04f0-4829-a6d36c71a93a.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=3b0e3a86b4b0d286fc138f8805c3e01c\" alt=\"WS2019_000673.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/2e281e7c-0ae5-04f0-4829-a6d36c71a93a.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F2e281e7c-0ae5-04f0-4829-a6d36c71a93a.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=d08af0fb68d41b887ef7adc34e47fda1 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"ドッキングウィンドウ子パネルの配置\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%89%E3%83%83%E3%82%AD%E3%83%B3%E3%82%B0%E3%82%A6%E3%82%A3%E3%83%B3%E3%83%89%E3%82%A6%E5%AD%90%E3%83%91%E3%83%8D%E3%83%AB%E3%81%AE%E9%85%8D%E7%BD%AE\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eドッキングウィンドウ（子パネル）の配置\u003c/h2\u003e\n\n\u003cp\u003e今回用意するドッキングウィンドウ（子パネル）は下記の表の通りです。現時点では全く必要がなく、その存在理由も曖昧なものも含まれますが、ここでまとめて作ります。\u003cbr\u003e\n生成位置と占有サイズは仮の値です。後で使い勝手を見ながら微調整します。\u003cbr\u003e\nここでは詳細説明は割愛しますが、ドッキングウィンドウを追加したり削除する事も後で簡単に行う事ができます。\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e名前\u003c/th\u003e\n\u003cth\u003e生成位置と\u003cbr\u003e占有サイズ\u003c/th\u003e\n\u003cth style=\"text-align: center\"\u003e背景色\u003c/th\u003e\n\u003cth\u003e生成目的（ここでは目的は\u003cbr\u003eまだ意味を持ちません）\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003eMapWin\u003c/td\u003e\n\u003ctd\u003eMaindockの\u003cbr\u003e右側40%\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e薄桃\u003c/td\u003e\n\u003ctd\u003eメモリマップを表示予定\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eSrcWin\u003c/td\u003e\n\u003ctd\u003eMaindockの\u003cbr\u003e上部30%\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e薄黄\u003c/td\u003e\n\u003ctd\u003eソースプログラムのエディタを\u003cbr\u003e構築予定\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eCslWin\u003c/td\u003e\n\u003ctd\u003e上記2つの\u003cbr\u003e残り領域\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e灰色\u003c/td\u003e\n\u003ctd\u003eコンソール風の会話領域を\u003cbr\u003e構築予定\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eObJWin\u003c/td\u003e\n\u003ctd\u003eSrcWinの\u003cbr\u003e右側30%\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e薄緑\u003c/td\u003e\n\u003ctd\u003eRETROF-16のメモリダンプを\u003cbr\u003e表示予定\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eEmuWin\u003c/td\u003e\n\u003ctd\u003eObJWinの\u003cbr\u003e上部40％\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e濃紺\u003c/td\u003e\n\u003ctd\u003eRETROF-16のエミュレータを\u003cbr\u003e構築予定\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"子パネルの生成方法\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AD%90%E3%83%91%E3%83%8D%E3%83%AB%E3%81%AE%E7%94%9F%E6%88%90%E6%96%B9%E6%B3%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e子パネルの生成方法\u003c/h4\u003e\n\n\u003cp\u003eEmuWinを例として手順を紹介します。\u003c/p\u003e\n\n\u003cp\u003eこの手順内では、まだ各々の子パネルの生成位置と占有サイズはまだ未定となります。また子パネルそのものもビルド（及び実行）をしてもまだ現れません。\u003c/p\u003e\n\n\u003ch6\u003e\n\u003cspan id=\"手順1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%89%8B%E9%A0%861\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e手順1\u003c/h6\u003e\n\n\u003cp\u003e「プロジェクト」⇒「新しい項目の追加」、現れたダイアログの左ペインで「Windows Forms」を選択、右ペインで「継承フォーム（Windows フォーム）」を選択し、名前をEmuWinとして「追加」。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/cdae0f4990d83e5ff756b085d718099e678b640a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f63353937393630302d633265662d653363632d363464362d6633343836616164336132342e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2Fc5979600-c2ef-e3cc-64d6-f3486aad3a24.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=bbc8fbcc6a0b6256c162c5eec74cd875\" alt=\"WS2019_000693.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/c5979600-c2ef-e3cc-64d6-f3486aad3a24.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2Fc5979600-c2ef-e3cc-64d6-f3486aad3a24.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=81ccc392498d474582b8359c76762fb1 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch6\u003e\n\u003cspan id=\"手順2\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%89%8B%E9%A0%862\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e手順2\u003c/h6\u003e\n\n\u003cp\u003e継承ピッカーが現れますので、そのまま何もせずに「参照」をクリックし、現れたエクスプローラで、本記事冒頭でダウンロードした「WeifenLuo.WinFormsUI.dll」を指定。\u003c/p\u003e\n\n\u003ch6\u003e\n\u003cspan id=\"手順3\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%89%8B%E9%A0%863\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e手順3\u003c/h6\u003e\n\n\u003cp\u003e継承ピッカーの項目が増えます。「DockContent」を選択し「OK」。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/b1f7a9463b69e922ba23e4e291e017053bb9c278/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f64656165353663352d336530322d666238362d646430342d3761363064336539643065332e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2Fdeae56c5-3e02-fb86-dd04-7a60d3e9d0e3.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b592af4ef60435d1645eb82098008064\" alt=\"WS2019_000695.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/deae56c5-3e02-fb86-dd04-7a60d3e9d0e3.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2Fdeae56c5-3e02-fb86-dd04-7a60d3e9d0e3.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=a950d8db5e83eee55726bb2635bd7032 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch6\u003e\n\u003cspan id=\"手順4\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%89%8B%E9%A0%864\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e手順4\u003c/h6\u003e\n\n\u003cp\u003e作成した子パネルに対する、普通のフォームと同様のデザイナーが表示されます。\u003cbr\u003e\nここでは背景色のみ変更し、他は何もせずデザインを終了します。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/454f9450a4520fa33bf34e5d7c5e16f369b0fe24/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f64373932336338642d643939332d373236652d636430332d3661363230356132303865372e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2Fd7923c8d-d993-726e-cd03-6a6205a208e7.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5cfd47cef0208cf57e4584db99adddda\" alt=\"WS2019_000696.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/d7923c8d-d993-726e-cd03-6a6205a208e7.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2Fd7923c8d-d993-726e-cd03-6a6205a208e7.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c3c57bb548b8e65d667c452d14a046a6 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch6\u003e\n\u003cspan id=\"手順5\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%89%8B%E9%A0%865\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e手順5\u003c/h6\u003e\n\n\u003cp\u003e他の子パネルも同様に生成します。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"ソースコードの変更\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E5%A4%89%E6%9B%B4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eソースコードの変更\u003c/h4\u003e\n\n\u003cp\u003eこの時点でビルドしても何も変化はありません。生成した子パネルを表示させるには、直接ソースファイルに手を加える必要があります。手を加えるソースファイルはMainForm.csです。生成（new）と、表示位置、サイズを指定しているだけですので、特に解説は不要かと思います。\u003c/p\u003e\n\n\u003cp\u003e\u003cdetails\u003e\u003csummary\u003e\u003cfont color=\"Red\"\u003e\u003cstrong\u003eMainForm.csの全リスト\u003c/strong\u003e\u003c/font\u003e(クリックで展開）\u003c/summary\u003e\u003cdiv\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eMainForm.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Windows.Forms\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eWeifenLuo.WinFormsUI.Docking\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003enamespace\u003c/span\u003e \u003cspan class=\"nn\"\u003eRETROF\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003epartial\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eMainForm\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eForm\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003eMainForm\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eInitializeComponent\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e//-------------------------------------------\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e//フォームをMDIコンテナにする\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eIsMdiContainer\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e//ドッキングウィンドウ以外の領域（ドキュメント領域）をSDIドキュメントとする。\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eMainDock\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDocumentStyle\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eDocumentStyle\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDockingSdi\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \n\n            \u003cspan class=\"c1\"\u003e//子パネルの生成\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eCslWin\u003c/span\u003e \u003cspan class=\"n\"\u003eCslWin\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eCslWin\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eEmuWin\u003c/span\u003e \u003cspan class=\"n\"\u003eEmuWin\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eEmuWin\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eObjWin\u003c/span\u003e \u003cspan class=\"n\"\u003eObjWin\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eObjWin\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eSrcWin\u003c/span\u003e \u003cspan class=\"n\"\u003eSrcWin\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eSrcWin\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eMapWin\u003c/span\u003e \u003cspan class=\"n\"\u003eMapWin\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eMapWin\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e//子パネルの表示\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eMainDock\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDockRightPortion\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.4\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eMapWin\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eShow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eMainDock\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eDockState\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDockRight\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eMainDock\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDockTopPortion\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0.3\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eSrcWin\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eShow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eMainDock\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eDockState\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDockTop\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eCslWin\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eShow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eMainDock\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eDockState\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDocument\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eObjWin\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eShow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eSrcWin\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePane\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eDockAlignment\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eRight\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e0.3\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eEmuWin\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eShow\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eObjWin\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePane\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eDockAlignment\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTop\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e0.4\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e//-------------------------------------------\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e　\u003cbr\u003e\n\u003c/p\u003e\n\u003c/div\u003e\u003c/details\u003e\u003c/p\u003e\n\n\u003cp\u003eMainForm.csを変更後、ビルド（及び実行）を行うと、以下の外観を持つアプリが現れます。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/e54db0487fc13a20b46b12430142436777460658/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f37613637366333642d343034652d363462312d323438302d3338356137393036393039622e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F7a676c3d-404e-64b1-2480-385a7906909b.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=51d2a06fa55a8180d0b8946c04c40a86\" alt=\"aaa.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/7a676c3d-404e-64b1-2480-385a7906909b.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F7a676c3d-404e-64b1-2480-385a7906909b.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=44eb9bd6b067be50b0c01b8f10ef3094 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\n\n\u003ch2\u003e\n\u003cspan id=\"richtextboxの継承\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#richtextbox%E3%81%AE%E7%B6%99%E6%89%BF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eRichTextBoxの継承\u003c/h2\u003e\n\n\u003cp\u003e既存コントロールを単に継承するだけならば、その方法の詳細は「C# 既存コントロール 継承」等で検索すると多くの記事が見つかると思います。\u003cbr\u003e\nここでは標準コントロールであるRichTextBoxを単純に継承する方法ではなく、\u003cstrong\u003e具体的な意味を持つ独自コントロール\u003c/strong\u003eを作る方法を解説します。\u003cbr\u003e\n具体的には標準コントロールであるRichTextBoxを継承し、独自コントロールShellTextBoxを作る方法となります。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"まずはrichtextboxを単純継承しshelltextboxを作る\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%BE%E3%81%9A%E3%81%AFrichtextbox%E3%82%92%E5%8D%98%E7%B4%94%E7%B6%99%E6%89%BF%E3%81%97shelltextbox%E3%82%92%E4%BD%9C%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eまずはRichTextBoxを単純継承しShellTextBoxを作る\u003c/h4\u003e\n\n\u003cp\u003eこれは機械的な作業ですので手順の概略のみ以下に示します。\u003c/p\u003e\n\n\u003cp\u003e1.　[プロジェクト(P)]⇒[新しい項目の追加(W…)]\u003cbr\u003e\n2.　現れたダイアログで『ユーザーコントロール（Windowsフォーム）』を選択\u003cbr\u003e\n3.　『名前』を「ShellTextBox.cs」として『追加』\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/450e20c1f8ec99e09245f557507161bc2e3c89ae/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f39393061393463332d396631392d303833392d326531312d3035386366376565336664662e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F990a94c3-9f19-0839-2e11-058cf7ee3fdf.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=eabdf4f1fcef1462415a28aaee396a8e\" width=\"30%\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/990a94c3-9f19-0839-2e11-058cf7ee3fdf.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F990a94c3-9f19-0839-2e11-058cf7ee3fdf.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=7517fe9b8290af59cfd9cf0190b7e944 1x\" loading=\"lazy\"\u003e\u003c/a\u003e 　\u003cbr\u003e\n4. 上記の絵が出るので、この絵の上で右ボタンメニュー[コードの表示]\u003cbr\u003e\n5. 継承元がUserControlになっているので、これをRichTextBoxに変更\u003cbr\u003e\n6. ビルドするとShellTextBox.Designer.の27行目でエラーが出るのでこの行をコメントアウト(MS公認バグ？)\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/f4e4b351ac26d289d6374bc2e554a62dea178653/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f64623866303861382d373039612d383539352d333861312d3036303135646134653166342e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2Fdb8f08a8-709a-8595-38a1-06015da4e1f4.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=98ccb99ba5128b43ffedba27b954499a\" width=\"75%\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/db8f08a8-709a-8595-38a1-06015da4e1f4.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2Fdb8f08a8-709a-8595-38a1-06015da4e1f4.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=509db7a42440a8a766babd0906f2e393 1x\" loading=\"lazy\"\u003e\u003c/a\u003e \u003cbr\u003e\n7. 再度ビルドし、ツールボックスにShellTextBoxが現れることを確認\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/c41088feec66ad1413a08d1e95148a0a9a5890f0/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f31376436613862332d336536382d633134662d636538392d6535376564623164343265362e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F17d6a8b3-3e68-c14f-ce89-e57edb1d42e6.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5fb93cdbedeba655c30d612f1ae6d184\" width=\"40%\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/17d6a8b3-3e68-c14f-ce89-e57edb1d42e6.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F17d6a8b3-3e68-c14f-ce89-e57edb1d42e6.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=a9dd1a0eab4878f4a33ee65875ec6502 1x\" loading=\"lazy\"\u003e\u003c/a\u003e \u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"shelltextboxを単純継承した状態で使ってみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#shelltextbox%E3%82%92%E5%8D%98%E7%B4%94%E7%B6%99%E6%89%BF%E3%81%97%E3%81%9F%E7%8A%B6%E6%85%8B%E3%81%A7%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eShellTextBoxを単純継承した状態で使ってみる\u003c/h4\u003e\n\n\u003cp\u003eツールボックスに現れたShellTextBoxをデザイナーを用いてCslWinの全面（DockプロパティをFillに設定）に名前を\u003cstrong\u003eShell\u003c/strong\u003eとして貼り付け、ビルド（及び実行）します。\u003c/p\u003e\n\n\u003ch6\u003e\n\u003cspan id=\"shellと言う名前について\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#shell%E3%81%A8%E8%A8%80%E3%81%86%E5%90%8D%E5%89%8D%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eShellと言う名前について\u003c/h6\u003e\n\n\u003cp\u003eプログラム的には、この名前自体は任意で構いませんが、ここでは以降の解説の都合上\u003cstrong\u003eShell\u003c/strong\u003eとして下さい。デザイナーは名前を\u003cstrong\u003eshellTextBox\u003c/strong\u003eを暗黙で設定しますから、これを\u003cstrong\u003eShell\u003c/strong\u003eに変更が必要です。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/b8ea490978d2a25e91fdcc3d0a26360814b019af/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f35643931396161342d353861352d356139382d333031352d3938346335303261653536652e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F5d919aa4-58a5-5a98-3015-984c502ae56e.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c3c1366275ef255349318f6dee791d44\" width=\"75%\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/5d919aa4-58a5-5a98-3015-984c502ae56e.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F5d919aa4-58a5-5a98-3015-984c502ae56e.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ea143d7c2569ce85b4181d0be3a2e317 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch6\u003e\n\u003cspan id=\"この時点での実行結果\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%93%E3%81%AE%E6%99%82%E7%82%B9%E3%81%A7%E3%81%AE%E5%AE%9F%E8%A1%8C%E7%B5%90%E6%9E%9C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eこの時点での実行結果\u003c/h6\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/50e1f0435a5c1a81bb0b75255c623d9f9a4f5f8f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f63343965313339652d653534342d396436332d326537622d6339653135376335383531612e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2Fc49e139e-e544-9d63-2e7b-c9e157c5851a.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=cffbabea499d40efe29ff65baa817ba2\" alt=\"WS2019_000694.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/c49e139e-e544-9d63-2e7b-c9e157c5851a.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2Fc49e139e-e544-9d63-2e7b-c9e157c5851a.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=dd0ca9469f66a480483310de33c65b79 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e継承したとは言え、機能はRichTextBoxのままですから当然、RichTextBoxを張り付けた場合と何ら変わりません。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"shelltextbox独自の処理を実装する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#shelltextbox%E7%8B%AC%E8%87%AA%E3%81%AE%E5%87%A6%E7%90%86%E3%82%92%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eShellTextBox独自の処理を実装する\u003c/h4\u003e\n\n\u003cp\u003eShellTextBox.csに独自コードを書き込みます。継承元のRichTextBoxに加わる主な機能は以下の通りです。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e任意の文字列からなるプロンプトの表示\u003c/li\u003e\n\u003cli\u003eプロンプト領域を侵すカーソル移動（BSキーや左矢印キー）を制限\u003c/li\u003e\n\u003cli\u003eプロンプトに対する「文字列＋Enterキー」入力に対する独自イベントの発生\u003c/li\u003e\n\u003cli\u003eプロンプト、入力文字列、出力文字列の色分け機能の実装\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e具体的なコードは以下となります。コードの説明はコード中にコメントとして記載してますので、それを参照して下さい。\u003c/p\u003e\n\n\u003cp\u003e\u003cdetails\u003e\u003csummary\u003e\u003cfont color=\"Red\"\u003e\u003cstrong\u003eShellTextBox.csの全リスト\u003c/strong\u003e\u003c/font\u003e(クリックで展開）\u003c/summary\u003e\u003cdiv\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eShellTextBox.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Windows.Forms\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Drawing\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003enamespace\u003c/span\u003e \u003cspan class=\"nn\"\u003eRETROF\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e///補助クラス、EventArgsクラスを継承するためだけに存在\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eShellEventArgs\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eSystem\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEventArgs\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eCommand\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eResult\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e///独自クラス\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003epartial\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eShellTextBox\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eRichTextBox\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e///プロパティ\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003ePrompt\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"RETROF\u0026gt;\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eLFCR\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\\r\\n\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"kt\"\u003echar\u003c/span\u003e \u003cspan class=\"n\"\u003eCR\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"sc\"\u003e'\\n'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003econst\u003c/span\u003e \u003cspan class=\"kt\"\u003echar\u003c/span\u003e \u003cspan class=\"n\"\u003eCOUTIONCHER\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"sc\"\u003e'!'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eColor\u003c/span\u003e \u003cspan class=\"n\"\u003eResultColor\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eColor\u003c/span\u003e \u003cspan class=\"n\"\u003ePromptColor\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eColor\u003c/span\u003e \u003cspan class=\"n\"\u003eCommandColor\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"n\"\u003eColor\u003c/span\u003e \u003cspan class=\"n\"\u003eCoutionColor\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e///デリゲートの宣言　（独自に継承したShellEventArgs型の引数を伴う）\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003edelegate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eShellEventHandler\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eobject\u003c/span\u003e \u003cspan class=\"n\"\u003esender\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eShellEventArgs\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e///上記デリゲートのインスタンスを（イベント型として）定義\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eevent\u003c/span\u003e \u003cspan class=\"n\"\u003eShellEventHandler\u003c/span\u003e \u003cspan class=\"n\"\u003eKeyEnter\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e///本クラスのコンストラクタ\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nf\"\u003eShellTextBox\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e//RichTextBoxのアジア圏のフォント化け（公認バグ？）の抑制\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eLanguageOption\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eRichTextBoxLanguageOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUIFonts\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ePrompt\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e//仮設定、正式な設定はInitialize()で行う\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e///初期化\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eInitialize\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eprompt\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eColor\u003c/span\u003e \u003cspan class=\"n\"\u003eprompt_color\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eColor\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eColor\u003c/span\u003e \u003cspan class=\"n\"\u003ecommand_color\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eColor\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"n\"\u003eColor\u003c/span\u003e \u003cspan class=\"n\"\u003ecoution_color\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eColor\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ePrompt\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eprompt\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ePromptColor\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eprompt_color\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eColor\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e?\u003c/span\u003e \u003cspan class=\"n\"\u003eprompt_color\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eSelectionColor\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eCommandColor\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecommand_color\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eColor\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e?\u003c/span\u003e \u003cspan class=\"n\"\u003ecommand_color\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eSelectionColor\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eCoutionColor\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ecoution_color\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eColor\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e?\u003c/span\u003e \u003cspan class=\"n\"\u003ecoution_color\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eColor\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eRed\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eResultColor\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eSelectionColor\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eShowPrompt\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e///MyEnterが空（==null）ではない事を確認し、「Enterキーが押されたイベント」を発行する\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprotected\u003c/span\u003e \u003cspan class=\"k\"\u003evirtual\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eShellEventArgs\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e//KeyEnter(this, e);　//確認しないならこちらで十分\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eKeyEnter\u003c/span\u003e\u003cspan class=\"p\"\u003e?.\u003c/span\u003e\u003cspan class=\"nf\"\u003eInvoke\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e///（オーバーライド）マウスクリックによるカーソル移動を強制的に末尾にする\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprotected\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnMouseUp\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eMouseEventArgs\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ebase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eOnMouseUp\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eSelectionStart\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eMaxValue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e//領域末尾を超す値の指定は領域末尾に移動する\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e///（オーバーライド）矢印キー、BSキー、Enterキーの挙動変更\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprotected\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnKeyDown\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eKeyEventArgs\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e//カーソル上下移動の無効化\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eKeyCode\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"n\"\u003eKeys\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUp\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eKeyCode\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"n\"\u003eKeys\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDown\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eHandled\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e//プロンプト文字列領域を侵すBackSpace(もしくはカーソル左移動)の無効化\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eKeyCode\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"n\"\u003eKeys\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLeft\u003c/span\u003e \u003cspan class=\"p\"\u003e||\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eKeyCode\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"n\"\u003eKeys\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eBack\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetColumn\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003ePrompt\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eHandled\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eKeyCode\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"n\"\u003eKeys\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eEnter\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e//Enterキー以外なら終わり\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e//以下はEnterキーが押下された場合\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eShellEventArgs\u003c/span\u003e \u003cspan class=\"n\"\u003eee\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eShellEventArgs\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCommand\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003eGetCommand\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\u003cspan class=\"err\"\u003e　　　\u003c/span\u003e\u003cspan class=\"c1\"\u003e//コマンド（入力文字列）をShellEventArgsに設定\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eOnConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eee\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\u003cspan class=\"err\"\u003e　　　\u003c/span\u003e            \u003cspan class=\"c1\"\u003e//実行　　　\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eSelectionColor\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eResultColor\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e   \u003cspan class=\"c1\"\u003e//実行結果の表示色を設定\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e//表示文字列の先頭が「！」なら、その一文字を削除し、表示色をCoutionColorに変更\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eResult\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003eee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eResult\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003eee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eResult\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"n\"\u003eCOUTIONCHER\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eResult\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eResult\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eRemove\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eSelectionColor\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCoutionColor\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e//実行結果の表示\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eAppendText\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eLFCR\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eResult\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eLFCR\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eShowPrompt\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eHandled\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e///（視認性向上目的のprivateな補助関数）プロンプトを除く現在行の取り出し\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"nf\"\u003eGetCommand\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eText\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSubstring\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eText\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"nf\"\u003eGetColumn\u003c/span\u003e\u003cspan class=\"p\"\u003e()).\u003c/span\u003e\u003cspan class=\"nf\"\u003eSubstring\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ePrompt\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e///（視認性向上目的のprivateな補助関数）現在のカーソルのカラム位置を返す\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"nf\"\u003eGetColumn\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eSelectionStart\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eText\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eLastIndexOf\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eCR\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e///（視認性向上目的のprivateな補助関数）プロンプトを指定色で表示する\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eShowPrompt\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eSelectionColor\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ePromptColor\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003eAppendText\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ePrompt\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eSelectionColor\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCommandColor\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e　\u003cbr\u003e\n\u003c/p\u003e\n\u003c/div\u003e\u003c/details\u003e\u003c/p\u003e\n\n\u003cp\u003eこの時点でビルド（及び実行）を行うと、RichTextBoxとはかなり異なる動きをする事を確認できると思います。但しこの時点ではまだプロンプトも表示されませんし、何を入力しても何も表示されません。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"shelltextboxが発する独自イベントを受け取る\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#shelltextbox%E3%81%8C%E7%99%BA%E3%81%99%E3%82%8B%E7%8B%AC%E8%87%AA%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88%E3%82%92%E5%8F%97%E3%81%91%E5%8F%96%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eShellTextBoxが発する独自イベントを受け取る\u003c/h4\u003e\n\n\u003cp\u003eShellTextBoxがEnterキーを押下された時に発生するイベントは誰が（どのクラスもインスタンスが）受け取っても構いません。一般的にはShellTextBoxを生成したCslWin.csが受け取る事が多いですが、ここではMainForm.csにコードを追加し、MainForm.csが受け取る例を紹介します。\u003c/p\u003e\n\n\u003ch6\u003e\n\u003cspan id=\"手順１\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%89%8B%E9%A0%86%EF%BC%91\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e手順１.\u003c/h6\u003e\n\n\u003cp\u003eShellTextBoxを利用には、MainForm.csに下記の一行の追加が必要です。最初のプロンプトはこの関数が呼ばれた時に表示されます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eMainForm.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e \u003cspan class=\"n\"\u003eCslWin\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eShell\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eInitialize\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"PROMPT\u0026gt;\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eColor\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDarkViolet\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eColor\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eGreen\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eColor\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eRed\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e引数の意味は以下の通りです。\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003cth\u003e型\u003c/th\u003e\n\u003cth\u003e意味\u003c/th\u003e\n\u003cth\u003e省略の可否\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e第1引数\u003c/td\u003e\n\u003ctd\u003eString\u003c/td\u003e\n\u003ctd\u003eプロンプト文字列\u003c/td\u003e\n\u003ctd\u003e省略不可\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e第2引数\u003c/td\u003e\n\u003ctd\u003eColor\u003c/td\u003e\n\u003ctd\u003eプロンプトの色\u003c/td\u003e\n\u003ctd\u003e省略時はTextCororプロパティの色\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e第3引数\u003c/td\u003e\n\u003ctd\u003eColor\u003c/td\u003e\n\u003ctd\u003e入力文字列の色\u003c/td\u003e\n\u003ctd\u003e省略時はTextCororプロパティの色\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e第4引数\u003c/td\u003e\n\u003ctd\u003eColor\u003c/td\u003e\n\u003ctd\u003e警告色\u003c/td\u003e\n\u003ctd\u003e省略時はColor.Red（赤色）\u003cbr\u003e警告色の意味は\u003cstrong\u003e手順2\u003c/strong\u003eを参照\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003e上記1行を追記すると、\"CslWin.Shellはアクセスできない保護レベルになっています\"のエラーが発生しますので、ClsWin.Designer.csの末尾に自動生成されたShellの定義をprivateからpublicに変更します。これでプロンプトが出現し、それに対してコマンドを入力できる事を確認でます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eClsWin.Designer.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e \u003cspan class=\"c1\"\u003e// private ShellTextBox Shell;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"n\"\u003eShellTextBox\u003c/span\u003e \u003cspan class=\"n\"\u003eShell\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch6\u003e\n\u003cspan id=\"手順２\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%89%8B%E9%A0%86%EF%BC%92\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e手順２.\u003c/h6\u003e\n\n\u003cp\u003eShellTextBoxが発する独自イベントを受け取る宣言と、そのイベントが発生した時の処理をMainForm.csの末尾に追加します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eMainForm.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e///Shellに入力があれば、本クラス内の OnShell() をコールする様に設定\u003c/span\u003e\n\u003cspan class=\"n\"\u003eCslWin\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eShell\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eKeyEnter\u003c/span\u003e \u003cspan class=\"p\"\u003e+=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eShellTextBox\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eShellEventHandler\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eOnShell\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e///Enterキーダウン時に発生する独自イベントの処理\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e///現時点では何を入力しても、入力文字列＋\" : Unknown command\"と表示する\u003c/span\u003e\n\u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnShell\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eobject\u003c/span\u003e \u003cspan class=\"n\"\u003esender\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eShellEventArgs\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eResult\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCommand\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"s\"\u003e\" : Unknown command\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eOnShell()はShellTextBox内でEnterキーを押下した時に呼ばれます。この時にe.CommandにプロンプトからEnterキーまでに入力したコマンド文字列（プロンプトとEnterキーは含まない、空文の場合もある）が格納されています。またOnShell()内で任意の文字列をe.Resultに設定するとそれがOnShell()終了後にShellTextBoxに表示されます。\u003c/p\u003e\n\n\u003cp\u003e上記のOnShell()は単に入力文字列に、\" : Unknown command\"を付加したものを出力するだけの処理を行っています。出力文字の色はTextColorプロパティと同色になりますが、出力文字列の先頭文字が\"!\"の場合は、Initialize()の第4引数で指定した警告色で\"!\"を除く文字列が表示されます。\u003c/p\u003e\n\n\u003ch6\u003e\n\u003cspan id=\"shelleventargsのメンバ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#shelleventargs%E3%81%AE%E3%83%A1%E3%83%B3%E3%83%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eShellEventArgsのメンバ\u003c/h6\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eメンバ名\u003c/th\u003e\n\u003cth\u003e型\u003c/th\u003e\n\u003cth\u003e意味\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003ecommand\u003c/td\u003e\n\u003ctd\u003eString\u003c/td\u003e\n\u003ctd\u003e入力された文字列がセットされる\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eresult\u003c/td\u003e\n\u003ctd\u003eString\u003c/td\u003e\n\u003ctd\u003e出力したい文字列をセットする\u003cbr\u003e先頭文字が\"!\"の場合は文字色が変わる\u003cbr\u003e（先頭文字の\"!\"は表示されない）\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eその他\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e継承元であるSystem.EventArgsと同じ\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"終わりに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B5%82%E3%82%8F%E3%82%8A%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e終わりに\u003c/h2\u003e\n\n\u003cp\u003e以上で、本記事冒頭で紹介した「何を入力してもUnKnownは返るアプリ」の完成です。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/238012c7b77aad1ba7304e5e60163e723615ddfc/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3533353930312f37336631393639632d323436372d383536612d363837622d3466386338363734666332392e6a706567\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F73f1969c-2467-856a-687b-4f8c8674fc29.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=dd82171a4cad2f298f836c1e8209e5e8\" alt=\"WS2019_000697.jpg\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/535901/73f1969c-2467-856a-687b-4f8c8674fc29.jpeg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F535901%2F73f1969c-2467-856a-687b-4f8c8674fc29.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=571c9495d861a0600479e0c1c73a856e 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n","createdAt":"2020-09-10T05:13:41Z","elapsedYearsFromLastModifiedAt":0,"encryptedId":"/uS8BO47Z0nMo0r4XGrJDi/+SIQavTVvBA==--si1rF9ePhrn/vTEE--yipsVVQl4zXI0izoapnfZQ==","isBanned":false,"isDeprecated":false,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2020-12-05T20:42:16Z","likesCount":3,"linkUrl":"https://qiita.com/RETROF/items/66a9694acc4dd625d003","organization":null,"originalId":1298032,"stockedCount":6,"title":"RETROF-16統合開発環境の製作（１）DockingWindowの実現とRichTextBoxの継承　","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003eはじめに\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%9C%AC%E8%A8%98%E4%BA%8B%E3%81%AE%E5%86%85%E5%AE%B9\"\u003e本記事の内容\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%E7%AD%89\"\u003e開発環境等\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cli\u003e\n\u003ca href=\"#%E4%B8%8B%E6%BA%96%E5%82%99\"\u003e下準備\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%9C%AC%E3%82%A2%E3%83%97%E3%83%AA%E3%81%AE%E9%96%8B%E7%99%BA%E7%94%A8%E3%81%AE%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E4%BD%9C%E6%88%90\"\u003e本アプリの開発用のフォルダ作成\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%BF%85%E8%A6%81%E3%81%AAdll\"\u003e必要なDLL\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90\"\u003eプロジェクトの作成\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\n\n\u003cli\u003e\n\u003ca href=\"#%E3%83%89%E3%83%83%E3%82%AF%E3%83%91%E3%83%8D%E3%83%AB%E3%81%AE%E6%8E%A1%E7%94%A8\"\u003eドックパネルの採用\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%89%E3%83%83%E3%82%AF%E3%83%91%E3%83%8D%E3%83%AB%E3%81%A8%E3%81%AF\"\u003eドックパネルとは\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%A3%9C%E8%B6%B3%E4%BB%96%E3%81%AEdll%E3%81%AB%E9%96%A2%E3%81%97%E3%81%A6\"\u003e（補足）他のDLLに関して\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\n\n\u003cli\u003e\n\u003ca href=\"#%E3%83%89%E3%83%83%E3%82%AF%E3%83%91%E3%83%8D%E3%83%AB%E3%82%92%E4%BD%BF%E3%81%88%E3%82%8B%E6%A7%98%E3%81%AB%E3%81%99%E3%82%8B%E6%89%8B%E9%A0%86\"\u003eドックパネルを使える様にする手順\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%97%A2%E3%81%ABdockingdll%E3%81%8C%E5%8F%96%E3%82%8A%E8%BE%BC%E3%81%BE%E3%82%8C%E3%81%A6%E3%81%84%E3%82%8Bvs%E3%81%AE%E5%A0%B4%E5%90%88\"\u003e既に「Docking.dll」が取り込まれているVSの場合\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%88%9D%E3%82%81%E3%81%A6dockingdll%E3%82%92%E4%BD%BF%E3%81%86vs%E3%81%AE%E5%A0%B4%E5%90%88\"\u003e初めて「Docking.dll」を使うVSの場合\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%8F%82%E8%80%83%E3%83%89%E3%83%83%E3%82%AF%E3%83%91%E3%83%8D%E3%83%AB%E3%81%8C%E4%BD%BF%E3%81%88%E3%82%8B%E3%83%84%E3%83%BC%E3%83%AB%E3%83%9C%E3%83%83%E3%82%AF%E3%82%B9%E3%81%A8%E4%BD%BF%E3%81%88%E3%81%AA%E3%81%84%E3%83%84%E3%83%BC%E3%83%AB%E3%83%9C%E3%83%83%E3%82%AF%E3%82%B9\"\u003e(参考)ドックパネルが使えるツールボックスと使えないツールボックス\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\n\n\u003cli\u003e\n\u003ca href=\"#%E8%A6%AA%E3%83%91%E3%83%8D%E3%83%AB%E3%82%92%E5%90%AB%E3%82%80%E3%83%95%E3%82%A9%E3%83%BC%E3%83%A0%E3%81%AE%E7%94%9F%E6%88%90\"\u003e親パネルを含むフォームの生成\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%93%E3%81%93%E3%81%BE%E3%81%A7%E3%81%AE%E5%AE%9F%E8%A1%8C%E7%B5%90%E6%9E%9C\"\u003eここまでの実行結果\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\n\n\u003cli\u003e\n\u003ca href=\"#%E3%83%89%E3%83%83%E3%82%AD%E3%83%B3%E3%82%B0%E3%82%A6%E3%82%A3%E3%83%B3%E3%83%89%E3%82%A6%E5%AD%90%E3%83%91%E3%83%8D%E3%83%AB%E3%81%AE%E9%85%8D%E7%BD%AE\"\u003eドッキングウィンドウ（子パネル）の配置\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%AD%90%E3%83%91%E3%83%8D%E3%83%AB%E3%81%AE%E7%94%9F%E6%88%90%E6%96%B9%E6%B3%95\"\u003e子パネルの生成方法\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%89%8B%E9%A0%861\"\u003e手順1\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%89%8B%E9%A0%862\"\u003e手順2\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%89%8B%E9%A0%863\"\u003e手順3\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%89%8B%E9%A0%864\"\u003e手順4\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%89%8B%E9%A0%865\"\u003e手順5\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E5%A4%89%E6%9B%B4\"\u003eソースコードの変更\u003c/a\u003e\n\u003c/li\u003e\n\n\n\n\n\u003cli\u003e\n\u003ca href=\"#richtextbox%E3%81%AE%E7%B6%99%E6%89%BF\"\u003eRichTextBoxの継承\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%BE%E3%81%9A%E3%81%AFrichtextbox%E3%82%92%E5%8D%98%E7%B4%94%E7%B6%99%E6%89%BF%E3%81%97shelltextbox%E3%82%92%E4%BD%9C%E3%82%8B\"\u003eまずはRichTextBoxを単純継承しShellTextBoxを作る\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#shelltextbox%E3%82%92%E5%8D%98%E7%B4%94%E7%B6%99%E6%89%BF%E3%81%97%E3%81%9F%E7%8A%B6%E6%85%8B%E3%81%A7%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%8B\"\u003eShellTextBoxを単純継承した状態で使ってみる\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#shell%E3%81%A8%E8%A8%80%E3%81%86%E5%90%8D%E5%89%8D%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\"\u003eShellと言う名前について\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%93%E3%81%AE%E6%99%82%E7%82%B9%E3%81%A7%E3%81%AE%E5%AE%9F%E8%A1%8C%E7%B5%90%E6%9E%9C\"\u003eこの時点での実行結果\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#shelltextbox%E7%8B%AC%E8%87%AA%E3%81%AE%E5%87%A6%E7%90%86%E3%82%92%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B\"\u003eShellTextBox独自の処理を実装する\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#shelltextbox%E3%81%8C%E7%99%BA%E3%81%99%E3%82%8B%E7%8B%AC%E8%87%AA%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88%E3%82%92%E5%8F%97%E3%81%91%E5%8F%96%E3%82%8B\"\u003eShellTextBoxが発する独自イベントを受け取る\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%89%8B%E9%A0%86%EF%BC%91\"\u003e手順１.\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%89%8B%E9%A0%86%EF%BC%92\"\u003e手順２.\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#shelleventargs%E3%81%AE%E3%83%A1%E3%83%B3%E3%83%90\"\u003eShellEventArgsのメンバ\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\n\n\n\n\n\n\u003cli\u003e\n\u003ca href=\"#%E7%B5%82%E3%82%8F%E3%82%8A%E3%81%AB\"\u003e終わりに\u003c/a\u003e\n\u003c/li\u003e\n\n","totalPv":1564,"uuid":"66a9694acc4dd625d003","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"E+uM2yrvei69KxYRXXbNZypfi6L3--R5ARyUyGO36lJU9H--ZSGtatPRfJcvsSAQP6Rb/w==","originalId":535901,"description":"Twitterのduo6750を参照してください。","facebookUrl":null,"githubUrl":null,"isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"GATARO SIDO","profileImageUrl":"https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/535901/a478dcbc679f29c90b2c34aab03fdc04d18bed8d/x_large.png?1580685015","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fs3-ap-northeast-1.amazonaws.com%2Fqiita-image-store%2F0%2F535901%2Fa478dcbc679f29c90b2c34aab03fdc04d18bed8d%2Fx_large.png%3F1580685015?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=a1eff412bcf383be17e32361b2375772","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fs3-ap-northeast-1.amazonaws.com%2Fqiita-image-store%2F0%2F535901%2Fa478dcbc679f29c90b2c34aab03fdc04d18bed8d%2Fx_large.png%3F1580685015?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=be8a86c2fedbc23da5383fdf10f804ba","urlName":"RETROF","websiteUrl":"","twitterUrl":null,"twitterUrlName":null,"revealedOrganizations":{"edges":[]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":".NET","urlName":".net"},{"name":"ドッキングウィンドウ","urlName":"%e3%83%89%e3%83%83%e3%82%ad%e3%83%b3%e3%82%b0%e3%82%a6%e3%82%a3%e3%83%b3%e3%83%89%e3%82%a6"},{"name":"コントロール継承","urlName":"%e3%82%b3%e3%83%b3%e3%83%88%e3%83%ad%e3%83%bc%e3%83%ab%e7%b6%99%e6%89%bf"},{"name":"独自イベント","urlName":"%e7%8b%ac%e8%87%aa%e3%82%a4%e3%83%99%e3%83%b3%e3%83%88"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
