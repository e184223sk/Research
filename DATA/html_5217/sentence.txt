More than 3 years have passed since last update.C# 7 になってからローカル関数が導入されて、場合によってはラムダ式より早いらしいという話を聞きました。
最近ベンチマークおじさんをやっているので、早速ベンチマークしてみたいと思います。.NET Core 2.1 で String.Split は早くなっているか？これ、Span&lt;T&gt; がそもそも実装されてるんだからそれ使えばいいじゃん、と思ったので、それを使ってベンチマークします。前回と同じく "hoge,fuga,moge" という文字列から "hoge" と "moge" を取得します。Span&lt;T&gt; を使う際、前回のオレオレSpan と同じ方法でローカル関数を使った方法と、ref でプライベート関数に必要な値を渡す方法とで、比較してみました。誤差範囲内ですかね。一応ローカル関数を使っても処理が遅くなることはない、ということが分かった気がします。
Split おせぇ。。自分で Split 作ったほうが早くね？ということで作ってみた早くなりましたとさ。おわり。


