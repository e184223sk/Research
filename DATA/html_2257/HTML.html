<!DOCTYPE html><html><head><meta charset="utf-8" /><title>【Unity(C#),PUN2】VR空間でアバター同士のリアルタイム通信実装 - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/OKsaiyowa/items/9dc5aa796e6d456dee9d" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="iboBLOYbMYCbNJbDIowhJuaqtvJ1l+pAH6mqYZJ9sKEmp9dCA5VGfgW19AGRWNSCXm9ymci4Iff6OEgYkv2qfA==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta content="@okprogramming" name="twitter:creator" /><meta property="og:type" content="article"><meta property="og:title" content="【Unity(C#),PUN2】VR空間でアバター同士のリアルタイム通信実装 - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND00NENRVlc1cGRIa29ReU1wTEZCVlRqTGpnSkZXVXVlcHV1bVdrLU9CcC1PQ291T0RrT09Ddi1PRHZPV1FqT1dqcS1PQnJ1T0RxdU9Db3VPRHEtT0N2LU9DcE9PRG9PbUFtdVNfb2VXdW4taWpoUSZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTU0JnR4dC1jbGlwPWVsbGlwc2lzJnR4dC1hbGlnbj1jZW50ZXIlMkNtaWRkbGUmcz03NjhkYjQ1MjQ0Mjk5N2JkZjkxN2RkYTdjNjc1N2NlOA&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRTlMYzJGcGVXOTNZUSZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPTdjYzAxMTRmZDliOTFlMzkzMGY3MTUyY2QzMmJjNWJi&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=a1e46c9305eeb8ece0207de7a8a73581"><meta property="og:description" content="

PUN2(Photon Unity Networking2)とは？

簡単に言うとマルチプレイ楽ちん実装ネットワークライブラリです。


開発環境

PUN2(v2.16)
Unity(2018.2.3f1)
Unity Coll..."><meta content="https://qiita.com/OKsaiyowa/items/9dc5aa796e6d456dee9d" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,Unity,VR,PhotonCloud,PUN2" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 1nzh4zz 38fzdi helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-1nzh4zz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 32px;background-color:#FBE69E;color:rgba(0,0,0,0.87);line-height:1.5;font-weight:600;}@media (max-width:770px){.css-1nzh4zz{padding:16px;}}.css-38fzdi{color:#CA832A;margin-right:4px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-95ada462-b9b0-4a39-9243-4458fc86c5cb"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2FOKsaiyowa%2Fitems%2F9dc5aa796e6d456dee9d">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2FOKsaiyowa%2Fitems%2F9dc5aa796e6d456dee9d">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-95ada462-b9b0-4a39-9243-4458fc86c5cb">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2019-12-12T12:51:38.000+09:00","dateModified":"2019-12-12T12:55:28.000+09:00","headline":"【Unity(C#),PUN2】VR空間でアバター同士のリアルタイム通信実装","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND00NENRVlc1cGRIa29ReU1wTEZCVlRqTGpnSkZXVXVlcHV1bVdrLU9CcC1PQ291T0RrT09Ddi1PRHZPV1FqT1dqcS1PQnJ1T0RxdU9Db3VPRHEtT0N2LU9DcE9PRG9PbUFtdVNfb2VXdW4taWpoUSZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTU0JnR4dC1jbGlwPWVsbGlwc2lzJnR4dC1hbGlnbj1jZW50ZXIlMkNtaWRkbGUmcz03NjhkYjQ1MjQ0Mjk5N2JkZjkxN2RkYTdjNjc1N2NlOA\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRTlMYzJGcGVXOTNZUSZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPTdjYzAxMTRmZDliOTFlMzkzMGY3MTUyY2QzMmJjNWJi\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=a1e46c9305eeb8ece0207de7a8a73581","mainEntityOfPage":"https://qiita.com/OKsaiyowa/items/9dc5aa796e6d456dee9d","author":{"@type":"Person","address":"","email":null,"identifier":"OKsaiyowa","name":"OKsaiyowa","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fs3-ap-northeast-1.amazonaws.com%2Fqiita-image-store%2F0%2F244071%2Fbae8dc3d07d0e3470f1689dbf348860d57405186%2Flarge.png%3F1590752982?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=1db3c0b8d02da57022d0bbed7e449028","url":"https://qiita.com/OKsaiyowa","description":"備忘録として学んだことを記録します。 あやふやな箇所が多いですが、そんなときはビシッと指摘いただけますと幸いです。(特に明示されていない場合、記事中のソースコードはパブリックドメインです。)","memberOf":[{"@type":"Organization","address":"オンライン@Slack","legalName":"Unityゲーム開発者ギルド","image":"https://s3-ap-northeast-1.amazonaws.com/qiita-organization-image/5e3ba3bb442371003e6b5d4618ef627b9b478357/original.jpg?1570216541","logo":"https://s3-ap-northeast-1.amazonaws.com/qiita-organization-image/f7eb993765ddcdb2c5e6890556c43ea3de8fbfb7/original.jpg?1570215690","identifier":"unity-game-dev-guild","description":"趣味・仕事問わずUnityでゲームを作っている開発者のみで構成されるオンラインコミュニティです。Unityでゲームを開発・運用するにあたって必要なあらゆる知見を共有することを目的とします。"}]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://increments.connpass.com/event/211948/">Qiita創業者海野氏登壇！Qiita エンジニアフェスタ 2021 Online Meetupを9/9(木)に開催</a><a target="_blank" id="header_text_message_2" href="https://increments.connpass.com/event/211948/">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"OKsaiyowa","type":"items","id":"9dc5aa796e6d456dee9d"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"Qiita創業者海野氏登壇！Qiita エンジニアフェスタ 2021 Online Meetupを9/9(木)に開催","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"OKsaiyowa","type":"items","id":"9dc5aa796e6d456dee9d"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":1,"pos_id":"header_text_message_1","message":"Qiita創業者海野氏登壇！Qiita エンジニアフェスタ 2021 Online Meetupを9/9(木)に開催","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"OKsaiyowa","type":"items","id":"9dc5aa796e6d456dee9d"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":1,"pos_id":"header_text_message_2","message":"Qiita創業者海野氏登壇！Qiita エンジニアフェスタ 2021 Online Meetupを9/9(木)に開催","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/OKsaiyowa/items/9dc5aa796e6d456dee9d","location":"/OKsaiyowa/items/9dc5aa796e6d456dee9d","scheme":"https","host":"qiita.com","port":null,"pathname":"/OKsaiyowa/items/9dc5aa796e6d456dee9d","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"k2TBKAMsB3lH5Mk977oswreL96ojbk6W1uxfnFWR4v48eRdG5qJwh9llq/9cbtlmD04zwZ5BhSEzfb3lVRH4Iw==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-1bb05159-f7de-4fb4-b00d-71dba8f6913c"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/OKsaiyowa/items/9dc5aa796e6d456dee9d/likers" class="css-1iupg5d">7</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">6</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/9dc5aa796e6d456dee9d/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/OKsaiyowa/items/9dc5aa796e6d456dee9d/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/OKsaiyowa/items/9dc5aa796e6d456dee9d/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/OKsaiyowa/items/9dc5aa796e6d456dee9d/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/OKsaiyowa/items/9dc5aa796e6d456dee9d.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-1nzh4zz"><span class="fa fa-fw fa-warning css-38fzdi"></span><p>More than 1 year has passed since last update.</p></div><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/OKsaiyowa"><img class="css-100alwu eyfquo10" src="https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/244071/bae8dc3d07d0e3470f1689dbf348860d57405186/large.png?1590752982" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/OKsaiyowa" class="css-10ougpm">@<!-- -->OKsaiyowa</a><div class="css-1ay9vb9"><span><meta content="2019-12-12T03:51:38Z"/><time dateTime="2019-12-12T03:55:28Z" class="css-m19uds">updated at 2019-12-12</time></span></div></div></div></div></div><h1 class="css-cgzq40">【Unity(C#),PUN2】VR空間でアバター同士のリアルタイム通信実装</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/unity" class="css-4czcte">Unity</a><a href="/tags/vr" class="css-4czcte">VR</a><a href="/tags/photoncloud" class="css-4czcte">PhotonCloud</a><a href="/tags/pun2" class="css-4czcte">PUN2</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div>
<h2>
<span id="pun2photon-unity-networking2とは" class="fragment"></span><a href="#pun2photon-unity-networking2%E3%81%A8%E3%81%AF"><i class="fa fa-link"></i></a>PUN2(Photon Unity Networking2)とは？</h2>

<p>簡単に言うと<strong>マルチプレイ楽ちん実装ネットワークライブラリ</strong>です。</p>

<h2>
<span id="開発環境" class="fragment"></span><a href="#%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83"><i class="fa fa-link"></i></a>開発環境</h2>

<p>PUN2(v2.16)<br>
Unity(2018.2.3f1)<br>
Unity Collaborate→<a href="https://qiita.com/OKsaiyowa/items/4c314b33f583c9d1f798" id="reference-f36951d328e773531d55">リンク</a></p>

<h2>
<span id="準備" class="fragment"></span><a href="#%E6%BA%96%E5%82%99"><i class="fa fa-link"></i></a>準備</h2>

<p>まずはアカウント開設等を行う必要があります。<br>
基本的に下記リンクで全部解決です。</p>

<p>【参考リンク】：<a href="https://connect.unity.com/p/pun2deshi-meruonraingemukai-fa-ru-men-sono1" rel="nofollow noopener" target="_blank">PUN2で始めるオンラインゲーム開発入門【その１】</a></p>

<p>開発環境のネットワークによっては<code>PhotonServerSettings</code>の設定が微妙に異なるようです。<br>
私の試した際には<code>Protocol</code>が<code>Tcp</code>でないとダメでした。</p>

<p><a href="https://camo.qiitausercontent.com/4c09acfef3a991bf1fa8aad6474a8ddcef4bad05/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3234343037312f64666661386630322d316666332d393265352d323232332d3636613465613837396333372e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244071%2Fdffa8f02-1ff3-92e5-2223-66a4ea879c37.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=e8d92812454133fe94319ca465a44276" alt="PunSS.png" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/244071/dffa8f02-1ff3-92e5-2223-66a4ea879c37.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244071%2Fdffa8f02-1ff3-92e5-2223-66a4ea879c37.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=8b9415257e1dcb4f3b98941bad8eb845 1x" loading="lazy"></a></p>

<p><code>Use Name Server</code>にチェックを入れることでクラウドサーバーの利用が可能になるそうです。<br>
もちろん、クラウドサーバーを利用する際には<code>Server</code>の欄は空欄でOKです。</p>

<p>なぜか繋がらない、、、というときはログの機能にチェックを入れて、<br>
<code>PUN Logging</code>を<code>Full</code>にしておけば接続のステータスを確認できます。</p>

<h2>
<span id="仕組み" class="fragment"></span><a href="#%E4%BB%95%E7%B5%84%E3%81%BF"><i class="fa fa-link"></i></a>仕組み</h2>

<p>仕組みについては下記リンクの図が最強にわかりやすいです。</p>

<p>【参考リンク】：<a href="https://qiita.com/UpAllNight/items/43e1b24301eb6029f18b#pun%E3%81%AE%E6%A6%82%E8%A6%81" id="reference-0e035c7ba707a7c9cd5d">【PUN2】Unityでオンラインマルチプレイを爆速で実装する</a></p>

<p>大まかな流れとしては</p>

<p><strong>①サーバーに接続<br>
②ルームを作成<br>
③ルームに参加<br>
④アバター生成<br>
⑤以後アバターを同期</strong></p>

<p>といった感じです。</p>

<h1>
<span id="実装" class="fragment"></span><a href="#%E5%AE%9F%E8%A3%85"><i class="fa fa-link"></i></a>実装</h1>

<h2>
<span id="サーバーに接続" class="fragment"></span><a href="#%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%AB%E6%8E%A5%E7%B6%9A"><i class="fa fa-link"></i></a>①サーバーに接続</h2>

<p>最初にnamespaceを忘れずに書いときます。</p>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre class="with-code"><code><span class="k">using</span> <span class="nn">Photon.Pun</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Photon.Realtime</span><span class="p">;</span>
</code></pre></div></div>

<p>また、<code>MonoBehaviourPunCallbacks</code>も継承しておく必要があります。</p>

<p>あとはPUNが優秀すぎて1行で終了します。</p>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre class="with-code"><code>    <span class="k">void</span> <span class="nf">Start</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">PhotonNetwork</span><span class="p">.</span><span class="nf">ConnectUsingSettings</span><span class="p">();</span>     
    <span class="p">}</span>
</code></pre></div></div>

<p>これでサーバーへの接続処理はおしまいです。</p>

<h2>
<span id="ルームを作成ルームに参加" class="fragment"></span><a href="#%E3%83%AB%E3%83%BC%E3%83%A0%E3%82%92%E4%BD%9C%E6%88%90%E3%83%AB%E3%83%BC%E3%83%A0%E3%81%AB%E5%8F%82%E5%8A%A0"><i class="fa fa-link"></i></a>②ルームを作成、③ルームに参加</h2>

<p><code>MonoBehaviourPunCallbacks</code>にコールバックが定義されているので<br>
継承元のクラスに存在する<code>OnConnectedToMaster()</code>をオーバーライドして<br>
ルームを作成します。</p>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre class="with-code"><code>    <span class="c1">//マスターサーバーへの接続が成功した時に呼ばれるコールバック</span>
    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnConnectedToMaster</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// "OnoTest"という名前のルームに参加する（ルームが無ければ作成してから参加する）</span>
        <span class="n">PhotonNetwork</span><span class="p">.</span><span class="nf">JoinOrCreateRoom</span><span class="p">(</span><span class="s">"OnoTest"</span><span class="p">,</span> <span class="k">new</span> <span class="nf">RoomOptions</span><span class="p">(),</span> <span class="n">TypedLobby</span><span class="p">.</span><span class="n">Default</span><span class="p">);</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"ルーム作成完了"</span><span class="p">);</span>
    <span class="p">}</span>
</code></pre></div></div>

<p>もし、ルームが既に存在していれば<br>
自動でそのルームに入ってくれるのでルームに参加の処理もこれで完了してしまいます。<br>
最強すぎますね。</p>

<h2>
<span id="アバター生成" class="fragment"></span><a href="#%E3%82%A2%E3%83%90%E3%82%BF%E3%83%BC%E7%94%9F%E6%88%90"><i class="fa fa-link"></i></a>④アバター生成</h2>

<p>公式ドキュメントにも記載がありますが、アバターは部屋に入った瞬間に生成します。</p>

<blockquote>
<p>In this callback, you could create player objects. For example in Unity, instantiate a prefab for the player.</p>
</blockquote>

<p>【引用元】：<a href="https://doc-api.photonengine.com/en/pun/v2/class_photon_1_1_pun_1_1_mono_behaviour_pun_callbacks.html#add354fba0aebd1c970849bccfd708ff2" rel="nofollow noopener" target="_blank">MonoBehaviourPunCallbacks Class Reference</a></p>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre class="with-code"><code>    <span class="c1">//部屋に入ったらアバター生成</span>
    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnJoinedRoom</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">PhotonNetwork</span><span class="p">.</span><span class="nf">Instantiate</span><span class="p">(</span><span class="err">生成したい</span><span class="n">Prefab</span><span class="err">の名前</span><span class="p">,</span> <span class="err">生成したい場所</span><span class="p">,</span> <span class="err">生成したい向き</span><span class="p">(</span><span class="err">角度</span><span class="p">));</span>
    <span class="p">}</span>
</code></pre></div></div>

<h2>
<span id="マスターサーバー接続からアバター生成までのコード" class="fragment"></span><a href="#%E3%83%9E%E3%82%B9%E3%82%BF%E3%83%BC%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E6%8E%A5%E7%B6%9A%E3%81%8B%E3%82%89%E3%82%A2%E3%83%90%E3%82%BF%E3%83%BC%E7%94%9F%E6%88%90%E3%81%BE%E3%81%A7%E3%81%AE%E3%82%B3%E3%83%BC%E3%83%89"><i class="fa fa-link"></i></a>マスターサーバー接続からアバター生成までのコード</h2>

<div class="code-frame" data-lang="C#">
<div class="code-lang"><span class="bold">適当なEmptyにアタッチ</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">using</span> <span class="nn">Photon.Pun</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Photon.Realtime</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">MyPUN_Set</span> <span class="p">:</span> <span class="n">MonoBehaviourPunCallbacks</span>
<span class="p">{</span>
    <span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span>
    <span class="n">GameObject</span> <span class="n">networkPlayer</span><span class="p">;</span>

    <span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span>
    <span class="n">Transform</span> <span class="n">cameraRig</span><span class="p">;</span>

    <span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span>
    <span class="n">Transform</span><span class="p">[]</span> <span class="n">playerPositions</span><span class="p">;</span>

    <span class="n">GameObject</span> <span class="n">player</span><span class="p">;</span>

    <span class="k">void</span> <span class="nf">Start</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">//PhotonServerSettingsに設定した内容を使ってマスターサーバーへ接続する</span>
        <span class="n">PhotonNetwork</span><span class="p">.</span><span class="nf">ConnectUsingSettings</span><span class="p">();</span>     
    <span class="p">}</span>

    <span class="c1">//マスターサーバーへの接続が成功した時に呼ばれるコールバック</span>
    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnConnectedToMaster</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// "OnoTest"という名前のルームに参加する（ルームが無ければ作成してから参加する）</span>
        <span class="n">PhotonNetwork</span><span class="p">.</span><span class="nf">JoinOrCreateRoom</span><span class="p">(</span><span class="s">"OnoTest"</span><span class="p">,</span> <span class="k">new</span> <span class="nf">RoomOptions</span><span class="p">(),</span> <span class="n">TypedLobby</span><span class="p">.</span><span class="n">Default</span><span class="p">);</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"ルーム作成完了"</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">//部屋に入ったらアバター生成</span>
    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnJoinedRoom</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">othersCount</span> <span class="p">=</span> <span class="n">PhotonNetwork</span><span class="p">.</span><span class="n">PlayerListOthers</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span>
        <span class="n">PhotonNetwork</span><span class="p">.</span><span class="nf">Instantiate</span><span class="p">(</span><span class="n">networkPlayer</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">playerPositions</span><span class="p">[</span><span class="n">othersCount</span><span class="p">].</span><span class="n">position</span><span class="p">,</span> <span class="n">Quaternion</span><span class="p">.</span><span class="n">identity</span><span class="p">);</span>
        <span class="n">cameraRig</span><span class="p">.</span><span class="n">position</span> <span class="p">=</span> <span class="n">playerPositions</span><span class="p">[</span><span class="n">othersCount</span><span class="p">].</span><span class="n">position</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div>
</div>

<p><code>PhotonNetwork.PlayerListOthers</code>で人数を把握し、生成位置を変更しています。<br>
これにより、同じ場所に別クライアントのアバターが生成されるのを防いでいます。<br>
ただし、一度ロビーから出て、また入室した際には条件によっては同じ場所に出現してしまいます。<br>
今回は入退室による生成位置被り対策の実装は省きました。</p>

<h2>
<span id="アバターを同期" class="fragment"></span><a href="#%E3%82%A2%E3%83%90%E3%82%BF%E3%83%BC%E3%82%92%E5%90%8C%E6%9C%9F"><i class="fa fa-link"></i></a>⑤アバターを同期</h2>

<p>今回は位置同期だけなので、同期したいオブジェクトが下記画像の状態になればOKです。<br>
<a href="https://camo.qiitausercontent.com/fede13c7a46ff4537ebe6d00eb82ddf013769fcc/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3234343037312f33623463633065342d306364652d393061662d376231622d3331353138623262666165372e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244071%2F3b4cc0e4-0cde-90af-7b1b-31518b2bfae7.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=7e5672aa4dc6bd261392647f6c3a6baa" alt="PPNG.PNG" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/244071/3b4cc0e4-0cde-90af-7b1b-31518b2bfae7.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244071%2F3b4cc0e4-0cde-90af-7b1b-31518b2bfae7.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=9e26f6299d6a5613ae040a6cf5875330 1x" loading="lazy"></a></p>

<h2>
<span id="アバターの構造は" class="fragment"></span><a href="#%E3%82%A2%E3%83%90%E3%82%BF%E3%83%BC%E3%81%AE%E6%A7%8B%E9%80%A0%E3%81%AF"><i class="fa fa-link"></i></a>アバターの構造は？</h2>

<p>今回はVIVEで実装を試みました。<br>
アバターとして使用したいオブジェクトは同期が必要なので、あらかじめPrefab化しておく必要があります。</p>

<p>PUNの実装方法として<br>
<strong>同期したいオブジェクトをPrefab化してPhotonフォルダ内のResources配下に置く &amp; Instantiateで生成</strong><br>
がお作法となっています。</p>

<p>ただ、私の試した限りでは、<strong>SteamVRのCameraRigをそのままPrefab化してもダメ</strong>でした。<br>
(何かうまい方法知ってる方いたら教えてください。)</p>

<p>下記動画の手順のように、<br>
<strong>アバターとなるオブジェクトを別途用意し、プレーヤーの頭や手の動きに追従させる</strong>必要がありました。<br>
【参考リンク】：<a href="https://www.youtube.com/watch?v=CraH51-_xJo" rel="nofollow noopener" target="_blank">How to write a multiplayer Oculus Rift game in Unity and Photon</a></p>

<p>ただ、単純なアバター(顔や手のモデルだけ)であればポジションを追従させる必要もなく、<br>
親子関係にしてあげればいいだけなので動画の実装よりシンプルになります。</p>

<p>今回は顔と片手だけのアバターで実装しました。</p>

<h2>
<span id="アバターの設定に関するコード" class="fragment"></span><a href="#%E3%82%A2%E3%83%90%E3%82%BF%E3%83%BC%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%81%AB%E9%96%A2%E3%81%99%E3%82%8B%E3%82%B3%E3%83%BC%E3%83%89"><i class="fa fa-link"></i></a>アバターの設定に関するコード</h2>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre class="with-code"><code><span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Photon.Pun</span><span class="p">;</span>
<span class="c1">/// &lt;summary&gt;</span>
<span class="c1">/// 同期させたいアバターのルートにアタッチ</span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">NetworkPlayer</span> <span class="p">:</span> <span class="n">MonoBehaviourPunCallbacks</span><span class="p">,</span> <span class="n">IPunObservable</span>
<span class="p">{</span>
    <span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span>
    <span class="n">GameObject</span> <span class="n">avater_Face</span><span class="p">,</span> <span class="n">avater_RightHand</span><span class="p">;</span>

    <span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span>
    <span class="kt">string</span> <span class="n">avater_LayerMask</span><span class="p">;</span>

    <span class="n">Transform</span> <span class="n">cameraTransform</span><span class="p">;</span>
    <span class="n">Transform</span> <span class="n">rightHandTransform</span><span class="p">;</span>

    <span class="k">void</span> <span class="n">IPunObservable</span><span class="p">.</span><span class="nf">OnPhotonSerializeView</span><span class="p">(</span><span class="n">PhotonStream</span> <span class="n">stream</span><span class="p">,</span> <span class="n">PhotonMessageInfo</span> <span class="n">info</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>

    <span class="k">void</span> <span class="nf">Start</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">cameraTransform</span> <span class="p">=</span> <span class="n">Camera</span><span class="p">.</span><span class="n">main</span><span class="p">.</span><span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Transform</span><span class="p">&gt;();</span>
        <span class="n">rightHandTransform</span> <span class="p">=</span> <span class="n">GameObject</span><span class="p">.</span><span class="nf">Find</span><span class="p">(</span><span class="s">"Controller (right)"</span><span class="p">).</span><span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Transform</span><span class="p">&gt;();</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">photonView</span><span class="p">.</span><span class="n">IsMine</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">//親子関係を設定し、ローカルの座標系の原点に移動</span>
            <span class="n">avater_Face</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="n">parent</span> <span class="p">=</span> <span class="n">cameraTransform</span><span class="p">;</span>
            <span class="n">avater_RightHand</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="n">parent</span> <span class="p">=</span> <span class="n">rightHandTransform</span><span class="p">;</span>

            <span class="n">avater_Face</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="n">localPosition</span> <span class="p">=</span> <span class="n">Vector3</span><span class="p">.</span><span class="n">zero</span><span class="p">;</span>
            <span class="n">avater_Face</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="n">localRotation</span> <span class="p">=</span> <span class="n">Quaternion</span><span class="p">.</span><span class="n">identity</span><span class="p">;</span>

            <span class="n">avater_RightHand</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="n">localPosition</span> <span class="p">=</span> <span class="n">Vector3</span><span class="p">.</span><span class="n">zero</span><span class="p">;</span>
            <span class="n">avater_RightHand</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="n">localRotation</span> <span class="p">=</span> <span class="n">Quaternion</span><span class="p">.</span><span class="n">identity</span><span class="p">;</span>

            <span class="c1">//自分のアバターのみLayerを変更して視界に映らないようにする</span>
            <span class="k">foreach</span> <span class="p">(</span><span class="n">Transform</span> <span class="n">child</span> <span class="k">in</span>  <span class="n">avater_Face</span><span class="p">.</span><span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Transform</span><span class="p">&gt;())</span>
            <span class="p">{</span>
                <span class="n">child</span><span class="p">.</span><span class="n">gameObject</span><span class="p">.</span><span class="n">layer</span> <span class="p">=</span> <span class="n">LayerMask</span><span class="p">.</span><span class="nf">NameToLayer</span><span class="p">(</span><span class="n">avater_LayerMask</span><span class="p">);</span>
            <span class="p">}</span>         
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3>
<span id="start関数内で強引に取得" class="fragment"></span><a href="#start%E9%96%A2%E6%95%B0%E5%86%85%E3%81%A7%E5%BC%B7%E5%BC%95%E3%81%AB%E5%8F%96%E5%BE%97"><i class="fa fa-link"></i></a>Start関数内で強引に取得</h3>

<p><strong>PrefabはScene 上の GameObject を参照することはできない</strong>ので<br>
別途Prefabとして機能させたい(子にできない)CameraRig関連はStart関数内で取得しています。<br>
それ以外のアバターとなるオブジェクトは独立しているので、<code>NetworkPlayer</code>の子にしてInspectorでアタッチしています。</p>

<p><a href="https://camo.qiitausercontent.com/8f2c8090028a450c3f7488813c00124ecc1bf9e4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3234343037312f36663965616366632d646265612d636634612d393266652d6334303363616132346364332e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244071%2F6f9eacfc-dbea-cf4a-92fe-c403caa24cd3.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=5d842971c0daaf048eec60b4b99821a7" alt="Pun.PNG" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/244071/6f9eacfc-dbea-cf4a-92fe-c403caa24cd3.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244071%2F6f9eacfc-dbea-cf4a-92fe-c403caa24cd3.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=3cb171fc71b1456c3a6a51d86d9abdf0 1x" loading="lazy"></a></p>

<h3>
<span id="ipunobservable" class="fragment"></span><a href="#ipunobservable"><i class="fa fa-link"></i></a>IPunObservable</h3>

<p>自前で同期させて行いたい処理がある場合は<code>IPunObservable</code>というインターフェースを実装します。<br>
本来は<code>IPunObservable</code>の中にデータのやり取りを書きますが、<br>
今回やり取りするデータはないので必要ありません。(使い方、解釈ミスってたら教えてください)</p>

<h3>
<span id="photonviewismine" class="fragment"></span><a href="#photonviewismine"><i class="fa fa-link"></i></a>photonView.IsMine</h3>

<p>自分のクライアント側で生成されたオブジェクトかどうかを判定します。<br>
これにより、相手側のアバターではなく自分のアバターに対して処理を行うことができます。</p>

<p>今回は、自分の顔のアバターが視界に入り込むのを防ぐために、<br>
Layerを変更して、自分の顔のアバターのみカメラに映らない状態を作りだしています。<br>
(CameraのCulling Maskも別途設定が必要)</p>

<h2>
<span id="デモ" class="fragment"></span><a href="#%E3%83%87%E3%83%A2"><i class="fa fa-link"></i></a>デモ</h2>

<p>右手にレーザー銃を持ったドラゴンがマルチプレイで動くのを確認できました。<br>
<a href="https://camo.qiitausercontent.com/4d0596904dbb4e1e16455a08114a6c762ab3a2cc/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3234343037312f33366265383666662d663331622d663133612d613332312d6237313233633263663132362e676966" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244071%2F36be86ff-f31b-f13a-a321-b7123c2cf126.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=ebfaa6df09f38fa9fda6ca844d9023e9" alt="D.gif" data-canonical-src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/244071/36be86ff-f31b-f13a-a321-b7123c2cf126.gif" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244071%2F36be86ff-f31b-f13a-a321-b7123c2cf126.gif?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=7a131b03d4284aa038522bdd98b92805 1x" loading="lazy"></a></p>

<p>【アセット】：<a href="https://assetstore.unity.com/packages/3d/characters/micro-dragon-fino-faceted-style-73536" rel="nofollow noopener" target="_blank">Micro Dragon Fino - Faceted Style</a><br>
【アセット】：<a href="https://assetstore.unity.com/packages/3d/props/guns/sci-fi-futuristic-hand-gun-90249" rel="nofollow noopener" target="_blank">Sci Fi Futuristic Hand Gun</a></p>

<h2>
<span id="参考リンク" class="fragment"></span><a href="#%E5%8F%82%E8%80%83%E3%83%AA%E3%83%B3%E3%82%AF"><i class="fa fa-link"></i></a>参考リンク</h2>

<p><a href="http://www5e.biglobe.ne.jp/aji/3min/" rel="nofollow noopener" target="_blank">3分間NetWorking</a><br>
<a href="https://qiita.com/tamago3keran/items/6864cb490e3c0bfc2b92" id="reference-c65a53917118ca2d66f9">UDPはTCPと何が違うの？</a><br>
<a href="https://qiita.com/mczkzk/items/75324cc31709ec329d26" id="reference-040cb825d95303eb96df">【PUN】アバター生成・同期</a><br>
<a href="https://github.com/yumemi-inc/vr-studies/wiki/202-1-%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E5%90%8C%E6%9C%9F%E6%96%B9%E6%B3%95" rel="nofollow noopener" target="_blank">VRプログラミングの基礎を学ぶためのサンプルプログラム集</a><br>
<a href="https://answers.unity.com/questions/1307522/photon-pun-htc-vive-over-networkin.html" rel="nofollow noopener" target="_blank">Unity Answers</a></p>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2FOKsaiyowa%2Fitems%2F9dc5aa796e6d456dee9d&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2FOKsaiyowa%2Fitems%2F9dc5aa796e6d456dee9d&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/OKsaiyowa/items/9dc5aa796e6d456dee9d/likers" class="css-1iupg5d">7</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">6</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/9dc5aa796e6d456dee9d/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/OKsaiyowa/items/9dc5aa796e6d456dee9d/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/OKsaiyowa/items/9dc5aa796e6d456dee9d/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/OKsaiyowa/items/9dc5aa796e6d456dee9d/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/OKsaiyowa/items/9dc5aa796e6d456dee9d.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-1bb05159-f7de-4fb4-b00d-71dba8f6913c">{"authorAnalyticsTrackingId":null,"organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-1feecf9e-dfda-48a0-ae54-ea4f1e7147b4"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-1feecf9e-dfda-48a0-ae54-ea4f1e7147b4">{}</script>
      
<div id="LoginModal-react-component-e488044b-744e-4312-985d-d45e997ee8f8"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-e488044b-744e-4312-985d-d45e997ee8f8">{}</script>
      
<div id="StockModal-react-component-697134d5-ed3b-45fd-9613-a031709c66a8"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-697134d5-ed3b-45fd-9613-a031709c66a8">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;Y2EvBD72iyqtHM0MnM+xLur3cc1RhEridOiA62U+b5bMfPlq23j81DOdr84vG0SKUjK1puyrgVWReWKSZb51Sw==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\n\u003ch2\u003e\n\u003cspan id=\"pun2photon-unity-networking2とは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#pun2photon-unity-networking2%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ePUN2(Photon Unity Networking2)とは？\u003c/h2\u003e\n\n\u003cp\u003e簡単に言うと\u003cstrong\u003eマルチプレイ楽ちん実装ネットワークライブラリ\u003c/strong\u003eです。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"開発環境\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e開発環境\u003c/h2\u003e\n\n\u003cp\u003ePUN2(v2.16)\u003cbr\u003e\nUnity(2018.2.3f1)\u003cbr\u003e\nUnity Collaborate→\u003ca href=\"https://qiita.com/OKsaiyowa/items/4c314b33f583c9d1f798\" id=\"reference-f36951d328e773531d55\"\u003eリンク\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"準備\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%BA%96%E5%82%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e準備\u003c/h2\u003e\n\n\u003cp\u003eまずはアカウント開設等を行う必要があります。\u003cbr\u003e\n基本的に下記リンクで全部解決です。\u003c/p\u003e\n\n\u003cp\u003e【参考リンク】：\u003ca href=\"https://connect.unity.com/p/pun2deshi-meruonraingemukai-fa-ru-men-sono1\" rel=\"nofollow noopener\" target=\"_blank\"\u003ePUN2で始めるオンラインゲーム開発入門【その１】\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e開発環境のネットワークによっては\u003ccode\u003ePhotonServerSettings\u003c/code\u003eの設定が微妙に異なるようです。\u003cbr\u003e\n私の試した際には\u003ccode\u003eProtocol\u003c/code\u003eが\u003ccode\u003eTcp\u003c/code\u003eでないとダメでした。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/4c09acfef3a991bf1fa8aad6474a8ddcef4bad05/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3234343037312f64666661386630322d316666332d393265352d323232332d3636613465613837396333372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244071%2Fdffa8f02-1ff3-92e5-2223-66a4ea879c37.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e8d92812454133fe94319ca465a44276\" alt=\"PunSS.png\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/244071/dffa8f02-1ff3-92e5-2223-66a4ea879c37.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244071%2Fdffa8f02-1ff3-92e5-2223-66a4ea879c37.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=8b9415257e1dcb4f3b98941bad8eb845 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003eUse Name Server\u003c/code\u003eにチェックを入れることでクラウドサーバーの利用が可能になるそうです。\u003cbr\u003e\nもちろん、クラウドサーバーを利用する際には\u003ccode\u003eServer\u003c/code\u003eの欄は空欄でOKです。\u003c/p\u003e\n\n\u003cp\u003eなぜか繋がらない、、、というときはログの機能にチェックを入れて、\u003cbr\u003e\n\u003ccode\u003ePUN Logging\u003c/code\u003eを\u003ccode\u003eFull\u003c/code\u003eにしておけば接続のステータスを確認できます。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"仕組み\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BB%95%E7%B5%84%E3%81%BF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e仕組み\u003c/h2\u003e\n\n\u003cp\u003e仕組みについては下記リンクの図が最強にわかりやすいです。\u003c/p\u003e\n\n\u003cp\u003e【参考リンク】：\u003ca href=\"https://qiita.com/UpAllNight/items/43e1b24301eb6029f18b#pun%E3%81%AE%E6%A6%82%E8%A6%81\" id=\"reference-0e035c7ba707a7c9cd5d\"\u003e【PUN2】Unityでオンラインマルチプレイを爆速で実装する\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e大まかな流れとしては\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003e①サーバーに接続\u003cbr\u003e\n②ルームを作成\u003cbr\u003e\n③ルームに参加\u003cbr\u003e\n④アバター生成\u003cbr\u003e\n⑤以後アバターを同期\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003eといった感じです。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"実装\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"サーバーに接続\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%AB%E6%8E%A5%E7%B6%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e①サーバーに接続\u003c/h2\u003e\n\n\u003cp\u003e最初にnamespaceを忘れずに書いときます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003ePhoton.Pun\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003ePhoton.Realtime\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eまた、\u003ccode\u003eMonoBehaviourPunCallbacks\u003c/code\u003eも継承しておく必要があります。\u003c/p\u003e\n\n\u003cp\u003eあとはPUNが優秀すぎて1行で終了します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e    \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eStart\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ePhotonNetwork\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eConnectUsingSettings\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e     \n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこれでサーバーへの接続処理はおしまいです。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"ルームを作成ルームに参加\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AB%E3%83%BC%E3%83%A0%E3%82%92%E4%BD%9C%E6%88%90%E3%83%AB%E3%83%BC%E3%83%A0%E3%81%AB%E5%8F%82%E5%8A%A0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e②ルームを作成、③ルームに参加\u003c/h2\u003e\n\n\u003cp\u003e\u003ccode\u003eMonoBehaviourPunCallbacks\u003c/code\u003eにコールバックが定義されているので\u003cbr\u003e\n継承元のクラスに存在する\u003ccode\u003eOnConnectedToMaster()\u003c/code\u003eをオーバーライドして\u003cbr\u003e\nルームを作成します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e    \u003cspan class=\"c1\"\u003e//マスターサーバーへの接続が成功した時に呼ばれるコールバック\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnConnectedToMaster\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// \"OnoTest\"という名前のルームに参加する（ルームが無ければ作成してから参加する）\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ePhotonNetwork\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eJoinOrCreateRoom\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"OnoTest\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eRoomOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e(),\u003c/span\u003e \u003cspan class=\"n\"\u003eTypedLobby\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDefault\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"nf\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ルーム作成完了\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eもし、ルームが既に存在していれば\u003cbr\u003e\n自動でそのルームに入ってくれるのでルームに参加の処理もこれで完了してしまいます。\u003cbr\u003e\n最強すぎますね。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"アバター生成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A2%E3%83%90%E3%82%BF%E3%83%BC%E7%94%9F%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e④アバター生成\u003c/h2\u003e\n\n\u003cp\u003e公式ドキュメントにも記載がありますが、アバターは部屋に入った瞬間に生成します。\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003eIn this callback, you could create player objects. For example in Unity, instantiate a prefab for the player.\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003e【引用元】：\u003ca href=\"https://doc-api.photonengine.com/en/pun/v2/class_photon_1_1_pun_1_1_mono_behaviour_pun_callbacks.html#add354fba0aebd1c970849bccfd708ff2\" rel=\"nofollow noopener\" target=\"_blank\"\u003eMonoBehaviourPunCallbacks Class Reference\u003c/a\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e    \u003cspan class=\"c1\"\u003e//部屋に入ったらアバター生成\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnJoinedRoom\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ePhotonNetwork\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eInstantiate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"err\"\u003e生成したい\u003c/span\u003e\u003cspan class=\"n\"\u003ePrefab\u003c/span\u003e\u003cspan class=\"err\"\u003eの名前\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"err\"\u003e生成したい場所\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"err\"\u003e生成したい向き\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"err\"\u003e角度\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"マスターサーバー接続からアバター生成までのコード\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%9E%E3%82%B9%E3%82%BF%E3%83%BC%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E6%8E%A5%E7%B6%9A%E3%81%8B%E3%82%89%E3%82%A2%E3%83%90%E3%82%BF%E3%83%BC%E7%94%9F%E6%88%90%E3%81%BE%E3%81%A7%E3%81%AE%E3%82%B3%E3%83%BC%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eマスターサーバー接続からアバター生成までのコード\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e適当なEmptyにアタッチ\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003ePhoton.Pun\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003ePhoton.Realtime\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eUnityEngine\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eMyPUN_Set\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eMonoBehaviourPunCallbacks\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eSerializeField\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eGameObject\u003c/span\u003e \u003cspan class=\"n\"\u003enetworkPlayer\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eSerializeField\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eTransform\u003c/span\u003e \u003cspan class=\"n\"\u003ecameraRig\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eSerializeField\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eTransform\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"n\"\u003eplayerPositions\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eGameObject\u003c/span\u003e \u003cspan class=\"n\"\u003eplayer\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eStart\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e//PhotonServerSettingsに設定した内容を使ってマスターサーバーへ接続する\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ePhotonNetwork\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eConnectUsingSettings\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e     \n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e//マスターサーバーへの接続が成功した時に呼ばれるコールバック\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnConnectedToMaster\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e// \"OnoTest\"という名前のルームに参加する（ルームが無ければ作成してから参加する）\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ePhotonNetwork\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eJoinOrCreateRoom\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"OnoTest\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eRoomOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e(),\u003c/span\u003e \u003cspan class=\"n\"\u003eTypedLobby\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDefault\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"nf\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ルーム作成完了\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e//部屋に入ったらアバター生成\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eOnJoinedRoom\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eothersCount\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ePhotonNetwork\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePlayerListOthers\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLength\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ePhotonNetwork\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eInstantiate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003enetworkPlayer\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eplayerPositions\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eothersCount\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eposition\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eQuaternion\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eidentity\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ecameraRig\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eposition\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eplayerPositions\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eothersCount\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eposition\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003ePhotonNetwork.PlayerListOthers\u003c/code\u003eで人数を把握し、生成位置を変更しています。\u003cbr\u003e\nこれにより、同じ場所に別クライアントのアバターが生成されるのを防いでいます。\u003cbr\u003e\nただし、一度ロビーから出て、また入室した際には条件によっては同じ場所に出現してしまいます。\u003cbr\u003e\n今回は入退室による生成位置被り対策の実装は省きました。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"アバターを同期\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A2%E3%83%90%E3%82%BF%E3%83%BC%E3%82%92%E5%90%8C%E6%9C%9F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e⑤アバターを同期\u003c/h2\u003e\n\n\u003cp\u003e今回は位置同期だけなので、同期したいオブジェクトが下記画像の状態になればOKです。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/fede13c7a46ff4537ebe6d00eb82ddf013769fcc/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3234343037312f33623463633065342d306364652d393061662d376231622d3331353138623262666165372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244071%2F3b4cc0e4-0cde-90af-7b1b-31518b2bfae7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7e5672aa4dc6bd261392647f6c3a6baa\" alt=\"PPNG.PNG\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/244071/3b4cc0e4-0cde-90af-7b1b-31518b2bfae7.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244071%2F3b4cc0e4-0cde-90af-7b1b-31518b2bfae7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9e26f6299d6a5613ae040a6cf5875330 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"アバターの構造は\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A2%E3%83%90%E3%82%BF%E3%83%BC%E3%81%AE%E6%A7%8B%E9%80%A0%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eアバターの構造は？\u003c/h2\u003e\n\n\u003cp\u003e今回はVIVEで実装を試みました。\u003cbr\u003e\nアバターとして使用したいオブジェクトは同期が必要なので、あらかじめPrefab化しておく必要があります。\u003c/p\u003e\n\n\u003cp\u003ePUNの実装方法として\u003cbr\u003e\n\u003cstrong\u003e同期したいオブジェクトをPrefab化してPhotonフォルダ内のResources配下に置く \u0026amp; Instantiateで生成\u003c/strong\u003e\u003cbr\u003e\nがお作法となっています。\u003c/p\u003e\n\n\u003cp\u003eただ、私の試した限りでは、\u003cstrong\u003eSteamVRのCameraRigをそのままPrefab化してもダメ\u003c/strong\u003eでした。\u003cbr\u003e\n(何かうまい方法知ってる方いたら教えてください。)\u003c/p\u003e\n\n\u003cp\u003e下記動画の手順のように、\u003cbr\u003e\n\u003cstrong\u003eアバターとなるオブジェクトを別途用意し、プレーヤーの頭や手の動きに追従させる\u003c/strong\u003e必要がありました。\u003cbr\u003e\n【参考リンク】：\u003ca href=\"https://www.youtube.com/watch?v=CraH51-_xJo\" rel=\"nofollow noopener\" target=\"_blank\"\u003eHow to write a multiplayer Oculus Rift game in Unity and Photon\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eただ、単純なアバター(顔や手のモデルだけ)であればポジションを追従させる必要もなく、\u003cbr\u003e\n親子関係にしてあげればいいだけなので動画の実装よりシンプルになります。\u003c/p\u003e\n\n\u003cp\u003e今回は顔と片手だけのアバターで実装しました。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"アバターの設定に関するコード\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A2%E3%83%90%E3%82%BF%E3%83%BC%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%81%AB%E9%96%A2%E3%81%99%E3%82%8B%E3%82%B3%E3%83%BC%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eアバターの設定に関するコード\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eUnityEngine\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003ePhoton.Pun\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e/// \u0026lt;summary\u0026gt;\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e/// 同期させたいアバターのルートにアタッチ\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e/// \u0026lt;/summary\u0026gt;\u003c/span\u003e\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eNetworkPlayer\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eMonoBehaviourPunCallbacks\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eIPunObservable\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eSerializeField\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eGameObject\u003c/span\u003e \u003cspan class=\"n\"\u003eavater_Face\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eavater_RightHand\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eSerializeField\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eavater_LayerMask\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eTransform\u003c/span\u003e \u003cspan class=\"n\"\u003ecameraTransform\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eTransform\u003c/span\u003e \u003cspan class=\"n\"\u003erightHandTransform\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"n\"\u003eIPunObservable\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eOnPhotonSerializeView\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ePhotonStream\u003c/span\u003e \u003cspan class=\"n\"\u003estream\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ePhotonMessageInfo\u003c/span\u003e \u003cspan class=\"n\"\u003einfo\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eStart\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ecameraTransform\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCamera\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003emain\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eGetComponent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eTransform\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;();\u003c/span\u003e\n        \u003cspan class=\"n\"\u003erightHandTransform\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eGameObject\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFind\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Controller (right)\"\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"n\"\u003eGetComponent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eTransform\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;();\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ephotonView\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eIsMine\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e//親子関係を設定し、ローカルの座標系の原点に移動\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eavater_Face\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etransform\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eparent\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ecameraTransform\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eavater_RightHand\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etransform\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eparent\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003erightHandTransform\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"n\"\u003eavater_Face\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etransform\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elocalPosition\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eVector3\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ezero\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eavater_Face\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etransform\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elocalRotation\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eQuaternion\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eidentity\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"n\"\u003eavater_RightHand\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etransform\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elocalPosition\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eVector3\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ezero\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eavater_RightHand\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etransform\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elocalRotation\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eQuaternion\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eidentity\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e//自分のアバターのみLayerを変更して視界に映らないようにする\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eforeach\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eTransform\u003c/span\u003e \u003cspan class=\"n\"\u003echild\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e  \u003cspan class=\"n\"\u003eavater_Face\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eGetComponent\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eTransform\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;())\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003echild\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003egameObject\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elayer\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eLayerMask\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eNameToLayer\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eavater_LayerMask\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e         \n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"start関数内で強引に取得\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#start%E9%96%A2%E6%95%B0%E5%86%85%E3%81%A7%E5%BC%B7%E5%BC%95%E3%81%AB%E5%8F%96%E5%BE%97\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eStart関数内で強引に取得\u003c/h3\u003e\n\n\u003cp\u003e\u003cstrong\u003ePrefabはScene 上の GameObject を参照することはできない\u003c/strong\u003eので\u003cbr\u003e\n別途Prefabとして機能させたい(子にできない)CameraRig関連はStart関数内で取得しています。\u003cbr\u003e\nそれ以外のアバターとなるオブジェクトは独立しているので、\u003ccode\u003eNetworkPlayer\u003c/code\u003eの子にしてInspectorでアタッチしています。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/8f2c8090028a450c3f7488813c00124ecc1bf9e4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3234343037312f36663965616366632d646265612d636634612d393266652d6334303363616132346364332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244071%2F6f9eacfc-dbea-cf4a-92fe-c403caa24cd3.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5d842971c0daaf048eec60b4b99821a7\" alt=\"Pun.PNG\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/244071/6f9eacfc-dbea-cf4a-92fe-c403caa24cd3.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244071%2F6f9eacfc-dbea-cf4a-92fe-c403caa24cd3.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=3cb171fc71b1456c3a6a51d86d9abdf0 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"ipunobservable\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#ipunobservable\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eIPunObservable\u003c/h3\u003e\n\n\u003cp\u003e自前で同期させて行いたい処理がある場合は\u003ccode\u003eIPunObservable\u003c/code\u003eというインターフェースを実装します。\u003cbr\u003e\n本来は\u003ccode\u003eIPunObservable\u003c/code\u003eの中にデータのやり取りを書きますが、\u003cbr\u003e\n今回やり取りするデータはないので必要ありません。(使い方、解釈ミスってたら教えてください)\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"photonviewismine\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#photonviewismine\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ephotonView.IsMine\u003c/h3\u003e\n\n\u003cp\u003e自分のクライアント側で生成されたオブジェクトかどうかを判定します。\u003cbr\u003e\nこれにより、相手側のアバターではなく自分のアバターに対して処理を行うことができます。\u003c/p\u003e\n\n\u003cp\u003e今回は、自分の顔のアバターが視界に入り込むのを防ぐために、\u003cbr\u003e\nLayerを変更して、自分の顔のアバターのみカメラに映らない状態を作りだしています。\u003cbr\u003e\n(CameraのCulling Maskも別途設定が必要)\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"デモ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%87%E3%83%A2\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eデモ\u003c/h2\u003e\n\n\u003cp\u003e右手にレーザー銃を持ったドラゴンがマルチプレイで動くのを確認できました。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/4d0596904dbb4e1e16455a08114a6c762ab3a2cc/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f302f3234343037312f33366265383666662d663331622d663133612d613332312d6237313233633263663132362e676966\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244071%2F36be86ff-f31b-f13a-a321-b7123c2cf126.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ebfaa6df09f38fa9fda6ca844d9023e9\" alt=\"D.gif\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/244071/36be86ff-f31b-f13a-a321-b7123c2cf126.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F244071%2F36be86ff-f31b-f13a-a321-b7123c2cf126.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=7a131b03d4284aa038522bdd98b92805 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e【アセット】：\u003ca href=\"https://assetstore.unity.com/packages/3d/characters/micro-dragon-fino-faceted-style-73536\" rel=\"nofollow noopener\" target=\"_blank\"\u003eMicro Dragon Fino - Faceted Style\u003c/a\u003e\u003cbr\u003e\n【アセット】：\u003ca href=\"https://assetstore.unity.com/packages/3d/props/guns/sci-fi-futuristic-hand-gun-90249\" rel=\"nofollow noopener\" target=\"_blank\"\u003eSci Fi Futuristic Hand Gun\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"参考リンク\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83%E3%83%AA%E3%83%B3%E3%82%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考リンク\u003c/h2\u003e\n\n\u003cp\u003e\u003ca href=\"http://www5e.biglobe.ne.jp/aji/3min/\" rel=\"nofollow noopener\" target=\"_blank\"\u003e3分間NetWorking\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://qiita.com/tamago3keran/items/6864cb490e3c0bfc2b92\" id=\"reference-c65a53917118ca2d66f9\"\u003eUDPはTCPと何が違うの？\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://qiita.com/mczkzk/items/75324cc31709ec329d26\" id=\"reference-040cb825d95303eb96df\"\u003e【PUN】アバター生成・同期\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://github.com/yumemi-inc/vr-studies/wiki/202-1-%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E5%90%8C%E6%9C%9F%E6%96%B9%E6%B3%95\" rel=\"nofollow noopener\" target=\"_blank\"\u003eVRプログラミングの基礎を学ぶためのサンプルプログラム集\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://answers.unity.com/questions/1307522/photon-pun-htc-vive-over-networkin.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003eUnity Answers\u003c/a\u003e\u003c/p\u003e\n","createdAt":"2019-12-12T03:51:38Z","elapsedYearsFromLastModifiedAt":1,"encryptedId":"3vZLOfvOCwK/OAM3JXCxVclEmd8FsMRnLw==--FK+plHIMqMcyskTa--ssTPZjqGGQpTWviXjSrwGQ==","isBanned":false,"isDeprecated":true,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2019-12-12T03:55:28Z","likesCount":7,"linkUrl":"https://qiita.com/OKsaiyowa/items/9dc5aa796e6d456dee9d","organization":null,"originalId":1108700,"stockedCount":6,"title":"【Unity(C#),PUN2】VR空間でアバター同士のリアルタイム通信実装","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#pun2photon-unity-networking2%E3%81%A8%E3%81%AF\"\u003ePUN2(Photon Unity Networking2)とは？\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83\"\u003e開発環境\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%BA%96%E5%82%99\"\u003e準備\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E4%BB%95%E7%B5%84%E3%81%BF\"\u003e仕組み\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%AE%9F%E8%A3%85\"\u003e実装\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%AB%E6%8E%A5%E7%B6%9A\"\u003e①サーバーに接続\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%AB%E3%83%BC%E3%83%A0%E3%82%92%E4%BD%9C%E6%88%90%E3%83%AB%E3%83%BC%E3%83%A0%E3%81%AB%E5%8F%82%E5%8A%A0\"\u003e②ルームを作成、③ルームに参加\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%A2%E3%83%90%E3%82%BF%E3%83%BC%E7%94%9F%E6%88%90\"\u003e④アバター生成\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%9E%E3%82%B9%E3%82%BF%E3%83%BC%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E6%8E%A5%E7%B6%9A%E3%81%8B%E3%82%89%E3%82%A2%E3%83%90%E3%82%BF%E3%83%BC%E7%94%9F%E6%88%90%E3%81%BE%E3%81%A7%E3%81%AE%E3%82%B3%E3%83%BC%E3%83%89\"\u003eマスターサーバー接続からアバター生成までのコード\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%A2%E3%83%90%E3%82%BF%E3%83%BC%E3%82%92%E5%90%8C%E6%9C%9F\"\u003e⑤アバターを同期\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%A2%E3%83%90%E3%82%BF%E3%83%BC%E3%81%AE%E6%A7%8B%E9%80%A0%E3%81%AF\"\u003eアバターの構造は？\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%A2%E3%83%90%E3%82%BF%E3%83%BC%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%81%AB%E9%96%A2%E3%81%99%E3%82%8B%E3%82%B3%E3%83%BC%E3%83%89\"\u003eアバターの設定に関するコード\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#start%E9%96%A2%E6%95%B0%E5%86%85%E3%81%A7%E5%BC%B7%E5%BC%95%E3%81%AB%E5%8F%96%E5%BE%97\"\u003eStart関数内で強引に取得\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#ipunobservable\"\u003eIPunObservable\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#photonviewismine\"\u003ephotonView.IsMine\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%87%E3%83%A2\"\u003eデモ\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%8F%82%E8%80%83%E3%83%AA%E3%83%B3%E3%82%AF\"\u003e参考リンク\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","totalPv":3813,"uuid":"9dc5aa796e6d456dee9d","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"30wYWiVoHBBwvNRXdsO96uO5xaKg--UffJmLqm0HNv7pr2--9J2E7IbLKLdiXouwjojwOw==","originalId":244071,"description":"備忘録として学んだことを記録します。 あやふやな箇所が多いですが、そんなときはビシッと指摘いただけますと幸いです。(特に明示されていない場合、記事中のソースコードはパブリックドメインです。)","facebookUrl":"https://facebook.com/onoue.kento","githubUrl":"https://github.com/ForJobOk","isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":"https://www.linkedin.com/in/onouekento","name":"","profileImageUrl":"https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/244071/bae8dc3d07d0e3470f1689dbf348860d57405186/large.png?1590752982","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fs3-ap-northeast-1.amazonaws.com%2Fqiita-image-store%2F0%2F244071%2Fbae8dc3d07d0e3470f1689dbf348860d57405186%2Flarge.png%3F1590752982?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=e39d5880c47f81bc23c0a4efc15cd6bb","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fs3-ap-northeast-1.amazonaws.com%2Fqiita-image-store%2F0%2F244071%2Fbae8dc3d07d0e3470f1689dbf348860d57405186%2Flarge.png%3F1590752982?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=1db3c0b8d02da57022d0bbed7e449028","urlName":"OKsaiyowa","websiteUrl":"https://www.wantedly.com/users/98233916","twitterUrl":"https://twitter.com/okprogramming","twitterUrlName":"okprogramming","revealedOrganizations":{"edges":[{"node":{"encryptedId":"EAPQJKm5LfIyA6BIYxW51DU2/znKGznD/hY=--9x0A/Qk+8ro5kpge--co3ATGm+/W/3JkB2ECtvyQ==","isBetaReleaseEnabled":false,"isFollowableByViewer":false,"isFollowedByViewer":false,"name":"Unityゲーム開発者ギルド","logoUrl":"https://s3-ap-northeast-1.amazonaws.com/qiita-organization-image/f7eb993765ddcdb2c5e6890556c43ea3de8fbfb7/original.jpg?1570215690","urlName":"unity-game-dev-guild","description":"趣味・仕事問わずUnityでゲームを作っている開発者のみで構成されるオンラインコミュニティです。Unityでゲームを開発・運用するにあたって必要なあらゆる知見を共有することを目的とします。","url":"https://unity-game-dev-guild.github.io/"}}]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"Unity","urlName":"unity"},{"name":"VR","urlName":"vr"},{"name":"PhotonCloud","urlName":"photoncloud"},{"name":"PUN2","urlName":"pun2"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
