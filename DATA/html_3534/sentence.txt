C# - Winodws Form Application (Visual Studio 2017 , .NET Framework 4.5)こういうオサレアプリを作るとします。
これが果たしておしゃれかどうかはおいといて、こういったタイトルバーのないフォームを作った場合、最大化・最小化は不要、終了はthis.Close();でいいとして、地味に面倒くさいのが 掴んで移動ができないこと です。実装方法はいろいろあるとは思いますが、ここでは、Win32APIを使って、上側にあるピクチャボックスをタイトルバーとして認識させたいと思います。‥‥といっても、この手法自体は.NETの前のVisualBasicの時代から通用するものであって、軽く調べても、dobon.netさんを始め、いくらでも記載が見つかります。この記事では、昔調べた手法が今も使えるという意味合いで記しておきます。
（というか.NET内でやる方法がご存知でしたら教えてください）使うWin32APIは、ReleaseCaptureとSendMessageです。これにより、「ピクチャボックスを掴む」＝「タイトルバーを掴んだ扱い」として扱われます。ピクチャボックスpicHeaderを貼りつけ、MouseDownイベントを作ります。SendMessageの引数である0x00A1と0x0002が、それぞれWM_NCLBUTTONDOWN＝マウス左ボタン押下、HT_CAPTION ＝タイトルバー部分を意味しています。定数にしておくのが正しいとは思います。趣味でやってると、オリジナルの見た目のフォームを作りたい時ってあると思います。そういう時に任意のコントロールをタイトルバーに出来ると表現の幅が広がります。これ自体は結構有用なコードだと思うのですが、最近じゃFrameworkの方も優秀で、あえてWin32APIを使うべきケースも少ないもので、そんなことでAPIをわざわざ勉強するのもなぁって感じですね。
実際、SendMessageの他の引数とかを使ってやりたいことなどはなかなか思いつかないし、そんなわけでこのロジックそのものをタイトルバー処理専用と割り切って私は使っています。独学のため正確でない可能性があります。
（っ・ｘ・）っ きゅ


