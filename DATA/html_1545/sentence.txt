More than 1 year has passed since last update.C#のカスタムAttributeでJSONバリデーションを行う方法を紹介します。Attribute（属性）とは、クラスやメンバーに追加情報を与えることができます。属性にはパラメータを指定することができ、複数の属性を指定することができます。今回実行した環境は下記の通りです。下記のソースコードから Validator フォルダーを各自のプロジェクトにコピーします。
ソースファイルはこちらJSONオブジェクトを引数にして ValidatorMapper クラスのインスタンスを生成して実行します。Required は、必須チェックを行う属性です。リクエストパラメータに値が指定されていない場合にエラーを返します。userName がリクエストパラメータに指定されていない場合は、下記のエラーレスポンスが返されます。StringLength は、文字列長チェックを行う属性です。文字列型のリクエストパラメータの長さが超えた場合にエラーを返します。userName の値が30文字より長い場合は、下記のエラーレスポンスが返されます。StringDateFormat は、日付フォーマットチェックを行う属性です。文字列型のリクエストパラメータの日付フォーマットが正しくない場合にエラーを返します。createDate の値がyyyyMMdd形式でない場合は、下記のエラーレスポンスが返されます。NumberRange は、数値範囲チェックを行う属性です。数値型のリクエストパラメータの値が範囲外の場合にエラーを返します。age の値が0～120の範囲外の場合は、下記のエラーレスポンスが返されます。ClassValue は、区分値チェックを行う属性です。リクエストパラメータに値が取りうる区分値以外の場合にエラーを返します。gender の値が0,1以外の場合は、下記のエラーレスポンスが返されます。以上です。


