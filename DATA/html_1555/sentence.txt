More than 1 year has passed since last update.Pipelineによる自動ビルド＆デプロイを組み始めると、警告メッセージを1つでも多く消したくなってきます。
その中で、マイクロソフトの文章を読んでも、さっぱり何を言ってるか分からなかったメッセージについてメモしておきます。【発生環境】特に思想があるわけではないのですが、継承クラス共通で利用するモノを私は基底クラスにこんな風にreadonlyのprotectedフィールドとして書く癖がありました。
最初にprivate readonlyのフィールドとして定義したものを共通化で移動していくウチにこうなったんだと思います。ところが、これがよろしくないらしく、CA1051: 参照できるインスタンス フィールドを宣言しないでくださいと警告されます。マイクロソフトの公式ドキュメントを読むとフィールドの主な用途は、実装の詳細にする必要があります。 フィールドは private または internal である必要があり、プロパティを使用して公開する必要があります。 フィールドにアクセスするのと同じように、プロパティにアクセスするのは簡単です。プロパティのアクセサーのコードは、互換性に影響する変更を導入しなくても、型の機能が拡張されると変化することがあります。（以下略）・・・とあり、日本語が難しすぎて、何を言ってるか分かりません。話は単純で、フィールドとは自クラス内なので、protectedやpublicにするんじゃねぇって警告です。では先ほどのサンプルコードはどう修正すればいいかというと、こんな風にゲッターしかないプロパティを定義すれば解決です。それにしてももう少し公式ドキュメントが分かりやすくならないものか・・・


