こういうもののこと↓↓buttonを押すと下に出てきて、もう一回押すと収納される、みたいな。
下に出したとき、これに合わせて、そのさらに下にあった要素も下に下がってくれる、といったもの。
語彙力がなくて申し訳ない…。縦一列に要素を並べるScroll Viewでの使用を想定している。
こういうのができていたら、前提となる状況の理解としては問題ない。ちゃんとした手順説明が必要な方はこちら。UIの配置だが、まずScroll ViewのContentに空オブジェクトを配置する。
その空オブジェクトにImageを二つ、うち一つのImageの子にButtonを一つ配置。今回は、折り畳み部分に該当するImageのUIの色を、わかりやすく赤色にしてみた。後は一番上の空オブジェクトに、いくつかコンポーネント追加。Content Size Fitterをつける意味が気になる方は、先ほど挙げたブログを2ページまでじっくり読んでほしい。
ざっくりいうと、子オブジェクトに合わせて親のアンカーを弄れるようにしないと、折り畳み部分が下のオブジェクトと重なったりしてしまうから。UIの細かい配置は個々お任せで。
私はButtonを右端に寄せてみた。後はこのスクリプトを空オブジェクトにアタッチすれば完成。
Buttonを180度回転させるプログラムも組んであるが、不要ならば消してほしい。要するに、ContentオブジェクトのVertical Layout Groupをオンオフして、レイアウトを再構築させるような処理。なぜかコールチンなしで普通に書き連ねても動かない。なんでかなぁ…。


