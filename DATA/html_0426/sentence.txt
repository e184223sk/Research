Prism Libarary のModule機能と、DIコンテナ（Prism.Unity）を併用する場合に
少し工夫（というほどでもないけど）が必要になったので、それを書き残すための記事環境: .NET Core 3.1, Prism.Unity 8.0以下２つのやりたいことと解決するための方法を書く1つ目
　やりたいこと：MainWindowViewModelにおいて、DIコンテナからモジュールのクラスを取得・利用したい
　解決方法：MainWindowViewModelのコンストラクタ内で、明示的にIModuleManager.LoadModule(使いたいモジュール)を呼び出す2つ目
　やりたいこと：あるモジュールにおいて、他のモジュールのクラスを参照したクラスをDI登録したい
　解決方法：IModuleを継承したクラス内で、IContainerRegistry.GetContainer()したコンテナを使ってDI登録する。その際、メインプロジェクトのDependsOn(依存先)でモジュールを読み込む順番を明示する。↓　公式ドキュメントのモジュールに関するページ本題に入る前に、検証用ソリューションの説明　（PlantUMLを使ってみたかっただけ）いろいろ試してみたけど、図をきれいに整えることはできなかった・・・まず、やりたことの1つ目について書く本家GitHub↓の07-Modules - Codeを参考にしたメインプロジェクトで使ってもらうクラスをモジュール側で用意し、DI登録してメインプロジェクトApp.xaml.csでConfigureModuleCatalogメソッドを用いて
各モジュールを指定して　（MainWindowViewModelでモジュール1を使う予定）MainWindowViewModelのコンストラクターの中で
メンバ変数である_module1ClassにDIコンテナからインスタンスを代入しようとしたところ「Resolveできませんよ～」的なエラーが出たAppクラスのそれぞれメソッドが実行されたあと、すぐにMainWindowViewModelのコンストラクタが実行されている
つまり、DIコンテナにModule1がクラスを登録する前にResolveを試みてエラーになっていたMainWindowViewModelのコンストラクタでcontainer.Resolve()をする前に、モジュール側のDI登録を済ませればよいDI登録を促すために、コンストラクタ内でLoadModuleを呼ぶ
そうすればModule1側のRegisterTypesが実行され、DI登録が完了した状態でMainWidowViewModelからResolveできるMainWindowViewModelのコンストラクタの中でModule1がロードされているイベントを登録しておくことで、いつモジュールがロードされたのかを監視している　（↓参考）上記のようにマニュアル操作でモジュールをロードすることを明示したい場合は
Appクラスのほうも変更する今回はメインプロジェクトのウィンドウでモジュールを使うのでオンデマンド指定はしなかった別ケースとして、後々にしか使わないモジュールについては
オンデマンドを指定することで、アプリの起動速度向上に寄与するかもしれない(?)つづいて、やりたいことの2つ目について書くモジュール内で、DIコンテナから何かインスタンスを引っ張り出して、それを使って登録したい
しかし、モジュール内の動きとしてはRegisterTypes（登録）が先に動き、そのあとOnInitialized（containerProvider：解決系）が動くため、「解決（DI Resolve）してから登録が」できないこれについては、正攻法ではないかもしれないが、登録用のcontainerRegistryをメンバ変数に格納しておいて
あとからOnInitializeでメンバ変数を使って登録作業をするとしたモジュール3のクラスをつかって、モジュール1側でなにかインスタンスをDI登録する実行したら、先ほどと同じようなエラーが出たPrism.Ioc.ContainerResolutionException: 'An unexpected error occurred while resolving 'InterfaceLibrary.IModuleClass', with the service name 'Module3Class''「（モジュール1で）モジュール3を使いたいようだけど、モジュール3クラスの名前解決ができないよ」と。App.xaml.csでAddModuleするときに、モジュール同士の依存関係を明示する
モジュール1はモジュール3を使うので、dependsOn: nameof(Module3.Module3Module)とするポイントは2つ


