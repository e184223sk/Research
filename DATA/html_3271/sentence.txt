More than 1 year has passed since last update.今回はサーバー(Server)側の開発をすることなく、Unityにてログイン機能を追加する方法について記事をあげさせていただきます。
目指す画面としてはこのようなイメージです。
MacOS : 10.13.3
Unity : 2019.2.8f1
mBaaS : Unity SDK v4.0.3
基本最新版に近いものなら大丈夫そう。まずは下記サイトを参考にSDKを導入までを行ってください。クイックスタート
Unityを触ったことのある人なら、
約20分ほどで終わります。
その後
・ログイン機能を作る
・ハイスコアをサーバーに保存する
・ハイスコアランキング機能を作る
の順番で進めてまいります。今回はサーバー側の開発をしないで、
ログイン機能を実装していきます。ゲーム開始時のログイン画面をニフクラ mobile backend（サーバー側）を無料で使用して表示できるようにします。
この時、できるようにする機能は・ ログイン機能
・ 新規プレイヤー登録ログイン画面とメインゲーム画面をそれぞれ別のシーンに分けて実装していきます。  LogInシーンのダウンロードダウンロードしたシーンをUnity側のSceneファイルに入れますシーンを開きますと、ダウンロードしたシーンの中に画面に表示するテキストは下図のように用意されています。
ニフクラ mobile backend（サーバー側）と通信して下記の機能を追加する。ログイン機能
　　・ログイン
　　・ログアウト
・新規登録
・ログイン中のプレイヤーのIDの取得を行う機能さてこんなに欲張って一気に追加できるのか？？ログイン機能
　　・ログイン
　　・ログアウト
・新規登録をUnity側に一気に実装していきます。会員管理機能を使うにはNCMBUserクラスを使用します。Unity側で扱うメソッドとして
ログイン機能
　　ログイン-&gt;「NCMBUser.LogInAsync」
　　ログアウト-&gt;「NCMBUser.SignUpAsync」
新規登録-&gt;「NCMBUser.LogOutAsync」
を使います。
とりあえず、こちらは置いておいて次に行きます。ログイン機能をもつ画面と新規登録するための画面を切り変える準備をしていきます。これによって、Unity側でログイン機能画面と新規登録画面をボタンで切り替えられるようになります。これにより他のシーンでもUserAuthを使得るようになります。Unity側でニフクラ mobile backend（サーバー側）と通信して下記の機能を追加する・ログイン中のプレイヤーのIDの取得を行う機能ログイン画面の実装と同様でボタンと遷移の実装をしました。
IsPlaying ()メソッドで現在Play中かの判断もできるようになりましたね。・ 新規登録（Sign Up）
1. ここまで作成し実行します
2. 右下の「Sign Up」ボタンを押すと以下のようなログイン機能画面が出ます

3. ID、PASS、Mailの内容を入力し、左にある「Sign Up」ボタンを押す
4. 次のようなログが出れば成功
・ ログイン(Log In)
1. 実行します
2. ID、PASSの内容を入力し、左にある「Log In」ボタンを押す
3. 次のようなログが出れば成功
ここまでできれば会員登録完了です！
では本当に会員登録できているのか
ニフクラ mobile backend
にログインし会員数確認してみましょう～結果はこちら↓↓↓↓↓↓↓↓↓
見事会員数1人になっていました！！
もう一度同じ手順を踏めば2,3人と繰り返し会員登録することが可能になります！！Unityで作成したゲームをPlayerに提供するのであればログイン画面は欠かせない存在です。
ログイン機能などを沢山いれたい欲張りさんの期待に応えてくれて、
約30分ほどでログイン画面を作成し登録できてしまいました！
こんなに簡単に実装できたのも全て、
ニフクラ mobile backend（サーバー側）のおかげですね。
Unityとニフクラ mobile backend（サーバー側）はスムーズに開発でき、とても仲良しな気がします！
次回のハイスコアをサーバーに保存するときもUnityとニフクラ mobile backend（サーバー側）をどんどん使っていきますよ～！ログイン機能を作る
クイックスタート


