<!DOCTYPE html><html><head><meta charset="utf-8" /><title>Xamarin を使えば iPhone 端末が要らない、ワケがない - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/amay077/items/6a6d5855b3d0c46de126" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="/MIIoeQ9fJ3+xLWYzkr3VcBZC8IRtya/O7K4AivT2C+Kvhr9hmKgUhrwLgk04e8W6seHogkk6dZ4UQzjz7mSRQ==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta content="@amay077" name="twitter:creator" /><meta property="og:type" content="article"><meta property="og:title" content="Xamarin を使えば iPhone 端末が要らない、ワケがない - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1XR0Z0WVhKcGJpRGpncExrdmJfamdZampnYkFnYVZCb2IyNWxJT2Vyci1hY3EtT0JqT2ltZ2VPQ2llT0JxdU9CaE9PQWdlT0RyLU9Dc2VPQmpPT0JxdU9CaEEmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT01NCZ0eHQtY2xpcD1lbGxpcHNpcyZ0eHQtYWxpZ249Y2VudGVyJTJDbWlkZGxlJnM9Y2FmOTkwZWY0YzBlMzVjZTFkZjQwMTk3NWFlOTQwYzQ&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RR0Z0WVhrd056YyZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPTllNWNlMjkwZmY4ZjhhYTEyMjUwZGI5NmM0NzBkOTBk&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=69c9e1f4e5da404898d07fc4628a1729"><meta property="og:description" content="今年も Advent Calendar 1番手、よろしくおねがいします。

さて、Windows + Visual Studio 2017 を使った iOS アプリの開発でも、


Remoted iOS Simulator
Xama..."><meta content="https://qiita.com/amay077/items/6a6d5855b3d0c46de126" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,iOS,Xamarin" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 1nzh4zz 38fzdi helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-1nzh4zz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 32px;background-color:#FBE69E;color:rgba(0,0,0,0.87);line-height:1.5;font-weight:600;}@media (max-width:770px){.css-1nzh4zz{padding:16px;}}.css-38fzdi{color:#CA832A;margin-right:4px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-7cbcdf2d-f42a-489e-9f1e-f771f93fa3e4"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2Famay077%2Fitems%2F6a6d5855b3d0c46de126">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2Famay077%2Fitems%2F6a6d5855b3d0c46de126">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-7cbcdf2d-f42a-489e-9f1e-f771f93fa3e4">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2017-12-01T10:02:52.000+09:00","dateModified":"2017-12-01T13:40:27.000+09:00","headline":"Xamarin を使えば iPhone 端末が要らない、ワケがない","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1XR0Z0WVhKcGJpRGpncExrdmJfamdZampnYkFnYVZCb2IyNWxJT2Vyci1hY3EtT0JqT2ltZ2VPQ2llT0JxdU9CaE9PQWdlT0RyLU9Dc2VPQmpPT0JxdU9CaEEmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT01NCZ0eHQtY2xpcD1lbGxpcHNpcyZ0eHQtYWxpZ249Y2VudGVyJTJDbWlkZGxlJnM9Y2FmOTkwZWY0YzBlMzVjZTFkZjQwMTk3NWFlOTQwYzQ\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RR0Z0WVhrd056YyZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPTllNWNlMjkwZmY4ZjhhYTEyMjUwZGI5NmM0NzBkOTBk\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=69c9e1f4e5da404898d07fc4628a1729","mainEntityOfPage":"https://qiita.com/amay077/items/6a6d5855b3d0c46de126","author":{"@type":"Person","address":"のんほいパーク","email":null,"identifier":"amay077","name":"amay077","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F8227%2Fprofile-images%2F1473680950?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=c45897bd988ad06c0759e18a4161f0ce","url":"https://qiita.com/amay077","description":"ランチの時は呼ぶといい！","memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://increments.connpass.com/event/211948/">【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup</a><a target="_blank" id="header_text_message_2" href="https://increments.connpass.com/event/211948/">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"amay077","type":"items","id":"6a6d5855b3d0c46de126"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"amay077","type":"items","id":"6a6d5855b3d0c46de126"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":2,"pos_id":"header_text_message_1","message":"【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"amay077","type":"items","id":"6a6d5855b3d0c46de126"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":2,"pos_id":"header_text_message_2","message":"【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/amay077/items/6a6d5855b3d0c46de126","location":"/amay077/items/6a6d5855b3d0c46de126","scheme":"https","host":"qiita.com","port":null,"pathname":"/amay077/items/6a6d5855b3d0c46de126","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"K/xSh8mc/4sq7Rz0qGsDDlKUIwMAaSjvRGChh01A5a9dgEDbq8MjRM7Zh2VSwBtNeAqvYxj654YHgxVmqSqvxQ==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-c747cad5-c788-47c2-9701-d6b74b0d6dd2"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/amay077/items/6a6d5855b3d0c46de126/likers" class="css-1iupg5d">27</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">8</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/6a6d5855b3d0c46de126/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/amay077/items/6a6d5855b3d0c46de126/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/amay077/items/6a6d5855b3d0c46de126/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/amay077/items/6a6d5855b3d0c46de126/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/amay077/items/6a6d5855b3d0c46de126.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-1nzh4zz"><span class="fa fa-fw fa-warning css-38fzdi"></span><p>More than 3 years have passed since last update.</p></div><div class="css-helsa7"><div class="css-8qb8m4"><div class="it-AdcalRibbon"><span><a href="/advent-calendar/2017/xamarin" class="it-AdcalRibbon_title">Xamarin その1<!-- --> Advent Calendar<!-- --> <!-- -->2017</a>Day 1</span></div><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/amay077"><img class="css-100alwu eyfquo10" src="https://qiita-image-store.s3.amazonaws.com/0/8227/profile-images/1473680950" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/amay077" class="css-10ougpm">@<!-- -->amay077</a><div class="css-1ay9vb9"><span><meta content="2017-12-01T01:02:52Z"/><time dateTime="2017-12-01T04:40:27Z" class="css-m19uds">updated at 2017-12-01</time></span></div></div></div></div></div><h1 class="css-cgzq40">Xamarin を使えば iPhone 端末が要らない、ワケがない</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/ios" class="css-4czcte">iOS</a><a href="/tags/xamarin" class="css-4czcte">Xamarin</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div><p>今年も Advent Calendar 1番手、よろしくおねがいします。</p>

<p>さて、Windows + Visual Studio 2017 を使った iOS アプリの開発でも、</p>

<ul>
<li><a href="https://developer.xamarin.com/guides/cross-platform/windows/ios-simulator/" rel="nofollow noopener" target="_blank">Remoted iOS Simulator</a></li>
<li><a href="https://www.xamarin.com/live" rel="nofollow noopener" target="_blank">Xamarin Live Player</a></li>
</ul>

<p>などの登場で、「おっ、これなら iPhone 端末なしで（Mac なしで) iOS アプリ開発できるんじゃね？」 という風説がチラホラ聞かれます。</p>

<p>私は「んなことはない」と考えているのですが、実際どの辺が「ほら iPhone 実機必要でしょ？」なのかを検証してみようと思います。</p>

<p>そして、 <strong>iPhone 実機が必要だということは Mac も必要だということになりますからね。Mac がないとアプリをビルドして実機に転送できないので。</strong></p>

<p>今回は、 「iPhone 実機は必須」 → 「iPhone 実機がないと困ったことが起きる可能性がある」 → 「iPhone 実機でしか発生しないトラブルがある」 という観点で、「iPhone 実機でしか発生しないトラブル」は本当に実在するのかを調査しましょう。</p>

<h2>
<span id="xamarinios-アプリの動作の仕組み" class="fragment"></span><a href="#xamarinios-%E3%82%A2%E3%83%97%E3%83%AA%E3%81%AE%E5%8B%95%E4%BD%9C%E3%81%AE%E4%BB%95%E7%B5%84%E3%81%BF"><i class="fa fa-link"></i></a>Xamarin.iOS アプリの動作の仕組み</h2>

<ul>
<li><a href="http://www.buildinsider.net/mobile/insidexamarin/05" rel="nofollow noopener" target="_blank">Xamarin.iOSの仕組みとアプリケーションの構成 - Build Insider</a></li>
</ul>

<p>Xamarin.iOS のアプリ開発について、最初に知っておくべきことは、 <strong>「iPhone 実機向けと、iOS シミュレータ向けで、配布されるアプリケーションはまったく違う」</strong> ということです。</p>

<p>iPhone 実機向けのビルドでは、 AOT(Ahead-Of-Time) コンパイラによって、 <strong>事前に</strong> プログラムをマシン語に変換されたものを配布します。Apple の制約で iOS 端末上では、動的なプログラムの実行が許可されていないためです。</p>

<p>一方、 iOS シミュレータ向けのビルドでは、AOT ではなく JIT でアプリが動作します。なので AOT で生じる特有の「制約」が iOS シミュレータでは適用されないのです。</p>

<p>しょせん、simulation は "ニセモノ、まがい物"、本物とは違うのです。<br>
普通の思考なら、この時点で 「あっ、iPhone 実機要るわ」 となります、はい終了ー。</p>

<h2>
<span id="xamarinios---aot-の制約を体験してみる" class="fragment"></span><a href="#xamarinios---aot-%E3%81%AE%E5%88%B6%E7%B4%84%E3%82%92%E4%BD%93%E9%A8%93%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B"><i class="fa fa-link"></i></a>Xamarin.iOS - AOT の制約を体験してみる</h2>

<p>これで終わってもアレなので、もうちょっと突っ込んでみましょう。<br>
じゃあ AOT で生じる特有の「制約」って具体的には何よ？ということで、それを体験してみましょう。</p>

<p>AOT での制限事項は次に書いてあります。</p>

<ul>
<li><a href="https://developer.xamarin.com/guides/ios/advanced_topics/limitations/" rel="nofollow noopener" target="_blank">Limitations - Xamarin</a></li>
</ul>

<p>ここに書いてある制限事項をトレースしてみましょう。</p>

<h3>
<span id="generic-subclasses-of-nsobjects-are-limited--実機だけで発生するかquestion" class="fragment"></span><a href="#generic-subclasses-of-nsobjects-are-limited--%E5%AE%9F%E6%A9%9F%E3%81%A0%E3%81%91%E3%81%A7%E7%99%BA%E7%94%9F%E3%81%99%E3%82%8B%E3%81%8Bquestion"><i class="fa fa-link"></i></a>Generic Subclasses of NSObjects are limited → 実機だけで発生するか？=<img alt=":question:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/2753.png" title=":question:" width="20" loading="lazy">
</h3>

<p>えーと、「<code>NSObjects</code> を基底クラスにして Generic クラスを作るのには制限がある」と書いてありますかね。<br>
ん？ 続いて "While generic subclasses of NSObjects are possible, there are a few limitations. " とあるので、なんかできるようになったっぽいです。わずかな制約はまだあるので油断は禁物、とも。</p>

<p>試しにここに書いてある <code>class Foo&lt;T&gt; : UIView { }</code> というクラスを作って使ってみたのですが、実機でも特に問題なかったです。でも few limitations を確認してないので "実機だけで発生するか？" の評価は <img alt=":question:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/2753.png" title=":question:" width="20" loading="lazy"> で。</p>

<h3>
<span id="pinvokes-in-generic-types---実機だけで発生するかx" class="fragment"></span><a href="#pinvokes-in-generic-types---%E5%AE%9F%E6%A9%9F%E3%81%A0%E3%81%91%E3%81%A7%E7%99%BA%E7%94%9F%E3%81%99%E3%82%8B%E3%81%8Bx"><i class="fa fa-link"></i></a>P/Invokes in Generic Types - 実機だけで発生するか？=<img alt=":x:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/274c.png" title=":x:" width="20" loading="lazy">
</h3>

<p>「Generic なクラス内で <code>P/Invoke</code> は使えない」と書いてありますね。</p>

<p>Xamarin.iOS プロジェクトで、 </p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">class</span> <span class="nc">GenericType</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="p">{</span>
    <span class="p">[</span><span class="nf">DllImport</span> <span class="p">(</span><span class="s">"System"</span><span class="p">)]</span>
    <span class="k">public</span> <span class="k">static</span> <span class="k">extern</span> <span class="kt">int</span> <span class="nf">getpid</span> <span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>

<p>というクラスを定義すると、</p>

<blockquote>
<p>The DllImport attribute cannot be applied to a method that is generic or contained in a generic type. (CS7042)</p>
</blockquote>

<p>というエラーがビルド時に出て進めません。これはシミュレータ向けでも実機向けでも同じです。また PCL プロジェクトでは <code>DllImport</code> 自体が使用できません。</p>

<p>よって、この件について「実機だけで発生するか？」の問いには "No" の回答、<img alt=":x:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/274c.png" title=":x:" width="20" loading="lazy"> です。</p>

<h3>
<span id="propertysetinfo-on-a-nullable-type-is-not-supported---評価できず" class="fragment"></span><a href="#propertysetinfo-on-a-nullable-type-is-not-supported---%E8%A9%95%E4%BE%A1%E3%81%A7%E3%81%8D%E3%81%9A"><i class="fa fa-link"></i></a>Property.SetInfo on a Nullable Type is not supported - 評価できず</h3>

<p>Nullable Type どころか、Xamarin.iOS どころか、Xamarin.Android でも、普通のオブジェクトに対しても <code>Property.SetInfo</code> を機能させることができませんでしたー。ちょっと時間切れで割愛。</p>

<h3>
<span id="value-types-as-dictionary-keys---実機だけで発生するか-question" class="fragment"></span><a href="#value-types-as-dictionary-keys---%E5%AE%9F%E6%A9%9F%E3%81%A0%E3%81%91%E3%81%A7%E7%99%BA%E7%94%9F%E3%81%99%E3%82%8B%E3%81%8B-question"><i class="fa fa-link"></i></a>Value types as Dictionary Keys - 実機だけで発生するか？= <img alt=":question:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/2753.png" title=":question:" width="20" loading="lazy">
</h3>

<p>「値型を <code>Dictionary</code> のキーにすると実機でクラッシュする」と書いてあるように見えます、ほうほう。</p>

<p><code>ValueType</code> から直接派生させる方法を知らないので、次のような struct を作って <code>Dictionary</code> のキーに突っ込んでみました。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">struct</span> <span class="nc">MyKey</span> 
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Id</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="p">[</span><span class="nf">Register</span><span class="p">(</span><span class="s">"AppDelegate"</span><span class="p">)]</span>
<span class="k">public</span> <span class="k">partial</span> <span class="k">class</span> <span class="nc">AppDelegate</span> <span class="p">:</span> <span class="k">global</span><span class="p">::</span><span class="n">Xamarin</span><span class="p">.</span><span class="n">Forms</span><span class="p">.</span><span class="n">Platform</span><span class="p">.</span><span class="n">iOS</span><span class="p">.</span><span class="n">FormsApplicationDelegate</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">override</span> <span class="kt">bool</span> <span class="nf">FinishedLaunching</span><span class="p">(</span><span class="n">UIApplication</span> <span class="n">app</span><span class="p">,</span> <span class="n">NSDictionary</span> <span class="n">options</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">var</span> <span class="n">dic</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="n">MyKey</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;();</span>
        <span class="n">dic</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">MyKey</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="s">"a"</span> <span class="p">},</span> <span class="s">"aaa"</span><span class="p">);</span>
        <span class="n">dic</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">MyKey</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="s">"b"</span> <span class="p">},</span> <span class="s">"bbb"</span><span class="p">);</span>
        <span class="n">dic</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">MyKey</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="s">"c"</span> <span class="p">},</span> <span class="s">"ccc"</span><span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">dic</span><span class="p">.</span><span class="nf">ContainsKey</span><span class="p">(</span><span class="k">new</span> <span class="n">MyKey</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="s">"b"</span> <span class="p">}))</span>
        <span class="p">{</span>
            <span class="n">dic</span><span class="p">.</span><span class="nf">Remove</span><span class="p">(</span><span class="k">new</span> <span class="n">MyKey</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="s">"b"</span> <span class="p">});</span>
        <span class="p">}</span>

        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">dic</span><span class="p">.</span><span class="nf">Count</span><span class="p">());</span>
        <span class="err">＜以下省略＞</span>
</code></pre></div></div>

<p>特にクラッシュはしないですね、シミュレータでも実機でも。<br>
しかしこんな簡単なケースだったらもっと大事になってる気がするし、この症状の再現方法に不安があるので <img alt=":question:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/2753.png" title=":question:" width="20" loading="lazy"> で。</p>

<p>*<em>2017/12/01 PM 追記 *</em></p>

<p>この制限、もうないそうですｗ</p>

<blockquote class="twitter-tweet">
<p>Dictionaryの制約はもう無いってさ <a href="https://t.co/XSSsRAwUBo" rel="nofollow noopener" target="_blank">pic.twitter.com/XSSsRAwUBo</a></p>— Atsushi Eno (@atsushieno) <a href="https://twitter.com/atsushieno/status/936421845527646208?ref_src=twsrc%5Etfw" rel="nofollow noopener" target="_blank">2017年12月1日</a>
</blockquote>

<script async src="https://platform.twitter.com/widgets.js"></script>

<h2>
<span id="no-dynamic-code-generation" class="fragment"></span><a href="#no-dynamic-code-generation"><i class="fa fa-link"></i></a>No Dynamic Code Generation</h2>

<p>本題っぽくなってきました。<br>
<code>Reflection.Emit</code> とか動的言語ランタイム(DLR)、Remoting は動きませんよー、と書いてあります。Remoting は調査してませんのであしからず。</p>

<h3>
<span id="refrectionemit---実機だけで発生するか-x" class="fragment"></span><a href="#refrectionemit---%E5%AE%9F%E6%A9%9F%E3%81%A0%E3%81%91%E3%81%A7%E7%99%BA%E7%94%9F%E3%81%99%E3%82%8B%E3%81%8B-x"><i class="fa fa-link"></i></a>Refrection.Emit - 実機だけで発生するか？= <img alt=":x:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/274c.png" title=":x:" width="20" loading="lazy">
</h3>

<p>実は使ったことないので、精鋭が書いたネットのコピペを元にやってみたんですが、どうも必要なクラスやメンバが Xamarin.iOS では公開されてない（あるいは実装されてない）っぽくて、シミュレータでも実機でも動作しませんでした。</p>

<h3>
<span id="dynamic-型---実機だけで発生するか-x" class="fragment"></span><a href="#dynamic-%E5%9E%8B---%E5%AE%9F%E6%A9%9F%E3%81%A0%E3%81%91%E3%81%A7%E7%99%BA%E7%94%9F%E3%81%99%E3%82%8B%E3%81%8B-x"><i class="fa fa-link"></i></a>dynamic 型 - 実機だけで発生するか？= <img alt=":x:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/274c.png" title=":x:" width="20" loading="lazy">
</h3>

<p>DLR が提供する代表的な機能である <code>dynamic</code> 型はどうでしょう？</p>

<p>DLR を使用するには <code>Microsoft.CSharp</code> を nuget や参照の追加で Xamarin.iOS プロジェクトに追加する必要があります。</p>

<p>その上で、次のような(<a href="http://ufcpp.net/study/csharp/sp4_dynamic.html" rel="nofollow noopener" target="_blank">"C# でぐぐれ！"の人のサイトからの</a>)コードを実行してみました。</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">static</span> <span class="kt">dynamic</span> <span class="nf">GetX</span><span class="p">(</span><span class="kt">dynamic</span> <span class="n">obj</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">obj</span><span class="p">.</span><span class="n">X</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">override</span> <span class="kt">bool</span> <span class="nf">FinishedLaunching</span><span class="p">(</span><span class="n">UIApplication</span> <span class="n">app</span><span class="p">,</span> <span class="n">NSDictionary</span> <span class="n">options</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">ret</span> <span class="p">=</span> <span class="nf">GetX</span><span class="p">(</span><span class="k">new</span> <span class="n">System</span><span class="p">.</span><span class="n">Drawing</span><span class="p">.</span><span class="n">Point</span> <span class="p">{</span> <span class="n">X</span> <span class="p">=</span> <span class="m">999</span> <span class="p">});</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">ret</span><span class="p">.</span><span class="nf">ToString</span><span class="p">());</span>

    <span class="err">＜以下省略＞</span>
</code></pre></div></div>

<p>このコードも、シミュレータでは当然動作しますが、なんと実機で動作します。どうなっとるんじゃい。<br>
というわけでこれも <img alt=":x:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/274c.png" title=":x:" width="20" loading="lazy"> </p>

<p>これについては、2014年にリリースされた Mono 3.2.7 で、</p>

<ul>
<li><a href="http://www.mono-project.com/docs/about-mono/releases/3.2.7/" rel="nofollow noopener" target="_blank">New in Mono 3.2.7 | Mono</a></li>
</ul>

<blockquote>
<p>System.Core now has an interpreter for LINQ expressions and dynamic statements that can be used by FullAOT runtimes.</p>
</blockquote>

<p>と書かれているので、それの恩恵かなと推測されます。<br>
また、最近でも、</p>

<ul>
<li><a href="http://www.mono-project.com/news/2017/11/13/mono-interpreter/" rel="nofollow noopener" target="_blank">Mono's New .NET Interpreter | Mono</a></li>
</ul>

<p>という話題があり、 <code>Reflection.Emit</code> もイケちゃうかもみたいな記述もあります。この辺りが好きな方は是非「<a href="https://qiita.com/advent-calendar/2017/aot">AOT技術 Advent Calendar 2017</a>」へ投稿をお願いします。 <img alt=":pray:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/1f64f.png" title=":pray:" width="20" loading="lazy"> </p>

<h3>
<span id="reverse-callbacks" class="fragment"></span><a href="#reverse-callbacks"><i class="fa fa-link"></i></a>Reverse Callbacks</h3>

<p>よくわからないので、割愛 <img alt=":bow:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/1f647.png" title=":bow:" width="20" loading="lazy"> </p>

<h2>
<span id="ここまでのまとめ" class="fragment"></span><a href="#%E3%81%93%E3%81%93%E3%81%BE%E3%81%A7%E3%81%AE%E3%81%BE%E3%81%A8%E3%82%81"><i class="fa fa-link"></i></a>ここまでのまとめ</h2>

<p>さて <a href="https://developer.xamarin.com/guides/ios/advanced_topics/limitations/" rel="nofollow noopener" target="_blank">Limitations - Xamarin</a> を辿ってきましたが、明確に 「iPhone実機でのみ動作しないという制限」 は確認できませんでした。 </p>

<p>しかし、制限そのものが確認できなかったり、細かい制約はあるので、安心して「実機のみ動作しないことはない」とは言い切れません。</p>

<h2>
<span id="リンカーのお仕事---みなさんがaot-のせいと普段言ってるのはたぶんこっち" class="fragment"></span><a href="#%E3%83%AA%E3%83%B3%E3%82%AB%E3%83%BC%E3%81%AE%E3%81%8A%E4%BB%95%E4%BA%8B---%E3%81%BF%E3%81%AA%E3%81%95%E3%82%93%E3%81%8Caot-%E3%81%AE%E3%81%9B%E3%81%84%E3%81%A8%E6%99%AE%E6%AE%B5%E8%A8%80%E3%81%A3%E3%81%A6%E3%82%8B%E3%81%AE%E3%81%AF%E3%81%9F%E3%81%B6%E3%82%93%E3%81%93%E3%81%A3%E3%81%A1"><i class="fa fa-link"></i></a>リンカーのお仕事 - みなさんが「AOT のせい」と普段言ってるのはたぶんこっち</h2>

<p>とは言え、iPhone 実機でのみ動作しないコードに遭遇するという体験は確かにあります。</p>

<p>例えば次のコード</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="kt">var</span> <span class="n">typeName</span> <span class="p">=</span> <span class="s">"System.Net.WebClient, System, Version=2.0.5.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">type</span> <span class="p">=</span> <span class="n">Type</span><span class="p">.</span><span class="nf">GetType</span><span class="p">(</span><span class="n">typeName</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="n">Activator</span><span class="p">.</span><span class="nf">CreateInstance</span><span class="p">(</span><span class="n">type</span><span class="p">);</span>

<span class="n">Debug</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="nf">GetType</span><span class="p">().</span><span class="n">AssemblyQualifiedName</span><span class="p">);</span>
</code></pre></div></div>

<p>厳密名で指定してるから長いけど、要は「型を示す文字列からインスタンスを生成する」という処理。できる限り実装を外部から注入できるようにするとどこかで使うやつですね。</p>

<p>このコード、iOSシミュレータでは動作しますが、iPhone 実機では動作しません（<code>type</code> が <code>null</code>、つまりそんな型はない、と言われます）。</p>

<p>.NETフレームワークのクラスのひとつである「System.Net.WebClient」は確かに存在しているはずなのに、「ない」と言われる、なぜか？<br>
そこで気にすべき存在が「リンカー」です。</p>

<h3>
<span id="xamarinios-におけるリンカーとはなにか" class="fragment"></span><a href="#xamarinios-%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B%E3%83%AA%E3%83%B3%E3%82%AB%E3%83%BC%E3%81%A8%E3%81%AF%E3%81%AA%E3%81%AB%E3%81%8B"><i class="fa fa-link"></i></a>「Xamarin.iOS におけるリンカー」とはなにか？</h3>

<p>リンカー(linker)とは、ソースコードを最終的に実行可能プログラムにするまでに登場するツールの一つですが、その辺のはなしは「compiler, linker」などとググればたくさん出てくるのでそちらで。</p>

<p>Xamarin.iOS の文脈での「リンカー」のお仕事は、</p>

<ul>
<li>アプリケーションには不要な（=使用されないと判断した)クラスやメンバーを削除すること</li>
</ul>

<p>だと思っておけばよいでしょう。 Android だと ProGuard、.NET だと DotFuscator などの「難読化ツール」が持つ副次的な機能に「<a href="https://www.agtech.co.jp/products/preemptive/dotfuscator/featuresinfo.html#fet05" rel="nofollow noopener" target="_blank">不要コードの除去</a>」がありますが、それと同じようなものだと理解できます。</p>

<p>つまり、先のコードに出てきた <code>System.Net.WebClient</code> は、静的なソースコード解析によって「不要だと判断されて」削除されてしまいました。文字列の中に記述されているとはリンカーは知る由もありません。</p>

<p>では、なぜ iOSシミュレータでは動作するのでしょう？<br>
とここで Xamarin.iOS プロジェクトの設定を見てみましょう。</p>

<p><strong>実機向けビルドの設定</strong></p>

<p><a href="https://camo.qiitausercontent.com/258f4ec0a26461d670c024c13b8fa086015acf82/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f383232372f37653536626637352d306236362d373938372d303337362d6638623037353764336634612e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F8227%2F7e56bf75-0b66-7987-0376-f8b0757d3f4a.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=acd1b01d39381b54e8af02ab61302bbb" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/8227/7e56bf75-0b66-7987-0376-f8b0757d3f4a.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F8227%2F7e56bf75-0b66-7987-0376-f8b0757d3f4a.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=45d71855be6c333e8b0dd0138540bef9 1x" loading="lazy"></a></p>

<p><strong>iOSシミュレータ向けビルドの設定</strong></p>

<p><a href="https://camo.qiitausercontent.com/76bca1c285150a7059ffc9cff0205fc6e69d9d44/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f383232372f63366233363365662d646366622d326565622d386533302d3834396334383338313931352e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F8227%2Fc6b363ef-dcfb-2eeb-8e30-849c48381915.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=46c698cb751c0f43ebdd284ea9b8ec00" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/8227/c6b363ef-dcfb-2eeb-8e30-849c48381915.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F8227%2Fc6b363ef-dcfb-2eeb-8e30-849c48381915.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=0763b5c5a864426ac20e8d1e09cc6c77 1x" loading="lazy"></a></p>

<p>はい、このように</p>

<ul>
<li>実機向けの場合は「フレームワークSDKのみをリンクする」</li>
<li>シミュレータ向けの場合は「リンクしない」</li>
</ul>

<p>となっていました。つまりシミュレータ向けのアプリは「不要なコードを削除する処理が行われていない」ということになり、すべてのクラスが使用できていました。</p>

<p>逆に言えば、 <strong>シミュレータ向けのビルド設定を「フレームワークSDKのみをリンクする」にすれば、実機と同じように上記コードは動作しなくなります</strong> 。</p>

<p>シミュレータでは AOT は使用されないのに、実機と同じ症状を発生させられるのだから、これは 「AOT のせい」ではないことがわかります。</p>

<p>おそらく一般的に「AOT のせいで iOS 実機で動作しない」と言われている事象のほとんどは「実はリンカーのせい」だと思われます。</p>

<p>例えばこれ↓とか</p>

<ul>
<li><a href="https://qiita.com/amay077/items/3a6f50cede3425fc9f3f" id="reference-3b9830cdd568fd356b65">Xamarin.iOS の AOT に気をつけろ！Rx の FromEventPattern を使うときの注意点</a></li>
</ul>

<p>書いたのオマエかよw</p>

<p>なので、このトラブルは、iOSシミュレータ向けのビルド設定を「リンクする」に変更することで発見可能です。あれ、ここでも iPhone 実機必要なくなっちゃった。<img alt=":sweat_smile:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/1f605.png" title=":sweat_smile:" width="20" loading="lazy"></p>

<p>（実機向けのビルド設定を「リンクしない」にしても同様に動作しますが、配布する <code>.ipa</code> にデータサイズが巨大になってしまうので現実解ではないです。）</p>

<h3>
<span id="リンカーに消されないようにするには" class="fragment"></span><a href="#%E3%83%AA%E3%83%B3%E3%82%AB%E3%83%BC%E3%81%AB%E6%B6%88%E3%81%95%E3%82%8C%E3%81%AA%E3%81%84%E3%82%88%E3%81%86%E3%81%AB%E3%81%99%E3%82%8B%E3%81%AB%E3%81%AF"><i class="fa fa-link"></i></a>リンカーに消されないようにするには？</h3>

<p>次の３つの方法があります。</p>

<ol>
<li>どこか1箇所でいいから、型を明示的にソースコード中に書く</li>
<li>消されたくないクラスに <code>Preserve</code> 属性を付ける</li>
<li>ビルド設定で「除外するアセンブリ」を指定する</li>
</ol>

<p>1 が一番よく行う方法です。アプリの static コンストラクタに</p>

<div class="code-frame" data-lang="csharp"><div class="highlight"><pre class="with-code"><code><span class="k">static</span> <span class="nf">AppDelegate</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">dummy</span> <span class="p">=</span> <span class="k">new</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="nf">WebClient</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>

<p>などと書いておくだけでOKです。デメリットは、使用する実装クラスが予めわかっている必要があること、インスタンス生成のコストが発生することです。</p>

<p>ライブラリでも、「とりあえずアプリ起動時に <code>MyLib.Init()</code> を呼べ」みたいなものがありますが、それもリンカー対策のために必須としていると思ってもよいでしょう。</p>

<p>2 はライブラリ開発者側の話で、これは、消されるとまずいぞとわかっているクラスやメンバに <code>[Preserve]</code> という属性を付けておくと、リンカーさんは、それがついているクラスを無視してくれるというものです。</p>

<ul>
<li><a href="https://developer.xamarin.com/guides/ios/advanced_topics/linker/#Preserving_Code" rel="nofollow noopener" target="_blank">Preserving Code ｜ Linking on iOS - Xamarin</a></li>
</ul>

<p>デメリットは、ライブラリ開発者しか使えないということです。ライブラリ使用者つまりアプリ開発者は、問題が発生したライブラリに対して、この方法は適用できません。</p>

<p>3 はビルド設定で、リンカーの対象外にするアセンブリを指定する、というものです。</p>

<ul>
<li><a href="https://developer.xamarin.com/guides/ios/advanced_topics/linker/#Skipping_Assemblies" rel="nofollow noopener" target="_blank">Skipping Assemblies ｜ Linking on iOS - Xamarin</a></li>
</ul>

<p>デメリットというか、どこに何を設定すれば機能するのか分からないんですよね、IDEでは。。。</p>

<h2>
<span id="さいごのまとめ" class="fragment"></span><a href="#%E3%81%95%E3%81%84%E3%81%94%E3%81%AE%E3%81%BE%E3%81%A8%E3%82%81"><i class="fa fa-link"></i></a>さいごのまとめ</h2>

<ul>
<li>AOT の制限 -&gt; 実機でのみ再現する事象は確認できなかった(未確認な制限あり)</li>
<li>リンカーによるトラブル -&gt; iOSシミュレータでもビルド設定を「リンクする」に変えれば未然に防げる</li>
</ul>

<p>あれ？ iOSシミュレータだけでも結構イケる？？？</p>

<p>ままま、まあシミュレータは所詮シミュレータなんで！いつも実機で開発してないと、いざデプロイするときに絶対問題起こるんで！！<img alt=":cold_sweat:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/1f630.png" title=":cold_sweat:" width="20" loading="lazy"><img alt=":sweat_drops:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/1f4a6.png" title=":sweat_drops:" width="20" loading="lazy"></p>

<p>しかし会社の方針？とかでiPhone実機が提供されず、シミュレータしか使えない環境の人は、せめてビルド設定だけは変えておきましょう。</p>

<p>ただし「Xamarin Live Playerだけ使えばOK」その考えはダメ。なぜならこれは「あなたのコードを、iOS アプリっぽい画面にインタラクティブに表示させるアプリ」だからです。</p>

<h3>
<span id="そこで-visual-studio-app-center-ですよですか" class="fragment"></span><a href="#%E3%81%9D%E3%81%93%E3%81%A7-visual-studio-app-center-%E3%81%A7%E3%81%99%E3%82%88%E3%81%A7%E3%81%99%E3%81%8B"><i class="fa fa-link"></i></a>そこで Visual Studio App Center ですよ（ですか？）</h3>

<p>Visual Studio Mobile Center から名称変更して正式リリースとなった <a href="https://azure.microsoft.com/ja-jp/services/app-center/" rel="nofollow noopener" target="_blank">Visual Studio App Center</a> は、 <a href="https://www.xamarin.com/test-cloud" rel="nofollow noopener" target="_blank">Xamarin Test cloud</a> のサブセット？を内包しており、雲の向こう側にある「実際の端末」を使ってテストができます。継続的に実機でテストが実施できるとしたら、それはとても恵まれた環境でしょう。けど、開発時に常時使うもんじゃないよね。</p>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2Famay077%2Fitems%2F6a6d5855b3d0c46de126&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2Famay077%2Fitems%2F6a6d5855b3d0c46de126&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/amay077/items/6a6d5855b3d0c46de126/likers" class="css-1iupg5d">27</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">8</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/6a6d5855b3d0c46de126/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/amay077/items/6a6d5855b3d0c46de126/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/amay077/items/6a6d5855b3d0c46de126/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/amay077/items/6a6d5855b3d0c46de126/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/amay077/items/6a6d5855b3d0c46de126.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-c747cad5-c788-47c2-9701-d6b74b0d6dd2">{"authorAnalyticsTrackingId":"UA-224332-8","organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-2ab7f771-b1ef-415f-a68a-8ebe1aa9d7a6"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-2ab7f771-b1ef-415f-a68a-8ebe1aa9d7a6">{}</script>
      
<div id="LoginModal-react-component-e21eac60-c729-48b5-86e8-cef3fdd01459"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-e21eac60-c729-48b5-86e8-cef3fdd01459">{}</script>
      
<div id="StockModal-react-component-353e8018-e021-451f-8c2e-359ec958c69f"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-353e8018-e021-451f-8c2e-359ec958c69f">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;s37T1jmxDm5JbvvrKvPglnKU/1n4SYhnFqWSSv4h38zFAsGKW+7Soa1aYHrQWPjVWApzOeDaRw5VRiarGkuVpg==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\u003cp\u003e今年も Advent Calendar 1番手、よろしくおねがいします。\u003c/p\u003e\n\n\u003cp\u003eさて、Windows + Visual Studio 2017 を使った iOS アプリの開発でも、\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://developer.xamarin.com/guides/cross-platform/windows/ios-simulator/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eRemoted iOS Simulator\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.xamarin.com/live\" rel=\"nofollow noopener\" target=\"_blank\"\u003eXamarin Live Player\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eなどの登場で、「おっ、これなら iPhone 端末なしで（Mac なしで) iOS アプリ開発できるんじゃね？」 という風説がチラホラ聞かれます。\u003c/p\u003e\n\n\u003cp\u003e私は「んなことはない」と考えているのですが、実際どの辺が「ほら iPhone 実機必要でしょ？」なのかを検証してみようと思います。\u003c/p\u003e\n\n\u003cp\u003eそして、 \u003cstrong\u003eiPhone 実機が必要だということは Mac も必要だということになりますからね。Mac がないとアプリをビルドして実機に転送できないので。\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003e今回は、 「iPhone 実機は必須」 → 「iPhone 実機がないと困ったことが起きる可能性がある」 → 「iPhone 実機でしか発生しないトラブルがある」 という観点で、「iPhone 実機でしか発生しないトラブル」は本当に実在するのかを調査しましょう。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"xamarinios-アプリの動作の仕組み\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#xamarinios-%E3%82%A2%E3%83%97%E3%83%AA%E3%81%AE%E5%8B%95%E4%BD%9C%E3%81%AE%E4%BB%95%E7%B5%84%E3%81%BF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eXamarin.iOS アプリの動作の仕組み\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"http://www.buildinsider.net/mobile/insidexamarin/05\" rel=\"nofollow noopener\" target=\"_blank\"\u003eXamarin.iOSの仕組みとアプリケーションの構成 - Build Insider\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eXamarin.iOS のアプリ開発について、最初に知っておくべきことは、 \u003cstrong\u003e「iPhone 実機向けと、iOS シミュレータ向けで、配布されるアプリケーションはまったく違う」\u003c/strong\u003e ということです。\u003c/p\u003e\n\n\u003cp\u003eiPhone 実機向けのビルドでは、 AOT(Ahead-Of-Time) コンパイラによって、 \u003cstrong\u003e事前に\u003c/strong\u003e プログラムをマシン語に変換されたものを配布します。Apple の制約で iOS 端末上では、動的なプログラムの実行が許可されていないためです。\u003c/p\u003e\n\n\u003cp\u003e一方、 iOS シミュレータ向けのビルドでは、AOT ではなく JIT でアプリが動作します。なので AOT で生じる特有の「制約」が iOS シミュレータでは適用されないのです。\u003c/p\u003e\n\n\u003cp\u003eしょせん、simulation は \"ニセモノ、まがい物\"、本物とは違うのです。\u003cbr\u003e\n普通の思考なら、この時点で 「あっ、iPhone 実機要るわ」 となります、はい終了ー。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"xamarinios---aot-の制約を体験してみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#xamarinios---aot-%E3%81%AE%E5%88%B6%E7%B4%84%E3%82%92%E4%BD%93%E9%A8%93%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eXamarin.iOS - AOT の制約を体験してみる\u003c/h2\u003e\n\n\u003cp\u003eこれで終わってもアレなので、もうちょっと突っ込んでみましょう。\u003cbr\u003e\nじゃあ AOT で生じる特有の「制約」って具体的には何よ？ということで、それを体験してみましょう。\u003c/p\u003e\n\n\u003cp\u003eAOT での制限事項は次に書いてあります。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://developer.xamarin.com/guides/ios/advanced_topics/limitations/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eLimitations - Xamarin\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eここに書いてある制限事項をトレースしてみましょう。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"generic-subclasses-of-nsobjects-are-limited--実機だけで発生するかquestion\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#generic-subclasses-of-nsobjects-are-limited--%E5%AE%9F%E6%A9%9F%E3%81%A0%E3%81%91%E3%81%A7%E7%99%BA%E7%94%9F%E3%81%99%E3%82%8B%E3%81%8Bquestion\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGeneric Subclasses of NSObjects are limited → 実機だけで発生するか？=\u003cimg alt=\":question:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/2753.png\" title=\":question:\" width=\"20\" loading=\"lazy\"\u003e\n\u003c/h3\u003e\n\n\u003cp\u003eえーと、「\u003ccode\u003eNSObjects\u003c/code\u003e を基底クラスにして Generic クラスを作るのには制限がある」と書いてありますかね。\u003cbr\u003e\nん？ 続いて \"While generic subclasses of NSObjects are possible, there are a few limitations. \" とあるので、なんかできるようになったっぽいです。わずかな制約はまだあるので油断は禁物、とも。\u003c/p\u003e\n\n\u003cp\u003e試しにここに書いてある \u003ccode\u003eclass Foo\u0026lt;T\u0026gt; : UIView { }\u003c/code\u003e というクラスを作って使ってみたのですが、実機でも特に問題なかったです。でも few limitations を確認してないので \"実機だけで発生するか？\" の評価は \u003cimg alt=\":question:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/2753.png\" title=\":question:\" width=\"20\" loading=\"lazy\"\u003e で。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"pinvokes-in-generic-types---実機だけで発生するかx\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#pinvokes-in-generic-types---%E5%AE%9F%E6%A9%9F%E3%81%A0%E3%81%91%E3%81%A7%E7%99%BA%E7%94%9F%E3%81%99%E3%82%8B%E3%81%8Bx\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eP/Invokes in Generic Types - 実機だけで発生するか？=\u003cimg alt=\":x:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/274c.png\" title=\":x:\" width=\"20\" loading=\"lazy\"\u003e\n\u003c/h3\u003e\n\n\u003cp\u003e「Generic なクラス内で \u003ccode\u003eP/Invoke\u003c/code\u003e は使えない」と書いてありますね。\u003c/p\u003e\n\n\u003cp\u003eXamarin.iOS プロジェクトで、 \u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eGenericType\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eT\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003eDllImport\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"System\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003eextern\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"nf\"\u003egetpid\u003c/span\u003e \u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eというクラスを定義すると、\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003eThe DllImport attribute cannot be applied to a method that is generic or contained in a generic type. (CS7042)\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003eというエラーがビルド時に出て進めません。これはシミュレータ向けでも実機向けでも同じです。また PCL プロジェクトでは \u003ccode\u003eDllImport\u003c/code\u003e 自体が使用できません。\u003c/p\u003e\n\n\u003cp\u003eよって、この件について「実機だけで発生するか？」の問いには \"No\" の回答、\u003cimg alt=\":x:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/274c.png\" title=\":x:\" width=\"20\" loading=\"lazy\"\u003e です。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"propertysetinfo-on-a-nullable-type-is-not-supported---評価できず\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#propertysetinfo-on-a-nullable-type-is-not-supported---%E8%A9%95%E4%BE%A1%E3%81%A7%E3%81%8D%E3%81%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eProperty.SetInfo on a Nullable Type is not supported - 評価できず\u003c/h3\u003e\n\n\u003cp\u003eNullable Type どころか、Xamarin.iOS どころか、Xamarin.Android でも、普通のオブジェクトに対しても \u003ccode\u003eProperty.SetInfo\u003c/code\u003e を機能させることができませんでしたー。ちょっと時間切れで割愛。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"value-types-as-dictionary-keys---実機だけで発生するか-question\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#value-types-as-dictionary-keys---%E5%AE%9F%E6%A9%9F%E3%81%A0%E3%81%91%E3%81%A7%E7%99%BA%E7%94%9F%E3%81%99%E3%82%8B%E3%81%8B-question\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eValue types as Dictionary Keys - 実機だけで発生するか？= \u003cimg alt=\":question:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/2753.png\" title=\":question:\" width=\"20\" loading=\"lazy\"\u003e\n\u003c/h3\u003e\n\n\u003cp\u003e「値型を \u003ccode\u003eDictionary\u003c/code\u003e のキーにすると実機でクラッシュする」と書いてあるように見えます、ほうほう。\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003eValueType\u003c/code\u003e から直接派生させる方法を知らないので、次のような struct を作って \u003ccode\u003eDictionary\u003c/code\u003e のキーに突っ込んでみました。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003estruct\u003c/span\u003e \u003cspan class=\"nc\"\u003eMyKey\u003c/span\u003e \n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eId\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003eRegister\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"AppDelegate\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003epartial\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eAppDelegate\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"k\"\u003eglobal\u003c/span\u003e\u003cspan class=\"p\"\u003e::\u003c/span\u003e\u003cspan class=\"n\"\u003eXamarin\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eForms\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePlatform\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eiOS\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFormsApplicationDelegate\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"nf\"\u003eFinishedLaunching\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eUIApplication\u003c/span\u003e \u003cspan class=\"n\"\u003eapp\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eNSDictionary\u003c/span\u003e \u003cspan class=\"n\"\u003eoptions\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003edic\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eDictionary\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eMyKey\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;();\u003c/span\u003e\n        \u003cspan class=\"n\"\u003edic\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eMyKey\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"n\"\u003eId\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"a\"\u003c/span\u003e \u003cspan class=\"p\"\u003e},\u003c/span\u003e \u003cspan class=\"s\"\u003e\"aaa\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"n\"\u003edic\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eMyKey\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"n\"\u003eId\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"b\"\u003c/span\u003e \u003cspan class=\"p\"\u003e},\u003c/span\u003e \u003cspan class=\"s\"\u003e\"bbb\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"n\"\u003edic\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eMyKey\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"n\"\u003eId\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"c\"\u003c/span\u003e \u003cspan class=\"p\"\u003e},\u003c/span\u003e \u003cspan class=\"s\"\u003e\"ccc\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edic\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eContainsKey\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eMyKey\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"n\"\u003eId\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"b\"\u003c/span\u003e \u003cspan class=\"p\"\u003e}))\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003edic\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eRemove\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eMyKey\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"n\"\u003eId\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"b\"\u003c/span\u003e \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"n\"\u003eConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edic\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCount\u003c/span\u003e\u003cspan class=\"p\"\u003e());\u003c/span\u003e\n        \u003cspan class=\"err\"\u003e＜以下省略＞\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e特にクラッシュはしないですね、シミュレータでも実機でも。\u003cbr\u003e\nしかしこんな簡単なケースだったらもっと大事になってる気がするし、この症状の再現方法に不安があるので \u003cimg alt=\":question:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/2753.png\" title=\":question:\" width=\"20\" loading=\"lazy\"\u003e で。\u003c/p\u003e\n\n\u003cp\u003e*\u003cem\u003e2017/12/01 PM 追記 *\u003c/em\u003e\u003c/p\u003e\n\n\u003cp\u003eこの制限、もうないそうですｗ\u003c/p\u003e\n\n\u003cblockquote class=\"twitter-tweet\"\u003e\n\u003cp\u003eDictionaryの制約はもう無いってさ \u003ca href=\"https://t.co/XSSsRAwUBo\" rel=\"nofollow noopener\" target=\"_blank\"\u003epic.twitter.com/XSSsRAwUBo\u003c/a\u003e\u003c/p\u003e— Atsushi Eno (@atsushieno) \u003ca href=\"https://twitter.com/atsushieno/status/936421845527646208?ref_src=twsrc%5Etfw\" rel=\"nofollow noopener\" target=\"_blank\"\u003e2017年12月1日\u003c/a\u003e\n\u003c/blockquote\u003e\n\n\u003cscript async src=\"https://platform.twitter.com/widgets.js\"\u003e\u003c/script\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"no-dynamic-code-generation\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#no-dynamic-code-generation\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eNo Dynamic Code Generation\u003c/h2\u003e\n\n\u003cp\u003e本題っぽくなってきました。\u003cbr\u003e\n\u003ccode\u003eReflection.Emit\u003c/code\u003e とか動的言語ランタイム(DLR)、Remoting は動きませんよー、と書いてあります。Remoting は調査してませんのであしからず。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"refrectionemit---実機だけで発生するか-x\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#refrectionemit---%E5%AE%9F%E6%A9%9F%E3%81%A0%E3%81%91%E3%81%A7%E7%99%BA%E7%94%9F%E3%81%99%E3%82%8B%E3%81%8B-x\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eRefrection.Emit - 実機だけで発生するか？= \u003cimg alt=\":x:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/274c.png\" title=\":x:\" width=\"20\" loading=\"lazy\"\u003e\n\u003c/h3\u003e\n\n\u003cp\u003e実は使ったことないので、精鋭が書いたネットのコピペを元にやってみたんですが、どうも必要なクラスやメンバが Xamarin.iOS では公開されてない（あるいは実装されてない）っぽくて、シミュレータでも実機でも動作しませんでした。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"dynamic-型---実機だけで発生するか-x\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#dynamic-%E5%9E%8B---%E5%AE%9F%E6%A9%9F%E3%81%A0%E3%81%91%E3%81%A7%E7%99%BA%E7%94%9F%E3%81%99%E3%82%8B%E3%81%8B-x\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003edynamic 型 - 実機だけで発生するか？= \u003cimg alt=\":x:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/274c.png\" title=\":x:\" width=\"20\" loading=\"lazy\"\u003e\n\u003c/h3\u003e\n\n\u003cp\u003eDLR が提供する代表的な機能である \u003ccode\u003edynamic\u003c/code\u003e 型はどうでしょう？\u003c/p\u003e\n\n\u003cp\u003eDLR を使用するには \u003ccode\u003eMicrosoft.CSharp\u003c/code\u003e を nuget や参照の追加で Xamarin.iOS プロジェクトに追加する必要があります。\u003c/p\u003e\n\n\u003cp\u003eその上で、次のような(\u003ca href=\"http://ufcpp.net/study/csharp/sp4_dynamic.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003e\"C# でぐぐれ！\"の人のサイトからの\u003c/a\u003e)コードを実行してみました。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"kt\"\u003edynamic\u003c/span\u003e \u003cspan class=\"nf\"\u003eGetX\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003edynamic\u003c/span\u003e \u003cspan class=\"n\"\u003eobj\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eobj\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eX\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"kt\"\u003ebool\u003c/span\u003e \u003cspan class=\"nf\"\u003eFinishedLaunching\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eUIApplication\u003c/span\u003e \u003cspan class=\"n\"\u003eapp\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eNSDictionary\u003c/span\u003e \u003cspan class=\"n\"\u003eoptions\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003eret\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003eGetX\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eSystem\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDrawing\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePoint\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"n\"\u003eX\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e999\u003c/span\u003e \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eConsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eret\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToString\u003c/span\u003e\u003cspan class=\"p\"\u003e());\u003c/span\u003e\n\n    \u003cspan class=\"err\"\u003e＜以下省略＞\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこのコードも、シミュレータでは当然動作しますが、なんと実機で動作します。どうなっとるんじゃい。\u003cbr\u003e\nというわけでこれも \u003cimg alt=\":x:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/274c.png\" title=\":x:\" width=\"20\" loading=\"lazy\"\u003e \u003c/p\u003e\n\n\u003cp\u003eこれについては、2014年にリリースされた Mono 3.2.7 で、\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"http://www.mono-project.com/docs/about-mono/releases/3.2.7/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eNew in Mono 3.2.7 | Mono\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003eSystem.Core now has an interpreter for LINQ expressions and dynamic statements that can be used by FullAOT runtimes.\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003eと書かれているので、それの恩恵かなと推測されます。\u003cbr\u003e\nまた、最近でも、\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"http://www.mono-project.com/news/2017/11/13/mono-interpreter/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eMono's New .NET Interpreter | Mono\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eという話題があり、 \u003ccode\u003eReflection.Emit\u003c/code\u003e もイケちゃうかもみたいな記述もあります。この辺りが好きな方は是非「\u003ca href=\"https://qiita.com/advent-calendar/2017/aot\"\u003eAOT技術 Advent Calendar 2017\u003c/a\u003e」へ投稿をお願いします。 \u003cimg alt=\":pray:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f64f.png\" title=\":pray:\" width=\"20\" loading=\"lazy\"\u003e \u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"reverse-callbacks\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#reverse-callbacks\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eReverse Callbacks\u003c/h3\u003e\n\n\u003cp\u003eよくわからないので、割愛 \u003cimg alt=\":bow:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f647.png\" title=\":bow:\" width=\"20\" loading=\"lazy\"\u003e \u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"ここまでのまとめ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%93%E3%81%93%E3%81%BE%E3%81%A7%E3%81%AE%E3%81%BE%E3%81%A8%E3%82%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eここまでのまとめ\u003c/h2\u003e\n\n\u003cp\u003eさて \u003ca href=\"https://developer.xamarin.com/guides/ios/advanced_topics/limitations/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eLimitations - Xamarin\u003c/a\u003e を辿ってきましたが、明確に 「iPhone実機でのみ動作しないという制限」 は確認できませんでした。 \u003c/p\u003e\n\n\u003cp\u003eしかし、制限そのものが確認できなかったり、細かい制約はあるので、安心して「実機のみ動作しないことはない」とは言い切れません。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"リンカーのお仕事---みなさんがaot-のせいと普段言ってるのはたぶんこっち\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AA%E3%83%B3%E3%82%AB%E3%83%BC%E3%81%AE%E3%81%8A%E4%BB%95%E4%BA%8B---%E3%81%BF%E3%81%AA%E3%81%95%E3%82%93%E3%81%8Caot-%E3%81%AE%E3%81%9B%E3%81%84%E3%81%A8%E6%99%AE%E6%AE%B5%E8%A8%80%E3%81%A3%E3%81%A6%E3%82%8B%E3%81%AE%E3%81%AF%E3%81%9F%E3%81%B6%E3%82%93%E3%81%93%E3%81%A3%E3%81%A1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eリンカーのお仕事 - みなさんが「AOT のせい」と普段言ってるのはたぶんこっち\u003c/h2\u003e\n\n\u003cp\u003eとは言え、iPhone 実機でのみ動作しないコードに遭遇するという体験は確かにあります。\u003c/p\u003e\n\n\u003cp\u003e例えば次のコード\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003etypeName\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"System.Net.WebClient, System, Version=2.0.5.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003etype\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eType\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetType\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etypeName\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003eclient\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eActivator\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eCreateInstance\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eDebug\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWriteLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eclient\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetType\u003c/span\u003e\u003cspan class=\"p\"\u003e().\u003c/span\u003e\u003cspan class=\"n\"\u003eAssemblyQualifiedName\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e厳密名で指定してるから長いけど、要は「型を示す文字列からインスタンスを生成する」という処理。できる限り実装を外部から注入できるようにするとどこかで使うやつですね。\u003c/p\u003e\n\n\u003cp\u003eこのコード、iOSシミュレータでは動作しますが、iPhone 実機では動作しません（\u003ccode\u003etype\u003c/code\u003e が \u003ccode\u003enull\u003c/code\u003e、つまりそんな型はない、と言われます）。\u003c/p\u003e\n\n\u003cp\u003e.NETフレームワークのクラスのひとつである「System.Net.WebClient」は確かに存在しているはずなのに、「ない」と言われる、なぜか？\u003cbr\u003e\nそこで気にすべき存在が「リンカー」です。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"xamarinios-におけるリンカーとはなにか\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#xamarinios-%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B%E3%83%AA%E3%83%B3%E3%82%AB%E3%83%BC%E3%81%A8%E3%81%AF%E3%81%AA%E3%81%AB%E3%81%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e「Xamarin.iOS におけるリンカー」とはなにか？\u003c/h3\u003e\n\n\u003cp\u003eリンカー(linker)とは、ソースコードを最終的に実行可能プログラムにするまでに登場するツールの一つですが、その辺のはなしは「compiler, linker」などとググればたくさん出てくるのでそちらで。\u003c/p\u003e\n\n\u003cp\u003eXamarin.iOS の文脈での「リンカー」のお仕事は、\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eアプリケーションには不要な（=使用されないと判断した)クラスやメンバーを削除すること\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eだと思っておけばよいでしょう。 Android だと ProGuard、.NET だと DotFuscator などの「難読化ツール」が持つ副次的な機能に「\u003ca href=\"https://www.agtech.co.jp/products/preemptive/dotfuscator/featuresinfo.html#fet05\" rel=\"nofollow noopener\" target=\"_blank\"\u003e不要コードの除去\u003c/a\u003e」がありますが、それと同じようなものだと理解できます。\u003c/p\u003e\n\n\u003cp\u003eつまり、先のコードに出てきた \u003ccode\u003eSystem.Net.WebClient\u003c/code\u003e は、静的なソースコード解析によって「不要だと判断されて」削除されてしまいました。文字列の中に記述されているとはリンカーは知る由もありません。\u003c/p\u003e\n\n\u003cp\u003eでは、なぜ iOSシミュレータでは動作するのでしょう？\u003cbr\u003e\nとここで Xamarin.iOS プロジェクトの設定を見てみましょう。\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003e実機向けビルドの設定\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/258f4ec0a26461d670c024c13b8fa086015acf82/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f383232372f37653536626637352d306236362d373938372d303337362d6638623037353764336634612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F8227%2F7e56bf75-0b66-7987-0376-f8b0757d3f4a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=acd1b01d39381b54e8af02ab61302bbb\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/8227/7e56bf75-0b66-7987-0376-f8b0757d3f4a.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F8227%2F7e56bf75-0b66-7987-0376-f8b0757d3f4a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=45d71855be6c333e8b0dd0138540bef9 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003eiOSシミュレータ向けビルドの設定\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/76bca1c285150a7059ffc9cff0205fc6e69d9d44/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f383232372f63366233363365662d646366622d326565622d386533302d3834396334383338313931352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F8227%2Fc6b363ef-dcfb-2eeb-8e30-849c48381915.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=46c698cb751c0f43ebdd284ea9b8ec00\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/8227/c6b363ef-dcfb-2eeb-8e30-849c48381915.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F8227%2Fc6b363ef-dcfb-2eeb-8e30-849c48381915.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=0763b5c5a864426ac20e8d1e09cc6c77 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eはい、このように\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e実機向けの場合は「フレームワークSDKのみをリンクする」\u003c/li\u003e\n\u003cli\u003eシミュレータ向けの場合は「リンクしない」\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eとなっていました。つまりシミュレータ向けのアプリは「不要なコードを削除する処理が行われていない」ということになり、すべてのクラスが使用できていました。\u003c/p\u003e\n\n\u003cp\u003e逆に言えば、 \u003cstrong\u003eシミュレータ向けのビルド設定を「フレームワークSDKのみをリンクする」にすれば、実機と同じように上記コードは動作しなくなります\u003c/strong\u003e 。\u003c/p\u003e\n\n\u003cp\u003eシミュレータでは AOT は使用されないのに、実機と同じ症状を発生させられるのだから、これは 「AOT のせい」ではないことがわかります。\u003c/p\u003e\n\n\u003cp\u003eおそらく一般的に「AOT のせいで iOS 実機で動作しない」と言われている事象のほとんどは「実はリンカーのせい」だと思われます。\u003c/p\u003e\n\n\u003cp\u003e例えばこれ↓とか\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://qiita.com/amay077/items/3a6f50cede3425fc9f3f\" id=\"reference-3b9830cdd568fd356b65\"\u003eXamarin.iOS の AOT に気をつけろ！Rx の FromEventPattern を使うときの注意点\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e書いたのオマエかよw\u003c/p\u003e\n\n\u003cp\u003eなので、このトラブルは、iOSシミュレータ向けのビルド設定を「リンクする」に変更することで発見可能です。あれ、ここでも iPhone 実機必要なくなっちゃった。\u003cimg alt=\":sweat_smile:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f605.png\" title=\":sweat_smile:\" width=\"20\" loading=\"lazy\"\u003e\u003c/p\u003e\n\n\u003cp\u003e（実機向けのビルド設定を「リンクしない」にしても同様に動作しますが、配布する \u003ccode\u003e.ipa\u003c/code\u003e にデータサイズが巨大になってしまうので現実解ではないです。）\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"リンカーに消されないようにするには\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AA%E3%83%B3%E3%82%AB%E3%83%BC%E3%81%AB%E6%B6%88%E3%81%95%E3%82%8C%E3%81%AA%E3%81%84%E3%82%88%E3%81%86%E3%81%AB%E3%81%99%E3%82%8B%E3%81%AB%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eリンカーに消されないようにするには？\u003c/h3\u003e\n\n\u003cp\u003e次の３つの方法があります。\u003c/p\u003e\n\n\u003col\u003e\n\u003cli\u003eどこか1箇所でいいから、型を明示的にソースコード中に書く\u003c/li\u003e\n\u003cli\u003e消されたくないクラスに \u003ccode\u003ePreserve\u003c/code\u003e 属性を付ける\u003c/li\u003e\n\u003cli\u003eビルド設定で「除外するアセンブリ」を指定する\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003cp\u003e1 が一番よく行う方法です。アプリの static コンストラクタに\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"csharp\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"nf\"\u003eAppDelegate\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003edummy\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eSystem\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eNet\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWebClient\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eなどと書いておくだけでOKです。デメリットは、使用する実装クラスが予めわかっている必要があること、インスタンス生成のコストが発生することです。\u003c/p\u003e\n\n\u003cp\u003eライブラリでも、「とりあえずアプリ起動時に \u003ccode\u003eMyLib.Init()\u003c/code\u003e を呼べ」みたいなものがありますが、それもリンカー対策のために必須としていると思ってもよいでしょう。\u003c/p\u003e\n\n\u003cp\u003e2 はライブラリ開発者側の話で、これは、消されるとまずいぞとわかっているクラスやメンバに \u003ccode\u003e[Preserve]\u003c/code\u003e という属性を付けておくと、リンカーさんは、それがついているクラスを無視してくれるというものです。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://developer.xamarin.com/guides/ios/advanced_topics/linker/#Preserving_Code\" rel=\"nofollow noopener\" target=\"_blank\"\u003ePreserving Code ｜ Linking on iOS - Xamarin\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eデメリットは、ライブラリ開発者しか使えないということです。ライブラリ使用者つまりアプリ開発者は、問題が発生したライブラリに対して、この方法は適用できません。\u003c/p\u003e\n\n\u003cp\u003e3 はビルド設定で、リンカーの対象外にするアセンブリを指定する、というものです。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://developer.xamarin.com/guides/ios/advanced_topics/linker/#Skipping_Assemblies\" rel=\"nofollow noopener\" target=\"_blank\"\u003eSkipping Assemblies ｜ Linking on iOS - Xamarin\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eデメリットというか、どこに何を設定すれば機能するのか分からないんですよね、IDEでは。。。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"さいごのまとめ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%95%E3%81%84%E3%81%94%E3%81%AE%E3%81%BE%E3%81%A8%E3%82%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eさいごのまとめ\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003eAOT の制限 -\u0026gt; 実機でのみ再現する事象は確認できなかった(未確認な制限あり)\u003c/li\u003e\n\u003cli\u003eリンカーによるトラブル -\u0026gt; iOSシミュレータでもビルド設定を「リンクする」に変えれば未然に防げる\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eあれ？ iOSシミュレータだけでも結構イケる？？？\u003c/p\u003e\n\n\u003cp\u003eままま、まあシミュレータは所詮シミュレータなんで！いつも実機で開発してないと、いざデプロイするときに絶対問題起こるんで！！\u003cimg alt=\":cold_sweat:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f630.png\" title=\":cold_sweat:\" width=\"20\" loading=\"lazy\"\u003e\u003cimg alt=\":sweat_drops:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f4a6.png\" title=\":sweat_drops:\" width=\"20\" loading=\"lazy\"\u003e\u003c/p\u003e\n\n\u003cp\u003eしかし会社の方針？とかでiPhone実機が提供されず、シミュレータしか使えない環境の人は、せめてビルド設定だけは変えておきましょう。\u003c/p\u003e\n\n\u003cp\u003eただし「Xamarin Live Playerだけ使えばOK」その考えはダメ。なぜならこれは「あなたのコードを、iOS アプリっぽい画面にインタラクティブに表示させるアプリ」だからです。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"そこで-visual-studio-app-center-ですよですか\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%9D%E3%81%93%E3%81%A7-visual-studio-app-center-%E3%81%A7%E3%81%99%E3%82%88%E3%81%A7%E3%81%99%E3%81%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eそこで Visual Studio App Center ですよ（ですか？）\u003c/h3\u003e\n\n\u003cp\u003eVisual Studio Mobile Center から名称変更して正式リリースとなった \u003ca href=\"https://azure.microsoft.com/ja-jp/services/app-center/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eVisual Studio App Center\u003c/a\u003e は、 \u003ca href=\"https://www.xamarin.com/test-cloud\" rel=\"nofollow noopener\" target=\"_blank\"\u003eXamarin Test cloud\u003c/a\u003e のサブセット？を内包しており、雲の向こう側にある「実際の端末」を使ってテストができます。継続的に実機でテストが実施できるとしたら、それはとても恵まれた環境でしょう。けど、開発時に常時使うもんじゃないよね。\u003c/p\u003e\n","createdAt":"2017-12-01T01:02:52Z","elapsedYearsFromLastModifiedAt":3,"encryptedId":"OuPy8E2frsYWdsowO4QcwODkUIDAB63p--RiUZ2PDZaVdoSops--zIBJ2crfOkj3gp3iHwEmDQ==","isBanned":false,"isDeprecated":true,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2017-12-01T04:40:27Z","likesCount":27,"linkUrl":"https://qiita.com/amay077/items/6a6d5855b3d0c46de126","organization":null,"originalId":552442,"stockedCount":8,"title":"Xamarin を使えば iPhone 端末が要らない、ワケがない","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#xamarinios-%E3%82%A2%E3%83%97%E3%83%AA%E3%81%AE%E5%8B%95%E4%BD%9C%E3%81%AE%E4%BB%95%E7%B5%84%E3%81%BF\"\u003eXamarin.iOS アプリの動作の仕組み\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#xamarinios---aot-%E3%81%AE%E5%88%B6%E7%B4%84%E3%82%92%E4%BD%93%E9%A8%93%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"\u003eXamarin.iOS - AOT の制約を体験してみる\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#generic-subclasses-of-nsobjects-are-limited--%E5%AE%9F%E6%A9%9F%E3%81%A0%E3%81%91%E3%81%A7%E7%99%BA%E7%94%9F%E3%81%99%E3%82%8B%E3%81%8Bquestion\"\u003eGeneric Subclasses of NSObjects are limited → 実機だけで発生するか？=:question:\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#pinvokes-in-generic-types---%E5%AE%9F%E6%A9%9F%E3%81%A0%E3%81%91%E3%81%A7%E7%99%BA%E7%94%9F%E3%81%99%E3%82%8B%E3%81%8Bx\"\u003eP/Invokes in Generic Types - 実機だけで発生するか？=:x:\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#propertysetinfo-on-a-nullable-type-is-not-supported---%E8%A9%95%E4%BE%A1%E3%81%A7%E3%81%8D%E3%81%9A\"\u003eProperty.SetInfo on a Nullable Type is not supported - 評価できず\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#value-types-as-dictionary-keys---%E5%AE%9F%E6%A9%9F%E3%81%A0%E3%81%91%E3%81%A7%E7%99%BA%E7%94%9F%E3%81%99%E3%82%8B%E3%81%8B-question\"\u003eValue types as Dictionary Keys - 実機だけで発生するか？= :question:\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#no-dynamic-code-generation\"\u003eNo Dynamic Code Generation\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#refrectionemit---%E5%AE%9F%E6%A9%9F%E3%81%A0%E3%81%91%E3%81%A7%E7%99%BA%E7%94%9F%E3%81%99%E3%82%8B%E3%81%8B-x\"\u003eRefrection.Emit - 実機だけで発生するか？= :x:\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#dynamic-%E5%9E%8B---%E5%AE%9F%E6%A9%9F%E3%81%A0%E3%81%91%E3%81%A7%E7%99%BA%E7%94%9F%E3%81%99%E3%82%8B%E3%81%8B-x\"\u003edynamic 型 - 実機だけで発生するか？= :x:\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#reverse-callbacks\"\u003eReverse Callbacks\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%93%E3%81%93%E3%81%BE%E3%81%A7%E3%81%AE%E3%81%BE%E3%81%A8%E3%82%81\"\u003eここまでのまとめ\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%AA%E3%83%B3%E3%82%AB%E3%83%BC%E3%81%AE%E3%81%8A%E4%BB%95%E4%BA%8B---%E3%81%BF%E3%81%AA%E3%81%95%E3%82%93%E3%81%8Caot-%E3%81%AE%E3%81%9B%E3%81%84%E3%81%A8%E6%99%AE%E6%AE%B5%E8%A8%80%E3%81%A3%E3%81%A6%E3%82%8B%E3%81%AE%E3%81%AF%E3%81%9F%E3%81%B6%E3%82%93%E3%81%93%E3%81%A3%E3%81%A1\"\u003eリンカーのお仕事 - みなさんが「AOT のせい」と普段言ってるのはたぶんこっち\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#xamarinios-%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B%E3%83%AA%E3%83%B3%E3%82%AB%E3%83%BC%E3%81%A8%E3%81%AF%E3%81%AA%E3%81%AB%E3%81%8B\"\u003e「Xamarin.iOS におけるリンカー」とはなにか？\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%AA%E3%83%B3%E3%82%AB%E3%83%BC%E3%81%AB%E6%B6%88%E3%81%95%E3%82%8C%E3%81%AA%E3%81%84%E3%82%88%E3%81%86%E3%81%AB%E3%81%99%E3%82%8B%E3%81%AB%E3%81%AF\"\u003eリンカーに消されないようにするには？\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%95%E3%81%84%E3%81%94%E3%81%AE%E3%81%BE%E3%81%A8%E3%82%81\"\u003eさいごのまとめ\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%9D%E3%81%93%E3%81%A7-visual-studio-app-center-%E3%81%A7%E3%81%99%E3%82%88%E3%81%A7%E3%81%99%E3%81%8B\"\u003eそこで Visual Studio App Center ですよ（ですか？）\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","totalPv":10501,"uuid":"6a6d5855b3d0c46de126","banReason":null,"adventCalendarItem":{"day":1,"calendar":{"name":"Xamarin その1","urlName":"xamarin","year":2017,"organization":null}},"author":{"encryptedId":"wcB8IlqawhoH0snntejL1jinpA==--YhCQLtaeG5ArU4/g--jMlm192JuE2ivWpNrAYyKw==","originalId":8227,"description":"ランチの時は呼ぶといい！","facebookUrl":null,"githubUrl":"https://github.com/amay077","isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"amay077","profileImageUrl":"https://qiita-image-store.s3.amazonaws.com/0/8227/profile-images/1473680950","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F8227%2Fprofile-images%2F1473680950?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=5f8a635ba49a4d77663138fe55619558","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F8227%2Fprofile-images%2F1473680950?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=c45897bd988ad06c0759e18a4161f0ce","urlName":"amay077","websiteUrl":"https://blog.amay077.net/","twitterUrl":"https://twitter.com/amay077","twitterUrlName":"amay077","revealedOrganizations":{"edges":[]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"iOS","urlName":"ios"},{"name":"Xamarin","urlName":"xamarin"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
