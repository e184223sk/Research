More than 1 year has passed since last update.NET Framework 3.5でLINQが実装され、NET Framework 4.0でZipメソッドが追加されました。それ以降、なかなかメソッドは増えていなかったのですが、最近になっていくつかLINQ to Objectsにメソッドが追加されています。この投稿ではそれらを紹介します。PrependとAppendは、元のIEnumerable&lt;T&gt;を実装したオブジェクトの中身を変更しません。List&lt;T&gt;のAddやInsertとの違いに要注意！Prepend。元のIEnumerable&lt;T&gt;を実装したオブジェクトに副作用を与えないことに注目。Append。こっちも、元のIEnumerable&lt;T&gt;を実装したオブジェクトに副作用を与えないことに注目。ちなみにこのメソッドは、.NET Standard 1.6に入ったので、上記環境以外にも.NET Standardを準拠する環境ですでに入っています。.NET Framework 4.6.1は、.NET Standard 1.6に準拠しています。
サポートファイルを使えば、Append・Prependは使える可能性あり。
一方、公式ドキュメントには記載はありません。
要動作検証
参考 .NET Framework 4.7.1 provides built-in support for .NET Standard 2.0名前から想像できる通り、ToListやToDictionaryのHashSet版。IEnumerable&lt;T&gt;からHashSet&lt;T&gt;を作成するメソッドです。重複要素を取り除いて、HashSet&lt;T&gt;を生成したい時に使うメソッドです。重複を取り除くという観点では似たようなメソッドに、Distinctがあります。ちなみにこのメソッドは、.NET Standard 2.1に入ったので、上記環境以外にも.NET Standardを準拠する環境で将来的に入る見込みですね。まずは、TakeLast。Takeの末尾からやる版。指定個数countを渡し、元のIEnumerable&lt;T&gt;から末尾から指定個数個だけ要素をピックアップしたIEnumerable&lt;T&gt;を生成するメソッドです。TakeLastの公式ドキュメントよりReturns a specified number of contiguous elements from the end of a sequence.Takeと同様に次は、SkipLast.Skipの末尾からやる版。指定個数countを渡し、元のIEnumerable&lt;T&gt;から、末尾から指定個数個だけ取り除いたIEnumerable&lt;T&gt;を生成するメソッドです。SkipLastの公式ドキュメントよりOmits a specified number of elements from the end of a sequence and returns the remaining elements.Skipと同様にちなみにこのメソッドは、.NET Standard 2.1に入ったので、上記環境以外にも.NET Standardに準拠した環境で将来的に入る見込みですね。そのうち、.NET Frameworkでも使えるようになると思います。。あと、Ix.NETにも同様なメソッドが存在します。.NET Core以外で今すぐ使いたいのであれば、Ix.NETを導入するのもありかもしれません。今までは、を引数にとって、を返すメソッドしかありませんでした。これに新しいオーバーロードが追加されました。新しいオーバーロードは、「合成するデリゲート」が必要ないものです。を引数に、を返すものです。嬉しい！Zipする時って、「とりあえずまとめて後続の処理につなげる」ことも多いので、そのシーンでわざわざ「合成するためのデリゲート(Func&lt;TFirst, TSecond, TResult&gt;)」を用意する必要がないのがうれしい！今までは↓こんな感じで、「合成するためのデリゲート(Func&lt;TFirst, TSecond, TResult&gt;)」が必要。匿名型とかと組み合わせることも多い今までは↓こんな感じで、ZipしてValueTupeに。分解とのコンボも！短くてスッキリ！.NET Core 3.0は現在Previewの段階です。Zipメソッドは、Preview5から使えるようになりました。同様のメソッドが拙作のImportedLinqにもあるので、本番環境で今すぐ使いたい人はそちらを使ってみてください。Corefxの関連 IssueCorefxの関連 PullRequest


