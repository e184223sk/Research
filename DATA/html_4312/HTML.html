<!DOCTYPE html><html><head><meta charset="utf-8" /><title>LUISを導入する前に知りたかったこと - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/navitime_tech/items/22bd507be04dae4f8b36" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="4YhWc4Xw5s+5rGBtMPYmxegeA14Ghc6E6q25odFNkW55zzwwYwCpr8ZzxOB8Bm0vq+cuQiwpsvFGZro8J71Gaw==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta content="@navitime_tech" name="twitter:creator" /><meta property="og:type" content="article"><meta property="og:title" content="LUISを導入する前に知りたかったこと - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1URlZKVS1PQ2t1V3dqdVdGcGVPQm1lT0NpLVdKamVPQnEtZWZwZU9DaXVPQm4tT0JpLU9Cby1PQm4tT0JrLU9CcUEmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT01NCZ0eHQtY2xpcD1lbGxpcHNpcyZ0eHQtYWxpZ249Y2VudGVyJTJDbWlkZGxlJnM9MDk2ZTk5N2Y5Yzg1Y2ViNDU2YjUwNTk2NGVkOWFkMjM&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRzVoZG1sMGFXMWxYM1JsWTJnJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NDUmdHh0LWFsaWduPXJpZ2h0JTJDYm90dG9tJnM9NDFkZjEyZDJkZDQyYzcwYzkzZTc5YjhjYTdmOWQ3NGQ&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=1c1a5d335617353327e62c515b4d0c2d"><meta property="og:description" content="

はじめに

ナビタイムジャパン/ACTS(研究開発部門)サーバーグループの本多です。

弊社では移動体験の向上のため、自然言語処理によるナビの操作に取り組んでおります。
12/15に開催されるDeveloper Boostでは、「..."><meta content="https://qiita.com/navitime_tech/items/22bd507be04dae4f8b36" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,Azure,LUIS" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 1nzh4zz 38fzdi helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-1nzh4zz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 32px;background-color:#FBE69E;color:rgba(0,0,0,0.87);line-height:1.5;font-weight:600;}@media (max-width:770px){.css-1nzh4zz{padding:16px;}}.css-38fzdi{color:#CA832A;margin-right:4px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-52338d8c-096b-424d-92ab-0014cbf7b823"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2Fnavitime_tech%2Fitems%2F22bd507be04dae4f8b36">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2Fnavitime_tech%2Fitems%2F22bd507be04dae4f8b36">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-52338d8c-096b-424d-92ab-0014cbf7b823">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2018-11-20T09:24:51.000+09:00","dateModified":"2018-11-29T15:16:26.000+09:00","headline":"LUISを導入する前に知りたかったこと","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1URlZKVS1PQ2t1V3dqdVdGcGVPQm1lT0NpLVdKamVPQnEtZWZwZU9DaXVPQm4tT0JpLU9Cby1PQm4tT0JrLU9CcUEmdHh0LWNvbG9yPSUyMzMzMyZ0eHQtZm9udD1IaXJhZ2lubyUyMFNhbnMlMjBXNiZ0eHQtc2l6ZT01NCZ0eHQtY2xpcD1lbGxpcHNpcyZ0eHQtYWxpZ249Y2VudGVyJTJDbWlkZGxlJnM9MDk2ZTk5N2Y5Yzg1Y2ViNDU2YjUwNTk2NGVkOWFkMjM\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRzVoZG1sMGFXMWxYM1JsWTJnJnR4dC1jb2xvcj0lMjMzMzMmdHh0LWZvbnQ9SGlyYWdpbm8lMjBTYW5zJTIwVzYmdHh0LXNpemU9NDUmdHh0LWFsaWduPXJpZ2h0JTJDYm90dG9tJnM9NDFkZjEyZDJkZDQyYzcwYzkzZTc5YjhjYTdmOWQ3NGQ\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=1c1a5d335617353327e62c515b4d0c2d","mainEntityOfPage":"https://qiita.com/navitime_tech/items/22bd507be04dae4f8b36","author":{"@type":"Person","address":"東京都港区南青山","email":null,"identifier":"navitime_tech","name":"navitime_tech","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F315364%2Fprofile-images%2F1542871594?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=ae52821749f922344ff1bce7eba3e222","url":"https://qiita.com/navitime_tech","description":"株式会社ナビタイムジャパンの技術に関する情報を発信します。\r\n※ご意見、お問い合わせは公式サイト\r\n（https://www.navitime.co.jp/）\r\nからお願いします。\r\n\r\n","memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://zine.qiita.com/interview/202105-uzabase-2/?utm_source=qiita&amp;utm_medium=header-banner">常にメンバーが開発しやすい環境を作るNewsPicksの組織作りとは</a><a target="_blank" id="header_text_message_2" href="https://zine.qiita.com/interview/202105-uzabase-2/?utm_source=qiita&amp;utm_medium=header-banner">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"navitime_tech","type":"items","id":"22bd507be04dae4f8b36"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"常にメンバーが開発しやすい環境を作るNewsPicksの組織作りとは","url":"https://zine.qiita.com/interview/202105-uzabase-2/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"navitime_tech","type":"items","id":"22bd507be04dae4f8b36"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":2,"pos_id":"header_text_message_1","message":"常にメンバーが開発しやすい環境を作るNewsPicksの組織作りとは","url":"https://zine.qiita.com/interview/202105-uzabase-2/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"navitime_tech","type":"items","id":"22bd507be04dae4f8b36"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":2,"pos_id":"header_text_message_2","message":"常にメンバーが開発しやすい環境を作るNewsPicksの組織作りとは","url":"https://zine.qiita.com/interview/202105-uzabase-2/?utm_source=qiita\u0026utm_medium=header-banner","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/navitime_tech/items/22bd507be04dae4f8b36","location":"/navitime_tech/items/22bd507be04dae4f8b36","scheme":"https","host":"qiita.com","port":null,"pathname":"/navitime_tech/items/22bd507be04dae4f8b36","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"/WQn2Z04wRjEWFpYRTx3NMlE56FKj2d6vo0fJ7dIk7BlI02ae8iOeLuH/tUJzDzeir3KvWAjGw8SRhy6QbhEtQ==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-6334675a-5dc0-41f6-b861-a28af1d145be"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/navitime_tech/items/22bd507be04dae4f8b36/likers" class="css-1iupg5d">26</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">16</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/22bd507be04dae4f8b36/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/navitime_tech/items/22bd507be04dae4f8b36/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/navitime_tech/items/22bd507be04dae4f8b36/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/navitime_tech/items/22bd507be04dae4f8b36/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/navitime_tech/items/22bd507be04dae4f8b36.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-1nzh4zz"><span class="fa fa-fw fa-warning css-38fzdi"></span><p>More than 1 year has passed since last update.</p></div><div class="css-helsa7"><div class="css-8qb8m4"><div class="it-AdcalRibbon"><span><a href="/advent-calendar/2018/azure" class="it-AdcalRibbon_title">Microsoft Azure<!-- --> Advent Calendar<!-- --> <!-- -->2018</a>Day 6</span></div><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/navitime_tech"><img class="css-100alwu eyfquo10" src="https://qiita-image-store.s3.amazonaws.com/0/315364/profile-images/1542871594" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/navitime_tech" class="css-10ougpm">@<!-- -->navitime_tech</a><div class="css-1ay9vb9"><span><meta content="2018-11-20T00:24:51Z"/><time dateTime="2018-11-29T06:16:26Z" class="css-m19uds">updated at 2018-11-29</time></span></div></div></div></div></div><h1 class="css-cgzq40">LUISを導入する前に知りたかったこと</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/azure" class="css-4czcte">Azure</a><a href="/tags/luis" class="css-4czcte">LUIS</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div>
<h2>
<span id="はじめに" class="fragment"></span><a href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB"><i class="fa fa-link"></i></a>はじめに</h2>

<p>ナビタイムジャパン/ACTS(研究開発部門)サーバーグループの本多です。</p>

<p>弊社では移動体験の向上のため、自然言語処理によるナビの操作に取り組んでおります。<br>
12/15に開催される<a href="https://event.shoeisha.jp/devboost/20181215" rel="nofollow noopener" target="_blank">Developer Boost</a>では、<a href="https://event.shoeisha.jp/devboost/20181215/session/1898/" rel="nofollow noopener" target="_blank">「自然言語でナビを！VUIとしてのカーナビ」</a>というセッションでその取り組みの一部をご紹介させていただきます。<br>
ただ上記発表では設計や品質担保のおける工夫に主眼を置いてお話しするため、技術要素の詳細な解説は割愛しております。そのためこの記事では、発表内容に盛り込めなかった<strong>実際のサービスにLUISを導入する際のTipsとアンチパターン</strong>をお伝えさせていただきます。<br>
なおLUISの概要についてもふれますが、導入手順や使い方は<a href="https://docs.microsoft.com/ja-jp/azure/cognitive-services/luis/luis-get-started-create-app" rel="nofollow noopener" target="_blank">公式ドキュメント</a>が充実しているのでそちらに譲ります。予めご承知おき下さい。（既に概要についてご存知の方は<a href="#Tips">こちら</a>からご覧ください）</p>

<h2>
<span id="概要" class="fragment"></span><a href="#%E6%A6%82%E8%A6%81"><i class="fa fa-link"></i></a>概要</h2>

<ul>
<li>Microsoftが提供する<a href="https://azure.microsoft.com/ja-jp/services/cognitive-services/" rel="nofollow noopener" target="_blank">Cognitive Services</a>の一種</li>
<li>オリジナルのモデルを構築することが可能</li>
<li>日本語を含む12の言語に対応 <strong>※2018年11月現在</strong>
</li>
</ul>

<p>チャットボットなどの文脈で紹介されることが多いですが、LUIS自体は対話機能を提供しません。</p>

<h2>
<span id="何ができるのか" class="fragment"></span><a href="#%E4%BD%95%E3%81%8C%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%AE%E3%81%8B"><i class="fa fa-link"></i></a>何ができるのか</h2>

<p>発話を入力として与えると、</p>

<ul>
<li>意図解釈</li>
<li><a href="https://ja.wikipedia.org/wiki/%E5%9B%BA%E6%9C%89%E8%A1%A8%E7%8F%BE%E6%8A%BD%E5%87%BA" rel="nofollow noopener" target="_blank">固有表現抽出</a></li>
</ul>

<p>の２つを行い、出力として返却してくれます。</p>

<div class="code-frame" data-lang="json">
<div class="code-lang"><span class="bold">LuisResponseSample.json</span></div>
<div class="highlight"><pre class="with-code"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"環七通り沿いのコンビニ"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"topScoringIntent"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"intent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Search.Along.Road"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"score"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.981975</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"entities"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"entity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"コンビニ"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MapObject.Icon.Param.List"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"startIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
            </span><span class="nl">"endIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"resolution"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"values"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"convenience_store"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"コンビニエンスストア"</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"entity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"コンビニ"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Places.PlaceType.Param.List"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"startIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
            </span><span class="nl">"endIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"resolution"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"values"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"0201"</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
</div>

<h3>
<span id="query" class="fragment"></span><a href="#query"><i class="fa fa-link"></i></a>query</h3>

<p>LUISに入力として渡した発話。このqueryがの解析対象となります。</p>

<h3>
<span id="topscoringintent" class="fragment"></span><a href="#topscoringintent"><i class="fa fa-link"></i></a>topScoringIntent</h3>

<p>LUISが最も可能性が高いと判定した発話主の意図。<br>
例における<code>Search.Along.Road</code>は、構築したモデルに定義してあるIntent名称です。<br>
<code>score</code>は意図解釈時の根拠となる値。0~1の間の値をとります。</p>

<h3>
<span id="entities" class="fragment"></span><a href="#entities"><i class="fa fa-link"></i></a>entities</h3>

<p>発話から抽出された固有表現の配列。<br>
<code>startIndex</code>, <code>endIndex</code>は、抽出された固有表現が発話全体(=query)の何文字目に出現するかを表しています。</p>

<h2>
<span id="何が嬉しいのか" class="fragment"></span><a href="#%E4%BD%95%E3%81%8C%E5%AC%89%E3%81%97%E3%81%84%E3%81%AE%E3%81%8B"><i class="fa fa-link"></i></a>何が嬉しいのか</h2>

<h3>
<span id="guiが充実している" class="fragment"></span><a href="#gui%E3%81%8C%E5%85%85%E5%AE%9F%E3%81%97%E3%81%A6%E3%81%84%E3%82%8B"><i class="fa fa-link"></i></a>GUIが充実している</h3>

<ul>
<li>Intentの作成</li>
<li>発話例の入力</li>
<li>Entityのアノテーション</li>
<li>バージョン管理</li>
<li>学習</li>
<li>発行</li>
</ul>

<p>これら全てがGUI上で完結するため、自然言語処理の導入コストを大きく削減してくれます。（これらの機能は<a href="https://westus.dev.cognitive.microsoft.com/docs/services/5890b47c39e2bb17b84a55ff/operations/5890b47c39e2bb052c5b9c39" rel="nofollow noopener" target="_blank">API</a>でも提供されています）</p>

<h3>
<span id="日本語に対応している" class="fragment"></span><a href="#%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%81%AB%E5%AF%BE%E5%BF%9C%E3%81%97%E3%81%A6%E3%81%84%E3%82%8B"><i class="fa fa-link"></i></a>日本語に対応している</h3>

<p>対象言語が英語の場合、類似の機能を提供してくれるツール群はたくさんありますが、日本語に対応しようと思うと途端に選択肢が少なくなります。<br>
また日本語特有の問題に形態素解析がありますが、LUISの入力として渡す文章には区切り文字等を入れる必要はありません。</p>

<h2>
<span id="tips" class="fragment"></span><a href="#tips"><i class="fa fa-link"></i></a>Tips</h2>

<h3>
<span id="発話のニュアンス--アプリケーションのアクション" class="fragment"></span><a href="#%E7%99%BA%E8%A9%B1%E3%81%AE%E3%83%8B%E3%83%A5%E3%82%A2%E3%83%B3%E3%82%B9--%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E3%82%A2%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3"><i class="fa fa-link"></i></a>発話のニュアンス &lt; アプリケーションのアクション</h3>

<p>Intentを設計する際は発話それ自体のニュアンスよりも、<strong>LUISの解析結果を受け取ったアプリケーション側がどんなアクションを起こすか</strong>を基準に考えた方が良いです。<br>
例えば弊社のNAVITIME TravelのBotアプリでは当初、以下のようにIntentを切っていました。</p>

<table>
<thead>
<tr>
<th>発話例</th>
<th>Intent</th>
<th>Entityのラベル</th>
<th>Entityの値</th>
</tr>
</thead>
<tbody>
<tr>
<td>「金閣寺ってどこにあるの」</td>
<td>Ask.Where</td>
<td>spot</td>
<td>金閣寺</td>
</tr>
<tr>
<td>「金閣寺に行きたい」</td>
<td>Want.To.Go</td>
<td>spot</td>
<td>金閣寺</td>
</tr>
</tbody>
</table>

<p>しかしこれだと、このLUISの解析結果を受け取るBot側のアプリケーションがハンドリングするコードが完全に同じになってしまいます。</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">LuisResultHandler.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="p">[</span><span class="nf">LuisIntent</span><span class="p">(</span><span class="s">"Ask.Where"</span><span class="p">)]</span>
<span class="k">public</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">AskWhereHandler</span><span class="p">(</span><span class="n">IDialogContext</span> <span class="n">context</span><span class="p">,</span> <span class="n">LuisResult</span> <span class="n">result</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// ココと</span>
    <span class="kt">var</span> <span class="n">spotName</span> <span class="p">=</span> <span class="n">result</span><span class="p">.</span><span class="n">entities</span><span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">type</span> <span class="p">==</span> <span class="s">"spot"</span><span class="p">).</span><span class="nf">First</span><span class="p">();</span>
    <span class="kt">var</span> <span class="n">searchResult</span> <span class="p">=</span> <span class="k">await</span> <span class="nf">SearchSpot</span><span class="p">(</span><span class="n">spotName</span><span class="p">);</span>
    <span class="k">await</span> <span class="n">context</span><span class="p">.</span><span class="nf">PostAsync</span><span class="p">(</span><span class="n">searchResult</span><span class="p">);</span>
<span class="p">}</span>

<span class="p">[</span><span class="nf">LuisIntent</span><span class="p">(</span><span class="s">"Want.To.Go"</span><span class="p">)]</span>
<span class="k">public</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">WantToGoHandler</span><span class="p">(</span><span class="n">IDialogContext</span> <span class="n">context</span><span class="p">,</span> <span class="n">LuisResult</span> <span class="n">result</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// ココが同じ</span>
    <span class="kt">var</span> <span class="n">spotName</span> <span class="p">=</span> <span class="n">result</span><span class="p">.</span><span class="n">entities</span><span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">type</span> <span class="p">==</span> <span class="s">"spot"</span><span class="p">).</span><span class="nf">First</span><span class="p">();</span>
    <span class="kt">var</span> <span class="n">searchResult</span> <span class="p">=</span> <span class="k">await</span> <span class="nf">SearchSpot</span><span class="p">(</span><span class="n">spotName</span><span class="p">);</span>
    <span class="k">await</span> <span class="n">context</span><span class="p">.</span><span class="nf">PostAsync</span><span class="p">(</span><span class="n">searchResult</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>そのためハンドリングをするアプリ側を起点にIntentを設計し、以下のようにするのがベターです。</p>

<table>
<thead>
<tr>
<th>発話例</th>
<th>Intent</th>
<th>Entityのラベル</th>
<th>Entityの値</th>
</tr>
</thead>
<tbody>
<tr>
<td>「金閣寺ってどこにあるの」, 「金閣寺に行きたい」</td>
<td>Search.Spot</td>
<td>spot</td>
<td>金閣寺</td>
</tr>
</tbody>
</table>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">LuisResultHandler.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="p">[</span><span class="nf">LuisIntent</span><span class="p">(</span><span class="s">"Search.Spot"</span><span class="p">)]</span>
<span class="k">public</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">SearchSpotHandler</span><span class="p">(</span><span class="n">IDialogContext</span> <span class="n">context</span><span class="p">,</span> <span class="n">LuisResult</span> <span class="n">result</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">spotName</span> <span class="p">=</span> <span class="n">result</span><span class="p">.</span><span class="n">entities</span><span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">type</span> <span class="p">==</span> <span class="s">"spot"</span><span class="p">).</span><span class="nf">First</span><span class="p">();</span>
    <span class="kt">var</span> <span class="n">searchResult</span> <span class="p">=</span> <span class="k">await</span> <span class="nf">SearchSpot</span><span class="p">(</span><span class="n">spotName</span><span class="p">);</span>
    <span class="k">await</span> <span class="n">context</span><span class="p">.</span><span class="nf">PostAsync</span><span class="p">(</span><span class="n">searchResult</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</div>

<h3>
<span id="絶対に捕まえたいキーワードはlistentityに登録する" class="fragment"></span><a href="#%E7%B5%B6%E5%AF%BE%E3%81%AB%E6%8D%95%E3%81%BE%E3%81%88%E3%81%9F%E3%81%84%E3%82%AD%E3%83%BC%E3%83%AF%E3%83%BC%E3%83%89%E3%81%AFlistentity%E3%81%AB%E7%99%BB%E9%8C%B2%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>絶対に捕まえたいキーワードはListEntityに登録する</h3>

<p>アプリケーションのドメインに応じて、キーワードとなる単語があるかと思います。<br>
例えば弊社のカーナビアプリの場合「地図」という単語はかなり重要です。この単語が発話に含まれている時点で、ユーザーが地図の操作に関する何らかを求めていることが分かり、他の選択肢をアプリケーションの次のアクション候補から除外することができるからです。<br>
またヘルプデスクのチャットボットなどでは、「入会」のような単語は是非捕まえたいところではないでしょうか。</p>

<p>こういったアプリケーションの対象ドメインにおけるキーワードは、<a href="https://docs.microsoft.com/ja-jp/azure/cognitive-services/luis/luis-how-to-add-entities#add-list-entities" rel="nofollow noopener" target="_blank">ListEntity</a>に登録することをお薦めします。<br>
通常の<a href="https://docs.microsoft.com/ja-jp/azure/cognitive-services/luis/luis-how-to-add-entities#add-simple-entities" rel="nofollow noopener" target="_blank">シンプルEntity</a>だと、学習させた発話例に存在しない言い回しの中にキーワードが含まれていた場合、そのキーワードを抽出できないことがあるからです。</p>

<p>またListEntityはシノニム機能も提供しており、「地図」と「マップ」を同じ<code>Map</code>エンティティとして登録できます。この機能を使えば、<strong>実はユーザーはこういう言い回しもしてくる</strong>ということが後から判明した場合はその言い回しをシノニムに追加することで、対応可能な発話が増えていきます。</p>

<h3>
<span id="active-learning" class="fragment"></span><a href="#active-learning"><i class="fa fa-link"></i></a>Active Learning</h3>

<p>自然言語という<strong>なんでもアリ</strong>な入力を受け取る以上、最初に作ったモデルが完璧にワークする事はほぼないと思います。<br>
最低限のモデルをデプロイして、サービスで一定期間運用し、ログを元にモデルの精度を向上させ、再びデプロイする。というサイクルを回すのが一般的な流れになるのではないでしょうか。<br>
LUISは自身が受け付けたリクエストのログの中から、<a href="https://www.slideshare.net/shuyo/introduction-to-active-learning-25787487" rel="nofollow noopener" target="_blank">学習させるとモデルの精度向上に寄与する</a>発話を推薦してくれる<a href="https://docs.microsoft.com/ja-jp/azure/cognitive-services/luis/luis-how-to-review-endoint-utt" rel="nofollow noopener" target="_blank">Active Learning</a>の機能があります。<br>
この機能を使用して<strong>正しいIntent</strong>と<strong>本来抽出されて欲しいEntity</strong>を設定してあげれば、効率的にモデルの精度を向上させていくことができます。</p>

<h3>
<span id="バージョン管理とバッチテスト" class="fragment"></span><a href="#%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E7%AE%A1%E7%90%86%E3%81%A8%E3%83%90%E3%83%83%E3%83%81%E3%83%86%E3%82%B9%E3%83%88"><i class="fa fa-link"></i></a>バージョン管理とバッチテスト</h3>

<p>ログを眺めていくと、こちらが想定していなかった発話が入ってくることが多々あります。<br>
それらの発話に対応し、アプリケーションの機能を拡張しようと思った場合、IntentやEntityの追加が生じます。<br>
しかしモデルの構成が変わると、<strong>今までと同じ発話が異なるIntentとして分類される</strong>ということ起こります。<br>
これをデグレと呼ぶかはアプリケーション次第ですが、許容できないケースも多いのではないでしょうか？<br>
そこで役立つのがバージョン管理とバッチテストです。</p>

<h4>
<span id="バージョン管理" class="fragment"></span><a href="#%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E7%AE%A1%E7%90%86"><i class="fa fa-link"></i></a>バージョン管理</h4>

<p>LUISには<a href="https://docs.microsoft.com/ja-jp/azure/cognitive-services/luis/luis-how-to-manage-versions" rel="nofollow noopener" target="_blank">バージョン管理機能</a>があり、各バージョンにおけるIntent, Entity, 学習させた発話データ等のスナップショットを保有しています。<br>
これによりいつでも好きなモデルに切り戻すことが可能なので、躊躇せずに機能追加をすることが可能です。</p>

<div class="code-frame" data-lang="json">
<div class="code-lang"><span class="bold">LuisVersionInfo.json</span></div>
<div class="highlight"><pre class="with-code"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"luis_schema_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.1.0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"versionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0.0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SampleLuisApp"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"desc"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"culture"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ja-jp"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"intents"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"None"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation.Cancel"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation.Delete"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">(略)</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"entities"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Area"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"History"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Icon"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Navigation"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Route"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datetime"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"Time"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Day"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"DayOfTheWeek"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">(略)</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre></div>
</div>

<h3>
<span id="バッチテスト" class="fragment"></span><a href="#%E3%83%90%E3%83%83%E3%83%81%E3%83%86%E3%82%B9%E3%83%88"><i class="fa fa-link"></i></a>バッチテスト</h3>

<p>LUISのモデル更新によるアプリケーションのデグレを防ぐために、LUISの<a href="https://docs.microsoft.com/ja-jp/azure/cognitive-services/luis/luis-how-to-batch-test" rel="nofollow noopener" target="_blank">バッチテスト</a>を使用するのが有効です。<br>
特に「最低限この発話には正しく対応してほしい」といったものがあれば、それをバッチテストのテストケースとして用意しておき、新しいモデルを発行する前に実行することで性能を担保できます。</p>

<h2>
<span id="アンチパターン" class="fragment"></span><a href="#%E3%82%A2%E3%83%B3%E3%83%81%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3"><i class="fa fa-link"></i></a>アンチパターン</h2>

<h3>
<span id="語尾に疑問符や感嘆符がついた発話を学習させる" class="fragment"></span><a href="#%E8%AA%9E%E5%B0%BE%E3%81%AB%E7%96%91%E5%95%8F%E7%AC%A6%E3%82%84%E6%84%9F%E5%98%86%E7%AC%A6%E3%81%8C%E3%81%A4%E3%81%84%E3%81%9F%E7%99%BA%E8%A9%B1%E3%82%92%E5%AD%A6%E7%BF%92%E3%81%95%E3%81%9B%E3%82%8B"><i class="fa fa-link"></i></a>語尾に疑問符<code>?</code>や感嘆符<code>!</code>がついた発話を学習させる</h3>

<p>チャットボットに「今何時？」と聞いたら、なぜか天気を答えられてしまったことがあります。<br>
調査を行ったところ、天気を尋ねるIntentにだけ「今日雨降る？」という<strong>疑問符で終わる発話</strong>が学習させられており、逆にそれ以外のIntentには疑問符で終わる発話例は一切学習させられていないことが判明しました。<br>
疑問符が発話全体の特徴量として強く効きすぎてしまった結果、「今何時？」という発話が天気を尋ねるIntentとして判定されてしまったのです。<br>
これを避けるために、<strong>疑問符および感嘆符は発話から除外してLUISに学習させる</strong>ことをお薦めします。</p>

<h3>
<span id="似た発話だけど全く別の意図の発話を学習させる" class="fragment"></span><a href="#%E4%BC%BC%E3%81%9F%E7%99%BA%E8%A9%B1%E3%81%A0%E3%81%91%E3%81%A9%E5%85%A8%E3%81%8F%E5%88%A5%E3%81%AE%E6%84%8F%E5%9B%B3%E3%81%AE%E7%99%BA%E8%A9%B1%E3%82%92%E5%AD%A6%E7%BF%92%E3%81%95%E3%81%9B%E3%82%8B"><i class="fa fa-link"></i></a>似た発話だけど全く別の意図の発話を学習させる</h3>

<table>
<thead>
<tr>
<th>学習させる発話</th>
<th>Intent</th>
<th>アプリケーションの動作</th>
</tr>
</thead>
<tbody>
<tr>
<td>「地図を小さく」</td>
<td>ScaleDown</td>
<td>地図を縮小する</td>
</tr>
<tr>
<td>「地図が小さい」</td>
<td>ScaleUp</td>
<td>地図を拡大する</td>
</tr>
</tbody>
</table>

<p>このような発話を学習させてしまうと、LUISの学習モデルが収束しづらくなり、ユーザーが意図せぬアプリケーションの動作に繋がりやすくなってしまいます。<br>
「てにをは」をEntityとして学習させれば防げるかもしれませんが、それではLUISの手軽さを損なうことになってしまいます。<br>
そのためどうしても上記のような発話を区別してハンドリングしたい場合は、LUISではなく構文解析のライブラリを使用することをお薦めします。</p>

<h3>
<span id="１つのモデルを複数ドメインに適用する" class="fragment"></span><a href="#%EF%BC%91%E3%81%A4%E3%81%AE%E3%83%A2%E3%83%87%E3%83%AB%E3%82%92%E8%A4%87%E6%95%B0%E3%83%89%E3%83%A1%E3%82%A4%E3%83%B3%E3%81%AB%E9%81%A9%E7%94%A8%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>１つのモデルを複数ドメインに適用する</h3>

<p>公式ドキュメントの<a href="https://docs.microsoft.com/ja-jp/azure/cognitive-services/luis/luis-concept-intent#none-intent-is-fallback-for-app" rel="nofollow noopener" target="_blank">Noneインテントの使い方</a>や<a href="https://docs.microsoft.com/ja-jp/azure/cognitive-services/luis/luis-concept-prebuilt-model" rel="nofollow noopener" target="_blank">事前構築済みのモデル</a>に関する記載内容から、<strong>1つのモデルで対応するのは１つのドメインに関する発話のみ</strong>というLUISの思想が汲み取れます。<br>
つまり、「航空券の予約」と「旅館の予約」に関する発話を１つのLUISのモデルに学習させることは原則させない方がいいということです。<br>
どうしても１つのアプリケーションで複数のドメインに対応する必要が生じた場合、以下のようにアプリケーションに工夫を施すことをお薦めします。</p>

<ul>
<li>LUISのモデルをドメインの数だけ分割して用意する</li>
<li>アプリケーション側のUI等で<strong>どのドメインに関する発話を特定</strong>する</li>
<li>該当するドメインのLUISモデルにPredictのリクエストを投げる</li>
</ul>

<h2>
<span id="最後に" class="fragment"></span><a href="#%E6%9C%80%E5%BE%8C%E3%81%AB"><i class="fa fa-link"></i></a>最後に</h2>

<p>繰り返しになりますが、最近は本当に<a href="https://docs.microsoft.com/ja-jp/azure/cognitive-services/luis/" rel="nofollow noopener" target="_blank">公式ドキュメント</a>が充実しているので、この記事を見てLUISを使ってみようと思った方は、ぜひこちらをご参照ください。特に<a href="https://docs.microsoft.com/ja-jp/azure/cognitive-services/luis/luis-concept-best-practices" rel="nofollow noopener" target="_blank">ベストプラクティス</a>について書かれた箇所は事前に読んでおくと、ハマりどころを回避できるのではないかと思います。（私が最初に使い始めた時はこんなに丁寧な解説はありませんでした。もっと早く知りたかった...笑）</p>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2Fnavitime_tech%2Fitems%2F22bd507be04dae4f8b36&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2Fnavitime_tech%2Fitems%2F22bd507be04dae4f8b36&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/navitime_tech/items/22bd507be04dae4f8b36/likers" class="css-1iupg5d">26</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">16</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/22bd507be04dae4f8b36/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/navitime_tech/items/22bd507be04dae4f8b36/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/navitime_tech/items/22bd507be04dae4f8b36/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/navitime_tech/items/22bd507be04dae4f8b36/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/navitime_tech/items/22bd507be04dae4f8b36.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-6334675a-5dc0-41f6-b861-a28af1d145be">{"authorAnalyticsTrackingId":null,"organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-efc9fbab-8a13-4a34-b77a-a9bdcd00a9dd"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-efc9fbab-8a13-4a34-b77a-a9bdcd00a9dd">{}</script>
      
<div id="LoginModal-react-component-f1ad8730-63a7-4fb1-90db-16769be13dbb"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-f1ad8730-63a7-4fb1-90db-16769be13dbb">{}</script>
      
<div id="StockModal-react-component-54c89ee8-a829-4a71-834b-d5c6a038b708"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-54c89ee8-a829-4a71-834b-d5c6a038b708">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;d7VYxtUixUoNRNwYrLzS34cmsL2qhCMWTuejivDuOrXv8jKFM9KKKnKbeJXgTJk1xN+doYAoX2PiLKAXBh7tsA==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\n\u003ch2\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\n\u003cp\u003eナビタイムジャパン/ACTS(研究開発部門)サーバーグループの本多です。\u003c/p\u003e\n\n\u003cp\u003e弊社では移動体験の向上のため、自然言語処理によるナビの操作に取り組んでおります。\u003cbr\u003e\n12/15に開催される\u003ca href=\"https://event.shoeisha.jp/devboost/20181215\" rel=\"nofollow noopener\" target=\"_blank\"\u003eDeveloper Boost\u003c/a\u003eでは、\u003ca href=\"https://event.shoeisha.jp/devboost/20181215/session/1898/\" rel=\"nofollow noopener\" target=\"_blank\"\u003e「自然言語でナビを！VUIとしてのカーナビ」\u003c/a\u003eというセッションでその取り組みの一部をご紹介させていただきます。\u003cbr\u003e\nただ上記発表では設計や品質担保のおける工夫に主眼を置いてお話しするため、技術要素の詳細な解説は割愛しております。そのためこの記事では、発表内容に盛り込めなかった\u003cstrong\u003e実際のサービスにLUISを導入する際のTipsとアンチパターン\u003c/strong\u003eをお伝えさせていただきます。\u003cbr\u003e\nなおLUISの概要についてもふれますが、導入手順や使い方は\u003ca href=\"https://docs.microsoft.com/ja-jp/azure/cognitive-services/luis/luis-get-started-create-app\" rel=\"nofollow noopener\" target=\"_blank\"\u003e公式ドキュメント\u003c/a\u003eが充実しているのでそちらに譲ります。予めご承知おき下さい。（既に概要についてご存知の方は\u003ca href=\"#Tips\"\u003eこちら\u003c/a\u003eからご覧ください）\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"概要\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%A6%82%E8%A6%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e概要\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003eMicrosoftが提供する\u003ca href=\"https://azure.microsoft.com/ja-jp/services/cognitive-services/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eCognitive Services\u003c/a\u003eの一種\u003c/li\u003e\n\u003cli\u003eオリジナルのモデルを構築することが可能\u003c/li\u003e\n\u003cli\u003e日本語を含む12の言語に対応 \u003cstrong\u003e※2018年11月現在\u003c/strong\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eチャットボットなどの文脈で紹介されることが多いですが、LUIS自体は対話機能を提供しません。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"何ができるのか\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BD%95%E3%81%8C%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%AE%E3%81%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e何ができるのか\u003c/h2\u003e\n\n\u003cp\u003e発話を入力として与えると、\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e意図解釈\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://ja.wikipedia.org/wiki/%E5%9B%BA%E6%9C%89%E8%A1%A8%E7%8F%BE%E6%8A%BD%E5%87%BA\" rel=\"nofollow noopener\" target=\"_blank\"\u003e固有表現抽出\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eの２つを行い、出力として返却してくれます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"json\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eLuisResponseSample.json\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"query\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"環七通り沿いのコンビニ\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"topScoringIntent\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"intent\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"Search.Along.Road\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"score\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mf\"\u003e0.981975\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"entities\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"entity\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"コンビニ\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"type\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"MapObject.Icon.Param.List\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"startIndex\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"endIndex\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"resolution\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"values\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                    \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"convenience_store\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                    \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"コンビニエンスストア\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                \u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"entity\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"コンビニ\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"type\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"Places.PlaceType.Param.List\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"startIndex\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"endIndex\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"resolution\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"values\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                    \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"0201\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                \u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"query\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#query\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003equery\u003c/h3\u003e\n\n\u003cp\u003eLUISに入力として渡した発話。このqueryがの解析対象となります。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"topscoringintent\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#topscoringintent\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003etopScoringIntent\u003c/h3\u003e\n\n\u003cp\u003eLUISが最も可能性が高いと判定した発話主の意図。\u003cbr\u003e\n例における\u003ccode\u003eSearch.Along.Road\u003c/code\u003eは、構築したモデルに定義してあるIntent名称です。\u003cbr\u003e\n\u003ccode\u003escore\u003c/code\u003eは意図解釈時の根拠となる値。0~1の間の値をとります。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"entities\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#entities\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eentities\u003c/h3\u003e\n\n\u003cp\u003e発話から抽出された固有表現の配列。\u003cbr\u003e\n\u003ccode\u003estartIndex\u003c/code\u003e, \u003ccode\u003eendIndex\u003c/code\u003eは、抽出された固有表現が発話全体(=query)の何文字目に出現するかを表しています。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"何が嬉しいのか\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BD%95%E3%81%8C%E5%AC%89%E3%81%97%E3%81%84%E3%81%AE%E3%81%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e何が嬉しいのか\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"guiが充実している\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#gui%E3%81%8C%E5%85%85%E5%AE%9F%E3%81%97%E3%81%A6%E3%81%84%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGUIが充実している\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003eIntentの作成\u003c/li\u003e\n\u003cli\u003e発話例の入力\u003c/li\u003e\n\u003cli\u003eEntityのアノテーション\u003c/li\u003e\n\u003cli\u003eバージョン管理\u003c/li\u003e\n\u003cli\u003e学習\u003c/li\u003e\n\u003cli\u003e発行\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eこれら全てがGUI上で完結するため、自然言語処理の導入コストを大きく削減してくれます。（これらの機能は\u003ca href=\"https://westus.dev.cognitive.microsoft.com/docs/services/5890b47c39e2bb17b84a55ff/operations/5890b47c39e2bb052c5b9c39\" rel=\"nofollow noopener\" target=\"_blank\"\u003eAPI\u003c/a\u003eでも提供されています）\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"日本語に対応している\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%81%AB%E5%AF%BE%E5%BF%9C%E3%81%97%E3%81%A6%E3%81%84%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e日本語に対応している\u003c/h3\u003e\n\n\u003cp\u003e対象言語が英語の場合、類似の機能を提供してくれるツール群はたくさんありますが、日本語に対応しようと思うと途端に選択肢が少なくなります。\u003cbr\u003e\nまた日本語特有の問題に形態素解析がありますが、LUISの入力として渡す文章には区切り文字等を入れる必要はありません。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"tips\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#tips\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eTips\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"発話のニュアンス--アプリケーションのアクション\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%99%BA%E8%A9%B1%E3%81%AE%E3%83%8B%E3%83%A5%E3%82%A2%E3%83%B3%E3%82%B9--%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E3%82%A2%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e発話のニュアンス \u0026lt; アプリケーションのアクション\u003c/h3\u003e\n\n\u003cp\u003eIntentを設計する際は発話それ自体のニュアンスよりも、\u003cstrong\u003eLUISの解析結果を受け取ったアプリケーション側がどんなアクションを起こすか\u003c/strong\u003eを基準に考えた方が良いです。\u003cbr\u003e\n例えば弊社のNAVITIME TravelのBotアプリでは当初、以下のようにIntentを切っていました。\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e発話例\u003c/th\u003e\n\u003cth\u003eIntent\u003c/th\u003e\n\u003cth\u003eEntityのラベル\u003c/th\u003e\n\u003cth\u003eEntityの値\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e「金閣寺ってどこにあるの」\u003c/td\u003e\n\u003ctd\u003eAsk.Where\u003c/td\u003e\n\u003ctd\u003espot\u003c/td\u003e\n\u003ctd\u003e金閣寺\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e「金閣寺に行きたい」\u003c/td\u003e\n\u003ctd\u003eWant.To.Go\u003c/td\u003e\n\u003ctd\u003espot\u003c/td\u003e\n\u003ctd\u003e金閣寺\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003eしかしこれだと、このLUISの解析結果を受け取るBot側のアプリケーションがハンドリングするコードが完全に同じになってしまいます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eLuisResultHandler.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003eLuisIntent\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Ask.Where\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"n\"\u003eTask\u003c/span\u003e \u003cspan class=\"nf\"\u003eAskWhereHandler\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eIDialogContext\u003c/span\u003e \u003cspan class=\"n\"\u003econtext\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eLuisResult\u003c/span\u003e \u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// ココと\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003espotName\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eentities\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWhere\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ee\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etype\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"s\"\u003e\"spot\"\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eFirst\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003esearchResult\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nf\"\u003eSearchSpot\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003espotName\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"n\"\u003econtext\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePostAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esearchResult\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003eLuisIntent\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Want.To.Go\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"n\"\u003eTask\u003c/span\u003e \u003cspan class=\"nf\"\u003eWantToGoHandler\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eIDialogContext\u003c/span\u003e \u003cspan class=\"n\"\u003econtext\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eLuisResult\u003c/span\u003e \u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// ココが同じ\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003espotName\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eentities\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWhere\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ee\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etype\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"s\"\u003e\"spot\"\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eFirst\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003esearchResult\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nf\"\u003eSearchSpot\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003espotName\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"n\"\u003econtext\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePostAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esearchResult\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eそのためハンドリングをするアプリ側を起点にIntentを設計し、以下のようにするのがベターです。\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e発話例\u003c/th\u003e\n\u003cth\u003eIntent\u003c/th\u003e\n\u003cth\u003eEntityのラベル\u003c/th\u003e\n\u003cth\u003eEntityの値\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e「金閣寺ってどこにあるの」, 「金閣寺に行きたい」\u003c/td\u003e\n\u003ctd\u003eSearch.Spot\u003c/td\u003e\n\u003ctd\u003espot\u003c/td\u003e\n\u003ctd\u003e金閣寺\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eLuisResultHandler.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003eLuisIntent\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Search.Spot\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\n\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"n\"\u003eTask\u003c/span\u003e \u003cspan class=\"nf\"\u003eSearchSpotHandler\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eIDialogContext\u003c/span\u003e \u003cspan class=\"n\"\u003econtext\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eLuisResult\u003c/span\u003e \u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003espotName\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eentities\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWhere\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ee\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etype\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"s\"\u003e\"spot\"\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eFirst\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003esearchResult\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nf\"\u003eSearchSpot\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003espotName\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"n\"\u003econtext\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePostAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esearchResult\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"絶対に捕まえたいキーワードはlistentityに登録する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B5%B6%E5%AF%BE%E3%81%AB%E6%8D%95%E3%81%BE%E3%81%88%E3%81%9F%E3%81%84%E3%82%AD%E3%83%BC%E3%83%AF%E3%83%BC%E3%83%89%E3%81%AFlistentity%E3%81%AB%E7%99%BB%E9%8C%B2%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e絶対に捕まえたいキーワードはListEntityに登録する\u003c/h3\u003e\n\n\u003cp\u003eアプリケーションのドメインに応じて、キーワードとなる単語があるかと思います。\u003cbr\u003e\n例えば弊社のカーナビアプリの場合「地図」という単語はかなり重要です。この単語が発話に含まれている時点で、ユーザーが地図の操作に関する何らかを求めていることが分かり、他の選択肢をアプリケーションの次のアクション候補から除外することができるからです。\u003cbr\u003e\nまたヘルプデスクのチャットボットなどでは、「入会」のような単語は是非捕まえたいところではないでしょうか。\u003c/p\u003e\n\n\u003cp\u003eこういったアプリケーションの対象ドメインにおけるキーワードは、\u003ca href=\"https://docs.microsoft.com/ja-jp/azure/cognitive-services/luis/luis-how-to-add-entities#add-list-entities\" rel=\"nofollow noopener\" target=\"_blank\"\u003eListEntity\u003c/a\u003eに登録することをお薦めします。\u003cbr\u003e\n通常の\u003ca href=\"https://docs.microsoft.com/ja-jp/azure/cognitive-services/luis/luis-how-to-add-entities#add-simple-entities\" rel=\"nofollow noopener\" target=\"_blank\"\u003eシンプルEntity\u003c/a\u003eだと、学習させた発話例に存在しない言い回しの中にキーワードが含まれていた場合、そのキーワードを抽出できないことがあるからです。\u003c/p\u003e\n\n\u003cp\u003eまたListEntityはシノニム機能も提供しており、「地図」と「マップ」を同じ\u003ccode\u003eMap\u003c/code\u003eエンティティとして登録できます。この機能を使えば、\u003cstrong\u003e実はユーザーはこういう言い回しもしてくる\u003c/strong\u003eということが後から判明した場合はその言い回しをシノニムに追加することで、対応可能な発話が増えていきます。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"active-learning\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#active-learning\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eActive Learning\u003c/h3\u003e\n\n\u003cp\u003e自然言語という\u003cstrong\u003eなんでもアリ\u003c/strong\u003eな入力を受け取る以上、最初に作ったモデルが完璧にワークする事はほぼないと思います。\u003cbr\u003e\n最低限のモデルをデプロイして、サービスで一定期間運用し、ログを元にモデルの精度を向上させ、再びデプロイする。というサイクルを回すのが一般的な流れになるのではないでしょうか。\u003cbr\u003e\nLUISは自身が受け付けたリクエストのログの中から、\u003ca href=\"https://www.slideshare.net/shuyo/introduction-to-active-learning-25787487\" rel=\"nofollow noopener\" target=\"_blank\"\u003e学習させるとモデルの精度向上に寄与する\u003c/a\u003e発話を推薦してくれる\u003ca href=\"https://docs.microsoft.com/ja-jp/azure/cognitive-services/luis/luis-how-to-review-endoint-utt\" rel=\"nofollow noopener\" target=\"_blank\"\u003eActive Learning\u003c/a\u003eの機能があります。\u003cbr\u003e\nこの機能を使用して\u003cstrong\u003e正しいIntent\u003c/strong\u003eと\u003cstrong\u003e本来抽出されて欲しいEntity\u003c/strong\u003eを設定してあげれば、効率的にモデルの精度を向上させていくことができます。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"バージョン管理とバッチテスト\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E7%AE%A1%E7%90%86%E3%81%A8%E3%83%90%E3%83%83%E3%83%81%E3%83%86%E3%82%B9%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eバージョン管理とバッチテスト\u003c/h3\u003e\n\n\u003cp\u003eログを眺めていくと、こちらが想定していなかった発話が入ってくることが多々あります。\u003cbr\u003e\nそれらの発話に対応し、アプリケーションの機能を拡張しようと思った場合、IntentやEntityの追加が生じます。\u003cbr\u003e\nしかしモデルの構成が変わると、\u003cstrong\u003e今までと同じ発話が異なるIntentとして分類される\u003c/strong\u003eということ起こります。\u003cbr\u003e\nこれをデグレと呼ぶかはアプリケーション次第ですが、許容できないケースも多いのではないでしょうか？\u003cbr\u003e\nそこで役立つのがバージョン管理とバッチテストです。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"バージョン管理\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E7%AE%A1%E7%90%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eバージョン管理\u003c/h4\u003e\n\n\u003cp\u003eLUISには\u003ca href=\"https://docs.microsoft.com/ja-jp/azure/cognitive-services/luis/luis-how-to-manage-versions\" rel=\"nofollow noopener\" target=\"_blank\"\u003eバージョン管理機能\u003c/a\u003eがあり、各バージョンにおけるIntent, Entity, 学習させた発話データ等のスナップショットを保有しています。\u003cbr\u003e\nこれによりいつでも好きなモデルに切り戻すことが可能なので、躊躇せずに機能追加をすることが可能です。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"json\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eLuisVersionInfo.json\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"luis_schema_version\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"3.1.0\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"versionId\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"1.0.0\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"name\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"SampleLuisApp\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"desc\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"culture\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"ja-jp\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"intents\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"name\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"None\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"name\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"Operation\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"name\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"Operation.Cancel\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"name\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"Operation.Delete\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"err\"\u003e(略)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"entities\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"name\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"Area\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"roles\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"name\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"History\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"roles\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"name\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"Icon\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"roles\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"name\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"Navigation\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"roles\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"name\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"Route\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"roles\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"name\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"Datetime\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"children\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"Time\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"Day\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"DayOfTheWeek\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"roles\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"err\"\u003e(略)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"err\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"バッチテスト\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%90%E3%83%83%E3%83%81%E3%83%86%E3%82%B9%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eバッチテスト\u003c/h3\u003e\n\n\u003cp\u003eLUISのモデル更新によるアプリケーションのデグレを防ぐために、LUISの\u003ca href=\"https://docs.microsoft.com/ja-jp/azure/cognitive-services/luis/luis-how-to-batch-test\" rel=\"nofollow noopener\" target=\"_blank\"\u003eバッチテスト\u003c/a\u003eを使用するのが有効です。\u003cbr\u003e\n特に「最低限この発話には正しく対応してほしい」といったものがあれば、それをバッチテストのテストケースとして用意しておき、新しいモデルを発行する前に実行することで性能を担保できます。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"アンチパターン\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A2%E3%83%B3%E3%83%81%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eアンチパターン\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"語尾に疑問符や感嘆符がついた発話を学習させる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%AA%9E%E5%B0%BE%E3%81%AB%E7%96%91%E5%95%8F%E7%AC%A6%E3%82%84%E6%84%9F%E5%98%86%E7%AC%A6%E3%81%8C%E3%81%A4%E3%81%84%E3%81%9F%E7%99%BA%E8%A9%B1%E3%82%92%E5%AD%A6%E7%BF%92%E3%81%95%E3%81%9B%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e語尾に疑問符\u003ccode\u003e?\u003c/code\u003eや感嘆符\u003ccode\u003e!\u003c/code\u003eがついた発話を学習させる\u003c/h3\u003e\n\n\u003cp\u003eチャットボットに「今何時？」と聞いたら、なぜか天気を答えられてしまったことがあります。\u003cbr\u003e\n調査を行ったところ、天気を尋ねるIntentにだけ「今日雨降る？」という\u003cstrong\u003e疑問符で終わる発話\u003c/strong\u003eが学習させられており、逆にそれ以外のIntentには疑問符で終わる発話例は一切学習させられていないことが判明しました。\u003cbr\u003e\n疑問符が発話全体の特徴量として強く効きすぎてしまった結果、「今何時？」という発話が天気を尋ねるIntentとして判定されてしまったのです。\u003cbr\u003e\nこれを避けるために、\u003cstrong\u003e疑問符および感嘆符は発話から除外してLUISに学習させる\u003c/strong\u003eことをお薦めします。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"似た発話だけど全く別の意図の発話を学習させる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BC%BC%E3%81%9F%E7%99%BA%E8%A9%B1%E3%81%A0%E3%81%91%E3%81%A9%E5%85%A8%E3%81%8F%E5%88%A5%E3%81%AE%E6%84%8F%E5%9B%B3%E3%81%AE%E7%99%BA%E8%A9%B1%E3%82%92%E5%AD%A6%E7%BF%92%E3%81%95%E3%81%9B%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e似た発話だけど全く別の意図の発話を学習させる\u003c/h3\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e学習させる発話\u003c/th\u003e\n\u003cth\u003eIntent\u003c/th\u003e\n\u003cth\u003eアプリケーションの動作\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e「地図を小さく」\u003c/td\u003e\n\u003ctd\u003eScaleDown\u003c/td\u003e\n\u003ctd\u003e地図を縮小する\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e「地図が小さい」\u003c/td\u003e\n\u003ctd\u003eScaleUp\u003c/td\u003e\n\u003ctd\u003e地図を拡大する\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003eこのような発話を学習させてしまうと、LUISの学習モデルが収束しづらくなり、ユーザーが意図せぬアプリケーションの動作に繋がりやすくなってしまいます。\u003cbr\u003e\n「てにをは」をEntityとして学習させれば防げるかもしれませんが、それではLUISの手軽さを損なうことになってしまいます。\u003cbr\u003e\nそのためどうしても上記のような発話を区別してハンドリングしたい場合は、LUISではなく構文解析のライブラリを使用することをお薦めします。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"１つのモデルを複数ドメインに適用する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%EF%BC%91%E3%81%A4%E3%81%AE%E3%83%A2%E3%83%87%E3%83%AB%E3%82%92%E8%A4%87%E6%95%B0%E3%83%89%E3%83%A1%E3%82%A4%E3%83%B3%E3%81%AB%E9%81%A9%E7%94%A8%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e１つのモデルを複数ドメインに適用する\u003c/h3\u003e\n\n\u003cp\u003e公式ドキュメントの\u003ca href=\"https://docs.microsoft.com/ja-jp/azure/cognitive-services/luis/luis-concept-intent#none-intent-is-fallback-for-app\" rel=\"nofollow noopener\" target=\"_blank\"\u003eNoneインテントの使い方\u003c/a\u003eや\u003ca href=\"https://docs.microsoft.com/ja-jp/azure/cognitive-services/luis/luis-concept-prebuilt-model\" rel=\"nofollow noopener\" target=\"_blank\"\u003e事前構築済みのモデル\u003c/a\u003eに関する記載内容から、\u003cstrong\u003e1つのモデルで対応するのは１つのドメインに関する発話のみ\u003c/strong\u003eというLUISの思想が汲み取れます。\u003cbr\u003e\nつまり、「航空券の予約」と「旅館の予約」に関する発話を１つのLUISのモデルに学習させることは原則させない方がいいということです。\u003cbr\u003e\nどうしても１つのアプリケーションで複数のドメインに対応する必要が生じた場合、以下のようにアプリケーションに工夫を施すことをお薦めします。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eLUISのモデルをドメインの数だけ分割して用意する\u003c/li\u003e\n\u003cli\u003eアプリケーション側のUI等で\u003cstrong\u003eどのドメインに関する発話を特定\u003c/strong\u003eする\u003c/li\u003e\n\u003cli\u003e該当するドメインのLUISモデルにPredictのリクエストを投げる\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"最後に\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e最後に\u003c/h2\u003e\n\n\u003cp\u003e繰り返しになりますが、最近は本当に\u003ca href=\"https://docs.microsoft.com/ja-jp/azure/cognitive-services/luis/\" rel=\"nofollow noopener\" target=\"_blank\"\u003e公式ドキュメント\u003c/a\u003eが充実しているので、この記事を見てLUISを使ってみようと思った方は、ぜひこちらをご参照ください。特に\u003ca href=\"https://docs.microsoft.com/ja-jp/azure/cognitive-services/luis/luis-concept-best-practices\" rel=\"nofollow noopener\" target=\"_blank\"\u003eベストプラクティス\u003c/a\u003eについて書かれた箇所は事前に読んでおくと、ハマりどころを回避できるのではないかと思います。（私が最初に使い始めた時はこんなに丁寧な解説はありませんでした。もっと早く知りたかった...笑）\u003c/p\u003e\n","createdAt":"2018-11-20T00:24:51Z","elapsedYearsFromLastModifiedAt":2,"encryptedId":"QtR7/TEKOxudOjXIRHmJR0ei2sPNmm1L--QwYRms59A4W/Qvwo--GURiv00RmbRE4cLiEphBbA==","isBanned":false,"isDeprecated":true,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2018-11-29T06:16:26Z","likesCount":26,"linkUrl":"https://qiita.com/navitime_tech/items/22bd507be04dae4f8b36","organization":null,"originalId":725223,"stockedCount":16,"title":"LUISを導入する前に知りたかったこと","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003eはじめに\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%A6%82%E8%A6%81\"\u003e概要\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E4%BD%95%E3%81%8C%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%AE%E3%81%8B\"\u003e何ができるのか\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#query\"\u003equery\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#topscoringintent\"\u003etopScoringIntent\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#entities\"\u003eentities\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E4%BD%95%E3%81%8C%E5%AC%89%E3%81%97%E3%81%84%E3%81%AE%E3%81%8B\"\u003e何が嬉しいのか\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#gui%E3%81%8C%E5%85%85%E5%AE%9F%E3%81%97%E3%81%A6%E3%81%84%E3%82%8B\"\u003eGUIが充実している\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%81%AB%E5%AF%BE%E5%BF%9C%E3%81%97%E3%81%A6%E3%81%84%E3%82%8B\"\u003e日本語に対応している\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#tips\"\u003eTips\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%99%BA%E8%A9%B1%E3%81%AE%E3%83%8B%E3%83%A5%E3%82%A2%E3%83%B3%E3%82%B9--%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E3%82%A2%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3\"\u003e発話のニュアンス \u0026lt; アプリケーションのアクション\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%B5%B6%E5%AF%BE%E3%81%AB%E6%8D%95%E3%81%BE%E3%81%88%E3%81%9F%E3%81%84%E3%82%AD%E3%83%BC%E3%83%AF%E3%83%BC%E3%83%89%E3%81%AFlistentity%E3%81%AB%E7%99%BB%E9%8C%B2%E3%81%99%E3%82%8B\"\u003e絶対に捕まえたいキーワードはListEntityに登録する\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#active-learning\"\u003eActive Learning\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E7%AE%A1%E7%90%86%E3%81%A8%E3%83%90%E3%83%83%E3%83%81%E3%83%86%E3%82%B9%E3%83%88\"\u003eバージョン管理とバッチテスト\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E7%AE%A1%E7%90%86\"\u003eバージョン管理\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%90%E3%83%83%E3%83%81%E3%83%86%E3%82%B9%E3%83%88\"\u003eバッチテスト\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%A2%E3%83%B3%E3%83%81%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3\"\u003eアンチパターン\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%AA%9E%E5%B0%BE%E3%81%AB%E7%96%91%E5%95%8F%E7%AC%A6%E3%82%84%E6%84%9F%E5%98%86%E7%AC%A6%E3%81%8C%E3%81%A4%E3%81%84%E3%81%9F%E7%99%BA%E8%A9%B1%E3%82%92%E5%AD%A6%E7%BF%92%E3%81%95%E3%81%9B%E3%82%8B\"\u003e語尾に疑問符?や感嘆符!がついた発話を学習させる\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E4%BC%BC%E3%81%9F%E7%99%BA%E8%A9%B1%E3%81%A0%E3%81%91%E3%81%A9%E5%85%A8%E3%81%8F%E5%88%A5%E3%81%AE%E6%84%8F%E5%9B%B3%E3%81%AE%E7%99%BA%E8%A9%B1%E3%82%92%E5%AD%A6%E7%BF%92%E3%81%95%E3%81%9B%E3%82%8B\"\u003e似た発話だけど全く別の意図の発話を学習させる\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%EF%BC%91%E3%81%A4%E3%81%AE%E3%83%A2%E3%83%87%E3%83%AB%E3%82%92%E8%A4%87%E6%95%B0%E3%83%89%E3%83%A1%E3%82%A4%E3%83%B3%E3%81%AB%E9%81%A9%E7%94%A8%E3%81%99%E3%82%8B\"\u003e１つのモデルを複数ドメインに適用する\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\"\u003e最後に\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","totalPv":3900,"uuid":"22bd507be04dae4f8b36","banReason":null,"adventCalendarItem":{"day":6,"calendar":{"name":"Microsoft Azure","urlName":"azure","year":2018,"organization":null}},"author":{"encryptedId":"yBJyx2ZhmMhUqg+Y4l+jBWwm1BTR--RFMRdyPUkCd+Ddie--BshLUMKedcZA4eVaKPVC0A==","originalId":315364,"description":"株式会社ナビタイムジャパンの技術に関する情報を発信します。\r\n※ご意見、お問い合わせは公式サイト\r\n（https://www.navitime.co.jp/）\r\nからお願いします。\r\n\r\n","facebookUrl":null,"githubUrl":null,"isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"navitime_tech","profileImageUrl":"https://qiita-image-store.s3.amazonaws.com/0/315364/profile-images/1542871594","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F315364%2Fprofile-images%2F1542871594?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=2e6e115a729a07f7caab954a82c58df6","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F315364%2Fprofile-images%2F1542871594?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=ae52821749f922344ff1bce7eba3e222","urlName":"navitime_tech","websiteUrl":"","twitterUrl":"https://twitter.com/navitime_tech","twitterUrlName":"navitime_tech","revealedOrganizations":{"edges":[]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"Azure","urlName":"azure"},{"name":"LUIS","urlName":"luis"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
