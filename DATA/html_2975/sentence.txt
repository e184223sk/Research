More than 1 year has passed since last update..NETFramework4.6.2, C#7.3, WinForms環境にて、MSChartからの置き換えを狙って、OxyPlotを使用した際、調査したり困ったりしたポイントのまとめ。
WinForms以外、WPF等にも共通する部分が多いと思う。
使用しているOxyPlotはNuGetで手に入る、2016/09/12公開のもの。サンプルコード内では、PlotModelオブジェクトをmodel、PlotViewオブジェクトをplotView、Seriesオブジェクトをseriesと表記する。マウス操作としては、中ボタン(マウスホイール)をダブルクリックする。
https://qiita.com/7of9/items/4b2aee6f161bec39a757WhiteやBlackといったように、色を名前指定するにはOxyColorsを用いる。
透明色はOxyColors.Transparentになる。AxisオブジェクトのAxisChanged, TransformChangedイベントを使用する。AxisオブジェクトのAcutalMaximum, ActualMinimumプロパティ。LogarithmicAxisクラスを使用する。LineSeriesオブジェクトのSmoothプロパティをtrueに。
http://shikaku-sh.hatenablog.com/entry/oxyplot-simple-usageSeriesオブジェクトのMouseDownイベントを使用する。チャート中のデータを左クリックすると表示される小さなウィンドウ(ToolTip)のことを、OxyPlotではTrackerと呼ぶ。SeriesオブジェクトのTrackerFormatStringプロパティを使用する。
http://shikaku-sh.hatenablog.com/entry/oxyplot-simple-usageIDataPointProviderを実装するMyDataPoint型を用意し、SeriesオブジェクトのItemsSourceプロパティにMyDataPointの集合を与える。
すると、TrackerFormatStringプロパティの中で、MyDataPointのプロパティを呼び出せるようになる。WinForms環境の場合、ShowTrackerメソッド内でBackColor = Color.LightSkyBlueとなっているので、変えられないように思う。
他の環境ならどうにかなるかもね。LineAnnotationクラスを使用する。できないので、文字列配置用のPointAnnotationを併用することにした。RectangleAnnotationクラスを使用する。
文字列は常に四角形の中央に表示されるので、気にいらなければ、説明用の文字列はPointAnnotationで表示するとよい。Left, Bottomで点の右上に、Right, Topで点の左下に文字列が表示される。
PngExporterクラスを使用する。これ
https://github.com/oxyplot/oxyplot/issues/931
3年前にIssueとして登録されているがまだCloseされてないので、未対応なのでは。
これがどうにもならなくて、OxyPlotの使用自体をあきらめた。


