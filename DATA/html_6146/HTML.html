<!DOCTYPE html><html><head><meta charset="utf-8" /><title>Microsoft Bot Framework v3.0 からはじめる BOT 開発: 天気予報 BOT～カード表示で分かりやすく - Adaptive Cards - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/annie/items/3416fcf1ec275940979a" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="Tmyy7up4+CupzRJ3mK3YuzEm+mB6j5vZCZkOP0bVhyr3KdrFIUikUSS7G04N7c4O8FemJsaJltaJPJIXy7ARfA==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta property="og:type" content="article"><meta property="og:title" content="Microsoft Bot Framework v3.0 からはじめる BOT 開発: 天気予報 BOT～カード表示で分かりやすく - Adaptive Cards - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1UV2xqY205emIyWjBJRUp2ZENCR2NtRnRaWGR2Y21zZ2RqTXVNQ0RqZ1l2amdvbmpnYV9qZ1pqamdvSGpnb3NnUWs5VUlPbVdpLWVadWpvZzVhU3A1ckNYNUxxSTVhQ3hJRUpQVk8tOW51T0NxLU9Edk9PRGllaWhxT2VrdXVPQnAtV0lodU9CaS1PQ2l1T0NoT09CbWVPQmp5QXRJRUZrWVhCMGFYWmxJRU5oY21SeiZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTU0JnR4dC1jbGlwPWVsbGlwc2lzJnR4dC1hbGlnbj1jZW50ZXIlMkNtaWRkbGUmcz1mYjU2N2QxMDg5Mjg3ZGU0YzY1MGM4N2RlZWQ0NzMzYg&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RR0Z1Ym1sbCZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPWQ4ZmNkZWE0YWRlZWRmMGZhMmJkMmU0M2U0M2M4ZDFl&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=a7c5c50a1b17cd435fd47633fe5a76c0"><meta property="og:description" content="最近 SNS でよく見かける 画像を利用した &quot;カード&quot; と呼ばれるフォーマット。Bot Framework で利用可能になった Adaptive Cards を使って、情報をグラフィカルに表示する方法を紹介します。
Livedoor..."><meta content="https://qiita.com/annie/items/3416fcf1ec275940979a" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="Microsoft,C#,bot,BotFramework,AdaptiveCards" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 1nzh4zz 38fzdi helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-1nzh4zz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 32px;background-color:#FBE69E;color:rgba(0,0,0,0.87);line-height:1.5;font-weight:600;}@media (max-width:770px){.css-1nzh4zz{padding:16px;}}.css-38fzdi{color:#CA832A;margin-right:4px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-e18ed78a-f1ab-4be9-b550-3f6baf9d4776"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2Fannie%2Fitems%2F3416fcf1ec275940979a">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2Fannie%2Fitems%2F3416fcf1ec275940979a">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-e18ed78a-f1ab-4be9-b550-3f6baf9d4776">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/microsoft","name":"Microsoft"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2017-08-04T16:36:32.000+09:00","dateModified":"2017-08-16T14:42:42.000+09:00","headline":"Microsoft Bot Framework v3.0 からはじめる BOT 開発: 天気予報 BOT～カード表示で分かりやすく - Adaptive Cards","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1UV2xqY205emIyWjBJRUp2ZENCR2NtRnRaWGR2Y21zZ2RqTXVNQ0RqZ1l2amdvbmpnYV9qZ1pqamdvSGpnb3NnUWs5VUlPbVdpLWVadWpvZzVhU3A1ckNYNUxxSTVhQ3hJRUpQVk8tOW51T0NxLU9Edk9PRGllaWhxT2VrdXVPQnAtV0lodU9CaS1PQ2l1T0NoT09CbWVPQmp5QXRJRUZrWVhCMGFYWmxJRU5oY21SeiZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTU0JnR4dC1jbGlwPWVsbGlwc2lzJnR4dC1hbGlnbj1jZW50ZXIlMkNtaWRkbGUmcz1mYjU2N2QxMDg5Mjg3ZGU0YzY1MGM4N2RlZWQ0NzMzYg\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RR0Z1Ym1sbCZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPWQ4ZmNkZWE0YWRlZWRmMGZhMmJkMmU0M2U0M2M4ZDFl\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=a7c5c50a1b17cd435fd47633fe5a76c0","mainEntityOfPage":"https://qiita.com/annie/items/3416fcf1ec275940979a","author":{"@type":"Person","address":"","email":null,"identifier":"annie","name":"annie","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fs3-ap-northeast-1.amazonaws.com%2Fqiita-image-store%2F0%2F117583%2F73c0d5e64925a01ddfcb5dfec9aa2ffb823090e5%2Fx_large.png%3F1604022610?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=3764d31bd55c31b2a8f553c55cffdb7d","url":"https://qiita.com/annie","description":"","memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://increments.connpass.com/event/211948/">【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup</a><a target="_blank" id="header_text_message_2" href="https://increments.connpass.com/event/211948/">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"annie","type":"items","id":"3416fcf1ec275940979a"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"annie","type":"items","id":"3416fcf1ec275940979a"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":2,"pos_id":"header_text_message_1","message":"【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"annie","type":"items","id":"3416fcf1ec275940979a"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":2,"pos_id":"header_text_message_2","message":"【9/9(木)開催】Qiitaの過去と未来についてお話しします！Qiita エンジニアフェスタ 2021 Online Meetup","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/annie/items/3416fcf1ec275940979a","location":"/annie/items/3416fcf1ec275940979a","scheme":"https","host":"qiita.com","port":null,"pathname":"/annie/items/3416fcf1ec275940979a","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"ZIlK+Do+WwcAzbyOXuT4mbo3XGFLGjtt1QzyCEQKxDDdzCLT8Q4HfY27tbfLpO4se0YAJ/ccNmJVqW4gyW9SZg==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-038ec902-aa8c-416f-80e9-a8e7b4f63149"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/annie/items/3416fcf1ec275940979a/likers" class="css-1iupg5d">14</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">13</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/3416fcf1ec275940979a/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/annie/items/3416fcf1ec275940979a/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/annie/items/3416fcf1ec275940979a/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/annie/items/3416fcf1ec275940979a/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/annie/items/3416fcf1ec275940979a.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-1nzh4zz"><span class="fa fa-fw fa-warning css-38fzdi"></span><p>More than 3 years have passed since last update.</p></div><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/annie"><img class="css-100alwu eyfquo10" src="https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/117583/73c0d5e64925a01ddfcb5dfec9aa2ffb823090e5/x_large.png?1604022610" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/annie" class="css-10ougpm">@<!-- -->annie</a><div class="css-1ay9vb9"><span><meta content="2017-08-04T07:36:32Z"/><time dateTime="2017-08-16T05:42:42Z" class="css-m19uds">updated at 2017-08-16</time></span></div></div></div></div></div><h1 class="css-cgzq40">Microsoft Bot Framework v3.0 からはじめる BOT 開発: 天気予報 BOT～カード表示で分かりやすく - Adaptive Cards</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/microsoft" class="css-4czcte">Microsoft</a><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/bot" class="css-4czcte">bot</a><a href="/tags/botframework" class="css-4czcte">BotFramework</a><a href="/tags/adaptivecards" class="css-4czcte">AdaptiveCards</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div><p>最近 SNS でよく見かける 画像を利用した "カード" と呼ばれるフォーマット。Bot Framework で利用可能になった Adaptive Cards を使って、情報をグラフィカルに表示する方法を紹介します。<br>
<a href="http://weather.livedoor.com/weather_hacks/" rel="nofollow noopener" target="_blank">Livedoor 天気予報 Weather Hacks</a> の天気予報 API を利用してデータを取得、日付と気温と共に天気アイコンを表示するカードを作成、表示する BOT を作成します。<br>
<a href="https://camo.qiitausercontent.com/9cea66f2516fbeb2d5f8605fb6cb2154f733852f/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f31362e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_16.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=25feb7f6d00de1a54dea27a3c3f7592a" alt="" data-canonical-src="https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_16.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_16.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=08fa429e0132dae87eac2555986d2f9a 1x" loading="lazy"></a></p>

<h2>
<span id="手順" class="fragment"></span><a href="#%E6%89%8B%E9%A0%86"><i class="fa fa-link"></i></a>手順</h2>

<ol>
<li>天気予報 BOT - Adaptive Card : 天気情報を取得して表示する (※このページ)</li>
<li><a href="http://qiita.com/annie/items/c55101720aee1c6d7ad6" id="reference-3d826a34d226d2c0a1bd">天気予報 BOT - Cognitive Services LUIS(1): 自然言語(文章)を解釈して、場所や日時を取得する</a></li>
<li><a href="http://qiita.com/annie/items/23b821108f9d32a0832e" id="reference-3c27be73811a235e2c69">天気予報 BOT - Cognitive Services LUIS(2): 自然言語判定結果をBOTに組み込む</a></li>
</ol>

<h2>
<span id="開発環境" class="fragment"></span><a href="#%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83"><i class="fa fa-link"></i></a>開発環境</h2>

<p>Windows 10 + Visual Studio 2017 Enterprise, Bot Framework v3.8 (C#) で作成を行っています。</p>

<p>無償の Visual Studio 2017 Community or 2015 Community でOKなので、既存の環境がない場合は、ダウンロードしてインストールします。<br>
<a href="https://www.visualstudio.com/ja-jp/products/visual-studio-community-vs.aspx" rel="nofollow noopener" target="_blank">Visual Studio 2017 Community ダウンロードサイト</a><br>
<a href="http://aka.ms/bf-bc-vstemplate" rel="nofollow noopener" target="_blank">Visual Studio 用の Bot Framework C# テンプレート</a><br>
<a href="https://aka.ms/bf-bc-emulator" rel="nofollow noopener" target="_blank">Bot Framework Channel Emulator (Windows版)</a> ※Mac/Linux は <a href="https://aka.ms/bfemulator" rel="nofollow noopener" target="_blank">Console版</a> をご利用ください</p>

<blockquote>
<p>Bot Framework 開発環境の作り方は、<a href="http://qiita.com/annie/items/edc26c0ee9603e84a2e4#bot-framework-%E3%82%92%E4%BD%BF%E3%81%86%E3%81%9F%E3%82%81%E3%81%AE%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83" id="reference-8a93ca55e9db60eb8b44">Microsoft Bot Framework v3.0 からはじめる BOT 開発: Bot Framework を使うための開発環境</a> をご覧ください。</p>
</blockquote>

<h1>
<span id="天気予報-bot---adaptive-card--天気情報を取得して表示する" class="fragment"></span><a href="#%E5%A4%A9%E6%B0%97%E4%BA%88%E5%A0%B1-bot---adaptive-card--%E5%A4%A9%E6%B0%97%E6%83%85%E5%A0%B1%E3%82%92%E5%8F%96%E5%BE%97%E3%81%97%E3%81%A6%E8%A1%A8%E7%A4%BA%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>天気予報 BOT - Adaptive Card : 天気情報を取得して表示する</h1>

<h2>
<span id="visual-studio-テンプレートから新規-bot-アプリケーションの作成下準備" class="fragment"></span><a href="#visual-studio-%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%81%8B%E3%82%89%E6%96%B0%E8%A6%8F-bot-%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E4%BD%9C%E6%88%90%E4%B8%8B%E6%BA%96%E5%82%99"><i class="fa fa-link"></i></a>Visual Studio テンプレートから新規 BOT アプリケーションの作成～下準備</h2>

<p><a href="http://qiita.com/annie/items/edc26c0ee9603e84a2e4#visual-studio-%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%81%8B%E3%82%89-bot-%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E4%BD%9C%E6%88%90" id="reference-8a93ca55e9db60eb8b44">Visual Studio テンプレートから Bot アプリケーションの作成</a> と同じ手順で、Visual Studio テンプレートから Bot アプリケーションの作成 と同じプロセスで新規アプリケーションを作成します。<br>
<a href="https://camo.qiitausercontent.com/e143f859db324c25777f6f8fbbad9cef21da2347/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f30312e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_01.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=ac1e81387c99d9eb400a369918504d1a" alt="" data-canonical-src="https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_01.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_01.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=02db261efa634f72aa48dcd34ed05ebe 1x" loading="lazy"></a></p>

<p>今回は <em>WeatherBot</em> という名称で作成しています。<br>
<a href="https://camo.qiitausercontent.com/2b68e070154578d3d5fa10b473b09fcf38e89620/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f30322e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_02.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=0f534f7ed8b6b8442325c2c9f2e0e834" alt="" data-canonical-src="https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_02.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_02.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=94fec7f9294bead816217ae7f2c5d5f5 1x" loading="lazy"></a></p>

<p>ソリューションエクスプローラーからプロジェクトの配下にある [参照] を右クリックして [NuGet パッケージの管理] をクリックします。<br>
<a href="https://camo.qiitausercontent.com/a1e84340c027c2e4a35c73c67f43edefe54e1164/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f30332e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_03.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=e608f645b629b2100f0fb88ab13bd234" alt="" data-canonical-src="https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_03.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_03.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=96865a5f18409c2dddad31bd16844aaa 1x" loading="lazy"></a></p>

<p>上部バーに <em>このソリューションに一部のNuGetパッケージが見つかりません．．．</em> と表示される場合は、[復元] をクリックして、必要なパッケージをインストールします。(表示されない場合は次に進みます)<br>
<a href="https://camo.qiitausercontent.com/7afe22ed0ecb5a073b0f4bf9b3a582e78dda08e7/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f30342e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_04.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=4111b06866246629d637a6882df3dd1d" alt="" data-canonical-src="https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_04.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_04.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=231868a74e1f2fbc3835c66aa9d1a3c3 1x" loading="lazy"></a></p>

<p>[参照] タブをクリックし、検索バーに <em>adaptive cards</em> と入力して検索、Microsoft.Adaptive.Cards をクリックします。すぐ右側に表示される詳細画面の [インストール] をクリックしてインストールします。<br>
<a href="https://camo.qiitausercontent.com/40fae8f1427b1872f3663b10cbea5191eb467ac5/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f30342d30322e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_04-02.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=67a63db2a4f40ecf53e16a5c35bd0248" alt="" data-canonical-src="https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_04-02.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_04-02.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=7ff31005eb461c1014989a7a14fdec6b 1x" loading="lazy"></a></p>

<p><em>インストールの確認</em> が表示されたら [OK]　、<em>ライセンスへの同意</em> は [同意する] をクリックして、インストールします。<br>
<a href="https://camo.qiitausercontent.com/14c05e95de389f58f22a58cef426d0ac1ffe7b84/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f30355f30362d65313530323037323339363235362e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_05_06-e1502072396256.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=fc3502fb0ad20c54caf1008b74474a1c" alt="" data-canonical-src="https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_05_06-e1502072396256.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_05_06-e1502072396256.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=45a24f263b9a8f5e368c8679b366407d 1x" loading="lazy"></a></p>

<h2>
<span id="天気予報データを格納するクラスを作成" class="fragment"></span><a href="#%E5%A4%A9%E6%B0%97%E4%BA%88%E5%A0%B1%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E6%A0%BC%E7%B4%8D%E3%81%99%E3%82%8B%E3%82%AF%E3%83%A9%E3%82%B9%E3%82%92%E4%BD%9C%E6%88%90"><i class="fa fa-link"></i></a>天気予報データを格納するクラスを作成</h2>

<p>個人の範囲で無料で利用できる Weather Hack の お天気 Webサービス を使うと、天気と気温の予報データがJSON 形式で取得できます。 (→<a href="http://weather.livedoor.com/weather_hacks/webservice" rel="nofollow noopener" target="_blank">サービス仕様</a>)<br>
[例] 横浜(cityid=140010)の天気予報を取得<br>
<a href="http://weather.livedoor.com/forecast/webservice/json/v1?city=140010" class="autolink" rel="nofollow noopener" target="_blank">http://weather.livedoor.com/forecast/webservice/json/v1?city=140010</a></p>

<p>このような JSON データを格納して利用しやすくするためのクラスを作成します。<br>
プロジェクトを右クリックして [追加]＞[新しいフォルダー] をクリック、<em>Models</em> というフォルダーを作成します。<br>
<a href="https://camo.qiitausercontent.com/3d9a3830c3f482dd5806d6d14ee968cffff5abf1/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f30372e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_07.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=530ac7bd6af7de5ac8bbc4593df45827" alt="" data-canonical-src="https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_07.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_07.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=8f678937d467ddd2988d2f9a5c29f7a1 1x" loading="lazy"></a></p>

<p>作成した <em>Models</em> フォルダーを右クリックして、[追加]＞[クラス]をクリックします。<br>
<a href="https://camo.qiitausercontent.com/bb0a33c5b9c55fbe0df18b45ae108b4071720cfc/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f30382e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_08.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=6a924e027b353aff3a743315b6438353" alt="" data-canonical-src="https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_08.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_08.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=cdd587ebda8e86f24556ffd8ebe4a620 1x" loading="lazy"></a></p>

<p>名前に <em>WeatherModel.cs</em> と入力して、[追加] をクリックして新規クラスファイルを作成します。<br>
<a href="https://camo.qiitausercontent.com/3dd4effd4e2c8d6a0f1a8a3697de41009ed63b0e/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f30392e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_09.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=17bf1f98953bd5a954a333ac94cad550" alt="" data-canonical-src="https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_09.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_09.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=04576b36ab6141580823eb37952cace9 1x" loading="lazy"></a></p>

<p>WeatherModel.cs を開き、デフォルトで作成されている WeatherModel クラスを一旦削除します。<br>
<a href="https://camo.qiitausercontent.com/763dbe7118e25b99f9d550a1324de5d536f14530/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f31302e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_10.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=affcc9408bb89a09282a29998622cd20" alt="" data-canonical-src="https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_10.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_10.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=54ce65e84be2ab8fd93f7fba06e65c1c 1x" loading="lazy"></a></p>

<p>API のフォーマットを取得するため、ブラウザーを起動して API にアクセスを行います。<br>
<a href="http://weather.livedoor.com/forecast/webservice/json/v1?city=140010" class="autolink" rel="nofollow noopener" target="_blank">http://weather.livedoor.com/forecast/webservice/json/v1?city=140010</a></p>

<p>表示される結果をすべて選択して、コピーします。<br>
<a href="https://camo.qiitausercontent.com/0d58ce6d2599cb229fc7466779306ae8b53f3435/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f31312e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_11.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=e6d9f9a26d03671e5b18e25c002495ff" alt="" data-canonical-src="https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_11.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_11.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=e4352155d9c098873a71b25f1a04e40f 1x" loading="lazy"></a></p>

<p>Visual Studio に戻り、<em>namespace .Models</em> 内をクリックして選択してから、上部ツールバーから [編集]＞[形式を選択して貼り付け]＞[JSON をクラスとして貼り付ける] を選択して、コピーした内容を貼り付けます。<br>
<a href="https://camo.qiitausercontent.com/86981965b8b4c34983220c39b67540ad69b35fe1/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f31322e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_12.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=3dd2ba0d492b8c7caaf148f9750516da" alt="" data-canonical-src="https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_12.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_12.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=be77f51c7651c08146992acb2bdcf155 1x" loading="lazy"></a><br>
<a href="https://camo.qiitausercontent.com/0b63a9c77ce5e14cd3fb5792e00f80c9556617b3/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f31332e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_13.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=b5832b52dd2a445d99bcee9565f2ea06" alt="" data-canonical-src="https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_13.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_13.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=d3d62d679053e9109f500fcf3571cd70 1x" loading="lazy"></a></p>

<p><em>class Rootobject</em> は <em>class WeatherModel</em> に変更します。<br>
<a href="https://camo.qiitausercontent.com/3eccb88b7bb0c223b3967e34a33d6f606982c5cd/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f31332d30322e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_13-02.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d305503a1d0b0c6041d7f678f79984f3" alt="" data-canonical-src="https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_13-02.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_13-02.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=5adaae5c4232a38649b5614a6e2e0d25 1x" loading="lazy"></a></p>

<p>適時ファイルの保存を行っておきます。</p>

<h2>
<span id="天気予報データの取得テスト" class="fragment"></span><a href="#%E5%A4%A9%E6%B0%97%E4%BA%88%E5%A0%B1%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E5%8F%96%E5%BE%97%E3%83%86%E3%82%B9%E3%83%88"><i class="fa fa-link"></i></a>天気予報データの取得テスト</h2>

<p>Dialogs フォルダ を開き、自動生成されている RootDialog.cs を編集します。</p>

<p>RootDialog.cs の冒頭に System.Net.Http, Newtonsoft.Json, Adaptive Card への参照を追加します。<br>
上記で作成した WeatherModel を利用するために、<em>Models</em> フォルダー への参照も追加します。</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">RootDialog.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">using</span> <span class="nn">System.Net.Http</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Newtonsoft.Json</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">AdaptiveCards</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">WeatherBot.Models</span><span class="p">;</span> <span class="c1">// &lt;projectname&gt;.Models になります</span>
</code></pre></div>
</div>

<p>ユーザーからメッセージが送信された時の動作を MessageReceivedAsync に記載していきます。<br>
まず、MessageReceivedAsync 内のコードを下記に書き換えます。</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">RootDialog.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">private</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">MessageReceivedAsync</span><span class="p">(</span><span class="n">IDialogContext</span> <span class="n">context</span><span class="p">,</span> <span class="n">IAwaitable</span><span class="p">&lt;</span><span class="kt">object</span><span class="p">&gt;</span> <span class="n">result</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">activity</span> <span class="p">=</span> <span class="k">await</span> <span class="n">result</span> <span class="k">as</span> <span class="n">Activity</span><span class="p">;</span>

    <span class="c1">// 返答メッセージを作成</span>
    <span class="kt">var</span> <span class="n">message</span> <span class="p">=</span> <span class="n">context</span><span class="p">.</span><span class="nf">MakeMessage</span><span class="p">();</span>
    <span class="c1">// 天気を取得</span>
    <span class="n">WeatherModel</span> <span class="n">weather</span> <span class="p">=</span> <span class="k">await</span> <span class="nf">GetWeatherAsync</span><span class="p">();</span>

    <span class="c1">// 天気をメッセージにセット</span>
    <span class="n">message</span><span class="p">.</span><span class="n">Text</span> <span class="p">=</span> <span class="s">$"今日の天気は </span><span class="p">{</span><span class="n">weather</span><span class="p">.</span><span class="n">forecasts</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">telop</span><span class="p">.</span><span class="nf">ToString</span><span class="p">()}</span><span class="s"> です"</span><span class="p">;</span>

    <span class="c1">//　返答メッセージをPost</span>
    <span class="k">await</span> <span class="n">context</span><span class="p">.</span><span class="nf">PostAsync</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
    <span class="n">context</span><span class="p">.</span><span class="nf">Wait</span><span class="p">(</span><span class="n">MessageReceivedAsync</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>天気を取得する GetWeatherAsync を作成します。<br>
下記のコードでは、横浜 (city=1400100) を指定して天気情報を取得しています。</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">RootDialog.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">private</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">WeatherModel</span><span class="p">&gt;</span> <span class="nf">GetWeatherAsync</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// API から天気情報を取得 (都市コード 140010 (横浜) の場合)</span>
    <span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">HttpClient</span><span class="p">();</span>
    <span class="kt">var</span> <span class="n">weatherResult</span> <span class="p">=</span> <span class="k">await</span> <span class="n">client</span><span class="p">.</span><span class="nf">GetStringAsync</span><span class="p">(</span><span class="s">"http://weather.livedoor.com/forecast/webservice/json/v1?city=140010"</span><span class="p">);</span>

    <span class="c1">// API 取得したデータをデコードして WeatherModel に取得</span>
    <span class="n">weatherResult</span> <span class="p">=</span> <span class="n">Uri</span><span class="p">.</span><span class="nf">UnescapeDataString</span><span class="p">(</span><span class="n">weatherResult</span><span class="p">);</span>
    <span class="kt">var</span> <span class="n">weatherModel</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="n">DeserializeObject</span><span class="p">&lt;</span><span class="n">WeatherModel</span><span class="p">&gt;(</span><span class="n">weatherResult</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">weatherModel</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>ここで一旦 BOT の動作確認を行います。、F5 または デバック＞デバックの開始 をクリックして、プロジェクトのビルドおよび起動を行います。ブラウザが起動して Bot Framework のデフォルト画面が表示されたら、Bot Framework Channel Emulator を起動してアクセスを行います。<br>
Bot Framework Channel Emulator の上部中央にある Bot Url に、起動しているブラウザと同じ URL (デフォルトでは <a href="http://localhost:xxxx" class="autolink">http://localhost:xxxx</a>) に /api/messages を追加したアドレス (<a href="http://localhost:xxxx/api/messages" class="autolink">http://localhost:xxxx/api/messages</a>) を指定します。</p>

<p>何か文字を入力して送信すると、天気予報が返されるのを確認してください。<br>
<a href="https://camo.qiitausercontent.com/af2baef3922f70af8465b6e75c163b6a72fab0f7/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f31342e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_14.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=cb1fdc84945cfbbfb16d3563d0dc47da" alt="" data-canonical-src="https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_14.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_14.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=b7386e2df09338c4e40241ae4f481bbb 1x" loading="lazy"></a></p>

<h2>
<span id="天気予報データを-adaptive-cards-で表示する" class="fragment"></span><a href="#%E5%A4%A9%E6%B0%97%E4%BA%88%E5%A0%B1%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92-adaptive-cards-%E3%81%A7%E8%A1%A8%E7%A4%BA%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>天気予報データを Adaptive Cards で表示する</h2>

<h3>
<span id="1-単純なカードの作成" class="fragment"></span><a href="#1-%E5%8D%98%E7%B4%94%E3%81%AA%E3%82%AB%E3%83%BC%E3%83%89%E3%81%AE%E4%BD%9C%E6%88%90"><i class="fa fa-link"></i></a>(1) 単純なカードの作成</h3>

<p>次に Adaptive Cards を使って、カード形式で情報を表示します。<br>
MessageReceivedAsync を以下のように変更します。<em>message.text</em> の代わりに Card を作成、Attachment として返答にセットします。</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">RootDialog.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">private</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">MessageReceivedAsync</span><span class="p">(</span><span class="n">IDialogContext</span> <span class="n">context</span><span class="p">,</span> <span class="n">IAwaitable</span><span class="p">&lt;</span><span class="kt">object</span><span class="p">&gt;</span> <span class="n">result</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">activity</span> <span class="p">=</span> <span class="k">await</span> <span class="n">result</span> <span class="k">as</span> <span class="n">Activity</span><span class="p">;</span>

    <span class="c1">// 返答メッセージを作成</span>
    <span class="kt">var</span> <span class="n">message</span> <span class="p">=</span> <span class="n">context</span><span class="p">.</span><span class="nf">MakeMessage</span><span class="p">();</span>
    <span class="c1">// 天気を取得</span>
    <span class="n">WeatherModel</span> <span class="n">weather</span> <span class="p">=</span> <span class="k">await</span> <span class="nf">GetWeatherAsync</span><span class="p">();</span>

    <span class="c1">//// 天気をメッセージにセット</span>
    <span class="c1">//message.Text = $"今日の天気は {weather.forecasts[0].telop.ToString()} です";</span>

    <span class="c1">// 取得した天気情報をカードにセット</span>
    <span class="kt">var</span> <span class="n">weatherCard</span> <span class="p">=</span> <span class="nf">GetCard</span><span class="p">(</span><span class="n">weather</span><span class="p">);</span>
    <span class="kt">var</span> <span class="n">attachment</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Attachment</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">Content</span> <span class="p">=</span> <span class="n">weatherCard</span><span class="p">,</span>
        <span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/vnd.microsoft.card.adaptive"</span><span class="p">,</span>
        <span class="n">Name</span> <span class="p">=</span> <span class="s">"Weather Forecast"</span>
    <span class="p">};</span>
    <span class="n">message</span><span class="p">.</span><span class="n">Attachments</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">attachment</span><span class="p">);</span>

    <span class="c1">//　返答メッセージをPost</span>
    <span class="k">await</span> <span class="n">context</span><span class="p">.</span><span class="nf">PostAsync</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
    <span class="n">context</span><span class="p">.</span><span class="nf">Wait</span><span class="p">(</span><span class="n">MessageReceivedAsync</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>Card を作成する <em>GetCard</em>, その中で天気情報をセットする <em>AddCurrentWeather</em> を以下のように作成します。</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">RootDialog.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">private</span> <span class="k">static</span> <span class="n">AdaptiveCard</span> <span class="nf">GetCard</span><span class="p">(</span><span class="n">WeatherModel</span> <span class="n">model</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">card</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">AdaptiveCard</span><span class="p">();</span>
    <span class="nf">AddCurrentWeather</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">card</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">card</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">private</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">AddCurrentWeather</span><span class="p">(</span><span class="n">WeatherModel</span> <span class="n">model</span><span class="p">,</span> <span class="n">AdaptiveCard</span> <span class="n">card</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// タイトル作成</span>
    <span class="kt">var</span> <span class="n">titleColumnSet</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ColumnSet</span><span class="p">();</span>
    <span class="n">card</span><span class="p">.</span><span class="n">Body</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">titleColumnSet</span><span class="p">);</span>

    <span class="kt">var</span> <span class="n">titleColumn</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Column</span><span class="p">();</span>
    <span class="n">titleColumnSet</span><span class="p">.</span><span class="n">Columns</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">titleColumn</span><span class="p">);</span>

    <span class="kt">var</span> <span class="n">locationText</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TextBlock</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">Text</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">model</span><span class="p">.</span><span class="n">location</span><span class="p">.</span><span class="n">city</span><span class="p">}</span><span class="s"> の天気"</span><span class="p">,</span>
        <span class="n">Size</span> <span class="p">=</span> <span class="n">TextSize</span><span class="p">.</span><span class="n">ExtraLarge</span><span class="p">,</span>
        <span class="n">HorizontalAlignment</span> <span class="p">=</span> <span class="n">HorizontalAlignment</span><span class="p">.</span><span class="n">Center</span>
    <span class="p">};</span>
    <span class="n">titleColumn</span><span class="p">.</span><span class="n">Items</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">locationText</span><span class="p">);</span>

    <span class="c1">// 本文作成</span>
    <span class="c1">// 天気情報をセット</span>
    <span class="kt">var</span> <span class="n">mainColumnSet</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ColumnSet</span><span class="p">();</span>
    <span class="n">card</span><span class="p">.</span><span class="n">Body</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">mainColumnSet</span><span class="p">);</span>

    <span class="kt">var</span> <span class="n">mainColumn</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Column</span><span class="p">();</span>
    <span class="n">mainColumnSet</span><span class="p">.</span><span class="n">Columns</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">mainColumn</span><span class="p">);</span>

    <span class="kt">var</span> <span class="n">mainText</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TextBlock</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">Text</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">model</span><span class="p">.</span><span class="n">publicTime</span><span class="p">.</span><span class="n">Date</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(</span><span class="s">"M/d"</span><span class="p">)}</span><span class="s">"</span><span class="p">,</span>
        <span class="n">Size</span> <span class="p">=</span> <span class="n">TextSize</span><span class="p">.</span><span class="n">Large</span><span class="p">,</span>
        <span class="n">HorizontalAlignment</span> <span class="p">=</span> <span class="n">HorizontalAlignment</span><span class="p">.</span><span class="n">Center</span>
    <span class="p">};</span>
    <span class="n">mainColumn</span><span class="p">.</span><span class="n">Items</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">mainText</span><span class="p">);</span>

    <span class="c1">// 天気アイコンをセット</span>
    <span class="kt">var</span> <span class="n">mainImage</span> <span class="p">=</span> <span class="k">new</span> <span class="n">AdaptiveCards</span><span class="p">.</span><span class="nf">Image</span><span class="p">();</span>
    <span class="n">mainImage</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="n">model</span><span class="p">.</span><span class="n">forecasts</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">image</span><span class="p">.</span><span class="n">url</span><span class="p">;</span>
    <span class="n">mainImage</span><span class="p">.</span><span class="n">HorizontalAlignment</span> <span class="p">=</span> <span class="n">HorizontalAlignment</span><span class="p">.</span><span class="n">Center</span><span class="p">;</span>
    <span class="n">mainColumn</span><span class="p">.</span><span class="n">Items</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">mainImage</span><span class="p">);</span>
<span class="p">}</span>

</code></pre></div>
</div>

<p>再度 BOT の動作確認を行います。<br>
何か文字を入力して送信すると、今度は天気予報がカードで返されるのを確認してください。<br>
<a href="https://camo.qiitausercontent.com/fe8119fc8323ddc967c17fe7c5647a4b128e6bae/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f31352e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_15.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=9270b3df5593a89819a32858d47c9a1c" alt="" data-canonical-src="https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_15.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_15.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=82b2ac943b2a353f213afaf87fd0a22e 1x" loading="lazy"></a></p>

<h3>
<span id="2-複数-column-を持ったカードの作成" class="fragment"></span><a href="#2-%E8%A4%87%E6%95%B0-column-%E3%82%92%E6%8C%81%E3%81%A3%E3%81%9F%E3%82%AB%E3%83%BC%E3%83%89%E3%81%AE%E4%BD%9C%E6%88%90"><i class="fa fa-link"></i></a>(2) 複数 Column を持ったカードの作成</h3>

<p>今度は、Adaptive Cards で複数の Column を持つ形のカードを作成します。<br>
何度か TextBlock と Image を追加する工程があるので、メソッドを作成して再利用できるようにします。<br>
以下のように、RootDialog.cs に AddTextBlock と AddImage を追加します。</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">RootDialog.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">private</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">AddTextBlock</span><span class="p">(</span><span class="n">Column</span> <span class="n">column</span><span class="p">,</span> <span class="kt">string</span> <span class="n">text</span><span class="p">,</span> <span class="n">TextSize</span> <span class="n">size</span><span class="p">,</span> <span class="n">HorizontalAlignment</span> <span class="n">alignment</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">column</span><span class="p">.</span><span class="n">Items</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="k">new</span> <span class="nf">TextBlock</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">Text</span> <span class="p">=</span> <span class="n">text</span><span class="p">,</span>
        <span class="n">Size</span> <span class="p">=</span> <span class="n">size</span><span class="p">,</span>
        <span class="n">HorizontalAlignment</span> <span class="p">=</span> <span class="n">alignment</span>
    <span class="p">});</span>
<span class="p">}</span>
<span class="k">private</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">AddImage</span><span class="p">(</span><span class="n">Column</span> <span class="n">column</span><span class="p">,</span> <span class="kt">string</span> <span class="n">url</span><span class="p">,</span> <span class="n">ImageSize</span> <span class="n">size</span><span class="p">,</span> <span class="n">HorizontalAlignment</span> <span class="n">alignment</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">column</span><span class="p">.</span><span class="n">Items</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">AdaptiveCards</span><span class="p">.</span><span class="nf">Image</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">Url</span> <span class="p">=</span> <span class="n">url</span><span class="p">,</span>
        <span class="n">Size</span> <span class="p">=</span> <span class="n">size</span><span class="p">,</span>
        <span class="n">HorizontalAlignment</span> <span class="p">=</span> <span class="n">alignment</span>
    <span class="p">});</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>RootDialog.cs に AddWeather を下記のように追加して、MessageReceivedAsync からの呼び出しを AddCurrentWeather → AddWeather に変更します。</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">RootDialog.cs</span></div>
<div class="highlight"><pre class="with-code"><code>
<span class="k">private</span> <span class="k">static</span> <span class="n">AdaptiveCard</span> <span class="nf">GetCard</span><span class="p">(</span><span class="n">WeatherModel</span> <span class="n">model</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">card</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">AdaptiveCard</span><span class="p">();</span>
    <span class="c1">//AddCurrentWeather(model, card);</span>
    <span class="nf">AddWeather</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">card</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">card</span><span class="p">;</span>
<span class="p">}</span>

    <span class="p">:</span> <span class="p">(</span><span class="err">中略</span><span class="p">)</span>

<span class="k">private</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">AddWeather</span> <span class="p">(</span><span class="n">WeatherModel</span> <span class="n">model</span><span class="p">,</span> <span class="n">AdaptiveCard</span> <span class="n">card</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// タイトル作成</span>
    <span class="kt">var</span> <span class="n">titleColumnSet</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ColumnSet</span><span class="p">();</span>
    <span class="n">card</span><span class="p">.</span><span class="n">Body</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">titleColumnSet</span><span class="p">);</span>

    <span class="kt">var</span> <span class="n">titleColumn</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Column</span><span class="p">();</span>
    <span class="n">titleColumnSet</span><span class="p">.</span><span class="n">Columns</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">titleColumn</span><span class="p">);</span>
    <span class="nf">AddTextBlock</span><span class="p">(</span><span class="n">titleColumn</span><span class="p">,</span> <span class="s">$"</span><span class="p">{</span><span class="n">model</span><span class="p">.</span><span class="n">location</span><span class="p">.</span><span class="n">city</span><span class="p">}</span><span class="s"> の天気"</span><span class="p">,</span> <span class="n">TextSize</span><span class="p">.</span><span class="n">ExtraLarge</span><span class="p">,</span> <span class="n">HorizontalAlignment</span><span class="p">.</span><span class="n">Center</span><span class="p">);</span>

    <span class="c1">// 本文作成</span>
    <span class="c1">// 天気情報をセット</span>
    <span class="kt">var</span> <span class="n">mainColumnSet</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ColumnSet</span><span class="p">();</span>
    <span class="n">card</span><span class="p">.</span><span class="n">Body</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">mainColumnSet</span><span class="p">);</span>

    <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">item</span> <span class="k">in</span> <span class="n">model</span><span class="p">.</span><span class="n">forecasts</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">var</span> <span class="n">mainColumn</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Column</span><span class="p">();</span>
        <span class="n">mainColumnSet</span><span class="p">.</span><span class="n">Columns</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">mainColumn</span><span class="p">);</span>

        <span class="c1">// 天気データの取得と加工</span>
        <span class="kt">string</span> <span class="n">day</span> <span class="p">=</span> <span class="n">item</span><span class="p">.</span><span class="n">dateLabel</span><span class="p">;</span>
        <span class="kt">string</span> <span class="n">date</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="n">item</span><span class="p">.</span><span class="n">date</span><span class="p">).</span><span class="n">Date</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(</span><span class="s">"M/d"</span><span class="p">);</span>            

        <span class="c1">// temperature が null の場合は "--" に変換</span>
        <span class="kt">string</span> <span class="n">maxTemp</span><span class="p">,</span> <span class="n">minTemp</span><span class="p">;</span>
        <span class="k">try</span>
        <span class="p">{</span>
            <span class="n">maxTemp</span> <span class="p">=</span> <span class="n">item</span><span class="p">.</span><span class="n">temperature</span><span class="p">.</span><span class="n">max</span><span class="p">.</span><span class="n">celsius</span><span class="p">;</span>
            <span class="n">minTemp</span> <span class="p">=</span> <span class="n">item</span><span class="p">.</span><span class="n">temperature</span><span class="p">.</span><span class="n">min</span><span class="p">.</span><span class="n">celsius</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">catch</span>
        <span class="p">{</span>
            <span class="n">maxTemp</span> <span class="p">=</span> <span class="s">"--"</span><span class="p">;</span>
            <span class="n">minTemp</span> <span class="p">=</span> <span class="s">"--"</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">// データのセット</span>
        <span class="nf">AddTextBlock</span><span class="p">(</span><span class="n">mainColumn</span><span class="p">,</span> <span class="s">$"</span><span class="p">{</span><span class="n">day</span><span class="p">}</span><span class="s">(</span><span class="p">{</span> <span class="n">date</span><span class="p">}</span><span class="s">)"</span><span class="p">,</span> <span class="n">TextSize</span><span class="p">.</span><span class="n">Large</span><span class="p">,</span> <span class="n">HorizontalAlignment</span><span class="p">.</span><span class="n">Center</span><span class="p">);</span>
        <span class="nf">AddTextBlock</span><span class="p">(</span><span class="n">mainColumn</span><span class="p">,</span> <span class="s">$"</span><span class="p">{</span><span class="n">maxTemp</span><span class="p">}</span><span class="s"> / </span><span class="p">{</span><span class="n">minTemp</span><span class="p">}</span><span class="s"> °C"</span><span class="p">,</span> <span class="n">TextSize</span><span class="p">.</span><span class="n">Medium</span><span class="p">,</span> <span class="n">HorizontalAlignment</span><span class="p">.</span><span class="n">Center</span><span class="p">);</span>
        <span class="nf">AddImage</span><span class="p">(</span><span class="n">mainColumn</span><span class="p">,</span> <span class="n">item</span><span class="p">.</span><span class="n">image</span><span class="p">.</span><span class="n">url</span><span class="p">,</span> <span class="n">ImageSize</span><span class="p">.</span><span class="n">Medium</span><span class="p">,</span> <span class="n">HorizontalAlignment</span><span class="p">.</span><span class="n">Center</span><span class="p">);</span>
    <span class="p">}</span>

<span class="p">}</span>
</code></pre></div>
</div>

<p>再度 BOT の動作確認を行います。<br>
何か文字を入力して送信すると、3日間の天気予報がカードで返されるのを確認してください。<br>
<a href="https://camo.qiitausercontent.com/9cea66f2516fbeb2d5f8605fb6cb2154f733852f/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f31362e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_16.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=25feb7f6d00de1a54dea27a3c3f7592a" alt="" data-canonical-src="https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_16.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_16.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=08fa429e0132dae87eac2555986d2f9a 1x" loading="lazy"></a></p>

<h2>
<span id="appendix" class="fragment"></span><a href="#appendix"><i class="fa fa-link"></i></a>Appendix</h2>

<p>ご参考まで、ここまで作成したアプリはこちらからダウンロードできます<br>
<a href="https://msdnshared.blob.core.windows.net/media/2017/08/WeatherBot_AdaptiveCards.zip" rel="nofollow noopener" target="_blank">Bot Framework × Adaptive Cards: WeatherBot アプリサンプル</a></p>

<h2>
<span id="next-step" class="fragment"></span><a href="#next-step"><i class="fa fa-link"></i></a>Next Step</h2>

<p>次回以降の<a href="http://qiita.com/annie/items/3416fcf1ec275940979a#%E6%89%8B%E9%A0%86">手順</a>で、Cognitive Services LUIS を用いて、自然言語を判断して回答する BOT に仕立てていきます。<br>
手順 3 まで行って作成できる 天気予報BOT↓<br>
<a href="https://camo.qiitausercontent.com/9b67c341946975521febb602bb2096cca9f8435f/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303831365f30362e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170816_06.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=697597e728b617d655f18473b4012cfe" alt="" data-canonical-src="https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170816_06.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170816_06.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=ddd977fc7c752067795559c4e2d37bba 1x" loading="lazy"></a></p>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2Fannie%2Fitems%2F3416fcf1ec275940979a&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2Fannie%2Fitems%2F3416fcf1ec275940979a&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/annie/items/3416fcf1ec275940979a/likers" class="css-1iupg5d">14</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">13</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/3416fcf1ec275940979a/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/annie/items/3416fcf1ec275940979a/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/annie/items/3416fcf1ec275940979a/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/annie/items/3416fcf1ec275940979a/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/annie/items/3416fcf1ec275940979a.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-038ec902-aa8c-416f-80e9-a8e7b4f63149">{"authorAnalyticsTrackingId":null,"organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-584858fc-0200-4de9-8e01-03484ad56e72"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-584858fc-0200-4de9-8e01-03484ad56e72">{}</script>
      
<div id="LoginModal-react-component-9014134e-49a5-4a3c-add9-29a5a49e9ca1"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-9014134e-49a5-4a3c-add9-29a5a49e9ca1">{}</script>
      
<div id="StockModal-react-component-fddda175-7945-4538-ae8d-b02565595b20"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-fddda175-7945-4538-ae8d-b02565595b20">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;Q+f3MLtLCOSAqLsFFBJd2wgLFBrJ+2kDToofjo4B9dn6op8bcHtUng3esjyBUktuyXpIXHX9ZAzOL4OmA2Rjjw==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\u003cp\u003e最近 SNS でよく見かける 画像を利用した \"カード\" と呼ばれるフォーマット。Bot Framework で利用可能になった Adaptive Cards を使って、情報をグラフィカルに表示する方法を紹介します。\u003cbr\u003e\n\u003ca href=\"http://weather.livedoor.com/weather_hacks/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eLivedoor 天気予報 Weather Hacks\u003c/a\u003e の天気予報 API を利用してデータを取得、日付と気温と共に天気アイコンを表示するカードを作成、表示する BOT を作成します。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/9cea66f2516fbeb2d5f8605fb6cb2154f733852f/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f31362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_16.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=25feb7f6d00de1a54dea27a3c3f7592a\" alt=\"\" data-canonical-src=\"https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_16.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_16.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=08fa429e0132dae87eac2555986d2f9a 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"手順\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%89%8B%E9%A0%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e手順\u003c/h2\u003e\n\n\u003col\u003e\n\u003cli\u003e天気予報 BOT - Adaptive Card : 天気情報を取得して表示する (※このページ)\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"http://qiita.com/annie/items/c55101720aee1c6d7ad6\" id=\"reference-3d826a34d226d2c0a1bd\"\u003e天気予報 BOT - Cognitive Services LUIS(1): 自然言語(文章)を解釈して、場所や日時を取得する\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"http://qiita.com/annie/items/23b821108f9d32a0832e\" id=\"reference-3c27be73811a235e2c69\"\u003e天気予報 BOT - Cognitive Services LUIS(2): 自然言語判定結果をBOTに組み込む\u003c/a\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"開発環境\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e開発環境\u003c/h2\u003e\n\n\u003cp\u003eWindows 10 + Visual Studio 2017 Enterprise, Bot Framework v3.8 (C#) で作成を行っています。\u003c/p\u003e\n\n\u003cp\u003e無償の Visual Studio 2017 Community or 2015 Community でOKなので、既存の環境がない場合は、ダウンロードしてインストールします。\u003cbr\u003e\n\u003ca href=\"https://www.visualstudio.com/ja-jp/products/visual-studio-community-vs.aspx\" rel=\"nofollow noopener\" target=\"_blank\"\u003eVisual Studio 2017 Community ダウンロードサイト\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"http://aka.ms/bf-bc-vstemplate\" rel=\"nofollow noopener\" target=\"_blank\"\u003eVisual Studio 用の Bot Framework C# テンプレート\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://aka.ms/bf-bc-emulator\" rel=\"nofollow noopener\" target=\"_blank\"\u003eBot Framework Channel Emulator (Windows版)\u003c/a\u003e ※Mac/Linux は \u003ca href=\"https://aka.ms/bfemulator\" rel=\"nofollow noopener\" target=\"_blank\"\u003eConsole版\u003c/a\u003e をご利用ください\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003eBot Framework 開発環境の作り方は、\u003ca href=\"http://qiita.com/annie/items/edc26c0ee9603e84a2e4#bot-framework-%E3%82%92%E4%BD%BF%E3%81%86%E3%81%9F%E3%82%81%E3%81%AE%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83\" id=\"reference-8a93ca55e9db60eb8b44\"\u003eMicrosoft Bot Framework v3.0 からはじめる BOT 開発: Bot Framework を使うための開発環境\u003c/a\u003e をご覧ください。\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"天気予報-bot---adaptive-card--天気情報を取得して表示する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%A4%A9%E6%B0%97%E4%BA%88%E5%A0%B1-bot---adaptive-card--%E5%A4%A9%E6%B0%97%E6%83%85%E5%A0%B1%E3%82%92%E5%8F%96%E5%BE%97%E3%81%97%E3%81%A6%E8%A1%A8%E7%A4%BA%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e天気予報 BOT - Adaptive Card : 天気情報を取得して表示する\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"visual-studio-テンプレートから新規-bot-アプリケーションの作成下準備\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#visual-studio-%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%81%8B%E3%82%89%E6%96%B0%E8%A6%8F-bot-%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E4%BD%9C%E6%88%90%E4%B8%8B%E6%BA%96%E5%82%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eVisual Studio テンプレートから新規 BOT アプリケーションの作成～下準備\u003c/h2\u003e\n\n\u003cp\u003e\u003ca href=\"http://qiita.com/annie/items/edc26c0ee9603e84a2e4#visual-studio-%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%81%8B%E3%82%89-bot-%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E4%BD%9C%E6%88%90\" id=\"reference-8a93ca55e9db60eb8b44\"\u003eVisual Studio テンプレートから Bot アプリケーションの作成\u003c/a\u003e と同じ手順で、Visual Studio テンプレートから Bot アプリケーションの作成 と同じプロセスで新規アプリケーションを作成します。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/e143f859db324c25777f6f8fbbad9cef21da2347/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f30312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_01.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ac1e81387c99d9eb400a369918504d1a\" alt=\"\" data-canonical-src=\"https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_01.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_01.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=02db261efa634f72aa48dcd34ed05ebe 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e今回は \u003cem\u003eWeatherBot\u003c/em\u003e という名称で作成しています。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/2b68e070154578d3d5fa10b473b09fcf38e89620/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f30322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_02.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=0f534f7ed8b6b8442325c2c9f2e0e834\" alt=\"\" data-canonical-src=\"https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_02.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_02.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=94fec7f9294bead816217ae7f2c5d5f5 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eソリューションエクスプローラーからプロジェクトの配下にある [参照] を右クリックして [NuGet パッケージの管理] をクリックします。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/a1e84340c027c2e4a35c73c67f43edefe54e1164/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f30332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_03.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e608f645b629b2100f0fb88ab13bd234\" alt=\"\" data-canonical-src=\"https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_03.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_03.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=96865a5f18409c2dddad31bd16844aaa 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e上部バーに \u003cem\u003eこのソリューションに一部のNuGetパッケージが見つかりません．．．\u003c/em\u003e と表示される場合は、[復元] をクリックして、必要なパッケージをインストールします。(表示されない場合は次に進みます)\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/7afe22ed0ecb5a073b0f4bf9b3a582e78dda08e7/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f30342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_04.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4111b06866246629d637a6882df3dd1d\" alt=\"\" data-canonical-src=\"https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_04.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_04.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=231868a74e1f2fbc3835c66aa9d1a3c3 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e[参照] タブをクリックし、検索バーに \u003cem\u003eadaptive cards\u003c/em\u003e と入力して検索、Microsoft.Adaptive.Cards をクリックします。すぐ右側に表示される詳細画面の [インストール] をクリックしてインストールします。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/40fae8f1427b1872f3663b10cbea5191eb467ac5/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f30342d30322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_04-02.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=67a63db2a4f40ecf53e16a5c35bd0248\" alt=\"\" data-canonical-src=\"https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_04-02.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_04-02.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=7ff31005eb461c1014989a7a14fdec6b 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003cem\u003eインストールの確認\u003c/em\u003e が表示されたら [OK]　、\u003cem\u003eライセンスへの同意\u003c/em\u003e は [同意する] をクリックして、インストールします。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/14c05e95de389f58f22a58cef426d0ac1ffe7b84/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f30355f30362d65313530323037323339363235362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_05_06-e1502072396256.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=fc3502fb0ad20c54caf1008b74474a1c\" alt=\"\" data-canonical-src=\"https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_05_06-e1502072396256.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_05_06-e1502072396256.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=45a24f263b9a8f5e368c8679b366407d 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"天気予報データを格納するクラスを作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%A4%A9%E6%B0%97%E4%BA%88%E5%A0%B1%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E6%A0%BC%E7%B4%8D%E3%81%99%E3%82%8B%E3%82%AF%E3%83%A9%E3%82%B9%E3%82%92%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e天気予報データを格納するクラスを作成\u003c/h2\u003e\n\n\u003cp\u003e個人の範囲で無料で利用できる Weather Hack の お天気 Webサービス を使うと、天気と気温の予報データがJSON 形式で取得できます。 (→\u003ca href=\"http://weather.livedoor.com/weather_hacks/webservice\" rel=\"nofollow noopener\" target=\"_blank\"\u003eサービス仕様\u003c/a\u003e)\u003cbr\u003e\n[例] 横浜(cityid=140010)の天気予報を取得\u003cbr\u003e\n\u003ca href=\"http://weather.livedoor.com/forecast/webservice/json/v1?city=140010\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://weather.livedoor.com/forecast/webservice/json/v1?city=140010\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eこのような JSON データを格納して利用しやすくするためのクラスを作成します。\u003cbr\u003e\nプロジェクトを右クリックして [追加]＞[新しいフォルダー] をクリック、\u003cem\u003eModels\u003c/em\u003e というフォルダーを作成します。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/3d9a3830c3f482dd5806d6d14ee968cffff5abf1/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f30372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_07.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=530ac7bd6af7de5ac8bbc4593df45827\" alt=\"\" data-canonical-src=\"https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_07.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_07.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=8f678937d467ddd2988d2f9a5c29f7a1 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e作成した \u003cem\u003eModels\u003c/em\u003e フォルダーを右クリックして、[追加]＞[クラス]をクリックします。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/bb0a33c5b9c55fbe0df18b45ae108b4071720cfc/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f30382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_08.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=6a924e027b353aff3a743315b6438353\" alt=\"\" data-canonical-src=\"https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_08.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_08.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=cdd587ebda8e86f24556ffd8ebe4a620 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e名前に \u003cem\u003eWeatherModel.cs\u003c/em\u003e と入力して、[追加] をクリックして新規クラスファイルを作成します。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/3dd4effd4e2c8d6a0f1a8a3697de41009ed63b0e/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f30392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_09.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=17bf1f98953bd5a954a333ac94cad550\" alt=\"\" data-canonical-src=\"https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_09.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_09.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=04576b36ab6141580823eb37952cace9 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eWeatherModel.cs を開き、デフォルトで作成されている WeatherModel クラスを一旦削除します。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/763dbe7118e25b99f9d550a1324de5d536f14530/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f31302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_10.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=affcc9408bb89a09282a29998622cd20\" alt=\"\" data-canonical-src=\"https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_10.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_10.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=54ce65e84be2ab8fd93f7fba06e65c1c 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eAPI のフォーマットを取得するため、ブラウザーを起動して API にアクセスを行います。\u003cbr\u003e\n\u003ca href=\"http://weather.livedoor.com/forecast/webservice/json/v1?city=140010\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://weather.livedoor.com/forecast/webservice/json/v1?city=140010\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e表示される結果をすべて選択して、コピーします。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/0d58ce6d2599cb229fc7466779306ae8b53f3435/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f31312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_11.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e6d9f9a26d03671e5b18e25c002495ff\" alt=\"\" data-canonical-src=\"https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_11.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_11.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e4352155d9c098873a71b25f1a04e40f 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eVisual Studio に戻り、\u003cem\u003enamespace .Models\u003c/em\u003e 内をクリックして選択してから、上部ツールバーから [編集]＞[形式を選択して貼り付け]＞[JSON をクラスとして貼り付ける] を選択して、コピーした内容を貼り付けます。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/86981965b8b4c34983220c39b67540ad69b35fe1/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f31322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_12.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=3dd2ba0d492b8c7caaf148f9750516da\" alt=\"\" data-canonical-src=\"https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_12.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_12.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=be77f51c7651c08146992acb2bdcf155 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/0b63a9c77ce5e14cd3fb5792e00f80c9556617b3/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f31332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_13.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b5832b52dd2a445d99bcee9565f2ea06\" alt=\"\" data-canonical-src=\"https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_13.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_13.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=d3d62d679053e9109f500fcf3571cd70 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003cem\u003eclass Rootobject\u003c/em\u003e は \u003cem\u003eclass WeatherModel\u003c/em\u003e に変更します。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/3eccb88b7bb0c223b3967e34a33d6f606982c5cd/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f31332d30322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_13-02.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d305503a1d0b0c6041d7f678f79984f3\" alt=\"\" data-canonical-src=\"https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_13-02.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_13-02.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=5adaae5c4232a38649b5614a6e2e0d25 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e適時ファイルの保存を行っておきます。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"天気予報データの取得テスト\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%A4%A9%E6%B0%97%E4%BA%88%E5%A0%B1%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E5%8F%96%E5%BE%97%E3%83%86%E3%82%B9%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e天気予報データの取得テスト\u003c/h2\u003e\n\n\u003cp\u003eDialogs フォルダ を開き、自動生成されている RootDialog.cs を編集します。\u003c/p\u003e\n\n\u003cp\u003eRootDialog.cs の冒頭に System.Net.Http, Newtonsoft.Json, Adaptive Card への参照を追加します。\u003cbr\u003e\n上記で作成した WeatherModel を利用するために、\u003cem\u003eModels\u003c/em\u003e フォルダー への参照も追加します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eRootDialog.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Net.Http\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eNewtonsoft.Json\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eAdaptiveCards\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eWeatherBot.Models\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// \u0026lt;projectname\u0026gt;.Models になります\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eユーザーからメッセージが送信された時の動作を MessageReceivedAsync に記載していきます。\u003cbr\u003e\nまず、MessageReceivedAsync 内のコードを下記に書き換えます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eRootDialog.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"n\"\u003eTask\u003c/span\u003e \u003cspan class=\"nf\"\u003eMessageReceivedAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eIDialogContext\u003c/span\u003e \u003cspan class=\"n\"\u003econtext\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eIAwaitable\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"kt\"\u003eobject\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003eactivity\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"n\"\u003eresult\u003c/span\u003e \u003cspan class=\"k\"\u003eas\u003c/span\u003e \u003cspan class=\"n\"\u003eActivity\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// 返答メッセージを作成\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003emessage\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003econtext\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eMakeMessage\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// 天気を取得\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eWeatherModel\u003c/span\u003e \u003cspan class=\"n\"\u003eweather\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nf\"\u003eGetWeatherAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// 天気をメッセージにセット\u003c/span\u003e\n    \u003cspan class=\"n\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eText\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"今日の天気は \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003eweather\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eforecasts\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003etelop\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToString\u003c/span\u003e\u003cspan class=\"p\"\u003e()}\u003c/span\u003e\u003cspan class=\"s\"\u003e です\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e//　返答メッセージをPost\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"n\"\u003econtext\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePostAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003econtext\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWait\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eMessageReceivedAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e天気を取得する GetWeatherAsync を作成します。\u003cbr\u003e\n下記のコードでは、横浜 (city=1400100) を指定して天気情報を取得しています。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eRootDialog.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"n\"\u003eTask\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eWeatherModel\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nf\"\u003eGetWeatherAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// API から天気情報を取得 (都市コード 140010 (横浜) の場合)\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003eclient\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eHttpClient\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003eweatherResult\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"n\"\u003eclient\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eGetStringAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"http://weather.livedoor.com/forecast/webservice/json/v1?city=140010\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// API 取得したデータをデコードして WeatherModel に取得\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eweatherResult\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eUri\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eUnescapeDataString\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eweatherResult\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003eweatherModel\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eJsonConvert\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDeserializeObject\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eWeatherModel\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;(\u003c/span\u003e\u003cspan class=\"n\"\u003eweatherResult\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eweatherModel\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eここで一旦 BOT の動作確認を行います。、F5 または デバック＞デバックの開始 をクリックして、プロジェクトのビルドおよび起動を行います。ブラウザが起動して Bot Framework のデフォルト画面が表示されたら、Bot Framework Channel Emulator を起動してアクセスを行います。\u003cbr\u003e\nBot Framework Channel Emulator の上部中央にある Bot Url に、起動しているブラウザと同じ URL (デフォルトでは \u003ca href=\"http://localhost:xxxx\" class=\"autolink\"\u003ehttp://localhost:xxxx\u003c/a\u003e) に /api/messages を追加したアドレス (\u003ca href=\"http://localhost:xxxx/api/messages\" class=\"autolink\"\u003ehttp://localhost:xxxx/api/messages\u003c/a\u003e) を指定します。\u003c/p\u003e\n\n\u003cp\u003e何か文字を入力して送信すると、天気予報が返されるのを確認してください。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/af2baef3922f70af8465b6e75c163b6a72fab0f7/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f31342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_14.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=cb1fdc84945cfbbfb16d3563d0dc47da\" alt=\"\" data-canonical-src=\"https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_14.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_14.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=b7386e2df09338c4e40241ae4f481bbb 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"天気予報データを-adaptive-cards-で表示する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%A4%A9%E6%B0%97%E4%BA%88%E5%A0%B1%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92-adaptive-cards-%E3%81%A7%E8%A1%A8%E7%A4%BA%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e天気予報データを Adaptive Cards で表示する\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"1-単純なカードの作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-%E5%8D%98%E7%B4%94%E3%81%AA%E3%82%AB%E3%83%BC%E3%83%89%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e(1) 単純なカードの作成\u003c/h3\u003e\n\n\u003cp\u003e次に Adaptive Cards を使って、カード形式で情報を表示します。\u003cbr\u003e\nMessageReceivedAsync を以下のように変更します。\u003cem\u003emessage.text\u003c/em\u003e の代わりに Card を作成、Attachment として返答にセットします。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eRootDialog.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"n\"\u003eTask\u003c/span\u003e \u003cspan class=\"nf\"\u003eMessageReceivedAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eIDialogContext\u003c/span\u003e \u003cspan class=\"n\"\u003econtext\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eIAwaitable\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"kt\"\u003eobject\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003eactivity\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"n\"\u003eresult\u003c/span\u003e \u003cspan class=\"k\"\u003eas\u003c/span\u003e \u003cspan class=\"n\"\u003eActivity\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// 返答メッセージを作成\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003emessage\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003econtext\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eMakeMessage\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// 天気を取得\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eWeatherModel\u003c/span\u003e \u003cspan class=\"n\"\u003eweather\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nf\"\u003eGetWeatherAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e//// 天気をメッセージにセット\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e//message.Text = $\"今日の天気は {weather.forecasts[0].telop.ToString()} です\";\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// 取得した天気情報をカードにセット\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003eweatherCard\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003eGetCard\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eweather\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003eattachment\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eAttachment\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eContent\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eweatherCard\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eContentType\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"application/vnd.microsoft.card.adaptive\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eName\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Weather Forecast\"\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n    \u003cspan class=\"n\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAttachments\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eattachment\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e//　返答メッセージをPost\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"n\"\u003econtext\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePostAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003econtext\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eWait\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eMessageReceivedAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eCard を作成する \u003cem\u003eGetCard\u003c/em\u003e, その中で天気情報をセットする \u003cem\u003eAddCurrentWeather\u003c/em\u003e を以下のように作成します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eRootDialog.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"n\"\u003eAdaptiveCard\u003c/span\u003e \u003cspan class=\"nf\"\u003eGetCard\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eWeatherModel\u003c/span\u003e \u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003ecard\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eAdaptiveCard\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"nf\"\u003eAddCurrentWeather\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecard\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003ecard\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eAddCurrentWeather\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eWeatherModel\u003c/span\u003e \u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAdaptiveCard\u003c/span\u003e \u003cspan class=\"n\"\u003ecard\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// タイトル作成\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003etitleColumnSet\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eColumnSet\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ecard\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eBody\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etitleColumnSet\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003etitleColumn\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eColumn\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"n\"\u003etitleColumnSet\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eColumns\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etitleColumn\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003elocationText\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eTextBlock\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eText\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elocation\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecity\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e の天気\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eSize\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eTextSize\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eExtraLarge\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eHorizontalAlignment\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eHorizontalAlignment\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCenter\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n    \u003cspan class=\"n\"\u003etitleColumn\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eItems\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elocationText\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// 本文作成\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// 天気情報をセット\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003emainColumnSet\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eColumnSet\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ecard\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eBody\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emainColumnSet\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003emainColumn\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eColumn\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"n\"\u003emainColumnSet\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eColumns\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emainColumn\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003emainText\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eTextBlock\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eText\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epublicTime\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDate\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToString\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"M/d\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eSize\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eTextSize\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLarge\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eHorizontalAlignment\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eHorizontalAlignment\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCenter\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n    \u003cspan class=\"n\"\u003emainColumn\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eItems\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emainText\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// 天気アイコンをセット\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003emainImage\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eAdaptiveCards\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eImage\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"n\"\u003emainImage\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eUrl\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eforecasts\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"n\"\u003eimage\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003emainImage\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eHorizontalAlignment\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eHorizontalAlignment\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCenter\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003emainColumn\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eItems\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emainImage\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e再度 BOT の動作確認を行います。\u003cbr\u003e\n何か文字を入力して送信すると、今度は天気予報がカードで返されるのを確認してください。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/fe8119fc8323ddc967c17fe7c5647a4b128e6bae/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f31352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_15.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=9270b3df5593a89819a32858d47c9a1c\" alt=\"\" data-canonical-src=\"https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_15.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_15.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=82b2ac943b2a353f213afaf87fd0a22e 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"2-複数-column-を持ったカードの作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-%E8%A4%87%E6%95%B0-column-%E3%82%92%E6%8C%81%E3%81%A3%E3%81%9F%E3%82%AB%E3%83%BC%E3%83%89%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e(2) 複数 Column を持ったカードの作成\u003c/h3\u003e\n\n\u003cp\u003e今度は、Adaptive Cards で複数の Column を持つ形のカードを作成します。\u003cbr\u003e\n何度か TextBlock と Image を追加する工程があるので、メソッドを作成して再利用できるようにします。\u003cbr\u003e\n以下のように、RootDialog.cs に AddTextBlock と AddImage を追加します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eRootDialog.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eAddTextBlock\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eColumn\u003c/span\u003e \u003cspan class=\"n\"\u003ecolumn\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eTextSize\u003c/span\u003e \u003cspan class=\"n\"\u003esize\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eHorizontalAlignment\u003c/span\u003e \u003cspan class=\"n\"\u003ealignment\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ecolumn\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eItems\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eTextBlock\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eText\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eSize\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esize\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eHorizontalAlignment\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ealignment\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eAddImage\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eColumn\u003c/span\u003e \u003cspan class=\"n\"\u003ecolumn\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eImageSize\u003c/span\u003e \u003cspan class=\"n\"\u003esize\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eHorizontalAlignment\u003c/span\u003e \u003cspan class=\"n\"\u003ealignment\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ecolumn\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eItems\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eAdaptiveCards\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eImage\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eUrl\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eSize\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esize\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eHorizontalAlignment\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ealignment\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eRootDialog.cs に AddWeather を下記のように追加して、MessageReceivedAsync からの呼び出しを AddCurrentWeather → AddWeather に変更します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eRootDialog.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\n\u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"n\"\u003eAdaptiveCard\u003c/span\u003e \u003cspan class=\"nf\"\u003eGetCard\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eWeatherModel\u003c/span\u003e \u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003ecard\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eAdaptiveCard\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e//AddCurrentWeather(model, card);\u003c/span\u003e\n    \u003cspan class=\"nf\"\u003eAddWeather\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecard\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003ecard\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"err\"\u003e中略\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eAddWeather\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eWeatherModel\u003c/span\u003e \u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAdaptiveCard\u003c/span\u003e \u003cspan class=\"n\"\u003ecard\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// タイトル作成\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003etitleColumnSet\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eColumnSet\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ecard\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eBody\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etitleColumnSet\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003etitleColumn\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eColumn\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"n\"\u003etitleColumnSet\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eColumns\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etitleColumn\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"nf\"\u003eAddTextBlock\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etitleColumn\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elocation\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecity\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e の天気\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eTextSize\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eExtraLarge\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eHorizontalAlignment\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCenter\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// 本文作成\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// 天気情報をセット\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003emainColumnSet\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eColumnSet\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ecard\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eBody\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emainColumnSet\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eforeach\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003eitem\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eforecasts\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003emainColumn\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eColumn\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n        \u003cspan class=\"n\"\u003emainColumnSet\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eColumns\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emainColumn\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e// 天気データの取得と加工\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003eday\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eitem\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003edateLabel\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003edate\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eDateTime\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eParse\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eitem\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"n\"\u003eDate\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToString\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"M/d\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e            \n\n        \u003cspan class=\"c1\"\u003e// temperature が null の場合は \"--\" に変換\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003estring\u003c/span\u003e \u003cspan class=\"n\"\u003emaxTemp\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eminTemp\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003etry\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003emaxTemp\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eitem\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etemperature\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003emax\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecelsius\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eminTemp\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eitem\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etemperature\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003emin\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecelsius\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ecatch\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003emaxTemp\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"--\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eminTemp\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"--\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e// データのセット\u003c/span\u003e\n        \u003cspan class=\"nf\"\u003eAddTextBlock\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emainColumn\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003eday\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e(\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"n\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e)\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eTextSize\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eLarge\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eHorizontalAlignment\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCenter\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"nf\"\u003eAddTextBlock\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emainColumn\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003emaxTemp\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e / \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003eminTemp\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e °C\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eTextSize\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eMedium\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eHorizontalAlignment\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCenter\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"nf\"\u003eAddImage\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emainColumn\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eitem\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eimage\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eImageSize\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eMedium\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eHorizontalAlignment\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCenter\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e再度 BOT の動作確認を行います。\u003cbr\u003e\n何か文字を入力して送信すると、3日間の天気予報がカードで返されるのを確認してください。\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/9cea66f2516fbeb2d5f8605fb6cb2154f733852f/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303830345f31362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_16.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=25feb7f6d00de1a54dea27a3c3f7592a\" alt=\"\" data-canonical-src=\"https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170804_16.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170804_16.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=08fa429e0132dae87eac2555986d2f9a 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"appendix\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#appendix\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAppendix\u003c/h2\u003e\n\n\u003cp\u003eご参考まで、ここまで作成したアプリはこちらからダウンロードできます\u003cbr\u003e\n\u003ca href=\"https://msdnshared.blob.core.windows.net/media/2017/08/WeatherBot_AdaptiveCards.zip\" rel=\"nofollow noopener\" target=\"_blank\"\u003eBot Framework × Adaptive Cards: WeatherBot アプリサンプル\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"next-step\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#next-step\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eNext Step\u003c/h2\u003e\n\n\u003cp\u003e次回以降の\u003ca href=\"http://qiita.com/annie/items/3416fcf1ec275940979a#%E6%89%8B%E9%A0%86\"\u003e手順\u003c/a\u003eで、Cognitive Services LUIS を用いて、自然言語を判断して回答する BOT に仕立てていきます。\u003cbr\u003e\n手順 3 まで行って作成できる 天気予報BOT↓\u003cbr\u003e\n\u003ca href=\"https://camo.qiitausercontent.com/9b67c341946975521febb602bb2096cca9f8435f/68747470733a2f2f6d73646e7368617265642e626c6f622e636f72652e77696e646f77732e6e65742f6d656469612f323031372f30382f626c7565736b795f32303137303831365f30362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170816_06.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=697597e728b617d655f18473b4012cfe\" alt=\"\" data-canonical-src=\"https://msdnshared.blob.core.windows.net/media/2017/08/bluesky_20170816_06.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fmsdnshared.blob.core.windows.net%2Fmedia%2F2017%2F08%2Fbluesky_20170816_06.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ddd977fc7c752067795559c4e2d37bba 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n","createdAt":"2017-08-04T07:36:32Z","elapsedYearsFromLastModifiedAt":4,"encryptedId":"DC14KDfzfPh/NKAxpj0i1jh2YycmWCHw--9WLr+4/Zwfxz4iv6--8m8sQu7kRTxaDwq9oFzpgg==","isBanned":false,"isDeprecated":true,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2017-08-16T05:42:42Z","likesCount":14,"linkUrl":"https://qiita.com/annie/items/3416fcf1ec275940979a","organization":null,"originalId":513540,"stockedCount":13,"title":"Microsoft Bot Framework v3.0 からはじめる BOT 開発: 天気予報 BOT～カード表示で分かりやすく - Adaptive Cards","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%89%8B%E9%A0%86\"\u003e手順\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83\"\u003e開発環境\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%A4%A9%E6%B0%97%E4%BA%88%E5%A0%B1-bot---adaptive-card--%E5%A4%A9%E6%B0%97%E6%83%85%E5%A0%B1%E3%82%92%E5%8F%96%E5%BE%97%E3%81%97%E3%81%A6%E8%A1%A8%E7%A4%BA%E3%81%99%E3%82%8B\"\u003e天気予報 BOT - Adaptive Card : 天気情報を取得して表示する\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#visual-studio-%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%81%8B%E3%82%89%E6%96%B0%E8%A6%8F-bot-%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E4%BD%9C%E6%88%90%E4%B8%8B%E6%BA%96%E5%82%99\"\u003eVisual Studio テンプレートから新規 BOT アプリケーションの作成～下準備\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%A4%A9%E6%B0%97%E4%BA%88%E5%A0%B1%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E6%A0%BC%E7%B4%8D%E3%81%99%E3%82%8B%E3%82%AF%E3%83%A9%E3%82%B9%E3%82%92%E4%BD%9C%E6%88%90\"\u003e天気予報データを格納するクラスを作成\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%A4%A9%E6%B0%97%E4%BA%88%E5%A0%B1%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E5%8F%96%E5%BE%97%E3%83%86%E3%82%B9%E3%83%88\"\u003e天気予報データの取得テスト\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%A4%A9%E6%B0%97%E4%BA%88%E5%A0%B1%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92-adaptive-cards-%E3%81%A7%E8%A1%A8%E7%A4%BA%E3%81%99%E3%82%8B\"\u003e天気予報データを Adaptive Cards で表示する\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#1-%E5%8D%98%E7%B4%94%E3%81%AA%E3%82%AB%E3%83%BC%E3%83%89%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e(1) 単純なカードの作成\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#2-%E8%A4%87%E6%95%B0-column-%E3%82%92%E6%8C%81%E3%81%A3%E3%81%9F%E3%82%AB%E3%83%BC%E3%83%89%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e(2) 複数 Column を持ったカードの作成\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#appendix\"\u003eAppendix\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#next-step\"\u003eNext Step\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","totalPv":5415,"uuid":"3416fcf1ec275940979a","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"ZgUrSewhQGGLafPZQj0DaKMvmFXt--MNmOKSnG02F/0AGt--kHifrjdX4nzuWChMegoSSA==","originalId":117583,"description":"","facebookUrl":null,"githubUrl":null,"isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"annie","profileImageUrl":"https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/117583/73c0d5e64925a01ddfcb5dfec9aa2ffb823090e5/x_large.png?1604022610","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fs3-ap-northeast-1.amazonaws.com%2Fqiita-image-store%2F0%2F117583%2F73c0d5e64925a01ddfcb5dfec9aa2ffb823090e5%2Fx_large.png%3F1604022610?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=fa81f2b4bfbecd0f1d6ad352438cd20f","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fs3-ap-northeast-1.amazonaws.com%2Fqiita-image-store%2F0%2F117583%2F73c0d5e64925a01ddfcb5dfec9aa2ffb823090e5%2Fx_large.png%3F1604022610?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=3764d31bd55c31b2a8f553c55cffdb7d","urlName":"annie","websiteUrl":"","twitterUrl":null,"twitterUrlName":null,"revealedOrganizations":{"edges":[]}},"tags":[{"name":"Microsoft","urlName":"microsoft"},{"name":"C#","urlName":"csharp"},{"name":"bot","urlName":"bot"},{"name":"BotFramework","urlName":"botframework"},{"name":"AdaptiveCards","urlName":"adaptivecards"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
