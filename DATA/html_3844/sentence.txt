More than 1 year has passed since last update.この前、without Visual StudioでC#コンパイルできるだよね、って記事を書いた。
だったら何かちょっとした計算をさせたくなった。
手になじむまでは、最初の public stringstatic void string argsあたりでつまずくので、なんか動くコードを上げておきたかったから。
(※追記※ ほら、つまずいてるし。。。)じゃあ、しばらく前からやってるソシャゲのガチャを計算してみた。・・・いや、決してゲームアディクトというわけではなく。。。デレステが好きな人向け
まあ、C#のコードでちょっとした計算をさせたい人向け。
まあ、たまたま目の前にあった端末にpython入ってないこともあるけど、今どきのWindowsならcsc.exeはあるでしょ、多分。
これあれば中身いじってどこででもC#でexe作って何か計算できるな、と。■乱数を生成する
https://dobon.net/vb/dotnet/programing/random.html■LINQ とは
https://ufcpp.net/study/csharp/sp3_linq.html■アイドルマスター シンデレラガールズ スターライトステージ
https://cinderella.idolmaster.jp/sl-stage/たまに無償で引けるガシャなどでレアリティ「R」が手に入る。同じ子のRを重ねると☆1が☆2、☆3とかって増える。
で、10枚手に入れるとRの上限の☆10ができる。ちょっとうれしい。
全部で103種類あるけど、いつになったらそろうのか、という話。
なので、ガシャ数を引数にシミュレートしてどれくらい出るか試してみたい。まあまあそろったので、残り44人。
すでに9枚持っているのが9人、8枚が9人、7枚が11人・・・という状態なのでこんな。C#の乱数使って0以上103未満の数を取得して103種類取る。これがガシャの試行に相当する。
上記の44人を配列を作って、44人の初期☆数を入れておいて、その子の整数が来たらincrementする。
で、最後に☆10に届いてない子のリストを出す。これ参照。
■C#手遊び(Compiler w/o Visual Studio)
https://qiita.com/siinai/items/8a325ad4eade1a2f6e9eぶっちゃけ、csc.exe code.cs だけでOK。初期値確認のための0回と、200回、500回、1000回(を何度か)の結果がこれ。pythonもそうだったけど、些細な書きミスはcsc.exeが「〇行目の〇文字目がおかしいです」って言ってくる。
だから、ほとんどの場合、一目で修正方法に気づく。
今回、0ByteのテキストファイルをVisual Studio Codeで開いて編集した。
ほんの少しIntelliSenseも利くし、これくらいの計算タスクならVisual Studio Codeでいいな、と思った。へぇ・・・200回くらいじゃまだまだ、で、500回くらいでかなり減った感じ。
1000回もすればすでに終わっているか最後の一人とかそんな感じか・・・なるほど。まあ、大体そんな感じかなぁ・・・と思っていた通り。どちらかというときもち早いかも。
けど、やっぱりガシャは闇だよね。500回試したログで、ほぼ全員☆8か☆9になっているのに、44人目が☆3だって。
初期値(=現状)が最小☆2だから、よりにもよって一番枚数が必要な子が500回引いて1枚しか来てないということ。
10回くらい繰り返した1000回の試行の一つにも「42人目: ☆5」ってあるし。いやぁ・・・リアルにこれだったら長くやきもきしそう。あっ、そういうことじゃなくて、あとで検定かけてみましょう。
上記例が極めてまれなのかどうか。今回、Sum()ひとつだけどLinq入れてみた。
とりあえず動くべたコード書いてからリファクタリングしてたら、そういう機能ありそうだなぁ・・・と思って調べてみた。
Linqいいね。SQLに近い書き方で「あれここーして、それからあーやって」ってしゃべる感じでかけそう。
もっと攻略しよう。
あと、Python慣れしたいのでpython手遊びとして、書いてみようかなぁ?
と、だいぶたって、C#少し慣れたら改めてリファクタリング検討してみたい。
もう少しましになりそうな気がする。


