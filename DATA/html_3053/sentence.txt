More than 1 year has passed since last update.こんなクラスがあったとしましょう。
ぶりぶりに使い込んで良い感じのシステムの一部として組み込まれていると思ってね。諸々の要件が上がってきて、CS間でJSONデータのやり取り、ってのが必要になったとするじゃないですか―
　　　　　　　　　　　　なったんですよ、いいですね？まぁ、MasterクラスをJSON対応すれば良いんですけど。
こんな感じに…例えば、みたいな感じでJSONが得られると思うじゃないですか、普通。
でもでも、って怒られちゃいます。あっちこっちでそういう状況が発生しているらしいので、皆さん解説して下さっていますので、詳しくはググってみて下さい。一応簡単に言うと、DateTimeをシリアライズする際にその値をUTCに変換しようするんですが、その値がMinValueだった場合マイナス９時間した際にアンダーフローを起こす、と云う事らしいですけどじゃぁどうすれば良いんだよって感じです。で、識者の意見によれば、JSONの定義にはDateTime型は含まれていないので、日付をJSONに入れたい場合には文字列として扱え！
と云うのが正論らしいです。いやーでも、ぶりぶりに使い込んでるんですよ。
今更クラス定義のDateTimeをstring型に変更しちゃったら、影響範囲がどこにまで及ぶか…

って事で、考え方を反転させるのが良いのかなぁ、と。
こう云う感じ（着目部分だけ括り出しました）。内側のDatetime型のプロパティはJSONには出さないようにして、JSONに出す側のプロパティをprivateのstring型として新設します。序に名前をちょこっと変えといてあげればイイ感じかも…で、結果は以下。グリニッジより西にある諸国では、こう云うややこしい目に合わないんだろうねぇ
きっと


