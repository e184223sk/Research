More than 1 year has passed since last update.今や滅多に使わないyield return ですが、
yield returnの方が可読性良いな、と思った個所があったので久々に書いたらしくじりました。
ダサい失敗で恥ずかしいですが、2回もやったので備忘録。yield return で返り値を複数パターンの条件で分けたかった。ifの中のyield return ではそのループ処理は止まりません。
よってifの後のyield return も評価されます。
この時一回のループで2要素が返されてしまいます。
今回はhogehoge(null)で例外が出たので気づけましたが、
例外出ないと結構厄介なバグになるかもしれませんね。どうもreturn 句でそこで処理が止まるイメージがある様です。
でもそしたらループ毎止まるので、その点でも間違ってますね。yield returnを複数書かなければならないと思ってしまう設計自体が悪そうなんで、
もっと構造自体を変えられないか検討した方が良いかも知れませんね。


