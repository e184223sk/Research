More than 1 year has passed since last update.プログラミング初学者向きの記事となっています。
「UnderTale」や「ゼルダの伝説」のセリフって文字が一文字一文字テキストボックスに追加されて行きますよね？それを出来るだけ簡単に実装して行きます！まずは文字を表示させる為にGameObject→UI→Textの順番でクリックしていき「Text」を出しましょう！▼Canvas
  Text
↑みたいになります！文字の大きさや、表示させたい位置を自分の好きな所に設定してね！最初は「New Text」となってるはずなのでこれを変えます！Textに表示されてる文字列を変えるためのスクリプトの準備をします！Projectのウィンドウで右クリック→Create→C# Scriptの順番に操作します！
そうするとスクリプトが生成されます。そのスクリプトに適当な名前をつけます。今回は「TextDisplay」としましょう！(Displayは表示という意味)そうしたらTextDisplayスクリプトをTextにアタッチします。下の画像のどっちの操作でもアタッチできるので、好きな方のアタッチの方法でやってください！アタッチ方法①
アタッチ方法②
（アタッチ方法①,②のどちらかやればいいよ！）結果的に下の画像のように表示されたらオッケーです！
では、TextDisplayスクリプトを開いてプログラミングの作業を始めます！ひとつひとつの機能を一緒に理解しながら作って行きましょう。
【注意！】プログラムに「 // 」←がついている行が新しい行です。その行を追加していってくださいね！まずは簡単な方法で文字を変えます。このプログラムを書くとUnity上で生成したTextの内容が 「 "" 」で挟まれた文字列の内容に変化します。この機能を主に使ってシステムを作って行きます。次はstring型の変数を使って文字列の内容を変えます。書いたらUnity上ではこのように表示されるはずなので、ここに文字列の内容を書いてみましょう。実行するとUnityで入力した文字列に変更されましたね？次はtextsを変数ではなく配列として宣言しましょう。このように記述すると、文字列を複数個入力できるようになりますね？そして実行すると0番目に入力した文字列が表示されるようになったはずです。なぜかというと、の数の文字列を表示するプログラムになっているからです。ここの数字を変えれば文字列が順番に表示されるようになります。Unity上で入力した文字列の順番に変えていくプログラムを作ります。このように書くと内容が変わるようになりましたね？恐らくめちゃめちゃ速く。
このままだとまともにセリフが読めないので、クリックしたら変更するようにします。if文の条件をクリックしたら「(Input.GetMouseButtonDown(0))」にし、{}の中でtextNumberを1ずつ増やすプログラムにしました。これで好きなタイミングで変えることができるようになったはずです。恐らく上のプログラムだと、クリックをし続けるとエラーが出てしまいますよね？それを防ぐプログラムを追加します。この様なif文を追加すると最後の文章で止まるようになります。具体的には、textNumberがtexts配列の数-1以外ならクリックしたらという条件を追加しました。次は一文字一文字表示させるプログラムですが、新たに二つの変数を追加で宣言します。今後はstring型の変数displayTextを表示させていくことにします。では、displayTextに文字データを一文字一文字プログラミングで入力していきましょう。この一行の説明をします。
変数displayTextにtexts配列のtextNumber番目の文字列のtextCharNumber番目の文字を追加するというプログラムです。このif文の意味は、もしtextCharNumberがtexts配列のtextNumber番目の一つ前の数じゃなければ、textCharNumberを1ずつ増やすというプログラムです。
このif文のあとにを追加すると、もしtextCharNumberがtexts配列のtextNumber番目の一つ前の数のときに、displayTextを""にしたり、textCharNumberを0に戻したりするというプログラムになります。
このプログラムのおかげでtextCharNumberの数が文字列の数を超えた時バグらなくなります。今までのプログラムを整理すると、という単純なプログラムです。
これの2と3を混ぜるだけでRPGチックになります。うまくいきましたか？文字表記をゆっくりにしたかったらこのようにすると文字のスピードが遅くなります。まず、textStopがfalseの時だけこのプログラムが動くようにプログラミングします。そして
もし最後のセリフの文字列になった時にクリックしたら、表示を " " にしてtextStopをtrueにすることで全てのプログラムを止められるようにします。
そうするとメッセージが止まったようになります。最後に全ての行に意味をコメントアウトで書いときますあとは各々フォントなどをアレンジしてお好みのテキストボックスを作ってみてね！


