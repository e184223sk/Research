More than 3 years have passed since last update.皆様ご存じズンドコキヨシをWPFでやってみた
ついでに最近ずっと聞き続けているGYARIさんのﾃｯﾃｰﾃﾚｯﾃｰも同じようにやってみた('ω')18/07/17    MVVMらしく改修入力パターン(カンマ区切り)、完成パターン(カンマ区切り)と出力文字を指定してStartを押すと入力パターンからランダムに文字を出力して、完成パターンと一致したら出力文字を末尾につけてダイアログを出して終了するよ(=ﾟωﾟ)ﾉ
また、文字出力中にStopを押すと停止できる(ΦωΦ)ライブラリは
Prism
ReactiveProperty
MahApps.Metro
を使用Modelといっても、今回は入力パターンと完成パターンを指定して完成パターンに一致するまでランダムに文字列を出力するメソッドを作るだけ戻り値の型をIEnumerableにしてyield returnすることでforeachで一個づつ値が取れるようにしているここではViewから入力パターンなどを受け取ったり、結果を表示したりするプロパティやコマンド、ダイアログ表示の為のInteractionRequest等を定義している
ここのコマンドで上記のStreamCreater.Create()している
また、ViewModelはINotifyPropertyChangedを実装していないとメモリリークするようなのでINotifyPropertyChangedを実装したPrismのBindableBaseを継承している
コードが少し汚いけどお許しを…
今回はViewModelに実行処理も書いているが、この処理もModel層に記述して呼び出しだけ行ったほうがよりMVVMらしいと思うMahApps.Metroを使用している為、WindowはMetroWindowにしているここではダイアログを表示する為のInteractionRequestTriggerを定義している
Prismの標準ではMetroWindowのダイアログを出すことができない為、以前作ったPrism.InteractivityExtensionを使用している遊び半分で作った(ﾟ∀ﾟ)
無駄にDL先を置いておく
コードの全容はココ


