ここの記事の続き : MagicLeapで床にオブジェクトを配置する方法基本的な開発環境やシーンの構成は同じUnity : 2019.3.7f1
LuminOS : 0.98.11, APILevel 8
MagicLeap : UnitySDK 0.24.1
MagicLeap : ToolKit 特にバージョン表記等はないので現時点(2020/09/23)での最新MagicLeapToolKitのDLはこちらから  今回開発したアプリのリポジトリはこちら
PlaneCheckシーンにサンプルが配置してあります任意の平面を判定するやつ pic.twitter.com/bJ8k1Udb5kこの辺りは前回の記事と同様なので飛ばしても大丈夫ですProjectSettings &gt; MagicLeap &gt; ManifestSettingsにて以下の項目にチェックを入れました基本的には前回とはあまり変わってませんがどの平面を判定しているかを確認するためRuntimeConsoleを新たに追加しましたRuntimeConsoleは MagicLeap-Tools &gt; Prefabs &gt; Debugging にあるプレハブをシーン上に配置していますPlaneCheckerオブジェクトにアタッチしているスクリプトで参照するので紐づけます
前回作成したFloorCheckerをさらに改造したPlaneCheckerを作成します判定することが出来る平面はMagicLeapToolsのSurfaceDetils.csに定義されています
今回のサンプルでは床、壁、天井の三種類を判定することにしました
基本的な構成は前回のFloorCheckOnPlaceContent.csとあまり変わっていません
Bumperボタンを押下したら判定を切り替えるようにしています
ControlPointerオブジェクトのControlInputにOnBumperButtonDown()を登録
これでデプロイ or ZeorIterationで確認すれば↓の様な動作になります
ただしRuntimeConsoleは実機にデプロイ時にしか動作しないので実機での確認のほうがどの平面を判定しているかがわかりやすいです任意の平面を判定するやつ pic.twitter.com/bJ8k1Udb5kこれで任意の平面にオブジェクトを配置したりできるようになりました
なんか家具の配置確認アプリ的なもので天井にランプをつるすとか、壁に絵を飾るとかの確認に使うのがメイン所の使い方かな?


