<!DOCTYPE html><html><head><meta charset="utf-8" /><title>tModLoader ちょこっとリファレンス - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/FN_Programming/items/616e0a23341c4d628aef" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="DlkBxFF4YwH708Jz5C0s0p3Wnu3ooBvwvp1ownBs2hnLjBJasU02i2+FKGyBZ2gX1W9Yambhcs5Quugv8j3RRg==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta property="og:type" content="article"><meta property="og:title" content="tModLoader ちょこっとリファレンス - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1kRTF2WkV4dllXUmxjaURqZ2FIamdvZmpnWlBqZ2FQamdhampnNnJqZzVYamdxSGpnNnpqZzdQamdyayZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTU0JnR4dC1jbGlwPWVsbGlwc2lzJnR4dC1hbGlnbj1jZW50ZXIlMkNtaWRkbGUmcz0xMjM0NTY1NGUzYWY1M2Q5MTExNzBjMDUxMzFmNjEwNg&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRVpPWDFCeWIyZHlZVzF0YVc1biZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPTVmYWFjOWE4NzUwZTRhZTY4Y2IyOGRiZTdlY2E5ZmU1&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=75fbf16c45f38e479c992f2cf16f53ce"><meta property="og:description" content="C#の勉強を一旦放棄してtModLoaderでMod製作をしている私は(悪い意味での)怠惰


なにそれ？

tModLoaderとはTerrariaというゲームのMod製作ツール
もともと非公式だったが1.4リリースに合わせて公式も..."><meta content="https://qiita.com/FN_Programming/items/616e0a23341c4d628aef" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,Terraria,tModLoader" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-6bb010c8-2ea7-452b-8942-10dcabff6474"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2FFN_Programming%2Fitems%2F616e0a23341c4d628aef">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2FFN_Programming%2Fitems%2F616e0a23341c4d628aef">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-6bb010c8-2ea7-452b-8942-10dcabff6474">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2021-06-10T11:31:50.000+09:00","dateModified":"2021-07-01T08:39:32.000+09:00","headline":"tModLoader ちょこっとリファレンス","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1kRTF2WkV4dllXUmxjaURqZ2FIamdvZmpnWlBqZ2FQamdhampnNnJqZzVYamdxSGpnNnpqZzdQamdyayZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTU0JnR4dC1jbGlwPWVsbGlwc2lzJnR4dC1hbGlnbj1jZW50ZXIlMkNtaWRkbGUmcz0xMjM0NTY1NGUzYWY1M2Q5MTExNzBjMDUxMzFmNjEwNg\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RRVpPWDFCeWIyZHlZVzF0YVc1biZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPTVmYWFjOWE4NzUwZTRhZTY4Y2IyOGRiZTdlY2E5ZmU1\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=75fbf16c45f38e479c992f2cf16f53ce","mainEntityOfPage":"https://qiita.com/FN_Programming/items/616e0a23341c4d628aef","author":{"@type":"Person","address":"","email":null,"identifier":"FN_Programming","name":"FN_Programming","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F298601%2Fprofile-images%2F1538747819?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=90c649a9437e9a6f52884106c390d1ed","url":"https://qiita.com/FN_Programming","description":"趣味でプログラミングをしている者です。C#(Unity, tModLoader), Lua[MoonSharp](CYF(Unitale))をメインに\r\n趣味程度にやっているので間違いがあったり、効率悪い書き方しているかもしれません。","memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://increments.connpass.com/event/211948/">Qiita創業者海野氏登壇！Qiita エンジニアフェスタ 2021 Online Meetupを9/9(木)に開催</a><a target="_blank" id="header_text_message_2" href="https://increments.connpass.com/event/211948/">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"FN_Programming","type":"items","id":"616e0a23341c4d628aef"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"Qiita創業者海野氏登壇！Qiita エンジニアフェスタ 2021 Online Meetupを9/9(木)に開催","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"FN_Programming","type":"items","id":"616e0a23341c4d628aef"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":1,"pos_id":"header_text_message_1","message":"Qiita創業者海野氏登壇！Qiita エンジニアフェスタ 2021 Online Meetupを9/9(木)に開催","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"FN_Programming","type":"items","id":"616e0a23341c4d628aef"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":1,"pos_id":"header_text_message_2","message":"Qiita創業者海野氏登壇！Qiita エンジニアフェスタ 2021 Online Meetupを9/9(木)に開催","url":"https://increments.connpass.com/event/211948/","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/FN_Programming/items/616e0a23341c4d628aef","location":"/FN_Programming/items/616e0a23341c4d628aef","scheme":"https","host":"qiita.com","port":null,"pathname":"/FN_Programming/items/616e0a23341c4d628aef","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"4ppgRnLBqk/MaySsBjpSIilR+xOKbmElvAxGwh1Q2gAnT3PYkvT/xVg9zrNjcBbnYeg9lAQvCBtSK8YvnwHRXw==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-c9165f8b-c894-4e5c-b68e-d2e6f23da6a1"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/FN_Programming/items/616e0a23341c4d628aef/likers" class="css-1iupg5d">1</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">0</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/616e0a23341c4d628aef/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/FN_Programming/items/616e0a23341c4d628aef/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/FN_Programming/items/616e0a23341c4d628aef/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/FN_Programming/items/616e0a23341c4d628aef/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/FN_Programming/items/616e0a23341c4d628aef.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/FN_Programming"><img class="css-100alwu eyfquo10" src="https://qiita-image-store.s3.amazonaws.com/0/298601/profile-images/1538747819" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/FN_Programming" class="css-10ougpm">@<!-- -->FN_Programming</a><div class="css-1ay9vb9"><span><meta content="2021-06-10T02:31:50Z"/><time dateTime="2021-06-30T23:39:32Z" class="css-m19uds">updated at 2021-06-30</time></span></div></div></div></div></div><h1 class="css-cgzq40">tModLoader ちょこっとリファレンス</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/terraria" class="css-4czcte">Terraria</a><a href="/tags/tmodloader" class="css-4czcte">tModLoader</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div><p>C#の勉強を一旦放棄してtModLoaderでMod製作をしている私は(悪い意味での)怠惰</p>

<h2>
<span id="なにそれ" class="fragment"></span><a href="#%E3%81%AA%E3%81%AB%E3%81%9D%E3%82%8C"><i class="fa fa-link"></i></a>なにそれ？</h2>

<p>tModLoaderとはTerrariaというゲームのMod製作ツール<br>
もともと非公式だったが1.4リリースに合わせて公式も協力して<br>
現在Steamで入手可能<br>
ただしバージョンは1.3.5.3(2021/7/1現在)</p>

<p>がちがちのリファレンスじゃなくて<br>
ちょこっとしたメソッドやフィールドとかの<br>
役に立ちそうなのを紹介</p>

<p>日本語のtModLoaderリファレンスが無さすぎるので共有</p>

<p>随時 役に立ったものとかを追記していく感じ<br>
<del>(そもそも私はあまりQiitaに現れないので難しいかもしれない)</del><br>
<strong>日本人tModder増えてほしいので頑張ります</strong></p>

<p>(最終追記日: 2021/7/1)</p>

<p><br></p>

<h2>
<span id="tmodloader-ちょこっとリファレンス" class="fragment"></span><a href="#tmodloader-%E3%81%A1%E3%82%87%E3%81%93%E3%81%A3%E3%81%A8%E3%83%AA%E3%83%95%E3%82%A1%E3%83%AC%E3%83%B3%E3%82%B9"><i class="fa fa-link"></i></a>tModLoader ちょこっとリファレンス</h2>

<p>まず大前提として<strong>Example Mod 入れろ。</strong> (入れてじゃなくて入れろ)<br>
Mod Browserに検索をかけると出てくる。<br>
GitHubでもいいぞ。<br>
<strong>だいたいの常套手段とか、どう書けばいいのかは書かれている。</strong><br>
ここではExample Modでも補えないものとか<br>
Example Modに書かれていたり、tModLoader wikiに書かれていても、<br>
便利だと思ったし、まぁ日本語じゃないので。<br>
みたいなものを書いていく予定です</p>

<p>ちなみに知ってると思うが「バニラ」とはModを入れていない本家Terrariaのコンテンツを指す。<br>
Terrariaじゃなくても「バニラ」という単語はModじゃない本家ゲームのコンテンツを指す。<br>
英語でVanilla</p>

<p><strong>あとtModLoaderのデコンパイルしたコードあると便利。</strong><br>
ソースコードを公開するのは禁止だが、個人でILSpyなどによるデコンパイルは許可されている。<br>
バニラアイテムの挙動変更など、場合によってはそのコードを見たり、マネしないとうまくいかないことも稀にある。<br>
そもそもIL編集やるなら必須。</p>

<p></p><hr>

<h3>
<span id="mod" class="fragment"></span><a href="#mod"><i class="fa fa-link"></i></a>Mod</h3>

<h4>
<span id="modload" class="fragment"></span><a href="#modload"><i class="fa fa-link"></i></a>Mod.Load()</h4>

<p>IL編集は大体ここに書いて。</p>

<h4>
<span id="modpostsetupcontent" class="fragment"></span><a href="#modpostsetupcontent"><i class="fa fa-link"></i></a>Mod.PostSetupContent()</h4>

<p>これは全てのModがロードし終わった後に呼び出されるため、<br>
<strong><code>NPCLoader.NPCCount</code></strong>など<code>○○Loader.○○Count</code>でModで追加された物を含めたアイテム数を取得できる。<br>
もちろん取得できるのはアイテム数に限らない。</p>

<p></p><hr>

<h3>
<span id="netmessage関係" class="fragment"></span><a href="#netmessage%E9%96%A2%E4%BF%82"><i class="fa fa-link"></i></a>NetMessage関係</h3>

<p><del><strong>私が大っ嫌いなやつよ</strong></del></p>

<p>当然Terrariaはマルチプレイがある。Modにもマルチプレイの対応が必要だ。<del>めんどくさい...</del></p>

<p>まず、Net関係の大前提から話そう。</p>

<p>まず、プレイヤーは「クライアント」と見なされ、ワールドは「サーバー」に接続する。<br>
(厳密にいえば、あなたが開いたTerraria(tModLoader)のアプリケーションが「クライアント」と見なされる)<br>
マルチプレイ中は、あなたのクライアントと他のプレイヤーのクライアントは、サーバーに接続される。</p>

<p>これがマルチプレイの仕組みである。これ自体は理解しがたいものではないだろう。<br>
ただ、適切な通信を行うためのコードを書くとなれば、話は別だ。<br>
上記の内容を理解しても難しいものは難しい...</p>

<p>まず、上記のことからわかるのは、<br>
UIは完全にクライアント側の処理である。(Hero'sModのようなワールドの天候や時間を変えたりするものは、サーバーの通信が必要であるが。)<br>
そして、NPCは完全にサーバー側が処理しているものである。(多分)</p>

<p>だから何？って内容だけど、その内(私にとって)必要な内容になるかもしれないから書いておいただけだ。</p>

<h4>
<span id="mainnetmode" class="fragment"></span><a href="#mainnetmode"><i class="fa fa-link"></i></a>Main.netMode</h4>

<p>マルチ関係で必要になるMain.netMode判定だが、<br>
おそらくMainクラスのフィールド値や、ワールド(サーバー)に関わる値を変更する場合や<br>
Mainの特定のメソッドを使用するときなどは</p>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre><code><span class="k">if</span> <span class="p">(</span><span class="n">Main</span><span class="p">.</span><span class="n">netMode</span> <span class="p">!=</span> <span class="n">NetmodeID</span><span class="p">.</span><span class="n">MultiplayerClient</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Main</span><span class="p">.</span><span class="n">dayRate</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
    <span class="n">Main</span><span class="p">.</span><span class="nf">StopSlimeRain</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>

<p>のように<code>Main.netMode</code>が<code>1</code>以外の時に処理させるとよい(だろう)</p>

<h4>
<span id="moditem" class="fragment"></span><a href="#moditem"><i class="fa fa-link"></i></a>ModItem</h4>

<p>アイテムに通信を必要とするものは今のところ見ていない。</p>

<h4>
<span id="modprojectile" class="fragment"></span><a href="#modprojectile"><i class="fa fa-link"></i></a>ModProjectile</h4>

<p>ProjectileからProjectileを生成する場合は必ず、</p>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre><code><span class="k">if</span> <span class="p">(</span><span class="n">projectile</span><span class="p">.</span><span class="n">owner</span> <span class="p">==</span> <span class="n">Main</span><span class="p">.</span><span class="n">myPlayer</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Projectile</span><span class="p">.</span><span class="nf">NewProjectile</span><span class="p">(...);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>という書き方をせねばならない。<br>
playerの処理が関わる場合も同様。(ヴァンパイアナイフみたいなやつとか)</p>

<p>また、手裏剣や投げナイフ、矢などのように、アイテム化されるProjectileは次のように書いてある。</p>

<div class="code-frame" data-lang="C#">
<div class="code-lang"><span class="bold">ExampleMod.Projectile.ExampleJavelinProjectile.csより(少し改変)</span></div>
<div class="highlight"><pre><code><span class="k">if</span> <span class="p">(</span><span class="n">projectile</span><span class="p">.</span><span class="n">owner</span> <span class="p">==</span> <span class="n">Main</span><span class="p">.</span><span class="n">myPlayer</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">item</span> <span class="p">=</span> <span class="p">(</span><span class="n">Main</span><span class="p">.</span><span class="n">rand</span><span class="p">.</span><span class="nf">NextBool</span><span class="p">(</span><span class="m">18</span><span class="p">)</span> <span class="p">?</span> <span class="n">Item</span><span class="p">.</span><span class="nf">NewItem</span><span class="p">(</span><span class="n">projectile</span><span class="p">.</span><span class="nf">getRect</span><span class="p">(),</span> <span class="n">ModContent</span><span class="p">.</span><span class="n">ItemType</span><span class="p">&lt;</span><span class="n">Items</span><span class="p">.</span><span class="n">Weapons</span><span class="p">.</span><span class="n">ExampleJavelin</span><span class="p">&gt;())</span> <span class="p">:</span> <span class="m">0</span><span class="p">);</span> <span class="c1">//18回に1回(アイテムの)ジャベリンを落とす</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">Main</span><span class="p">.</span><span class="n">netMode</span> <span class="p">==</span> <span class="m">1</span> <span class="p">&amp;&amp;</span> <span class="n">item</span> <span class="p">&gt;=</span> <span class="m">0</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">NetMessage</span><span class="p">.</span><span class="nf">SendData</span><span class="p">(</span><span class="m">21</span><span class="p">,</span> <span class="p">-</span><span class="m">1</span><span class="p">,</span> <span class="p">-</span><span class="m">1</span><span class="p">,</span> <span class="k">null</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="m">1f</span><span class="p">);</span> <span class="c1">// 21 = MessageID.SyncItemだった気がす</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>そしてNPCにバフを与える場合</p>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre><code><span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">ModifyHitNPC</span><span class="p">()</span><span class="c1">//略</span>
<span class="p">{</span>
    <span class="n">projectile</span><span class="p">.</span><span class="n">netUpdate</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
    <span class="n">target</span><span class="p">.</span><span class="nf">AddBuff</span><span class="p">(</span><span class="n">type</span><span class="p">,</span> <span class="n">time</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ただ、一番良い方法は、自分が作ろうとしている処理の近い処理が、バニラのProjectileにあるなら、それを参考にすることだろう。</p>

<p><code>Terraria.Projectile.VanillaAI()</code>を参考にするとよい(だろう)。</p>

<p></p><hr>

<h3>
<span id="moditem-1" class="fragment"></span><a href="#moditem-1"><i class="fa fa-link"></i></a>ModItem</h3>

<h4>
<span id="moditemsetstaticdefaults" class="fragment"></span><a href="#moditemsetstaticdefaults"><i class="fa fa-link"></i></a><code>ModItem.SetStaticDefaults()</code>
</h4>

<h5>
<span id="bool-itemidsetsitemnogravityitemtype" class="fragment"></span><a href="#bool-itemidsetsitemnogravityitemtype"><i class="fa fa-link"></i></a>bool <code>ItemID.Sets.ItemNoGravity[item.type]</code>
</h5>

<p><code>true</code>にするとアイテムを重力に逆らわなくできる。<br>
Soul of lightとかソウル系のアイテムやStardust Fragmentとかのフラグメント系アイテムみたいな感じ。</p>

<h4>
<span id="moditemsetdefaults" class="fragment"></span><a href="#moditemsetdefaults"><i class="fa fa-link"></i></a><code>ModItem.SetDefaults()</code>
</h4>

<h5>
<span id="itemvalue--itemsellpriceplatinumcoin--0-goldcoin--0-silvercoin--0-coppercoin--0" class="fragment"></span><a href="#itemvalue--itemsellpriceplatinumcoin--0-goldcoin--0-silvercoin--0-coppercoin--0"><i class="fa fa-link"></i></a><code>item.value = Item.sellPrice([PlatinumCoin = 0], [GoldCoin = 0], [SilverCoin = 0], [CopperCoin = 0]);</code>
</h5>

<p>アイテムの価格は買う時と売る時によって値段が違う。(たしか5倍だっけかな)<br>
分かりづらいので<code>Item.sellPrice()</code>を使えば売る時の値段で価格指定ができる。<br>
何よりわかりやすい。</p>

<h4>
<span id="moditemmodifytooltipslisttooltipline-tooltips" class="fragment"></span><a href="#moditemmodifytooltipslisttooltipline-tooltips"><i class="fa fa-link"></i></a><code>ModItem.ModifyTooltips(List&lt;TooltipLine&gt; tooltips)</code>
</h4>

<p><code>Tooltip.SetDeafults("")</code>で色付きのツールチップ(<code>[c:ffff00:]</code>って書くやつ)がなんか違和感だったり、<br>
(ほかのツールチップは少し色が変化する(明暗)のだが、<code>[c:ff0000:]</code>を使うとそのままの色になってしまう)<br>
任意の位置にツールチップを入れたいけど、なぜか最後に表示されてしまう<br>
と言うときに使うと便利。<br>
<del>むしろ<code>Tooltip.SetDefaults("")</code>なんか使わないでこれ使え</del></p>

<p>不自然でない色付きのツールチップを追加する方法</p>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre><code><span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">ModifyTooltips</span><span class="p">(</span><span class="n">List</span><span class="p">&lt;</span><span class="n">TooltipLine</span><span class="p">&gt;</span> <span class="n">tooltips</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">TooltipLine</span> <span class="n">line</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TooltipLine</span><span class="p">(</span><span class="n">mod</span><span class="p">,</span> <span class="s">"(ツールチップ名)"</span><span class="p">,</span> <span class="s">"(ツールチップの文章)"</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">overrideColor</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Color</span><span class="p">(</span><span class="m">255</span><span class="p">,</span> <span class="m">255</span><span class="p">,</span> <span class="m">0</span><span class="p">)</span>
    <span class="p">};</span>
    <span class="n">tooltips</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">line</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>アイテム名の下に任意のツールチップを表示させる方法</p>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre><code><span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">ModifyTooltips</span><span class="p">(</span><span class="n">List</span><span class="p">&lt;</span><span class="n">TooltipLine</span><span class="p">&gt;</span> <span class="n">tooltips</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">index</span> <span class="p">=</span> <span class="n">tooltips</span><span class="p">.</span><span class="nf">FindIndex</span><span class="p">(</span><span class="n">tooltipLine</span> <span class="p">=&gt;</span> <span class="n">tooltipLine</span><span class="p">.</span><span class="n">Name</span><span class="p">.</span><span class="nf">Equals</span><span class="p">(</span><span class="s">"ItemName"</span><span class="p">));</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">index</span> <span class="p">==</span> <span class="p">-</span><span class="m">1</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">tooltips</span><span class="p">.</span><span class="nf">Insert</span><span class="p">(</span><span class="n">index</span><span class="p">++,</span> <span class="k">new</span> <span class="nf">TooltipLine</span><span class="p">(</span><span class="n">mod</span><span class="p">,</span> <span class="s">"(ツールチップ名)"</span><span class="p">,</span> <span class="s">"(文章)"</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div></div>

<h4>
<span id="moditempostdrawininventoryspritebatch-spritebatch-vector2-position-rectangle-frame-color-drawcolor-color-itemcolor-vector2-origin-float-scale" class="fragment"></span><a href="#moditempostdrawininventoryspritebatch-spritebatch-vector2-position-rectangle-frame-color-drawcolor-color-itemcolor-vector2-origin-float-scale"><i class="fa fa-link"></i></a><code>ModItem.PostDrawInInventory(SpriteBatch spriteBatch, Vector2 position, Rectangle frame, Color drawColor, Color itemColor, Vector2 origin, float scale)</code>
</h4>

<p>回復アイテムを飲んだ時のバッテン印、あれを表示する方法がここにある。</p>

<p>大したものではないので、ここで共有するとしよう。</p>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre><code><span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">PostDrawInInventory</span><span class="p">(</span><span class="n">SpriteBatch</span> <span class="n">spriteBatch</span><span class="p">,</span> <span class="n">Vector2</span> <span class="n">position</span><span class="p">,</span> <span class="n">Rectangle</span> <span class="n">frame</span><span class="p">,</span> <span class="n">Color</span> <span class="n">drawColor</span><span class="p">,</span> <span class="n">Color</span> <span class="n">itemColor</span><span class="p">,</span> <span class="n">Vector2</span> <span class="n">origin</span><span class="p">,</span> <span class="kt">float</span> <span class="n">scale</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Vector2</span> <span class="n">position3</span> <span class="p">=</span> <span class="n">position</span> <span class="p">+</span> <span class="n">frame</span><span class="p">.</span><span class="nf">Size</span><span class="p">()</span> <span class="p">*</span> <span class="n">scale</span> <span class="p">/</span> <span class="m">2</span><span class="p">;</span>
    <span class="n">position3</span> <span class="p">-=</span> <span class="n">Main</span><span class="p">.</span><span class="n">cdTexture</span><span class="p">.</span><span class="nf">Size</span><span class="p">()</span> <span class="p">*</span> <span class="n">Main</span><span class="p">.</span><span class="n">inventoryScale</span> <span class="p">/</span> <span class="m">2f</span><span class="p">;</span>
    <span class="n">spriteBatch</span><span class="p">.</span><span class="nf">Draw</span><span class="p">(</span><span class="n">Main</span><span class="p">.</span><span class="n">cdTexture</span><span class="p">,</span> <span class="n">position3</span><span class="p">,</span> <span class="k">null</span><span class="p">,</span> <span class="n">Color</span><span class="p">.</span><span class="n">White</span><span class="p">,</span> <span class="m">0f</span><span class="p">,</span> <span class="k">default</span><span class="p">(</span><span class="n">Vector2</span><span class="p">),</span> <span class="n">scale</span><span class="p">,</span> <span class="n">SpriteEffects</span><span class="p">.</span><span class="n">None</span><span class="p">,</span> <span class="m">0f</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>自作発言とか普通に好きではないが、実際バニラのコードを元に、tModLoader用に書ているだけなので<br>
使いますみたいな許可とか、クレジットに書く義務はない。(あったら嬉しいけどそこまでのものではない。)</p>

<p>クレジットに書かなくていい代わりに、<strong>なぜこのようなコードなのか理解して使ってほしい。</strong><br>
趣味でプログラミングをやっている者だが、それは多分みんなにとって大切だと思うものなはずだから。<br>
<strong>さぁ、ILSpy使って<code>Terraria.ModLoader.ModItem.PostDrawInInventory</code>から<code>Analyze</code>の旅だ！</strong></p>

<p></p><hr>

<h3>
<span id="modnpc" class="fragment"></span><a href="#modnpc"><i class="fa fa-link"></i></a>ModNPC</h3>

<h4>
<span id="bool-modnpcprenpcloot" class="fragment"></span><a href="#bool-modnpcprenpcloot"><i class="fa fa-link"></i></a>bool <code>ModNPC.PreNPCLoot()</code>
</h4>

<p>ここで<code>false</code>を呼び出すと<code>ModNPC.NPCLoot()</code>が呼ばれなくなる。<br>
ボスはデフォルトでLesser Healing Potionを落とすため、それが嫌ならfalseを返すべし。<br>
ただし、*** has been defeated!も表示されない上、ハートやスターも自分で落とす処理を書かなければならなくなる。</p>

<p></p><hr>

<h3>
<span id="modprojectile-1" class="fragment"></span><a href="#modprojectile-1"><i class="fa fa-link"></i></a>ModProjectile</h3>

<h4>
<span id="projectileaistyle--1" class="fragment"></span><a href="#projectileaistyle--1"><i class="fa fa-link"></i></a><code>projectile.aiStyle = 1;</code>
</h4>

<p>これに関してだが、これを使うと数千行のコードを参照することになる。<br>
実はtModLoader wikiに5行程度で済むように書くことをお勧めしている(?)<br>
<code>projectile.aiStyle = -1;</code>にして<br>
<code>AI()</code>に下のリンクにあるコードを書くといい。<br>
<a href="https://github.com/tModLoader/tModLoader/wiki/Basic-Projectile#aistyle-1" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/tModLoader/tModLoader/wiki/Basic-Projectile#aistyle-1</a><br>
他のaiStyleに関しても同等のことが言えたりする。<br>
NPCのaiStyleも。</p>

<p></p><hr>

<h3>
<span id="modplayer" class="fragment"></span><a href="#modplayer"><i class="fa fa-link"></i></a>ModPlayer</h3>

<h4>
<span id="bool-modplayerpreitemcheck" class="fragment"></span><a href="#bool-modplayerpreitemcheck"><i class="fa fa-link"></i></a>bool <code>ModPlayer.PreItemCheck()</code>
</h4>

<p>バニラアイテムの挙動を変えたい時、場合によってはこれが必要になる。<br>
ただし、とても面倒なうえ、そこまでやる必要があるか考えること。<br>
なるべくだったら違う手段を探した方がよい。 <del>IL編集とか</del><br>
<code>Player.ItemCheck()</code>をtModLoader用に書き換え、不要な部分(<code>if (item.type == x)</code>など)を削る必要がある。</p>

<p></p><hr>

<h3>
<span id="globalnpc" class="fragment"></span><a href="#globalnpc"><i class="fa fa-link"></i></a>GlobalNPC</h3>

<h4>
<span id="globalnpceditspawnpoolidictionaryint-float-pool-npcspawninfo-spawninfo" class="fragment"></span><a href="#globalnpceditspawnpoolidictionaryint-float-pool-npcspawninfo-spawninfo"><i class="fa fa-link"></i></a><code>GlobalNPC.EditSpawnPool(IDictionary&lt;int, float&gt; pool, NPCSpawnInfo spawnInfo)</code>
</h4>

<p>Example Modにこの説明がなかったので<br>
使い方は<code>ModNPC.SpawnChance(NPCSpawnInfo spawnInfo)</code>とほぼ同じ。<br>
if文やSpawnConditonを使いつつ、<br>
<code>pool[NPCID.～ または ModContent.NPCType&lt;T&gt;()] = SpawnCondition.～ * 0.2f;</code><br>
みたいな感じで使う。<br>
<code>pool[npc.type] = float</code></p>

<p></p><hr>

<h3>
<span id="modworld" class="fragment"></span><a href="#modworld"><i class="fa fa-link"></i></a>ModWorld</h3>

<h4>
<span id="modworldmodifyworldgentaskslistgenpass-tasks-ref-float-totalweight" class="fragment"></span><a href="#modworldmodifyworldgentaskslistgenpass-tasks-ref-float-totalweight"><i class="fa fa-link"></i></a><code>ModWorld.ModifyWorldGenTasks(List&lt;GenPass&gt; tasks, ref float totalWeight)</code>
</h4>

<p>もう書くネタが多すぎますね。</p>

<h5>
<span id="常套手段" class="fragment"></span><a href="#%E5%B8%B8%E5%A5%97%E6%89%8B%E6%AE%B5"><i class="fa fa-link"></i></a>常套手段</h5>

<p>まず常套手段の書き方を置いておく</p>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre><code><span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">ModifyWorldGenTasks</span><span class="p">(</span><span class="n">List</span><span class="p">&lt;</span><span class="n">GenPass</span><span class="p">&gt;</span> <span class="n">tasks</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">float</span> <span class="n">totalWeight</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">index</span> <span class="p">=</span> <span class="n">tasks</span><span class="p">.</span><span class="nf">FindIndex</span><span class="p">(</span><span class="n">genPass</span> <span class="p">=&gt;</span> <span class="n">genPass</span><span class="p">.</span><span class="n">Name</span><span class="p">.</span><span class="nf">Equals</span><span class="p">(</span><span class="s">"shinies"</span><span class="p">);</span> <span class="c1">// 地中に鉱石を埋めるならshiniesでよいが、場合によっては違うのを入れたりする。</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">index</span> <span class="p">!=</span> <span class="p">-</span><span class="m">1</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">tasks</span><span class="p">.</span><span class="nf">insert</span><span class="p">(</span><span class="n">index</span><span class="p">++,</span> <span class="k">new</span> <span class="nf">PassLegacy</span><span class="p">(</span><span class="s">"(なんの処理か簡単に説明する)"</span><span class="p">,</span> <span class="k">delegate</span> <span class="p">(</span><span class="n">GenerationProgress</span> <span class="n">progress</span>
        <span class="p">{</span>
            <span class="n">progress</span><span class="p">.</span><span class="n">Messarge</span> <span class="p">=</span> <span class="s">"(実際に表示されるプログレス名)"</span><span class="p">;</span>

            <span class="c1">//(処理)</span>
        <span class="p">}));</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>処理に関わるメソッドは<code>WorldGen</code>の項目や<code>Main</code>の項目を参照。</p>

<h5>
<span id="カスタムワールド生成" class="fragment"></span><a href="#%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%A0%E3%83%AF%E3%83%BC%E3%83%AB%E3%83%89%E7%94%9F%E6%88%90"><i class="fa fa-link"></i></a>カスタムワールド生成</h5>

<p><code>tasks</code>に関してだが、<code>List&lt;GenPass&gt;</code>の意味がなんとなく分かるなら、もうカスタムでワールド生成コードを書くことができることに気付けるだろう。<br>
私は最近、スーパーフラットのようなワールド生成がかけるか試したところ、成功したので共有する。</p>

<p>実際、バニラのコードを見れば分かるのだが、<br>
<code>Reset</code>, <code>Terrain</code>, <code>Spawn Point</code>, <code>Final Cleanup</code>は最低限必要と見えるだろう<br>
私は怠惰なので<code>Reset</code>, <code>Terrain</code>, <code>Tile Cleanup</code>, <code>Final Cleanup</code>を残しておいた。<br>
スポーンポイントの設定はそこまで複雑ではない。</p>

<p>さて、ぱっと見上手くいったように見えるのだが、もしかしたら何かが足りない可能性は十二分にある。<br>
これから書くコードは推奨しないうえ、自己責任でお願いします。<br>
あと極力使わないでくれ。似たようなプロセスを得て、正しく実行できるプログラムならいいけど。<br>
<del>正直使うならクレジットに書いてほしい気持ちがある。</del></p>

<p>さらに言うと、ここに載せるのはエラー処理などは書いていない。<br>
そのままコピペすればいずれ破滅するコードだ。</p>

<p>1 まず、必要最低限(だと思われる)のものをあらかじめ変数で引っこ抜いておく。</p>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre><code><span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">ModifyWorldGenTasks</span><span class="p">(</span><span class="n">List</span><span class="p">&lt;</span><span class="n">GenPass</span><span class="p">&gt;</span> <span class="n">tasks</span><span class="p">,</span> <span class="k">ref</span> <span class="kt">float</span> <span class="n">totalWeight</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">index</span> <span class="p">=</span> <span class="n">tasks</span><span class="p">.</span><span class="nf">FindIndex</span><span class="p">(</span><span class="n">genpass</span> <span class="p">=&gt;</span> <span class="n">genpass</span><span class="p">.</span><span class="n">Name</span><span class="p">.</span><span class="nf">Equals</span><span class="p">(</span><span class="s">"Reset"</span><span class="p">));</span>
    <span class="n">GenPass</span> <span class="n">reset</span> <span class="p">=</span> <span class="n">tasks</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
    <span class="n">index</span> <span class="p">=</span> <span class="n">tasks</span><span class="p">.</span><span class="nf">FindIndex</span><span class="p">(</span><span class="n">genpass</span> <span class="p">=&gt;</span> <span class="n">genpass</span><span class="p">.</span><span class="n">Name</span><span class="p">.</span><span class="nf">Equals</span><span class="p">(</span><span class="s">"Terrain"</span><span class="p">));</span>
    <span class="n">GenPass</span> <span class="n">terrain</span> <span class="p">=</span> <span class="n">tasks</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
    <span class="n">index</span> <span class="p">=</span> <span class="n">tasks</span><span class="p">.</span><span class="nf">FindIndex</span><span class="p">(</span><span class="n">genpass</span> <span class="p">=&gt;</span> <span class="n">genpass</span><span class="p">.</span><span class="n">Name</span><span class="p">.</span><span class="nf">Equals</span><span class="p">(</span><span class="s">"Tile Cleanup"</span><span class="p">));</span>
    <span class="n">GenPass</span> <span class="n">tileCleanup</span> <span class="p">=</span> <span class="n">tasks</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
    <span class="n">index</span> <span class="p">=</span> <span class="n">tasks</span><span class="p">.</span><span class="nf">FindIndex</span><span class="p">(</span><span class="n">genpass</span> <span class="p">=&gt;</span> <span class="n">genpass</span><span class="p">.</span><span class="n">Name</span><span class="p">.</span><span class="nf">Equals</span><span class="p">(</span><span class="s">"Final Cleanup"</span><span class="p">));</span>
    <span class="n">GenPass</span> <span class="n">final</span> <span class="p">=</span> <span class="n">tasks</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
    <span class="c1">//続きはここから</span>
<span class="p">}</span>
</code></pre></div></div>

<p>2 元のワールド生成を削除</p>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre><code><span class="n">tasks</span><span class="p">.</span><span class="nf">Clear</span><span class="p">();</span>
</code></pre></div></div>

<p>3 ResetとTerrainを追加</p>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre><code><span class="n">tasks</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">reset</span><span class="p">);</span>
<span class="n">tasks</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">terrain</span><span class="p">);</span>
</code></pre></div></div>

<p>4 スーパーフラット</p>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre><code><span class="n">tasks</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="k">new</span> <span class="nf">PassLegacy</span><span class="p">(</span><span class="s">"SuperFlat"</span><span class="p">,</span> <span class="k">delegate</span> <span class="p">(</span><span class="n">GenerationProgress</span> <span class="n">progress</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">progress</span><span class="p">.</span><span class="n">Messarge</span> <span class="p">=</span> <span class="s">"Super Flat"</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">Main</span><span class="p">.</span><span class="n">maxTilesX</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
    <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="p">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">Main</span><span class="p">.</span><span class="n">worldSurface</span> <span class="p">-</span> <span class="m">100</span><span class="p">;</span> <span class="n">j</span> <span class="p">&lt;</span> <span class="n">Main</span><span class="p">.</span><span class="n">maxTilesY</span><span class="p">;</span> <span class="n">j</span><span class="p">++)</span>
        <span class="p">{</span>
            <span class="n">WorldGen</span><span class="p">.</span><span class="nf">PlaceTile</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">TileID</span><span class="p">.</span><span class="n">Dirt</span><span class="p">);</span> <span class="c1">//層ごとにタイル変えたいって? 自分で考えて... ここに書くのめんどくさいのよ...</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">Main</span><span class="p">.</span><span class="n">maxTilesX</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">j</span> <span class="p">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">Main</span><span class="p">.</span><span class="n">worldSurface</span> <span class="p">-</span> <span class="m">100</span><span class="p">;</span>
        <span class="n">WorldGen</span><span class="p">.</span><span class="nf">SpreadGrass</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">);</span> <span class="c1">// 申し訳なさそうな程度の草生やすプロセス</span>
    <span class="p">}</span>
<span class="p">}));</span>
</code></pre></div></div>

<p>5 スポーン地点</p>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre><code><span class="n">tasks</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="k">new</span> <span class="nf">PassLegacy</span><span class="p">(</span><span class="s">"SetSpwanPointAlt"</span><span class="p">,</span> <span class="k">delegate</span> <span class="p">(</span><span class="n">GenerationProgress</span> <span class="n">progress</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">progress</span><span class="p">.</span><span class="n">Messarge</span> <span class="p">=</span> <span class="s">"Set Spawn Point"</span><span class="p">;</span>

    <span class="n">Main</span><span class="p">.</span><span class="n">spawnTileX</span> <span class="p">=</span> <span class="n">Main</span><span class="p">.</span><span class="n">maxTilesX</span> <span class="p">/</span> <span class="m">2</span><span class="p">;</span>
    <span class="n">Main</span><span class="p">.</span><span class="n">spawnTileY</span> <span class="p">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">Main</span><span class="p">.</span><span class="n">worldSurface</span> <span class="p">-</span> <span class="m">100</span> <span class="p">-</span> <span class="m">3</span><span class="p">;</span> <span class="c1">//多分-3じゃなくて-2程度がいいかも</span>
<span class="p">}));</span>
</code></pre></div></div>

<p>6 Cleanup系統追加</p>

<div class="code-frame" data-lang="C#"><div class="highlight"><pre><code><span class="n">tasks</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">tileCleanup</span><span class="p">);</span>
<span class="n">tasks</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">final</span><span class="p">);</span>
</code></pre></div></div>

<p>↓実際に生成した様子 (ここに載せたコードとは異なるが、やったことはほぼ一緒)<br>
<a href="https://youtu.be/GeytP4mLqqE" class="autolink" rel="nofollow noopener" target="_blank">https://youtu.be/GeytP4mLqqE</a></p>

<p>ちなみにプロセスバーが進んでいない原因は不明。<br>
もしかしたら<code>totalWeight</code>使うのだろうけど分からないので<br>
誰か教えてくれ()</p>

<p></p><hr>

<h3>
<span id="globaltile" class="fragment"></span><a href="#globaltile"><i class="fa fa-link"></i></a>GlobalTile</h3>

<p></p><hr>

<h3>
<span id="worldgen" class="fragment"></span><a href="#worldgen"><i class="fa fa-link"></i></a>WorldGen</h3>

<h4>
<span id="worldgenconvertint-i-int-j-int-conversiontype" class="fragment"></span><a href="#worldgenconvertint-i-int-j-int-conversiontype"><i class="fa fa-link"></i></a><code>WorldGen.Convert(int i, int j, int conversionType)</code>
</h4>

<p><code>i</code>, <code>j</code>はブロック座標<br>
<code>conversionType</code>は <code>1</code>で邪悪化 <code>2</code>で神聖化 <code>4</code>で真紅化</p>

<p></p><hr>

<h3>
<span id="mainitem-mainprojectile-mainnpcなど" class="fragment"></span><a href="#mainitem-mainprojectile-mainnpc%E3%81%AA%E3%81%A9"><i class="fa fa-link"></i></a><code>Main.item</code>, <code>Main.projectile</code>, <code>Main.npc</code>など</h3>

<p><code>Main</code>は多すぎるので項目を分ける。<br>
ここでは<code>Main.item</code>などについて説明。<br>
<code>Main.item</code>や、<code>Main.npc</code>、<code>Main.projectile</code>は<code>SetDefaults</code>したものを入れている配列ではない。<br>
<code>Main.item</code>は地面に落ちているアイテムの配列。<br>
<code>Main.projectile</code>はフレーム内に存在する発射体の配列<br>
<code>Main.npc</code>はフレーム内に存在するNPCの配列である。<br>
あくまでゲーム内の情報を表すので<br>
バニラアイテムの挙動を変えるなどは、<code>Global</code>系を継承しよう。</p>

<p></p><hr>

<h3>
<span id="net関係" class="fragment"></span><a href="#net%E9%96%A2%E4%BF%82"><i class="fa fa-link"></i></a>Net関係</h3>

<p><strong>これまじで分からん。</strong><br>
<code>NetMesseage.SendData()</code>などでマルチプレイ時のデータのやり取りを行うらしいが...</p>

<p><strong>分からん。</strong></p>

<p>勉強して分かり次第追記していこう。</p>

<p></p><hr>

<h3>
<span id="vanilla-item-info" class="fragment"></span><a href="#vanilla-item-info"><i class="fa fa-link"></i></a>Vanilla Item Info</h3>

<h4>
<span id="recipe" class="fragment"></span><a href="#recipe"><i class="fa fa-link"></i></a>Recipe</h4>

<p><strong>ピッケル = 木材x4 + 何らかの素材x12</strong><br>
1.4では8個にコストが下がった</p>

<h4>
<span id="value" class="fragment"></span><a href="#value"><i class="fa fa-link"></i></a>Value</h4>

<p><strong>インゴット(Bar) と 鉱石(Ore)の価格は クラフト前と後では変わらない</strong><br>
鉱石1個当たりの価格 * インゴットにするに必要な数 = その鉱石のインゴット(1個)の価格</p>

<h4>
<span id="rarity" class="fragment"></span><a href="#rarity"><i class="fa fa-link"></i></a>Rarity</h4>

<p></p><hr>

<h3>
<span id="エラー対処法" class="fragment"></span><a href="#%E3%82%A8%E3%83%A9%E3%83%BC%E5%AF%BE%E5%87%A6%E6%B3%95"><i class="fa fa-link"></i></a>エラー対処法</h3>

<h4>
<span id="systemioioexception" class="fragment"></span><a href="#systemioioexception"><i class="fa fa-link"></i></a>System.IO.IOException</h4>

<div class="code-frame" data-lang="">
<div class="code-lang"><span class="bold">エラーメッセージ</span></div>
<div class="highlight"><pre><code>[(時間)] [13/ERROR] [tML]: 別のプロセスで使用されているため、プロセスはファイル 'C:\Users\(ユーザー名)\Documents\My Games\Terraria\ModLoader\Mods\(Mod名).tmod' にアクセスできません。
System.IO.IOException: 別のプロセスで使用されているため、プロセスはファイル 'C:\Users\(ユーザー名)\Documents\My Games\Terraria\ModLoader\Mods\(Mod名).tmod' にアクセスできません。
   場所 System.IO.__Error.WinIOError(Int32 errorCode, String maybeFullPath)
   場所 System.IO.FileStream.Init(String path, FileMode mode, FileAccess access, Int32 rights, Boolean useRights, FileShare share, Int32 bufferSize, FileOptions options, SECURITY_ATTRIBUTES secAttrs, String msgPath, Boolean bFromProxy, Boolean useLongPath, Boolean checkHost)
   場所 System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize)
   場所 Terraria.ModLoader.Core.TmodFile.Save()
   場所 Terraria.ModLoader.Core.ModCompile.Build(BuildingMod mod)
   場所 Terraria.ModLoader.Core.ModCompile.Build(String modFolder)
   場所 Terraria.ModLoader.UI.UIBuildMod.&lt;&gt;c__DisplayClass5_0.&lt;Build&gt;b__0(ModCompile mc)
   場所 Terraria.ModLoader.UI.UIBuildMod.BuildMod(Action`1 buildAction, Boolean reload)
</code></pre></div>
</div>

<p>ビルド時にこのようなエラーが発生した場合は<br>
<code>Mod</code>クラスを継承している(Mod)ファイルを見よう。</p>

<p><code>Mod.Close()</code>をオーバーライドしている場合、<br>
メソッド内に<code>base.Close();</code>が無いと正しくModが閉じられないので注意。</p>

<div class="code-frame" data-lang="C#">
<div class="code-lang"><span class="bold">Mod</span></div>
<div class="highlight"><pre><code><span class="k">using</span> <span class="nn">Terraria.ModLoader</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">MyMod</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">MyMod</span> <span class="p">:</span> <span class="n">Mod</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">Close</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// なんかの処理</span>
            <span class="k">base</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span> <span class="c1">// 必須</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p></p><hr>

<h3>
<span id="役に立つサイト集" class="fragment"></span><a href="#%E5%BD%B9%E3%81%AB%E7%AB%8B%E3%81%A4%E3%82%B5%E3%82%A4%E3%83%88%E9%9B%86"><i class="fa fa-link"></i></a>役に立つサイト集</h3>

<p>↓ tModLoader Github 公式 wiki<br>
<a href="https://github.com/tModLoader/tModLoader/wiki" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/tModLoader/tModLoader/wiki</a></p>

<p>↓ Terraria Official Wiki ItemID<br>
<a href="https://terraria.fandom.com/wiki/Item_IDs" class="autolink" rel="nofollow noopener" target="_blank">https://terraria.fandom.com/wiki/Item_IDs</a></p>

<p>↓ Terraria Officaial Wiki TileID<br>
<a href="https://terraria.fandom.com/wiki/Tile_IDs" class="autolink" rel="nofollow noopener" target="_blank">https://terraria.fandom.com/wiki/Tile_IDs</a></p>

<p>↓ Terraria Officaial Wiki ProjectileID<br>
<a href="https://terraria.fandom.com/wiki/Projectile_IDs" class="autolink" rel="nofollow noopener" target="_blank">https://terraria.fandom.com/wiki/Projectile_IDs</a></p>

<p>↓ Terraria Officaial Wiki NPCID<br>
<a href="https://terraria.fandom.com/wiki/NPC_IDs" class="autolink" rel="nofollow noopener" target="_blank">https://terraria.fandom.com/wiki/NPC_IDs</a></p>

<p>↓ Terraria Officaial Wiki BuffID<br>
<a href="https://terraria.fandom.com/wiki/Buff_IDs" class="autolink" rel="nofollow noopener" target="_blank">https://terraria.fandom.com/wiki/Buff_IDs</a></p>

<p>↓ Terraria AmmoID (tModLoader 公式wikiより)<br>
<a href="https://github.com/tModLoader/tModLoader/wiki/Vanilla-Ammo-IDs" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/tModLoader/tModLoader/wiki/Vanilla-Ammo-IDs</a></p>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2FFN_Programming%2Fitems%2F616e0a23341c4d628aef&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2FFN_Programming%2Fitems%2F616e0a23341c4d628aef&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/FN_Programming/items/616e0a23341c4d628aef/likers" class="css-1iupg5d">1</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">0</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/616e0a23341c4d628aef/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/FN_Programming/items/616e0a23341c4d628aef/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/FN_Programming/items/616e0a23341c4d628aef/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/FN_Programming/items/616e0a23341c4d628aef/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/FN_Programming/items/616e0a23341c4d628aef.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-c9165f8b-c894-4e5c-b68e-d2e6f23da6a1">{"authorAnalyticsTrackingId":null,"organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-cd1dacde-d010-4cab-98a7-20e97d2434bc"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-cd1dacde-d010-4cab-98a7-20e97d2434bc">{}</script>
      
<div id="LoginModal-react-component-424186af-7cb8-4aea-a4e5-85b0926563f1"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-424186af-7cb8-4aea-a4e5-85b0926563f1">{}</script>
      
<div id="StockModal-react-component-fb6b79a5-91bc-4682-9f17-30a2fd577429"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-fb6b79a5-91bc-4682-9f17-30a2fd577429">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;ueaEGo4LQmUOP+bjOb3kkfFwO2cpIQ4IESz3cszvHj98M5eEbj4X75ppDPxc96BUucn94KdgZzb/C3efTr4VYA==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\u003cp\u003eC#の勉強を一旦放棄してtModLoaderでMod製作をしている私は(悪い意味での)怠惰\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"なにそれ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AA%E3%81%AB%E3%81%9D%E3%82%8C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eなにそれ？\u003c/h2\u003e\n\n\u003cp\u003etModLoaderとはTerrariaというゲームのMod製作ツール\u003cbr\u003e\nもともと非公式だったが1.4リリースに合わせて公式も協力して\u003cbr\u003e\n現在Steamで入手可能\u003cbr\u003e\nただしバージョンは1.3.5.3(2021/7/1現在)\u003c/p\u003e\n\n\u003cp\u003eがちがちのリファレンスじゃなくて\u003cbr\u003e\nちょこっとしたメソッドやフィールドとかの\u003cbr\u003e\n役に立ちそうなのを紹介\u003c/p\u003e\n\n\u003cp\u003e日本語のtModLoaderリファレンスが無さすぎるので共有\u003c/p\u003e\n\n\u003cp\u003e随時 役に立ったものとかを追記していく感じ\u003cbr\u003e\n\u003cdel\u003e(そもそも私はあまりQiitaに現れないので難しいかもしれない)\u003c/del\u003e\u003cbr\u003e\n\u003cstrong\u003e日本人tModder増えてほしいので頑張ります\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003e(最終追記日: 2021/7/1)\u003c/p\u003e\n\n\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"tmodloader-ちょこっとリファレンス\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#tmodloader-%E3%81%A1%E3%82%87%E3%81%93%E3%81%A3%E3%81%A8%E3%83%AA%E3%83%95%E3%82%A1%E3%83%AC%E3%83%B3%E3%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003etModLoader ちょこっとリファレンス\u003c/h2\u003e\n\n\u003cp\u003eまず大前提として\u003cstrong\u003eExample Mod 入れろ。\u003c/strong\u003e (入れてじゃなくて入れろ)\u003cbr\u003e\nMod Browserに検索をかけると出てくる。\u003cbr\u003e\nGitHubでもいいぞ。\u003cbr\u003e\n\u003cstrong\u003eだいたいの常套手段とか、どう書けばいいのかは書かれている。\u003c/strong\u003e\u003cbr\u003e\nここではExample Modでも補えないものとか\u003cbr\u003e\nExample Modに書かれていたり、tModLoader wikiに書かれていても、\u003cbr\u003e\n便利だと思ったし、まぁ日本語じゃないので。\u003cbr\u003e\nみたいなものを書いていく予定です\u003c/p\u003e\n\n\u003cp\u003eちなみに知ってると思うが「バニラ」とはModを入れていない本家Terrariaのコンテンツを指す。\u003cbr\u003e\nTerrariaじゃなくても「バニラ」という単語はModじゃない本家ゲームのコンテンツを指す。\u003cbr\u003e\n英語でVanilla\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003eあとtModLoaderのデコンパイルしたコードあると便利。\u003c/strong\u003e\u003cbr\u003e\nソースコードを公開するのは禁止だが、個人でILSpyなどによるデコンパイルは許可されている。\u003cbr\u003e\nバニラアイテムの挙動変更など、場合によってはそのコードを見たり、マネしないとうまくいかないことも稀にある。\u003cbr\u003e\nそもそもIL編集やるなら必須。\u003c/p\u003e\n\n\u003cp\u003e\u003c/p\u003e\u003chr\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"mod\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#mod\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eMod\u003c/h3\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"modload\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#modload\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eMod.Load()\u003c/h4\u003e\n\n\u003cp\u003eIL編集は大体ここに書いて。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"modpostsetupcontent\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#modpostsetupcontent\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eMod.PostSetupContent()\u003c/h4\u003e\n\n\u003cp\u003eこれは全てのModがロードし終わった後に呼び出されるため、\u003cbr\u003e\n\u003cstrong\u003e\u003ccode\u003eNPCLoader.NPCCount\u003c/code\u003e\u003c/strong\u003eなど\u003ccode\u003e○○Loader.○○Count\u003c/code\u003eでModで追加された物を含めたアイテム数を取得できる。\u003cbr\u003e\nもちろん取得できるのはアイテム数に限らない。\u003c/p\u003e\n\n\u003cp\u003e\u003c/p\u003e\u003chr\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"netmessage関係\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#netmessage%E9%96%A2%E4%BF%82\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eNetMessage関係\u003c/h3\u003e\n\n\u003cp\u003e\u003cdel\u003e\u003cstrong\u003e私が大っ嫌いなやつよ\u003c/strong\u003e\u003c/del\u003e\u003c/p\u003e\n\n\u003cp\u003e当然Terrariaはマルチプレイがある。Modにもマルチプレイの対応が必要だ。\u003cdel\u003eめんどくさい...\u003c/del\u003e\u003c/p\u003e\n\n\u003cp\u003eまず、Net関係の大前提から話そう。\u003c/p\u003e\n\n\u003cp\u003eまず、プレイヤーは「クライアント」と見なされ、ワールドは「サーバー」に接続する。\u003cbr\u003e\n(厳密にいえば、あなたが開いたTerraria(tModLoader)のアプリケーションが「クライアント」と見なされる)\u003cbr\u003e\nマルチプレイ中は、あなたのクライアントと他のプレイヤーのクライアントは、サーバーに接続される。\u003c/p\u003e\n\n\u003cp\u003eこれがマルチプレイの仕組みである。これ自体は理解しがたいものではないだろう。\u003cbr\u003e\nただ、適切な通信を行うためのコードを書くとなれば、話は別だ。\u003cbr\u003e\n上記の内容を理解しても難しいものは難しい...\u003c/p\u003e\n\n\u003cp\u003eまず、上記のことからわかるのは、\u003cbr\u003e\nUIは完全にクライアント側の処理である。(Hero'sModのようなワールドの天候や時間を変えたりするものは、サーバーの通信が必要であるが。)\u003cbr\u003e\nそして、NPCは完全にサーバー側が処理しているものである。(多分)\u003c/p\u003e\n\n\u003cp\u003eだから何？って内容だけど、その内(私にとって)必要な内容になるかもしれないから書いておいただけだ。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"mainnetmode\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#mainnetmode\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eMain.netMode\u003c/h4\u003e\n\n\u003cp\u003eマルチ関係で必要になるMain.netMode判定だが、\u003cbr\u003e\nおそらくMainクラスのフィールド値や、ワールド(サーバー)に関わる値を変更する場合や\u003cbr\u003e\nMainの特定のメソッドを使用するときなどは\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003enetMode\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"n\"\u003eNetmodeID\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eMultiplayerClient\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003edayRate\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eStopSlimeRain\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eのように\u003ccode\u003eMain.netMode\u003c/code\u003eが\u003ccode\u003e1\u003c/code\u003e以外の時に処理させるとよい(だろう)\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"moditem\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#moditem\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eModItem\u003c/h4\u003e\n\n\u003cp\u003eアイテムに通信を必要とするものは今のところ見ていない。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"modprojectile\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#modprojectile\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eModProjectile\u003c/h4\u003e\n\n\u003cp\u003eProjectileからProjectileを生成する場合は必ず、\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eprojectile\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eowner\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"n\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003emyPlayer\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eProjectile\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eNewProjectile\u003c/span\u003e\u003cspan class=\"p\"\u003e(...);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eという書き方をせねばならない。\u003cbr\u003e\nplayerの処理が関わる場合も同様。(ヴァンパイアナイフみたいなやつとか)\u003c/p\u003e\n\n\u003cp\u003eまた、手裏剣や投げナイフ、矢などのように、アイテム化されるProjectileは次のように書いてある。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eExampleMod.Projectile.ExampleJavelinProjectile.csより(少し改変)\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eprojectile\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eowner\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"n\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003emyPlayer\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eitem\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erand\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eNextBool\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e18\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e?\u003c/span\u003e \u003cspan class=\"n\"\u003eItem\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eNewItem\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eprojectile\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003egetRect\u003c/span\u003e\u003cspan class=\"p\"\u003e(),\u003c/span\u003e \u003cspan class=\"n\"\u003eModContent\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eItemType\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eItems\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eWeapons\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eExampleJavelin\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;())\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"c1\"\u003e//18回に1回(アイテムの)ジャベリンを落とす\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003enetMode\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003eitem\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eNetMessage\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSendData\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e21\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eitem\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e1f\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 21 = MessageID.SyncItemだった気がす\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eそしてNPCにバフを与える場合\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eModifyHitNPC\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"c1\"\u003e//略\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eprojectile\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003enetUpdate\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003etarget\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAddBuff\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003etime\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eただ、一番良い方法は、自分が作ろうとしている処理の近い処理が、バニラのProjectileにあるなら、それを参考にすることだろう。\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003eTerraria.Projectile.VanillaAI()\u003c/code\u003eを参考にするとよい(だろう)。\u003c/p\u003e\n\n\u003cp\u003e\u003c/p\u003e\u003chr\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"moditem-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#moditem-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eModItem\u003c/h3\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"moditemsetstaticdefaults\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#moditemsetstaticdefaults\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003eModItem.SetStaticDefaults()\u003c/code\u003e\n\u003c/h4\u003e\n\n\u003ch5\u003e\n\u003cspan id=\"bool-itemidsetsitemnogravityitemtype\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#bool-itemidsetsitemnogravityitemtype\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ebool \u003ccode\u003eItemID.Sets.ItemNoGravity[item.type]\u003c/code\u003e\n\u003c/h5\u003e\n\n\u003cp\u003e\u003ccode\u003etrue\u003c/code\u003eにするとアイテムを重力に逆らわなくできる。\u003cbr\u003e\nSoul of lightとかソウル系のアイテムやStardust Fragmentとかのフラグメント系アイテムみたいな感じ。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"moditemsetdefaults\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#moditemsetdefaults\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003eModItem.SetDefaults()\u003c/code\u003e\n\u003c/h4\u003e\n\n\u003ch5\u003e\n\u003cspan id=\"itemvalue--itemsellpriceplatinumcoin--0-goldcoin--0-silvercoin--0-coppercoin--0\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#itemvalue--itemsellpriceplatinumcoin--0-goldcoin--0-silvercoin--0-coppercoin--0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003eitem.value = Item.sellPrice([PlatinumCoin = 0], [GoldCoin = 0], [SilverCoin = 0], [CopperCoin = 0]);\u003c/code\u003e\n\u003c/h5\u003e\n\n\u003cp\u003eアイテムの価格は買う時と売る時によって値段が違う。(たしか5倍だっけかな)\u003cbr\u003e\n分かりづらいので\u003ccode\u003eItem.sellPrice()\u003c/code\u003eを使えば売る時の値段で価格指定ができる。\u003cbr\u003e\n何よりわかりやすい。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"moditemmodifytooltipslisttooltipline-tooltips\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#moditemmodifytooltipslisttooltipline-tooltips\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003eModItem.ModifyTooltips(List\u0026lt;TooltipLine\u0026gt; tooltips)\u003c/code\u003e\n\u003c/h4\u003e\n\n\u003cp\u003e\u003ccode\u003eTooltip.SetDeafults(\"\")\u003c/code\u003eで色付きのツールチップ(\u003ccode\u003e[c:ffff00:]\u003c/code\u003eって書くやつ)がなんか違和感だったり、\u003cbr\u003e\n(ほかのツールチップは少し色が変化する(明暗)のだが、\u003ccode\u003e[c:ff0000:]\u003c/code\u003eを使うとそのままの色になってしまう)\u003cbr\u003e\n任意の位置にツールチップを入れたいけど、なぜか最後に表示されてしまう\u003cbr\u003e\nと言うときに使うと便利。\u003cbr\u003e\n\u003cdel\u003eむしろ\u003ccode\u003eTooltip.SetDefaults(\"\")\u003c/code\u003eなんか使わないでこれ使え\u003c/del\u003e\u003c/p\u003e\n\n\u003cp\u003e不自然でない色付きのツールチップを追加する方法\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eModifyTooltips\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eList\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eTooltipLine\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003etooltips\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eTooltipLine\u003c/span\u003e \u003cspan class=\"n\"\u003eline\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eTooltipLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emod\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"(ツールチップ名)\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"(ツールチップの文章)\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eoverrideColor\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eColor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e255\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e255\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n    \u003cspan class=\"n\"\u003etooltips\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eline\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eアイテム名の下に任意のツールチップを表示させる方法\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eModifyTooltips\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eList\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eTooltipLine\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003etooltips\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eindex\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etooltips\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFindIndex\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etooltipLine\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003etooltipLine\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eEquals\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ItemName\"\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eindex\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"n\"\u003etooltips\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eInsert\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eindex\u003c/span\u003e\u003cspan class=\"p\"\u003e++,\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eTooltipLine\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emod\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"(ツールチップ名)\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"(文章)\"\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"moditempostdrawininventoryspritebatch-spritebatch-vector2-position-rectangle-frame-color-drawcolor-color-itemcolor-vector2-origin-float-scale\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#moditempostdrawininventoryspritebatch-spritebatch-vector2-position-rectangle-frame-color-drawcolor-color-itemcolor-vector2-origin-float-scale\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003eModItem.PostDrawInInventory(SpriteBatch spriteBatch, Vector2 position, Rectangle frame, Color drawColor, Color itemColor, Vector2 origin, float scale)\u003c/code\u003e\n\u003c/h4\u003e\n\n\u003cp\u003e回復アイテムを飲んだ時のバッテン印、あれを表示する方法がここにある。\u003c/p\u003e\n\n\u003cp\u003e大したものではないので、ここで共有するとしよう。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003ePostDrawInInventory\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eSpriteBatch\u003c/span\u003e \u003cspan class=\"n\"\u003espriteBatch\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eVector2\u003c/span\u003e \u003cspan class=\"n\"\u003eposition\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eRectangle\u003c/span\u003e \u003cspan class=\"n\"\u003eframe\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eColor\u003c/span\u003e \u003cspan class=\"n\"\u003edrawColor\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eColor\u003c/span\u003e \u003cspan class=\"n\"\u003eitemColor\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eVector2\u003c/span\u003e \u003cspan class=\"n\"\u003eorigin\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003escale\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eVector2\u003c/span\u003e \u003cspan class=\"n\"\u003eposition3\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eposition\u003c/span\u003e \u003cspan class=\"p\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eframe\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSize\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003escale\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eposition3\u003c/span\u003e \u003cspan class=\"p\"\u003e-=\u003c/span\u003e \u003cspan class=\"n\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecdTexture\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSize\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003einventoryScale\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e2f\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003espriteBatch\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eDraw\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecdTexture\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eposition3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eColor\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eWhite\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e0f\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eVector2\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"n\"\u003escale\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eSpriteEffects\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e0f\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e自作発言とか普通に好きではないが、実際バニラのコードを元に、tModLoader用に書ているだけなので\u003cbr\u003e\n使いますみたいな許可とか、クレジットに書く義務はない。(あったら嬉しいけどそこまでのものではない。)\u003c/p\u003e\n\n\u003cp\u003eクレジットに書かなくていい代わりに、\u003cstrong\u003eなぜこのようなコードなのか理解して使ってほしい。\u003c/strong\u003e\u003cbr\u003e\n趣味でプログラミングをやっている者だが、それは多分みんなにとって大切だと思うものなはずだから。\u003cbr\u003e\n\u003cstrong\u003eさぁ、ILSpy使って\u003ccode\u003eTerraria.ModLoader.ModItem.PostDrawInInventory\u003c/code\u003eから\u003ccode\u003eAnalyze\u003c/code\u003eの旅だ！\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003c/p\u003e\u003chr\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"modnpc\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#modnpc\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eModNPC\u003c/h3\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"bool-modnpcprenpcloot\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#bool-modnpcprenpcloot\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ebool \u003ccode\u003eModNPC.PreNPCLoot()\u003c/code\u003e\n\u003c/h4\u003e\n\n\u003cp\u003eここで\u003ccode\u003efalse\u003c/code\u003eを呼び出すと\u003ccode\u003eModNPC.NPCLoot()\u003c/code\u003eが呼ばれなくなる。\u003cbr\u003e\nボスはデフォルトでLesser Healing Potionを落とすため、それが嫌ならfalseを返すべし。\u003cbr\u003e\nただし、*** has been defeated!も表示されない上、ハートやスターも自分で落とす処理を書かなければならなくなる。\u003c/p\u003e\n\n\u003cp\u003e\u003c/p\u003e\u003chr\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"modprojectile-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#modprojectile-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eModProjectile\u003c/h3\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"projectileaistyle--1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#projectileaistyle--1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003eprojectile.aiStyle = 1;\u003c/code\u003e\n\u003c/h4\u003e\n\n\u003cp\u003eこれに関してだが、これを使うと数千行のコードを参照することになる。\u003cbr\u003e\n実はtModLoader wikiに5行程度で済むように書くことをお勧めしている(?)\u003cbr\u003e\n\u003ccode\u003eprojectile.aiStyle = -1;\u003c/code\u003eにして\u003cbr\u003e\n\u003ccode\u003eAI()\u003c/code\u003eに下のリンクにあるコードを書くといい。\u003cbr\u003e\n\u003ca href=\"https://github.com/tModLoader/tModLoader/wiki/Basic-Projectile#aistyle-1\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://github.com/tModLoader/tModLoader/wiki/Basic-Projectile#aistyle-1\u003c/a\u003e\u003cbr\u003e\n他のaiStyleに関しても同等のことが言えたりする。\u003cbr\u003e\nNPCのaiStyleも。\u003c/p\u003e\n\n\u003cp\u003e\u003c/p\u003e\u003chr\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"modplayer\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#modplayer\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eModPlayer\u003c/h3\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"bool-modplayerpreitemcheck\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#bool-modplayerpreitemcheck\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ebool \u003ccode\u003eModPlayer.PreItemCheck()\u003c/code\u003e\n\u003c/h4\u003e\n\n\u003cp\u003eバニラアイテムの挙動を変えたい時、場合によってはこれが必要になる。\u003cbr\u003e\nただし、とても面倒なうえ、そこまでやる必要があるか考えること。\u003cbr\u003e\nなるべくだったら違う手段を探した方がよい。 \u003cdel\u003eIL編集とか\u003c/del\u003e\u003cbr\u003e\n\u003ccode\u003ePlayer.ItemCheck()\u003c/code\u003eをtModLoader用に書き換え、不要な部分(\u003ccode\u003eif (item.type == x)\u003c/code\u003eなど)を削る必要がある。\u003c/p\u003e\n\n\u003cp\u003e\u003c/p\u003e\u003chr\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"globalnpc\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#globalnpc\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGlobalNPC\u003c/h3\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"globalnpceditspawnpoolidictionaryint-float-pool-npcspawninfo-spawninfo\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#globalnpceditspawnpoolidictionaryint-float-pool-npcspawninfo-spawninfo\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003eGlobalNPC.EditSpawnPool(IDictionary\u0026lt;int, float\u0026gt; pool, NPCSpawnInfo spawnInfo)\u003c/code\u003e\n\u003c/h4\u003e\n\n\u003cp\u003eExample Modにこの説明がなかったので\u003cbr\u003e\n使い方は\u003ccode\u003eModNPC.SpawnChance(NPCSpawnInfo spawnInfo)\u003c/code\u003eとほぼ同じ。\u003cbr\u003e\nif文やSpawnConditonを使いつつ、\u003cbr\u003e\n\u003ccode\u003epool[NPCID.～ または ModContent.NPCType\u0026lt;T\u0026gt;()] = SpawnCondition.～ * 0.2f;\u003c/code\u003e\u003cbr\u003e\nみたいな感じで使う。\u003cbr\u003e\n\u003ccode\u003epool[npc.type] = float\u003c/code\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003c/p\u003e\u003chr\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"modworld\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#modworld\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eModWorld\u003c/h3\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"modworldmodifyworldgentaskslistgenpass-tasks-ref-float-totalweight\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#modworldmodifyworldgentaskslistgenpass-tasks-ref-float-totalweight\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003eModWorld.ModifyWorldGenTasks(List\u0026lt;GenPass\u0026gt; tasks, ref float totalWeight)\u003c/code\u003e\n\u003c/h4\u003e\n\n\u003cp\u003eもう書くネタが多すぎますね。\u003c/p\u003e\n\n\u003ch5\u003e\n\u003cspan id=\"常套手段\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%B8%B8%E5%A5%97%E6%89%8B%E6%AE%B5\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e常套手段\u003c/h5\u003e\n\n\u003cp\u003eまず常套手段の書き方を置いておく\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eModifyWorldGenTasks\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eList\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eGenPass\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003etasks\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003etotalWeight\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eindex\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etasks\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFindIndex\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003egenPass\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003egenPass\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eEquals\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"shinies\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 地中に鉱石を埋めるならshiniesでよいが、場合によっては違うのを入れたりする。\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eindex\u003c/span\u003e \u003cspan class=\"p\"\u003e!=\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003etasks\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003einsert\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eindex\u003c/span\u003e\u003cspan class=\"p\"\u003e++,\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003ePassLegacy\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"(なんの処理か簡単に説明する)\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003edelegate\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eGenerationProgress\u003c/span\u003e \u003cspan class=\"n\"\u003eprogress\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eprogress\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eMessarge\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"(実際に表示されるプログレス名)\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n            \u003cspan class=\"c1\"\u003e//(処理)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}));\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e処理に関わるメソッドは\u003ccode\u003eWorldGen\u003c/code\u003eの項目や\u003ccode\u003eMain\u003c/code\u003eの項目を参照。\u003c/p\u003e\n\n\u003ch5\u003e\n\u003cspan id=\"カスタムワールド生成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%A0%E3%83%AF%E3%83%BC%E3%83%AB%E3%83%89%E7%94%9F%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eカスタムワールド生成\u003c/h5\u003e\n\n\u003cp\u003e\u003ccode\u003etasks\u003c/code\u003eに関してだが、\u003ccode\u003eList\u0026lt;GenPass\u0026gt;\u003c/code\u003eの意味がなんとなく分かるなら、もうカスタムでワールド生成コードを書くことができることに気付けるだろう。\u003cbr\u003e\n私は最近、スーパーフラットのようなワールド生成がかけるか試したところ、成功したので共有する。\u003c/p\u003e\n\n\u003cp\u003e実際、バニラのコードを見れば分かるのだが、\u003cbr\u003e\n\u003ccode\u003eReset\u003c/code\u003e, \u003ccode\u003eTerrain\u003c/code\u003e, \u003ccode\u003eSpawn Point\u003c/code\u003e, \u003ccode\u003eFinal Cleanup\u003c/code\u003eは最低限必要と見えるだろう\u003cbr\u003e\n私は怠惰なので\u003ccode\u003eReset\u003c/code\u003e, \u003ccode\u003eTerrain\u003c/code\u003e, \u003ccode\u003eTile Cleanup\u003c/code\u003e, \u003ccode\u003eFinal Cleanup\u003c/code\u003eを残しておいた。\u003cbr\u003e\nスポーンポイントの設定はそこまで複雑ではない。\u003c/p\u003e\n\n\u003cp\u003eさて、ぱっと見上手くいったように見えるのだが、もしかしたら何かが足りない可能性は十二分にある。\u003cbr\u003e\nこれから書くコードは推奨しないうえ、自己責任でお願いします。\u003cbr\u003e\nあと極力使わないでくれ。似たようなプロセスを得て、正しく実行できるプログラムならいいけど。\u003cbr\u003e\n\u003cdel\u003e正直使うならクレジットに書いてほしい気持ちがある。\u003c/del\u003e\u003c/p\u003e\n\n\u003cp\u003eさらに言うと、ここに載せるのはエラー処理などは書いていない。\u003cbr\u003e\nそのままコピペすればいずれ破滅するコードだ。\u003c/p\u003e\n\n\u003cp\u003e1 まず、必要最低限(だと思われる)のものをあらかじめ変数で引っこ抜いておく。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eModifyWorldGenTasks\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eList\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eGenPass\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003etasks\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003eref\u003c/span\u003e \u003cspan class=\"kt\"\u003efloat\u003c/span\u003e \u003cspan class=\"n\"\u003etotalWeight\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eindex\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etasks\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFindIndex\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003egenpass\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003egenpass\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eEquals\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Reset\"\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eGenPass\u003c/span\u003e \u003cspan class=\"n\"\u003ereset\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etasks\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eindex\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eindex\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etasks\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFindIndex\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003egenpass\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003egenpass\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eEquals\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Terrain\"\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eGenPass\u003c/span\u003e \u003cspan class=\"n\"\u003eterrain\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etasks\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eindex\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eindex\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etasks\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFindIndex\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003egenpass\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003egenpass\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eEquals\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Tile Cleanup\"\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eGenPass\u003c/span\u003e \u003cspan class=\"n\"\u003etileCleanup\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etasks\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eindex\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eindex\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etasks\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFindIndex\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003egenpass\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003egenpass\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eEquals\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Final Cleanup\"\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eGenPass\u003c/span\u003e \u003cspan class=\"n\"\u003efinal\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etasks\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eindex\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e//続きはここから\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e2 元のワールド生成を削除\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"n\"\u003etasks\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eClear\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e3 ResetとTerrainを追加\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"n\"\u003etasks\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ereset\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"n\"\u003etasks\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eterrain\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e4 スーパーフラット\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"n\"\u003etasks\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003ePassLegacy\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"SuperFlat\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003edelegate\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eGenerationProgress\u003c/span\u003e \u003cspan class=\"n\"\u003eprogress\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eprogress\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eMessarge\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Super Flat\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003emaxTilesX\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e++)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ej\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eworldSurface\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ej\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003emaxTilesY\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ej\u003c/span\u003e\u003cspan class=\"p\"\u003e++)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eWorldGen\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePlaceTile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ej\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eTileID\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDirt\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"c1\"\u003e//層ごとにタイル変えたいって? 自分で考えて... ここに書くのめんどくさいのよ...\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003emaxTilesX\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e++)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ej\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eworldSurface\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eWorldGen\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSpreadGrass\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ej\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 申し訳なさそうな程度の草生やすプロセス\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}));\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e5 スポーン地点\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"n\"\u003etasks\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003ePassLegacy\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"SetSpwanPointAlt\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003edelegate\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eGenerationProgress\u003c/span\u003e \u003cspan class=\"n\"\u003eprogress\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eprogress\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eMessarge\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Set Spawn Point\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003espawnTileX\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003emaxTilesX\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u003c/span\u003e \u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003espawnTileY\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"n\"\u003eMain\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eworldSurface\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e100\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e//多分-3じゃなくて-2程度がいいかも\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}));\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e6 Cleanup系統追加\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"n\"\u003etasks\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etileCleanup\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"n\"\u003etasks\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efinal\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e↓実際に生成した様子 (ここに載せたコードとは異なるが、やったことはほぼ一緒)\u003cbr\u003e\n\u003ca href=\"https://youtu.be/GeytP4mLqqE\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://youtu.be/GeytP4mLqqE\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eちなみにプロセスバーが進んでいない原因は不明。\u003cbr\u003e\nもしかしたら\u003ccode\u003etotalWeight\u003c/code\u003e使うのだろうけど分からないので\u003cbr\u003e\n誰か教えてくれ()\u003c/p\u003e\n\n\u003cp\u003e\u003c/p\u003e\u003chr\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"globaltile\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#globaltile\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGlobalTile\u003c/h3\u003e\n\n\u003cp\u003e\u003c/p\u003e\u003chr\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"worldgen\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#worldgen\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eWorldGen\u003c/h3\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"worldgenconvertint-i-int-j-int-conversiontype\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#worldgenconvertint-i-int-j-int-conversiontype\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003eWorldGen.Convert(int i, int j, int conversionType)\u003c/code\u003e\n\u003c/h4\u003e\n\n\u003cp\u003e\u003ccode\u003ei\u003c/code\u003e, \u003ccode\u003ej\u003c/code\u003eはブロック座標\u003cbr\u003e\n\u003ccode\u003econversionType\u003c/code\u003eは \u003ccode\u003e1\u003c/code\u003eで邪悪化 \u003ccode\u003e2\u003c/code\u003eで神聖化 \u003ccode\u003e4\u003c/code\u003eで真紅化\u003c/p\u003e\n\n\u003cp\u003e\u003c/p\u003e\u003chr\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"mainitem-mainprojectile-mainnpcなど\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#mainitem-mainprojectile-mainnpc%E3%81%AA%E3%81%A9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003eMain.item\u003c/code\u003e, \u003ccode\u003eMain.projectile\u003c/code\u003e, \u003ccode\u003eMain.npc\u003c/code\u003eなど\u003c/h3\u003e\n\n\u003cp\u003e\u003ccode\u003eMain\u003c/code\u003eは多すぎるので項目を分ける。\u003cbr\u003e\nここでは\u003ccode\u003eMain.item\u003c/code\u003eなどについて説明。\u003cbr\u003e\n\u003ccode\u003eMain.item\u003c/code\u003eや、\u003ccode\u003eMain.npc\u003c/code\u003e、\u003ccode\u003eMain.projectile\u003c/code\u003eは\u003ccode\u003eSetDefaults\u003c/code\u003eしたものを入れている配列ではない。\u003cbr\u003e\n\u003ccode\u003eMain.item\u003c/code\u003eは地面に落ちているアイテムの配列。\u003cbr\u003e\n\u003ccode\u003eMain.projectile\u003c/code\u003eはフレーム内に存在する発射体の配列\u003cbr\u003e\n\u003ccode\u003eMain.npc\u003c/code\u003eはフレーム内に存在するNPCの配列である。\u003cbr\u003e\nあくまでゲーム内の情報を表すので\u003cbr\u003e\nバニラアイテムの挙動を変えるなどは、\u003ccode\u003eGlobal\u003c/code\u003e系を継承しよう。\u003c/p\u003e\n\n\u003cp\u003e\u003c/p\u003e\u003chr\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"net関係\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#net%E9%96%A2%E4%BF%82\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eNet関係\u003c/h3\u003e\n\n\u003cp\u003e\u003cstrong\u003eこれまじで分からん。\u003c/strong\u003e\u003cbr\u003e\n\u003ccode\u003eNetMesseage.SendData()\u003c/code\u003eなどでマルチプレイ時のデータのやり取りを行うらしいが...\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003e分からん。\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003e勉強して分かり次第追記していこう。\u003c/p\u003e\n\n\u003cp\u003e\u003c/p\u003e\u003chr\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"vanilla-item-info\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#vanilla-item-info\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eVanilla Item Info\u003c/h3\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"recipe\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#recipe\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eRecipe\u003c/h4\u003e\n\n\u003cp\u003e\u003cstrong\u003eピッケル = 木材x4 + 何らかの素材x12\u003c/strong\u003e\u003cbr\u003e\n1.4では8個にコストが下がった\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"value\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#value\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eValue\u003c/h4\u003e\n\n\u003cp\u003e\u003cstrong\u003eインゴット(Bar) と 鉱石(Ore)の価格は クラフト前と後では変わらない\u003c/strong\u003e\u003cbr\u003e\n鉱石1個当たりの価格 * インゴットにするに必要な数 = その鉱石のインゴット(1個)の価格\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"rarity\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#rarity\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eRarity\u003c/h4\u003e\n\n\u003cp\u003e\u003c/p\u003e\u003chr\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"エラー対処法\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A8%E3%83%A9%E3%83%BC%E5%AF%BE%E5%87%A6%E6%B3%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eエラー対処法\u003c/h3\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"systemioioexception\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#systemioioexception\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eSystem.IO.IOException\u003c/h4\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eエラーメッセージ\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e[(時間)] [13/ERROR] [tML]: 別のプロセスで使用されているため、プロセスはファイル 'C:\\Users\\(ユーザー名)\\Documents\\My Games\\Terraria\\ModLoader\\Mods\\(Mod名).tmod' にアクセスできません。\nSystem.IO.IOException: 別のプロセスで使用されているため、プロセスはファイル 'C:\\Users\\(ユーザー名)\\Documents\\My Games\\Terraria\\ModLoader\\Mods\\(Mod名).tmod' にアクセスできません。\n   場所 System.IO.__Error.WinIOError(Int32 errorCode, String maybeFullPath)\n   場所 System.IO.FileStream.Init(String path, FileMode mode, FileAccess access, Int32 rights, Boolean useRights, FileShare share, Int32 bufferSize, FileOptions options, SECURITY_ATTRIBUTES secAttrs, String msgPath, Boolean bFromProxy, Boolean useLongPath, Boolean checkHost)\n   場所 System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize)\n   場所 Terraria.ModLoader.Core.TmodFile.Save()\n   場所 Terraria.ModLoader.Core.ModCompile.Build(BuildingMod mod)\n   場所 Terraria.ModLoader.Core.ModCompile.Build(String modFolder)\n   場所 Terraria.ModLoader.UI.UIBuildMod.\u0026lt;\u0026gt;c__DisplayClass5_0.\u0026lt;Build\u0026gt;b__0(ModCompile mc)\n   場所 Terraria.ModLoader.UI.UIBuildMod.BuildMod(Action`1 buildAction, Boolean reload)\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eビルド時にこのようなエラーが発生した場合は\u003cbr\u003e\n\u003ccode\u003eMod\u003c/code\u003eクラスを継承している(Mod)ファイルを見よう。\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003eMod.Close()\u003c/code\u003eをオーバーライドしている場合、\u003cbr\u003e\nメソッド内に\u003ccode\u003ebase.Close();\u003c/code\u003eが無いと正しくModが閉じられないので注意。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"C#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eMod\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eTerraria.ModLoader\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003enamespace\u003c/span\u003e \u003cspan class=\"nn\"\u003eMyMod\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eMyMod\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eMod\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"nf\"\u003eClose\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e// なんかの処理\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ebase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eClose\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 必須\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e\u003c/p\u003e\u003chr\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"役に立つサイト集\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%BD%B9%E3%81%AB%E7%AB%8B%E3%81%A4%E3%82%B5%E3%82%A4%E3%83%88%E9%9B%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e役に立つサイト集\u003c/h3\u003e\n\n\u003cp\u003e↓ tModLoader Github 公式 wiki\u003cbr\u003e\n\u003ca href=\"https://github.com/tModLoader/tModLoader/wiki\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://github.com/tModLoader/tModLoader/wiki\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e↓ Terraria Official Wiki ItemID\u003cbr\u003e\n\u003ca href=\"https://terraria.fandom.com/wiki/Item_IDs\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://terraria.fandom.com/wiki/Item_IDs\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e↓ Terraria Officaial Wiki TileID\u003cbr\u003e\n\u003ca href=\"https://terraria.fandom.com/wiki/Tile_IDs\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://terraria.fandom.com/wiki/Tile_IDs\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e↓ Terraria Officaial Wiki ProjectileID\u003cbr\u003e\n\u003ca href=\"https://terraria.fandom.com/wiki/Projectile_IDs\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://terraria.fandom.com/wiki/Projectile_IDs\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e↓ Terraria Officaial Wiki NPCID\u003cbr\u003e\n\u003ca href=\"https://terraria.fandom.com/wiki/NPC_IDs\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://terraria.fandom.com/wiki/NPC_IDs\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e↓ Terraria Officaial Wiki BuffID\u003cbr\u003e\n\u003ca href=\"https://terraria.fandom.com/wiki/Buff_IDs\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://terraria.fandom.com/wiki/Buff_IDs\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e↓ Terraria AmmoID (tModLoader 公式wikiより)\u003cbr\u003e\n\u003ca href=\"https://github.com/tModLoader/tModLoader/wiki/Vanilla-Ammo-IDs\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://github.com/tModLoader/tModLoader/wiki/Vanilla-Ammo-IDs\u003c/a\u003e\u003c/p\u003e\n","createdAt":"2021-06-10T02:31:50Z","elapsedYearsFromLastModifiedAt":0,"encryptedId":"W7RFQ0s4vq5vuxl97X59qFkWz/VS1lhvrg==--Tpht73ATPYBAl+3a--2dPBIGnMtqtUl9mYFHzQuQ==","isBanned":false,"isDeprecated":false,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":true,"lastModifiedAt":"2021-06-30T23:39:32Z","likesCount":1,"linkUrl":"https://qiita.com/FN_Programming/items/616e0a23341c4d628aef","organization":null,"originalId":1446964,"stockedCount":0,"title":"tModLoader ちょこっとリファレンス","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%AA%E3%81%AB%E3%81%9D%E3%82%8C\"\u003eなにそれ？\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#tmodloader-%E3%81%A1%E3%82%87%E3%81%93%E3%81%A3%E3%81%A8%E3%83%AA%E3%83%95%E3%82%A1%E3%83%AC%E3%83%B3%E3%82%B9\"\u003etModLoader ちょこっとリファレンス\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#mod\"\u003eMod\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#modload\"\u003eMod.Load()\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#modpostsetupcontent\"\u003eMod.PostSetupContent()\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#netmessage%E9%96%A2%E4%BF%82\"\u003eNetMessage関係\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#mainnetmode\"\u003eMain.netMode\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#moditem\"\u003eModItem\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#modprojectile\"\u003eModProjectile\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#moditem-1\"\u003eModItem\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#moditemsetstaticdefaults\"\u003eModItem.SetStaticDefaults()\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#bool-itemidsetsitemnogravityitemtype\"\u003ebool ItemID.Sets.ItemNoGravity[item.type]\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#moditemsetdefaults\"\u003eModItem.SetDefaults()\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#itemvalue--itemsellpriceplatinumcoin--0-goldcoin--0-silvercoin--0-coppercoin--0\"\u003eitem.value = Item.sellPrice([PlatinumCoin = 0], [GoldCoin = 0], [SilverCoin = 0], [CopperCoin = 0]);\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#moditemmodifytooltipslisttooltipline-tooltips\"\u003eModItem.ModifyTooltips(List\u0026lt;TooltipLine\u0026gt; tooltips)\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#moditempostdrawininventoryspritebatch-spritebatch-vector2-position-rectangle-frame-color-drawcolor-color-itemcolor-vector2-origin-float-scale\"\u003eModItem.PostDrawInInventory(SpriteBatch spriteBatch, Vector2 position, Rectangle frame, Color drawColor, Color itemColor, Vector2 origin, float scale)\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#modnpc\"\u003eModNPC\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#bool-modnpcprenpcloot\"\u003ebool ModNPC.PreNPCLoot()\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#modprojectile-1\"\u003eModProjectile\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#projectileaistyle--1\"\u003eprojectile.aiStyle = 1;\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#modplayer\"\u003eModPlayer\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#bool-modplayerpreitemcheck\"\u003ebool ModPlayer.PreItemCheck()\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#globalnpc\"\u003eGlobalNPC\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#globalnpceditspawnpoolidictionaryint-float-pool-npcspawninfo-spawninfo\"\u003eGlobalNPC.EditSpawnPool(IDictionary\u0026lt;int, float\u0026gt; pool, NPCSpawnInfo spawnInfo)\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#modworld\"\u003eModWorld\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#modworldmodifyworldgentaskslistgenpass-tasks-ref-float-totalweight\"\u003eModWorld.ModifyWorldGenTasks(List\u0026lt;GenPass\u0026gt; tasks, ref float totalWeight)\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%B8%B8%E5%A5%97%E6%89%8B%E6%AE%B5\"\u003e常套手段\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%A0%E3%83%AF%E3%83%BC%E3%83%AB%E3%83%89%E7%94%9F%E6%88%90\"\u003eカスタムワールド生成\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#globaltile\"\u003eGlobalTile\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#worldgen\"\u003eWorldGen\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#worldgenconvertint-i-int-j-int-conversiontype\"\u003eWorldGen.Convert(int i, int j, int conversionType)\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#mainitem-mainprojectile-mainnpc%E3%81%AA%E3%81%A9\"\u003eMain.item, Main.projectile, Main.npcなど\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#net%E9%96%A2%E4%BF%82\"\u003eNet関係\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#vanilla-item-info\"\u003eVanilla Item Info\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#recipe\"\u003eRecipe\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#value\"\u003eValue\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#rarity\"\u003eRarity\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%A8%E3%83%A9%E3%83%BC%E5%AF%BE%E5%87%A6%E6%B3%95\"\u003eエラー対処法\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#systemioioexception\"\u003eSystem.IO.IOException\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%BD%B9%E3%81%AB%E7%AB%8B%E3%81%A4%E3%82%B5%E3%82%A4%E3%83%88%E9%9B%86\"\u003e役に立つサイト集\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n","totalPv":533,"uuid":"616e0a23341c4d628aef","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"IMN7KgpI/SkpIPmh8OH4Q+NrpRjy--lp+Snsu5DLRvPM/B--CfVAcgZqt2k4VvnWGaDutA==","originalId":298601,"description":"趣味でプログラミングをしている者です。C#(Unity, tModLoader), Lua[MoonSharp](CYF(Unitale))をメインに\r\n趣味程度にやっているので間違いがあったり、効率悪い書き方しているかもしれません。","facebookUrl":null,"githubUrl":null,"isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"どこぞの フェネック","profileImageUrl":"https://qiita-image-store.s3.amazonaws.com/0/298601/profile-images/1538747819","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F298601%2Fprofile-images%2F1538747819?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=76659fa6302ec9e6ca026faa88cc4a98","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F298601%2Fprofile-images%2F1538747819?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=90c649a9437e9a6f52884106c390d1ed","urlName":"FN_Programming","websiteUrl":"","twitterUrl":null,"twitterUrlName":null,"revealedOrganizations":{"edges":[]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"Terraria","urlName":"terraria"},{"name":"tModLoader","urlName":"tmodloader"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
