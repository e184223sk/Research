<!DOCTYPE html><html><head><meta charset="utf-8" /><title>Azure Bot Serviceを使ってFAQBotを公開までの備忘録 - Qiita</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><meta content="telephone=no" name="format-detection" /><link rel="canonical" href="https://qiita.com/usomaru/items/40731858a561cad4b7b9" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link as="script" href="https://www.googletagservices.com/tag/js/gpt.js" rel="preload" /><link href="https://securepubads.g.doubleclick.net" rel="preconnect" /><script async="" src="https://www.googletagservices.com/tag/js/gpt.js"></script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="wXpEayI7WI2D29c81Si9RjxHr7R2XiMQzy9XieRj4+2kzGpvdbH5WDudEK6XcB+ja7XM9/s2sdfnDI55GHexdg==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-c620d3e403342b1022967ba5e3db1aaa.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-ec5ba42a24ae923f16825592efdc356f.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/article-2eaa7dbedc42a8ea65c722cda46d0ebb.min.css" /><script src="https://cdn.qiita.com/assets/public/v3-article-bundle-63de2d91fef827269d3f6b958db2335b.min.js" defer="defer"></script><meta name="twitter:card" content="summary_large_image"><meta content="@Qiita" name="twitter:site" /><meta content="@usomaru26" name="twitter:creator" /><meta property="og:type" content="article"><meta property="og:title" content="Azure Bot Serviceを使ってFAQBotを公開までの備忘録 - Qiita"><meta property="og:image" content="https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0&amp;w=1200&amp;mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1RWHAxY21VZ1FtOTBJRk5sY25acFkyWGpncExrdmJfamdhUGpnYVpHUVZGQ2IzVGpncExsaGF6cGxvdmpnYjdqZ2FmamdhN2xncG5sdjVqcGpMSSZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTU0JnR4dC1jbGlwPWVsbGlwc2lzJnR4dC1hbGlnbj1jZW50ZXIlMkNtaWRkbGUmcz1lNjAwZGQzMmY1YjE4ZTI0ZGU4ZjIwY2VkY2I4YzBkOQ&amp;mark-align=center%2Cmiddle&amp;blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RSFZ6YjIxaGNuVSZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPWU3YWM5OGZmOThmZTU3YzhjYTQxZjFlOWFlMzBiN2U5&amp;blend-align=center%2Cmiddle&amp;blend-mode=normal&amp;s=c3af582d50cbc5d669f2d3bf905dfdb9"><meta property="og:description" content="

はじめに

BotFrameWorkを使ってFAQBotを作ってみました。
Azureを使ったBotを公開する方法が二通りあったので、その時の備忘録。


環境


Visual Studio 2017 Professional(..."><meta content="https://qiita.com/usomaru/items/40731858a561cad4b7b9" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><meta content="C#,Azure,BotFramework,QnAMaker" name="keywords" /><script>!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '668972150489891');
fbq('track', 'PageView');</script><style data-emotion-css="17jxvjw 11t2ec1 1dvr2p8 18lkoru 1g4cku8 1iupg5d ijvq0v 15cocm3 12rp90f 115f4t 1b8uj5v 79elbk 16hhh7b fcbn8c 1gj7nt 154zy0m yikrym 1jqivyb 1ode1bp le4d8r 1hbd3g7 1nzh4zz 38fzdi helsa7 8qb8m4 2imjyh he5w1s 70qvj9 3ojehk 100alwu 1dtnjt5 10ougpm 1ay9vb9 m19uds cgzq40 1wa99t2 1l3zk9f 4czcte 1yzj1fm 1uv1qiv 109dbrr 5jpx49 mnxgyc 1vlpknv fsjkhv 1b17vb0 7i7f4d"}>.css-17jxvjw{display:grid;display:-ms-grid;grid-template-columns:80px minmax(0,1fr) 300px;-ms-grid-columns:80px minmax(0,1fr) 300px;grid-template-rows:minmax(270px,auto) 1fr;-ms-grid-rows:minmax(270px,auto) 1fr;max-width:1280px;margin-right:auto;margin-left:auto;padding-top:24px;padding-right:24px;padding-left:24px;}@media (max-width:1200px){.css-17jxvjw{padding-bottom:0;padding-left:0;padding-right:0;}}@media (max-width:992px){.css-17jxvjw{grid-template-columns:80px 452px 300px;-ms-grid-columns:80px 452px 300px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}@media (max-width:770px){.css-17jxvjw{display:block;}}@media (max-width:480px){.css-17jxvjw{padding-top:0;}}.css-11t2ec1{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:5;position:-webkit-sticky;position:sticky;top:calc(56px + 24px + 16px + 32px - 16px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:16px;width:80px;}.css-11t2ec1:after{content:'';display:table;}.css-11t2ec1:before{content:'';display:table;}@media (max-width:770px){.css-11t2ec1{display:none;}}.css-1dvr2p8{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-18lkoru{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;background-color:#FFFFFF;}.css-1g4cku8{display:inline-block;vertical-align:middle;height:20px;width:20px;fill:#55C500;}.css-1iupg5d{color:#55C500;cursor:pointer;font-size:14px;font-weight:bold;}.css-ijvq0v{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;margin-bottom:16px;}.css-15cocm3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#FFFFFF;border:2px solid #6E6F70;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:2px 0px 0px;width:40px;}.css-12rp90f{display:inline-block;vertical-align:bottom;height:17.77777777777778px;width:16px;fill:#6E6F70;}.css-115f4t{color:#6E6F70;font-size:14px;font-weight:bold;}.css-1b8uj5v{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;margin-bottom:16px;padding:0;}.css-79elbk{position:relative;}.css-16hhh7b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;font-size:20px;height:32px;outline:none;width:32px;padding:0;}.css-fcbn8c{display:none;bottom:initial;left:initial;right:initial;top:initial;left:100%;top:calc(-8px - (14px * 1.8) - 16px - 4px);}.css-1gj7nt{color:rgba(0,0,0,0.6);font-size:14px;font-weight:bold;line-height:1.8;padding:8px 16px;}.css-154zy0m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.87);cursor:pointer;font-size:16px;font-weight:normal;line-height:1.8;padding:4px 16px;}.css-154zy0m:hover{-webkit-text-decoration:none;text-decoration:none;background-color:#F2F2F2;}.css-yikrym{width:20px;}.css-1jqivyb{color:rgba(0,0,0,0.6);font-size:13px;}.css-1ode1bp{background-color:rgba(0,0,0,0.12);height:1px;width:100%;margin:8px 0;}.css-le4d8r{display:inline-block;vertical-align:middle;height:13px;width:13px;fill:rgba(0,0,0,0.6);}.css-1hbd3g7{height:250px;}.css-1nzh4zz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:16px 32px;background-color:#FBE69E;color:rgba(0,0,0,0.87);line-height:1.5;font-weight:600;}@media (max-width:770px){.css-1nzh4zz{padding:16px;}}.css-38fzdi{color:#CA832A;margin-right:4px;}.css-helsa7{background-color:#FFFFFF;padding:32px;margin-bottom:24px;}@media (max-width:992px){.css-helsa7{margin:0 auto 40px;}}@media (max-width:480px){.css-helsa7{margin:0 0 40px;padding:32px 16px;}}.css-8qb8m4{margin-bottom:48px;}.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-he5w1s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}@media (max-width:770px){.css-he5w1s{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-3ojehk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:4px;}.css-100alwu{display:inline-block;border-radius:50%;line-height:1;overflow:hidden;vertical-align:middle;}.css-1dtnjt5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-10ougpm{color:rgba(0,0,0,0.87);font-size:14px;font-weight:600;line-height:1.8;margin-right:4px;text-wrap:break-word;word-break:break-all;}.css-1ay9vb9{margin-right:16px;}.css-m19uds{color:rgba(0,0,0,0.6);font-size:14px;line-height:1.8;}.css-cgzq40{color:rgba(0,0,0,0.87);font-size:32px;font-weight:bold;line-height:1.4;margin-top:8px;text-wrap:break-word;word-break:break-all;}.css-1wa99t2{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,0.6);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:8px;}.css-1l3zk9f{color:rgba(0,0,0,0.6);font-size:20px;margin-right:8px;}.css-4czcte{margin-right:4px;color:inherit;font-size:14px;line-height:1.8;}.css-4czcte:not(:last-child)::after{content:',';margin-right:4px;}.css-1yzj1fm{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:32px;}.css-1uv1qiv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#6E6F70;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:20px;height:32px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:16px;outline:none;padding:0;width:32px;}.css-109dbrr{background-color:#F9F9F9;border-top:1px solid rgba(0,0,0,0.12);bottom:0;box-shadow:0px 1px 4px rgba(0,0,0,0.14);display:none;height:calc(env(safe-area-inset-bottom,0px) + 56px);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:env(safe-area-inset-bottom);position:-webkit-sticky;position:sticky;width:100%;z-index:2000;}@media (max-width:770px){.css-109dbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-5jpx49{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;width:100%;}.css-mnxgyc{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1vlpknv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:2px solid #55C500;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:0;width:40px;margin-right:4px;background-color:#FFFFFF;}.css-fsjkhv{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}.css-1b17vb0{color:#6E6F70;font-size:14px;font-weight:bold;margin-left:4px;}.css-7i7f4d{display:none;bottom:initial;left:initial;right:initial;top:initial;bottom:32px;right:0;}</style></head><body><div class="allWrapper"><div><div id="GlobalHeader-react-component-4464f57c-b919-4fcf-9bf4-657d4a9a7748"><div class="st-Header"><div class="st-Header_container"><div class="st-Header_start"><a href="/" class="st-Header_logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 426.57 130"><circle cx="167.08" cy="21.4" r="12.28"></circle><path d="M250.81 29.66h23.48v18.9h-23.48z"></path><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z"></path><circle cx="216.33" cy="21.4" r="12.28"></circle></svg></a><div class="st-Header_communitySelector" tabindex="0"><span class="fa fa-caret-down"></span></div><div class="st-Header_dropdown"><div class="st-Header_dropdownHeading">Qiita Teams that are logged in</div><div class="st-Header_dropdownItemNote">You are not logged in to any team</div><hr class="st-Header_dropdownDivider st-Header_dropdownDivider-shrink"/><a href="https://teams-center.qiita.com/find_team" class="st-Header_dropdownItem"><span class="fa fa-fw fa-sign-in st-Header_dropdownItemIcon"></span><div>Log in to Qiita Team</div></a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Community</div><a href="/organizations" class="st-Header_dropdownItem">Organization</a><a href="/official-events/open" class="st-Header_dropdownItem">Event</a><a href="/advent-calendar" class="st-Header_dropdownItem">Advent Calendar</a><a href="https://qiitadon.com/" class="st-Header_dropdownItem" target="_blank">Qiitadon (β)</a><div class="st-Header_dropdownDivider"></div><div class="st-Header_dropdownHeading">Service</div><a href="https://jobs.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Jobs</a><a href="https://zine.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Zine</a><a href="https://blog.qiita.com/?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=header" class="st-Header_dropdownItem" target="_blank">Qiita Blog</a></div><form class="st-Header_search" action="/search" method="get"><span class="fa fa-search st-Header_searchIcon"></span><input type="search" class="st-Header_searchInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form><form class="st-Header_searchModal" action="/search" method="get"><input type="text" class="st-Header_searchModalInput" autoComplete="off" placeholder="Search" value="" name="q" required=""/></form></div><div class="st-Header_end"><div class="st-Header_searchButton"><span class="fa fa-search"></span></div><a class="st-Header_signupButton" href="/signup?redirect_to=%2Fusomaru%2Fitems%2F40731858a561cad4b7b9">Signup</a><a class="st-Header_loginLink" href="/login?redirect_to=%2Fusomaru%2Fitems%2F40731858a561cad4b7b9">Login</a></div><div class="st-Header_overlay"></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeader" data-dom-id="GlobalHeader-react-component-4464f57c-b919-4fcf-9bf4-657d4a9a7748">{"unreadNotificationsCount":null,"realms":[{"humanName":"Qiita","isCurrentRealm":true,"isQiita":true,"isQiitaTeam":false,"loggedInUser":null,"teamId":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","isTeamOnlyUser":null,"currentUser":null}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/csharp","name":"C#"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","datePublished":"2018-02-09T17:01:00.000+09:00","dateModified":"2018-02-09T17:01:00.000+09:00","headline":"Azure Bot Serviceを使ってFAQBotを公開までの備忘録","image":"https://qiita-user-contents.imgix.net/https%3A%2F%2Fcdn.qiita.com%2Fassets%2Fpublic%2Farticle-ogp-background-1150d8b18a7c15795b701a55ae908f94.png?ixlib=rb-4.0.0\u0026w=1200\u0026mark64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTM4MCZ0eHQ2ND1RWHAxY21VZ1FtOTBJRk5sY25acFkyWGpncExrdmJfamdhUGpnYVpHUVZGQ2IzVGpncExsaGF6cGxvdmpnYjdqZ2FmamdhN2xncG5sdjVqcGpMSSZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTU0JnR4dC1jbGlwPWVsbGlwc2lzJnR4dC1hbGlnbj1jZW50ZXIlMkNtaWRkbGUmcz1lNjAwZGQzMmY1YjE4ZTI0ZGU4ZjIwY2VkY2I4YzBkOQ\u0026mark-align=center%2Cmiddle\u0026blend64=aHR0cHM6Ly9xaWl0YS11c2VyLWNvbnRlbnRzLmltZ2l4Lm5ldC9-dGV4dD9peGxpYj1yYi00LjAuMCZ3PTg0MCZoPTUwMCZ0eHQ2ND1RSFZ6YjIxaGNuVSZ0eHQtY29sb3I9JTIzMzMzJnR4dC1mb250PUhpcmFnaW5vJTIwU2FucyUyMFc2JnR4dC1zaXplPTQ1JnR4dC1hbGlnbj1yaWdodCUyQ2JvdHRvbSZzPWU3YWM5OGZmOThmZTU3YzhjYTQxZjFlOWFlMzBiN2U5\u0026blend-align=center%2Cmiddle\u0026blend-mode=normal\u0026s=c3af582d50cbc5d669f2d3bf905dfdb9","mainEntityOfPage":"https://qiita.com/usomaru/items/40731858a561cad4b7b9","author":{"@type":"Person","address":"","email":null,"identifier":"usomaru","name":"usomaru","image":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fprofile-images%2F1505265858?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=5c137ccffd7251180e0fce53b5740e96","url":"https://qiita.com/usomaru","description":"開発歴5年目。ほんの少し成長を感じるこの頃。主にAngular、.Netで開発。趣味でpythonを少々。Azureも使ったり。","memberOf":[]},"publisher":{"@type":"Organization","name":"Qiita","logo":{"@type":"ImageObject","url":"//cdn.qiita.com/assets/public/qiita-logo-c39ded593afa388e2e1ba435b110554e.png"}}}</script><style type="text/css">.wb-CampaignLink {
  background-color: #333333;
  width: 100%;
}

.wb-CampaignLink_container {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  max-width: 1100px;
  margin: 0 auto;
  font-size: 13px;
  padding: 0.8em;
}
.wb-CampaignLink_container > a {
  color: #fff;
}

.wb-CampaignLink_container > a:hover {
  text-decoration: underline;
}</style><div class="wb-CampaignLink"><div class="wb-CampaignLink_container"><a target="_blank" id="header_text_message_1" href="https://zine.qiita.com/interview/202106-uzabase-3/">バリューフィットを大切にするユーザベースの「The 7 Values」とは？</a><a target="_blank" id="header_text_message_2" href="https://zine.qiita.com/interview/202106-uzabase-3/">詳しくはこちら</a></div><script>td.trackEvent(
  'front_events',
  {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"usomaru","type":"items","id":"40731858a561cad4b7b9"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Show","data":{"message":"バリューフィットを大切にするユーザベースの「The 7 Values」とは？","url":"https://zine.qiita.com/interview/202106-uzabase-3/","sub_message":"詳しくはこちら"}}
)</script><script>document.getElementById('header_text_message_1').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"usomaru","type":"items","id":"40731858a561cad4b7b9"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":2,"pos_id":"header_text_message_1","message":"バリューフィットを大切にするユーザベースの「The 7 Values」とは？","url":"https://zine.qiita.com/interview/202106-uzabase-3/","sub_message":"詳しくはこちら"}}
  )
})</script><script>document.getElementById('header_text_message_2').addEventListener('click', function() {
  td.trackEvent(
    'front_events',
    {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"usomaru","type":"items","id":"40731858a561cad4b7b9"},"user_id":null,"event_category":"Header Text Ads Banner","event_action":"Click","data":{"index":2,"pos_id":"header_text_message_2","message":"バリューフィットを大切にするユーザベースの「The 7 Values」とは？","url":"https://zine.qiita.com/interview/202106-uzabase-3/","sub_message":"詳しくはこちら"}}
  )
})</script></div><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","href":"https://qiita.com/usomaru/items/40731858a561cad4b7b9","location":"/usomaru/items/40731858a561cad4b7b9","scheme":"https","host":"qiita.com","port":null,"pathname":"/usomaru/items/40731858a561cad4b7b9","search":null,"httpAcceptLanguage":null,"actionPath":"public/items#show","settings":{"analyticsTrackingId":"UA-24675221-12","assetsMap":{},"csrfToken":"p39boeV3dnvNmTE2L4zhfXKdm265xWVhR9OsHr6yUjLCyXWlsv3XrnXf9qRt1EOYJW/4LTSt96Zv8HXuQqYAqQ==","locale":"en"},"currentUser":null,"isLoggedIn":false,"recaptchaSiteKey":"6LfNkiQTAAAAAM3UGnSquBy2akTITGNMO_QDxMw6","serverSide":false}</script>
<div id="PersonalArticlePage-react-component-d2da18d9-c060-4464-a4c0-f770305f62b0"><div class="p-items_wrapper"><div class=" css-17jxvjw"><div class="css-11t2ec1"><div class="css-1dvr2p8"><button class=" css-18lkoru"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/usomaru/items/40731858a561cad4b7b9/likers" class="css-1iupg5d">14</a></div><div class="css-ijvq0v"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-115f4t">18</span></div><div class="css-1b8uj5v"><span class="fa fa-twitter"></span></div><div class="css-1b8uj5v"><span class="fa fa-facebook"></span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-fcbn8c"><div class="css-1gj7nt">Improve article</div><a href="/drafts/40731858a561cad4b7b9/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/usomaru/items/40731858a561cad4b7b9/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/usomaru/items/40731858a561cad4b7b9/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/usomaru/items/40731858a561cad4b7b9/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/usomaru/items/40731858a561cad4b7b9.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div><div class="p-items_options"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_toc"><div class="mt-2"><div class="css-1hbd3g7"></div></div></div><div class="p-items_main"><div class="css-1nzh4zz"><span class="fa fa-fw fa-warning css-38fzdi"></span><p>More than 3 years have passed since last update.</p></div><div class="css-helsa7"><div class="css-8qb8m4"><div class="css-2imjyh"><div class="css-he5w1s"><div class="css-70qvj9"><div class="css-3ojehk"><a href="/usomaru"><img class="css-100alwu eyfquo10" src="https://qiita-image-store.s3.amazonaws.com/0/201826/profile-images/1505265858" width="24" height="24" loading="lazy"/></a></div><div class="css-1dtnjt5"><a href="/usomaru" class="css-10ougpm">@<!-- -->usomaru</a><div class="css-1ay9vb9"><time dateTime="2018-02-09T08:01:00Z" class="css-m19uds">posted at 2018-02-09</time></div></div></div></div></div><h1 class="css-cgzq40">Azure Bot Serviceを使ってFAQBotを公開までの備忘録</h1><div class="css-1wa99t2"><span class="fa fa-tags mr-1of2 css-1l3zk9f" aria-hidden="true"></span><a href="/tags/csharp" class="css-4czcte">C#</a><a href="/tags/azure" class="css-4czcte">Azure</a><a href="/tags/botframework" class="css-4czcte">BotFramework</a><a href="/tags/qnamaker" class="css-4czcte">QnAMaker</a></div></div><section class="it-MdContent"><div id="personal-public-article-body"><div>
<h1>
<span id="はじめに" class="fragment"></span><a href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB"><i class="fa fa-link"></i></a>はじめに</h1>

<p>BotFrameWorkを使ってFAQBotを作ってみました。<br>
Azureを使ったBotを公開する方法が二通りあったので、その時の備忘録。</p>

<h1>
<span id="環境" class="fragment"></span><a href="#%E7%92%B0%E5%A2%83"><i class="fa fa-link"></i></a>環境</h1>

<ul>
<li>Visual Studio 2017 Professional(Communityでも大丈夫らしい)

<ul>
<li>言語：C#</li>
</ul>
</li>
<li>Azureサブスクリプション</li>
</ul>

<h1>
<span id="azureのweb-app-botとqnamakerを使って作成" class="fragment"></span><a href="#azure%E3%81%AEweb-app-bot%E3%81%A8qnamaker%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E4%BD%9C%E6%88%90"><i class="fa fa-link"></i></a>AzureのWeb App BotとQnAMakerを使って作成</h1>

<h2>
<span id="azureのweb-app-botを設定" class="fragment"></span><a href="#azure%E3%81%AEweb-app-bot%E3%82%92%E8%A8%AD%E5%AE%9A"><i class="fa fa-link"></i></a>AzureのWeb App Botを設定</h2>

<p>Azureのマイページから、新規 → AI+Cognitive Services → Web App Botをクリック</p>

<p>　　<a href="https://camo.qiitausercontent.com/1d8fa51f5c68e677dfc1f8a04030ad5e42881df6/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f65366364653261642d663366322d303264322d623434612d3231363032396264313162362e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fe6cde2ad-f3f2-02d2-b44a-216029bd11b6.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=76bc5b2510e596c2293d13bfae82edba" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/201826/e6cde2ad-f3f2-02d2-b44a-216029bd11b6.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fe6cde2ad-f3f2-02d2-b44a-216029bd11b6.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=c91d1243676daa3f04ec02b25ffe76e7 1x" loading="lazy"></a></p>

<p>必須情報を入力していきます</p>

<p>　　<a href="https://camo.qiitausercontent.com/5b3fbdd022576d8a7a71a0de9f3925aa4f0d7fcc/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f33343333383934622d663663612d393938632d646566372d3137613033633332653064392e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F3433894b-f6ca-998c-def7-17a03c32e0d9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=c3a5e17eb138224ccfad7ebe039ea451" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/201826/3433894b-f6ca-998c-def7-17a03c32e0d9.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F3433894b-f6ca-998c-def7-17a03c32e0d9.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=21f74b596c501b9d2550db9984fd8609 1x" loading="lazy"></a></p>

<p>ボット名、価格レベル、ボットテンプレートをきちんと入力したら、<br>
あとはいつも適当に入力してます。</p>

<p>ボットテンプレートの部分は、今回FAQBotをつくるため、Qusetion And Answerに変更します。</p>

<p>　　<a href="https://camo.qiitausercontent.com/72d1e6eb3945449fdaf54b86d6486b20d5af6d06/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f61343239393632342d353934342d376134322d323732322d3538653034656461373461302e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fa4299624-5944-7a42-2722-58e04eda74a0.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d79bc9c64e391200881f8eae0ba0dccf" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/201826/a4299624-5944-7a42-2722-58e04eda74a0.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fa4299624-5944-7a42-2722-58e04eda74a0.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=dfb82a3129445b8517097a744a9837f1 1x" loading="lazy"></a></p>

<p>入力が終了したら作成ボタンを押下し、ひとまず設定完了です。</p>

<h2>
<span id="qnamakerを作成" class="fragment"></span><a href="#qnamaker%E3%82%92%E4%BD%9C%E6%88%90"><i class="fa fa-link"></i></a>QnAMakerを作成</h2>

<p><a href="https://qnamaker.ai/" rel="nofollow noopener" target="_blank">ここ</a>にアクセスしてQnAを作成します。<br>
所持しているマイクロソフトアカウントを使ってログインします。</p>

<p>ページ上のタブに'Create new Service'とあると思うので、クリック。</p>

<p>　　<a href="https://camo.qiitausercontent.com/2e116cfd9684fcef2e141ac97d3ffa73691cd92a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f35376635353132342d656334342d643732392d333662622d3139616534373862316635632e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F57f55124-ec44-d729-36bb-19ae478b1f5c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=819b6e00feefcbf61ca9ae2b063c01b7" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/201826/57f55124-ec44-d729-36bb-19ae478b1f5c.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F57f55124-ec44-d729-36bb-19ae478b1f5c.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=428b638073f597cd605ca0d2e0347e86 1x" loading="lazy"></a></p>

<p>次のような画面がでると思うので、必要情報を入力していきます。</p>

<p><a href="https://camo.qiitausercontent.com/6e9c7910814b28140aee1c25e13da3324a69fb42/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f38663536633033662d333736642d643362392d656331622d6162316131326665633564302e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F8f56c03f-376d-d3b9-ec1b-ab1a12fec5d0.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=27958f0d969d6a60e84fc6289d63ca07" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/201826/8f56c03f-376d-d3b9-ec1b-ab1a12fec5d0.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F8f56c03f-376d-d3b9-ec1b-ab1a12fec5d0.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=e4e8e350c9c7a690eb31ea5be02e2c2b 1x" loading="lazy"></a></p>

<ul>
<li>Service name : QnAMakerの名前</li>
<li>URL(s) : FAQが掲載されているサイトのUrlを貼ると自動的に判断してFAQを作ってくれます。</li>
<li>FILES : Urlがない時はこちらを選択。tsv,csv形式で質問と答えを作成してアップロードすると、自動的にFAQを作ってくれます。pdfとかでもいけるみたいですが、私は上手くいきませんでした。</li>
</ul>

<p>Createをクリックすれば終了です。<br>
My servicesから作成したServiceを見てみます。<br>
そこから鉛筆マークの編集をクリックすると、QAの編集ページに飛びます。</p>

<p>　　<a href="https://camo.qiitausercontent.com/3988c7bcabd293f9ef35af67cc66c69492151fa3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f36356532383966312d323538392d333137342d363561612d6631336130336265663533362e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F65e289f1-2589-3174-65aa-f13a03bef536.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=40ea025e74e45ef10511efab6eaf17fa" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/201826/65e289f1-2589-3174-65aa-f13a03bef536.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F65e289f1-2589-3174-65aa-f13a03bef536.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=e277d982388931313dff48b8a6424b04 1x" loading="lazy"></a></p>

<p>今回わたしは気象庁のFAQページのUrlを拝借しました。<br>
Urlを入力すると、自動的にこちらにFAQが入るため、入力の手間が省けて楽です。<br>
ただ精度はまだまだのようで、編集する必要はあります。</p>

<p>終了したら、上部右上の'Save and retrain'をクリックします。</p>

<p>すべての編集が終了したら、Publishをクリックします。</p>

<p><a href="https://camo.qiitausercontent.com/ec752b5afd9684b0910a97cd7280dd96e223afc3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f34316163393562332d313331622d333832642d656365332d3661646437333361653030652e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F41ac95b3-131b-382d-ece3-6add733ae00e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=fac2f6e87a198c1eae5f707a0706dc4d" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/201826/41ac95b3-131b-382d-ece3-6add733ae00e.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F41ac95b3-131b-382d-ece3-6add733ae00e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=04bd1ed37833962dffafe1f69025d232 1x" loading="lazy"></a></p>

<p>　↓<br>
　<a href="https://camo.qiitausercontent.com/dd4556ef4274959e41d85dde6e0c1dc9bf03281f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f62653636663565302d323539322d653030622d336666362d3338633264663263363762322e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fbe66f5e0-2592-e00b-3ff6-38c2df2c67b2.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=3681abfc74a47be342d89f1038daf28a" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/201826/be66f5e0-2592-e00b-3ff6-38c2df2c67b2.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fbe66f5e0-2592-e00b-3ff6-38c2df2c67b2.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=209f87d8ec54de16beb02bd928779b54 1x" loading="lazy"></a></p>

<p>上の画像に記載したQnAKnowledgebaseIdとQnASubscriptionKeyはAzureの設定で使うのでコピーしておきます。</p>

<p>ちなみにQnAMakerはトレーニングをすることで、回答に学習機能を持たせることが出来ます。</p>

<p><a href="https://camo.qiitausercontent.com/d3295b57a394c1ef61550669a35f6209ef703551/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f65616330393436372d356230372d386232392d386166312d3362323035376334393439322e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Feac09467-5b07-8b29-8af1-3b2057c49492.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=ad7bd34d214af4fd74f6924bbd791162" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/201826/eac09467-5b07-8b29-8af1-3b2057c49492.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Feac09467-5b07-8b29-8af1-3b2057c49492.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=10c02fe13861ad03e4d83c4aea144988 1x" loading="lazy"></a></p>

<p>回答部分には、質問の内容から考えられる他の回答を3つほど候補としてあげてくれます。<br>
期待される回答が得られなかった場合、候補から回答を選択すると、<br>
次からはその回答で返答してくれます。</p>

<h2>
<span id="公開させるまでの設定" class="fragment"></span><a href="#%E5%85%AC%E9%96%8B%E3%81%95%E3%81%9B%E3%82%8B%E3%81%BE%E3%81%A7%E3%81%AE%E8%A8%AD%E5%AE%9A"><i class="fa fa-link"></i></a>公開させるまでの設定</h2>

<p>再び、設定したAzureのWeb App Botへ戻ります。<br>
'アプリケーション設定'をクリックすると、下図のような設定ページに移行します。</p>

<p><a href="https://camo.qiitausercontent.com/0ce59f9a9356683f48d7aabe9bbd492ea457616a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f61353961333936652d383433312d303230382d316364662d6334346462616431343263322e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fa59a396e-8431-0208-1cdf-c44dbad142c2.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d1c33fc33980a552b6ce845ee0522e72" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/201826/a59a396e-8431-0208-1cdf-c44dbad142c2.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fa59a396e-8431-0208-1cdf-c44dbad142c2.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=8a0d1e2053d6b5e7f20190a771288ff0 1x" loading="lazy"></a></p>

<p>QnAMakerでコピーしたQnAKnowledgebaseIdとQnASubscriptionKeyを入力します。<br>
これで保存をすれば準備完了です。</p>

<p>試しにテストをしてみます。<br>
テストはTest in Web Chatからできます。</p>

<p><a href="https://camo.qiitausercontent.com/22e06007d0baaec3b206db51939a2f563cf604e9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f37326638626130632d626134632d313562312d636664632d3433613030303434393061342e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F72f8ba0c-ba4c-15b1-cfdc-43a0004490a4.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=ecc7eb8b8b5cf395fdceb6015481f692" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/201826/72f8ba0c-ba4c-15b1-cfdc-43a0004490a4.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F72f8ba0c-ba4c-15b1-cfdc-43a0004490a4.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=fb56ad848b246fc6caf5ed1b5e9ffa5d 1x" loading="lazy"></a></p>

<p>適切な回答がみつからないとNo good match inFAQと表示されます。<br>
みつからないときの回答や質問にどの程度の整合性があれば回答を表示させるか…<br>
といった設定はコードをいじればできます。<br>
QnAMakerのコードの中身については、次のBotFrameWorkで少し説明します。</p>

<p>このBotを自身のページに埋め込みたい場合は、チャンネルをクリックします。</p>

<p><a href="https://camo.qiitausercontent.com/b6441fd56d733e93f5c7e0c20d97b7c47a5a605d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f61366137393939342d353436382d643364652d653565372d6237633832323039663966372e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fa6a79994-5468-d3de-e5e7-b7c82209f9f7.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=90a8f83aadc574a39c82db6c3d7d645a" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/201826/a6a79994-5468-d3de-e5e7-b7c82209f9f7.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fa6a79994-5468-d3de-e5e7-b7c82209f9f7.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=5846832205b17a57993d838bdeee3a2a 1x" loading="lazy"></a></p>

<p>編集ボタン/ボットの埋め込みコードを取得をクリックすると、作成したページの埋め込みコードが見れます。</p>

<p><a href="https://camo.qiitausercontent.com/0fe8b2a6632867619c31e6360b7e570df056ec58/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f35623537343435382d663962352d633836372d346565332d6235663637666131633737642e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F5b574458-f9b5-c867-4ee3-b5f67fa1c77d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=0d222eac4885be8abb997bfb62c787e7" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/201826/5b574458-f9b5-c867-4ee3-b5f67fa1c77d.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F5b574458-f9b5-c867-4ee3-b5f67fa1c77d.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=f1b242875b33dd36a6da3de59fb11c37 1x" loading="lazy"></a></p>

<p>'シークレットを入力'とかかれた部分に、上のシークレットキーを表示させて貼り付けます。<br>
これをHTMLで貼るだけ。</p>

<p>　<a href="https://camo.qiitausercontent.com/1b9447c6779e0980f174fa4cb77b810d47e7c765/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f33323531633432642d636163372d393236382d663433382d3563383932363738646463362e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F3251c42d-cac7-9268-f438-5c892678ddc6.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=9ac27ddeb54687077c7709a75f606599" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/201826/3251c42d-cac7-9268-f438-5c892678ddc6.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F3251c42d-cac7-9268-f438-5c892678ddc6.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=eaf3ba8a391dcaab242aa43a40a86289 1x" loading="lazy"></a></p>

<h1>
<span id="azureのbot-channels-registrationとbotframeworkとqnamakerを使って作成" class="fragment"></span><a href="#azure%E3%81%AEbot-channels-registration%E3%81%A8botframework%E3%81%A8qnamaker%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E4%BD%9C%E6%88%90"><i class="fa fa-link"></i></a>AzureのBot Channels RegistrationとBotFrameWorkとQnAMakerを使って作成</h1>

<h2>
<span id="botframeworkを使ってローカルでbotを作成してみる" class="fragment"></span><a href="#botframework%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E3%81%A7bot%E3%82%92%E4%BD%9C%E6%88%90%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B"><i class="fa fa-link"></i></a>BotFrameWorkを使ってローカルでBotを作成してみる</h2>

<h4>
<span id="botframeworkを使うために今回インストールしたものたち" class="fragment"></span><a href="#botframework%E3%82%92%E4%BD%BF%E3%81%86%E3%81%9F%E3%82%81%E3%81%AB%E4%BB%8A%E5%9B%9E%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%97%E3%81%9F%E3%82%82%E3%81%AE%E3%81%9F%E3%81%A1"><i class="fa fa-link"></i></a>BotFrameWorkを使うために今回インストールしたものたち</h4>

<ul>
<li>Bot Framework Template</li>
</ul>

<p>→<a href="http://aka.ms/bf-bc-vstemplate" rel="nofollow noopener" target="_blank">Bot Frameworkダウンロードサイト</a>からテンプレートをダウンロード。<br>
ダウンロードしたら下記の場所にzipファイルごと貼り付けます。</p>

<p>C:\Users[[ユーザ名]\Documents\Visual Studio 2017\Templates\ProjectTemplates\Visual C#</p>

<ul>
<li>Bot Framework Emulator</li>
</ul>

<p>→<a href="https://emulator.botframework.com/" rel="nofollow noopener" target="_blank">ここ</a>からダウンロード</p>

<p>さっそくプロジェクトを作ってみます。<br>
新規プロジェクトを選択して、C#のBot Applicationを選択します。</p>

<p><a href="https://camo.qiitausercontent.com/76f040790f867d7945d6a106bec1f20ba412b173/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f66383236656131322d333734632d373133642d636464302d3034303437383136363631312e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Ff826ea12-374c-713d-cdd0-040478166611.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=416b55ff98ebb3569de71d5ca9d9cced" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/201826/f826ea12-374c-713d-cdd0-040478166611.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Ff826ea12-374c-713d-cdd0-040478166611.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=83ef33045595df8ab6d30e63d94d7013 1x" loading="lazy"></a></p>

<p>このままF5でプログラムを実行し、Bot Framework Emulatorを起動させてもオウム返しのようなBotができています。</p>

<p>NuGetパッケージを見て更新が必要なものとかはインストールしといてください。</p>

<p>上のQnAMakerで作成したものと連携させてみます。</p>

<p>NuGetパッケージの管理を選択して、Microsoft.Bot.Builder.CognitiveServicesをインストールします。</p>

<p><a href="https://camo.qiitausercontent.com/552ec758490a0f6856a06497555d41ae4832e034/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f35626361353930372d353666642d333063322d363138392d3165366137356138366163352e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F5bca5907-56fd-30c2-6189-1e6a75a86ac5.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=480e70cd3c75f132a0847d6642ebe662" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/201826/5bca5907-56fd-30c2-6189-1e6a75a86ac5.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F5bca5907-56fd-30c2-6189-1e6a75a86ac5.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=9ee275d6dbddf99c31f42ae510fa1a88 1x" loading="lazy"></a></p>

<p>まずRootDialogをコピーします。</p>

<p>コピーしたら、コードの中身はこんな感じに変更します。</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">WeatherQnADialog.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Threading.Tasks</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Microsoft.Bot.Builder.Dialogs</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Microsoft.Bot.Connector</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Microsoft.Bot.Builder.CognitiveServices.QnAMaker</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">WeatherQnABot.Dialogs</span>
<span class="p">{</span>
    <span class="p">[</span><span class="n">Serializable</span><span class="p">]</span>
    <span class="p">[</span><span class="nf">QnAMaker</span><span class="p">(</span><span class="s">"自分のQnASubscriptionKey"</span><span class="p">,</span> <span class="s">"自分のQnAKnowledgebaseId"</span><span class="p">,</span> <span class="s">"別の言い方で試してください。"</span><span class="p">,</span> <span class="m">0.5</span><span class="p">,</span> <span class="m">3</span><span class="p">)]</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">WeatherQnADialog</span> <span class="p">:</span> <span class="n">QnAMakerDialog</span>
    <span class="p">{}</span>
<span class="p">}</span>
</code></pre></div>
</div>

<p>[QnAMaker]の中の引数ですが、3つ目に該当する回答が見つからなかったときの回答、<br>
4つ目に質問の一致率、つまりQnAMakerに書いた質問とBotに投げた質問が同程度一致しているか、<br>
(0.5は50%という意味になります。)<br>
5つ目に他に考えられる回答をいくつまで候補として考えるか、<br>
ここでは'3'としているため、候補を3つ抽出してくれます。</p>

<p>変更したら、Controllerの中のMessagesControllerを修正。</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">MessagesController.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">HttpResponseMessage</span><span class="p">&gt;</span> <span class="nf">Post</span><span class="p">([</span><span class="n">FromBody</span><span class="p">]</span><span class="n">Activity</span> <span class="n">activity</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">activity</span><span class="p">.</span><span class="n">Type</span> <span class="p">==</span> <span class="n">ActivityTypes</span><span class="p">.</span><span class="n">Message</span><span class="p">)</span>
            <span class="p">{</span>
<span class="err">　　　　　　　　　</span><span class="c1">//RootDialogとなっている部分を上で作成したクラス名に変更</span>
                <span class="k">await</span> <span class="n">Conversation</span><span class="p">.</span><span class="nf">SendAsync</span><span class="p">(</span><span class="n">activity</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="n">Dialogs</span><span class="p">.</span><span class="nf">RootDialog</span><span class="p">());</span> 
            <span class="p">}</span>
            <span class="k">else</span>
</code></pre></div>
</div>

<p>一度Bot Framework Emulatorを使って実行してみます。</p>

<p>　<a href="https://camo.qiitausercontent.com/a9f893c10ee7a49109d6a9c593f82ab4c3ede6e8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f62643239623339392d303639642d383561662d303036362d6166376638626162323061622e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fbd29b399-069d-85af-0066-af7f8bab20ab.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=d4cf32128e2763e7c3db5f3ab5385198" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/201826/bd29b399-069d-85af-0066-af7f8bab20ab.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fbd29b399-069d-85af-0066-af7f8bab20ab.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=83e5d8922ffd7b574945641b8473aadf 1x" loading="lazy"></a></p>

<p>　<a href="https://camo.qiitausercontent.com/ddead15dba3c64a1ef42afec4d59decfe2658c28/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f66346332646663362d383939302d356464662d623833302d6366306132663465396236652e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Ff4c2dfc6-8990-5ddf-b830-cf0a2f4e9b6e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=09e504bd580322ad9171cba5854aa883" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/201826/f4c2dfc6-8990-5ddf-b830-cf0a2f4e9b6e.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Ff4c2dfc6-8990-5ddf-b830-cf0a2f4e9b6e.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=85b19e18de61f0e914caaaea8bbdd679 1x" loading="lazy"></a></p>

<h4>
<span id="機能の追加" class="fragment"></span><a href="#%E6%A9%9F%E8%83%BD%E3%81%AE%E8%BF%BD%E5%8A%A0"><i class="fa fa-link"></i></a>機能の追加</h4>

<p>今回複数回答機能を持たせたかったので、以下のコードを追加しました。</p>

<div class="code-frame" data-lang="c#">
<div class="code-lang"><span class="bold">WeatherQnADialog.cs</span></div>
<div class="highlight"><pre class="with-code"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">WeatherQnADialog</span> <span class="p">:</span> <span class="n">QnAMakerDialog</span>
    <span class="p">{</span>
        <span class="c1">//複数の解答を返したい場合</span>
        <span class="k">protected</span> <span class="k">override</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">RespondFromQnAMakerResultAsync</span><span class="p">(</span><span class="n">IDialogContext</span> <span class="n">context</span><span class="p">,</span> <span class="n">IMessageActivity</span> <span class="n">message</span><span class="p">,</span> <span class="n">QnAMakerResults</span> <span class="n">result</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">bestAnswer</span> <span class="p">=</span> <span class="n">result</span><span class="p">.</span><span class="n">Answers</span><span class="p">.</span><span class="nf">First</span><span class="p">();</span>
            <span class="k">await</span> <span class="n">context</span><span class="p">.</span><span class="nf">PostAsync</span><span class="p">(</span><span class="s">$"</span><span class="p">{</span><span class="n">bestAnswer</span><span class="p">.</span><span class="n">Answer</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">Answers</span><span class="p">.</span><span class="n">Count</span> <span class="p">&gt;</span> <span class="m">1</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="kt">var</span> <span class="n">sb</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StringBuilder</span><span class="p">();</span>
                <span class="n">sb</span><span class="p">.</span><span class="nf">Append</span><span class="p">(</span><span class="s">"以下の情報も関連しているかもしれません"</span><span class="p">);</span>

                <span class="kt">int</span> <span class="n">count</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
                <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">answer</span> <span class="k">in</span> <span class="n">result</span><span class="p">.</span><span class="n">Answers</span><span class="p">.</span><span class="nf">Skip</span><span class="p">(</span><span class="m">1</span><span class="p">))</span>
                <span class="p">{</span>
                    <span class="n">count</span> <span class="p">+=</span> <span class="m">1</span><span class="p">;</span>
                    <span class="n">sb</span><span class="p">.</span><span class="nf">Append</span><span class="p">(</span><span class="s">$"\n\n</span><span class="p">{</span><span class="n">count</span><span class="p">}</span><span class="s">.</span><span class="p">{</span><span class="n">answer</span><span class="p">.</span><span class="n">Answer</span><span class="p">}</span><span class="s">\n\n"</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="k">await</span> <span class="n">context</span><span class="p">.</span><span class="nf">PostAsync</span><span class="p">(</span><span class="n">sb</span><span class="p">.</span><span class="nf">ToString</span><span class="p">());</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="c1">//スコアが低い解答しか得られない場合</span>
        <span class="k">protected</span> <span class="k">override</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">QnAFeedbackStepAsync</span><span class="p">(</span><span class="n">IDialogContext</span> <span class="n">context</span><span class="p">,</span> <span class="n">QnAMakerResults</span> <span class="n">result</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(!</span><span class="nf">IsConfidentAnswer</span><span class="p">(</span><span class="n">result</span><span class="p">))</span>
            <span class="p">{</span>
                <span class="kt">var</span> <span class="n">sb</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StringBuilder</span><span class="p">();</span>
                <span class="n">sb</span><span class="p">.</span><span class="nf">Append</span><span class="p">(</span><span class="s">"以下の情報が関連しているかもしれません"</span><span class="p">);</span>

                <span class="kt">int</span> <span class="n">count</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
                <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">answer</span> <span class="k">in</span> <span class="n">result</span><span class="p">.</span><span class="n">Answers</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="n">count</span> <span class="p">+=</span> <span class="m">1</span><span class="p">;</span>
                    <span class="n">sb</span><span class="p">.</span><span class="nf">Append</span><span class="p">(</span><span class="s">$"\n\n</span><span class="p">{</span><span class="n">count</span><span class="p">}</span><span class="s">.</span><span class="p">{</span><span class="n">answer</span><span class="p">.</span><span class="n">Answer</span><span class="p">}</span><span class="s">\n\n"</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="k">await</span> <span class="n">context</span><span class="p">.</span><span class="nf">PostAsync</span><span class="p">(</span><span class="n">sb</span><span class="p">.</span><span class="nf">ToString</span><span class="p">());</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
</div>

<p>　<a href="https://camo.qiitausercontent.com/39caca7697dc340d1204f8f499074609cbcfeefc/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f36616137373132652d393338382d656666662d356661302d3530613733633734326536342e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F6aa7712e-9388-efff-5fa0-50a73c742e64.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=6116fe8c8de351fa899decad2d5cfae3" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/201826/6aa7712e-9388-efff-5fa0-50a73c742e64.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F6aa7712e-9388-efff-5fa0-50a73c742e64.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=bc18f8042143879f3c38eace958b3354 1x" loading="lazy"></a></p>

<h2>
<span id="発行" class="fragment"></span><a href="#%E7%99%BA%E8%A1%8C"><i class="fa fa-link"></i></a>発行</h2>

<p>ソリューションエクスプローラーからプロジェクトを右クリックして発行を選択。<br>
Microsoft Azure App Serviceを選択します。</p>

<p>　<a href="https://camo.qiitausercontent.com/d45295ee46b81a1a31c3de32c1e1c6335d4f37db/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f31653432626131642d383262382d633036622d626566362d3133303835633730393733312e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F1e42ba1d-82b8-c06b-bef6-13085c709731.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=f60b2ccdfdad43cd93d3f64b5de150ca" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/201826/1e42ba1d-82b8-c06b-bef6-13085c709731.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F1e42ba1d-82b8-c06b-bef6-13085c709731.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=dee55f0ccfccc4fd1ea2f6fd446e84ba 1x" loading="lazy"></a></p>

<p>発行ボタンを押すと下のような設定メニューが表示されるので、入力したら作成をクリックします。</p>

<p>　<a href="https://camo.qiitausercontent.com/36b4ee7288f19e46b44b896e54292374ad9b6c7f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f62623833366661322d646435322d633130662d396433342d3635613861326162303362372e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fbb836fa2-dd52-c10f-9d34-65a8a2ab03b7.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=2652c120fc2ddb625738b11d632de3c9" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/201826/bb836fa2-dd52-c10f-9d34-65a8a2ab03b7.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fbb836fa2-dd52-c10f-9d34-65a8a2ab03b7.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=f52fe31d29681caffadb380f640f2039 1x" loading="lazy"></a></p>

<p>発行されるとこんな感じに立ち上がるかと思います。</p>

<p>　<a href="https://camo.qiitausercontent.com/2d8fe8bbfe926db75a1aa5c3609f202743ac0f2a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f65353438666436312d303363622d343334352d636663382d6531356630326162643465352e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fe548fd61-03cb-4345-cfc8-e15f02abd4e5.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=f958795838a5407353a94b0d3d1b1060" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/201826/e548fd61-03cb-4345-cfc8-e15f02abd4e5.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fe548fd61-03cb-4345-cfc8-e15f02abd4e5.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=5a9ee1be854433cc2d2afcae367b0ff3 1x" loading="lazy"></a></p>

<h2>
<span id="azureのbot-channels-registrationを設定" class="fragment"></span><a href="#azure%E3%81%AEbot-channels-registration%E3%82%92%E8%A8%AD%E5%AE%9A"><i class="fa fa-link"></i></a>AzureのBot Channels Registrationを設定</h2>

<p>Azureのトップメニューに戻り、新規から"Bot Channels Registration"で検索し、作成します。</p>

<p><a href="https://camo.qiitausercontent.com/740207dfc514223ab0165e86851a88bde977442c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f35383239656662662d343266342d313461362d313862632d6239393338633537663335612e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F5829efbf-42f4-14a6-18bc-b9938c57f35a.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=db1ea742f04b92e04288b6ffbc686233" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/201826/5829efbf-42f4-14a6-18bc-b9938c57f35a.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F5829efbf-42f4-14a6-18bc-b9938c57f35a.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=80f4e46fad0e73935408b6bb9d19793d 1x" loading="lazy"></a></p>

<p>ここで大事なのはメッセージング エンドポイントです。<br>
こちらは先ほど発行したページに"api/messages"を追加したURLとなります。<br>
私の場合、発行したURLは"https://ｗeatherqnabot.azurewebsites.net/"なので、<br>
メッセージング エンドポイントは"https://ｗeatherqnabot.azurewebsites.net/api/messages"となります。</p>

<h2>
<span id="公開させるまでの設定-1" class="fragment"></span><a href="#%E5%85%AC%E9%96%8B%E3%81%95%E3%81%9B%E3%82%8B%E3%81%BE%E3%81%A7%E3%81%AE%E8%A8%AD%E5%AE%9A-1"><i class="fa fa-link"></i></a>公開させるまでの設定</h2>

<p>最後の設定です。<br>
作成したBot Channels Registrationの設定をクリックします。</p>

<p>　<a href="https://camo.qiitausercontent.com/17a8b6e2bd69ad6da8d9b0508734483c13d9a5e3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f36373433613062302d653766612d316338622d383761312d6563323735613731323861612e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F6743a0b0-e7fa-1c8b-87a1-ec275a7128aa.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=fbcf76890cee16681f698057197e72fc" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/201826/6743a0b0-e7fa-1c8b-87a1-ec275a7128aa.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F6743a0b0-e7fa-1c8b-87a1-ec275a7128aa.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=c64dd95087fea94b1a82db55bf88763f 1x" loading="lazy"></a></p>

<p>この画像の表示名、Microsoft App IDは後ほど使うためメモしておきます。</p>

<p>続いてMicrosoft App ID横の(管理)ボタンをクリックします。<br>
下のような画面が出るので、"新しいパスワードを生成"をクリックします。</p>

<p>　<a href="https://camo.qiitausercontent.com/1c92a00f08d61cc4f9b62d921ab69c9999824521/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f61366239626333652d643130612d323136332d636236612d6164326165333233623862342e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fa6b9bc3e-d10a-2163-cb6a-ad2ae323b8b4.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=020ae4369e8bdae3cdc05e5600ca3272" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/201826/a6b9bc3e-d10a-2163-cb6a-ad2ae323b8b4.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fa6b9bc3e-d10a-2163-cb6a-ad2ae323b8b4.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=af33e7a76d204cb2ec49c4e541d58d11 1x" loading="lazy"></a></p>

<p>ここで表示されるパスワードをメモしておきます。</p>

<p>　<a href="https://camo.qiitausercontent.com/e5cc00bad7cf8d89ec340a8e1338158e74821692/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f34656530343539652d346630662d303733302d666531342d3331653432333135653266662e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F4ee0459e-4f0f-0730-fe14-31e42315e2ff.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=c457894eae98bd1aad46ba662102964e" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/201826/4ee0459e-4f0f-0730-fe14-31e42315e2ff.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F4ee0459e-4f0f-0730-fe14-31e42315e2ff.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=fbe777aa03fa3ca6027c07db2c33a0e1 1x" loading="lazy"></a></p>

<p>コードに戻って、Web.configの中身を先ほど取得したものたちに修正します。</p>

<div class="code-frame" data-lang="html">
<div class="code-lang"><span class="bold">Web.config</span></div>
<div class="highlight"><pre class="with-code"><code>  <span class="nt">&lt;appSettings&gt;</span>
    <span class="c">&lt;!-- update these with your BotId, Microsoft App Id and your Microsoft App Password--&gt;</span>
    <span class="nt">&lt;add</span> <span class="na">key=</span><span class="s">"BotId"</span> <span class="na">value=</span><span class="s">"表示名"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;add</span> <span class="na">key=</span><span class="s">"MicrosoftAppId"</span> <span class="na">value=</span><span class="s">"Microsoft AppID"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;add</span> <span class="na">key=</span><span class="s">"MicrosoftAppPassword"</span> <span class="na">value=</span><span class="s">"上で発行したパスワード"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/appSettings&gt;</span>
</code></pre></div>
</div>

<p>ここで一度ローカルで動きを確認してみます。</p>

<p><a href="https://camo.qiitausercontent.com/74060773ca395022910ada1fbb92e62b1b7d7b56/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f66636531303130362d326563342d636330342d616563312d3737373838333163636231372e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Ffce10106-2ec4-cc04-aec1-7778831ccb17.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=f02eb9bb5ac0f075a1ea4048c57d2919" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/201826/fce10106-2ec4-cc04-aec1-7778831ccb17.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Ffce10106-2ec4-cc04-aec1-7778831ccb17.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=e1e6a74e53e6b2bb7ef6e1b4801853ca 1x" loading="lazy"></a></p>

<p>Microsoft App ID と Microsof　App Passwordを自身が取得したものに変更するのを忘れずに。</p>

<p>確認したらもう一度発行します。<br>
あとは、上記に記載したように、"チャンネル"から埋め込みコードを取得すれば自分のサイトに作成したBotを埋め込むことが出来ます。</p>

<p><a href="https://camo.qiitausercontent.com/7732a3a72817f6addd211870285d8cfb57ffd102/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f66626237316164322d303863362d383930312d323561352d6339333863313035656437382e706e67" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Ffbb71ad2-08c6-8901-25a5-c938c105ed78.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;s=aab8c2b7f7fc59804a08d7414565bd9d" alt="image.png" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/201826/fbb71ad2-08c6-8901-25a5-c938c105ed78.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Ffbb71ad2-08c6-8901-25a5-c938c105ed78.png?ixlib=rb-4.0.0&amp;auto=format&amp;gif-q=60&amp;q=75&amp;w=1400&amp;fit=max&amp;s=fc476c917d5d027ca173faafc2fc835e 1x" loading="lazy"></a></p>

<p>もし発行してもうまくいかなかったら、もう一度メッセージングエンド ポイントを入力し直すといいかもしれません。</p>

<h1>
<span id="さいごに" class="fragment"></span><a href="#%E3%81%95%E3%81%84%E3%81%94%E3%81%AB"><i class="fa fa-link"></i></a>さいごに</h1>

<p>AzureのWeb App Botを使った公開方法は、コーディングもなく、簡単でした。<br>
こちらは本当に簡単なBotを作りたい時にお勧めだと思います。<br>
Bot Channels Registrationを使った公開方法は、やり方が記載されているサイトが少なく、古い記事ばかりで苦労しました。<br>
でもコードをいじる分、自由にカスタマイズが効くので作っていて楽しいと思います。</p>

<h1>
<span id="参考" class="fragment"></span><a href="#%E5%8F%82%E8%80%83"><i class="fa fa-link"></i></a>参考</h1>

<ul>
<li><a href="https://ledge.ai/qnamaker/" rel="nofollow noopener" target="_blank">作業は『URLを入れる』だけ。MSの全自動FAQ bot会話生成サービス “QnAMaker” 試してみた
</a></li>
<li><a href="https://github.com/satonaoki/help-desk-bot-lab-ja" rel="nofollow noopener" target="_blank">ヘルプ デスク ボットのハンズオン ラボ</a></li>
<li><a href="https://thinkit.co.jp/article/12883" rel="nofollow noopener" target="_blank">作ったChatbotを公開してみよう</a></li>
</ul>
</div></div></section><div class="css-1yzj1fm"><div class="css-1uv1qiv"><span class="fa fa-twitter"></span></div><div class="css-1uv1qiv"><span class="fa fa-facebook"></span></div></div><div class="apm-Content"><div class="apm-Content_title">Why not register and get more from Qiita?</div><ol class="apm-Content_list"><li>We will deliver articles that match you<div class="description">By following users and tags, you can catch up information on technical fields that you are interested in as a whole</div></li><li>you can read useful information later efficiently<div class="description">By &quot;stocking&quot; the articles you like, you can search right away</div></li><div><a class="apm-Content_help" href="https://help.qiita.com/ja/articles/qiita-login-user" target="_blank"><i class="fa fa-fw fa-arrow-circle-right"></i>What you can do with signing up</a></div></ol><a href="/signup?callback_action=login_or_signup&amp;redirect_to=%2Fusomaru%2Fitems%2F40731858a561cad4b7b9&amp;realm=qiita" class="apm-Content_button apm-Content_button-signup">Sign up</a><a href="/login?callback_action=login_or_signup&amp;redirect_to=%2Fusomaru%2Fitems%2F40731858a561cad4b7b9&amp;realm=qiita" class="apm-Content_button apm-Content_button-signin">Login</a></div></div><div class="css-helsa7"></div></div></div></div><div class="css-109dbrr"><div class="css-5jpx49"><div class="css-mnxgyc"><button class=" css-1vlpknv"><svg size="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="#55C500" class="css-1g4cku8 e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></button><a href="/usomaru/items/40731858a561cad4b7b9/likers" class="css-1iupg5d">14</a></div><div class="css-fsjkhv"><button class=" css-15cocm3"><svg size="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 353.02 398" color="#6E6F70" class="css-12rp90f e11v00bf0"><path d="M176.72 398c-67.52 0-130.16-29-171.84-79.69l-4.46-5.42V78.05H353v234.84l-4.45 5.42C306.88 369 244.24 398 176.72 398zm-137.2-99.34c34.17 38.37 83.78 60.25 137.2 60.25s103-21.88 137.21-60.25V117.14H39.52zM0 0h351.12v40.94H0z"></path></svg></button><span class="css-1b17vb0">18</span></div><div class="css-79elbk"><button class="css-16hhh7b"><i class="fa fa-ellipsis-h"></i></button><div class="css-7i7f4d"><div class="css-1gj7nt">Improve article</div><a href="/drafts/40731858a561cad4b7b9/edit" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-code-fork css-1jqivyb" aria-hidden="true"></i></span>Send edit request</a><div class="css-1ode1bp"></div><div class="css-1gj7nt">Article information</div><a href="/usomaru/items/40731858a561cad4b7b9/revisions" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-history css-1jqivyb" aria-hidden="true"></i></span>Revisions</a><a href="/usomaru/items/40731858a561cad4b7b9/patches" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-inbox css-1jqivyb" aria-hidden="true"></i></span>Edit Requests</a><a href="/usomaru/items/40731858a561cad4b7b9/likers" class="css-154zy0m"><span class="css-yikrym"><svg size="13" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 392.81 429" color="rgba(0, 0, 0, 0.6)" class="css-le4d8r e31pr5q0"><path d="M14.19 5.4h53.86v149.45h90.05v44.87H14.19zM288.4 93.77h100.79q1.29 25-5.66 45.39a96.79 96.79 0 01-20.33 34.89 92 92 0 01-32.13 22.45 104 104 0 01-40.95 7.93 109.71 109.71 0 01-76-29.92 104.05 104.05 0 01-23-32.56 95.46 95.46 0 01-8.47-39.88 94.78 94.78 0 018.47-39.87 104.38 104.38 0 0123-32.42A107.71 107.71 0 01248.23 8a110.79 110.79 0 01118.48 22.49l-35.07 35.08a51.25 51.25 0 00-17.75-15 52.83 52.83 0 00-44.67-1.23 52.92 52.92 0 00-17 12 57.07 57.07 0 00-11.45 18.11 60 60 0 00-4.23 22.77 60 60 0 004.23 22.68 56.57 56.57 0 0011.45 18.19 52.62 52.62 0 0017 12 50.5 50.5 0 0020.9 4.36q20.19 0 31.07-7.51a35.75 35.75 0 0014.46-20.55h-47.39zM51.29 279.55H0v-44.86h156v44.86h-51.13V429H51.29zM283.36 381.71l-41.72-62V429h-53.86V234.69h47.47L290 312l55.9-77.29h46.9V429h-53.86V320.27l-42.43 61.44z"></path></svg></span>Show all likers</a><a href="/usomaru/items/40731858a561cad4b7b9.md" class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-file-text-o css-1jqivyb" aria-hidden="true"></i></span>Show article in Markdown</a><div class="css-1ode1bp"></div><div class="css-154zy0m"><span class="css-yikrym"><i class="fa fa-flag css-1jqivyb" aria-hidden="true"></i></span>Report article</div></div><div class="st-Modal"><div class="st-Modal_backdrop"></div><div class="st-Modal_body"><form><div class="st-Form"><span class="st-Form_label">Help us understand the problem. What is going on with this article?</span></div><div class="st-Form"><label><input type="radio" name="reason" value="illegal" required=""/>It&#x27;s illegal (copyright infringement, privacy infringement, libel, etc.)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="inappropriate_content" required=""/>It&#x27;s socially inappropriate (offensive to public order and morals)</label></div><div class="st-Form"><label><input type="radio" name="reason" value="advertising" required=""/>It&#x27;s advertising</label></div><div class="st-Form"><label><input type="radio" name="reason" value="spam" required=""/>It&#x27;s spam</label></div><div class="st-Form"><label><input type="radio" name="reason" value="guideline_violation" required=""/>Other than the above, but not suitable for the Qiita community (violation of guidelines)</label></div><div class="st-Form st-Form-right"><input type="submit" class="st-Form_submit" value="Submit"/></div></form></div></div></div></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PersonalArticlePage" data-dom-id="PersonalArticlePage-react-component-d2da18d9-c060-4464-a4c0-f770305f62b0">{"authorAnalyticsTrackingId":null,"organizationAnalyticsTrackingId":null}</script>
      
<footer id="globalFooter" class="st-Footer"><div class="st-Footer_container"><div class="st-Footer_start"><div class="st-Footer_logo"><svg viewbox="0 0 426.57 130" xmlns="http://www.w3.org/2000/svg"><circle cx="167.08" cy="21.4" r="12.28" /><path d="M250.81 29.66h23.48v18.9h-23.48z" /><path d="M300.76 105.26a22.23 22.23 0 01-6.26-.86 12.68 12.68 0 01-5.17-3 14.41 14.41 0 01-3.56-5.76 28 28 0 01-1.3-9.22V48.56h29.61v-18.9h-29.52V3.29h-20.17v83.34q0 11.16 2.83 18.27a27.71 27.71 0 007.7 11.2 26.86 26.86 0 0011.43 5.62 47.56 47.56 0 0012.34 1.53h15.16v-18zM0 61.7a58.6 58.6 0 015-24.21A62.26 62.26 0 0118.73 17.9 63.72 63.72 0 0139 4.78 64.93 64.93 0 0164 0a65 65 0 0124.85 4.78 64.24 64.24 0 0120.38 13.12A62 62 0 01123 37.49a58.6 58.6 0 015 24.21 58.34 58.34 0 01-4 21.46 62.8 62.8 0 01-10.91 18.16l11.1 11.1a10.3 10.3 0 010 14.52 10.29 10.29 0 01-14.64 0l-12.22-12.41a65 65 0 01-15.78 6.65 66.32 66.32 0 01-17.55 2.3 64.63 64.63 0 01-45.23-18A62.82 62.82 0 015 85.81 58.3 58.3 0 010 61.7zm21.64.08a43.13 43.13 0 0012.42 30.63 42.23 42.23 0 0013.43 9.09A41.31 41.31 0 0064 104.8a42 42 0 0030-12.39 42.37 42.37 0 009-13.64 43.43 43.43 0 003.3-17 43.77 43.77 0 00-3.3-17A41.7 41.7 0 0080.55 22 41.78 41.78 0 0064 18.68 41.31 41.31 0 0047.49 22a42.37 42.37 0 00-13.43 9.08 43.37 43.37 0 00-12.42 30.7zM331.89 78a47.59 47.59 0 013.3-17.73 43.22 43.22 0 019.34-14.47A44.25 44.25 0 01359 36a47.82 47.82 0 0118.81-3.58 42.72 42.72 0 019.26 1 46.5 46.5 0 018.22 2.58 40 40 0 017 3.84 44.39 44.39 0 015.71 4.63l1.22-9.47h17.35v85.83h-17.35l-1.17-9.42a42.54 42.54 0 01-5.84 4.67 43.11 43.11 0 01-7 3.79 44.86 44.86 0 01-8.17 2.59 43 43 0 01-9.22 1A47.94 47.94 0 01359 119.9a43.3 43.3 0 01-14.47-9.71 44.17 44.17 0 01-9.34-14.47 47 47 0 01-3.3-17.72zm20.27-.08a29.16 29.16 0 002.17 11.34 27 27 0 005.92 8.88 26.69 26.69 0 008.76 5.76 29.19 29.19 0 0021.44 0 26.11 26.11 0 008.72-5.76 27.57 27.57 0 005.88-8.84 29 29 0 002.16-11.38 28.62 28.62 0 00-2.16-11.22 26.57 26.57 0 00-5.93-8.8 27.68 27.68 0 00-19.51-7.9 28.29 28.29 0 00-10.77 2.05 26.19 26.19 0 00-8.71 5.75 27.08 27.08 0 00-5.84 8.8 28.94 28.94 0 00-2.13 11.31zm-194.97-30.5h19.78v73.54h-19.78zm49.25 0h19.78v73.54h-19.78z" /><circle cx="216.33" cy="21.4" r="12.28" /></svg></div><div class="st-Footer_catchcopy">How developers code is here.</div><div class="st-Footer_socials"><a class="fa fa-twitter" href="https://twitter.com/qiita"></a><a class="fa fa-facebook-square" href="https://www.facebook.com/qiita/"></a></div></div><div class="st-Footer_end"><div class="st-Footer_qiita"><div class="st-Footer_label">Qiita</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="/about">About</a><a href="/terms">Terms</a><a href="/privacy">Privacy</a><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">Guideline</a><a target="_blank" href="https://help.qiita.com/ja/articles/others-brand-guideline">Design Guideline</a></div><div class="st-Footer_column"><a href="/release-notes">Release</a><a href="/api/v2/docs">API</a><a href="/feedback/new">ご意見</a><a href="https://help.qiita.com">Help</a><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Advertisement</a></div></div></div><div class="st-Footer_increments"><div class="st-Footer_label">Increments</div><div class="st-Footer_list"><div class="st-Footer_column"><a href="https://increments.co.jp/company/">About</a><a href="https://increments.co.jp/jobs/">採用情報</a><a href="https://blog.qiita.com">Blog</a></div><div class="st-Footer_column"><a href="https://teams.qiita.com/">Qiita Team</a><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a><a href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Zine</a></div></div></div></div></div><div class="st-Footer_copyright">© 2011-2021 Increments Inc.</div></footer><div id="Snackbar-react-component-e4fc33c1-fb7f-4e00-aed6-ead598c70a1c"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Snackbar" data-dom-id="Snackbar-react-component-e4fc33c1-fb7f-4e00-aed6-ead598c70a1c">{}</script>
      
<div id="LoginModal-react-component-9e28e8bf-91c5-429a-bbd0-4bb28820e59a"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="LoginModal" data-dom-id="LoginModal-react-component-9e28e8bf-91c5-429a-bbd0-4bb28820e59a">{}</script>
      
<div id="StockModal-react-component-57819265-778a-4da5-9290-9c0868566696"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="StockModal" data-dom-id="StockModal-react-component-57819265-778a-4da5-9290-9c0868566696">{}</script>
      
</div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;S4kFn41QSSh+fcAw/yT3HgUGkHtmM2n7UnXsPVUcxOIuPyub2tro/cY7B6K9fFX7UvTzOOtb+zx6VjXNqQiWeQ==&quot;,&quot;locale&quot;:&quot;en&quot;},&quot;currentUser&quot;:null}" /></body></html><script type="application/json" data-js-react-on-rails-store="AppStoreWithReactOnRails">{"snackbar":{"type":"","body":"","isActive":false},"article":{"article":{"body":"\n\u003ch1\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\n\u003cp\u003eBotFrameWorkを使ってFAQBotを作ってみました。\u003cbr\u003e\nAzureを使ったBotを公開する方法が二通りあったので、その時の備忘録。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"環境\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%92%B0%E5%A2%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e環境\u003c/h1\u003e\n\n\u003cul\u003e\n\u003cli\u003eVisual Studio 2017 Professional(Communityでも大丈夫らしい)\n\n\u003cul\u003e\n\u003cli\u003e言語：C#\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eAzureサブスクリプション\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"azureのweb-app-botとqnamakerを使って作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#azure%E3%81%AEweb-app-bot%E3%81%A8qnamaker%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAzureのWeb App BotとQnAMakerを使って作成\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"azureのweb-app-botを設定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#azure%E3%81%AEweb-app-bot%E3%82%92%E8%A8%AD%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAzureのWeb App Botを設定\u003c/h2\u003e\n\n\u003cp\u003eAzureのマイページから、新規 → AI+Cognitive Services → Web App Botをクリック\u003c/p\u003e\n\n\u003cp\u003e　　\u003ca href=\"https://camo.qiitausercontent.com/1d8fa51f5c68e677dfc1f8a04030ad5e42881df6/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f65366364653261642d663366322d303264322d623434612d3231363032396264313162362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fe6cde2ad-f3f2-02d2-b44a-216029bd11b6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=76bc5b2510e596c2293d13bfae82edba\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/201826/e6cde2ad-f3f2-02d2-b44a-216029bd11b6.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fe6cde2ad-f3f2-02d2-b44a-216029bd11b6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c91d1243676daa3f04ec02b25ffe76e7 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e必須情報を入力していきます\u003c/p\u003e\n\n\u003cp\u003e　　\u003ca href=\"https://camo.qiitausercontent.com/5b3fbdd022576d8a7a71a0de9f3925aa4f0d7fcc/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f33343333383934622d663663612d393938632d646566372d3137613033633332653064392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F3433894b-f6ca-998c-def7-17a03c32e0d9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c3a5e17eb138224ccfad7ebe039ea451\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/201826/3433894b-f6ca-998c-def7-17a03c32e0d9.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F3433894b-f6ca-998c-def7-17a03c32e0d9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=21f74b596c501b9d2550db9984fd8609 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eボット名、価格レベル、ボットテンプレートをきちんと入力したら、\u003cbr\u003e\nあとはいつも適当に入力してます。\u003c/p\u003e\n\n\u003cp\u003eボットテンプレートの部分は、今回FAQBotをつくるため、Qusetion And Answerに変更します。\u003c/p\u003e\n\n\u003cp\u003e　　\u003ca href=\"https://camo.qiitausercontent.com/72d1e6eb3945449fdaf54b86d6486b20d5af6d06/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f61343239393632342d353934342d376134322d323732322d3538653034656461373461302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fa4299624-5944-7a42-2722-58e04eda74a0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d79bc9c64e391200881f8eae0ba0dccf\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/201826/a4299624-5944-7a42-2722-58e04eda74a0.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fa4299624-5944-7a42-2722-58e04eda74a0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=dfb82a3129445b8517097a744a9837f1 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e入力が終了したら作成ボタンを押下し、ひとまず設定完了です。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"qnamakerを作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#qnamaker%E3%82%92%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eQnAMakerを作成\u003c/h2\u003e\n\n\u003cp\u003e\u003ca href=\"https://qnamaker.ai/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eここ\u003c/a\u003eにアクセスしてQnAを作成します。\u003cbr\u003e\n所持しているマイクロソフトアカウントを使ってログインします。\u003c/p\u003e\n\n\u003cp\u003eページ上のタブに'Create new Service'とあると思うので、クリック。\u003c/p\u003e\n\n\u003cp\u003e　　\u003ca href=\"https://camo.qiitausercontent.com/2e116cfd9684fcef2e141ac97d3ffa73691cd92a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f35376635353132342d656334342d643732392d333662622d3139616534373862316635632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F57f55124-ec44-d729-36bb-19ae478b1f5c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=819b6e00feefcbf61ca9ae2b063c01b7\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/201826/57f55124-ec44-d729-36bb-19ae478b1f5c.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F57f55124-ec44-d729-36bb-19ae478b1f5c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=428b638073f597cd605ca0d2e0347e86 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e次のような画面がでると思うので、必要情報を入力していきます。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/6e9c7910814b28140aee1c25e13da3324a69fb42/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f38663536633033662d333736642d643362392d656331622d6162316131326665633564302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F8f56c03f-376d-d3b9-ec1b-ab1a12fec5d0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=27958f0d969d6a60e84fc6289d63ca07\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/201826/8f56c03f-376d-d3b9-ec1b-ab1a12fec5d0.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F8f56c03f-376d-d3b9-ec1b-ab1a12fec5d0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e4e8e350c9c7a690eb31ea5be02e2c2b 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eService name : QnAMakerの名前\u003c/li\u003e\n\u003cli\u003eURL(s) : FAQが掲載されているサイトのUrlを貼ると自動的に判断してFAQを作ってくれます。\u003c/li\u003e\n\u003cli\u003eFILES : Urlがない時はこちらを選択。tsv,csv形式で質問と答えを作成してアップロードすると、自動的にFAQを作ってくれます。pdfとかでもいけるみたいですが、私は上手くいきませんでした。\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eCreateをクリックすれば終了です。\u003cbr\u003e\nMy servicesから作成したServiceを見てみます。\u003cbr\u003e\nそこから鉛筆マークの編集をクリックすると、QAの編集ページに飛びます。\u003c/p\u003e\n\n\u003cp\u003e　　\u003ca href=\"https://camo.qiitausercontent.com/3988c7bcabd293f9ef35af67cc66c69492151fa3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f36356532383966312d323538392d333137342d363561612d6631336130336265663533362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F65e289f1-2589-3174-65aa-f13a03bef536.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=40ea025e74e45ef10511efab6eaf17fa\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/201826/65e289f1-2589-3174-65aa-f13a03bef536.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F65e289f1-2589-3174-65aa-f13a03bef536.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e277d982388931313dff48b8a6424b04 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e今回わたしは気象庁のFAQページのUrlを拝借しました。\u003cbr\u003e\nUrlを入力すると、自動的にこちらにFAQが入るため、入力の手間が省けて楽です。\u003cbr\u003e\nただ精度はまだまだのようで、編集する必要はあります。\u003c/p\u003e\n\n\u003cp\u003e終了したら、上部右上の'Save and retrain'をクリックします。\u003c/p\u003e\n\n\u003cp\u003eすべての編集が終了したら、Publishをクリックします。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/ec752b5afd9684b0910a97cd7280dd96e223afc3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f34316163393562332d313331622d333832642d656365332d3661646437333361653030652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F41ac95b3-131b-382d-ece3-6add733ae00e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=fac2f6e87a198c1eae5f707a0706dc4d\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/201826/41ac95b3-131b-382d-ece3-6add733ae00e.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F41ac95b3-131b-382d-ece3-6add733ae00e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=04bd1ed37833962dffafe1f69025d232 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e　↓\u003cbr\u003e\n　\u003ca href=\"https://camo.qiitausercontent.com/dd4556ef4274959e41d85dde6e0c1dc9bf03281f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f62653636663565302d323539322d653030622d336666362d3338633264663263363762322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fbe66f5e0-2592-e00b-3ff6-38c2df2c67b2.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=3681abfc74a47be342d89f1038daf28a\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/201826/be66f5e0-2592-e00b-3ff6-38c2df2c67b2.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fbe66f5e0-2592-e00b-3ff6-38c2df2c67b2.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=209f87d8ec54de16beb02bd928779b54 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e上の画像に記載したQnAKnowledgebaseIdとQnASubscriptionKeyはAzureの設定で使うのでコピーしておきます。\u003c/p\u003e\n\n\u003cp\u003eちなみにQnAMakerはトレーニングをすることで、回答に学習機能を持たせることが出来ます。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/d3295b57a394c1ef61550669a35f6209ef703551/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f65616330393436372d356230372d386232392d386166312d3362323035376334393439322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Feac09467-5b07-8b29-8af1-3b2057c49492.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ad7bd34d214af4fd74f6924bbd791162\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/201826/eac09467-5b07-8b29-8af1-3b2057c49492.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Feac09467-5b07-8b29-8af1-3b2057c49492.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=10c02fe13861ad03e4d83c4aea144988 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e回答部分には、質問の内容から考えられる他の回答を3つほど候補としてあげてくれます。\u003cbr\u003e\n期待される回答が得られなかった場合、候補から回答を選択すると、\u003cbr\u003e\n次からはその回答で返答してくれます。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"公開させるまでの設定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%85%AC%E9%96%8B%E3%81%95%E3%81%9B%E3%82%8B%E3%81%BE%E3%81%A7%E3%81%AE%E8%A8%AD%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e公開させるまでの設定\u003c/h2\u003e\n\n\u003cp\u003e再び、設定したAzureのWeb App Botへ戻ります。\u003cbr\u003e\n'アプリケーション設定'をクリックすると、下図のような設定ページに移行します。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/0ce59f9a9356683f48d7aabe9bbd492ea457616a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f61353961333936652d383433312d303230382d316364662d6334346462616431343263322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fa59a396e-8431-0208-1cdf-c44dbad142c2.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d1c33fc33980a552b6ce845ee0522e72\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/201826/a59a396e-8431-0208-1cdf-c44dbad142c2.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fa59a396e-8431-0208-1cdf-c44dbad142c2.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=8a0d1e2053d6b5e7f20190a771288ff0 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eQnAMakerでコピーしたQnAKnowledgebaseIdとQnASubscriptionKeyを入力します。\u003cbr\u003e\nこれで保存をすれば準備完了です。\u003c/p\u003e\n\n\u003cp\u003e試しにテストをしてみます。\u003cbr\u003e\nテストはTest in Web Chatからできます。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/22e06007d0baaec3b206db51939a2f563cf604e9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f37326638626130632d626134632d313562312d636664632d3433613030303434393061342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F72f8ba0c-ba4c-15b1-cfdc-43a0004490a4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ecc7eb8b8b5cf395fdceb6015481f692\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/201826/72f8ba0c-ba4c-15b1-cfdc-43a0004490a4.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F72f8ba0c-ba4c-15b1-cfdc-43a0004490a4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=fb56ad848b246fc6caf5ed1b5e9ffa5d 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e適切な回答がみつからないとNo good match inFAQと表示されます。\u003cbr\u003e\nみつからないときの回答や質問にどの程度の整合性があれば回答を表示させるか…\u003cbr\u003e\nといった設定はコードをいじればできます。\u003cbr\u003e\nQnAMakerのコードの中身については、次のBotFrameWorkで少し説明します。\u003c/p\u003e\n\n\u003cp\u003eこのBotを自身のページに埋め込みたい場合は、チャンネルをクリックします。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/b6441fd56d733e93f5c7e0c20d97b7c47a5a605d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f61366137393939342d353436382d643364652d653565372d6237633832323039663966372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fa6a79994-5468-d3de-e5e7-b7c82209f9f7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=90a8f83aadc574a39c82db6c3d7d645a\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/201826/a6a79994-5468-d3de-e5e7-b7c82209f9f7.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fa6a79994-5468-d3de-e5e7-b7c82209f9f7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=5846832205b17a57993d838bdeee3a2a 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e編集ボタン/ボットの埋め込みコードを取得をクリックすると、作成したページの埋め込みコードが見れます。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/0fe8b2a6632867619c31e6360b7e570df056ec58/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f35623537343435382d663962352d633836372d346565332d6235663637666131633737642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F5b574458-f9b5-c867-4ee3-b5f67fa1c77d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=0d222eac4885be8abb997bfb62c787e7\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/201826/5b574458-f9b5-c867-4ee3-b5f67fa1c77d.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F5b574458-f9b5-c867-4ee3-b5f67fa1c77d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=f1b242875b33dd36a6da3de59fb11c37 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e'シークレットを入力'とかかれた部分に、上のシークレットキーを表示させて貼り付けます。\u003cbr\u003e\nこれをHTMLで貼るだけ。\u003c/p\u003e\n\n\u003cp\u003e　\u003ca href=\"https://camo.qiitausercontent.com/1b9447c6779e0980f174fa4cb77b810d47e7c765/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f33323531633432642d636163372d393236382d663433382d3563383932363738646463362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F3251c42d-cac7-9268-f438-5c892678ddc6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=9ac27ddeb54687077c7709a75f606599\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/201826/3251c42d-cac7-9268-f438-5c892678ddc6.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F3251c42d-cac7-9268-f438-5c892678ddc6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=eaf3ba8a391dcaab242aa43a40a86289 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"azureのbot-channels-registrationとbotframeworkとqnamakerを使って作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#azure%E3%81%AEbot-channels-registration%E3%81%A8botframework%E3%81%A8qnamaker%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAzureのBot Channels RegistrationとBotFrameWorkとQnAMakerを使って作成\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"botframeworkを使ってローカルでbotを作成してみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#botframework%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E3%81%A7bot%E3%82%92%E4%BD%9C%E6%88%90%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eBotFrameWorkを使ってローカルでBotを作成してみる\u003c/h2\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"botframeworkを使うために今回インストールしたものたち\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#botframework%E3%82%92%E4%BD%BF%E3%81%86%E3%81%9F%E3%82%81%E3%81%AB%E4%BB%8A%E5%9B%9E%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%97%E3%81%9F%E3%82%82%E3%81%AE%E3%81%9F%E3%81%A1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eBotFrameWorkを使うために今回インストールしたものたち\u003c/h4\u003e\n\n\u003cul\u003e\n\u003cli\u003eBot Framework Template\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e→\u003ca href=\"http://aka.ms/bf-bc-vstemplate\" rel=\"nofollow noopener\" target=\"_blank\"\u003eBot Frameworkダウンロードサイト\u003c/a\u003eからテンプレートをダウンロード。\u003cbr\u003e\nダウンロードしたら下記の場所にzipファイルごと貼り付けます。\u003c/p\u003e\n\n\u003cp\u003eC:\\Users[[ユーザ名]\\Documents\\Visual Studio 2017\\Templates\\ProjectTemplates\\Visual C#\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eBot Framework Emulator\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e→\u003ca href=\"https://emulator.botframework.com/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eここ\u003c/a\u003eからダウンロード\u003c/p\u003e\n\n\u003cp\u003eさっそくプロジェクトを作ってみます。\u003cbr\u003e\n新規プロジェクトを選択して、C#のBot Applicationを選択します。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/76f040790f867d7945d6a106bec1f20ba412b173/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f66383236656131322d333734632d373133642d636464302d3034303437383136363631312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Ff826ea12-374c-713d-cdd0-040478166611.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=416b55ff98ebb3569de71d5ca9d9cced\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/201826/f826ea12-374c-713d-cdd0-040478166611.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Ff826ea12-374c-713d-cdd0-040478166611.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=83ef33045595df8ab6d30e63d94d7013 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eこのままF5でプログラムを実行し、Bot Framework Emulatorを起動させてもオウム返しのようなBotができています。\u003c/p\u003e\n\n\u003cp\u003eNuGetパッケージを見て更新が必要なものとかはインストールしといてください。\u003c/p\u003e\n\n\u003cp\u003e上のQnAMakerで作成したものと連携させてみます。\u003c/p\u003e\n\n\u003cp\u003eNuGetパッケージの管理を選択して、Microsoft.Bot.Builder.CognitiveServicesをインストールします。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/552ec758490a0f6856a06497555d41ae4832e034/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f35626361353930372d353666642d333063322d363138392d3165366137356138366163352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F5bca5907-56fd-30c2-6189-1e6a75a86ac5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=480e70cd3c75f132a0847d6642ebe662\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/201826/5bca5907-56fd-30c2-6189-1e6a75a86ac5.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F5bca5907-56fd-30c2-6189-1e6a75a86ac5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9ee275d6dbddf99c31f42ae510fa1a88 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eまずRootDialogをコピーします。\u003c/p\u003e\n\n\u003cp\u003eコピーしたら、コードの中身はこんな感じに変更します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eWeatherQnADialog.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Threading.Tasks\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Linq\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eSystem.Text\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eMicrosoft.Bot.Builder.Dialogs\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eMicrosoft.Bot.Connector\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eusing\u003c/span\u003e \u003cspan class=\"nn\"\u003eMicrosoft.Bot.Builder.CognitiveServices.QnAMaker\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003enamespace\u003c/span\u003e \u003cspan class=\"nn\"\u003eWeatherQnABot.Dialogs\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eSerializable\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003eQnAMaker\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"自分のQnASubscriptionKey\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"自分のQnAKnowledgebaseId\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"別の言い方で試してください。\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e0.5\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"m\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eWeatherQnADialog\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eQnAMakerDialog\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e[QnAMaker]の中の引数ですが、3つ目に該当する回答が見つからなかったときの回答、\u003cbr\u003e\n4つ目に質問の一致率、つまりQnAMakerに書いた質問とBotに投げた質問が同程度一致しているか、\u003cbr\u003e\n(0.5は50%という意味になります。)\u003cbr\u003e\n5つ目に他に考えられる回答をいくつまで候補として考えるか、\u003cbr\u003e\nここでは'3'としているため、候補を3つ抽出してくれます。\u003c/p\u003e\n\n\u003cp\u003e変更したら、Controllerの中のMessagesControllerを修正。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eMessagesController.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"n\"\u003eTask\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eHttpResponseMessage\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nf\"\u003ePost\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\u003cspan class=\"n\"\u003eFromBody\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"n\"\u003eActivity\u003c/span\u003e \u003cspan class=\"n\"\u003eactivity\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eactivity\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eType\u003c/span\u003e \u003cspan class=\"p\"\u003e==\u003c/span\u003e \u003cspan class=\"n\"\u003eActivityTypes\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eMessage\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003cspan class=\"err\"\u003e　　　　　　　　　\u003c/span\u003e\u003cspan class=\"c1\"\u003e//RootDialogとなっている部分を上で作成したクラス名に変更\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"n\"\u003eConversation\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSendAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eactivity\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"n\"\u003eDialogs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eRootDialog\u003c/span\u003e\u003cspan class=\"p\"\u003e());\u003c/span\u003e \n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e一度Bot Framework Emulatorを使って実行してみます。\u003c/p\u003e\n\n\u003cp\u003e　\u003ca href=\"https://camo.qiitausercontent.com/a9f893c10ee7a49109d6a9c593f82ab4c3ede6e8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f62643239623339392d303639642d383561662d303036362d6166376638626162323061622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fbd29b399-069d-85af-0066-af7f8bab20ab.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d4cf32128e2763e7c3db5f3ab5385198\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/201826/bd29b399-069d-85af-0066-af7f8bab20ab.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fbd29b399-069d-85af-0066-af7f8bab20ab.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=83e5d8922ffd7b574945641b8473aadf 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e　\u003ca href=\"https://camo.qiitausercontent.com/ddead15dba3c64a1ef42afec4d59decfe2658c28/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f66346332646663362d383939302d356464662d623833302d6366306132663465396236652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Ff4c2dfc6-8990-5ddf-b830-cf0a2f4e9b6e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=09e504bd580322ad9171cba5854aa883\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/201826/f4c2dfc6-8990-5ddf-b830-cf0a2f4e9b6e.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Ff4c2dfc6-8990-5ddf-b830-cf0a2f4e9b6e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=85b19e18de61f0e914caaaea8bbdd679 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"機能の追加\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%A9%9F%E8%83%BD%E3%81%AE%E8%BF%BD%E5%8A%A0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e機能の追加\u003c/h4\u003e\n\n\u003cp\u003e今回複数回答機能を持たせたかったので、以下のコードを追加しました。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"c#\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eWeatherQnADialog.cs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eWeatherQnADialog\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eQnAMakerDialog\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e//複数の解答を返したい場合\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprotected\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"n\"\u003eTask\u003c/span\u003e \u003cspan class=\"nf\"\u003eRespondFromQnAMakerResultAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eIDialogContext\u003c/span\u003e \u003cspan class=\"n\"\u003econtext\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eIMessageActivity\u003c/span\u003e \u003cspan class=\"n\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eQnAMakerResults\u003c/span\u003e \u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003ebestAnswer\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAnswers\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eFirst\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"n\"\u003econtext\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePostAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003ebestAnswer\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAnswer\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAnswers\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCount\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003esb\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eStringBuilder\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n                \u003cspan class=\"n\"\u003esb\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAppend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"以下の情報も関連しているかもしれません\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n                \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ecount\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eforeach\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003eanswer\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAnswers\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eSkip\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003ecount\u003c/span\u003e \u003cspan class=\"p\"\u003e+=\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003esb\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAppend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e$\"\\n\\n\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003ecount\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e.\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003eanswer\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAnswer\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\\n\\n\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"n\"\u003econtext\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePostAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esb\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToString\u003c/span\u003e\u003cspan class=\"p\"\u003e());\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e//スコアが低い解答しか得られない場合\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eprotected\u003c/span\u003e \u003cspan class=\"k\"\u003eoverride\u003c/span\u003e \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"n\"\u003eTask\u003c/span\u003e \u003cspan class=\"nf\"\u003eQnAFeedbackStepAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eIDialogContext\u003c/span\u003e \u003cspan class=\"n\"\u003econtext\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eQnAMakerResults\u003c/span\u003e \u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(!\u003c/span\u003e\u003cspan class=\"nf\"\u003eIsConfidentAnswer\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003esb\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nf\"\u003eStringBuilder\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n                \u003cspan class=\"n\"\u003esb\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAppend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"以下の情報が関連しているかもしれません\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n                \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ecount\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"m\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eforeach\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003eanswer\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAnswers\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003ecount\u003c/span\u003e \u003cspan class=\"p\"\u003e+=\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003esb\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eAppend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e$\"\\n\\n\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003ecount\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e.\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"n\"\u003eanswer\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAnswer\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s\"\u003e\\n\\n\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"n\"\u003econtext\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePostAsync\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esb\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eToString\u003c/span\u003e\u003cspan class=\"p\"\u003e());\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e　\u003ca href=\"https://camo.qiitausercontent.com/39caca7697dc340d1204f8f499074609cbcfeefc/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f36616137373132652d393338382d656666662d356661302d3530613733633734326536342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F6aa7712e-9388-efff-5fa0-50a73c742e64.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=6116fe8c8de351fa899decad2d5cfae3\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/201826/6aa7712e-9388-efff-5fa0-50a73c742e64.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F6aa7712e-9388-efff-5fa0-50a73c742e64.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=bc18f8042143879f3c38eace958b3354 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"発行\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%99%BA%E8%A1%8C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e発行\u003c/h2\u003e\n\n\u003cp\u003eソリューションエクスプローラーからプロジェクトを右クリックして発行を選択。\u003cbr\u003e\nMicrosoft Azure App Serviceを選択します。\u003c/p\u003e\n\n\u003cp\u003e　\u003ca href=\"https://camo.qiitausercontent.com/d45295ee46b81a1a31c3de32c1e1c6335d4f37db/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f31653432626131642d383262382d633036622d626566362d3133303835633730393733312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F1e42ba1d-82b8-c06b-bef6-13085c709731.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=f60b2ccdfdad43cd93d3f64b5de150ca\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/201826/1e42ba1d-82b8-c06b-bef6-13085c709731.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F1e42ba1d-82b8-c06b-bef6-13085c709731.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=dee55f0ccfccc4fd1ea2f6fd446e84ba 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e発行ボタンを押すと下のような設定メニューが表示されるので、入力したら作成をクリックします。\u003c/p\u003e\n\n\u003cp\u003e　\u003ca href=\"https://camo.qiitausercontent.com/36b4ee7288f19e46b44b896e54292374ad9b6c7f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f62623833366661322d646435322d633130662d396433342d3635613861326162303362372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fbb836fa2-dd52-c10f-9d34-65a8a2ab03b7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2652c120fc2ddb625738b11d632de3c9\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/201826/bb836fa2-dd52-c10f-9d34-65a8a2ab03b7.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fbb836fa2-dd52-c10f-9d34-65a8a2ab03b7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=f52fe31d29681caffadb380f640f2039 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e発行されるとこんな感じに立ち上がるかと思います。\u003c/p\u003e\n\n\u003cp\u003e　\u003ca href=\"https://camo.qiitausercontent.com/2d8fe8bbfe926db75a1aa5c3609f202743ac0f2a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f65353438666436312d303363622d343334352d636663382d6531356630326162643465352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fe548fd61-03cb-4345-cfc8-e15f02abd4e5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=f958795838a5407353a94b0d3d1b1060\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/201826/e548fd61-03cb-4345-cfc8-e15f02abd4e5.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fe548fd61-03cb-4345-cfc8-e15f02abd4e5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=5a9ee1be854433cc2d2afcae367b0ff3 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"azureのbot-channels-registrationを設定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#azure%E3%81%AEbot-channels-registration%E3%82%92%E8%A8%AD%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAzureのBot Channels Registrationを設定\u003c/h2\u003e\n\n\u003cp\u003eAzureのトップメニューに戻り、新規から\"Bot Channels Registration\"で検索し、作成します。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/740207dfc514223ab0165e86851a88bde977442c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f35383239656662662d343266342d313461362d313862632d6239393338633537663335612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F5829efbf-42f4-14a6-18bc-b9938c57f35a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=db1ea742f04b92e04288b6ffbc686233\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/201826/5829efbf-42f4-14a6-18bc-b9938c57f35a.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F5829efbf-42f4-14a6-18bc-b9938c57f35a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=80f4e46fad0e73935408b6bb9d19793d 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eここで大事なのはメッセージング エンドポイントです。\u003cbr\u003e\nこちらは先ほど発行したページに\"api/messages\"を追加したURLとなります。\u003cbr\u003e\n私の場合、発行したURLは\"https://ｗeatherqnabot.azurewebsites.net/\"なので、\u003cbr\u003e\nメッセージング エンドポイントは\"https://ｗeatherqnabot.azurewebsites.net/api/messages\"となります。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"公開させるまでの設定-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%85%AC%E9%96%8B%E3%81%95%E3%81%9B%E3%82%8B%E3%81%BE%E3%81%A7%E3%81%AE%E8%A8%AD%E5%AE%9A-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e公開させるまでの設定\u003c/h2\u003e\n\n\u003cp\u003e最後の設定です。\u003cbr\u003e\n作成したBot Channels Registrationの設定をクリックします。\u003c/p\u003e\n\n\u003cp\u003e　\u003ca href=\"https://camo.qiitausercontent.com/17a8b6e2bd69ad6da8d9b0508734483c13d9a5e3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f36373433613062302d653766612d316338622d383761312d6563323735613731323861612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F6743a0b0-e7fa-1c8b-87a1-ec275a7128aa.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=fbcf76890cee16681f698057197e72fc\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/201826/6743a0b0-e7fa-1c8b-87a1-ec275a7128aa.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F6743a0b0-e7fa-1c8b-87a1-ec275a7128aa.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c64dd95087fea94b1a82db55bf88763f 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eこの画像の表示名、Microsoft App IDは後ほど使うためメモしておきます。\u003c/p\u003e\n\n\u003cp\u003e続いてMicrosoft App ID横の(管理)ボタンをクリックします。\u003cbr\u003e\n下のような画面が出るので、\"新しいパスワードを生成\"をクリックします。\u003c/p\u003e\n\n\u003cp\u003e　\u003ca href=\"https://camo.qiitausercontent.com/1c92a00f08d61cc4f9b62d921ab69c9999824521/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f61366239626333652d643130612d323136332d636236612d6164326165333233623862342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fa6b9bc3e-d10a-2163-cb6a-ad2ae323b8b4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=020ae4369e8bdae3cdc05e5600ca3272\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/201826/a6b9bc3e-d10a-2163-cb6a-ad2ae323b8b4.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fa6b9bc3e-d10a-2163-cb6a-ad2ae323b8b4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=af33e7a76d204cb2ec49c4e541d58d11 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eここで表示されるパスワードをメモしておきます。\u003c/p\u003e\n\n\u003cp\u003e　\u003ca href=\"https://camo.qiitausercontent.com/e5cc00bad7cf8d89ec340a8e1338158e74821692/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f34656530343539652d346630662d303733302d666531342d3331653432333135653266662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F4ee0459e-4f0f-0730-fe14-31e42315e2ff.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c457894eae98bd1aad46ba662102964e\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/201826/4ee0459e-4f0f-0730-fe14-31e42315e2ff.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2F4ee0459e-4f0f-0730-fe14-31e42315e2ff.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=fbe777aa03fa3ca6027c07db2c33a0e1 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eコードに戻って、Web.configの中身を先ほど取得したものたちに修正します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"html\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eWeb.config\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"with-code\"\u003e\u003ccode\u003e  \u003cspan class=\"nt\"\u003e\u0026lt;appSettings\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"c\"\u003e\u0026lt;!-- update these with your BotId, Microsoft App Id and your Microsoft App Password--\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;add\u003c/span\u003e \u003cspan class=\"na\"\u003ekey=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"BotId\"\u003c/span\u003e \u003cspan class=\"na\"\u003evalue=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"表示名\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;add\u003c/span\u003e \u003cspan class=\"na\"\u003ekey=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"MicrosoftAppId\"\u003c/span\u003e \u003cspan class=\"na\"\u003evalue=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Microsoft AppID\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;add\u003c/span\u003e \u003cspan class=\"na\"\u003ekey=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"MicrosoftAppPassword\"\u003c/span\u003e \u003cspan class=\"na\"\u003evalue=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"上で発行したパスワード\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;/appSettings\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eここで一度ローカルで動きを確認してみます。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/74060773ca395022910ada1fbb92e62b1b7d7b56/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f66636531303130362d326563342d636330342d616563312d3737373838333163636231372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Ffce10106-2ec4-cc04-aec1-7778831ccb17.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=f02eb9bb5ac0f075a1ea4048c57d2919\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/201826/fce10106-2ec4-cc04-aec1-7778831ccb17.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Ffce10106-2ec4-cc04-aec1-7778831ccb17.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e1e6a74e53e6b2bb7ef6e1b4801853ca 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eMicrosoft App ID と Microsof　App Passwordを自身が取得したものに変更するのを忘れずに。\u003c/p\u003e\n\n\u003cp\u003e確認したらもう一度発行します。\u003cbr\u003e\nあとは、上記に記載したように、\"チャンネル\"から埋め込みコードを取得すれば自分のサイトに作成したBotを埋め込むことが出来ます。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://camo.qiitausercontent.com/7732a3a72817f6addd211870285d8cfb57ffd102/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f3230313832362f66626237316164322d303863362d383930312d323561352d6339333863313035656437382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Ffbb71ad2-08c6-8901-25a5-c938c105ed78.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=aab8c2b7f7fc59804a08d7414565bd9d\" alt=\"image.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/201826/fbb71ad2-08c6-8901-25a5-c938c105ed78.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Ffbb71ad2-08c6-8901-25a5-c938c105ed78.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=fc476c917d5d027ca173faafc2fc835e 1x\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eもし発行してもうまくいかなかったら、もう一度メッセージングエンド ポイントを入力し直すといいかもしれません。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"さいごに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%95%E3%81%84%E3%81%94%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eさいごに\u003c/h1\u003e\n\n\u003cp\u003eAzureのWeb App Botを使った公開方法は、コーディングもなく、簡単でした。\u003cbr\u003e\nこちらは本当に簡単なBotを作りたい時にお勧めだと思います。\u003cbr\u003e\nBot Channels Registrationを使った公開方法は、やり方が記載されているサイトが少なく、古い記事ばかりで苦労しました。\u003cbr\u003e\nでもコードをいじる分、自由にカスタマイズが効くので作っていて楽しいと思います。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"参考\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考\u003c/h1\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://ledge.ai/qnamaker/\" rel=\"nofollow noopener\" target=\"_blank\"\u003e作業は『URLを入れる』だけ。MSの全自動FAQ bot会話生成サービス “QnAMaker” 試してみた\n\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/satonaoki/help-desk-bot-lab-ja\" rel=\"nofollow noopener\" target=\"_blank\"\u003eヘルプ デスク ボットのハンズオン ラボ\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://thinkit.co.jp/article/12883\" rel=\"nofollow noopener\" target=\"_blank\"\u003e作ったChatbotを公開してみよう\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n","createdAt":"2018-02-09T08:01:00Z","elapsedYearsFromLastModifiedAt":3,"encryptedId":"oIO8hGJLcqdswA46BoiQbVrocWEx6DAu--H6eC5HJ5m/nxzA5c--n6auT/cmX/K0AAeFKT/sPg==","isBanned":false,"isDeprecated":true,"isDestroyableByViewer":false,"isEditRequestReadableByViewer":true,"isEditRequestSendableByViewer":true,"isLikableByViewer":true,"isLikedByViewer":false,"isPublic":true,"isSlide":false,"isStockableByViewer":true,"isStockedByViewer":false,"isSubscribableByViewer":false,"isSubscribedByViewer":false,"isUpdatableByViewer":false,"isUpdated":false,"lastModifiedAt":"2018-02-09T08:01:00Z","likesCount":14,"linkUrl":"https://qiita.com/usomaru/items/40731858a561cad4b7b9","organization":null,"originalId":608113,"stockedCount":18,"title":"Azure Bot Serviceを使ってFAQBotを公開までの備忘録","toc":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003eはじめに\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%92%B0%E5%A2%83\"\u003e環境\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#azure%E3%81%AEweb-app-bot%E3%81%A8qnamaker%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E4%BD%9C%E6%88%90\"\u003eAzureのWeb App BotとQnAMakerを使って作成\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#azure%E3%81%AEweb-app-bot%E3%82%92%E8%A8%AD%E5%AE%9A\"\u003eAzureのWeb App Botを設定\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#qnamaker%E3%82%92%E4%BD%9C%E6%88%90\"\u003eQnAMakerを作成\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%85%AC%E9%96%8B%E3%81%95%E3%81%9B%E3%82%8B%E3%81%BE%E3%81%A7%E3%81%AE%E8%A8%AD%E5%AE%9A\"\u003e公開させるまでの設定\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#azure%E3%81%AEbot-channels-registration%E3%81%A8botframework%E3%81%A8qnamaker%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E4%BD%9C%E6%88%90\"\u003eAzureのBot Channels RegistrationとBotFrameWorkとQnAMakerを使って作成\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#botframework%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E3%81%A7bot%E3%82%92%E4%BD%9C%E6%88%90%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"\u003eBotFrameWorkを使ってローカルでBotを作成してみる\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#botframework%E3%82%92%E4%BD%BF%E3%81%86%E3%81%9F%E3%82%81%E3%81%AB%E4%BB%8A%E5%9B%9E%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%97%E3%81%9F%E3%82%82%E3%81%AE%E3%81%9F%E3%81%A1\"\u003eBotFrameWorkを使うために今回インストールしたものたち\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%A9%9F%E8%83%BD%E3%81%AE%E8%BF%BD%E5%8A%A0\"\u003e機能の追加\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%99%BA%E8%A1%8C\"\u003e発行\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#azure%E3%81%AEbot-channels-registration%E3%82%92%E8%A8%AD%E5%AE%9A\"\u003eAzureのBot Channels Registrationを設定\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%85%AC%E9%96%8B%E3%81%95%E3%81%9B%E3%82%8B%E3%81%BE%E3%81%A7%E3%81%AE%E8%A8%AD%E5%AE%9A-1\"\u003e公開させるまでの設定\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cli\u003e\n\u003ca href=\"#%E3%81%95%E3%81%84%E3%81%94%E3%81%AB\"\u003eさいごに\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E5%8F%82%E8%80%83\"\u003e参考\u003c/a\u003e\n\u003c/li\u003e\n\n","totalPv":10099,"uuid":"40731858a561cad4b7b9","banReason":null,"adventCalendarItem":null,"author":{"encryptedId":"RGpeKm8pPgvNxRlRMjUKSjpj2gmQ--0+2ynKMAeLTySGQl--6hSUdch0tzhjhUtXjilVBg==","originalId":201826,"description":"開発歴5年目。ほんの少し成長を感じるこの頃。主にAngular、.Netで開発。趣味でpythonを少々。Azureも使ったり。","facebookUrl":null,"githubUrl":"https://github.com/usomaru","isBlockingViewer":false,"isFollowableByViewer":true,"isFollowedByViewer":false,"isTweetWebNotificationReceivable":true,"linkedinUrl":null,"name":"","profileImageUrl":"https://qiita-image-store.s3.amazonaws.com/0/201826/profile-images/1505265858","profileImageUrlW48":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fprofile-images%2F1505265858?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=40a622f9b8a1c75b5ef3c848f04b3d58","profileImageUrlW75":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F201826%2Fprofile-images%2F1505265858?ixlib=rb-4.0.0\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=75\u0026s=5c137ccffd7251180e0fce53b5740e96","urlName":"usomaru","websiteUrl":"","twitterUrl":"https://twitter.com/usomaru26","twitterUrlName":"usomaru26","revealedOrganizations":{"edges":[]}},"tags":[{"name":"C#","urlName":"csharp"},{"name":"Azure","urlName":"azure"},{"name":"BotFramework","urlName":"botframework"},{"name":"QnAMaker","urlName":"qnamaker"}],"followingLikers":{"edges":[]},"comments":{"totalCount":0}},"comments":[],"client":null,"ads_event_emitter":null}}</script>
