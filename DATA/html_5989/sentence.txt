More than 3 years have passed since last update.軽い気持ちでXamarinに手を出したら結構詰まったので，忘備録を兼ねて情報共有する．基本的なことすぎるが，意外に時間のかかったところであった．
筆者の環境は
- Windows10
- VisualStudio2017 enterprise
- MonoAndroid,Version=v8.0PCL内にあるソースコードから各OSに依存した機能を使いたい場合が多く存在すると思われる．筆者の場合，とりあえず端末が接続しているWifiのSSIDを取得したかった．またAndroidでWifiに関係した情報を取得する際は，Android.Net.Wifi.WifiManagerクラスを使って以下のコードを書けばよい．このコードでとりあえずはSSIDなどが取得できる（少し整形する必要もある）が，このコードをPCL内に書いても動かない．例えば，hogehoge.xaml.csに上のコードを書いても動かない．PCLのプロジェクト内にインターフェースを作ることによって解決する．
PCL内に適当なクラスを追加（今回はWificonnection.cs）し，以下のようにインターフェースを定義する．インターフェースを定義したら，それを実装するためにAndroidのプロジェクトに実装用のクラスを作成する．普通にインターフェースを実装しても使えるわけではなく，これがないと実際にこの機能を利用をする際に例外を吐くようになる．最後に，実際にWifiのSSIDを取得するGetSSID()をPCL内で実行する．DependencyServiceを利用してインターフェースを指定し，実装されたメソッドを実行できるようになる．今回はAndroidでの例だったが，iOSでも同じような手順でできるようである．残念ながら筆者はMacの環境を所持していないのでまだ試せていない．
こんな初歩的なところで詰まってしまう筆者は「Xamarinの世界は深い…」と感じた


